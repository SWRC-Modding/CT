/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2011 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Data declarations

// extern void *GMalloc; weak
// extern void *GError; weak
// extern void *FMatrix::Identity; weak
// extern unsigned __int64 GMakeCacheIDIndex; weak
// extern int GIsEditor; weak
// extern void *FPlane::FPlane; weak
// extern void *GLog; weak
// extern void *FClock::CurStat; weak
// extern float NEAR_CLIPPING_PLANE; weak
// extern void *GConfig; weak
// extern void *GMachineVideo; weak
// extern float FAR_CLIPPING_PLANE; weak
// extern void *UTexture::__Client; weak
// extern void *GEngineStats; weak
// extern float GEngineTime; weak
// extern void *GGlobalTempObjects; weak
// extern void *GCubemapManager; weak
// extern void *GEngine; weak
extern char aD3d_ok[7]; // weak
extern char a08x[5]; // weak
extern char aD3derr_drive_0[25]; // weak
extern char aD3derr_inval_0[21]; // weak
extern char aD3derr_invalid[19]; // weak
extern char aD3derr_notavai[20]; // weak
extern char aD3derr_devicen[22]; // weak
extern char aD3derr_devicel[18]; // weak
extern char aD3derr_moredat[16]; // weak
extern char aD3derr_notfoun[16]; // weak
extern char aD3derr_driveri[27]; // weak
extern char aD3derr_confl_1[33]; // weak
extern char aD3derr_unsup_4[32]; // weak
extern char aD3derr_confl_0[30]; // weak
extern char aD3derr_unsup_3[30]; // weak
extern char aD3derr_conflic[32]; // weak
extern char aD3derr_toomany[25]; // weak
extern char aD3derr_unsup_2[27]; // weak
extern char aD3derr_unsup_1[27]; // weak
extern char aD3derr_unsup_0[33]; // weak
extern char aD3derr_unsuppo[33]; // weak
extern char aD3derr_outofvi[24]; // weak
extern char aD3derr_wrongte[26]; // weak
extern char aD3ddrv[7]; // weak
extern char aS_0[3]; // weak
extern int (__stdcall *UD3DRenderDevice::_vftable_)(int, float); // weak
extern int (__thiscall *UD3DRenderDevice::_vftable_)(void *, char); // weak
extern char off_1006F8D8; // weak
extern int dword_1006F9A0; // weak
extern int dword_1006FA10; // weak
extern char aUnknownTexco_0[26]; // weak
extern int dword_1006FA5C; // weak
extern char aUnknownTexcoor[25]; // weak
extern char aCombinerMask_1[89]; // weak
extern char aCombinerMask_0[94]; // weak
extern char aCombinerMaskMu[99]; // weak
extern char aNoStagesLeft_6[31]; // weak
extern char aNoStagesLeft_5[36]; // weak
extern char aNoStagesLeft_4[36]; // weak
extern char aNoStagesLeft_3[64]; // weak
extern char aNoStagesLeft_2[64]; // weak
extern char aEitherMaterial[64]; // weak
extern char aCombinerMustSp[32]; // weak
extern char aNoStagesLeft_1[34]; // weak
extern char aNoStagesLeft_0[34]; // weak
extern char aOnlyOneConstan[52]; // weak
extern char aNoStagesLeftFo[32]; // weak
extern int (__stdcall *off_1006FE80)(char); // weak
extern int dword_1006FEFC; // weak
extern __int64 qword_1006FF04; // weak
extern int (__stdcall *off_1006FF10)(char); // weak
extern int dword_1006FF58; // weak
extern char aInvalidFramebu[33]; // weak
extern int dword_1006FFB0; // weak
extern char aNoStagesLef_12[43]; // weak
extern char aBaseOpacityI_0[42]; // weak
extern char aNoStagesLef_11[36]; // weak
extern char aNoStagesLef_10[31]; // weak
extern char aNoStagesLeft_9[32]; // weak
extern char aBaseOpacityIsn[26]; // weak
extern char aNoStagesLeft_8[33]; // weak
extern char aEitherProjecte[58]; // weak
extern char aNoStagesLeft_7[37]; // weak
extern char aFailedToSetHar[33]; // weak
extern char aNoPixelShaderS[33]; // weak
extern char aNoVertexShader[34]; // weak
extern int dword_100701D0; // weak
extern char aOpacityMustBeA[60]; // weak
extern char aCannotHandleCo[72]; // weak
extern char aNoStagesLef_17[34]; // weak
extern char aNoStagesLef_16[36]; // weak
extern char aNoStagesLef_15[34]; // weak
extern char aNoStagesLef_14[28]; // weak
extern char aNoStagesLef_13[41]; // weak
extern char aSpecularitymas[40]; // weak
extern char aNoRoomForSpecu[70]; // weak
extern char aTodoConstantSp[55]; // weak
extern char aSelfillimunati[45]; // weak
extern char aNoRoomForSelfi[83]; // weak
extern char aNoStagesLef_18[44]; // weak
extern int dword_100704B8; // weak
extern char aTooManyLayersA[24]; // weak
extern char aTerrainLayersM[53]; // weak
extern char aStatecachingdi[21]; // weak
extern char aTesselationfac[18]; // weak
extern char aDefaulttexmipb[18]; // weak
extern int (__stdcall *off_10070598)(char); // weak
extern char aDetailtexmipbi[17]; // weak
extern char aLevelofanisotr[18]; // weak
extern char aVideoresetatte[19]; // weak
extern char aDesiredrefresh[19]; // weak
extern char aMaxpixelshader[22]; // weak
extern int (__stdcall *off_100706D8)(char); // weak
extern char aAdapternumber[14]; // weak
extern char aOverridedeskto[27]; // weak
extern char aAvoidhitches[13]; // weak
extern char aDecompresstext[19]; // weak
extern char aCheckforoverfl[17]; // weak
extern char aUsenpatches[12]; // weak
extern char aUsexboxfsaa[12]; // weak
extern char aReducemouselag[15]; // weak
extern char aUsecubemaps[12]; // weak
extern char aUsetriplebuffe[19]; // weak
extern char aUsevsync[9]; // weak
extern char aUsetrilinear[13]; // weak
extern char aUseprecaching[14]; // weak
extern char aUsehardwarevs[14]; // weak
extern int (__stdcall *off_10070898)(char); // weak
extern char aOptions[8]; // weak
extern char aUsehardwaretl[14]; // weak
extern char aD[3]; // weak
extern char aErrorSetting_0[119]; // weak
extern char aErrorSettingDi[128]; // weak
extern char aSS[8]; // weak
extern char aNogamma[8]; // weak
extern char aReadpixelsUnkn[40]; // weak
extern char aLockrectFailed[20]; // weak
extern char aGetdescFailedS[19]; // weak
extern char aGetbackbufferF[25]; // weak
extern char aGetdevicecapsF[40]; // weak
extern char aStreamsourcech[20]; // weak
extern char aIndexbufferbyt[17]; // weak
extern char aVertexstreamby[18]; // weak
extern char aNumindexbuffer[16]; // weak
extern char aNumvertexstrea[17]; // weak
extern char aDynibbytes[11]; // weak
extern char aDynvbbytes[11]; // weak
extern char aDynvbdiscards[14]; // weak
extern char aDynvblock[10]; // weak
extern char aClear[6]; // weak
extern char aLightset[9]; // weak
extern char aLightchanges[13]; // weak
extern char aTransformchang[17]; // weak
extern char aTexturechanges[15]; // weak
extern char aStatechanges[13]; // weak
extern char aPresent[8]; // weak
extern char aUnlock[7]; // weak
extern char aLock[5]; // weak
extern char aDrawprimitive[14]; // weak
extern char aSetdynib[9]; // weak
extern char aSetib[6]; // weak
extern char aSetdynstream[13]; // weak
extern char aSetvertexstrea[16]; // weak
extern char aSetmaterialble[20]; // weak
extern char aSetmaterial[12]; // weak
extern char aSetrendertarge[16]; // weak
extern char aPopstate[9]; // weak
extern char aPushstate[10]; // weak
extern char aTotalResources[16]; // weak
extern char aTexturebytes[13]; // weak
extern char aNumtextures[12]; // weak
extern char aNumsvpvertices[15]; // weak
extern char aNumprimitives[14]; // weak
extern char aD3d[4]; // weak
extern char aRender[7]; // weak
extern char aPs_1_1DefC0100[637]; // weak
extern char aPs_1_4TexldR_0[297]; // weak
extern char aPs_1_4TexldR0T[356]; // weak
extern char aD3dDriverGetre[40]; // weak
extern char aCachestates[12]; // weak
extern char aU[3]; // weak
extern char aBitdepth[10]; // weak
extern char aHeight[8]; // weak
extern char aWidth[7]; // weak
extern char aSupportedresol[20]; // weak
extern char aNearclip[9]; // weak
extern _UNKNOWN unk_10071481; // weak
extern char aFirstcoloredmi[16]; // weak
extern char aResourceHashBi[36]; // weak
extern char aDumpresourceha[17]; // weak
extern char aBeginsceneFail[23]; // weak
extern char aFailedResettin[22]; // weak
extern char aWindrv_windows[21]; // weak
extern char aCandodistortio[23]; // weak
extern char aD3dDeviceNotUs[31]; // weak
extern char aD3dDeviceUsi_0[45]; // weak
extern char aD3dDeviceUsing[42]; // weak
extern char aD3dDetectedGen[37]; // weak
extern char aD3dDetectedS3V[28]; // weak
extern char aD3dDetectedSis[29]; // weak
extern char aD3dDetectedTri[33]; // weak
extern char aD3dDetectedMat[32]; // weak
extern char aD3dDetectedQua[26]; // weak
extern char aD3dDetectedG_0[29]; // weak
extern char aD3dDetectedGef[27]; // weak
extern char aD3dDetectedNvi[32]; // weak
extern char aD3dDetectedKyr[30]; // weak
extern char aD3dDetectedInt[31]; // weak
extern char aD3dDetectedAti[29]; // weak
extern char aD3dDetectedNod[70]; // weak
extern char aNodeviceid[11]; // weak
extern char aSI[8]; // weak
extern char aD3dDeviceDwrev[26]; // weak
extern char aD3dDeviceDwsub[26]; // weak
extern char aD3dDeviceDwdev[26]; // weak
extern char aD3dDeviceDwven[26]; // weak
extern char aD3dDeviceWbuil[22]; // weak
extern char aD3dDeviceWsubv[27]; // weak
extern char aD3dDeviceWvers[24]; // weak
extern char aD3dDeviceWprod[24]; // weak
extern char aD3dDeviceSzdes[29]; // weak
extern char aD3dDeviceSzdri[24]; // weak
extern char aUnrealEngineDi[55]; // weak
extern char aD3dDriverSup_8[51]; // weak
extern char aD3dDriverSup_7[51]; // weak
extern char aD3dDriverSup_6[40]; // weak
extern char aD3dDriverSup_5[48]; // weak
extern char aD3dDriverSup_4[39]; // weak
extern char aD3dDriverSup_3[40]; // weak
extern char aD3dDriverSup_2[31]; // weak
extern char aD3dDriverSup_1[33]; // weak
extern char aD3dDriverSup_0[39]; // weak
extern char aD3dDriverSuppo[31]; // weak
extern char aD3dDriverMipma[54]; // weak
extern char aD3dDriverUsi_2[31]; // weak
extern char aD3dDriverUsi_1[31]; // weak
extern char aD3dDriverUsi_0[29]; // weak
extern char aD3dDriverUsing[28]; // weak
extern char aD3dDriverWar_2[41]; // weak
extern char aD3dDriverWar_1[41]; // weak
extern char aD3dDriverWar_0[41]; // weak
extern char aD3dDriverWarni[46]; // weak
extern char aD3dDriverAgpSu[33]; // weak
extern char aD3dDriverPixel[37]; // weak
extern char aD3dDriverVerte[38]; // weak
extern char aD3dDriverMax_1[36]; // weak
extern char aD3dDriverMax_0[31]; // weak
extern char aD3dDriverMaxst[26]; // weak
extern char aD3dDriverMaxve[30]; // weak
extern char aD3dDriverMaxpr[33]; // weak
extern char aD3dDriverMaxac[31]; // weak
extern char aD3dDriverMaxsi[39]; // weak
extern char aD3dDriverMaxte[37]; // weak
extern char aPleaseEnableDi[217]; // weak
extern char aNoDirect3dAdap[28]; // weak
extern char aSS_0[7]; // weak
extern char aGetadapteriden[33]; // weak
extern char aDirect3dAdapte[28]; // weak
extern char aPleaseInstallD[94]; // weak
extern char aCheckdepthsten[31]; // weak
extern char aD3dDeviceDevic[63]; // weak
extern char aD3dDriverCre_0[56]; // weak
extern char aMixed[6]; // weak
extern char aD3dDriverCreat[62]; // weak
extern char aSoftware[9]; // weak
extern char aHardware[9]; // weak
extern char aCreatedeviceFa[20]; // weak
extern char aCreatingDevice[16]; // weak
extern char aUsingDepthBuff[37]; // weak
extern char aUsingBackBuffe[36]; // weak
extern char aCheckdevicefor[25]; // weak
extern char aGetadapterdisp[30]; // weak
extern char aBestMatchDispl[37]; // weak
extern char aNoAcceptableDi[34]; // weak
extern char aNoFullscreenDi[34]; // weak
extern char aEnterSetresDxD[34]; // weak
extern char aCanTChangeReso[55]; // weak
extern char aD3drenderdevic[16]; // weak
extern int dword_10072398; // weak
extern char aD3dDriverClear[30]; // weak
extern char a_[2]; // weak
extern char aTfactorUUUU[21]; // weak
extern char aSpecular[9]; // weak
extern char aDiffuse[8]; // weak
extern char aTextureU[12]; // weak
extern char aS[5]; // weak
extern char aSTfactor_aUS1T[46]; // weak
extern char aSS_aS1S_a[28]; // weak
extern char aSTextureU_aS1T[46]; // weak
extern char aS_rgbS_aS_rgb[23]; // weak
extern char aSS_3[8]; // weak
extern char aSS0_52[20]; // weak
extern char aSS0_5[14]; // weak
extern char aSS_2[8]; // weak
extern char aSS4[12]; // weak
extern char aSS2[12]; // weak
extern char aSS_1[8]; // weak
extern char aInvalidStencil[19]; // weak
extern char aInvalidCompare[25]; // weak
extern char aSetrendertar_0[28]; // weak
extern int dword_1007266C; // weak
extern int dword_10072674; // weak
extern int dword_10072678; // weak
extern int dword_10072684; // weak
extern int dword_100726C4; // weak
extern char aNoStream_[11]; // weak
extern char aD3dDriverLockr[33]; // weak
extern int dword_10072A68; // weak
extern int dword_10072A84; // weak
extern char aPopstateStackU[25]; // weak
extern char aSWasNotRendera[54]; // weak
extern char aCircularMateri[34]; // weak
extern char aDeletevertexsh[31]; // weak
extern char aDeletepixelsha[30]; // weak
extern char aBadEcomponentt[22]; // weak
extern int (__stdcall *off_10072BFC)(char); // weak
extern int (__stdcall *off_10072C10)(char); // weak
extern char aIdirect3dver_0[43]; // weak
extern char aIdirect3dverte[41]; // weak
extern char aCreatevertexbu[31]; // weak
extern char aResourcemanage[36]; // weak
extern char aAllocatingUByt[42]; // weak
extern int (__stdcall *off_10072D28)(char); // weak
extern char aCreateindexbuf[30]; // weak
extern char aAllocatingUB_0[41]; // weak
extern char aCreatepixelsha[30]; // weak
extern char aDxassemblesh_0[41]; // weak
extern char aDxassembleshad[32]; // weak
extern int (__stdcall *off_10072E80)(char); // weak
extern int (__stdcall *off_10072E98)(char); // weak
extern int (__stdcall *off_10072EB0)(char); // weak
extern int (__stdcall *off_10072EE8)(char); // weak
extern int (__stdcall *off_10072F68)(char); // weak
extern char aIdirect3dind_0[42]; // weak
extern char aIdirect3dindex[40]; // weak
extern int (__stdcall *off_10073018)(char); // weak
extern char aMacro[11]; // weak
extern char aEndMacro[14]; // weak
extern int (__stdcall *off_10073060)(char); // weak
extern char aErrorZeroUsize[42]; // weak
extern char aConvertdxtRetu[43]; // weak
extern char aGetsurfaceleve[28]; // weak
extern char aCreatecubetext[30]; // weak
extern char aCubemapsMustBe[24]; // weak
extern char aLockrectFail_0[21]; // weak
extern char aCreatetextureF[26]; // weak
extern char aUploadingTextu[43]; // weak
extern char aUploadingCubem[43]; // weak
extern char aUploadingLight[22]; // weak
extern char aCreatevertexsh[31]; // weak
extern char aShaderRequires[66]; // weak
extern char Format[]; // idb
extern char aD3dxerr_inva_0[20]; // weak
extern char aD3dxerr_cann_0[23]; // weak
extern char aD3dxerr_skinni[29]; // weak
extern char aD3dxerr_tooman[26]; // weak
extern char aD3dxerr_invali[20]; // weak
extern char aD3dxerr_loaded[27]; // weak
extern char aS_ok[5]; // weak
extern char aD3dxerr_cannot[32]; // weak
extern char aE_notimpl[10]; // weak
extern char aE_fail[7]; // weak
extern char aE_outofmemory[14]; // weak
extern char SubKey[]; // idb
extern char ValueName[]; // idb
extern char aGenuineintel[13]; // weak
extern char aDisabled3dxpsg[]; // idb
extern int (__stdcall *off_100734FC)(int, int, int); // weak
extern int (__stdcall *off_10073528)(int, int, int); // weak
extern int (__stdcall *off_10073550)(int, int, int); // weak
extern int (__stdcall *off_10073574)(int, int, int); // weak
extern char aSDAssemblyEr_2[]; // idb
extern char aSDAssemblyEr_1[47]; // weak
extern char aSDAssemblyEr_0[]; // idb
extern char aDef[4]; // weak
extern char aSDAssemblyErro[50]; // weak
extern char aSyntaxError[]; // idb
extern char aSat[4]; // weak
extern char aD8[3]; // weak
extern char aD4[3]; // weak
extern char aD2[3]; // weak
extern char aX2[3]; // weak
extern char aX4[3]; // weak
extern char aLogp[5]; // weak
extern char aExpp[5]; // weak
extern char aM3x2[5]; // weak
extern char aM3x3[5]; // weak
extern char aM3x4[5]; // weak
extern char aM4x3[5]; // weak
extern char aM4x4[5]; // weak
extern char aDst[4]; // weak
extern char aLit[4]; // weak
extern char aLog[4]; // weak
extern char aExp[4]; // weak
extern char aSge[4]; // weak
extern char aSlt[4]; // weak
extern char aMax[4]; // weak
extern char aMin[4]; // weak
extern char aRsq[4]; // weak
extern char aRcp[4]; // weak
extern char aBem[4]; // weak
extern char aTexld[6]; // weak
extern char aTexdepth[9]; // weak
extern char aTexcrd[7]; // weak
extern char aPhase[6]; // weak
extern char aTexdp3tex[10]; // weak
extern char aTexm3x3[8]; // weak
extern char aTexreg2rgb[11]; // weak
extern char aTexdp3[7]; // weak
extern char aTexm3x2depth[13]; // weak
extern char aTexm3x3vspec[13]; // weak
extern char aTexm3x3spec[12]; // weak
extern char aTexm3x3tex[11]; // weak
extern char aTexm3x3pad[11]; // weak
extern char aTexm3x2tex[11]; // weak
extern char aTexm3x2pad[11]; // weak
extern char aTexreg2gb[10]; // weak
extern char aTexreg2ar[10]; // weak
extern char aTexbeml[8]; // weak
extern char aTexbem[7]; // weak
extern char aTex[4]; // weak
extern char aTexkill[8]; // weak
extern char aTexcoord[9]; // weak
extern char aCmp[4]; // weak
extern char aX8[3]; // weak
extern char aCnd[4]; // weak
extern char aLrp[4]; // weak
extern char aFrc[4]; // weak
extern char aDp4[4]; // weak
extern char aDp3[4]; // weak
extern char aMul[4]; // weak
extern char aMad[4]; // weak
extern char aSub[4]; // weak
extern char aAdd[4]; // weak
extern char aMov[4]; // weak
extern char aNop[4]; // weak
extern char aInvalidMaskS[]; // idb
extern char aInvalidSwizzle[]; // idb
extern char aInvalidRegis_1[]; // idb
extern char aInvalidRegis_0[33]; // weak
extern char aInvalidRegiste[]; // idb
extern char aOt[3]; // weak
extern char aOd[3]; // weak
extern char aA[2]; // weak
extern char aOfog[5]; // weak
extern char aOpts[5]; // weak
extern char aOpos[5]; // weak
extern char aT[2]; // weak
extern char aC[2]; // weak
extern char aR[2]; // weak
extern char aV[2]; // weak
extern char a_da[4]; // weak
extern char a_dw[4]; // weak
extern char a_db[4]; // weak
extern char a_dz[4]; // weak
extern char a_x2[4]; // weak
extern char a_bx2[5]; // weak
extern char a_bias[6]; // weak
extern char aInvalidConstan[]; // idb
extern char aPs[3]; // weak
extern char aVs[3]; // weak
extern char aCommentExtends[]; // idb
extern char aPreprocessorDi[42]; // weak
extern char aLine[6]; // weak
extern char aInternalAssemb[]; // idb
extern char asc_10073990[]; // idb
extern char aCoissueNotSupp[]; // idb
extern char aA0_xCanOnlyApp[]; // idb
extern char aIllegalRegis_0[]; // idb
extern char aIllegalRegiste[]; // idb
extern char aComplementCann[]; // idb
extern char aComplementNotS[43]; // weak
extern char aNegateAndDivid[47]; // weak
extern char aConstantModifi[]; // idb
extern char aInvalidVersion[]; // idb
extern char aYaccStackOverf[]; // idb
extern char aStatementExpec[]; // idb
extern char aValidatevertex[]; // idb
extern char ProcName[]; // idb
extern char ModuleName[]; // idb
extern char LibFileName[]; // idb
extern char aLoaddebugrunti[]; // idb
extern char aSoftwareMicr_0[]; // idb
extern char aD3dx8ShaderAss[36]; // weak
extern char aC_0[]; // idb
extern __int64 qword_10073BC0; // weak
extern __int64 qword_10073BD0; // weak
extern __int64 qword_10073BE0; // weak
extern __int64 qword_10073BE8; // weak
extern __int64 qword_10073BF0; // weak
extern __int64 qword_10073BF8; // weak
extern __int64 qword_10073C00; // weak
extern __int64 qword_10073C08; // weak
extern __int64 qword_10073C18; // weak
extern __int64 qword_10073C20; // weak
extern __int64 qword_10073C28; // weak
extern __int64 qword_10073C30; // weak
extern __int64 qword_10073C48; // weak
extern __int64 qword_10073C50; // weak
extern __int64 qword_10073C58; // weak
extern __int64 qword_10073C60; // weak
extern __int64 qword_10073C68; // weak
extern __int64 qword_10073C70; // weak
extern __int64 qword_10073C78; // weak
extern __int64 qword_10073C80; // weak
extern __int64 qword_10073CA0; // weak
extern __int64 qword_10073CA8; // weak
extern __int64 qword_10073CB0; // weak
extern __int64 qword_10073CB8; // weak
extern __int64 qword_10073CC0; // weak
extern __int64 qword_10073CC8; // weak
extern char aAuthenticamd[13]; // weak
extern char aUnknownvendr[13]; // weak
extern _UNKNOWN unk_10073DF0; // weak
extern _UNKNOWN unk_10073E00; // weak
extern _UNKNOWN unk_10073E10; // weak
extern _UNKNOWN unk_10073E20; // weak
extern _UNKNOWN unk_10073E30; // weak
extern _UNKNOWN unk_10073EA0; // weak
extern _UNKNOWN unk_10073EC0; // weak
extern _UNKNOWN unk_10073ED0; // weak
extern _UNKNOWN unk_10073F10; // weak
extern _UNKNOWN unk_10073F38; // weak
extern int dword_10074548[]; // weak
extern int (__stdcall *off_100745B0)(int, int, int); // weak
extern int (__stdcall *off_100745CC)(int, int, int); // weak
extern int (__stdcall *off_100745EC)(int, int, int); // weak
extern __int64 qword_10074620; // weak
extern char aDebugsetmute[]; // idb
extern char aReadError[11]; // weak
extern char a1_0_5[6]; // weak
extern int (__stdcall *off_10074684)(char); // weak
extern int (__stdcall *off_10074694)(char); // weak
extern int (__stdcall *off_100746FC)(char); // weak
extern int (__stdcall *off_1007470C)(char); // weak
extern int (__stdcall *off_1007471C)(char); // weak
extern int (__stdcall *off_1007472C)(char); // weak
extern int (__stdcall *off_1007473C)(char); // weak
extern int (__stdcall *off_1007476C)(char); // weak
extern int (__stdcall *off_1007477C)(char); // weak
extern int (__stdcall *off_100747A0)(char); // weak
extern int (__stdcall *off_100747B0)(char); // weak
extern int (__stdcall *off_100747C0)(char); // weak
extern int (__stdcall *off_100747D0)(char); // weak
extern int (__stdcall *off_100747E0)(char); // weak
extern int (__stdcall *off_100747F0)(char); // weak
extern int (__stdcall *off_10074800)(char); // weak
extern int (__stdcall *off_10074810)(char); // weak
extern int (__stdcall *off_10074820)(char); // weak
extern int (__stdcall *off_10074830)(char); // weak
extern int (__stdcall *off_10074840)(char); // weak
extern int (__stdcall *off_10074850)(char); // weak
extern int (__stdcall *off_10074860)(char); // weak
extern int (__stdcall *off_10074870)(char); // weak
extern int (__stdcall *off_10074880)(char); // weak
extern int (__stdcall *off_10074890)(char); // weak
extern int (__stdcall *off_100748A0)(char); // weak
extern int (__stdcall *off_100748B0)(char); // weak
extern int (__stdcall *off_100748C0)(char); // weak
extern int (__stdcall *off_100748D0)(char); // weak
extern int (__stdcall *off_100748E0)(char); // weak
extern int (__stdcall *off_100748F0)(char); // weak
extern int (__stdcall *off_10074900)(char); // weak
extern int (__stdcall *off_10074910)(char); // weak
extern int (__stdcall *off_10074920)(char); // weak
extern int (__stdcall *off_10074930)(char); // weak
extern int (__stdcall *off_10074940)(char); // weak
extern int (__stdcall *off_10074950)(char); // weak
extern int (__stdcall *off_10074960)(char); // weak
extern int (__stdcall *off_10074970)(char); // weak
extern int (__stdcall *off_10074980)(char); // weak
extern char *off_100749A0[120]; // weak
extern char byte_10075D18[]; // weak
extern int dword_10075D34[]; // weak
extern int dword_10075D50[]; // weak
extern char aIhdr[5]; // weak
extern char aIdat[5]; // weak
extern char aIend[5]; // weak
extern char aPlte[5]; // weak
extern char aGama[5]; // weak
extern char aSrgb[5]; // weak
extern char aTrns[5]; // weak
extern char aZlibVersionErr[19]; // weak
extern char aZlibMemoryErro[18]; // weak
extern char aUnknownZlibErr[19]; // weak
extern char a1_1_3[6]; // weak
extern char aIncompatibleLi[55]; // weak
extern char aMissingPlteBef[25]; // weak
extern char aMissingIhdrBef[25]; // weak
extern char aPngFileCorrupt[39]; // weak
extern char aNotAPngFile[15]; // weak
extern char aExtraCompresse[22]; // weak
extern char aDecompressionE[20]; // weak
extern char aNotEnoughImage[22]; // weak
extern char aInvalidAttempt[33]; // weak
extern char aWidthTooLargeF[50]; // weak
extern char aPng_do_ditherR[34]; // weak
extern char aNullRowBuffer[16]; // weak
extern char aWidthTooLargeT[63]; // weak
extern char aCallToNullRead[27]; // weak
extern char aSameStructure_[50]; // weak
extern char aItSAnErrorToSe[65]; // weak
extern char byte_100760CC[8]; // idb
extern _UNKNOWN unk_100761FC; // weak
extern _UNKNOWN unk_1007621C; // weak
extern _UNKNOWN unk_1007623C; // weak
extern _UNKNOWN unk_10076254; // weak
extern _UNKNOWN unk_10076274; // weak
extern _UNKNOWN unk_10076284; // weak
extern _UNKNOWN unk_10076294; // weak
extern _UNKNOWN unk_100762A0; // weak
extern _UNKNOWN unk_100762B0; // weak
extern _UNKNOWN unk_100762C0; // weak
extern _UNKNOWN unk_100762DC; // weak
extern _UNKNOWN unk_100762FC; // weak
extern int dword_10076418[]; // weak
extern _UNKNOWN unk_10076518; // weak
extern int dword_10076558[]; // weak
extern int dword_10076560[]; // weak
extern char aNeedDictionary[16]; // weak
extern char aIncorrectDataC[21]; // weak
extern char aIncorrectHeade[23]; // weak
extern char aInvalidWindowS[20]; // weak
extern char aUnknownCompres[27]; // weak
extern char aOutOfMemory[14]; // weak
extern int dword_100765EC[]; // weak
extern int dword_10076608[]; // weak
extern int dword_10076624[]; // weak
extern int dword_10076640[]; // weak
extern char aIdat_0[5]; // weak
extern char aInvalidChunkTy[19]; // weak
extern char aIgnoringBadAda[34]; // weak
extern char aCrcError[10]; // weak
extern char aUnknownFilterM[30]; // weak
extern char aUnknownCompr_0[35]; // weak
extern char aUnknownInterla[33]; // weak
extern char aInvalidColor_0[49]; // weak
extern char aInvalidColorTy[27]; // weak
extern char aInvalidBitDept[26]; // weak
extern char aInvalidImageSi[27]; // weak
extern char aInvalidIhdrChu[19]; // weak
extern char aOutOfPlaceIhdr[18]; // weak
extern char aTruncatingInco[39]; // weak
extern char aInvalidPalette[22]; // weak
extern char aDuplicatePlteC[21]; // weak
extern char aInvalidPlteAft[24]; // weak
extern char aMissingIhdrB_0[25]; // weak
extern char aIncorrectIendC[28]; // weak
extern char aNoImageInFile[17]; // weak
extern char aIgnoringIncorr[56]; // weak
extern char aDuplicateGamaC[21]; // weak
extern char aOutOfPlaceGama[24]; // weak
extern char aInvalidGamaAft[24]; // weak
extern char aIncorrectGamaC[28]; // weak
extern char aMissingIhdrB_1[25]; // weak
extern char aUnknownSrgbInt[20]; // weak
extern char aDuplicateSrgbC[21]; // weak
extern char aOutOfPlaceSrgb[24]; // weak
extern char aInvalidSrgbAft[24]; // weak
extern char aIncorrectSrgbC[28]; // weak
extern char aMissingIhdrB_2[25]; // weak
extern char aTrnsChunkNotAl[42]; // weak
extern char aIncorrectTrnsC[28]; // weak
extern char aDuplicateTrnsC[21]; // weak
extern char aInvalidTrnsAft[24]; // weak
extern char aZeroLengthTrns[23]; // weak
extern char aMissingPlteB_0[25]; // weak
extern char aMissingIhdrB_3[25]; // weak
extern char aUnknownCritica[23]; // weak
extern char aExtraCompressi[23]; // weak
extern char aDecompressio_0[20]; // weak
extern int dword_10076AF0[]; // weak
extern int dword_10076EF0[]; // weak
extern int dword_10076F30[]; // weak
extern int dword_10076FD8[]; // weak
extern int dword_10077018[]; // weak
extern _UNKNOWN unk_10077058; // weak
extern _UNKNOWN unk_100770D8; // weak
extern _UNKNOWN unk_10077118; // weak
extern int dword_10077218[]; // weak
extern int dword_10077228[]; // weak
extern char aInvalidBitLeng[26]; // weak
extern char aTooManyLengthO[36]; // weak
extern char aInvalidStoredB[29]; // weak
extern char aInvalidBlockTy[19]; // weak
extern char aInvalidDistanc[22]; // weak
extern char aInvalidLiteral[28]; // weak
extern _UNKNOWN unk_100773A0; // weak
extern _UNKNOWN unk_10077420; // weak
extern _UNKNOWN unk_100774A0; // weak
extern _UNKNOWN unk_10077518; // weak
extern char aIncompleteDyna[36]; // weak
extern char aOversubscribed[40]; // weak
extern char aIncompleteLite[31]; // weak
extern char aOversubscrib_1[35]; // weak
extern char aEmptyDistanceT[33]; // weak
extern char aIncompleteDist[25]; // weak
extern char aOversubscrib_0[29]; // weak
extern __int64 qword_100776C0; // weak
extern __int64 qword_100776C8; // weak
extern __int64 qword_100776D0; // weak
extern __int64 qword_100776D8; // weak
extern __int64 qword_100776E0; // weak
extern __int64 qword_100776E8; // weak
extern __int64 qword_100776F0; // weak
extern __int64 qword_100776F8; // weak
extern __int64 qword_10077700; // weak
extern __int64 qword_10077708; // weak
extern __int64 qword_10077710; // weak
extern __int64 qword_10077718; // weak
extern __int64 qword_10077720; // weak
extern __int64 qword_10077728; // weak
extern __int64 qword_10077730; // weak
extern __int64 qword_10077738; // weak
extern __int64 qword_10077740; // weak
extern __int64 qword_10077748; // weak
extern __int64 qword_10077750; // weak
extern __int64 qword_10077758; // weak
extern __int64 qword_10077760; // weak
extern __int64 qword_10077768; // weak
extern __int64 qword_10077770; // weak
extern __int64 qword_10077778; // weak
extern __int64 qword_10077780; // weak
extern __int64 qword_10077798; // weak
extern __int64 qword_100777A0; // weak
extern __int64 qword_100777A8; // weak
extern __int64 qword_100777B0; // weak
extern __int64 qword_100777B8; // weak
extern _UNKNOWN unk_100777E0; // weak
extern _UNKNOWN unk_100778E4; // weak
extern _UNKNOWN unk_100778EC; // weak
extern _UNKNOWN unk_10077A84; // weak
extern char *off_10080078[6]; // weak
extern char *off_1008007C[5]; // weak
extern char *off_10080080[4]; // weak
extern char *off_10080084[3]; // weak
extern char *off_10080088[2]; // weak
extern char *off_1008008C; // weak
extern int dword_10080090; // weak
extern int dword_10080094; // weak
extern char *off_100800A0[62]; // weak
extern char *off_100800A4[61]; // weak
extern char *off_100800A8[60]; // weak
extern char *off_100800AC[59]; // weak
extern char *off_100800B0[58]; // weak
extern char *off_100800B4[57]; // weak
extern char *off_100800B8[56]; // weak
extern char *off_100800BC[55]; // weak
extern char *off_100800C0[54]; // weak
extern char *off_100800C4[53]; // weak
extern char *off_100800C8[52]; // weak
extern char *off_100800CC[51]; // weak
extern char *off_100800D0[50]; // weak
extern char *off_100800D4[49]; // weak
extern char *off_100800D8[48]; // weak
extern char *off_100800DC[47]; // weak
extern char *off_100800E8[44]; // weak
extern char *off_100800EC[43]; // weak
extern char *off_10080108[36]; // weak
extern char *off_1008010C[35]; // weak
extern char *off_10080128[28]; // weak
extern char *off_10080170[10]; // weak
extern char *off_10080174[9]; // weak
extern char *off_10080178[8]; // weak
extern char *off_1008017C[7]; // weak
extern char *off_10080180[6]; // weak
extern char *off_10080184[5]; // weak
extern char *off_10080188[4]; // weak
extern char *off_1008018C[3]; // weak
extern char *off_10080190[2]; // weak
extern char *off_10080194; // weak
extern int dword_10080198; // weak
extern int dword_1008019C; // weak
extern int dword_100801A0; // weak
extern char *off_100801AC[44]; // weak
extern char *off_100801B0[43]; // weak
extern char *off_100801B4[42]; // weak
extern char *off_100801BC[40]; // weak
extern char *off_100801C0[39]; // weak
extern char *off_100801C4[38]; // weak
extern char *off_100801C8[37]; // weak
extern char *off_100801D0[35]; // weak
extern char *off_100801DC[32]; // weak
extern char *off_100801E4[30]; // weak
extern char *off_100801E8[29]; // weak
extern char *off_100801EC[28]; // weak
extern char *off_100801F0[27]; // weak
extern char *off_100801F4[26]; // weak
extern char *off_100801F8[25]; // weak
extern char *off_100801FC[24]; // weak
extern char *off_10080200[23]; // weak
extern char *off_10080210[19]; // weak
extern char *off_10080214[18]; // weak
extern char *off_10080218[17]; // weak
extern char *off_1008021C[16]; // weak
extern char *off_10080220[15]; // weak
extern char *off_10080238[9]; // weak
extern char *off_1008023C[8]; // weak
extern char *off_10080240[7]; // weak
extern char *off_1008024C[4]; // weak
extern char *off_10080250[3]; // weak
extern char *off_10080254[2]; // weak
extern char *off_10080258; // weak
extern int (*off_10080260)(void); // weak
extern int (*off_10080264)(void); // weak
extern int (*off_10080268)(void); // weak
extern int (*off_1008026C)(void); // weak
extern int (*off_10080270)(void); // weak
extern int (*off_10080274)(void); // weak
extern int (*off_10080278)(void); // weak
extern int (*off_1008027C)(void); // weak
extern int (*off_10080280)(void); // weak
extern int (*off_10080284)(void); // weak
extern int (*off_10080288)(void); // weak
extern int (*off_1008028C)(void); // weak
extern int (*off_10080290)(void); // weak
extern int (*off_10080294)(void); // weak
extern int (*off_10080298)(void); // weak
extern int (*off_1008029C)(void); // weak
extern int (*off_100802A0)(void); // weak
extern int (__stdcall *off_100802A4)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (*off_100802A8)(void); // weak
extern int (*off_100802AC)(void); // weak
extern int (*off_100802B0)(void); // weak
extern int (*off_100802B4)(void); // weak
extern int (*off_100802B8)(void); // weak
extern int (*off_100802BC)(void); // weak
extern int (*off_100802C0)(void); // weak
extern int (__stdcall *off_100802C4)(_DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_100802C8)(_DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (*off_100802CC)(void); // weak
extern int (*off_100802D0)(void); // weak
extern int (__stdcall *off_100802D4)(_DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_100802D8)(_DWORD, _DWORD); // weak
extern int (__stdcall *off_100802DC)(_DWORD, _DWORD); // weak
extern int (__stdcall *off_100802E0)(_DWORD, _DWORD); // weak
extern int (__stdcall *off_100802E4)(_DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (*off_100802E8)(void); // weak
extern int (__stdcall *off_100802EC)(_DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_100802F0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (*off_100802F4)(void); // weak
extern int (*off_100802F8)(void); // weak
extern int (*off_100802FC)(void); // weak
extern int (__stdcall *off_10080300)(_DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080304)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080308)(_DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_1008030C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (*off_10080310)(void); // weak
extern int (*off_10080314)(void); // weak
extern int (*off_10080318)(void); // weak
extern int (__stdcall *off_1008031C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080320)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080324)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080328)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_1008032C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080330)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080334)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080338)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *off_10080348[7])(int, int, int); // weak
extern int dword_1008042C; // weak
extern int dword_10080430; // weak
extern __int16 word_10080438[]; // weak
extern __int16 word_100804A0[]; // weak
extern __int16 word_10080508[]; // weak
extern __int16 word_100805D0[]; // weak
extern __int16 word_10080600[]; // weak
extern __int16 word_100806C8[]; // weak
extern __int16 word_10080790[]; // weak
extern __int16 word_100807C0[]; // weak
extern __int16 word_100809D0[]; // weak
extern void *off_10081BE8; // weak
extern __int128 xmmword_10081C00; // weak
extern int dword_10081C10; // weak
extern int dword_10081C20; // weak
extern __int128 xmmword_10081C30; // weak
extern __int128 xmmword_10081C40; // weak
extern __int128 xmmword_10081C50; // weak
extern __int128 xmmword_10081C60; // weak
extern __int128 xmmword_10081C70; // weak
extern int dword_10081C80; // weak
extern __int128 xmmword_10081C90; // weak
extern __int128 xmmword_10081CA0; // weak
extern __int128 xmmword_10081CB0; // weak
extern __int128 xmmword_10081CC0; // weak
extern __int128 xmmword_10081CD0; // weak
extern __int128 xmmword_10081CE0; // weak
extern __int128 xmmword_10081CF0; // weak
extern __int128 xmmword_10081D00; // weak
extern __int128 xmmword_10081D10; // weak
extern __int128 xmmword_10081D20; // weak
extern __int128 xmmword_10081D30; // weak
extern __int128 xmmword_10081D40; // weak
extern __int128 xmmword_10081D50; // weak
extern __int128 xmmword_10081D60; // weak
extern __int128 xmmword_10081D70; // weak
extern int dword_10081D80; // weak
extern int dword_10081D90; // weak
extern __int128 xmmword_10081DA0; // weak
extern int dword_10081DC0; // weak
extern int dword_10081DD0; // weak
extern __int128 xmmword_10081DE0; // weak
extern __int128 xmmword_10081E00; // weak
extern __int128 xmmword_10081E10; // weak
extern __int128 xmmword_10081E20; // weak
extern __int128 xmmword_10081E30; // weak
extern __int128 xmmword_10081E40; // weak
extern __int128 xmmword_10081E50; // weak
extern __int128 xmmword_10081E60; // weak
extern __int128 xmmword_10081E70; // weak
extern __int128 xmmword_10081E80; // weak
extern __int128 xmmword_10081E90; // weak
extern __int128 xmmword_10081EA0; // weak
extern __int128 xmmword_10081EB0; // weak
extern __int128 xmmword_10081EC0; // weak
extern __int128 xmmword_10081ED0; // weak
extern int dword_10081EE0; // weak
extern int dword_10081EF0; // weak
extern __int128 xmmword_10081F00; // weak
extern _UNKNOWN unk_10081F40; // weak
extern _UNKNOWN unk_10081F58; // weak
extern int dword_10081FE0; // weak
extern int (__cdecl *off_100824A8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__cdecl *off_100824AC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern _UNKNOWN unk_100824B0; // weak
extern _UNKNOWN unk_10082530; // weak
extern __int128 xmmword_100825F0; // weak
extern __int128 xmmword_10082600; // weak
extern __int128 xmmword_10082630; // weak
extern __int128 xmmword_10082650; // weak
extern int dword_100826D0; // weak
extern __int128 xmmword_100826E0; // weak
extern __int128 xmmword_100826F0; // weak
extern __int128 xmmword_10082700; // weak
extern __int128 xmmword_10082720; // weak
extern __int128 xmmword_10082740; // weak
extern __int128 xmmword_10082750; // weak
extern __int128 xmmword_10082760; // weak
extern __int128 xmmword_10082770; // weak
extern __int128 xmmword_10082780; // weak
extern __int128 xmmword_10082790; // weak
extern __int128 xmmword_100827A0; // weak
extern __int128 xmmword_100827B0; // weak
extern int dword_100827C0; // weak
extern __int128 xmmword_100827D0; // weak
extern __int128 xmmword_100827E0; // weak
extern __int128 xmmword_100827F0; // weak
extern __int128 xmmword_10082800; // weak
extern __int128 xmmword_10082810; // weak
extern __int128 xmmword_10082820; // weak
extern __int128 xmmword_10082830; // weak
extern __int128 xmmword_10082840; // weak
extern __int128 xmmword_10082850; // weak
extern __int128 xmmword_10082860; // weak
extern __int128 xmmword_10082870; // weak
extern __int128 xmmword_10082880; // weak
extern __int128 xmmword_10082970; // weak
extern __int128 xmmword_10082980; // weak
extern __int128 xmmword_10082990; // weak
extern __int128 xmmword_100829A0; // weak
extern __int128 xmmword_100829B0; // weak
extern __int128 xmmword_100829C0; // weak
extern __int128 xmmword_100829D0; // weak
extern __int128 xmmword_100829E0; // weak
extern __int128 xmmword_100829F0; // weak
extern __int128 xmmword_10082A00; // weak
extern __int128 xmmword_10082A10; // weak
extern __int128 xmmword_10082A20; // weak
extern __int128 xmmword_10082A30; // weak
extern __int128 xmmword_10082A40; // weak
extern __int128 xmmword_10082A50; // weak
extern __int128 xmmword_10082A60; // weak
extern __int128 xmmword_10082A70; // weak
extern __int128 xmmword_10082A80; // weak
extern __int128 xmmword_10082A90; // weak
extern __int128 xmmword_10082AA0; // weak
extern _DWORD dword_10082C18[8]; // idb
extern float flt_10082C38; // weak
extern float flt_10082C3C; // weak
extern float flt_10082C40; // weak
extern float flt_10082C48; // weak
extern float flt_10082C4C; // weak
extern float flt_10082C50; // weak
extern char byte_10082C58; // weak
extern __int64 qword_10082C60; // weak
extern __int64 qword_10082C68; // weak
extern __int64 qword_10082C70; // weak
extern __int64 qword_10082C78; // weak
extern __int64 qword_10082C80; // weak
extern int dword_10082CB8; // weak
extern int dword_10082CBC; // weak
extern _UNKNOWN unk_10082CC0; // weak
extern _UNKNOWN unk_10083CC0; // weak
extern int dword_10083DC0[]; // weak
extern int dword_10083E40; // weak
extern _UNKNOWN unk_10083E48; // weak
extern int dword_10084448; // weak
extern _UNKNOWN unk_10084450; // weak
extern int dword_100845B4; // weak
extern int dword_100845B8; // weak
extern int dword_100845BC; // weak
extern int dword_100845C0; // weak
extern __int64 qword_100845C4; // weak
extern int dword_100845CC; // weak
extern int dword_100845D0; // weak
extern int dword_100845D4; // weak
extern int dword_100845D8; // weak
extern _UNKNOWN UD3DRenderDevice::PrivateStaticClass; // weak
extern int autoclassUD3DRenderDevice; // weak
extern __int64 qword_100846F8; // weak
extern int dword_10084700; // weak
extern int dword_10084704; // weak
extern int dword_10084708; // weak
extern int dword_1008470C; // weak
extern int dword_10084710; // weak
extern int dword_10084714; // weak
extern int dword_10084718; // weak
extern int dword_1008471C; // weak
extern int dword_10084720; // weak
extern int dword_10084724; // weak
extern int dword_10084728; // weak
extern int dword_1008472C; // weak
extern int dword_10084730; // weak
extern int dword_10084734; // weak
extern __int64 qword_10084738; // weak
extern int dword_10084740; // weak
extern int dword_10084744; // weak
extern int dword_10084748; // weak
extern int dword_10084750; // weak
extern int dword_10084754; // weak
extern int dword_1008475C; // weak
extern int dword_10084760; // weak
extern int dword_10084764; // weak
extern int dword_10084768; // weak
extern int dword_1008476C; // weak
extern int dword_10084770; // weak
extern int dword_10084774; // weak
extern int dword_10084778; // weak
extern int dword_1008477C; // weak
extern int dword_10084780; // weak
extern int dword_10084784; // weak
extern int dword_10084788; // weak
extern int dword_1008478C; // weak
extern int dword_10084790; // weak
extern int dword_10084794; // weak
extern int dword_10084798; // weak
extern int dword_1008479C; // weak
extern int dword_100847A0; // weak
extern int dword_100847A4; // weak
extern int dword_100847A8; // weak
extern int dword_100847AC; // weak
extern int dword_100847B0; // weak
extern int dword_100847B4; // weak
extern int dword_100847B8; // weak
extern int dword_100847BC; // weak
extern int dword_100847C0; // weak
extern int dword_100847C8; // weak
extern int dword_100847CC; // weak
extern char byte_100847D0; // weak
extern _UNKNOWN unk_100847D8; // weak
extern __int16 word_10084FA8; // weak
extern _UNKNOWN unk_1008538E; // weak
extern int dword_10085390; // weak
extern int dword_10085394; // weak
extern int dword_10085398; // weak
extern int dword_1008539C; // weak
extern int dword_100853A0; // weak
extern int dword_100853A4; // weak
extern int dword_100853A8; // weak
extern int dword_100853B0; // idb
extern int dword_100853C0; // weak
extern int dword_100853E0; // weak
extern int (*dword_10085400)(void); // weak
extern int (__cdecl *dword_10085404)(_DWORD); // weak
extern int dword_10085408; // weak
extern int dword_1008540C; // weak
extern int dword_10085420; // weak
extern __int64 qword_10085428; // weak
extern __int128 xmmword_10085470; // weak
extern __int128 xmmword_10085480; // weak
extern char byte_10085490; // weak
extern int dword_10086000; // weak
extern int dword_10086004; // weak
extern int dword_10086008; // weak
extern int dword_1008600C; // weak
extern int dword_10086010; // weak
extern int dword_10086014; // weak
extern int dword_100860C0; // weak
extern int dword_100860C4; // weak
extern __int128 xmmword_100860E0; // weak
extern __int128 xmmword_100860F0; // weak
extern __int128 xmmword_10086100; // weak
extern __int128 xmmword_10086140; // weak
extern __int128 xmmword_10086150; // weak
extern int dword_10086160; // weak
extern int dword_10086180; // weak
extern int dword_10086184; // weak
extern int dword_10086188; // weak
extern int dword_1008618C; // weak
extern int dword_10086190; // weak
extern int dword_10086194; // weak
extern __int128 xmmword_100861B0; // weak
extern __int128 xmmword_100861C0; // weak
extern __int128 xmmword_100861D0; // weak
extern __int128 xmmword_100861E0; // weak
extern __int128 xmmword_100861F0; // weak
extern __int128 xmmword_10086200; // weak
extern __int128 xmmword_10086210; // weak
extern int dword_10086220; // weak
extern int dword_10086224; // weak
extern __int128 xmmword_100862A0; // weak
extern __int128 xmmword_100862B0; // weak
extern int dword_100862C0; // weak
extern double dbl_100863D0; // weak

//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

BOOL __stdcall DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved);
int __fastcall sub_10001020(int a1, signed int a2);
signed int __fastcall sub_100014A0(signed int a1);
int __cdecl sub_100015F0(int a1);
int __cdecl sub_10001610(int a1);
int __stdcall sub_10001650(int a1, int a2, int a3, int (__thiscall *a4)(_DWORD));
_UNKNOWN *__cdecl UD3DRenderDevice::StaticClass();
int __cdecl UD3DRenderDevice::StaticPackageName();
int __stdcall UD3DRenderDevice::operator new(int a1, int a2);
int __fastcall UD3DRenderDevice::operator new(int a1, int a2);
int __thiscall UD3DRenderDevice::InternalConstructor(void *this);
int __thiscall UD3DRenderDevice::VSyncEnabled(int this);
int __thiscall UD3DRenderDevice::EnableVSync(int this, unsigned __int8 a2);
bool __thiscall UD3DRenderDevice::GetStateCaching(int this);
bool __thiscall UD3DRenderDevice::SetStateCaching(int this, int a2);
// signed int __usercall UD3DRenderDevice::RefreshStates<eax>(int a1<ecx>, signed int a2<ebx>, signed int a3<edi>, signed int a4<esi>);
int __thiscall sub_10001770(void *this);
int loc_10001C80(); // weak
int loc_10001D00(); // weak
int loc_10001D40(); // weak
int __thiscall sub_10001DB0(int this, int a2, int a3);
int __thiscall sub_10001F00(int this, int a2, int a3);
int __thiscall sub_10002060(int this, int a2, int a3);
int __thiscall sub_100021D0(int this, int a2, int a3);
void __thiscall sub_10002390(int this, int a2, int a3);
// void __usercall sub_10002415(int a1<ebp>);
void __cdecl sub_10002429();
int __thiscall sub_10002470(int this, int a2, int a3);
// void __usercall sub_100024FD(int a1<ebp>);
void __cdecl sub_10002511();
int __thiscall sub_10002560(int this, int a2, int a3);
// void __usercall sub_100025F6(int a1<ebp>);
void __cdecl sub_1000260A();
int __thiscall sub_10002670(int this);
int __thiscall sub_10002710(int this);
int __thiscall sub_100027B0(int this, int a2);
int __thiscall sub_10002800(int this, int a2, int a3);
// void __usercall sub_10002889(int a1<ebp>);
void __cdecl sub_1000289D();
int __thiscall sub_100028C0(int this, int a2);
int __thiscall sub_10002910(int this, int a2);
void __thiscall sub_10002960(int this, int a2, int a3);
int __thiscall sub_100029C0(int this, int a2, int a3);
int __thiscall sub_10002A30(int this, int a2, int a3);
int __thiscall sub_10002AA0(int this, int a2, int a3);
int __thiscall UD3DRenderDevice::_UD3DRenderDevice(int this);
int __thiscall sub_10002C80(void *, char); // idb
int __thiscall sub_10002CE0(int this, int a2);
int __thiscall sub_10002D70(int this, int a2);
int __thiscall sub_10002DD0(int this, int a2);
int __thiscall sub_10002E30(int this, int a2);
int __thiscall sub_10002EB0(int this, int a2);
void *__thiscall sub_10003000(void *this, int a2);
void *__thiscall UD3DRenderDevice::operator_(void *this, int a2);
void *__thiscall sub_10003640(void *this, int a2);
void __thiscall sub_10003770(int this, int a2);
void __thiscall sub_10003790(int this, int a2);
void *__thiscall UD3DRenderDevice::UD3DRenderDevice(void *this, int a2);
void *__thiscall sub_10003C30(void *this);
int __thiscall sub_10003CC0(int this, float a2);
int __thiscall sub_10004410(int this, int a2, int a3, int a4);
void __thiscall sub_100044B0(int this, int a2, int a3);
char __thiscall sub_100045D0(void *this, int a2);
// void __usercall sub_100049EC(int a1<ebp>);
void __cdecl sub_10004A00();
int __thiscall sub_10004B10(int this, int a2, int a3, int a4, int a5);
int __thiscall sub_10004C10(int this);
void *__thiscall sub_100052C0(void *this);
int __cdecl sub_100052D0();
int __cdecl sub_100052E0();
int __cdecl sub_100052F0();
int __cdecl sub_10005300();
// int FRenderResource::_FRenderResource(void); weak
void *__thiscall sub_10005320(void *this, char a2);
void *__thiscall sub_10005590(void *this);
__int16 __thiscall sub_10005670(int this, int a2, int a3);
// void __usercall sub_10005F98(int a1<ebp>);
void __cdecl sub_10005FB5();
signed int __thiscall sub_10006020(int this, int a2, int a3, int a4, int a5);
void *__thiscall sub_10006D60(void *this);
int __cdecl sub_10006D70();
// int __thiscall FRenderResource::_FRenderResource(_DWORD); weak
void *__thiscall sub_10006D90(void *this, char a2);
int __thiscall sub_10006DC0(int this, int a2, int a3);
// int __userpurge sub_10006F20<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_100077B0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_10008040<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_100088D0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_10009160<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_100099F0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
void *__thiscall sub_1000A2C0(void *this);
// int FRenderResource::_FRenderResource(void); weak
void *__thiscall sub_1000A2E0(void *this, char a2);
signed int __thiscall sub_1000A310(int this, int a2, int a3, int a4, int a5, const void *a6, int a7, int a8, int a9, int a10);
// void __usercall sub_1000BA27(int a1<ebp>);
void __cdecl sub_1000BA3B();
void *__thiscall sub_1000BA90(void *this, int a2, int a3, int a4, int a5);
int __thiscall sub_1000BB00(int this);
int __thiscall sub_1000BB10(int this);
int __cdecl sub_1000BB20();
signed int __cdecl sub_1000BB30();
signed int __cdecl sub_1000BB50();
signed int __cdecl sub_1000BB60();
int __stdcall sub_1000BB70(int a1);
int __cdecl sub_1000BB90();
signed int __thiscall sub_1000BBA0(int this, float a2, int a3, int a4, int a5, int a6, int a7);
// void __usercall sub_1000BEC0(int a1<ebp>);
void __cdecl sub_1000BED4();
// int __thiscall FRenderResource::_FRenderResource(_DWORD); weak
void *__thiscall sub_1000BF10(void *this, int a2);
int __cdecl sub_1000C280();
signed int __cdecl sub_1000C290();
signed int __cdecl sub_1000C2B0();
signed int __cdecl sub_1000C2C0();
int __thiscall sub_1000C2D0(void *this, int a2);
int __thiscall sub_1000C330(void *this);
signed int __thiscall sub_1000C3D0(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26);
// void __usercall sub_1000DB77(int a1<ebp>);
void __cdecl sub_1000DB94();
signed int __thiscall sub_1000DBE0(void *this, int a2, int a3);
void *__thiscall sub_1000DF10(void *this, char a2);
void *__thiscall sub_1000DF40(void *this, char a2);
int __thiscall sub_1000DF70(int this, int a2, float a3, int a4, int a5);
// void __usercall sub_1000FFB2(int a1<ebp>);
void __cdecl sub_1000FFCF();
signed int __thiscall sub_1000FFF0(int this, int a2, int a3, int a4);
void *__thiscall sub_10010250(int this, const void *a2);
int __thiscall sub_100102C0(int this, int a2);
// void __usercall sub_1001032A(int a1<ebp>);
void __cdecl sub_1001033E();
_DWORD __stdcall sub_10010360(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
char __thiscall sub_100105B0(int this, int a2, int a3, int a4, const void *a5);
signed int __thiscall sub_100114E0(int this, int a2, int a3, int a4, int a5);
// void __usercall sub_1001330F(int a1<ebp>);
void __cdecl sub_10013323();
signed int __thiscall sub_10013360(void *this, int a2, const void *a3, int a4, int a5);
// void __usercall sub_10013B7E(int a1<ebp>);
void __cdecl sub_10013B95();
signed int __thiscall sub_10013BC0(void *this, int a2, int a3, signed int i, int a5);
// void __usercall sub_10014890(int a1<ebp>);
void __cdecl sub_100148A7();
int __thiscall UD3DRenderDevice::StaticConstructor(int this);
// void __usercall sub_10015002(int a1<ebp>);
void __cdecl sub_10015016();
int __thiscall UD3DRenderDevice::GetCachedResource(void *this, unsigned int a2, int a3);
// void __usercall sub_100150AC(int a1<ebp>);
void __cdecl sub_100150C0();
int __thiscall UD3DRenderDevice::FlushResource(void *this, unsigned int a2, int a3);
// void __usercall sub_10015134(int a1<ebp>);
void __cdecl sub_10015148();
int __fastcall sub_10015180(int a1, int a2, int a3);
int __fastcall sub_100151A0(int a1, int a2);
int __thiscall UD3DRenderDevice::DoesSupportFSAA(int this, int a2);
int __stdcall UD3DRenderDevice::UnSetRes(int a1, signed int a2, int a3);
// void __usercall sub_10015310(int a1<ebp>);
void __cdecl sub_10015324();
BOOL __thiscall UD3DRenderDevice::RestoreGamma(void *this);
// void __usercall sub_1001548D(int a1<ebp>);
void __cdecl sub_100154A1();
int __thiscall UD3DRenderDevice::Unlock(void *this, int a2);
// void __usercall sub_100155FA(int a1<ebp>);
void __cdecl sub_1001560E();
int __thiscall UD3DRenderDevice::Present(void *this, int a2);
// void __usercall sub_10015775(int a1<ebp>);
void __cdecl sub_10015789();
int __thiscall UD3DRenderDevice::ReadPixels(int this, int a2, int a3);
// void __usercall sub_100159E3(int a1<ebp>);
void __cdecl sub_100159F7();
signed int __thiscall UD3DRenderDevice::SupportsTextureFormat(int this, int a2);
int __thiscall UD3DRenderDevice::SetEmulationMode(int this, int a2);
// void __usercall sub_10015BA1(int a1<ebp>);
void *__thiscall sub_10015BF0(void *this);
int __thiscall UD3DRenderDevice::GetPixelShader(int, int); // idb
// void __usercall sub_1001600D(int a1<ebp>);
void __cdecl sub_10016021();
bool __thiscall UD3DRenderDevice::ResourceCached(void *this, unsigned int a2, int a3);
void __thiscall UD3DRenderDevice::RenderMovie(void *this, int a2);
void *__stdcall UD3DRenderDevice::GetNewMovie(int a1, char a2, int a3, int a4, int a5, int a6);
int __thiscall UD3DRenderDevice::TakeScreenshot(void *this, int a2, int a3, int a4, int a5);
// void __usercall sub_10016327(int a1<ebp>);
void __cdecl sub_1001633B();
int __fastcall sub_10016410(int a1, int a2, int *a3);
int __fastcall sub_10016490(int a1, int a2, int *a3);
void *__thiscall sub_10016600(void *this, char a2);
void *__thiscall sub_10016630(void *this, char a2);
void *__thiscall sub_10016660(void *this, char a2);
signed int __thiscall sub_100166B0(int this, int a2);
signed int __thiscall sub_10016700(int this, int a2);
int __thiscall UD3DRenderDevice::GetVertexShader(int this, int a2, int a3);
int __thiscall UD3DRenderDevice::Flush(int this, int a2);
// void __userpurge sub_10016A73(int a1<ebp>, int a2);
void __stdcall sub_10016A84(int a1);
// void __usercall sub_10016A8B(int a1<ebp>);
int __stdcall loc_10016AA4(int); // weak
int __stdcall loc_10016AB7(int); // weak
BOOL __thiscall UD3DRenderDevice::UpdateGamma(void *this, int a2);
// void __usercall sub_10016BD2(int a1<ebp>);
void __cdecl sub_10016BE6();
signed int __thiscall UD3DRenderDevice::Exec(void *this, const char *a2, float a3);
// void __usercall sub_10016E40(int a1<ebp>);
void __cdecl sub_10016E54();
void *__thiscall UD3DRenderDevice::Lock(void *this, int a2, int a3, int a4);
// void __userpurge sub_100172B1(int a1<ebp>, int a2, int a3, int a4);
void __stdcall sub_100172C2(int a1, int a2, int a3);
// void __userpurge sub_100172C9(int a1<ebp>, int a2, int a3, int a4);
void __stdcall sub_100172DA(int a1, int a2, int a3);
// void __userpurge sub_100172E1(int a1<ebp>, int a2, int a3, int a4);
void __stdcall sub_100172F2(int a1, int a2, int a3);
// void __usercall sub_100172F9(int a1<ebp>);
int __stdcall loc_10017312(int, int, int); // weak
int __stdcall loc_10017325(int, int, int); // weak
int *__thiscall UD3DRenderDevice::GetRenderCaps(int this);
int __stdcall UD3DRenderDevice::ResourceMem(int a1, int a2, int a3);
int __thiscall UD3DRenderDevice::ResourceMem(int this, int a2, int a3, int a4);
int __thiscall UD3DRenderDevice::ResourceMemTotal(void *this, int a2);
int __thiscall sub_100175E0(void *this, int a2);
int __thiscall sub_10017660(void *this, int a2);
// int __userpurge UD3DRenderDevice::Serialize<eax>(int a1<ecx>, int a2<ebx>, int a3<ebp>, int a4);
int __thiscall UD3DRenderDevice::Exit(void *this, int a2);
// void __usercall sub_100178BA(int a1<ebp>);
void __cdecl sub_100178CE();
int __thiscall UD3DRenderDevice::UD3DRenderDevice(void *this);
signed int __thiscall UD3DRenderDevice::Init(int this);
// void __usercall sub_10018BFD(int a1<ebp>);
void __cdecl sub_10018C0E();
// void __usercall sub_10018C15(int a1<ebp>);
void __cdecl sub_10018C26();
// void __usercall sub_10018C2D(int a1<ebp>);
void __cdecl sub_10018C3E();
// void __usercall sub_10018C45(int a1<ebp>);
void __cdecl sub_10018C56();
int loc_10018C76(); // weak
int loc_10018C77(); // weak
int loc_10018C89(); // weak
signed int __thiscall UD3DRenderDevice::SetRes(signed int this, signed int a2, signed int a3, signed int a4, int a5, signed int a6, int a7);
// void __userpurge sub_10019A66(int a1<ebp>, int a2, int a3, int a4, int a5, int a6, int a7);
void __cdecl sub_10019A7A();
// void __userpurge sub_10019A81(int a1<ebp>, int a2, int a3, int a4, int a5, int a6, int a7);
void __cdecl sub_10019A92();
// void __userpurge sub_10019A99(int a1<ebp>, int a2, int a3, int a4, int a5, int a6, int a7);
void __cdecl sub_10019AAA();
// void __userpurge sub_10019AB1(int a1<ebp>, int a2, int a3, int a4, int a5, int a6, int a7);
void __cdecl sub_10019AC2();
int loc_10019AE2(); // weak
int __stdcall loc_10019AE3(int, int, int, int, int, int); // weak
int __stdcall loc_10019AF5(int, int, int, int, int, int); // weak
int __thiscall sub_10019BD0(void *this, int a2, int a3, int a4);
// void __usercall sub_10019CCD(int a1<ebp>);
void __cdecl sub_10019CE1();
int __thiscall sub_10019D00(void *this);
// void __usercall sub_10019D78(int a1<ebp>);
void __cdecl sub_10019D8C();
int __thiscall sub_10019F80(int this, int a2, int a3, int a4, int a5);
// void __usercall sub_1001A030(int a1<ebp>);
void __cdecl sub_1001A044();
int __thiscall sub_1001A090(int this, int a2, char a3, int a4, int a5, int a6, unsigned __int8 a7);
// void __usercall sub_1001A21E(int a1<ebp>);
void __cdecl sub_1001A232();
signed int __thiscall sub_1001A260(int this, signed int a2, int a3, int a4);
int __thiscall sub_1001A280(int this);
void *__thiscall sub_1001A290(int this, void *a2, int a3);
int __thiscall sub_1001A310(int this, int a2);
int __thiscall sub_1001A320(int this, int a2);
int __thiscall sub_1001A340(void *this, int a2);
// void __usercall sub_1001A3DE(int a1<ebp>);
void __cdecl sub_1001A3F2();
int __thiscall sub_1001A420(int this, int a2);
// void __usercall sub_1001A4D5(int a1<ebp>);
void __cdecl sub_1001A4E9();
int __stdcall sub_1001A510(int a1, int a2, int a3, char a4, int a5);
_DWORD __stdcall sub_1001A6F0(_DWORD, _DWORD, _DWORD, _DWORD); // weak
signed int __stdcall sub_1001B1B0(int a1);
signed int __stdcall sub_1001B240(int a1);
int __thiscall sub_1001B2D0(void *this, int a2);
// void __usercall sub_1001B360(int a1<ebp>);
void __cdecl sub_1001B374();
int __thiscall sub_1001B3A0(void *this, int a2);
// void __usercall sub_1001B430(int a1<ebp>);
void __cdecl sub_1001B444();
char __thiscall sub_1001B470(int this, int a2);
int __thiscall sub_1001B490(int this, int a2);
signed int __cdecl sub_1001B4B0();
signed int __stdcall sub_1001B4C0(int a1);
signed int __stdcall sub_1001B4D0(int a1, int a2);
int sub_1001B780(); // weak
void *__thiscall sub_1001B7D0(void *this);
void *__thiscall sub_1001BAC0(void *this);
signed int __thiscall sub_1001BB80(int this, int a2, char a3);
// void __usercall sub_1001BE5C(int a1<ebp>);
void __cdecl sub_1001BE70();
signed int __thiscall sub_1001BE90(int this, int a2, int a3, int a4);
// void __usercall sub_1001C0FC(int a1<ebp>);
void __cdecl sub_1001C110();
int __thiscall sub_1001C130(void *this, int a2, int a3, int a4);
int __thiscall sub_1001ED70(int this, int a2, signed int a3);
int __thiscall sub_1001F710(int this, int a2);
int __thiscall sub_1001F760(void *this, int a2);
// void __usercall sub_1001F7C8(int a1<ebp>);
void __cdecl sub_1001F7DC();
int __thiscall sub_1001F800(int this, int a2, int a3, char a4, int a5, char a6, int a7, char a8);
// void __usercall sub_1001F8F8(int a1<ebp>);
void __cdecl sub_1001F90C();
int __thiscall sub_1001F930(void *this, char a2);
// void __usercall sub_1001F9B1(int a1<ebp>);
void __cdecl sub_1001F9C5();
int __thiscall sub_1001F9F0(int this, float a2);
int __thiscall sub_1001FA60(int this, int a2);
int __thiscall sub_1001FAA0(int this, int a2, float a3, float a4, int a5);
int __thiscall sub_1001FC70(int this, int a2, const void *a3);
int __thiscall sub_1001FD80(int this, int a2);
int __thiscall sub_1001FDE0(void *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
// void __usercall sub_1001FF56(int a1<ebp>);
void __cdecl sub_1001FF6A();
int __thiscall sub_1001FF90(int this, int a2);
int __thiscall sub_1001FFB0(int this, int a2);
signed int __thiscall sub_1001FFF0(void *this, int a2, int a3, int a4);
// void __usercall sub_10020180(int a1<ebp>);
void __cdecl sub_10020194();
int __thiscall sub_10020220(int this, int a2, int a3, signed int a4);
// void __usercall sub_10020506(int a1<ebp>);
void __cdecl sub_1002051A();
int __thiscall sub_10020540(int this, int a2, int a3);
// void __usercall sub_100207FF(int a1<ebp>);
void __cdecl sub_10020813();
int __thiscall sub_10020840(int this, int a2, int a3);
int __thiscall sub_10020A90(int this, int a2, int a3);
// void __usercall sub_10020C7B(int a1<ebp>);
void __cdecl sub_10020C8F();
int __thiscall sub_10020CB0(void *this, int a2, int a3, int a4, int a5, int a6);
int __thiscall sub_10021100(int this, int a2, int a3);
// int __userpurge sub_10021260<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_10021AF0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_10022380<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_10022C10<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_100234A0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_10023D30<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_100245C0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
// int __userpurge sub_10024E50<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5);
void __thiscall sub_100257B0(int this, int a2, int a3);
// void __usercall sub_10025B48(int a1<ebp>);
void __cdecl sub_10025B5C();
char __thiscall sub_10025B80(int this, signed int a2, int a3, float a4);
signed int __thiscall sub_10026570(int this, int a2, int a3);
void *__thiscall sub_10026710(void *this, int a2);
// void __usercall sub_100267E7(int a1<ebp>);
void __cdecl sub_100267FB();
int __thiscall sub_10026820(int this, const void *a2, unsigned int a3);
// void __usercall sub_10026AB2(int a1<ebp>);
void __cdecl sub_10026AC6();
int __thiscall sub_10026B70(int this, char a2);
// void __usercall sub_100272FF(int a1<ebp>);
void __cdecl sub_10027313();
// signed int __userpurge sub_10027340<eax>(int a1<ecx>, int a2<ebp>, int a3);
int __thiscall sub_10027510(int this, int a2, int a3, int a4, int a5);
// void __usercall sub_100281E7(int a1<ebp>);
void __cdecl sub_100281FB();
int __thiscall sub_10028270(void *this, int a2);
signed int __thiscall sub_100282D0(int this, int a2);
signed int __thiscall sub_10028390(int this, int a2);
// int __userpurge sub_10028450<eax>(int a1<ecx>, signed int a2<ebx>, signed int a3<edi>, signed int a4<esi>, int a5);
// void __usercall sub_10028EDD(int a1<ebp>);
void __cdecl sub_10028EF1();
int __thiscall sub_10028F10(void *this);
signed int __thiscall sub_10029FE0(void *this, int a2);
int __thiscall sub_1002A050(void *this);
int __stdcall sub_1002A110(unsigned int a1, int a2);
int __thiscall sub_1002A140(int this, int a2, int a3);
int __thiscall sub_1002A1D0(int this);
int __thiscall sub_1002A280(void *this);
int __thiscall sub_1002A2D0(void *this);
int __thiscall sub_1002A320(int this, int a2, int a3);
int __thiscall sub_1002A380(int this, int a2);
// void __usercall sub_1002A5BD(int a1<ebp>);
void __cdecl sub_1002A5D1();
int __thiscall sub_1002A5F0(void *this, int a2);
// void __usercall sub_1002A79C(int a1<ebp>);
void __cdecl sub_1002A7B0();
int __thiscall sub_1002A7D0(int this, int a2, int a3);
int __thiscall sub_1002A800(int this);
int __thiscall sub_1002A880(void *this, int a2);
// void __usercall sub_1002A9E6(int a1<ebp>);
void __cdecl sub_1002A9FA();
void *__thiscall sub_1002AA40(void *this, int a2, struct HKEY__ hKey, int a4);
// void __usercall sub_1002ABC3(int a1<ebp>);
int __thiscall sub_1002AC30(int this);
// void __usercall sub_1002ACB2(int a1<ebp>);
void __cdecl sub_1002ACC6();
int __thiscall sub_1002ACF0(int this, int a2, int a3);
int __thiscall sub_1002AD20(int this, int a2);
// int std::locale::_Locimp::__Locimp(void); weak
// _DWORD __stdcall sub_1002AE40(_DWORD, _DWORD); weak
int __thiscall sub_1002AE70(int this);
int __thiscall sub_1002AEF0(int this);
int __thiscall sub_1002AF00(int this, int a2);
void *__thiscall sub_1002AF60(void *this, char a2, int a3, int a4, int *a5);
int __thiscall sub_1002AFE0(void *this);
int __thiscall sub_1002B080(void *this, int a2, int a3, int a4);
void *__thiscall sub_1002B560(void *this, char a2, int a3, int a4, int a5);
int __thiscall sub_1002B670(int this);
int __thiscall sub_1002B6F0(int this, int a2, int a3, int a4, int a5, int a6, int a7, int *a8);
int __cdecl sub_1002B760();
int __thiscall sub_1002B770(int this);
int __thiscall sub_1002B790(int this);
int __thiscall sub_1002B7A0(int this);
int __thiscall sub_1002B7B0(int this);
int __thiscall sub_1002B7D0(int this, int a2, int a3, int a4);
int __thiscall sub_1002B800(void *this, int a2);
int __thiscall sub_1002B920(void *this, int a2, int a3, void *a4);
int __thiscall sub_1002BAA0(void *this, int a2);
int __fastcall sub_1002BBC0(int a1, int a2, int a3);
int __cdecl sub_1002BE00();
int __cdecl sub_1002BE10();
int __cdecl sub_1002BE20();
int __thiscall sub_1002BE30(int this, int a2);
void *__thiscall sub_1002BE50(void *this);
void *__thiscall sub_1002BE80(void *this);
int __thiscall sub_1002BEB0(int this, char a2);
// void __usercall sub_1002BF90(int a1<ebp>);
void __cdecl sub_1002BFA4();
int __thiscall sub_1002BFD0(int this);
int __thiscall sub_1002C050(int this, int a2);
int __thiscall sub_1002C120(int this, int a2, int a3);
// void __usercall sub_1002C194(int a1<ebp>);
void __cdecl sub_1002C1A8();
int __thiscall sub_1002C1D0(int this, char a2);
int __thiscall sub_1002C200(int this, int a2);
int __thiscall sub_1002C270(void *this, int a2);
// void __usercall sub_1002C426(int a1<ebp>);
void __cdecl sub_1002C43A();
int __thiscall sub_1002C460(int this, int a2, int a3, int a4);
// void __usercall sub_1002C4D1(int a1<ebp>);
void __cdecl sub_1002C4E5();
void *__thiscall sub_1002C510(void *this, char a2);
int sub_1002C540(void); // weak
void *__thiscall sub_1002C550(void *this, char a2);
int __thiscall sub_1002C580(int this, int a2);
signed int __stdcall sub_1002C630(int a1, int a2);
int __thiscall sub_1002C890(int this, int a2);
int __thiscall sub_1002C8D0(int this, char a2);
int __thiscall sub_1002C900(void *this, int a2);
// void __usercall sub_1002CACE(int a1<ebp>);
void __cdecl sub_1002CADF();
// void __usercall sub_1002CAE6(int a1<ebp>);
int loc_1002CB17(); // weak
int loc_1002CB2A(); // weak
void *__thiscall sub_1002CB30(void *this, char a2);
int __thiscall sub_1002CB60(int this, char a2);
char __thiscall sub_1002CB90(void *this, int a2);
int loc_1002CBC0(); // weak
int __thiscall sub_1002CC50(int this, int a2, int a3);
int __thiscall sub_1002CDF0(int this, int a2, int a3);
int __thiscall sub_1002CF90(int this, int a2, int a3);
void *__thiscall sub_1002CFD0(void *this);
int __thiscall sub_1002CFE0(int this);
int __thiscall sub_1002D0A0(int this, int a2);
int __thiscall sub_1002D150(int this, char a2);
void *__thiscall sub_1002D180(void *this, char a2);
int sub_1002D1B0(void); // weak
int __thiscall sub_1002D1C0(int this);
// void __usercall sub_1002D2C1(int a1<ebp>);
void __cdecl sub_1002D2D5();
int __thiscall sub_1002D300(void *this, int a2);
// void __usercall sub_1002D464(int a1<ebp>);
void __cdecl sub_1002D478();
int __thiscall sub_1002D5E0(int this, char a2);
int __thiscall sub_1002D610(void *this, int a2, int a3);
// void __usercall sub_1002D956(int a1<ebp>);
void __cdecl sub_1002D96A();
int __thiscall sub_1002D990(void *this, int a2);
// void __usercall sub_1002DBB1(int a1<ebp>);
int __thiscall sub_1002DC80(void *this, int a2);
// void __usercall sub_1002EEFF(int a1<ebp>);
void __cdecl sub_1002EF1C();
int __thiscall sub_1002F020(int this, int a2, const void *a3);
// void __usercall sub_1002F254(int a1<ebp>);
void __cdecl sub_1002F268();
int __thiscall sub_1002F2A0(int this, int a2, const void *a3);
// void __usercall sub_1002F36D(int a1<ebp>);
void __cdecl sub_1002F381();
signed int __thiscall sub_1002F3A0(int this, int a2, int a3, int a4, int a5);
// void __usercall sub_1002FAFD(int a1<ebp>);
void __cdecl sub_1002FB11();
int __thiscall sub_1002FC20(int this);
int __thiscall sub_1002FCE0(void *this);
signed int __thiscall sub_1002FD30(int this, int a2);
int __thiscall sub_1002FD60(int this);
int __thiscall sub_1002FE20(int this);
int __thiscall sub_1002FE40(int this);
int __thiscall sub_1002FEB0(int this);
int __thiscall sub_1002FEE0(int this, int a2, signed int a3);
signed int __thiscall sub_10030040(int this, int a2);
signed int __thiscall sub_100300A0(int this, int a2, int a3, int a4);
// int __stdcall Direct3DCreate8(_DWORD); weak
bool __cdecl sub_100304A0(float a1, float a2);
int __cdecl sub_100304E0();
int __stdcall sub_100304F3(int, int, int, int, int, float); // idb
int __stdcall sub_10030523(int, int, int, int, int, float); // idb
int __stdcall sub_100305B1(int, int, int, int, int, float); // idb
int __stdcall sub_100305E1(int, int, int, int, int, float); // idb
int __stdcall sub_10030690(int, int, int, int, float, float); // idb
int __stdcall sub_100306C5(int, int, int, int, float, float); // idb
int __cdecl sub_10030708();
int __cdecl sub_1003071B();
int __cdecl sub_1003072E();
int __cdecl sub_10030741();
int __stdcall sub_1003074E(_DWORD, _DWORD); // weak
int __stdcall sub_1003075E(int, int, int, int, int, float); // idb
int __stdcall sub_10030799(int, int, int, int, int, float); // idb
int __stdcall sub_1003084E(int, int, int, int, int, float); // idb
int __stdcall sub_1003087E(int, int, int, int, int, float); // idb
int __stdcall sub_1003095D(int, int, int, int, float, float); // idb
int __stdcall sub_10030995(int, int, int, int, float, float); // idb
int __cdecl sub_100309FB();
int __stdcall sub_10030A08(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_10030A0E(int a1, int a2, int a3);
int __cdecl sub_10030A99();
int __stdcall sub_10030AA6(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_10030AB2();
int __stdcall sub_10030AD1(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_10030AD7(int a1, int a2, int a3);
int __cdecl sub_10030B3D();
int __cdecl sub_10030B88();
int __cdecl sub_10030BB8();
int __stdcall sub_10030BEA(int a1, int a2, int a3, int a4);
int __cdecl sub_10030D25();
int __stdcall sub_10030D38(int, int, int, int, int, float); // idb
int __stdcall sub_10030D68(int, int, int, int, int, float); // idb
int __stdcall sub_10030E39(int, int, int, int, int, float); // idb
int __stdcall sub_10030E69(int, int, int, int, int, float); // idb
int __stdcall sub_10030F5C(int, int, int, int, float, float); // idb
int __stdcall sub_10030F91(int, int, int, int, float, float); // idb
int __cdecl sub_10031035();
int __stdcall sub_10031048(int a1, int a2, int a3);
int __cdecl sub_100310E7();
void __stdcall sub_100310FA(int a1);
int __cdecl sub_100311C4();
int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD); // weak
void *__stdcall sub_100311D7(void *a1, int a2, int a3);
int __cdecl sub_1003140D();
int __stdcall sub_1003141A(_DWORD); // weak
int __stdcall sub_10031420(int a1, int a2);
int __cdecl sub_1003148D();
void *__stdcall sub_100314A0(void *a1, int a2, int a3);
int __cdecl sub_100316F6();
int __stdcall sub_10031703(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_10031709(int a1, int a2, int a3);
int __stdcall sub_10031B93(int, float, float, float); // idb
int __stdcall sub_10031BC7(int a1, int a2, int a3, int a4);
int __stdcall sub_10031C23(int, float, float, float); // idb
int __stdcall sub_10031C77(int a1, int a2, int a3, int a4);
int __stdcall sub_10031CF8(int, float); // idb
int __stdcall sub_10031D1A(int, float); // idb
int __stdcall sub_10031D94(int, float); // idb
int __stdcall sub_10031DB6(int, float); // idb
int __stdcall sub_10031E31(int, float); // idb
int __stdcall sub_10031E53(int, float); // idb
int __stdcall sub_10031ECF(int, int, float); // idb
int __stdcall sub_10031EF5(int, int, float); // idb
int __cdecl sub_10031FF7();
int __stdcall sub_10032004(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_1003200A(int a1, int a2);
int __stdcall sub_100320EC(int, float, float, float); // idb
int __cdecl sub_10032120();
int __stdcall sub_10032131(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_1003214F(int, float, int, int, int); // idb
int __stdcall sub_1003219F(int, float, int, int, int); // idb
int __stdcall sub_10032313(int a1, int a2, int a3, int a4);
int __thiscall sub_10032B5A(void *this, int a2, float a3, float a4, float a5, float a6, float a7, float a8);
int __cdecl sub_10032CA0();
int __cdecl sub_10032CB3();
int __cdecl sub_10032CC6();
int __stdcall sub_10032CD9(int a1, int a2, int a3);
int __cdecl sub_10032D76();
int __stdcall sub_10032D89(int a1, int a2);
int __stdcall sub_10032EBD(int, int, float); // idb
int __stdcall sub_10032EE3(int a1, float a2, float a3);
int __stdcall sub_10032F3F(int, float, float, float); // idb
_DWORD __stdcall sub_10032F6D(_DWORD, float, float, float); // weak
int __stdcall sub_10032F73(int, float, float, float); // idb
int __cdecl sub_1003304C();
int __stdcall sub_10033059(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_1003305F(int a1, int a2, int a3);
int __cdecl sub_100330F5();
int __stdcall sub_10033108(int a1, int a2);
int __cdecl sub_100331C1();
int __stdcall sub_100331CE(_DWORD, _DWORD); // weak
float *__stdcall sub_100331D4(float *a1, int a2);
int __stdcall sub_10033295(_DWORD, _DWORD); // weak
int __stdcall sub_1003329B(int a1, int a2);
int __stdcall sub_10033326(_DWORD, _DWORD); // weak
int __stdcall sub_1003332C(int, float); // idb
int __stdcall sub_100333C7(int, int, int, float); // idb
_DWORD __stdcall sub_100333EB(_DWORD, _DWORD, _DWORD, float); // weak
int __stdcall sub_100333F1(int, int, int, float); // idb
int __stdcall sub_100334D4(int, int, int, int, int, float); // idb
int __stdcall sub_10033504(int, int, int, int, int, float); // idb
int __cdecl sub_1003355B();
int __stdcall sub_10033572(int, int, int, int, float, float); // idb
int __stdcall sub_100335A7(int, int, int, int, float, float); // idb
int __cdecl sub_10033632();
int __stdcall sub_1003363F(_DWORD, _DWORD); // weak
int __stdcall sub_10033645(int a1, int a2);
int __cdecl sub_100336E9();
int __stdcall sub_100336FC(int, double X, int); // idb
int __cdecl sub_1003379E();
int __stdcall sub_100337B1(int a1, int a2, int a3);
int __cdecl sub_100337E9();
int __stdcall sub_100337FC(int a1, int a2, int a3, int a4);
int __cdecl sub_1003389E();
int __stdcall sub_100338B1(int a1, int a2, int a3);
int __stdcall sub_10033ABF(int a1, float *a2);
int __stdcall sub_10033B4C(int a1, int a2, int a3);
float *__stdcall sub_10033BB7(float *a1, int a2, int a3);
int __stdcall sub_10033C37(int a1, int a2, int a3);
int __stdcall sub_10033C73(int a1, int a2);
float __stdcall sub_10033D13(float a1, int a2, int a3);
int __stdcall sub_10033DD2(int a1, int a2, int a3, float *a4, float *a5, float *a6);
int __stdcall sub_10033F5F(int a1, int a2, int a3, float *a4, float *a5, float *a6);
int __stdcall sub_10034105(int a1, int a2);
int __stdcall sub_100341E5(int, float, float, float); // idb
int __stdcall sub_1003421E(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_100344D2(int a1, int a2, int a3);
int __stdcall sub_100345AC(int a1, int a2);
int __stdcall sub_1003466B(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_10034A45(int this, char a2);
int __thiscall sub_10034A61(int this, char a2);
int __thiscall sub_10034A7D(void *this, char a2);
int __thiscall sub_10034A99(void *this, char a2);
// signed int __userpurge sub_10034D27<eax>(int a1<edi>, char *Memory, BYTE Data, DWORD Type, int lpMem, HKEY hKey, int a7);
int __stdcall sub_10034D8B(int, char *Dest, size_t Count); // idb
signed int __stdcall sub_10035055(int a1, const LOGFONTA *lplf, int a3);
signed int __stdcall sub_100350C4(int a1, int a2);
bool __cdecl sub_1003525D(int a1, LPCSTR lpValueName, LPBYTE lpData, DWORD cbData);
bool __cdecl sub_100352B9();
int __cdecl sub_100352DE();
void __cdecl sub_10035377();
int __cdecl sub_100353AF();
void __cdecl sub_10035454(DWORD ProcessorFeature);
int __stdcall sub_10035508(BYTE Data); // idb
BOOL __thiscall sub_100355E8(int this);
int __stdcall sub_10035622(int a1);
signed int __thiscall sub_1003562F(void *this, int a2, const LOGFONTA *lplf);
signed int __stdcall sub_100356A4(int a1, int a2);
signed int __stdcall sub_100356CA(int a1, void *a2);
// signed int __userpurge sub_100356EE<eax>(int a1<ebx>, int a2<edi>, int a3);
signed int __stdcall sub_100356FD(int a1);
HGDIOBJ __stdcall sub_1003570C(int a1, int lpchText, int cchText, LONG a4, UINT format, int a6);
HGDIOBJ __stdcall sub_10035732(int a1, int lpchText, int cchText, LONG a4, UINT format, int a6);
int __stdcall sub_10035758(int a1);
signed int __stdcall sub_10035767(int a1);
signed int __stdcall sub_10035779(int a1, const void *a2, int a3);
int __stdcall sub_100357BD(int a1);
int __thiscall sub_100357D5(int this);
int __thiscall sub_100357F0(int this);
int __stdcall sub_10035830(int a1);
signed int __thiscall sub_1003583D(int this, int a2);
signed int __stdcall sub_100358B2(int a1, int a2);
signed int __stdcall sub_100358E5(int a1);
int __stdcall sub_10035910(int a1);
int __stdcall sub_1003594F(int a1);
signed int __stdcall sub_1003595A(int a1, const void *a2, int a3);
int __stdcall sub_1003599E(int a1);
// signed int __userpurge sub_100359B6<eax>(int a1<ebx>, int a2);
int __stdcall sub_10035DF2(int, int, int, int, int, float, int, int); // idb
// int __userpurge sub_10035EC9<eax>(int a1<edi>, int a2<esi>, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_1003629C(int this);
signed int __thiscall sub_100362BA(int this, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_10036309(int a1);
signed int __stdcall sub_1003632D(int a1, int a2);
signed int __stdcall sub_10036353(int a1, void *a2);
// int __userpurge sub_10036377<eax>(int a1<ebx>, int a2, int a3, const void *a4);
signed int __stdcall sub_100365B1(int a1);
int __stdcall sub_10036669(int a1);
int __stdcall sub_100366DF(int a1);
int __thiscall sub_100366E7(void *this);
signed int __stdcall sub_10036709(int a1, const void *a2, int a3);
int __thiscall sub_10036750(int this);
int __stdcall sub_10036777(int a1);
signed int __thiscall sub_10036796(int this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_1003681C(int this);
int __thiscall sub_1003689B(int this, int a2);
signed int __stdcall sub_100369F2(int a1, const void *a2, int a3);
int __stdcall sub_10036A39(int a1);
signed int __stdcall sub_10036A46(int a1, int a2);
signed int __stdcall sub_10036A6C(int a1, int a2);
int __stdcall sub_10036A8F(int a1, int a2);
int __stdcall sub_10036AFF(int a1, int a2);
int __stdcall sub_10036B83(int a1, int a2, int a3);
int __stdcall sub_10036C58(int a1, int a2, int a3);
int __stdcall sub_10036D2D(int a1);
int __stdcall sub_10036E4F(int a1);
int __stdcall sub_10036E98(int a1, int a2, int a3, int a4);
int __thiscall sub_10036F70(void *this);
int __thiscall sub_10036F92(int this);
int __thiscall sub_10037EC6(int this);
int __stdcall sub_10037F2E(int a1);
// int __userpurge sub_10037F4D<eax>(int a1<ecx>, int a2<ebx>, int a3);
// int __usercall sub_100384DA<eax>(int a1<ecx>, int a2<ebx>);
// int __userpurge sub_1003858B<eax>(int a1<ebx>, int a2, int a3);
// int __userpurge sub_100385AE<eax>(int a1<ebx>, int a2);
int __thiscall sub_10038691(int this);
signed int __thiscall sub_100386A3(void *this, LPCWSTR lpFileName, LPSTR lpMultiByteStr);
signed int __thiscall sub_100387B3(void *this, LPCWSTR cbMultiByte, LPSTR lpMultiByteStr);
void __thiscall sub_100388BE(int this);
int __thiscall sub_100388C9(int this);
int __thiscall sub_10038972(void *this);
signed int sub_10038A01(int a1, const char *Format, ...);
signed int __thiscall sub_10038B37(void *this);
signed int __thiscall sub_1003924E(void *this, unsigned int ArgList);
signed int __thiscall sub_100392F7(void *this, int ArgList);
signed int __thiscall sub_10039398(void *this, int *ArgList, int a3, int a4);
int __thiscall sub_10039739(int, int, int); // idb
void __thiscall sub_100397E2(int this);
int __thiscall sub_100398B8(int this);
signed int __thiscall sub_10039A2F(int this);
int __thiscall sub_10039F47(int, int); // idb
signed int __cdecl sub_1003A87E();
// signed int __userpurge sub_1003AD37<eax>(int a1<ecx>, int a2<edi>, char *Memory, BYTE Data, int a5, int a6, DWORD Type, int lpMem, HKEY hKey, int a10);
// int __thiscall unknown_libname_14(_DWORD); weak
// int __thiscall Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::_InitialThreadParam(_DWORD); weak
int __thiscall sub_1003B215(HGDIOBJ *this);
signed int __thiscall sub_1003B234(HGDIOBJ *this, HMODULE hModule, LPCWSTR lpName, int a4, int a5);
int __cdecl sub_1003B2D0(int a1);
int __cdecl sub_1003B3E0(int a1);
int __cdecl sub_1003B4F0();
int __cdecl sub_1003B5C5(int a1);
int __stdcall sub_1003B7EB(int a1, int a2, int a3);
int __stdcall sub_1003B854(int a1, int a2, int a3);
int __stdcall sub_1003B889(int, int, int); // weak
int __stdcall sub_1003B914(int, int, int); // weak
int __stdcall sub_1003B973(int, int, int); // weak
int __stdcall sub_1003BA51(int a1, int a2);
const void *__stdcall sub_1003BB1B(const void *a1, const void *a2, const void *a3);
void *__stdcall sub_1003BBFE(void *a1, void *a2, void *a3);
int __cdecl sub_1003BC8C(int a1);
int __thiscall sub_1003BCC8(int this);
int __thiscall sub_1003BD13(int this);
int __thiscall sub_1003BE0F(int this, char a2);
// signed int __usercall sub_1003BE2B<eax>(int a1<ecx>, int a2<ebx>, int a3<edi>);
signed int __thiscall sub_1003BEB8(int this);
int __thiscall sub_1003BEE8(int this);
signed int __thiscall sub_1003BF63(int this);
int __thiscall sub_1003C01D(int this);
int __thiscall sub_1003C040(void *this);
signed int __thiscall sub_1003C04C(int this, int a2);
HGDIOBJ __thiscall sub_1003C18D(void *this, unsigned int ppvBits, int lpchText, int cchText, LONG a5, UINT format, int a7, LPSTR lpMultiByteStr);
signed int __cdecl sub_1003C6A0(int a1, int a2);
unsigned int __cdecl sub_1003C715(int a1);
unsigned int __fastcall sub_1003C739(int a1, int a2);
int __cdecl sub_1003C7AE(int *a1, int a2, int a3);
int __cdecl sub_1003C81C(int a1, int a2, int a3, int a4);
signed int __cdecl sub_1003C8FE(signed int a1);
signed int __stdcall sub_1003C92F(int a1, unsigned int a2, int a3);
signed int __stdcall sub_1003C967(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
signed int __cdecl sub_1003CA46(LPCWSTR cbMultiByte, signed int a2, int a3, int a4, int a5, LPSTR lpMultiByteStr);
void *__thiscall sub_1003CAF6(void *this);
signed int __stdcall sub_1003CB39(int a1, int a2, const void *a3, int a4, int a5, int a6, int a7, int a8, const void *a9, int a10, int a11);
signed int __cdecl sub_1003CC0C(LPCWSTR cbMultiByte, signed int a2, int a3, int a4, const void *a5, LPSTR lpMultiByteStr);
signed int __fastcall sub_1003CCFC(int a1, int a2, int a3, int *a4, int *a5, unsigned int *a6, signed int *a7, int a8, int a9, int a10);
signed int __thiscall sub_1003D026(int this, int a2, int *a3, int *a4, signed int *a5, int a6, int a7, int a8);
signed int __thiscall sub_1003D04E(int this, int a2, int *a3, signed int *a4, int a5, int a6, int a7);
signed int __thiscall sub_1003D076(int this, int a2, int *a3, int *a4, unsigned int *a5, signed int *a6, int a7, int a8, int a9);
signed int __thiscall sub_1003D09F(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
// int __thiscall CODBCFieldInfo::_vector_deleting_destructor_(void *, char); idb
int __thiscall sub_1003D21C(int this, char a2);
// double __usercall sub_1003DB88<st0>(int a1<eax>, int a2<ecx>);
signed int __stdcall sub_1003E4D5(int a1, int a2, int a3, int a4, unsigned int a5, int a6, int a7, int a8, int a9);
signed int __stdcall sub_1003E58D(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
signed int __stdcall sub_1003E733(int a1, int a2, const void *a3, int a4, unsigned int a5, const void *a6, int a7, int a8, int a9);
signed int __stdcall sub_1003E7EF(int a1, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8);
signed int __thiscall sub_1003E875(void *this, LPCWSTR cbMultiByte, signed int a3, int a4, LPSTR lpMultiByteStr);
signed int __stdcall sub_1003EC6F(int a1, int a2, unsigned int a3, int a4);
signed int __cdecl sub_1003F402(int a1, int a2, unsigned int a3, int a4, int a5, int a6, unsigned int a7, int a8, signed int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17);
signed int __stdcall sub_1003FA75(int a1, int a2, unsigned int a3, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15);
signed int __stdcall sub_1003FAB5(int a1, int a2, unsigned int a3, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14);
signed int __stdcall sub_1003FAF5(int a1, int a2, unsigned int a3, int a4, int a5, int a6, unsigned int a7, int a8, signed int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16);
signed int __stdcall sub_1003FB36(int a1, LPCWSTR lpFileName, int a3, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14);
signed int __stdcall sub_1003FB99(int a1, LPCWSTR lpFileName, int a3, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14);
signed int __stdcall sub_1003FBFC(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15);
signed int __stdcall sub_1003FC64(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15);
signed int __stdcall sub_1003FCFC(int a1, LPCWSTR lpFileName, int a3, unsigned int a4, int a5, signed int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13);
signed int __stdcall sub_1003FD5C(int a1, LPCWSTR lpFileName, int a3, unsigned int a4, int a5, signed int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13);
signed int __stdcall sub_1003FDBC(int a1, HMODULE hModule, LPCWSTR lpName, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14);
signed int __stdcall sub_1003FE21(int a1, HMODULE hModule, LPCWSTR lpName, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14);
signed int __stdcall sub_1003FEB6(int a1, LPCWSTR lpFileName, int a3, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15);
signed int __stdcall sub_1003FF1C(int a1, LPCWSTR lpFileName, int a3, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15);
signed int __stdcall sub_1003FF82(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, int a6, unsigned int a7, int a8, signed int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16);
signed int __stdcall sub_1003FFED(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, int a6, unsigned int a7, int a8, signed int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16);
// int __thiscall CRect::CRect(_DWORD); weak
// int __thiscall ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(_DWORD); weak
signed int __thiscall sub_10040279(int this, int a2);
signed int __thiscall sub_100402E7(int this, int a2);
int __thiscall sub_1004031B(int this);
int __thiscall sub_10040323(int this);
int __thiscall sub_10040336(int this);
signed int __thiscall sub_10040367(int this, const char *a2);
signed int __thiscall sub_1004041A(int this, int a2);
int __thiscall sub_1004044E(int this);
// signed int __userpurge sub_10040456<eax>(int a1<ecx>, int a2<edi>, int a3);
int __thiscall sub_1004053E(int this);
signed int __thiscall sub_10040553(int this, int a2);
int __stdcall sub_10040579(int a1);
int __stdcall sub_10040586(int a1);
int __stdcall sub_100405A6(int a1);
int __stdcall sub_100405B0(int a1);
int __thiscall sub_1004060F(int this);
int __thiscall sub_1004062A(int this, char a2);
signed int __thiscall sub_10040646(int this, int a2);
signed int __thiscall sub_10040677(int this, int a2);
int __thiscall sub_100407A8(int this, char a2);
signed int __stdcall sub_100407C7(int a1, const void *a2, int a3);
int __thiscall sub_1004080E(int this);
int __thiscall sub_10040834(int this);
int __thiscall sub_1004084A(void *this, char a2);
int sub_10040866(void); // weak
int __stdcall sub_10040920(int a1, int a2, int a3);
double *__stdcall sub_10040960(double *a1, int a2, int a3);
double *__stdcall sub_100409C0(double *a1, int a2, int a3);
int __stdcall sub_10040A00(int a1, int a2, int a3);
int __stdcall sub_10040AC0(int a1, int a2, int a3);
int __stdcall sub_10040B80(int a1, int a2, int a3);
int __stdcall sub_10040C80(int a1, __m128 *a2, int a3);
int __stdcall sub_10040D40(int a1, int a2, int a3);
int __stdcall sub_10040E90(int a1, int a2);
int __stdcall sub_10040F60(int a1, int a2);
int __stdcall sub_100410E0(int a1, int a2, int a3);
int __stdcall sub_100413A0(int a1, int a2, int a3);
int __stdcall sub_10041500(int a1, int a2, int a3, int a4);
int __stdcall sub_100415B0(int a1, int a2);
// int __userpurge sub_10041760<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, int a3, const double *a4, const double *a5, const double *a6, const double *a7, float a8);
// double *__userpurge sub_10041820<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, double *a3, int a4, const double *a5, int a6, const double *a7, float a8);
// int __userpurge sub_100418B0<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, int a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8);
// int __userpurge sub_10041960<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, int a3, const double *a4, const double *a5, const double *a6, const double *a7, float a8);
// int __userpurge sub_10041A20<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, int a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8);
// double *__userpurge sub_10041AC0<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, __m128 a3<xmm3>, double *a4, int a5, const double *a6, int a7, const double *a8, float a9);
int __stdcall sub_10041B50(int a1, const double *a2, const double *a3, const double *a4, unsigned int a5, unsigned int a6);
int __stdcall sub_10041BB0(int a1, __m128 *a2, __m128 *a3, __m128 *a4, unsigned int a5, unsigned int a6);
double *__stdcall sub_10041C00(double *a1, const double *a2, const double *a3, const double *a4, unsigned int a5, unsigned int a6);
// int __userpurge sub_10041C60<eax>(__m128 a1<xmm5>, __m128 a2<xmm6>, int a3, __m128 *a4, const double *a5, const double *a6);
double __stdcall sub_10041DB0(int a1);
int __stdcall sub_10041E80(int a1, const double *a2, const double *a3, const double *a4);
int __stdcall sub_10041F70(int a1, __m128 *a2, __m128 *a3);
int __stdcall sub_10042100(int a1, const double *a2);
int __stdcall sub_100421E0(int a1, int a2, int a3);
int __stdcall sub_10042270(int a1, int a2);
int __stdcall sub_10042310(int a1, int a2);
int __stdcall sub_10042380(int, int); // weak
int __stdcall sub_100424A0(int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_10042570(int a1, int a2, int a3);
int __stdcall sub_10042630(int a1, int a2, int a3);
int __stdcall sub_100426F0(int a1, int a2, int a3);
int __stdcall sub_100427F0(int a1, __m128 *a2, int a3);
int __stdcall sub_100428B0(int a1, int a2, int a3);
int __stdcall sub_10042A00(int a1, int a2);
int __stdcall sub_10042AD0(int a1, int a2);
int __stdcall sub_10042C50(int a1, int a2, int a3);
int __stdcall sub_10042F10(int a1, int a2, int a3);
int __stdcall sub_10043070(int a1, int a2, int a3, int a4);
int __stdcall sub_10043120(int a1, unsigned int a2);
int __stdcall sub_100431A0(int a1, unsigned int a2);
double __stdcall sub_10043230(int a1);
int __stdcall sub_10043300(int a1, const double *a2, const double *a3, const double *a4);
int __stdcall sub_100433F0(int a1, __m128 *a2, __m128 *a3);
int __stdcall sub_10043580(int a1, const double *a2);
int __stdcall sub_10043820(int, int); // weak
int __stdcall sub_10043940(int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_10043A10(int, int, int); // weak
int __stdcall sub_10043AA9(int, int); // weak
void __stdcall sub_10043B06(int a1, int a2, int a3);
int __stdcall sub_10043BB9(int a1, int a2);
int __stdcall sub_10043DD5(int a1, int a2);
int __stdcall sub_10043FEA(int, int, int, int); // weak
int __stdcall sub_100440AF(int a1, int a2, unsigned int a3);
int __stdcall sub_1004411B(int a1, int a2, int a3, unsigned int a4);
int __stdcall sub_10044252(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
int __stdcall sub_100442DF(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_10044371(int a1, int a2);
int __stdcall sub_100443D5(int a1, int a2);
// int __userpurge sub_1004447C<eax>(unsigned int a1<esi>, int a2, int a3);
// int __userpurge sub_100445C3<eax>(unsigned int a1<esi>, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __stdcall sub_1004501C(int a1, int a2, int a3);
double __stdcall sub_1004524E(int a1);
int __stdcall sub_1004531D(int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_1004536D(int a1, int a2, int a3);
int __stdcall sub_10045458(int a1, int a2);
int __stdcall sub_10045534(int a1, unsigned int a2);
int __stdcall sub_10045597(int a1, unsigned int a2);
int __stdcall sub_100455F5(int a1, unsigned int a2);
int __stdcall sub_1004564E(int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_10045695(int a1, int a2);
int __cdecl sub_10045704(int a1);
int __stdcall sub_1004573D(int a1, int a2);
int __stdcall sub_1004580F(int a1, int a2);
int __stdcall sub_100458C4(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
// int __userpurge sub_10046A5C<eax>(int a1<ebp>, int a2, __int64 a3, __int64 a4);
int __stdcall sub_10046C01(int a1, unsigned int a2, int a3, int a4, int a5);
int __stdcall sub_10047135(int a1, int a2, unsigned int a3);
int __stdcall sub_1004762C(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_10048780(int a1, int a2, int a3);
int __stdcall sub_10048A62(int a1, int a2, int a3);
int __stdcall sub_10048E5A(int a1, int a2, int a3);
int __stdcall sub_1004918E(int a1, int a2, int a3);
int __stdcall sub_100491AA(int, int, int); // weak
int __stdcall sub_1004921B(int, int, int); // weak
int __stdcall sub_10049282(int a1, int a2);
int __stdcall sub_100492E1(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
int __stdcall sub_10049352(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_10049426(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_10049510(int a1, int a2, int a3);
// int __userpurge sub_1004959B<eax>(__m64 a1<mm2>, __m64 a2<mm3>, int a3, int a4, int a5);
int __stdcall sub_10049762(int, int, int); // weak
// int __userpurge sub_10049767<eax>(__m64 a1<mm2>, __m64 a2<mm3>, int a3, int a4, int a5, int a6, int a7, int a8);
// int __userpurge sub_100498EF<eax>(__m64 a1<mm2>, __m64 a2<mm3>, int a3, int a4, int a5, int a6, int a7, int a8);
// int __userpurge sub_10049B15<eax>(__m64 a1<mm2>, __m64 a2<mm3>, int a3, int a4, int a5, int a6, int a7, int a8);
int __stdcall sub_10049C68(int, int, int); // weak
int __stdcall sub_10049CBD(int, int, int); // weak
int __stdcall sub_10049CF6(int, int, int); // weak
int __stdcall sub_10049D5A(int, int, int, int, int, int); // weak
int __stdcall sub_10049DF2(int, int, int, int, int, int); // weak
int __stdcall sub_10049E3B(int, int); // weak
int __stdcall sub_10049E7E(int, int, int, int, int, int); // weak
int __stdcall sub_10049F29(int, int, int); // weak
int __stdcall sub_10049FAB(int, int); // weak
int __stdcall sub_1004A00A(int a1, int a2, int a3, int a4);
int __stdcall sub_1004A13C(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
int __stdcall sub_1004A1AD(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_1004A275(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_1004A353(int, int, int); // weak
int __stdcall sub_1004A396(int, int, int, int); // weak
int __stdcall sub_1004A47A(int, int, int, int); // weak
int __stdcall sub_1004A538(int a1, int a2);
int __stdcall sub_1004A59C(int a1, int a2, int a3);
HMODULE __cdecl sub_1004A6DB(int a1);
int __thiscall sub_1004A76B(int this);
int __thiscall sub_1004A784(_DWORD); // weak
int __thiscall sub_1004A7DD(void *this, char a2);
int __thiscall sub_1004A7F9(int this, int a2);
signed int __thiscall sub_1004A8BC(void *this, int a2, unsigned int a3);
signed int __thiscall sub_1004AFD2(int this, HANDLE hFile, struct _OVERLAPPED *NumberOfBytesWritten);
void __cdecl sub_1004B2B6(int a1);
int nullsub_1(); // weak
int __cdecl sub_1004B2D3(int a1);
int nullsub_2(); // weak
char __cdecl sub_1004B2F1(int a1);
int __cdecl sub_1004B306(int a1, int a2);
int nullsub_3(); // weak
signed int __thiscall sub_1004B318(void *this, int a2, int a3);
signed int __thiscall sub_1004B588(void *this, int a2, unsigned int a3);
int __thiscall sub_1004BA2F(void *this, int a2, unsigned int a3);
unsigned int __cdecl sub_1004BCB5(int *a1, void *a2, unsigned int a3);
void __cdecl sub_1004BCF8(int *a1);
int nullsub_4(); // weak
signed int __thiscall sub_1004BD05(void *this, int a2, unsigned int a3);
signed int __thiscall sub_1004C29B(int this, int a2, unsigned int a3);
signed int __thiscall sub_1004C5DC(void *this, HANDLE hFile);
signed int __thiscall sub_1004C884(void *this, LPCWSTR cbMultiByte, signed int a3, LPSTR lpMultiByteStr);
signed int __thiscall sub_1004CB4D(void *this, int a2, unsigned int a3);
signed int __thiscall sub_1004CB7D(void *this, int a2, unsigned int a3, int a4, int a5);
int __thiscall sub_1004CD52(int this);
int __thiscall sub_1004CD5C(int this);
// int unknown_libname_15(); weak
int __thiscall sub_1004CD98(int *this);
int __cdecl sub_1004CDA1(unsigned int a1, unsigned int a2, int a3);
// int __thiscall ATL::CComTypeInfoHolder::stringdispid::_vector_deleting_destructor_(void *, char); idb
signed int __thiscall sub_1004D0AA(int this);
signed int __thiscall sub_1004D51E(void *this);
int __cdecl sub_1004D6B2(int a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __thiscall sub_1004D7F8(void *this);
int __cdecl sub_1004D829(int a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_1004D911(int a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_1004DA53(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_1004DAB7();
int __thiscall sub_1004DAE6(void *this);
int __fastcall sub_1004DB17(int a1);
int __fastcall sub_1004DC67(int a1);
int __fastcall sub_1004DD8B(int a1);
int __fastcall sub_1004DEDA(int a1);
int __fastcall sub_1004E02D(int a1);
int __thiscall sub_1004E16C(void *this);
int __fastcall sub_1004E207(int a1);
int __fastcall sub_1004E353(int a1);
int __fastcall sub_1004E480(int a1);
int __fastcall sub_1004E5CC(int a1);
signed int __thiscall sub_1004E74D(int this);
signed int __thiscall sub_1004E885(int this);
signed int __thiscall sub_1004E976(int this);
signed int __thiscall sub_1004EB78(void *this);
// signed int __usercall sub_1004ED7C<eax>(int a1<ecx>, int a2<edi>, int a3<esi>);
// signed int __usercall sub_1004F19F<eax>(int a1<ecx>, unsigned int a2<edi>, int a3<esi>);
// int __usercall sub_1004F631<eax>(unsigned int a1<ebx>, unsigned int a2<edi>, int a3);
signed int __thiscall sub_1004F731(void *this);
signed int __thiscall sub_1004FB17(void *this);
signed int __thiscall sub_10050248(void *this);
// signed int __userpurge sub_100505EA<eax>(int a1<ecx>, unsigned int a2<edi>, int a3, int a4, int a5);
// int __thiscall CRect::CRect(_DWORD); weak
int __thiscall sub_10050714(int this);
void *__thiscall sub_1005077D(void *this);
int __thiscall sub_10050783(void *this);
void __thiscall sub_10050799(void *); // idb
int __thiscall sub_1005079E(int this, int a2, int a3, int a4, int a5, int a6, int a7);
void __thiscall sub_10050BB1(void *); // idb
int __thiscall sub_10050BB6(void *this, int a2, int a3, int a4, const void *a5, int a6, int a7);
int __thiscall sub_10050F11(int this);
int __thiscall sub_10050F2A(int this, int a2);
int __thiscall sub_100512E3(int this);
int __thiscall sub_10051383(int this, int a2, int a3, int a4);
int __cdecl sub_1005177D();
void *__thiscall sub_100517BF(void *this, int a2, unsigned int a3, int a4);
int __thiscall sub_10051A0B(int this, char a2);
signed int __thiscall sub_10051A27(int this, int a2);
int __thiscall sub_10051AA2(int this);
void __thiscall sub_10051B6E(int this, unsigned int a2);
int __thiscall sub_10051BDE(int this, char a2, char a3, int a4);
int __thiscall sub_10051CCA(int this, char a2, char a3, int a4);
int __thiscall sub_10051DED(int this, char a2, char a3, int a4);
int __thiscall sub_10051EEE(int this, char a2, char a3, int a4);
int __thiscall sub_10051FEF(int this, char a2, char a3, int a4);
int __thiscall sub_100520F0(int this, char a2, char a3, int a4);
int __thiscall sub_1005220D(int this, char a2, char a3, int a4);
int __thiscall sub_10052330(int this, char a2, char a3, int a4);
int __thiscall sub_1005242E(int this, char a2, char a3, int a4);
int __thiscall sub_100524D7(int this, char a2, char a3, int a4);
int __thiscall sub_100525FA(int this, char a2, char a3, int a4);
int __thiscall sub_100526FB(int this, char a2, char a3, int a4);
int __thiscall sub_1005281E(int this, char a2, char a3, int a4);
int __thiscall sub_100528EE(int this, char a2, char a3, int a4);
int __thiscall sub_10052A06(int this, int a2, int a3, int a4);
int __thiscall sub_10052ACB(int this, char a2, char a3, int a4);
int __thiscall sub_10052B90(int this, char a2, char a3, int a4);
int __thiscall sub_10052C86(int this, char a2, char a3, int a4);
int __thiscall sub_10052D71(int this, char a2, char a3, int a4);
int __thiscall sub_10052E46(int this, char a2, char a3, int a4);
int __thiscall sub_10052F4B(int this, char a2, char a3, int a4);
int __thiscall sub_10053056(int this, char a2, char a3, int a4);
int __thiscall sub_10053190(int this, char a2, char a3, int a4);
int __thiscall sub_10053266(int this, char a2, char a3, int a4);
int __thiscall sub_10053370(int this, char a2, char a3, int a4);
int __thiscall sub_100534A6(int this, char a2, char a3, int a4);
int __thiscall sub_1005356D(int this, char a2, char a3, int a4);
int __thiscall sub_10053634(int this, char a2, char a3, int a4);
int __thiscall sub_10053722(int this, char a2, char a3, int a4);
int __thiscall sub_10053811(int this, int a2, int a3, int a4);
void __thiscall sub_1005396D(int this, int a2, int a3, int a4);
void __thiscall sub_100539F9(int this, int a2, int a3, int a4);
void __thiscall sub_10053A9F(int this, int a2, int a3, int a4);
void __thiscall sub_10053B3B(int this, int a2, int a3, int a4);
void __thiscall sub_10053BE0(int this, int a2, int a3, int a4);
void __thiscall sub_10053C82(int this, int a2, int a3, int a4);
void __thiscall sub_10053D32(int this, int a2, int a3, int a4);
void __thiscall sub_10053DE1(int this, int a2, int a3, int a4);
void __thiscall sub_10053EB7(int this, int a2, int a3, int a4);
void __thiscall sub_10053F49(int this, int a2, int a3, int a4);
void __thiscall sub_10053FEB(int this, int a2, int a3, int a4);
void __thiscall sub_1005405D(int this, int a2, int a3, int a4);
void __thiscall sub_1005410F(int this, int a2, int a3, int a4);
void __thiscall sub_100541AE(int this, int a2, int a3, int a4);
void __thiscall sub_10054235(int this, int a2, int a3, int a4);
void __thiscall sub_10054299(int this, int a2, int a3, int a4);
void __thiscall sub_10054307(int this, int a2, int a3, int a4);
void __thiscall sub_10054390(int this, int a2, int a3, int a4);
void __thiscall sub_10054419(int this, int a2, int a3, int a4);
void __thiscall sub_1005449B(int this, int a2, int a3, int a4);
void __thiscall sub_1005454C(int this, int a2, int a3, int a4);
void __thiscall sub_100545DD(int this, int a2, int a3, int a4);
void __thiscall sub_10054674(int this, int a2, int a3, int a4);
void __thiscall sub_100546F7(int this, int a2, int a3, int a4);
void __thiscall sub_100547B1(int this, int a2, int a3, int a4);
void __thiscall sub_10054884(int this, int a2, int a3, int a4);
void __thiscall sub_100548F4(int this, int a2, int a3, int a4);
void __thiscall sub_10054964(int this, int a2, int a3, int a4);
void __thiscall sub_100549F2(int this, int a2, int a3, int a4);
void __thiscall sub_10054A7E(int this, int a2, int a3, int a4);
void *__thiscall sub_10054B5E(void *this, int a2);
void *__thiscall sub_10054B7A(void *this, int a2);
int __thiscall sub_10054C72(void *this, char a2);
int sub_10054C8E(void); // weak
void *__thiscall sub_10054C93(void *this, int a2);
int __thiscall sub_10054CAF(void *this, char a2);
int sub_10054CCB(void); // weak
void *__thiscall sub_10054CD0(void *this, int a2);
int __thiscall sub_10054CEC(void *this, char a2);
int sub_10054D08(void); // weak
void *__thiscall sub_10054D0D(void *this, int a2);
int __fastcall sub_10054D29(int a1);
int __thiscall sub_10054F15(void *this, char a2);
int sub_10054F31(void); // weak
void *__thiscall sub_10054F36(void *this, int a2);
int __thiscall sub_10054F52(void *this, char a2);
int sub_10054F6E(void); // weak
void *__thiscall sub_10054F73(void *this, int a2);
int __thiscall sub_10054F8F(void *this, char a2);
int sub_10054FAB(void); // weak
int __thiscall sub_10054FB0(int this, unsigned int a2, unsigned int a3, int a4);
void *__thiscall sub_10055281(void *this, int a2);
int __thiscall sub_1005529D(void *this, char a2);
int sub_100552B9(void); // weak
void *__thiscall sub_100552BE(void *this, int a2);
int __thiscall sub_100552DA(void *this, char a2);
int sub_100552F6(void); // weak
void *__thiscall sub_100552FB(void *this, int a2);
int __thiscall sub_10055317(void *this, char a2);
int sub_10055333(void); // weak
void *__thiscall sub_10055338(void *this, int a2);
int __thiscall sub_10055354(void *this, char a2);
int sub_10055370(void); // weak
void *__thiscall sub_10055375(void *this, int a2);
int __thiscall sub_10055391(void *this, char a2);
int sub_100553AD(void); // weak
int __thiscall sub_100553B2(int this, int a2, int a3, int a4);
void *__thiscall sub_1005543F(void *this, int a2);
int __thiscall sub_1005545B(void *this, char a2);
int sub_10055477(void); // weak
void __thiscall sub_1005547C(int this, int a2, int a3, void *a4);
void *__thiscall sub_100554EB(void *this, int a2);
int __thiscall sub_10055507(void *this, char a2);
int sub_10055523(void); // weak
void *__thiscall sub_10055528(void *this, int a2);
void *__thiscall sub_1005571A(void *this, int a2);
int __thiscall sub_10055736(void *this, char a2);
int sub_10055752(void); // weak
void *__thiscall sub_10055757(void *this, int a2);
int __thiscall sub_10055773(void *this, char a2);
int sub_1005578F(void); // weak
void *__thiscall sub_10055794(void *this, int a2);
int __thiscall sub_100557B0(void *this, char a2);
int sub_100557CC(void); // weak
void *__thiscall sub_100557D1(void *this, int a2);
int __thiscall sub_100557ED(int this, char a2);
int __thiscall sub_10055809(void *this, char a2);
int sub_10055825(void); // weak
void *__thiscall sub_1005582A(void *this, int a2);
int __thiscall sub_10055846(void *this, char a2);
int sub_10055862(void); // weak
int __thiscall sub_10055867(int this);
void *__thiscall sub_10055968(void *this, int a2);
int __thiscall sub_10055984(void *this, char a2);
int sub_100559A0(void); // weak
void *__thiscall sub_100559A5(void *this, int a2);
int __thiscall sub_100559C1(void *this, char a2);
int sub_100559DD(void); // weak
void *__thiscall sub_100559E2(void *this, int a2);
int __thiscall sub_100559FE(void *this, char a2);
int sub_10055A1A(void); // weak
void *__thiscall sub_10055A1F(void *this, int a2);
int __thiscall sub_10055A3B(void *this, char a2);
int sub_10055A57(void); // weak
void *__thiscall sub_10055A5C(void *this, int a2);
int __thiscall sub_10055A78(void *this, char a2);
int sub_10055A94(void); // weak
void *__thiscall sub_10055A99(void *this, int a2);
int __thiscall sub_10055AB5(void *this, char a2);
int sub_10055AD1(void); // weak
void *__thiscall sub_10055AD6(void *this, int a2);
int __thiscall sub_10055AF2(void *this, char a2);
int sub_10055B0E(void); // weak
void *__thiscall sub_10055B13(void *this, int a2);
int __thiscall sub_10055B2F(void *this, char a2);
int sub_10055B4B(void); // weak
void *__thiscall sub_10055B50(void *this, int a2);
int __thiscall sub_10055B6C(void *this, char a2);
int sub_10055B88(void); // weak
int __thiscall sub_10055B8D(int this, int a2, int a3, unsigned int a4);
void *__thiscall sub_10055E36(void *this, int a2);
int __thiscall sub_10055E52(void *this, char a2);
int sub_10055E6E(void); // weak
void *__thiscall sub_10055E73(void *this, int a2);
int __thiscall sub_10055E8F(void *this, char a2);
int sub_10055EAB(void); // weak
void *__thiscall sub_10055EB0(void *this, int a2);
int __thiscall sub_10055ECC(void *this, char a2);
int sub_10055EE8(void); // weak
void *__thiscall sub_10055EED(void *this, int a2);
int __thiscall sub_10055F05(void *this, char a2);
int sub_10055F21(void); // weak
void *__thiscall sub_10055F26(void *this, int a2);
int __thiscall sub_10055F3E(void *this, char a2);
int sub_10055F5A(void); // weak
void *__thiscall sub_10055F5F(void *this, int a2);
int __thiscall sub_10055F77(void *this, char a2);
int sub_10055F93(void); // weak
void *__thiscall sub_10055F98(void *this, int a2);
int __thiscall sub_10055FB0(void *this, char a2);
int sub_10055FCC(void); // weak
void *__thiscall sub_10055FD1(void *this, int a2);
int __thiscall sub_10055FE9(void *this, char a2);
int sub_10056005(void); // weak
int __thiscall sub_1005600A(void *this);
void *__thiscall sub_10056053(void *this, int a2);
void *__thiscall sub_1005606B(void *this, int a2);
void *__cdecl sub_10056083(int a1);
int __thiscall sub_100567DF(void *this, char a2);
int __thiscall sub_100567FB(void *this, char a2);
int sub_10056817(void); // weak
int __thiscall sub_1005681C(void *this, char a2);
int sub_10056838(void); // weak
// unsigned int __userpurge sub_10056B00<eax>(int a1<ebp>, __m128 a2<xmm0>, int a3, int a4, int a5, int a6);
// int __userpurge sub_10056C80<eax>(__m128 a1<xmm0>, int a2, int a3, int a4, int a5);
int __cdecl sub_10056E10(__m128 *a1, int a2, int a3);
int *__cdecl sub_10057000();
void __stdcall sub_100574F0(int a1, int a2, int a3, int a4);
int __cdecl sub_100575E0(__m128i *a1, int a2, int a3);
void __cdecl sub_10057800();
void __cdecl sub_10057900();
void __cdecl sub_10057B00();
// int __usercall sub_10057EE0<eax>(__m64 a1<mm0>);
// int __usercall sub_10058000<eax>(__m64 a1<mm0>);
unsigned int __cdecl sub_100583F8(int a1, int a2, int a3);
_DWORD __cdecl sub_100584B8(_DWORD); // weak
// signed int __usercall sub_1005851F<eax>(int a1<esi>);
int __cdecl sub_10058692(int a1);
char __cdecl sub_1005879C(int a1);
int __cdecl sub_10058843(int a1, char a2);
// char __usercall sub_100588A6<al>(int a1<esi>);
int __cdecl sub_1005894F(int a1, int a2, int a3);
char __cdecl sub_10058B47(int a1);
// char __usercall sub_10058C08<al>(int a1<esi>);
// char __usercall sub_10058C96<al>(char a1<cl>, int a2<esi>, char a3);
// char __usercall sub_10058F91<al>(int a1<esi>);
char __cdecl sub_10059243(int a1);
char __cdecl sub_1005947F(int a1);
// char __usercall sub_100595F9<al>(int a1<esi>);
// char __usercall sub_10059750<al>(int a1<ebx>);
// char __usercall sub_100599E4<al>(int a1<ebx>);
char __cdecl sub_10059C0D(int a1);
char __cdecl sub_10059CE4(int a1);
char __cdecl sub_10059D80(int a1);
char __cdecl sub_10059E57(int a1);
signed int __cdecl sub_10059EEE(int a1);
char __cdecl sub_1005A0DB(int a1);
char __cdecl sub_1005A159(int a1, int a2);
int __cdecl sub_1005A248(int a1);
int __cdecl sub_1005A272(int a1);
void __cdecl sub_1005A2EF(int a1);
int __cdecl sub_1005A30A(int a1);
int __cdecl sub_1005A327(int a1, int a2);
int __cdecl sub_1005A358(int, char *Dest); // idb
int __cdecl sub_1005A3EF(int a1);
int __cdecl sub_1005A400(int a1);
int __thiscall sub_1005A44C(void *this, int a2, const void *a3);
int __cdecl sub_1005A4E0(int a1, int a2, int a3, int a4);
void __cdecl sub_1005A502(int *a1, int a2);
int __cdecl sub_1005A520(int a1, int a2);
void __cdecl sub_1005A535(int *a1, const void *a2);
int __cdecl sub_1005A55A(int a1, const void *a2);
int __cdecl sub_1005A57F(int a1, int a2, int a3, int a4);
int __cdecl sub_1005A742(int a1, unsigned int a2);
// unsigned int __usercall sub_1005A8B5<eax>(int a1<ebx>, int a2, int a3);
// int __usercall sub_1005A8E7<eax>(int a1<ecx>, int a2<ebx>, int a3, void *a4, void *a5);
signed int __cdecl sub_1005AD08(int a1, int a2);
int __cdecl sub_1005AE55(int a1, void *a2, void *a3);
void __cdecl sub_1005AF87(int *a1, void **a2, void **a3);
int __cdecl sub_1005B008(int a1, int a2, int a3);
int __cdecl sub_1005B022(int a1, int a2);
char __cdecl sub_1005B038(int a1, int a2);
signed int __cdecl sub_1005B064(int a1, int a2, int a3);
signed int __cdecl sub_1005B08D(int a1, int a2, int a3);
signed int __cdecl sub_1005B0B8(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
signed int __cdecl sub_1005B189(int a1, int a2, int a3, int a4);
signed int __cdecl sub_1005B1BC(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_1005B223(int a1);
int __cdecl sub_1005B22C(int a1);
int __cdecl sub_1005B23E(int a1);
signed int __cdecl sub_1005B270(int a1);
int __cdecl sub_1005B289(int a1, unsigned __int8 a2, int a3);
void __cdecl sub_1005B2D6(int a1, int a2);
char __cdecl sub_1005B303(int a1, int a2);
int __cdecl sub_1005BA9D(int, double, double); // idb
int __cdecl sub_1005BAE5(int a1);
int __cdecl sub_1005BAEE(int a1);
unsigned int __cdecl sub_1005BAF7(int a1, int a2);
void __cdecl sub_1005BBE2(int a1, int a2);
char __cdecl sub_1005BCF2(int a1, int a2, int a3);
int __cdecl sub_1005BE69(int a1, int a2);
unsigned int __cdecl sub_1005BEAD(int a1, int a2, unsigned int a3, char a4);
int __cdecl sub_1005C145(int a1, int a2, int a3, int a4, char a5);
int __cdecl sub_1005C493(int a1, int a2, int a3, int a4, signed int a5);
int __cdecl sub_1005C69B(int a1, int a2, int a3);
int __cdecl sub_1005C9ED(int a1, int a2, int a3, int a4);
void __cdecl sub_1005CAFB(_DWORD *a1);
void __cdecl sub_1005CE04(_DWORD *a1);
void __cdecl sub_1005CF17(_DWORD *a1);
void __cdecl sub_1005D0CF(int a1, int a2, double a3);
void __cdecl sub_1005D0EA(int a1, int a2, unsigned int a3, int a4, char a5, char a6, char a7, char a8, char a9);
void __cdecl sub_1005D18B(int a1, int a2, int a3, __int16 a4);
void __cdecl sub_1005D1AF(int a1, int a2, char a3);
void __cdecl sub_1005D1CA(int a1, __int64 a2);
void __cdecl sub_1005D203(int a1, int a2, int a3, signed int a4, int a5);
int __cdecl sub_1005D25D(int *, int, int); // idb
int __cdecl sub_1005D285(int a1, int a2, int a3);
int __cdecl sub_1005D2F7(int a1, unsigned int a2, unsigned int a3);
void *__cdecl sub_1005D357(int *a1, int a2, int a3);
int __cdecl sub_1005D3AA(_DWORD, _DWORD); // weak
signed int __cdecl sub_1005D3AF(int a1);
int __cdecl sub_1005D414(int a1, void *a2);
void *__cdecl sub_1005D431(int a1);
// int __usercall sub_1005D47D<eax>(int result<eax>, unsigned int a2<ecx>);
int __fastcall sub_1005D4C9(int a1);
// int __usercall sub_1005D547<eax>(int a1<eax>, int a2<ecx>);
int __cdecl sub_1005D5BD();
int __fastcall sub_1005D5FF(int a1);
int __cdecl sub_1005D6F9(int a1, int a2, int a3, unsigned int a4);
int __cdecl sub_1005D9FE(int a1, int a2, int a3, int a4);
// int __usercall sub_1005DF69<eax>(int a1<eax>, int a2, int a3);
int __cdecl sub_1005E76D(int a1, int a2);
int __cdecl sub_1005E8AB(int a1, unsigned int *a2);
int __cdecl sub_1005E92E(int a1, int a2);
int __cdecl sub_1005EA6A(int a1, int a2);
int __cdecl sub_1005EA82(int a1, int a2);
int __cdecl sub_1005EB96(float a1, int a2);
int __cdecl sub_1005EFE8(int a1, unsigned int *a2);
int sub_1005F00B(); // weak
int __cdecl sub_1005F02E(int a1, int a2);
int __cdecl sub_1005F062(float a1, int a2);
int __cdecl sub_1005F096(int a1, signed int a2);
int __cdecl sub_1005F0A6(int a1, signed int a2);
const void **__cdecl sub_1005F0BE(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __cdecl sub_1005F105(const void *a1, void *a2, int a3);
int __cdecl sub_1005F127(void *a1, unsigned int a2);
// unsigned int __usercall sub_1005F142<eax>(char _CF<cf>, char _ZF<zf>, char _SF<sf>, char _OF<of>, int a5<ebx>);
// int __usercall sub_1005F174<eax>(int a1<esi>);
// int __usercall sub_1005F32F<eax>(int a1<esi>);
// void __usercall sub_1005F4A5(int a1<ebx>);
int __cdecl sub_1005F537(int a1);
signed int __cdecl sub_1005F571(int a1);
int __cdecl sub_1005F604(int a1);
int __cdecl sub_1005F63B(int a1);
int __cdecl sub_1005F64C(int a1);
// int __usercall sub_1005F68D<eax>(int a1<eax>, int a2<edx>);
int __cdecl sub_1005F6A2(int a1, signed int a2, unsigned int a3);
int __cdecl sub_1005F79E(int a1, signed int a2, unsigned int a3);
int __cdecl sub_1005F82C(int a1, signed int a2, unsigned int a3, unsigned int a4);
int __cdecl sub_1005F8BE(int a1, signed int a2, int a3, unsigned int a4);
int __cdecl sub_1005F95C(int a1, signed int a2, char a3, int a4, int a5, int a6);
int __cdecl sub_1005F9BD(int a1, signed int a2, char a3, int a4, int a5, int a6);
int __cdecl sub_1005FA1E(int a1);
// int __usercall sub_1005FB9D<eax>(int a1<esi>, int a2, char a3);
// int __usercall sub_1005FC25<eax>(int a1<esi>, int a2, char a3);
int __cdecl sub_1005FCB0(int a1, int a2, int a3, unsigned int a4, char a5);
int __cdecl sub_1005FDCE(int a1, int a2, unsigned int a3, unsigned int a4, char a5);
int __cdecl sub_1005FEF1(int a1, signed int a2);
int __cdecl sub_1005FFD2(int a1);
void *__cdecl sub_10060002(int a1);
signed int __cdecl sub_100600B6(int a1);
int __cdecl sub_100600D8(int a1);
int __cdecl sub_100600F3(int a1);
int __cdecl sub_1006010F(int a1);
char __fastcall sub_1006012B(int a1, int a2);
char __cdecl sub_1006019C(int a1);
// int __usercall sub_1006038B<eax>(int a1<eax>);
// int __usercall sub_100603FA<eax>(int a1<esi>);
int __cdecl sub_100605A7(int a1);
int __cdecl sub_100606D4(int a1);
int __cdecl sub_10060758(int a1);
signed int __cdecl sub_10060788(int a1);
signed int __cdecl sub_100607C7(int a1);
signed int __cdecl sub_10060805(int a1, int a2, int a3, int a4);
signed int __cdecl sub_100608EA(int a1, int a2, int a3);
signed int __cdecl sub_10060901(int a1, int a2);
void *__cdecl sub_10060DB1(int a1);
void __cdecl sub_10060DF3(void *Memory);
void *__cdecl sub_10060E00(int *a1, size_t Size);
void __cdecl sub_10060E36(int a1, void *Memory);
void *__cdecl sub_10060E4F(int a1, void *a2, const void *a3, unsigned int a4);
// void *__usercall sub_10060E72<eax>(int a1<ebx>, int a2, void *a3, char a4, unsigned int a5);
int __cdecl sub_10060EA3(int a1);
signed int __cdecl sub_10060ED9(int *a1, int a2, unsigned int a3);
int __cdecl sub_10060EF3(int *); // idb
unsigned __int8 __cdecl sub_10060F51(int *a1, int a2);
char __cdecl sub_10060FB3(int a1, void *a2, int a3);
void __cdecl sub_100611C9(int a1, int a2, int a3);
char __cdecl sub_10061492(int a1, int a2, int a3, int a4, int a5);
// void *__usercall sub_1006160D<eax>(int a1<ebx>, int a2);
signed int __cdecl sub_100617A9(int *a1, unsigned int a2);
void __cdecl sub_10061835(int *a1, int a2, int a3);
void __cdecl sub_10061A2B(int *a1, int a2, unsigned int a3);
signed int __cdecl sub_10061B55(int *a1, int a2, unsigned int a3);
void __cdecl sub_10061B9F(int *a1, int a2, unsigned int a3);
void __cdecl sub_10061CAA(int a1, unsigned int a2, unsigned int a3);
void __cdecl sub_10061D99(int a1, int a2, size_t Size);
signed int __cdecl sub_10061F50(int *a1, int a2, unsigned int a3);
// unsigned int __usercall sub_10061F9A<eax>(int a1<ecx>, int a2<ebx>, int a3);
signed int __cdecl sub_100621C4(int a1, int a2, unsigned int a3);
void *__cdecl sub_100622CD(int a1, size_t Size);
void __cdecl sub_100622D8(int a1, void *Memory);
void *__cdecl sub_100622E3(int a1, size_t Size);
void __cdecl sub_100622EE(int a1, void *Memory);
int __cdecl sub_100622F9(int a1, int a2, int a3);
int __cdecl sub_100622FE(int a1);
int __cdecl sub_10062312();
int __cdecl nullsub_5(_DWORD); // weak
// int __usercall sub_10062316<eax>(int a1<esi>);
// int __usercall sub_100623BE<eax>(int a1<edi>);
// int __usercall sub_100624EF<eax>(int a1<edi>);
// int __usercall sub_100625C3<eax>(int a1<esi>);
int __cdecl sub_10062659(int a1, int a2, int a3, int a4);
int __cdecl sub_100626C1(int a1, int a2, int a3, int a4);
int __cdecl sub_100627C9(int a1, int a2, int a3, int a4);
int sub_100627EC(); // weak
int __cdecl sub_10062854(int a1, char a2);
int __thiscall sub_10062927(int this);
int __cdecl sub_10062966(int a1);
signed int __cdecl sub_10062976(int a1, int a2);
int __cdecl sub_10062B50();
signed int __cdecl sub_10062B53(int a1);
int __cdecl sub_10062CF2(int a1, int a2);
// char __usercall sub_10062E58<al>(int a1<esi>);
int __cdecl sub_10062F3B(int a1, int a2);
int sub_10063458(); // weak
int __cdecl sub_10063493(int a1, char a2);
int __cdecl sub_1006358B(int a1, int a2, int a3);
char __cdecl sub_10063735(int a1, int a2, signed int a3, signed int a4);
signed int __cdecl sub_1006381F(int a1, int a2, signed int a3, int a4, signed int a5);
char __cdecl sub_10063909(int a1);
char __cdecl sub_10063967(int a1, int a2);
int __cdecl sub_10063D34(int a1);
int __cdecl sub_10063E63(int a1);
// char __usercall sub_10063E9D<al>(int a1<edi>);
char __cdecl sub_10063EF8(int a1, int a2);
char __cdecl sub_100640F5(int a1, int a2);
char __cdecl sub_1006431E(int a1, int a2);
char __cdecl sub_10064400(int a1, int a2);
int __cdecl sub_1006476E(int a1);
int __cdecl sub_10064A11(int a1);
int __cdecl sub_10064A72(int a1);
int __cdecl sub_10064C29(int a1);
int __cdecl sub_10064C9D(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
unsigned int __cdecl sub_10064D02(int a1, int a2, int a3, int a4, int a5, int a6);
unsigned int __cdecl sub_10064D92(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int sub_10064E1E(); // weak
int __cdecl sub_10064EC4(int a1, char a2);
int __cdecl sub_10064F47(int a1);
int __cdecl sub_10064F61(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __cdecl sub_10065027(int a1, int a2, int a3, int a4);
int sub_10065032(); // weak
const void **__cdecl sub_1006503A(int a1, int a2, int a3, int *a4);
int **__cdecl sub_10065117(int a1, int a2, int a3, int **a4);
const void **__cdecl sub_1006516E(int a1, int a2, int a3, const void **a4);
int __cdecl sub_100651D8(int a1, int a2, int a3, int a4);
int __cdecl sub_1006527C(int a1, int a2, int a3, int a4);
int __cdecl sub_10065383(int a1);
// int __usercall sub_10065544<eax>(int a1<eax>);
int __cdecl sub_100655F4(int a1, int a2, int a3, int a4, int a5);
const void **__cdecl sub_1006565F(int a1, int *a2, int a3, int a4, int a5);
int __cdecl sub_10065682(int a1, int a2, int a3, int *a4, int a5);
int nullsub_6(); // weak
unsigned int *__cdecl sub_100657B5(unsigned int a1, unsigned int *a2, unsigned int *a3, unsigned int *a4, int a5);
int __cdecl sub_10065B5B(int a1, int a2, int a3, int *a4, int a5);
int __cdecl sub_10065D79(int a1);
// int __usercall sub_10065E9A<eax>(int a1<eax>);
int sub_10065F4A(); // weak
const void **__cdecl sub_10065F5F(int a1, int a2, const void **a3, int a4, int a5, int a6, int a7);
int __cdecl sub_10066005(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_10066036(int a1, int a2, int a3, int *a4);
char __cdecl sub_1006618C(int a1, int a2, int a3, int a4);
int __cdecl sub_10066372(int a1);
unsigned int __cdecl sub_100663E7(unsigned int a1, unsigned int a2, int a3, int a4);
// int __usercall sub_1006649F<eax>(int a1<eax>, int a2<esi>);
int __cdecl sub_100667D7(int a1, int a2, int a3, int a4);
// int __usercall sub_1006692A<eax>(int a1<eax>, int a2<esi>, int a3);
// int __usercall sub_10066A62<eax>(int a1<edi>, int a2);
// int __usercall sub_10066AEF<eax>(int a1<eax>, int a2<edi>, int a3, int a4, int a5);
signed int __cdecl sub_10066C6F(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
// int __usercall sub_10066D89<eax>(signed int a1<eax>, int a2, signed int a3, signed int a4);
int __cdecl sub_10066E59(int a1, int a2, int a3, int a4);
__int16 __cdecl sub_10066F02(int a1, int a2, int *a3, int a4);
// int __usercall sub_10067170<eax>(int a1<eax>);
int __cdecl sub_10067200(int a1);
int nullsub_7(); // weak
int __cdecl sub_10067223(int a1, char a2);
int __cdecl sub_10067325(int a1);
int __cdecl sub_10067334(int a1);
signed int __cdecl sub_10067447(int a1, void *a2);
// int __usercall sub_1006753E<eax>(int a1<esi>);
signed int __cdecl sub_1006766B(signed int a1);
// void __usercall sub_100677F8(int a1<edi>);
int __cdecl sub_100678BD(int a1, int a2, int a3, int a4);
int __cdecl sub_10067945(int a1, int a2, int a3, int a4);
int __cdecl sub_100679D2(int a1, int a2, void **a3, int a4);
int __cdecl sub_10067ABD(int a1, int a2, int a3, int a4);
char __cdecl sub_10067BBC(int a1, int a2, void **a3, int a4);
// int __usercall sub_10067D40<eax>(int a1<esi>);
void __cdecl sub_10067D76(int a1);
int nullsub_8(); // weak
int __cdecl sub_10067E41(int a1);
signed int __cdecl sub_10067E55(int a1);
int __cdecl sub_10067EDC(int a1, int a2, int a3);
int __cdecl sub_10067F47(int a1, int a2, int a3);
int __cdecl sub_10067FD4(int a1, int a2, int a3);
int __cdecl sub_1006876F(int a1, int a2);
int __cdecl sub_100687A3(int a1, const void *a2, unsigned int a3);
bool __cdecl sub_100687D4(int a1);
int __cdecl sub_100687E1(unsigned int a1, int a2, unsigned int a3);
int sub_10068911(); // weak
int sub_10068921(); // weak
int __cdecl sub_1006892C(int a1, int a2, int a3, int a4, int a5);
char *__cdecl sub_10068C41(int a1, int a2, int a3, int a4, int a5);
char __cdecl sub_10068DFF(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_10068E3C(int a1, int a2, int a3, int a4, int a5);
char __cdecl sub_10068E88(int a1, int a2, int a3, int a4, int a5);
// char __usercall sub_10068ED4<al>(double a1<st0>, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_100692B5(char a1, char a2, int a3, int a4, int a5);
int __cdecl sub_100692E9(int a1, int a2, int a3);
int __cdecl sub_1006984D(int a1, int a2);
// signed int __usercall sub_1006985E<eax>(unsigned int *a1<eax>, int a2, unsigned int a3, unsigned int a4, int a5, int a6, int a7, int a8, int a9, unsigned int a10);
signed int __cdecl sub_10069BE3(int a1, unsigned int *a2, int a3, int a4, int a5);
signed int __cdecl sub_10069C62(unsigned int a1, unsigned int a2, int a3, unsigned int *a4, unsigned int *a5, int a6, int a7, int a8, int a9);
int __cdecl sub_10069D65(int a1, int a2, int a3, int a4);
int __cdecl sub_10069D94(int a1, int a2, int a3);
int __cdecl sub_10069EA9(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_1006A30B(int a1, int a2, int a3, int a4, int a5, int a6);
__int16 __cdecl sub_1006A9C3(int a1, int a2, int a3, int a4, int a5, int a6);
char __cdecl sub_1006AD1E(int a1, int a2, int a3, int a4, int a5, int a6);
signed int __cdecl sub_1006BAF1(int a1, int a2, int a3, int a4, int a5, int a6);
// int _CxxFrameHandler(void); weak
// int __cdecl CxxThrowException(_DWORD, _DWORD); weak
// int __stdcall unknown_libname_4(void *, unsigned int, int, void (__thiscall *)(void *)); idb
// int __cdecl atexit(void (__cdecl *)());
// int __cdecl finite(double X);
// int snprintf(char *Dest, size_t Count, const char *Format, ...);
// int __cdecl vsnprintf(char *DstBuf, size_t MaxCount, const char *Format, va_list ArgList);
// int __cdecl atoi(const char *Str);
// int __cdecl isdigit(int C);
// int __cdecl isalpha(int C);
// int __cdecl isalnum(int C);
// int __cdecl isspace(int C);
// int sscanf(const char *Src, const char *Format, ...);
// void __cdecl free(void *Memory);
// char *__cdecl strdup(const char *Src);
// char *__cdecl setlocale(int, const char *);
// int __stdcall unknown_libname_5(void *, unsigned int, int, int, void (__thiscall *)(void *)); idb
// __int64 __usercall ftol<edx:eax>(_DWORD<ecx>, _DWORD<edx>, double<st0>); weak
// void __cdecl longjmp(jmp_buf, int);
// int __cdecl setjmp3(_DWORD, _DWORD); weak
// double __cdecl floor(double);
// int __fastcall unknown_libname_6(_DWORD, _DWORD); weak
// void __cdecl exit(int Code);
// int sprintf(char *Dest, const char *Format, ...);
// void *__cdecl malloc(size_t Size);
void __cdecl sub_1006C632();
void __cdecl sub_1006C676(); // idb
// int __usercall sub_1006C6C0<eax>(int a1<ebp>);
// int __usercall sub_1006C6C9<eax>(int a1<ebp>);
int __cdecl SEH_10001020();
// int __usercall sub_1006C6F0<eax>(int a1<ebp>);
// int __usercall sub_1006C6F9<eax>(int a1<ebp>);
// int __usercall sub_1006C705<eax>(int a1<ebp>);
// int __usercall sub_1006C711<eax>(int a1<ebp>);
// int __usercall sub_1006C71D<eax>(int a1<ebp>);
// int __usercall sub_1006C72C<eax>(int a1<ebp>);
// int __usercall sub_1006C73B<eax>(int a1<ebp>);
// int __usercall sub_1006C74A<eax>(int a1<ebp>);
// int __usercall sub_1006C759<eax>(int a1<ebp>);
// int __usercall sub_1006C768<eax>(int a1<ebp>);
// int __usercall sub_1006C777<eax>(int a1<ebp>);
// int __usercall sub_1006C786<eax>(int a1<ebp>);
// int __usercall sub_1006C795<eax>(int a1<ebp>);
// int __usercall sub_1006C7A4<eax>(int a1<ebp>);
// int __usercall sub_1006C7B3<eax>(int a1<ebp>);
// int __usercall sub_1006C7C2<eax>(int a1<ebp>);
// int __usercall sub_1006C7D1<eax>(int a1<ebp>);
// int __usercall sub_1006C7E0<eax>(int a1<ebp>);
// int __usercall sub_1006C7EF<eax>(int a1<ebp>);
// int __usercall sub_1006C7FE<eax>(int a1<ebp>);
// int __usercall sub_1006C80D<eax>(int a1<ebp>);
// int __usercall sub_1006C81C<eax>(int a1<ebp>);
// int __usercall sub_1006C82B<eax>(int a1<ebp>);
// int __usercall sub_1006C83A<eax>(int a1<ebp>);
// int __usercall sub_1006C849<eax>(int a1<ebp>);
// int __usercall sub_1006C858<eax>(int a1<ebp>);
// int __usercall sub_1006C867<eax>(int a1<ebp>);
// int __usercall sub_1006C876<eax>(int a1<ebp>);
// int __usercall sub_1006C885<eax>(int a1<ebp>);
// int __usercall sub_1006C894<eax>(int a1<ebp>);
// int __usercall sub_1006C8A3<eax>(int a1<ebp>);
// int __usercall sub_1006C8B2<eax>(int a1<ebp>);
// int __usercall sub_1006C8C1<eax>(int a1<ebp>);
int __cdecl SEH_10001770();
int __cdecl SEH_10001DB0();
int __cdecl SEH_10001F00();
int __cdecl SEH_10002060();
int __cdecl SEH_100021D0();
int __cdecl SEH_10002390();
int __cdecl SEH_10002470();
int __cdecl SEH_10002560();
// int __usercall sub_1006C950<eax>(int a1<ebp>);
int __cdecl SEH_10002670();
// int __usercall sub_1006C970<eax>(int a1<ebp>);
int __cdecl SEH_10002710();
int __cdecl SEH_10002800();
// int __usercall sub_1006C9A0<eax>(int a1<ebp>);
// int __usercall sub_1006C9A9<eax>(int a1<ebp>);
// int __usercall sub_1006C9B7<eax>(int a1<ebp>);
// int __usercall sub_1006C9C5<eax>(int a1<ebp>);
// int __usercall sub_1006C9D3<eax>(int a1<ebp>);
// int __usercall sub_1006C9E1<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::_UD3DRenderDevice();
// int __usercall sub_1006CA00<eax>(int a1<ebp>);
int __cdecl SEH_10003640();
// int __usercall sub_1006CA20<eax>(int a1<ebp>);
void __cdecl sub_1006CA29();
void __cdecl sub_1006CA37();
// int __usercall sub_1006CA45<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::UD3DRenderDevice();
int __cdecl SEH_100045D0();
int __cdecl SEH_10005670();
int __cdecl SEH_10006020();
int __cdecl SEH_10006DC0();
int __cdecl SEH_1000A310();
int __cdecl SEH_1000BBA0();
// int __usercall sub_1006CAC0<eax>(int a1<ebp>);
// int __usercall sub_1006CAC8<eax>(int a1<ebp>);
// int __usercall sub_1006CAD3<eax>(int a1<ebp>);
// int __usercall sub_1006CADE<eax>(int a1<ebp>);
// int __usercall sub_1006CAEC<eax>(int a1<ebp>);
// int __usercall sub_1006CAFA<eax>(int a1<ebp>);
int __cdecl SEH_1000BF10();
// int __usercall sub_1006CB20<eax>(int a1<ebp>);
// int __usercall sub_1006CB28<eax>(int a1<ebp>);
// int __usercall sub_1006CB33<eax>(int a1<ebp>);
// int __usercall sub_1006CB3E<eax>(int a1<ebp>);
// int __usercall sub_1006CB4C<eax>(int a1<ebp>);
// int __usercall sub_1006CB5A<eax>(int a1<ebp>);
int __cdecl SEH_1000C330();
int __cdecl SEH_1000C3D0();
int __cdecl sub_1006CB90();
int __cdecl SEH_1000DBE0();
int __cdecl sub_1006CBB0();
int __cdecl SEH_1000DF70();
int __cdecl SEH_100102C0();
// int __usercall sub_1006CBE0<eax>(int a1<ebp>);
// int __usercall sub_1006CBE9<eax>(int a1<ebp>);
// int __usercall sub_1006CBF2<eax>(int a1<ebp>);
// int __usercall sub_1006CBFB<eax>(int a1<ebp>);
int __cdecl SEH_100114E0();
int __cdecl SEH_10013360();
int __cdecl SEH_10013BC0();
int __cdecl UD3DRenderDevice::StaticConstructor();
int __cdecl UD3DRenderDevice::GetCachedResource();
int __cdecl UD3DRenderDevice::FlushResource();
// int __usercall sub_1006CC60<eax>(int a1<ebp>);
// int __usercall sub_1006CC69<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::UnSetRes();
int __cdecl UD3DRenderDevice::RestoreGamma();
// int __usercall sub_1006CC90<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::Unlock();
// int __usercall sub_1006CCB0<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::Present();
// int __usercall sub_1006CCD0<eax>(int a1<ebp>);
// int __usercall sub_1006CCD9<eax>(int a1<ebp>);
// int __usercall sub_1006CCE2<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::ReadPixels();
// int __usercall sub_1006CD00<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::SetEmulationMode();
// int __usercall sub_1006CD20<eax>(int a1<ebp>);
// int __usercall sub_1006CD29<eax>(int a1<ebp>);
// int __usercall sub_1006CD35<eax>(int a1<ebp>);
// int __usercall sub_1006CD41<eax>(int a1<ebp>);
// int __usercall sub_1006CD4D<eax>(int a1<ebp>);
// int __usercall sub_1006CD5C<eax>(int a1<ebp>);
// int __usercall sub_1006CD6B<eax>(int a1<ebp>);
// int __usercall sub_1006CD7A<eax>(int a1<ebp>);
// int __usercall sub_1006CD89<eax>(int a1<ebp>);
// int __usercall sub_1006CD98<eax>(int a1<ebp>);
// int __usercall sub_1006CDA7<eax>(int a1<ebp>);
// int __usercall sub_1006CDB6<eax>(int a1<ebp>);
// int __usercall sub_1006CDC5<eax>(int a1<ebp>);
// int __usercall sub_1006CDD4<eax>(int a1<ebp>);
// int __usercall sub_1006CDE3<eax>(int a1<ebp>);
// int __usercall sub_1006CDF2<eax>(int a1<ebp>);
// int __usercall sub_1006CE01<eax>(int a1<ebp>);
// int __usercall sub_1006CE10<eax>(int a1<ebp>);
// int __usercall sub_1006CE1F<eax>(int a1<ebp>);
// int __usercall sub_1006CE2E<eax>(int a1<ebp>);
// int __usercall sub_1006CE3D<eax>(int a1<ebp>);
// int __usercall sub_1006CE4C<eax>(int a1<ebp>);
// int __usercall sub_1006CE5B<eax>(int a1<ebp>);
// int __usercall sub_1006CE6A<eax>(int a1<ebp>);
// int __usercall sub_1006CE79<eax>(int a1<ebp>);
// int __usercall sub_1006CE88<eax>(int a1<ebp>);
// int __usercall sub_1006CE97<eax>(int a1<ebp>);
// int __usercall sub_1006CEA6<eax>(int a1<ebp>);
// int __usercall sub_1006CEB5<eax>(int a1<ebp>);
// int __usercall sub_1006CEC4<eax>(int a1<ebp>);
// int __usercall sub_1006CED3<eax>(int a1<ebp>);
// int __usercall sub_1006CEE2<eax>(int a1<ebp>);
// int __usercall sub_1006CEF1<eax>(int a1<ebp>);
int __cdecl SEH_10015BF0();
// int __usercall sub_1006CF10<eax>(int a1<ebp>);
// int __usercall sub_1006CF1B<eax>(int a1<ebp>);
// int __usercall sub_1006CF26<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::GetPixelShader();
// int __usercall sub_1006CF40<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::RenderMovie();
// int __usercall sub_1006CF60<eax>(int a1<ebp>);
// int __usercall sub_1006CF69<eax>(int a1<ebp>);
// int __usercall sub_1006CF74<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::GetNewMovie();
int __cdecl UD3DRenderDevice::TakeScreenshot();
// int __usercall sub_1006CFA0<eax>(int a1<ebp>);
// int __usercall sub_1006CFA9<eax>(int a1<ebp>);
int __cdecl SEH_10016410();
// int __usercall sub_1006CFD0<eax>(int a1<ebp>);
// int __usercall sub_1006CFD9<eax>(int a1<ebp>);
int __cdecl SEH_10016490();
// int __usercall sub_1006D000<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::GetVertexShader();
int __cdecl UD3DRenderDevice::Flush();
int __cdecl UD3DRenderDevice::UpdateGamma();
int __cdecl UD3DRenderDevice::Exec();
// int __usercall sub_1006D050<eax>(int a1<ebp>);
// int __usercall sub_1006D059<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::Lock();
int __cdecl UD3DRenderDevice::Exit();
// int __usercall sub_1006D080<eax>(int a1<ebp>);
void __cdecl sub_1006D089();
void __cdecl sub_1006D097();
// int __usercall sub_1006D0A5<eax>(int a1<ebp>);
void __cdecl sub_1006D0B3();
int __cdecl UD3DRenderDevice::UD3DRenderDevice();
// int __usercall sub_1006D0D0<eax>(int a1<ebp>);
// int __usercall sub_1006D0D9<eax>(int a1<ebp>);
// int __usercall sub_1006D0E2<eax>(int a1<ebp>);
// int __usercall sub_1006D0EB<eax>(int a1<ebp>);
int __cdecl UD3DRenderDevice::Init();
int __cdecl UD3DRenderDevice::SetRes();
int __cdecl SEH_10019BD0();
int __cdecl SEH_10019D00();
int __cdecl SEH_10019F80();
// int __usercall sub_1006D140<eax>(int a1<ebp>);
// int __usercall sub_1006D149<eax>(int a1<ebp>);
int __cdecl SEH_1001A090();
int __cdecl SEH_1001A340();
int __cdecl SEH_1001A420();
// int __usercall sub_1006D180<eax>(int a1<ebp>);
// int __usercall sub_1006D189<eax>(int a1<ebp>);
// int __usercall sub_1006D192<eax>(int a1<ebp>);
// int __usercall sub_1006D19B<eax>(int a1<ebp>);
int __cdecl SEH_1001A510();
// int __usercall sub_1006D1B0<eax>(int a1<ebp>);
// int __usercall sub_1006D1BC<eax>(int a1<ebp>);
// int __usercall sub_1006D1C5<eax>(int a1<ebp>);
// int __usercall sub_1006D1D1<eax>(int a1<ebp>);
// int __usercall sub_1006D1DA<eax>(int a1<ebp>);
// int __usercall sub_1006D1E6<eax>(int a1<ebp>);
// int __usercall sub_1006D1F2<eax>(int a1<ebp>);
// int __usercall sub_1006D1FE<eax>(int a1<ebp>);
// int __usercall sub_1006D207<eax>(int a1<ebp>);
// int __usercall sub_1006D213<eax>(int a1<ebp>);
// int __usercall sub_1006D21C<eax>(int a1<ebp>);
// int __usercall sub_1006D228<eax>(int a1<ebp>);
// int __usercall sub_1006D231<eax>(int a1<ebp>);
// int __usercall sub_1006D23D<eax>(int a1<ebp>);
// int __usercall sub_1006D246<eax>(int a1<ebp>);
// int __usercall sub_1006D252<eax>(int a1<ebp>);
// int __usercall sub_1006D25E<eax>(int a1<ebp>);
// int __usercall sub_1006D26A<eax>(int a1<ebp>);
// int __usercall sub_1006D273<eax>(int a1<ebp>);
// int __usercall sub_1006D27F<eax>(int a1<ebp>);
// int __usercall sub_1006D28B<eax>(int a1<ebp>);
// int __usercall sub_1006D297<eax>(int a1<ebp>);
// int __usercall sub_1006D2A3<eax>(int a1<ebp>);
// int __usercall sub_1006D2AF<eax>(int a1<ebp>);
// int __usercall sub_1006D2BB<eax>(int a1<ebp>);
// int __usercall sub_1006D2C7<eax>(int a1<ebp>);
// int __usercall sub_1006D2D3<eax>(int a1<ebp>);
// int __usercall sub_1006D2DF<eax>(int a1<ebp>);
// int __usercall sub_1006D2EB<eax>(int a1<ebp>);
// int __usercall sub_1006D2F4<eax>(int a1<ebp>);
// int __usercall sub_1006D300<eax>(int a1<ebp>);
// int __usercall sub_1006D309<eax>(int a1<ebp>);
// int __usercall sub_1006D312<eax>(int a1<ebp>);
// int __usercall sub_1006D31B<eax>(int a1<ebp>);
// int __usercall sub_1006D324<eax>(int a1<ebp>);
// int __usercall sub_1006D32D<eax>(int a1<ebp>);
int __cdecl SEH_1001A6F0();
int __cdecl SEH_1001B2D0();
int __cdecl SEH_1001B3A0();
// int __usercall sub_1006D360<eax>(int a1<ebp>);
// int __usercall sub_1006D369<eax>(int a1<ebp>);
int __cdecl SEH_1001BB80();
// int __usercall sub_1006D380<eax>(int a1<ebp>);
// int __usercall sub_1006D389<eax>(int a1<ebp>);
int __cdecl SEH_1001BE90();
int __cdecl SEH_1001C130();
// int __usercall sub_1006D3B0<eax>(int a1<ebp>);
int __cdecl sub_1006D3B9();
int __cdecl SEH_1001ED70();
int __cdecl SEH_1001F760();
int __cdecl SEH_1001F800();
int __cdecl SEH_1001F930();
int __cdecl SEH_1001FAA0();
int __cdecl SEH_1001FDE0();
int __cdecl SEH_1001FFF0();
// int __usercall sub_1006D440<eax>(int a1<ebp>);
int __cdecl SEH_10020220();
// int __usercall sub_1006D460<eax>(int a1<ebp>);
// int __usercall sub_1006D469<eax>(int a1<ebp>);
int __cdecl SEH_10020540();
// int __usercall sub_1006D480<eax>(int a1<ebp>);
// int __usercall sub_1006D489<eax>(int a1<ebp>);
int __cdecl SEH_10020840();
// int __usercall sub_1006D4A0<eax>(int a1<ebp>);
// int __usercall sub_1006D4A9<eax>(int a1<ebp>);
// int __usercall sub_1006D4B4<eax>(int a1<ebp>);
int __cdecl SEH_10020A90();
// int __usercall sub_1006D4D0<eax>(int a1<ebp>);
int __cdecl SEH_10020CB0();
int __cdecl SEH_10021100();
// int __usercall sub_1006D500<eax>(int a1<ebp>);
// int __usercall sub_1006D509<eax>(int a1<ebp>);
int __cdecl SEH_100257B0();
int __cdecl SEH_10025B80();
// int __usercall sub_1006D530<eax>(int a1<ebp>);
void __cdecl sub_1006D53E();
int __cdecl SEH_10026710();
// int __usercall sub_1006D560<eax>(int a1<ebp>);
// int __usercall sub_1006D569<eax>(int a1<ebp>);
int __cdecl SEH_10026820();
// int __usercall sub_1006D580<eax>(int a1<ebp>);
int __cdecl SEH_10026B70();
// int __usercall sub_1006D5A0<eax>(int a1<ebp>);
// int __usercall sub_1006D5A9<eax>(int a1<ebp>);
// int __usercall sub_1006D5B2<eax>(int a1<ebp>);
int __cdecl SEH_10027510();
// int __usercall sub_1006D5D0<eax>(int a1<ebp>);
int __cdecl SEH_100282D0();
// int __usercall sub_1006D5F0<eax>(int a1<ebp>);
int __cdecl SEH_10028390();
int __cdecl SEH_10028450();
// int __usercall sub_1006D620<eax>(int a1<ebp>);
// int __usercall sub_1006D629<eax>(int a1<ebp>);
// int __usercall sub_1006D632<eax>(int a1<ebp>);
// int __usercall sub_1006D63B<eax>(int a1<ebp>);
int __cdecl SEH_10028F10();
// int __usercall sub_1006D650<eax>(int a1<ebp>);
// int __usercall sub_1006D659<eax>(int a1<ebp>);
// int __usercall sub_1006D662<eax>(int a1<ebp>);
int __cdecl SEH_1002A380();
// int __usercall sub_1006D680<eax>(int a1<ebp>);
int __cdecl SEH_1002A5F0();
// int __usercall sub_1006D6A0<eax>(int a1<ebp>);
int __cdecl SEH_1002C540();
// int __usercall sub_1006D6C0<eax>(int a1<ebp>);
int __cdecl SEH_1002A880();
// int __usercall sub_1006D6E0<eax>(int a1<ebp>);
// int __usercall sub_1006D6E9<eax>(int a1<ebp>);
// int __usercall sub_1006D6F2<eax>(int a1<ebp>);
int __cdecl SEH_1002AA40();
int __cdecl SEH_1002AC30();
// int __usercall sub_1006D720<eax>(int a1<ebp>);
int __cdecl SEH_1002AD90();
// int __usercall sub_1006D740<eax>(int a1<ebp>);
int __cdecl SEH_1002AE70();
// int __usercall sub_1006D760<eax>(int a1<ebp>);
int __cdecl SEH_1002AF60();
// int __usercall sub_1006D780<eax>(int a1<ebp>);
int __cdecl SEH_1002B080();
// int __usercall sub_1006D7A0<eax>(int a1<ebp>);
// int __usercall sub_1006D7A9<eax>(int a1<ebp>);
// int __usercall sub_1006D7B2<eax>(int a1<ebp>);
int __cdecl SEH_1002B560();
// int __usercall sub_1006D7D0<eax>(int a1<ebp>);
// int __usercall sub_1006D7D9<eax>(int a1<ebp>);
int __cdecl SEH_1002B670();
// int __usercall sub_1006D800<eax>(int a1<ebp>);
int __cdecl SEH_1002D1B0();
// int __usercall sub_1006D820<eax>(int a1<ebp>);
int __cdecl SEH_1002C120();
// int __usercall sub_1006D840<eax>(int a1<ebp>);
// int __usercall sub_1006D849<eax>(int a1<ebp>);
// int __usercall sub_1006D852<eax>(int a1<ebp>);
int __cdecl SEH_1002C270();
// int __usercall sub_1006D870<eax>(int a1<ebp>);
int __cdecl SEH_1002C460();
// int __usercall sub_1006D890<eax>(int a1<ebp>);
// int __usercall sub_1006D899<eax>(int a1<ebp>);
// int __usercall sub_1006D8A2<eax>(int a1<ebp>);
// int __usercall sub_1006D8AB<eax>(int a1<ebp>);
// int __usercall sub_1006D8B4<eax>(int a1<ebp>);
// int __usercall sub_1006D8BD<eax>(int a1<ebp>);
// int __usercall sub_1006D8C6<eax>(int a1<ebp>);
// int __usercall sub_1006D8CF<eax>(int a1<ebp>);
// int __usercall sub_1006D8D8<eax>(int a1<ebp>);
// int __usercall sub_1006D8E1<eax>(int a1<ebp>);
int __cdecl SEH_1002C630();
// int __usercall sub_1006D900<eax>(int a1<ebp>);
// int __usercall sub_1006D909<eax>(int a1<ebp>);
// int __usercall sub_1006D912<eax>(int a1<ebp>);
int __cdecl SEH_1002C900();
int __cdecl SEH_1002CC50();
int __cdecl SEH_1002CDF0();
// int __usercall sub_1006D950<eax>(int a1<ebp>);
// int __usercall sub_1006D958<eax>(int a1<ebp>);
int __cdecl SEH_1002CFE0();
// int __usercall sub_1006D970<eax>(int a1<ebp>);
int __cdecl SEH_1002D1C0();
// int __usercall sub_1006D990<eax>(int a1<ebp>);
// int __usercall sub_1006D999<eax>(int a1<ebp>);
// int __usercall sub_1006D9A2<eax>(int a1<ebp>);
// int __usercall sub_1006D9AB<eax>(int a1<ebp>);
int __cdecl SEH_1002D300();
// int __usercall sub_1006D9C0<eax>(int a1<ebp>);
// int __usercall sub_1006D9C9<eax>(int a1<ebp>);
// int __usercall sub_1006D9D2<eax>(int a1<ebp>);
int __cdecl SEH_1002D610();
// int __usercall sub_1006D9F0<eax>(int a1<ebp>);
// int __usercall sub_1006D9F9<eax>(int a1<ebp>);
int __cdecl SEH_1002D990();
// int __usercall sub_1006DA10<eax>(int a1<ebp>);
// int __usercall sub_1006DA19<eax>(int a1<ebp>);
// int __usercall sub_1006DA22<eax>(int a1<ebp>);
// int __usercall sub_1006DA2B<eax>(int a1<ebp>);
// int __usercall sub_1006DA34<eax>(int a1<ebp>);
// int __usercall sub_1006DA3D<eax>(int a1<ebp>);
// int __usercall sub_1006DA46<eax>(int a1<ebp>);
// int __usercall sub_1006DA4F<eax>(int a1<ebp>);
int __cdecl SEH_1002DC80();
void __cdecl sub_1006DA70();
int __cdecl SEH_1002F020();
// int __usercall sub_1006DA90<eax>(int a1<ebp>);
// int __usercall sub_1006DA98<eax>(int a1<ebp>);
int __cdecl SEH_1002F2A0();
void __cdecl sub_1006DAB0();
// int __usercall sub_1006DAB8<eax>(int a1<ebp>);
// int __usercall sub_1006DAC1<eax>(int a1<ebp>);
// int __usercall sub_1006DACA<eax>(int a1<ebp>);
// int __usercall sub_1006DAD3<eax>(int a1<ebp>);
// int __usercall sub_1006DADC<eax>(int a1<ebp>);
// int __usercall sub_1006DAE5<eax>(int a1<ebp>);
int __cdecl SEH_1002F3A0();
int __cdecl sub_1006DAFA();
// int __usercall sub_1006DB04<eax>(int a1<ebp>);
// int __usercall sub_1006DB0C<eax>(int a1<ebp>);
// int __usercall sub_1006DB17<eax>(int a1<ebp>);
// int __usercall sub_1006DB22<eax>(int a1<ebp>);
// int __usercall sub_1006DB2D<eax>(int a1<ebp>);
// int __usercall sub_1006DB38<eax>(int a1<ebp>);
// int __usercall sub_1006DB43<eax>(int a1<ebp>);
// int __usercall sub_1006DB4E<eax>(int a1<ebp>);
int __cdecl sub_1006DB59();
// int __usercall sub_1006DB63<eax>(int a1<ebp>);
// int __usercall sub_1006DB6B<eax>(int a1<ebp>);
// int __usercall sub_1006DB76<eax>(int a1<ebp>);
// int __usercall sub_1006DB81<eax>(int a1<ebp>);
// int __usercall sub_1006DB8C<eax>(int a1<ebp>);
// int __usercall sub_1006DB97<eax>(int a1<ebp>);
// int __usercall sub_1006DBA2<eax>(int a1<ebp>);
// int __usercall sub_1006DBAD<eax>(int a1<ebp>);
int __cdecl sub_1006DBB8();
// int __usercall sub_1006DBC2<eax>(int a1<ebp>);
// int __usercall sub_1006DBCC<eax>(int a1<ebp>);
// int __usercall sub_1006DBE0<eax>(int a1<ebp>);
// void __usercall sub_1006DBE8(int a1<ebp>);
int __cdecl sub_1006DBF0();
// int __usercall sub_1006DBFA<eax>(int a1<ebp>);
// void __usercall sub_1006DC02(int a1<ebp>);
int __cdecl sub_1006DC0A();
// int __usercall sub_1006DC14<eax>(int a1<ebp>);
// int __usercall sub_1006DC1F<eax>(int a1<ebp>);
// int __usercall sub_1006DC29<eax>(int a1<ebp>);
// int __usercall sub_1006DC33<eax>(int a1<ebp>);
// int __usercall sub_1006DC3D<eax>(int a1<ebp>);
int __cdecl sub_1006DC47();
// int __usercall sub_1006DC51<eax>(int a1<ebp>);
int __cdecl sub_1006DC5C();
// int __usercall sub_1006DC66<eax>(int a1<ebp>);
// void __usercall sub_1006DC7A(int a1<ebp>);
// int __usercall sub_1006DC82<eax>(int a1<ebp>);
// int __usercall sub_1006DC94<eax>(int a1<ebp>);
// int __usercall sub_1006DC9E<eax>(int a1<ebp>);
// int __usercall sub_1006DCA8<eax>(int a1<ebp>);
int __cdecl sub_1006DCB2();
// int __usercall sub_1006DCBC<eax>(int a1<ebp>);
// int __usercall sub_1006DCD0<eax>(int a1<ebp>);
// int __usercall sub_1006DCDA<eax>(int a1<ebp>);
// int __usercall sub_1006DCEE<eax>(int a1<ebp>);
// int __usercall sub_1006DCF8<eax>(int a1<ebp>);
int __cdecl sub_1006DD02();
// int __usercall sub_1006DD0C<eax>(int a1<ebp>);
// int __usercall sub_1006DD16<eax>(int a1<ebp>);
// int __usercall sub_1006DD20<eax>(int a1<ebp>);
int __cdecl sub_1006DD2A();
// int __usercall sub_1006DD34<eax>(int a1<ebp>);
// int __usercall sub_1006DD3E<eax>(int a1<ebp>);
// int __usercall sub_1006DD48<eax>(int a1<ebp>);
// int __usercall sub_1006DD5C<eax>(int a1<ebp>);
// int __usercall sub_1006DD66<eax>(int a1<ebp>);
// int __usercall sub_1006DD7A<eax>(int a1<ebp>);
// int __usercall sub_1006DD84<eax>(int a1<ebp>);
int __cdecl sub_1006DD8E();
// int __usercall sub_1006DD98<eax>(int a1<ebp>);
// int __usercall sub_1006DDA2<eax>(int a1<ebp>);
// int __usercall sub_1006DDAC<eax>(int a1<ebp>);
int __cdecl sub_1006DDB6();
// int __usercall sub_1006DDC0<eax>(int a1<ebp>);
int __cdecl sub_1006DDC8();
// int __usercall sub_1006DDD2<eax>(int a1<ebp>);
// int __usercall sub_1006DDE6<eax>(int a1<ebp>);
// int __usercall sub_1006DDFA<eax>(int a1<ebp>);
// int __usercall sub_1006DE02<eax>(int a1<ebp>);
// int __usercall sub_1006DE16<eax>(int a1<ebp>);
int __cdecl sub_1006DE20();
// int __usercall sub_1006DE2A<eax>(int a1<ebp>);
int __cdecl sub_1006DE32();
// int __usercall sub_1006DEF0<eax>(int a1<ebp>);
// int __usercall sub_1006DEFA<eax>(int a1<ebp>);
int __cdecl sub_1006DFC0();
void __cdecl sub_1006E050();
int __cdecl sub_1006E060();
int __cdecl sub_1006E070();
int __cdecl sub_1006E080();
// LSTATUS __stdcall RegCloseKey(HKEY hKey);
// LSTATUS __stdcall RegOpenKeyA(HKEY hKey, LPCSTR lpSubKey, PHKEY phkResult);
// LSTATUS __stdcall RegQueryValueExA(HKEY hKey, LPCSTR lpValueName, LPDWORD lpReserved, LPDWORD lpType, LPBYTE lpData, LPDWORD lpcbData);
// int __stdcall FString::FString(_DWORD, _DWORD); weak
// int __thiscall UObject::StaticAllocateObject(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __thiscall FStatRecord::_FStatRecord(_DWORD); weak
// void appUnwindf(const char *, ...); weak
// int UObject::ConditionalDestroy(void); weak
// int __fastcall UObject::operator delete(_DWORD, _DWORD); weak
// int __fastcall UObject::StaticConstructObject(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int FOutputDevice::Logf(_DWORD, const char *, ...); weak
// int __stdcall FString::operator_(_DWORD); weak
// int __thiscall FVector::operator_(_DWORD, _DWORD, _DWORD); weak
// int __thiscall FMatrix::Coords(_DWORD, _DWORD); weak
// int __stdcall FString::operator__(_DWORD); weak
// int __thiscall TArray<char>::operator_(_DWORD, _DWORD); weak
// int FString::Printf(_DWORD, const char *, ...); weak
// int __thiscall UFloatProperty::UFloatProperty(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __fastcall UFloatProperty::operator new(_DWORD, _DWORD); weak
// int __thiscall UIntProperty::UIntProperty(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __fastcall UIntProperty::operator new(_DWORD, _DWORD); weak
// int __thiscall UBoolProperty::UBoolProperty(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __fastcall UBoolProperty::operator new(_DWORD, _DWORD); weak
// int __thiscall FName::FName(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __stdcall FStringTemp::FStringTemp(_DWORD, _DWORD); weak
// int FOutputDevice::Logf(_DWORD, _DWORD, const char *, ...); weak
// int __thiscall FString::operator_(_DWORD); weak
// int __fastcall ParseParam(const char *, const char *); weak
// const char *__fastcall appCmdLine(); weak
// int __thiscall FClock::_FClock(_DWORD); weak
// int __thiscall FStatRecord::FStatRecord(_DWORD, _DWORD, _DWORD); weak
// int __thiscall FStatRecord::FindStat(_DWORD); weak
// int __stdcall FStatRecord::Main(_DWORD, _DWORD); weak
// int __thiscall FString::FString(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __thiscall FString::Substitute(_DWORD, _DWORD, _DWORD); weak
// int UIntProperty::_UIntProperty(void); weak
// int UBoolProperty::_UBoolProperty(void); weak
// int UFloatProperty::_UFloatProperty(void); weak
// int __fastcall Parse(const char *, const char *, int *); weak
// float __fastcall appAtof(const char *); weak
// int __cdecl appAtoi(const char *); weak
// int __fastcall appStrcmp(const char *, const char *); weak
// int __cdecl ParseCommand(const char **, const char *); weak
// int UObject::GetOuter(void); weak
// int __thiscall UObject::GetIndexedObject(_DWORD); weak
// int UObject::GetObjectCount(void); weak
// int __stdcall UObject::Serialize(_DWORD); weak
// int __cdecl UObject::GetIndex(_DWORD); weak
// const char *__fastcall appFromAnsi(const char *, char *); weak
// void __fastcall appSleep(float); weak
// int __thiscall UClass::UClass(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __stdcall UObject::StaticClass(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __stdcall UObject::StaticConfigName(_DWORD, _DWORD, _DWORD); weak
// int __thiscall FGuid::FGuid(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __thiscall UClass::_UClass(_DWORD); weak
// int __thiscall UClass::GetDefaults(_DWORD); weak
// int __thiscall FSphere::FSphere(_DWORD); weak
// int __thiscall FPlane::operator_(_DWORD, _DWORD, _DWORD); weak
// int __thiscall FMatrix::Inverse(_DWORD, _DWORD); weak
// int __thiscall FPlane::operator_(_DWORD, _DWORD, _DWORD); weak
// int __thiscall UObject::GetFullName(_DWORD, _DWORD); weak
// int __thiscall UObject::GetName(_DWORD); weak
// int __thiscall FMalloc::AddStat(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// void __fastcall appMemset(void *, int, int); weak
// int __thiscall FString::operator_(_DWORD, _DWORD, _DWORD); weak
// int __thiscall FString::operator__(_DWORD, _DWORD); weak
// int __thiscall FString::Mid(_DWORD, _DWORD, _DWORD, _DWORD); weak
// char *__fastcall appStrchr(const char *, int); weak
// int __thiscall FString::Len(_DWORD, _DWORD, _DWORD); weak
// char *__fastcall appStrstr(const char *, const char *); weak
// int __thiscall FString::Substitute(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __thiscall FString::FString(_DWORD); weak
// int __thiscall UObject::GetPathName(_DWORD, _DWORD, _DWORD); weak
// int __thiscall FStringNoInit::operator_(_DWORD, _DWORD); weak
// int __thiscall TArray<char>::TArray<char>(_DWORD, _DWORD, _DWORD); weak
// int __thiscall FStringTemp::_FStringTemp(_DWORD); weak
// int __thiscall FString::_FString(_DWORD); weak
// int UVertexColor::StaticClass(void); weak
// int __thiscall FColor::HiColor565(_DWORD); weak
// int __thiscall UTexture::ConvertDXT(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __thiscall FColor::HiColor4444(_DWORD); weak
// int __thiscall FMovie::FMovie(_DWORD); weak
// int __thiscall FMovie::_FMovie(_DWORD); weak
// int FRoQMovie::_FRoQMovie(void); weak
// int __thiscall FRoQMovie::FRoQMovie(_DWORD); weak
// int __stdcall FRoQMovie::PreRender(_DWORD, _DWORD, _DWORD); weak
// void __fastcall RenderInit(); weak
// int UMaterialSwitch::StaticClass(void); weak
// int UShowMaterialAlpha::StaticClass(void); weak
// int UHardwareShader::StaticClass(void); weak
// int UHardwareShaderWrapper::StaticClass(void); weak
// int UProjectorMaterial::StaticClass(void); weak
// int UProjectorMultiMaterial::StaticClass(void); weak
// int UParticleMaterial::StaticClass(void); weak
// int UTerrainMaterial::StaticClass(void); weak
// int __stdcall URenderDevice::StaticClass(_DWORD); weak
// int URenderDevice::URenderDevice(void); weak
// int __thiscall UFrameFX::FreeRenderTargets(_DWORD); weak
// int UShadowBitmapMaterial::StaticClass(void); weak
// int UMaterial::StaticClass(void); weak
// int __thiscall UViewport::GetOuterUClient(_DWORD); weak
// int __thiscall URenderDevice::TakeScreenshot(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int UMaterial::ClearFallbacks(void); weak
// int UViewport::RefreshAll(void); weak
// int UTexMatrix::StaticClass(void); weak
// int __thiscall UCubemapManager::GetEnvLightmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __thiscall URenderDevice::_URenderDevice(_DWORD); weak
// int FRenderInterface::operator_(void); weak
// int __stdcall URenderDevice::operator_(_DWORD); weak
// int __stdcall FRenderInterface::FRenderInterface(_DWORD); weak
// int __stdcall URenderDevice::URenderDevice(_DWORD); weak
// int __thiscall FColor::FColor(_DWORD, _DWORD); weak
// int __thiscall FColor::FColor(_DWORD); weak
// int __thiscall FColor::FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int UTexture::StaticClass(void); weak
// int UTexEnvMap::StaticClass(void); weak
// int UCubemap::StaticClass(void); weak
// int UDynamicCubemap::StaticClass(void); weak
// int UShader::StaticClass(void); weak
// int UModifier::StaticClass(void); weak
// int UTexModifier::StaticClass(void); weak
// int __stdcall UTexPanner2D::StaticClass(_DWORD); weak
// int UFinalBlend::StaticClass(void); weak
// int UColorModifier::StaticClass(void); weak
// int UOpacityModifier::StaticClass(void); weak
// int UConstantMaterial::StaticClass(void); weak
// int UBitmapMaterial::StaticClass(void); weak
// int UCombiner::StaticClass(void); weak
// int FRenderResource::FRenderResource(void); weak
// int __thiscall FRenderResource::_FRenderResource(_DWORD); weak
// int __thiscall FColor::DWColor(_DWORD); weak
// int UFadeColor::StaticClass(void); weak
// int __thiscall FColor::operator unsigned_long(_DWORD); weak
// COLORREF __stdcall SetBkColor(HDC hdc, COLORREF color);
// int __stdcall GetDeviceCaps(HDC hdc, int index);
// BOOL __stdcall DeleteObject(HGDIOBJ ho);
// HDC __stdcall CreateCompatibleDC(HDC hdc);
// HBITMAP __stdcall CreateDIBSection(HDC hdc, const BITMAPINFO *lpbmi, UINT usage, void **ppvBits, HANDLE hSection, DWORD offset);
// int __stdcall SetBkMode(HDC hdc, int mode);
// BOOL __stdcall SetDeviceGammaRamp(HDC hdc, LPVOID lpRamp);
// COLORREF __stdcall SetTextColor(HDC hdc, COLORREF color);
// HGDIOBJ __stdcall SelectObject(HDC hdc, HGDIOBJ h);
// BOOL __stdcall DeleteDC(HDC hdc);
// HFONT __stdcall CreateFontIndirectA(const LOGFONTA *lplf);
// int __stdcall WideCharToMultiByte(UINT CodePage, DWORD dwFlags, LPCWSTR lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCSTR lpDefaultChar, LPBOOL lpUsedDefaultChar);
// DWORD __stdcall GetLastError();
// BOOL __stdcall IsProcessorFeaturePresent(DWORD ProcessorFeature);
// DWORD __stdcall GetFileSize(HANDLE hFile, LPDWORD lpFileSizeHigh);
// LPVOID __stdcall MapViewOfFile(HANDLE hFileMappingObject, DWORD dwDesiredAccess, DWORD dwFileOffsetHigh, DWORD dwFileOffsetLow, SIZE_T dwNumberOfBytesToMap);
// HANDLE __stdcall CreateFileMappingA(HANDLE hFile, LPSECURITY_ATTRIBUTES lpFileMappingAttributes, DWORD flProtect, DWORD dwMaximumSizeHigh, DWORD dwMaximumSizeLow, LPCSTR lpName);
// HANDLE __stdcall CreateFileA(LPCSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// HANDLE __stdcall CreateFileW(LPCWSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// BOOL __stdcall GetVersionExA(LPOSVERSIONINFOA lpVersionInformation);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// HRSRC __stdcall FindResourceW(HMODULE hModule, LPCWSTR lpName, LPCWSTR lpType);
// HRSRC __stdcall FindResourceA(HMODULE hModule, LPCSTR lpName, LPCSTR lpType);
// DWORD __stdcall SizeofResource(HMODULE hModule, HRSRC hResInfo);
// HGLOBAL __stdcall LoadResource(HMODULE hModule, HRSRC hResInfo);
// LPVOID __stdcall LockResource(HGLOBAL hResData);
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// HANDLE __stdcall GetProcessHeap();
// BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
// BOOL __stdcall UnmapViewOfFile(LPCVOID lpBaseAddress);
// void *__cdecl memmove(void *Dst, const void *Src, size_t Size);
// int __cdecl rand();
// int __stdcall DrawTextW(HDC hdc, LPCWSTR lpchText, int cchText, LPRECT lprc, UINT format);
// int __stdcall DrawTextA(HDC hdc, LPCSTR lpchText, int cchText, LPRECT lprc, UINT format);
// int __stdcall ReleaseDC(HWND hWnd, HDC hDC);
// BOOL __stdcall GetClientRect(HWND hWnd, LPRECT lpRect);
// HWND __stdcall GetDesktopWindow();
// HDC __stdcall GetDC(HWND hWnd);


//----- (10001000) --------------------------------------------------------
BOOL __stdcall DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved)
{
  dword_10083E40 = (int)hinstDLL;
  return 1;
}
// 10083E40: using guessed type int dword_10083E40;

//----- (10001020) --------------------------------------------------------
int __fastcall sub_10001020(int a1, signed int a2)
{
  int v2; // esi@1
  int result; // eax@9
  int v4; // eax@41
  char v5; // [sp+10h] [bp-14h]@41
  int v6; // [sp+20h] [bp-4h]@41

  v2 = a1;
  if ( a2 > -2005530586 )
  {
    if ( a2 > -2005530518 )
    {
      if ( a2 <= -2005530515 )
      {
        if ( a2 == -2005530515 )
        {
          FString::FString("D3DERR_DRIVERINVALIDCALL", 0);
          return v2;
        }
        if ( a2 == -2005530517 )
        {
          FString::FString("D3DERR_INVALIDDEVICE", 0);
          return v2;
        }
        if ( a2 == -2005530516 )
        {
          FString::FString("D3DERR_INVALIDCALL", 0);
          return v2;
        }
        goto LABEL_41;
      }
      if ( a2 )
      {
LABEL_41:
        v4 = FString::Printf(&v5, "%08X", a2);
        v6 = 1;
        TArray<char>::TArray<char>(v2, v4, 0);
        LOBYTE(v6) = 0;
        FStringTemp::_FStringTemp(&v5);
        return v2;
      }
      FString::FString("D3D_OK", 0);
      result = v2;
    }
    else
    {
      if ( a2 == -2005530518 )
      {
        FString::FString("D3DERR_NOTAVAILABLE", 0);
        result = v2;
      }
      else
      {
        switch ( a2 + 2005530585 )
        {
          case 0:
            FString::FString("D3DERR_DRIVERINTERNALERROR", 0);
            result = v2;
            break;
          case 63:
            FString::FString("D3DERR_NOTFOUND", 0);
            result = v2;
            break;
          case 64:
            FString::FString("D3DERR_MOREDATA", 0);
            result = v2;
            break;
          case 65:
            FString::FString("D3DERR_DEVICELOST", 0);
            result = v2;
            break;
          case 66:
            FString::FString("D3DERR_DEVICENOTRESET", 0);
            result = v2;
            break;
          default:
            goto LABEL_41;
        }
      }
    }
  }
  else
  {
    if ( a2 == -2005530586 )
    {
      FString::FString("D3DERR_CONFLICTINGTEXTUREPALETTE", 0);
      return v2;
    }
    if ( a2 <= -2005530596 )
    {
      if ( a2 == -2005530596 )
      {
        FString::FString("D3DERR_UNSUPPORTEDALPHAARG", 0);
        return v2;
      }
      if ( a2 > -2005530599 )
      {
        if ( a2 == -2005530598 )
        {
          FString::FString("D3DERR_UNSUPPORTEDCOLORARG", 0);
          return v2;
        }
        if ( a2 == -2005530597 )
        {
          FString::FString("D3DERR_UNSUPPORTEDALPHAOPERATION", 0);
          return v2;
        }
      }
      else
      {
        if ( a2 == -2005530599 )
        {
          FString::FString("D3DERR_UNSUPPORTEDCOLOROPERATION", 0);
          return v2;
        }
        if ( a2 == -2005532292 )
        {
          FString::FString("D3DERR_OUTOFVIDEOMEMORY", 0);
          return v2;
        }
        if ( a2 == -2005530600 )
        {
          FString::FString("D3DERR_WRONGTEXTUREFORMAT", 0);
          return v2;
        }
      }
      goto LABEL_41;
    }
    switch ( a2 )
    {
      case -2005530595:
        FString::FString("D3DERR_TOOMANYOPERATIONS", 0);
        result = v2;
        break;
      case -2005530594:
        FString::FString("D3DERR_CONFLICTINGTEXTUREFILTER", 0);
        result = v2;
        break;
      case -2005530593:
        FString::FString("D3DERR_UNSUPPORTEDFACTORVALUE", 0);
        result = v2;
        break;
      case -2005530591:
        FString::FString("D3DERR_CONFLICTINGRENDERSTATE", 0);
        result = v2;
        break;
      case -2005530590:
        FString::FString("D3DERR_UNSUPPORTEDTEXTUREFILTER", 0);
        result = v2;
        break;
      default:
        goto LABEL_41;
    }
  }
  return result;
}
// 1006F010: using guessed type int __stdcall FString__FString(_DWORD, _DWORD);
// 1006F150: using guessed type int FString__Printf(_DWORD, const char *, ...);
// 1006F294: using guessed type int __thiscall TArray_char___TArray_char_(_DWORD, _DWORD, _DWORD);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (100014A0) --------------------------------------------------------
signed int __fastcall sub_100014A0(signed int a1)
{
  int v2; // ecx@10
  int v3; // ecx@11

  if ( a1 <= 50 )
  {
    if ( a1 != 50 )
    {
      switch ( a1 )
      {
        case 20:
          return 24;
        case 23:
        case 24:
        case 25:
        case 26:
        case 29:
        case 30:
        case 40:
          return 16;
        case 21:
        case 22:
        case 31:
        case 34:
          return 32;
        default:
          return 0;
        case 27:
        case 28:
        case 41:
          return 8;
      }
    }
    return 8;
  }
  if ( a1 <= 77 )
  {
    if ( a1 != 77 )
    {
      switch ( a1 )
      {
        case 51:
        case 60:
        case 61:
        case 70:
        case 73:
          return 16;
        case 62:
        case 63:
        case 64:
        case 65:
        case 71:
        case 75:
          return 32;
        default:
          return 0;
        case 52:
          return 8;
      }
      return 8;
    }
    return 32;
  }
  if ( a1 > 844388420 )
  {
    if ( a1 != 861165636 && a1 != 877942852 && a1 != 894720068 )
      return 0;
  }
  else
  {
    if ( a1 != 844388420 )
    {
      v2 = a1 - 79;
      if ( !v2 )
        return 32;
      v3 = v2 - 1;
      if ( !v3 )
        return 16;
      if ( v3 == 827611124 )
        return 4;
      return 0;
    }
  }
  return 8;
}

//----- (100015F0) --------------------------------------------------------
int __cdecl sub_100015F0(int a1)
{
  return (*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(a1);
}
// 1006F014: using guessed type void *GMalloc;

//----- (10001610) --------------------------------------------------------
int __cdecl sub_10001610(int a1)
{
  return (*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(a1);
}
// 1006F014: using guessed type void *GMalloc;

//----- (10001650) --------------------------------------------------------
int __stdcall sub_10001650(int a1, int a2, int a3, int (__thiscall *a4)(_DWORD))
{
  int result; // eax@1
  int v5; // esi@2
  int v6; // edi@2

  result = a3 - 1;
  if ( a3 - 1 >= 0 )
  {
    v5 = a1;
    v6 = a3;
    do
    {
      result = a4(v5);
      v5 += a2;
      --v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (10001680) --------------------------------------------------------
_UNKNOWN *__cdecl UD3DRenderDevice::StaticClass()
{
  return &UD3DRenderDevice::PrivateStaticClass;
}

//----- (10001690) --------------------------------------------------------
int __cdecl UD3DRenderDevice::StaticPackageName()
{
  return (int)"D3DDrv";
}

//----- (100016A0) --------------------------------------------------------
int __stdcall UD3DRenderDevice::operator new(int a1, int a2)
{
  return UObject::StaticAllocateObject(&UD3DRenderDevice::PrivateStaticClass, a1, a2, 0, GError, 0, 0);
}
// 1006F018: using guessed type int __thiscall UObject__StaticAllocateObject(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F01C: using guessed type void *GError;

//----- (100016D0) --------------------------------------------------------
int __fastcall UD3DRenderDevice::operator new(int a1, int a2)
{
  return a2;
}

//----- (100016E0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::InternalConstructor(void *this)
{
  int result; // eax@2

  if ( this )
    result = UD3DRenderDevice::UD3DRenderDevice(this);
  return result;
}

//----- (100016F0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::VSyncEnabled(int this)
{
  return *(_DWORD *)(this + 16600);
}

//----- (10001700) --------------------------------------------------------
int __thiscall UD3DRenderDevice::EnableVSync(int this, unsigned __int8 a2)
{
  int result; // eax@1

  result = a2;
  *(_DWORD *)(this + 16600) = a2;
  return result;
}

//----- (10001710) --------------------------------------------------------
bool __thiscall UD3DRenderDevice::GetStateCaching(int this)
{
  return *(_DWORD *)(this + 16720) == 0;
}

//----- (10001720) --------------------------------------------------------
bool __thiscall UD3DRenderDevice::SetStateCaching(int this, int a2)
{
  int v2; // eax@1

  v2 = *(_DWORD *)(this + 16720);
  *(_DWORD *)(this + 16720) = a2 == 0;
  return v2 == 0;
}

//----- (10001750) --------------------------------------------------------
signed int __usercall UD3DRenderDevice::RefreshStates<eax>(int a1<ecx>, signed int a2<ebx>, signed int a3<edi>, signed int a4<esi>)
{
  if ( !*(_DWORD *)(a1 + 16720) )
    sub_10028450(a1 + 59376, a2, a3, a4, a1);
  return 1;
}

//----- (10001770) --------------------------------------------------------
int __thiscall sub_10001770(void *this)
{
  void *v1; // esi@1

  v1 = this;
  FStatRecord::_FStatRecord((char *)this + 1320);
  FStatRecord::_FStatRecord((char *)v1 + 1280);
  FStatRecord::_FStatRecord((char *)v1 + 1240);
  FStatRecord::_FStatRecord((char *)v1 + 1200);
  FStatRecord::_FStatRecord((char *)v1 + 1160);
  FStatRecord::_FStatRecord((char *)v1 + 1120);
  FStatRecord::_FStatRecord((char *)v1 + 1080);
  FStatRecord::_FStatRecord((char *)v1 + 1040);
  FStatRecord::_FStatRecord((char *)v1 + 1000);
  FStatRecord::_FStatRecord((char *)v1 + 960);
  FStatRecord::_FStatRecord((char *)v1 + 920);
  FStatRecord::_FStatRecord((char *)v1 + 880);
  FStatRecord::_FStatRecord((char *)v1 + 840);
  FStatRecord::_FStatRecord((char *)v1 + 800);
  FStatRecord::_FStatRecord((char *)v1 + 760);
  FStatRecord::_FStatRecord((char *)v1 + 720);
  FStatRecord::_FStatRecord((char *)v1 + 680);
  FStatRecord::_FStatRecord((char *)v1 + 640);
  FStatRecord::_FStatRecord((char *)v1 + 600);
  FStatRecord::_FStatRecord((char *)v1 + 560);
  FStatRecord::_FStatRecord((char *)v1 + 520);
  FStatRecord::_FStatRecord((char *)v1 + 480);
  FStatRecord::_FStatRecord((char *)v1 + 440);
  FStatRecord::_FStatRecord((char *)v1 + 400);
  FStatRecord::_FStatRecord((char *)v1 + 360);
  FStatRecord::_FStatRecord((char *)v1 + 320);
  FStatRecord::_FStatRecord((char *)v1 + 280);
  FStatRecord::_FStatRecord((char *)v1 + 240);
  FStatRecord::_FStatRecord((char *)v1 + 200);
  FStatRecord::_FStatRecord((char *)v1 + 160);
  FStatRecord::_FStatRecord((char *)v1 + 120);
  FStatRecord::_FStatRecord((char *)v1 + 80);
  FStatRecord::_FStatRecord((char *)v1 + 40);
  return FStatRecord::_FStatRecord(v1);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (10001DB0) --------------------------------------------------------
int __thiscall sub_10001DB0(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // eax@7
  int v10; // eax@10
  void *v11; // eax@13
  int v12; // ecx@14
  int result; // eax@19
  int v14; // [sp+0h] [bp-28h]@1
  int v15; // [sp+14h] [bp-14h]@1
  int *v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+24h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)this;
  v5 = *(_DWORD *)this == 0;
  v16 = &v14;
  v15 = this;
  v17 = 0;
  if ( v5 || (v6 = *(_DWORD *)(this + 4), v6 & 0x20000000) )
  {
    v7 = a2;
    v10 = a3;
    if ( a2 + a3 )
    {
      if ( a2 >= a3 )
        v10 = a2;
      v11 = (void *)(*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(v10);
      if ( *(_DWORD *)v3 )
      {
        v12 = 8 * *(_DWORD *)(v3 + 4) >> 3;
        if ( v12 > a2 )
          v12 = a2;
        memcpy(v11, *(const void **)v3, v12);
        v3 = v15;
      }
      *(_DWORD *)v3 = v11;
    }
    else
    {
      *(_DWORD *)v3 = 0;
    }
  }
  else
  {
    v7 = a2;
    v8 = 8 * v6 >> 3;
    if ( a2 <= v8 )
    {
      if ( v6 >= 0 && ((a2 + 31) & 0xFFFFFFE0u) < ((v8 + 31) & 0xFFFFFFE0u) )
      {
        v9 = a3;
        if ( a3 < a2 )
          v9 = a2;
        *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, a2, v9);
      }
    }
    else
    {
      *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, a2, a3);
    }
  }
  result = (v7 ^ *(_DWORD *)(v3 + 4)) & 0x1FFFFFFF;
  *(_DWORD *)(v3 + 4) ^= result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (10001F00) --------------------------------------------------------
int __thiscall sub_10001F00(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // eax@7
  int v10; // eax@10
  void *v11; // eax@13
  int v12; // ecx@14
  int result; // eax@19
  int v14; // [sp+0h] [bp-28h]@1
  int v15; // [sp+14h] [bp-14h]@1
  int *v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+24h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)this;
  v5 = *(_DWORD *)this == 0;
  v16 = &v14;
  v15 = this;
  v17 = 0;
  if ( v5 || (v6 = *(_DWORD *)(this + 4), v6 & 0x20000000) )
  {
    v7 = a2;
    v10 = a3;
    if ( a2 + a3 )
    {
      if ( a2 >= a3 )
        v10 = a2;
      v11 = (void *)(*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(4 * v10);
      if ( *(_DWORD *)v3 )
      {
        v12 = 8 * *(_DWORD *)(v3 + 4) >> 3;
        if ( v12 > a2 )
          v12 = a2;
        memcpy(v11, *(const void **)v3, 4 * v12);
        v3 = v15;
      }
      *(_DWORD *)v3 = v11;
    }
    else
    {
      *(_DWORD *)v3 = 0;
    }
  }
  else
  {
    v7 = a2;
    v8 = 8 * v6 >> 3;
    if ( a2 <= v8 )
    {
      if ( v6 >= 0 && ((4 * a2 + 31) & 0xFFFFFFE0u) < ((4 * v8 + 31) & 0xFFFFFFE0u) )
      {
        v9 = a3;
        if ( a3 < a2 )
          v9 = a2;
        *(_DWORD *)v3 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)GMalloc + 8))(*(_DWORD *)v3, 4 * a2, 4 * v9);
      }
    }
    else
    {
      *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, 4 * a2, 4 * a3);
    }
  }
  result = (v7 ^ *(_DWORD *)(v3 + 4)) & 0x1FFFFFFF ^ *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (10002060) --------------------------------------------------------
int __thiscall sub_10002060(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // eax@7
  int v10; // eax@10
  void *v11; // eax@13
  int v12; // ecx@14
  int result; // eax@19
  int v14; // [sp+0h] [bp-28h]@1
  int v15; // [sp+14h] [bp-14h]@1
  int *v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+24h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)this;
  v5 = *(_DWORD *)this == 0;
  v16 = &v14;
  v15 = this;
  v17 = 0;
  if ( v5 || (v6 = *(_DWORD *)(this + 4), v6 & 0x20000000) )
  {
    v7 = a2;
    v10 = a3;
    if ( a2 + a3 )
    {
      if ( a2 >= a3 )
        v10 = a2;
      v11 = (void *)(*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(16 * v10);
      if ( *(_DWORD *)v3 )
      {
        v12 = 8 * *(_DWORD *)(v3 + 4) >> 3;
        if ( v12 > a2 )
          v12 = a2;
        memcpy(v11, *(const void **)v3, 16 * v12);
        v3 = v15;
      }
      *(_DWORD *)v3 = v11;
    }
    else
    {
      *(_DWORD *)v3 = 0;
    }
  }
  else
  {
    v7 = a2;
    v8 = 8 * v6 >> 3;
    if ( a2 <= v8 )
    {
      if ( v6 >= 0 && ((16 * a2 + 31) & 0xFFFFFFE0u) < ((16 * v8 + 31) & 0xFFFFFFE0u) )
      {
        v9 = a3;
        if ( a3 < a2 )
          v9 = a2;
        *(_DWORD *)v3 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)GMalloc + 8))(
                          *(_DWORD *)v3,
                          16 * a2,
                          16 * v9);
      }
    }
    else
    {
      *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, 16 * a2, 16 * a3);
    }
  }
  result = (v7 ^ *(_DWORD *)(v3 + 4)) & 0x1FFFFFFF;
  *(_DWORD *)(v3 + 4) ^= result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (100021D0) --------------------------------------------------------
int __thiscall sub_100021D0(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // eax@7
  int v10; // eax@10
  void *v11; // eax@13
  int v12; // ecx@14
  int result; // eax@19
  int v14; // [sp+0h] [bp-28h]@1
  int v15; // [sp+14h] [bp-14h]@1
  int *v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+24h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)this;
  v5 = *(_DWORD *)this == 0;
  v16 = &v14;
  v15 = this;
  v17 = 0;
  if ( v5 || (v6 = *(_DWORD *)(this + 4), v6 & 0x20000000) )
  {
    v7 = a2;
    v10 = a3;
    if ( a2 + a3 )
    {
      if ( a2 >= a3 )
        v10 = a2;
      v11 = (void *)(*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(1068 * v10);
      if ( *(_DWORD *)v3 )
      {
        v12 = 8 * *(_DWORD *)(v3 + 4) >> 3;
        if ( v12 > a2 )
          v12 = a2;
        memcpy(v11, *(const void **)v3, 1068 * v12);
        v3 = v15;
      }
      *(_DWORD *)v3 = v11;
    }
    else
    {
      *(_DWORD *)v3 = 0;
    }
  }
  else
  {
    v7 = a2;
    v8 = 8 * v6 >> 3;
    if ( a2 <= v8 )
    {
      if ( v6 >= 0 && ((1068 * a2 + 31) & 0xFFFFFFE0u) < ((1068 * v8 + 31) & 0xFFFFFFE0u) )
      {
        v9 = a3;
        if ( a3 < a2 )
          v9 = a2;
        *(_DWORD *)v3 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)GMalloc + 8))(
                          *(_DWORD *)v3,
                          1068 * a2,
                          1068 * v9);
      }
    }
    else
    {
      *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, 1068 * a2, 1068 * a3);
    }
  }
  result = (v7 ^ *(_DWORD *)(v3 + 4)) & 0x1FFFFFFF;
  *(_DWORD *)(v3 + 4) ^= result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (10002390) --------------------------------------------------------
void __thiscall sub_10002390(int this, int a2, int a3)
{
  int v3; // esi@1
  int i; // eax@2
  int v5; // [sp+0h] [bp-20h]@1
  int *v6; // [sp+10h] [bp-10h]@1
  int v7; // [sp+1Ch] [bp-4h]@2

  v6 = &v5;
  v3 = this;
  if ( a3 )
  {
    v7 = 0;
    for ( i = 0; i < a3; ++i )
      ;
    memmove(
      (void *)(*(_DWORD *)this + a2),
      (const void *)(*(_DWORD *)this + a2 + a3),
      (8 * *(_DWORD *)(this + 4) >> 3) - a2 - a3);
    sub_10001DB0(v3, (8 * *(_DWORD *)(v3 + 4) >> 3) - a3, 0);
  }
}

//----- (10002415) --------------------------------------------------------
void __usercall sub_10002415(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 + 12);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10002429) --------------------------------------------------------
void __cdecl sub_10002429()
{
  appUnwindf("%s", off_10080078[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080078: using guessed type char *off_10080078[6];

//----- (10002470) --------------------------------------------------------
int __thiscall sub_10002470(int this, int a2, int a3)
{
  int result; // eax@1
  int v4; // esi@1
  int v5; // [sp+0h] [bp-20h]@1
  int *v6; // [sp+10h] [bp-10h]@1
  int v7; // [sp+1Ch] [bp-4h]@2

  result = 0;
  v6 = &v5;
  v4 = this;
  if ( a3 )
  {
    v7 = 0;
    while ( result < a3 )
      ++result;
    memmove(
      (void *)(*(_DWORD *)this + 16 * a2),
      (const void *)(*(_DWORD *)this + 16 * (a2 + a3)),
      16 * ((8 * *(_DWORD *)(this + 4) >> 3) - a2 - a3));
    result = sub_10002060(v4, (8 * *(_DWORD *)(v4 + 4) >> 3) - a3, 0);
  }
  return result;
}

//----- (100024FD) --------------------------------------------------------
void __usercall sub_100024FD(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 + 12);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10002511) --------------------------------------------------------
void __cdecl sub_10002511()
{
  appUnwindf("%s", off_1008007C[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 1008007C: using guessed type char *off_1008007C[5];

//----- (10002560) --------------------------------------------------------
int __thiscall sub_10002560(int this, int a2, int a3)
{
  int result; // eax@1
  int v4; // esi@1
  int v5; // [sp+0h] [bp-20h]@1
  int *v6; // [sp+10h] [bp-10h]@1
  int v7; // [sp+1Ch] [bp-4h]@2

  result = 0;
  v6 = &v5;
  v4 = this;
  if ( a3 )
  {
    v7 = 0;
    while ( result < a3 )
      ++result;
    memmove(
      (void *)(*(_DWORD *)this + 1068 * a2),
      (const void *)(*(_DWORD *)this + 1068 * (a2 + a3)),
      1068 * ((8 * *(_DWORD *)(this + 4) >> 3) - a2 - a3));
    result = sub_100021D0(v4, (8 * *(_DWORD *)(v4 + 4) >> 3) - a3, 0);
  }
  return result;
}

//----- (100025F6) --------------------------------------------------------
void __usercall sub_100025F6(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 + 12);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1000260A) --------------------------------------------------------
void __cdecl sub_1000260A()
{
  appUnwindf("%s", off_10080080[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080080: using guessed type char *off_10080080[4];

//----- (10002670) --------------------------------------------------------
int __thiscall sub_10002670(int this)
{
  int v1; // esi@1
  int v2; // edi@1
  int result; // eax@6

  v1 = this;
  v2 = 0;
  if ( 8 * *(_DWORD *)(this + 4) > 0 )
  {
    do
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)(*(_DWORD *)v1 + 4 * v2++));
    while ( v2 < 8 * *(_DWORD *)(v1 + 4) >> 3 );
  }
  if ( !(*(_DWORD *)(v1 + 4) & 0x20000000) && *(_DWORD *)v1 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)v1);
  result = *(_DWORD *)(v1 + 4) & 0xE0000000;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (10002710) --------------------------------------------------------
int __thiscall sub_10002710(int this)
{
  int v1; // esi@1
  int v2; // eax@4

  v1 = this;
  if ( !(*(_DWORD *)(this + 40932) & 0x20000000) && *(_DWORD *)(this + 40928) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)(this + 40928));
  v2 = *(_DWORD *)(v1 + 40932) & 0xE0000000;
  *(_DWORD *)(v1 + 40928) = 0;
  *(_DWORD *)(v1 + 40932) = v2;
  return sub_10002670(v1 + 40904);
}
// 1006F014: using guessed type void *GMalloc;

//----- (100027B0) --------------------------------------------------------
int __thiscall sub_100027B0(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  int v4; // ecx@1

  v2 = this;
  sub_10001F00(this, 0, 0);
  result = a2;
  *(_DWORD *)v2 = *(_DWORD *)a2;
  v4 = (*(_DWORD *)(v2 + 4) ^ (8 * *(_DWORD *)(a2 + 4) >> 3)) & 0x1FFFFFFF ^ *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v2 + 4) = v4;
  *(_DWORD *)(v2 + 4) = v4 ^ (v4 ^ (4 * *(_DWORD *)(a2 + 4) >> 2)) & 0x20000000;
  *(_DWORD *)(result + 4) |= 0x20000000u;
  return result;
}

//----- (10002800) --------------------------------------------------------
int __thiscall sub_10002800(int this, int a2, int a3)
{
  int result; // eax@1
  int v4; // esi@1
  int v5; // [sp+0h] [bp-20h]@1
  int *v6; // [sp+10h] [bp-10h]@1
  int v7; // [sp+1Ch] [bp-4h]@2

  result = 0;
  v6 = &v5;
  v4 = this;
  if ( a3 )
  {
    v7 = 0;
    while ( result < a3 )
      ++result;
    memmove(
      (void *)(*(_DWORD *)this + 4 * a2),
      (const void *)(*(_DWORD *)this + 4 * (a2 + a3)),
      4 * ((8 * *(_DWORD *)(this + 4) >> 3) - a2 - a3));
    result = sub_10001F00(v4, (8 * *(_DWORD *)(v4 + 4) >> 3) - a3, 0);
  }
  return result;
}

//----- (10002889) --------------------------------------------------------
void __usercall sub_10002889(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 + 12);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1000289D) --------------------------------------------------------
void __cdecl sub_1000289D()
{
  appUnwindf("%s", off_10080084[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080084: using guessed type char *off_10080084[3];

//----- (100028C0) --------------------------------------------------------
int __thiscall sub_100028C0(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  int v4; // ecx@1

  v2 = this;
  sub_10002060(this, 0, 0);
  result = a2;
  *(_DWORD *)v2 = *(_DWORD *)a2;
  v4 = (*(_DWORD *)(v2 + 4) ^ (8 * *(_DWORD *)(a2 + 4) >> 3)) & 0x1FFFFFFF ^ *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v2 + 4) = v4;
  *(_DWORD *)(v2 + 4) = v4 ^ (v4 ^ (4 * *(_DWORD *)(a2 + 4) >> 2)) & 0x20000000;
  *(_DWORD *)(result + 4) |= 0x20000000u;
  return result;
}

//----- (10002910) --------------------------------------------------------
int __thiscall sub_10002910(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  int v4; // ecx@1

  v2 = this;
  sub_100021D0(this, 0, 0);
  result = a2;
  *(_DWORD *)v2 = *(_DWORD *)a2;
  v4 = (*(_DWORD *)(v2 + 4) ^ (8 * *(_DWORD *)(a2 + 4) >> 3)) & 0x1FFFFFFF ^ *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v2 + 4) = v4;
  *(_DWORD *)(v2 + 4) = v4 ^ (v4 ^ (4 * *(_DWORD *)(a2 + 4) >> 2)) & 0x20000000;
  *(_DWORD *)(result + 4) |= 0x20000000u;
  return result;
}

//----- (10002960) --------------------------------------------------------
void __thiscall sub_10002960(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // esi@1
  int v5; // ecx@4
  char v6; // dl@5
  unsigned int v7; // ecx@5
  void *v8; // edi@5
  int v9; // edi@5
  int i; // ecx@5

  v3 = this;
  v4 = 8 * *(_DWORD *)(this + 4) >> 3;
  if ( a2 >= v4 )
    sub_10001DB0(this, a2, a3);
  else
    sub_10002390(this, a2, (8 * *(_DWORD *)(this + 4) >> 3) - a2);
  v5 = 8 * *(_DWORD *)(v3 + 4) >> 3;
  if ( v5 > v4 )
  {
    v6 = v5 - v4;
    v7 = (unsigned int)(v5 - v4) >> 2;
    v8 = (void *)(v4 + *(_DWORD *)v3);
    memset(v8, 0, 4 * v7);
    v9 = (int)((char *)v8 + 4 * v7);
    for ( i = v6 & 3; i; --i )
      *(_BYTE *)v9++ = 0;
  }
}

//----- (100029C0) --------------------------------------------------------
int __thiscall sub_100029C0(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // esi@1
  int result; // eax@2
  int v6; // ecx@4
  void *v7; // edi@5
  unsigned int v8; // edx@5
  int v9; // edi@5
  int i; // ecx@5

  v3 = this;
  v4 = 8 * *(_DWORD *)(this + 4) >> 3;
  if ( a2 >= v4 )
    result = sub_10001F00(this, a2, a3);
  else
    result = sub_10002800(this, a2, (8 * *(_DWORD *)(this + 4) >> 3) - a2);
  v6 = 8 * *(_DWORD *)(v3 + 4) >> 3;
  if ( v6 > v4 )
  {
    v7 = (void *)(*(_DWORD *)v3 + 4 * v4);
    v8 = 4 * (v6 - v4);
    result = 0;
    memset(v7, 0, 4 * (v8 >> 2));
    v9 = (int)((char *)v7 + 4 * (v8 >> 2));
    for ( i = 0; i; --i )
      *(_BYTE *)v9++ = 0;
  }
  return result;
}

//----- (10002A30) --------------------------------------------------------
int __thiscall sub_10002A30(int this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  int result; // eax@2
  int v6; // ecx@4
  unsigned int v7; // ecx@5
  void *v8; // edi@5
  char v9; // dl@5
  int v10; // edi@5
  int i; // ecx@5

  v3 = this;
  v4 = 8 * *(_DWORD *)(this + 4) >> 3;
  if ( a2 >= v4 )
    result = sub_10002060(this, a2, a3);
  else
    result = sub_10002470(this, a2, (8 * *(_DWORD *)(this + 4) >> 3) - a2);
  v6 = 8 * *(_DWORD *)(v3 + 4) >> 3;
  if ( v6 > v4 )
  {
    v7 = 16 * (v6 - v4);
    v8 = (void *)(*(_DWORD *)v3 + 16 * v4);
    v9 = v7;
    v7 >>= 2;
    result = 0;
    memset(v8, 0, 4 * v7);
    v10 = (int)((char *)v8 + 4 * v7);
    for ( i = v9 & 3; i; --i )
      *(_BYTE *)v10++ = 0;
  }
  return result;
}

//----- (10002AA0) --------------------------------------------------------
int __thiscall sub_10002AA0(int this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  int result; // eax@2
  int v6; // ecx@4
  int v7; // ecx@5
  void *v8; // edi@5
  char v9; // dl@5
  unsigned int v10; // ecx@5
  int v11; // edi@5
  int i; // ecx@5

  v3 = this;
  v4 = 8 * *(_DWORD *)(this + 4) >> 3;
  if ( a2 >= v4 )
    result = sub_100021D0(this, a2, a3);
  else
    result = sub_10002560(this, a2, (8 * *(_DWORD *)(this + 4) >> 3) - a2);
  v6 = 8 * *(_DWORD *)(v3 + 4) >> 3;
  if ( v6 > v4 )
  {
    v7 = v6 - v4;
    v8 = (void *)(*(_DWORD *)v3 + 1068 * v4);
    v9 = 44 * v7;
    v10 = (unsigned int)(1068 * v7) >> 2;
    result = 0;
    memset(v8, 0, 4 * v10);
    v11 = (int)((char *)v8 + 4 * v10);
    for ( i = v9 & 3; i; --i )
      *(_BYTE *)v11++ = 0;
  }
  return result;
}

//----- (10002B10) --------------------------------------------------------
int __thiscall UD3DRenderDevice::_UD3DRenderDevice(int this)
{
  int v1; // esi@1
  int v2; // ecx@7
  int v3; // eax@10

  v1 = this;
  *(_DWORD *)this = &UD3DRenderDevice::_vftable_;
  *(_DWORD *)(this + 40) = &UD3DRenderDevice::_vftable_;
  UObject::ConditionalDestroy();
  sub_10001770((void *)(v1 + 64612));
  if ( !(*(_DWORD *)(v1 + 59372) & 0x20000000) && *(_DWORD *)(v1 + 59368) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)(v1 + 59368));
  *(_DWORD *)(v1 + 59372) &= 0xE0000000u;
  *(_DWORD *)(v1 + 59368) = 0;
  sub_10002710(v1 + 18164);
  if ( !(*(_DWORD *)(v1 + 18052) & 0x20000000) && *(_DWORD *)(v1 + 18048) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)(v1 + 18048));
  v2 = *(_DWORD *)(v1 + 18052) & 0xE0000000;
  *(_DWORD *)(v1 + 18048) = 0;
  *(_DWORD *)(v1 + 18052) = v2;
  if ( !(*(_DWORD *)(v1 + 18016) & 0x20000000) && *(_DWORD *)(v1 + 18012) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)(v1 + 18012));
  v3 = *(_DWORD *)(v1 + 18016) & 0xE0000000;
  *(_DWORD *)(v1 + 18012) = 0;
  *(_DWORD *)(v1 + 18016) = v3;
  return URenderDevice::_URenderDevice(v1);
}
// 1006F014: using guessed type void *GMalloc;
// 1006F0A8: using guessed type int UObject__ConditionalDestroy(void);
// 1006F360: using guessed type int __thiscall URenderDevice___URenderDevice(_DWORD);
// 1006F7E4: using guessed type int (__stdcall *UD3DRenderDevice___vftable_)(int, float);
// 1006F7E8: using guessed type int (__thiscall *UD3DRenderDevice___vftable_)(void *, char);

//----- (10002C80) --------------------------------------------------------
int __thiscall sub_10002C80(void *this, char a2)
{
  void *v2; // esi@1
  int result; // eax@4

  v2 = this;
  if ( a2 & 2 )
  {
    unknown_libname_4(
      this,
      0x101B4u,
      *((_DWORD *)this - 1),
      (void (__thiscall *)(void *))UD3DRenderDevice::_UD3DRenderDevice);
    if ( a2 & 1 )
      (*(void (__stdcall **)(char *))(*(_DWORD *)GMalloc + 12))((char *)v2 - 4);
    result = (int)((char *)v2 - 4);
  }
  else
  {
    UD3DRenderDevice::_UD3DRenderDevice((int)this);
    if ( a2 & 1 )
      UObject::operator delete(v2, 65972);
    result = (int)v2;
  }
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F0AC: using guessed type int __fastcall UObject__operator delete(_DWORD, _DWORD);

//----- (10002CE0) --------------------------------------------------------
int __thiscall sub_10002CE0(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  int v4; // ecx@1

  v2 = this;
  sub_10001DB0(this, 0, 0);
  result = a2;
  *(_DWORD *)v2 = *(_DWORD *)a2;
  v4 = (*(_DWORD *)(v2 + 4) ^ (8 * *(_DWORD *)(a2 + 4) >> 3)) & 0x1FFFFFFF ^ *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v2 + 4) = v4;
  *(_DWORD *)(v2 + 4) = v4 ^ (v4 ^ (4 * *(_DWORD *)(a2 + 4) >> 2)) & 0x20000000;
  *(_DWORD *)(result + 4) |= 0x20000000u;
  return result;
}

//----- (10002D70) --------------------------------------------------------
int __thiscall sub_10002D70(int this, int a2)
{
  int v2; // ebx@1
  int v3; // eax@2

  v2 = this;
  if ( this != a2 )
  {
    v3 = *(_DWORD *)(a2 + 4);
    if ( !(v3 & 0x60000000) )
    {
      sub_10001DB0(this, 8 * v3 >> 3, 0);
      memcpy(*(void **)v2, *(const void **)a2, 8 * *(_DWORD *)(v2 + 4) >> 3);
      return v2;
    }
    sub_10002CE0(this, a2);
  }
  return v2;
}

//----- (10002DD0) --------------------------------------------------------
int __thiscall sub_10002DD0(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  int v4; // eax@3

  v2 = this;
  if ( this == a2 )
    return v2;
  v3 = *(_DWORD *)(a2 + 4);
  if ( v3 & 0x60000000 )
  {
    sub_100027B0(this, a2);
    return v2;
  }
  sub_100029C0(this, 8 * v3 >> 3, 8 * v3 >> 3);
  v4 = 0;
  if ( 8 * *(_DWORD *)(v2 + 4) <= 0 )
    return v2;
  do
  {
    *(_DWORD *)(*(_DWORD *)v2 + 4 * v4) = *(_DWORD *)(*(_DWORD *)a2 + 4 * v4);
    ++v4;
  }
  while ( v4 < 8 * *(_DWORD *)(v2 + 4) >> 3 );
  return v2;
}

//----- (10002E30) --------------------------------------------------------
int __thiscall sub_10002E30(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  int v4; // ecx@3
  int v5; // eax@4
  int v6; // edx@5
  int v7; // ebx@5

  v2 = this;
  if ( this == a2 )
    return v2;
  v3 = *(_DWORD *)(a2 + 4);
  if ( v3 & 0x60000000 )
  {
    sub_100028C0(this, a2);
    return v2;
  }
  sub_10002A30(this, 8 * v3 >> 3, 8 * v3 >> 3);
  v4 = 0;
  if ( 8 * *(_DWORD *)(v2 + 4) <= 0 )
    return v2;
  v5 = 0;
  do
  {
    v6 = v5 + *(_DWORD *)a2;
    v7 = v5 + *(_DWORD *)v2;
    *(_DWORD *)v7 = *(_DWORD *)v6;
    *(_DWORD *)(v7 + 4) = *(_DWORD *)(v6 + 4);
    *(_DWORD *)(v7 + 8) = *(_DWORD *)(v6 + 8);
    *(_DWORD *)(v7 + 12) = *(_DWORD *)(v6 + 12);
    ++v4;
    v5 += 16;
  }
  while ( v4 < 8 * *(_DWORD *)(v2 + 4) >> 3 );
  return v2;
}

//----- (10002EB0) --------------------------------------------------------
int __thiscall sub_10002EB0(int this, int a2)
{
  int v2; // ebx@1
  int v3; // eax@2
  int v4; // edx@3
  int v5; // eax@4

  v2 = this;
  if ( this == a2 )
    return v2;
  v3 = *(_DWORD *)(a2 + 4);
  if ( v3 & 0x60000000 )
  {
    sub_10002910(this, a2);
    return v2;
  }
  sub_10002AA0(this, 8 * v3 >> 3, 8 * v3 >> 3);
  v4 = 0;
  if ( 8 * *(_DWORD *)(v2 + 4) <= 0 )
    return v2;
  v5 = 0;
  do
  {
    memcpy((void *)(v5 + *(_DWORD *)v2), (const void *)(v5 + *(_DWORD *)a2), 0x42Cu);
    ++v4;
    v5 += 1068;
  }
  while ( v4 < 8 * *(_DWORD *)(v2 + 4) >> 3 );
  return v2;
}

//----- (10003000) --------------------------------------------------------
void *__thiscall sub_10003000(void *this, int a2)
{
  void *v2; // ebx@1
  void *v3; // eax@1
  const void **v4; // esi@3
  void **v5; // edi@3
  int v6; // eax@4
  int v7; // ecx@4
  int v8; // edx@6
  int v9; // edx@6
  int v10; // eax@7
  signed int v11; // ecx@7
  char *v13; // [sp+10h] [bp+0h]@1

  v2 = this;
  FRenderInterface::operator_();
  *((_DWORD *)v2 + 1) = *(_DWORD *)(a2 + 4);
  *((_DWORD *)v2 + 2) = *(_DWORD *)(a2 + 8);
  v3 = (char *)v2 + 12;
  v13 = (char *)32;
  do
  {
    memcpy(v3, (char *)v3 + a2 - (_DWORD)v2, 0x4E0u);
    v3 = (char *)v3 + 1248;
    --v13;
  }
  while ( v13 );
  *((_DWORD *)v2 + 9987) = *(_DWORD *)(a2 + 39948);
  memcpy((char *)v2 + 39952, (const void *)(a2 + 39952), 0x3B8u);
  sub_10002DD0((int)((char *)v2 + 40904), a2 + 40904);
  *((_DWORD *)v2 + 10228) = *(_DWORD *)(a2 + 40912);
  *((_DWORD *)v2 + 10229) = *(_DWORD *)(a2 + 40916);
  *((_DWORD *)v2 + 10230) = *(_DWORD *)(a2 + 40920);
  v4 = (const void **)(a2 + 40928);
  v5 = (void **)((char *)v2 + 40928);
  *((_DWORD *)v2 + 10231) = *(_DWORD *)(a2 + 40924);
  if ( (char *)v2 + 40928 != (void *)(a2 + 40928) )
  {
    v6 = *(_DWORD *)(a2 + 40932);
    v7 = (int)((char *)v2 + 40928);
    if ( v6 & 0x60000000 )
    {
      sub_10001DB0(v7, 0, 0);
      v8 = *((_DWORD *)v2 + 10233);
      *v5 = (void *)*v4;
      v9 = (v8 ^ (8 * *(_DWORD *)(a2 + 40932) >> 3)) & 0x1FFFFFFF ^ v8;
      *((_DWORD *)v2 + 10233) = v9;
      *((_DWORD *)v2 + 10233) = v9 ^ (v9 ^ (4 * *(_DWORD *)(a2 + 40932) >> 2)) & 0x20000000;
      *(_DWORD *)(a2 + 40932) |= 0x20000000u;
    }
    else
    {
      sub_10001DB0(v7, 8 * v6 >> 3, 0);
      memcpy(*v5, *v4, 8 * *((_DWORD *)v2 + 10233) >> 3);
    }
  }
  *((_DWORD *)v2 + 10234) = *(_DWORD *)(a2 + 40936);
  *((_DWORD *)v2 + 10235) = *(_DWORD *)(a2 + 40940);
  *((_DWORD *)v2 + 10236) = *(_DWORD *)(a2 + 40944);
  v10 = (int)((char *)v2 + 40948);
  v11 = 64;
  do
  {
    *(_DWORD *)v10 = *(_DWORD *)(v10 + a2 - (_DWORD)v2);
    v10 += 4;
    --v11;
  }
  while ( v11 );
  return v2;
}
// 1006F364: using guessed type int FRenderInterface__operator_(void);

//----- (100031B0) --------------------------------------------------------
void *__thiscall UD3DRenderDevice::operator_(void *this, int a2)
{
  void *v2; // ebx@1
  int v3; // eax@1
  signed int v4; // edx@1
  const void **v5; // esi@3
  void **v6; // edi@3
  int v7; // eax@4
  int v8; // ecx@4
  int v9; // edx@6
  int v10; // edx@6

  v2 = this;
  URenderDevice::operator_(a2);
  *((_DWORD *)v2 + 44) = *(_DWORD *)(a2 + 176);
  v3 = (int)((char *)v2 + 180);
  v4 = 4096;
  do
  {
    *(_DWORD *)v3 = *(_DWORD *)(a2 - (_DWORD)v2 + v3);
    v3 += 4;
    --v4;
  }
  while ( v4 );
  *((_DWORD *)v2 + 4141) = *(_DWORD *)(a2 + 16564);
  *((_DWORD *)v2 + 4142) = *(_DWORD *)(a2 + 16568);
  *((_DWORD *)v2 + 4143) = *(_DWORD *)(a2 + 16572);
  *((_DWORD *)v2 + 4144) = *(_DWORD *)(a2 + 16576);
  *((_DWORD *)v2 + 4145) = *(_DWORD *)(a2 + 16580);
  *((_DWORD *)v2 + 4146) = *(_DWORD *)(a2 + 16584);
  *((_DWORD *)v2 + 4147) = *(_DWORD *)(a2 + 16588);
  *((_DWORD *)v2 + 4148) = *(_DWORD *)(a2 + 16592);
  *((_DWORD *)v2 + 4149) = *(_DWORD *)(a2 + 16596);
  *((_DWORD *)v2 + 4150) = *(_DWORD *)(a2 + 16600);
  *((_DWORD *)v2 + 4151) = *(_DWORD *)(a2 + 16604);
  *((_DWORD *)v2 + 4152) = *(_DWORD *)(a2 + 16608);
  *((_DWORD *)v2 + 4153) = *(_DWORD *)(a2 + 16612);
  *((_DWORD *)v2 + 4154) = *(_DWORD *)(a2 + 16616);
  *((_DWORD *)v2 + 4155) = *(_DWORD *)(a2 + 16620);
  *((_DWORD *)v2 + 4156) = *(_DWORD *)(a2 + 16624);
  *((_DWORD *)v2 + 4157) = *(_DWORD *)(a2 + 16628);
  *((_DWORD *)v2 + 4158) = *(_DWORD *)(a2 + 16632);
  *((_DWORD *)v2 + 4159) = *(_DWORD *)(a2 + 16636);
  *((_DWORD *)v2 + 4160) = *(_DWORD *)(a2 + 16640);
  *((_DWORD *)v2 + 4161) = *(_DWORD *)(a2 + 16644);
  *((_DWORD *)v2 + 4162) = *(_DWORD *)(a2 + 16648);
  *((_DWORD *)v2 + 4163) = *(_DWORD *)(a2 + 16652);
  *((_DWORD *)v2 + 4164) = *(_DWORD *)(a2 + 16656);
  *((_DWORD *)v2 + 4165) = *(_DWORD *)(a2 + 16660);
  *((_DWORD *)v2 + 4166) = *(_DWORD *)(a2 + 16664);
  *((_DWORD *)v2 + 4167) = *(_DWORD *)(a2 + 16668);
  *((_DWORD *)v2 + 4168) = *(_DWORD *)(a2 + 16672);
  *((_DWORD *)v2 + 4169) = *(_DWORD *)(a2 + 16676);
  *((_DWORD *)v2 + 4170) = *(_DWORD *)(a2 + 16680);
  *((_DWORD *)v2 + 4171) = *(_DWORD *)(a2 + 16684);
  *((_DWORD *)v2 + 4172) = *(_DWORD *)(a2 + 16688);
  *((_DWORD *)v2 + 4173) = *(_DWORD *)(a2 + 16692);
  *((_DWORD *)v2 + 4174) = *(_DWORD *)(a2 + 16696);
  *((_DWORD *)v2 + 4175) = *(_DWORD *)(a2 + 16700);
  *((_DWORD *)v2 + 4176) = *(_DWORD *)(a2 + 16704);
  *((_DWORD *)v2 + 4177) = *(_DWORD *)(a2 + 16708);
  *((_DWORD *)v2 + 4178) = *(_DWORD *)(a2 + 16712);
  *((_DWORD *)v2 + 4179) = *(_DWORD *)(a2 + 16716);
  *((_DWORD *)v2 + 4180) = *(_DWORD *)(a2 + 16720);
  memcpy((char *)v2 + 16724, (const void *)(a2 + 16724), 0xD4u);
  memcpy((char *)v2 + 16936, (const void *)(a2 + 16936), 0x434u);
  sub_10002E30((int)((char *)v2 + 18012), a2 + 18012);
  *((_DWORD *)v2 + 4505) = *(_DWORD *)(a2 + 18020);
  *((_DWORD *)v2 + 4506) = *(_DWORD *)(a2 + 18024);
  *((_DWORD *)v2 + 4507) = *(_DWORD *)(a2 + 18028);
  *((_DWORD *)v2 + 4508) = *(_DWORD *)(a2 + 18032);
  *((_DWORD *)v2 + 4509) = *(_DWORD *)(a2 + 18036);
  *((_DWORD *)v2 + 4510) = *(_DWORD *)(a2 + 18040);
  *((_DWORD *)v2 + 4511) = *(_DWORD *)(a2 + 18044);
  sub_10002EB0((int)((char *)v2 + 18048), a2 + 18048);
  *((_DWORD *)v2 + 4514) = *(_DWORD *)(a2 + 18056);
  *((_DWORD *)v2 + 4515) = *(_DWORD *)(a2 + 18060);
  *((_DWORD *)v2 + 4516) = *(_DWORD *)(a2 + 18064);
  *((_DWORD *)v2 + 4517) = *(_DWORD *)(a2 + 18068);
  *((_DWORD *)v2 + 4518) = *(_DWORD *)(a2 + 18072);
  *((_DWORD *)v2 + 4519) = *(_DWORD *)(a2 + 18076);
  *((_DWORD *)v2 + 4520) = *(_DWORD *)(a2 + 18080);
  *((_DWORD *)v2 + 4521) = *(_DWORD *)(a2 + 18084);
  *((_DWORD *)v2 + 4522) = *(_DWORD *)(a2 + 18088);
  *((_DWORD *)v2 + 4523) = *(_DWORD *)(a2 + 18092);
  *((_DWORD *)v2 + 4524) = *(_DWORD *)(a2 + 18096);
  *((_DWORD *)v2 + 4525) = *(_DWORD *)(a2 + 18100);
  memcpy((char *)v2 + 18104, (const void *)(a2 + 18104), 0x3Cu);
  sub_10003000((char *)v2 + 18164, a2 + 18164);
  v5 = (const void **)(a2 + 59368);
  v6 = (void **)((char *)v2 + 59368);
  if ( (char *)v2 + 59368 != (void *)(a2 + 59368) )
  {
    v7 = *(_DWORD *)(a2 + 59372);
    v8 = (int)((char *)v2 + 59368);
    if ( v7 & 0x60000000 )
    {
      sub_10001DB0(v8, 0, 0);
      v9 = *((_DWORD *)v2 + 14843);
      *v6 = (void *)*v5;
      v10 = (v9 ^ (8 * *(_DWORD *)(a2 + 59372) >> 3)) & 0x1FFFFFFF ^ v9;
      *((_DWORD *)v2 + 14843) = v10;
      *((_DWORD *)v2 + 14843) = v10 ^ (v10 ^ (4 * *(_DWORD *)(a2 + 59372) >> 2)) & 0x20000000;
      *(_DWORD *)(a2 + 59372) |= 0x20000000u;
    }
    else
    {
      sub_10001DB0(v8, 8 * v7 >> 3, 0);
      memcpy(*v6, *v5, 8 * *((_DWORD *)v2 + 14843) >> 3);
    }
  }
  memcpy((char *)v2 + 59376, (const void *)(a2 + 59376), 0x1474u);
  memcpy((char *)v2 + 64612, (const void *)(a2 + 64612), 0x550u);
  return v2;
}
// 1006F368: using guessed type int __stdcall URenderDevice__operator_(_DWORD);

//----- (10003640) --------------------------------------------------------
void *__thiscall sub_10003640(void *this, int a2)
{
  void *v2; // ebx@1

  v2 = this;
  FRenderInterface::FRenderInterface(a2);
  *(_DWORD *)v2 = &off_1006F8D8;
  *((_DWORD *)v2 + 1) = *(_DWORD *)(a2 + 4);
  *((_DWORD *)v2 + 2) = *(_DWORD *)(a2 + 8);
  memcpy((char *)v2 + 12, (const void *)(a2 + 12), 0x9C04u);
  memcpy((char *)v2 + 39952, (const void *)(a2 + 39952), 0x3B8u);
  *((_DWORD *)v2 + 10226) = 0;
  *((_DWORD *)v2 + 10227) = 0;
  sub_10002DD0((int)((char *)v2 + 40904), a2 + 40904);
  *((_DWORD *)v2 + 10228) = *(_DWORD *)(a2 + 40912);
  *((_DWORD *)v2 + 10229) = *(_DWORD *)(a2 + 40916);
  *((_DWORD *)v2 + 10230) = *(_DWORD *)(a2 + 40920);
  *((_DWORD *)v2 + 10231) = *(_DWORD *)(a2 + 40924);
  *((_DWORD *)v2 + 10232) = 0;
  *((_DWORD *)v2 + 10233) = 0;
  sub_10002D70((int)((char *)v2 + 40928), a2 + 40928);
  *((_DWORD *)v2 + 10234) = *(_DWORD *)(a2 + 40936);
  *((_DWORD *)v2 + 10235) = *(_DWORD *)(a2 + 40940);
  *((_DWORD *)v2 + 10236) = *(_DWORD *)(a2 + 40944);
  memcpy((char *)v2 + 40948, (const void *)(a2 + 40948), 0x100u);
  return v2;
}
// 1006F380: using guessed type int __stdcall FRenderInterface__FRenderInterface(_DWORD);
// 1006F8D8: using guessed type char off_1006F8D8;

//----- (10003770) --------------------------------------------------------
void __thiscall sub_10003770(int this, int a2)
{
  *(_DWORD *)(this + 40916) = a2;
}

//----- (10003790) --------------------------------------------------------
void __thiscall sub_10003790(int this, int a2)
{
  *(_DWORD *)(this + 40920) = a2;
}

//----- (100037B0) --------------------------------------------------------
void *__thiscall UD3DRenderDevice::UD3DRenderDevice(void *this, int a2)
{
  void *v2; // ebx@1

  v2 = this;
  URenderDevice::URenderDevice(a2);
  *(_DWORD *)v2 = &UD3DRenderDevice::_vftable_;
  *((_DWORD *)v2 + 10) = &UD3DRenderDevice::_vftable_;
  *((_DWORD *)v2 + 44) = *(_DWORD *)(a2 + 176);
  memcpy((char *)v2 + 180, (const void *)(a2 + 180), 0x40A0u);
  memcpy((char *)v2 + 16724, (const void *)(a2 + 16724), 0xD4u);
  memcpy((char *)v2 + 16936, (const void *)(a2 + 16936), 0x434u);
  *((_DWORD *)v2 + 4503) = 0;
  *((_DWORD *)v2 + 4504) = 0;
  sub_10002E30((int)((char *)v2 + 18012), a2 + 18012);
  *((_DWORD *)v2 + 4505) = *(_DWORD *)(a2 + 18020);
  *((_DWORD *)v2 + 4506) = *(_DWORD *)(a2 + 18024);
  *((_DWORD *)v2 + 4507) = *(_DWORD *)(a2 + 18028);
  *((_DWORD *)v2 + 4508) = *(_DWORD *)(a2 + 18032);
  *((_DWORD *)v2 + 4509) = *(_DWORD *)(a2 + 18036);
  *((_DWORD *)v2 + 4510) = *(_DWORD *)(a2 + 18040);
  *((_DWORD *)v2 + 4511) = *(_DWORD *)(a2 + 18044);
  *((_DWORD *)v2 + 4512) = 0;
  *((_DWORD *)v2 + 4513) = 0;
  sub_10002EB0((int)((char *)v2 + 18048), a2 + 18048);
  *((_DWORD *)v2 + 4514) = *(_DWORD *)(a2 + 18056);
  *((_DWORD *)v2 + 4515) = *(_DWORD *)(a2 + 18060);
  *((_DWORD *)v2 + 4516) = *(_DWORD *)(a2 + 18064);
  *((_DWORD *)v2 + 4517) = *(_DWORD *)(a2 + 18068);
  *((_DWORD *)v2 + 4518) = *(_DWORD *)(a2 + 18072);
  *((_DWORD *)v2 + 4519) = *(_DWORD *)(a2 + 18076);
  *((_DWORD *)v2 + 4520) = *(_DWORD *)(a2 + 18080);
  *((_DWORD *)v2 + 4521) = *(_DWORD *)(a2 + 18084);
  *((_DWORD *)v2 + 4522) = *(_DWORD *)(a2 + 18088);
  *((_DWORD *)v2 + 4523) = *(_DWORD *)(a2 + 18092);
  *((_DWORD *)v2 + 4524) = *(_DWORD *)(a2 + 18096);
  *((_DWORD *)v2 + 4525) = *(_DWORD *)(a2 + 18100);
  memcpy((char *)v2 + 18104, (const void *)(a2 + 18104), 0x3Cu);
  sub_10003640((char *)v2 + 18164, a2 + 18164);
  *((_DWORD *)v2 + 14842) = 0;
  *((_DWORD *)v2 + 14843) = 0;
  sub_10002D70((int)((char *)v2 + 59368), a2 + 59368);
  memcpy((char *)v2 + 59376, (const void *)(a2 + 59376), 0x1474u);
  memcpy((char *)v2 + 64612, (const void *)(a2 + 64612), 0x550u);
  return v2;
}
// 1006F384: using guessed type int __stdcall URenderDevice__URenderDevice(_DWORD);
// 1006F7E4: using guessed type int (__stdcall *UD3DRenderDevice___vftable_)(int, float);
// 1006F7E8: using guessed type int (__thiscall *UD3DRenderDevice___vftable_)(void *, char);

//----- (10003C30) --------------------------------------------------------
void *__thiscall sub_10003C30(void *this)
{
  void *v1; // ebp@1
  int v2; // edx@1
  int v3; // ecx@1
  int v5; // [sp+10h] [bp-4h]@1

  v1 = this;
  FColor::FColor((char *)this + 76);
  v2 = *(_DWORD *)v1 & 0xF00FFFF8;
  *(_DWORD *)v1 = v2;
  memcpy((char *)v1 + 4, FMatrix::Identity, 0x40u);
  *((_BYTE *)v1 + 68) = 0;
  *((_BYTE *)v1 + 69) = 0;
  *((_BYTE *)v1 + 72) = 0;
  *(_DWORD *)v1 = v2 & 0xFFF00F37 | 0x30;
  FColor::FColor(&v5, 0);
  v3 = *(_DWORD *)v1 & 0xFFFFFCFF;
  *((_DWORD *)v1 + 19) = v5;
  *((_DWORD *)v1 + 20) = 0;
  *((_DWORD *)v1 + 21) = 0;
  *((_BYTE *)v1 + 74) = 0;
  *((_BYTE *)v1 + 73) = 0;
  *((_BYTE *)v1 + 70) = 0;
  *((_BYTE *)v1 + 71) = 0;
  *(_DWORD *)v1 = v3 | 0xC00;
  return v1;
}
// 1006F0B0: using guessed type void *FMatrix__Identity;
// 1006F388: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD);
// 1006F38C: using guessed type int __thiscall FColor__FColor(_DWORD);

//----- (10003CC0) --------------------------------------------------------
int __thiscall sub_10003CC0(int this, float a2)
{
  float v2; // ST64_4@1
  float v3; // ST50_4@1
  __int128 v4; // xmm2@1
  int result; // eax@1
  float v6; // xmm1_4@1
  __int128 v7; // xmm6@1
  __int128 v8; // xmm7@1
  float v9; // xmm1_4@1
  float v10; // xmm5_4@1
  __int128 v11; // xmm7@1
  float v12; // xmm3_4@1
  float v13; // xmm5_4@1
  float v14; // xmm0_4@1
  float v15; // xmm5_4@1
  float v16; // xmm1_4@1
  float v17; // xmm4_4@1
  float v18; // xmm5_4@1
  __int128 v19; // xmm7@1
  float v20; // xmm1_4@1
  float v21; // xmm0_4@1
  float v22; // [sp+88h] [bp-40h]@1
  float v23; // [sp+8Ch] [bp-3Ch]@1
  int v24; // [sp+90h] [bp-38h]@1
  float v25; // [sp+94h] [bp-34h]@1
  float v26; // [sp+98h] [bp-30h]@1
  float v27; // [sp+9Ch] [bp-2Ch]@1
  float v28; // [sp+A0h] [bp-28h]@1
  float v29; // [sp+A4h] [bp-24h]@1
  float v30; // [sp+A8h] [bp-20h]@1
  float v31; // [sp+ACh] [bp-1Ch]@1
  float v32; // [sp+B0h] [bp-18h]@1
  float v33; // [sp+B4h] [bp-14h]@1
  float v34; // [sp+B8h] [bp-10h]@1
  float v35; // [sp+BCh] [bp-Ch]@1
  float v36; // [sp+C0h] [bp-8h]@1
  float v37; // [sp+C4h] [bp-4h]@1

  LODWORD(v2) = dword_1006F9A0;
  LODWORD(v3) = dword_1006F9A0;
  *(_DWORD *)this |= 1u;
  v4 = *(_DWORD *)(this + 16);
  result = 0;
  v6 = a2 * *(float *)(this + 8);
  v22 = (float)((float)((float)(0.0 * *(float *)(this + 8)) + (float)(0.0 * *(float *)(this + 12)))
              + (float)(a2 * *(float *)(this + 4)))
      + (float)(*(float *)(this + 16) * 0.0);
  v7 = *(_DWORD *)(this + 16);
  v8 = *(_DWORD *)(this + 16);
  v9 = (float)((float)(v6 + (float)(0.0 * *(float *)(this + 12))) + (float)(0.0 * *(float *)(this + 4)))
     + (float)(*(float *)&v4 * 0.0);
  *(float *)&v4 = 0.0 * *(float *)(this + 8);
  v23 = v9;
  *(float *)&v4 = (float)((float)(*(float *)&v4 + (float)(v3 * *(float *)(this + 12)))
                        + (float)(0.0 * *(float *)(this + 4)))
                + (float)(*(float *)&v7 * 0.0);
  *(float *)&v7 = 0.0 * *(float *)(this + 8);
  v24 = v4;
  v25 = (float)((float)(*(float *)&v7 + (float)(0.0 * *(float *)(this + 12))) + (float)(0.0 * *(float *)(this + 4)))
      + (float)(*(float *)&v8 * v2);
  v26 = (float)((float)((float)(*(float *)(this + 20) * a2) + (float)(0.0 * *(float *)(this + 32)))
              + (float)(0.0 * *(float *)(this + 24)))
      + (float)(0.0 * *(float *)(this + 28));
  *(float *)&v7 = 0.0 * *(float *)(this + 24);
  v27 = (float)((float)((float)(0.0 * *(float *)(this + 32)) + (float)(a2 * *(float *)(this + 24)))
              + (float)(0.0 * *(float *)(this + 28)))
      + (float)(*(float *)(this + 20) * 0.0);
  v10 = (float)((float)((float)(0.0 * *(float *)(this + 32)) + *(float *)&v7) + (float)(v3 * *(float *)(this + 28)))
      + (float)(*(float *)(this + 20) * 0.0);
  *(float *)&v7 = 0.0 * *(float *)(this + 24);
  v28 = v10;
  v29 = (float)((float)((float)(v2 * *(float *)(this + 32)) + *(float *)&v7) + (float)(0.0 * *(float *)(this + 28)))
      + (float)(*(float *)(this + 20) * 0.0);
  v11 = *(_DWORD *)(this + 36);
  v12 = 0.0 * *(float *)(this + 56);
  *(float *)&v7 = a2 * *(float *)(this + 40);
  v30 = (float)((float)((float)(*(float *)(this + 36) * a2) + (float)(0.0 * *(float *)(this + 48)))
              + (float)(0.0 * *(float *)(this + 40)))
      + (float)(0.0 * *(float *)(this + 44));
  v13 = (float)((float)((float)(0.0 * *(float *)(this + 48)) + *(float *)&v7) + (float)(0.0 * *(float *)(this + 44)))
      + (float)(*(float *)(this + 36) * 0.0);
  *(float *)&v7 = 0.0 * *(float *)(this + 40);
  v14 = 0.0 * *(float *)(this + 64);
  v31 = v13;
  v15 = (float)((float)((float)(0.0 * *(float *)(this + 48)) + *(float *)&v7) + (float)(v3 * *(float *)(this + 44)))
      + (float)(*(float *)(this + 36) * 0.0);
  *(float *)&v7 = 0.0 * *(float *)(this + 40);
  v16 = 0.0 * *(float *)(this + 64);
  v32 = v15;
  v17 = 0.0 * *(float *)(this + 60);
  v18 = (float)((float)((float)(v2 * *(float *)(this + 48)) + *(float *)&v7) + (float)(0.0 * *(float *)(this + 44)))
      + (float)(*(float *)&v11 * 0.0);
  v19 = *(_DWORD *)(this + 52);
  *(float *)&v4 = v2 * *(float *)(this + 64);
  v33 = v18;
  *(float *)&v19 = (float)((float)(*(float *)&v19 * a2) + (float)(0.0 * *(float *)(this + 64))) + v12;
  v35 = (float)((float)(v14 + (float)(a2 * *(float *)(this + 56))) + (float)(0.0 * *(float *)(this + 60)))
      + (float)(*(float *)(this + 52) * 0.0);
  v20 = (float)((float)(v16 + (float)(0.0 * *(float *)(this + 56))) + (float)(v3 * *(float *)(this + 60)))
      + (float)(*(float *)(this + 52) * 0.0);
  v21 = 0.0 * *(float *)(this + 56);
  v34 = *(float *)&v19 + v17;
  v36 = v20;
  v37 = (float)((float)(*(float *)&v4 + v21) + (float)(0.0 * *(float *)(this + 60)))
      + (float)(*(float *)(this + 52) * 0.0);
  memcpy((void *)(this + 4), &v22, 0x40u);
  return result;
}
// 1006F9A0: using guessed type int dword_1006F9A0;

//----- (10004410) --------------------------------------------------------
int __thiscall sub_10004410(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // ebx@5
  int result; // eax@6
  int v7; // ecx@6

  *(_DWORD *)(a2 + 12) = *(_DWORD *)(a2 + 12) & 0xFF03F002 | 2;
  v4 = *(_DWORD *)(a2 + 8) & 0xFFC5FFFF | 0x40000;
  *(_DWORD *)(a2 + 8) = v4;
  if ( a3 )
  {
    if ( a4 )
    {
      v5 = v4 ^ (((*(_BYTE *)(*(_DWORD *)(this + 39948) + 20) != 0) + 4) << 12);
      *(_DWORD *)(a2 + 8) = v4 ^ v5 & 0x1F000;
    }
    else
    {
      *(_DWORD *)(a2 + 8) = v4 & 0xFFFE2FFF | 0x2000;
    }
  }
  else
  {
    *(_DWORD *)(a2 + 8) = v4 & 0xFFFE3FFF | 0x3000;
  }
  result = *(_DWORD *)(a2 + 8) & 0xFFFFFF11 | 0x11;
  v7 = *(_DWORD *)(a2 + 16) & 0xFE0000BF | 0x80;
  *(_DWORD *)a2 = a3;
  *(_DWORD *)(a2 + 8) = result;
  *(_DWORD *)(a2 + 16) = v7;
  return result;
}

//----- (100044B0) --------------------------------------------------------
void __thiscall sub_100044B0(int this, int a2, int a3)
{
  int v3; // edi@1
  unsigned __int64 v4; // st7@2
  int v5; // eax@2
  int v6; // eax@2
  int v7; // eax@6
  int v8; // eax@9

  v3 = this;
  if ( a3 )
  {
    *(double *)&v4 = *(double *)(*(_DWORD *)(this + 8) + 368);
    v5 = (*(int (__thiscall **)(int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)a3 + 176))(
           a3,
           v4,
           v4 >> 32,
           *(_DWORD *)(this + 8));
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 172))(v5);
    *(_DWORD *)a2 = sub_1001A420(v3, v6);
    if ( *(_BYTE *)(a3 + 124) & 1 )
      *(_DWORD *)(v3 + 40912) |= 1u;
    if ( *(_DWORD *)a2 && *(_DWORD *)(*(_DWORD *)a2 + 60) )
    {
      v7 = ((unsigned __int8)*(_DWORD *)(a2 + 8) ^ (unsigned __int8)*(_DWORD *)(*(_DWORD *)(v3 + 4) + 18028)) & 0xF ^ *(_DWORD *)(a2 + 8);
      *(_DWORD *)(a2 + 8) = v7;
      *(_DWORD *)(a2 + 8) = v7 ^ (unsigned __int8)((v7 ^ (unsigned __int8)(16 * *(_DWORD *)(*(_DWORD *)(v3 + 4) + 18028))) & 0xF0);
LABEL_16:
      *(_DWORD *)(a2 + 8) ^= ((unsigned __int16)*(_DWORD *)(a2 + 8) ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(*(_DWORD *)(v3 + 4) + 18028) << 8)) & 0xF00;
      return;
    }
    if ( *(_BYTE *)(a3 + 101) )
    {
      if ( *(_BYTE *)(a3 + 101) != 1 )
        goto LABEL_12;
      v8 = *(_DWORD *)(a2 + 8) & 0xFFFFFFF3 | 3;
    }
    else
    {
      v8 = *(_DWORD *)(a2 + 8) & 0xFFFFFFF1 | 1;
    }
    *(_DWORD *)(a2 + 8) = v8;
LABEL_12:
    if ( *(_BYTE *)(a3 + 102) )
    {
      if ( *(_BYTE *)(a3 + 102) == 1 )
        *(_DWORD *)(a2 + 8) = *(_DWORD *)(a2 + 8) & 0xFFFFFF3F | 0x30;
    }
    else
    {
      *(_DWORD *)(a2 + 8) = *(_DWORD *)(a2 + 8) & 0xFFFFFF1F | 0x10;
    }
    goto LABEL_16;
  }
  *(_DWORD *)a2 = 0;
}

//----- (100045D0) --------------------------------------------------------
char __thiscall sub_100045D0(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // edi@1
  int *v4; // ecx@4
  int v5; // eax@13
  signed int v7; // [sp-10h] [bp-50h]@5
  signed int v8; // [sp-Ch] [bp-4Ch]@5
  signed int v9; // [sp-8h] [bp-48h]@5
  int v10; // [sp-4h] [bp-44h]@5
  int v11; // [sp+0h] [bp-40h]@1
  int v12; // [sp+4h] [bp-3Ch]@1
  int v13; // [sp+8h] [bp-38h]@1
  int v14; // [sp+Ch] [bp-34h]@1
  int v15; // [sp+10h] [bp-30h]@1
  int v16; // [sp+14h] [bp-2Ch]@1
  int v17; // [sp+18h] [bp-28h]@1
  int v18; // [sp+1Ch] [bp-24h]@1
  char v19; // [sp+20h] [bp-20h]@6
  char v20; // [sp+24h] [bp-1Ch]@5
  char v21; // [sp+28h] [bp-18h]@1
  int *v22; // [sp+30h] [bp-10h]@1
  int v23; // [sp+3Ch] [bp-4h]@1

  v22 = &v11;
  v2 = this;
  v23 = 0;
  FColor::FColor(&v21, 0, 0, 0, 1, v11, v12, v13, v14, v15, v16, v17, v18);
  v3 = a2;
  switch ( *(_BYTE *)(a2 + 72) )
  {
    case 0:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 2;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 1;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) &= 0xFFFFFFFEu;
      break;
    case 2:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 5;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 6;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 1u;
      break;
    case 3:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 2;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 6;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 0x40u;
      v4 = &a2;
      goto LABEL_11;
    case 1:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 9;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 3;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 1u;
      v10 = 0;
      v9 = 127;
      v8 = 127;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 0x40u;
      v7 = 127;
      v4 = (int *)&v20;
      goto LABEL_12;
    case 4:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 2;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 2;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 0x40u;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 28) = *(_DWORD *)FColor::FColor(
                                                                                 &v19,
                                                                                 0,
                                                                                 0,
                                                                                 0,
                                                                                 0,
                                                                                 v11,
                                                                                 v12,
                                                                                 v13,
                                                                                 v14,
                                                                                 v15,
                                                                                 v16,
                                                                                 v17,
                                                                                 v18);
      break;
    case 5:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 1;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 4;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 0x40u;
      v4 = &v18;
      goto LABEL_11;
    case 6:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 2;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 4;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 0x40u;
      v4 = &v17;
      goto LABEL_11;
    case 7:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 1;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 2;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 0x40u;
      v4 = &v16;
      goto LABEL_11;
    case 8:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 20) = 5;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 24) = 2;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) |= 0x40u;
      v4 = &v15;
LABEL_11:
      v10 = 0;
      v9 = 0;
      v8 = 0;
      v7 = 0;
LABEL_12:
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 28) = *(_DWORD *)FColor::FColor(
                                                                                 v4,
                                                                                 v7,
                                                                                 v8,
                                                                                 v9,
                                                                                 v10,
                                                                                 v11,
                                                                                 v12,
                                                                                 v13,
                                                                                 v14,
                                                                                 v15,
                                                                                 v16,
                                                                                 v17,
                                                                                 v18);
      break;
    default:
      break;
  }
  *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) ^= (*(_DWORD *)v3 ^ *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772)
                                                                                           + 4)) & 0x10;
  *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772)
                                                                                            + 4) ^ (unsigned __int8)(*(_DWORD *)v3 >> 2)) & 8;
  *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772)
                                                                                            + 4) ^ (unsigned __int8)(*(_DWORD *)v3 >> 2)) & 0x20;
  *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772)
                                                                                            + 4) ^ (unsigned __int8)(*(_DWORD *)v3 >> 5)) & 2;
  *(_BYTE *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 8) = *(_DWORD *)v3 >> 12;
  *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 32) = (*(_DWORD *)v3 & 0x400) != 0 ? 7 : 0;
  *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 772) + 32) |= (*(_DWORD *)v3 >> 8) & 8;
  LOBYTE(v5) = *(_BYTE *)(v3 + 74);
  if ( (_BYTE)v5 )
  {
    v5 = *(_DWORD *)(*((_DWORD *)v2 + 9987) + 772);
    *(_DWORD *)(v5 + 4) ^= (*(_DWORD *)(v5 + 4) ^ *(_BYTE *)(v3 + 73)) & 1;
  }
  return v5;
}
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (100049EC) --------------------------------------------------------
void __usercall sub_100049EC(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 52);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10004A00) --------------------------------------------------------
void __cdecl sub_10004A00()
{
  appUnwindf("%s", off_10080088[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080088: using guessed type char *off_10080088[2];

//----- (10004B10) --------------------------------------------------------
int __thiscall sub_10004B10(int this, int a2, int a3, int a4, int a5)
{
  int v5; // edi@1
  int v6; // ecx@1
  int v7; // eax@1
  int result; // eax@2

  v5 = this;
  sub_100044B0(this, a2, a3);
  v6 = *(_DWORD *)(a2 + 12) & 0xFF07FFFF | 0x40000;
  v7 = *(_DWORD *)(a2 + 8) & 0xFFC5FFFF | 0x40000;
  *(_DWORD *)(a2 + 12) = v6;
  *(_DWORD *)(a2 + 8) = v7;
  if ( a4 )
  {
    if ( a5 )
    {
      result = v7 & 0xF07F9FFF | 0x419000;
      *(_DWORD *)(a2 + 12) = v6 & 0xFFFFF083 | 0x83;
      *(_DWORD *)(a2 + 8) = result;
    }
    else
    {
      *(_DWORD *)(a2 + 12) = v6 & 0xFFFFF081 | 0x81;
      if ( *(_DWORD *)(*(_DWORD *)(v5 + 4) + 16868) & 0x20000 )
      {
        result = v7 & 0xFFFF2FFF | 0x12000;
        *(_DWORD *)(a2 + 8) = result;
      }
      else
      {
        result = v7 & 0xFFFE5FFF | 0x5000;
        *(_DWORD *)(a2 + 8) = result;
      }
    }
  }
  else
  {
    result = v7 & 0xFFFE7FFF | 0x7000;
    *(_DWORD *)(a2 + 12) = v6 & 0xFFFFF081 | 0x81;
    *(_DWORD *)(a2 + 8) = result;
  }
  return result;
}

//----- (10004C10) --------------------------------------------------------
int __thiscall sub_10004C10(int this)
{
  int v1; // ebp@1
  int v2; // eax@1
  int v3; // ecx@1
  int v4; // eax@1
  int v5; // ecx@1
  int v6; // edx@1
  int v7; // ecx@2
  int v8; // edi@4
  int v9; // ecx@4
  int v10; // edx@4
  int v11; // edx@4
  char v12; // al@4
  int v13; // edi@5
  int v14; // eax@5
  int v15; // esi@5
  int v16; // ecx@5
  int v17; // edx@5
  char v18; // bl@6
  char v19; // dl@6
  int v20; // edx@8
  int v21; // ecx@8
  int v22; // edx@10
  int result; // eax@12

  v1 = this;
  v2 = *(_DWORD *)(*(_DWORD *)(this + 39948) + 772);
  v3 = *(_DWORD *)(v2 + 48);
  v4 = v2 + 36;
  v5 = v3 & 0xFFFFFFC0;
  *(_DWORD *)(v4 + 12) = v5;
  v6 = v5;
  if ( *(_BYTE *)(*(_DWORD *)(v1 + 39948) + 20) )
    LOWORD(v7) = 0;
  else
    v7 = ((unsigned int)v5 >> 6) & 0x3F;
  v8 = *(_DWORD *)(v4 + 8);
  v9 = v6 ^ ((unsigned __int16)v6 ^ (unsigned __int16)((_WORD)v7 << 6)) & 0xFC0;
  *(_DWORD *)(v4 + 12) = v9;
  v10 = v8 ^ ((*(_BYTE *)(*(_DWORD *)(v1 + 39948) + 20) != 0 ? 7 : 2) << 12);
  *(_DWORD *)(v4 + 12) = v9 & 0xFF03FFFF;
  *(_DWORD *)(v4 + 8) = v10 & 0x1F000 ^ v8;
  *(_DWORD *)(v4 + 8) = (v10 & 0x1F000 ^ v8) & 0xFFC5FFFF | 0x40000;
  v11 = *(_DWORD *)(v1 + 39948);
  v12 = 1;
  if ( *(_DWORD *)(v11 + 244) )
  {
    v13 = *(_DWORD *)(v11 + 244);
    v14 = *(_DWORD *)(v11 + 772) + 148;
    v15 = *(_BYTE *)(v11 + 22);
    *(_DWORD *)(*(_DWORD *)(v11 + 772) + 160) = *(_DWORD *)(*(_DWORD *)(v11 + 772) + 160) & 0xFF07F042 | 0x40042;
    v16 = *(_DWORD *)(v14 + 8) & 0xFFC5FFFF | 0x40000;
    *(_DWORD *)(v14 + 8) = v16;
    v17 = *(_DWORD *)(v1 + 39948);
    if ( !*(_BYTE *)(v17 + 20) || (v18 = *(_BYTE *)(v17 + 19), v19 = 5, v18) )
      v19 = 4;
    v20 = v16 & 0xFFFE0F33 | ((v19 & 0x1F) << 12) | 0x33;
    v21 = *(_DWORD *)(v14 + 16) & 0xFE0000BF | 0x80;
    *(_DWORD *)v14 = v13;
    *(_DWORD *)(v14 + 8) = v20;
    *(_DWORD *)(v14 + 16) = v21;
    if ( v15 )
    {
      v22 = *(_DWORD *)(v14 + 20);
      *(_DWORD *)(v14 + 16) = v21 | 0x40;
      memcpy((void *)(v14 + 24), FMatrix::Identity, 0x40u);
      *(_DWORD *)(v14 + 20) = v22 & 0xFFFFFF03 | 0x103;
    }
    else
    {
      *(_DWORD *)(v14 + 16) = v21 & 0xFFFFFFBF;
      *(_DWORD *)(v14 + 20) = *(_DWORD *)(v14 + 20) & 0xFFFFFE02 | 2;
    }
    v12 = 2;
  }
  *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v1 + 39948) + 772) + 9) = v12;
  result = *(_DWORD *)(v1 + 39948);
  *(_BYTE *)(result + 804) = 1;
  return result;
}
// 1006F0B0: using guessed type void *FMatrix__Identity;

//----- (100052C0) --------------------------------------------------------
void *__thiscall sub_100052C0(void *this)
{
  return this;
}

//----- (100052D0) --------------------------------------------------------
int __cdecl sub_100052D0()
{
  return 0;
}

//----- (100052E0) --------------------------------------------------------
int __cdecl sub_100052E0()
{
  return 0;
}

//----- (100052F0) --------------------------------------------------------
int __cdecl sub_100052F0()
{
  return 0;
}

//----- (10005300) --------------------------------------------------------
int __cdecl sub_10005300()
{
  return 0;
}

//----- (10005320) --------------------------------------------------------
void *__thiscall sub_10005320(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  FRenderResource::_FRenderResource();
  if ( a2 & 1 )
    (*(void (__stdcall **)(void *))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 10005310: using guessed type int FRenderResource___FRenderResource(void);
// 1006F014: using guessed type void *GMalloc;

//----- (10005590) --------------------------------------------------------
void *__thiscall sub_10005590(void *this)
{
  void *v1; // ebx@1
  __int128 v2; // xmm0@1
  int v3; // eax@1
  signed int v4; // ebp@1
  int v5; // edi@2
  int v6; // ecx@2
  int v7; // edx@3

  v1 = this;
  FColor::FColor((char *)this + 28);
  v2 = (unsigned int)dword_1006FA10;
  v3 = (int)((char *)v1 + 36);
  v4 = 8;
  do
  {
    memcpy((void *)(v3 + 24), FMatrix::Identity, 0x40u);
    v5 = *(_DWORD *)(v3 + 20);
    *(_DWORD *)(v3 + 16) = *(_DWORD *)(v3 + 16) & 0xFE000001 | 1;
    *(_DWORD *)(v3 + 12) = *(_DWORD *)(v3 + 12) & 0xC1041041 | 0x1041041;
    v6 = *(_DWORD *)(v3 + 8) & 0xF0442333 | 0x442333;
    *(_DWORD *)(v3 + 20) = v5 & 0xFFFFFE00;
    *(_DWORD *)(v3 + 4) = v2;
    *(_DWORD *)v3 = 0;
    *(_DWORD *)(v3 + 8) = v6;
    v3 += 112;
    --v4;
  }
  while ( v4 );
  v7 = *((_DWORD *)v1 + 1) & 0xFFFFFF98;
  *(_DWORD *)v1 = 0;
  *((_BYTE *)v1 + 8) = 0;
  *((_DWORD *)v1 + 4) = 0;
  *((_BYTE *)v1 + 9) = 0;
  *((_DWORD *)v1 + 234) = 0;
  *((_DWORD *)v1 + 235) = 0;
  *((_DWORD *)v1 + 3) = 2;
  *((_DWORD *)v1 + 5) = 2;
  *((_DWORD *)v1 + 6) = 1;
  *((_DWORD *)v1 + 1) = v7 | 0x18;
  *((_DWORD *)v1 + 8) = 15;
  return v1;
}
// 1006F0B0: using guessed type void *FMatrix__Identity;
// 1006F38C: using guessed type int __thiscall FColor__FColor(_DWORD);
// 1006FA10: using guessed type int dword_1006FA10;

//----- (10005670) --------------------------------------------------------
__int16 __thiscall sub_10005670(int this, int a2, int a3)
{
  int v3; // eax@1
  int v4; // esi@1
  int v5; // eax@3
  int v6; // ecx@3
  int v8; // ecx@8
  int v9; // edi@15
  signed int v10; // edx@24
  signed int i; // ecx@26
  signed int v12; // edx@33
  signed int j; // ecx@35
  int v15; // eax@40
  void *v16; // edi@40
  const void *v17; // esi@40
  signed int v18; // edx@43
  signed int k; // ecx@45
  signed int v21; // edx@53
  signed int jj; // ecx@55
  int v24; // edx@62
  int v25; // eax@62
  bool v26; // zf@62
  signed int v27; // edx@63
  signed int l; // ecx@65
  int v30; // ecx@73
  int v31; // ST08_4@76
  int v32; // esi@76
  __int128 v33; // xmm2@76
  signed int v34; // edx@76
  signed int m; // ecx@78
  const void *v37; // esi@83
  signed int v38; // edx@86
  signed int n; // ecx@88
  __int128 v41; // xmm0@95
  int v42; // esi@95
  __int128 v43; // xmm0@95
  float v44; // xmm3_4@95
  float v45; // xmm2_4@95
  float v46; // xmm3_4@95
  __int128 v47; // xmm2@95
  int v48; // esi@95
  int v49; // ST08_4@97
  signed int v50; // edx@97
  signed int ii; // ecx@99
  const void *v53; // esi@104
  int *v55; // [sp-8h] [bp-130h]@60
  int v56; // [sp+0h] [bp-128h]@1
  char v57; // [sp+Ch] [bp-11Ch]@83
  char v58; // [sp+4Ch] [bp-DCh]@33
  int v59; // [sp+90h] [bp-98h]@1
  int v60; // [sp+98h] [bp-90h]@76
  int v61; // [sp+9Ch] [bp-8Ch]@76
  __int64 v62; // [sp+A0h] [bp-88h]@76
  int v63; // [sp+A8h] [bp-80h]@76
  int v64; // [sp+ACh] [bp-7Ch]@76
  int v65; // [sp+B0h] [bp-78h]@76
  __int64 v66; // [sp+B4h] [bp-74h]@76
  float v67; // [sp+BCh] [bp-6Ch]@76
  int v68; // [sp+C0h] [bp-68h]@76
  int v69; // [sp+C4h] [bp-64h]@76
  int v70; // [sp+C8h] [bp-60h]@76
  int v71; // [sp+CCh] [bp-5Ch]@76
  int v72; // [sp+D0h] [bp-58h]@76
  int v73; // [sp+D4h] [bp-54h]@76
  float v74; // [sp+D8h] [bp-50h]@40
  float v75; // [sp+DCh] [bp-4Ch]@76
  int v76; // [sp+E0h] [bp-48h]@76
  int v77; // [sp+E4h] [bp-44h]@76
  float v78; // [sp+E8h] [bp-40h]@76
  float v79; // [sp+ECh] [bp-3Ch]@76
  int v80; // [sp+F0h] [bp-38h]@76
  int v81; // [sp+F4h] [bp-34h]@76
  float v82; // [sp+F8h] [bp-30h]@76
  float v83; // [sp+FCh] [bp-2Ch]@76
  int v84; // [sp+100h] [bp-28h]@76
  int v85; // [sp+104h] [bp-24h]@76
  int v86; // [sp+108h] [bp-20h]@76
  int v87; // [sp+10Ch] [bp-1Ch]@76
  int v88; // [sp+110h] [bp-18h]@76
  int v89; // [sp+114h] [bp-14h]@76
  int *v90; // [sp+118h] [bp-10h]@1
  int v91; // [sp+124h] [bp-4h]@1

  v3 = *(_BYTE *)(a3 + 70) - 1;
  v4 = this;
  v90 = &v56;
  v59 = this;
  v91 = 0;
  if ( v3 )
  {
    if ( v3 != 1 )
      goto LABEL_6;
    v5 = *(_DWORD *)(*(_DWORD *)(this + 39948) + 772);
    v6 = *(_DWORD *)(v5 + 44) & 0xFFFFFFF3 | 3;
  }
  else
  {
    v5 = *(_DWORD *)(*(_DWORD *)(this + 39948) + 772);
    v6 = *(_DWORD *)(v5 + 44) & 0xFFFFFFF1 | 1;
  }
  *(_DWORD *)(v5 + 44) = v6;
LABEL_6:
  if ( *(_BYTE *)(a3 + 71) == 1 )
  {
    _EAX = *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772);
    v8 = *(_DWORD *)(_EAX + 44) & 0xFFFFFF1F | 0x10;
  }
  else
  {
    LOWORD(_EAX) = *(_BYTE *)(a3 + 71) - 2;
    if ( *(_BYTE *)(a3 + 71) != 2 )
      goto LABEL_11;
    _EAX = *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772);
    v8 = *(_DWORD *)(_EAX + 44) & 0xFFFFFF3F | 0x30;
  }
  *(_DWORD *)(_EAX + 44) = v8;
LABEL_11:
  if ( *(_BYTE *)a3 & 1 )
  {
    if ( *(_BYTE *)(a3 + 69) )
    {
      if ( *(_BYTE *)(a3 + 69) == 1 )
      {
        v9 = a2;
        *(_DWORD *)(a2 + 20) = *(_DWORD *)(a2 + 20) & 0xFFFFFE03 | 3;
      }
      else
      {
        if ( *(_BYTE *)(a3 + 69) == 2 )
        {
          v9 = a2;
          *(_DWORD *)(a2 + 20) = *(_DWORD *)(a2 + 20) & 0xFFFFFE04 | 4;
        }
        else
        {
          FOutputDevice::Logf(GError, "Unknown TexCoordCount %d", *(_BYTE *)(a3 + 69));
          v9 = a2;
        }
      }
    }
    else
    {
      v9 = a2;
      *(_DWORD *)(a2 + 20) = *(_DWORD *)(a2 + 20) & 0xFFFFFE02 | 2;
    }
    if ( *(_BYTE *)a3 & 8 )
      *(_DWORD *)(v9 + 20) |= 0x100u;
    _EAX = *(_BYTE *)(a3 + 68);
    switch ( _EAX )
    {
      case 13:
        *(_DWORD *)(v9 + 16) &= 0xFE00003Fu;
        return _EAX;
      case 0:
      case 1:
      case 2:
      case 3:
      case 4:
      case 5:
      case 6:
      case 7:
        _EAX = (*(_DWORD *)(v9 + 16) ^ (_EAX << 7)) & 0x1FFFF80;
        *(_DWORD *)(v9 + 16) ^= _EAX;
        if ( *(_BYTE *)a3 & 8 )
          goto LABEL_32;
        v10 = 0;
LABEL_25:
        if ( v10 >= 4 )
        {
          *(_DWORD *)(v9 + 16) &= 0xFFFFFFBFu;
        }
        else
        {
          for ( i = 0; ; ++i )
          {
            if ( i >= 4 )
            {
              ++v10;
              goto LABEL_25;
            }
            _EAX = 4 * (i + 4 * v10);
            __asm { lahf }
            if ( __SETP__(BYTE1(_EAX) & 0x44, 0) )
              break;
          }
LABEL_32:
          _EAX = a2;
          memcpy((void *)(a2 + 24), (const void *)(a3 + 4), 0x40u);
          *(_DWORD *)(_EAX + 16) |= 0x40u;
        }
        return _EAX;
      case 8:
        sub_10031703(&v58, 0, *(_DWORD *)(v4 + 39948) + 108);
        v12 = 0;
LABEL_34:
        if ( v12 >= 4 )
        {
          v15 = a2;
          v16 = (void *)(a2 + 24);
          v17 = &v58;
        }
        else
        {
          for ( j = 0; ; ++j )
          {
            if ( j >= 4 )
            {
              ++v12;
              goto LABEL_34;
            }
            __asm { lahf }
            if ( __SETP__(_AH & 0x44, 0) )
              break;
          }
          sub_100311D1(&v74, &v58, a3 + 4);
          v15 = a2;
          v16 = (void *)(a2 + 24);
          v17 = &v74;
        }
        memcpy(v16, v17, 0x40u);
        *(_DWORD *)(v15 + 16) = *(_DWORD *)(v15 + 16) & 0xFF00007F | 0x1000040;
        _EAX = v59;
        *(_DWORD *)(_EAX + 40912) |= 8u;
        return _EAX;
      case 9:
        v18 = 0;
LABEL_44:
        if ( v18 >= 4 )
        {
          *(_DWORD *)(v9 + 16) &= 0xFFFFFFBFu;
          _EAX = a2;
        }
        else
        {
          for ( k = 0; ; ++k )
          {
            if ( k >= 4 )
            {
              ++v18;
              goto LABEL_44;
            }
            __asm { lahf }
            if ( __SETP__(_AH & 0x44, 0) )
              break;
          }
          _EAX = a2;
          memcpy((void *)(a2 + 24), (const void *)(a3 + 4), 0x40u);
          *(_DWORD *)(_EAX + 16) |= 0x40u;
        }
        *(_DWORD *)(_EAX + 16) = *(_DWORD *)(_EAX + 16) & 0xFF00007F | 0x1000000;
        return _EAX;
      case 10:
      case 16:
        *(_DWORD *)(v4 + 40912) |= 1u;
        v21 = 0;
        break;
      case 11:
      case 17:
        v27 = 0;
LABEL_64:
        if ( v27 >= 4 )
        {
          *(_DWORD *)(v9 + 16) &= 0xFFFFFFBFu;
          _EAX = a2;
        }
        else
        {
          for ( l = 0; ; ++l )
          {
            if ( l >= 4 )
            {
              ++v27;
              goto LABEL_64;
            }
            __asm { lahf }
            if ( __SETP__(_AH & 0x44, 0) )
              break;
          }
          _EAX = a2;
          memcpy((void *)(a2 + 24), (const void *)(a3 + 4), 0x40u);
          *(_DWORD *)(_EAX + 16) |= 0x40u;
        }
        if ( *(_BYTE *)(a3 + 68) == 17 )
        {
          v30 = *(_DWORD *)(_EAX + 16);
          goto LABEL_74;
        }
        *(_DWORD *)(_EAX + 16) = *(_DWORD *)(_EAX + 16) & 0xFF80007F | 0x1800000;
        return _EAX;
      case 20:
      case 21:
        v31 = *(_DWORD *)(v4 + 39948) + 108;
        *(_DWORD *)(v4 + 40912) |= 1u;
        sub_10031703(&v58, 0, v31);
        v32 = *(_DWORD *)(v4 + 8);
        LODWORD(v67) = *(_DWORD *)(v32 + 148);
        v33 = *(_DWORD *)(v32 + 144);
        v61 = 0;
        v75 = 0.0;
        v60 = 0;
        v74 = 0.0;
        v62 = (unsigned int)dword_1006F9A0;
        v76 = dword_1006F9A0;
        v70 = v33;
        LODWORD(v78) = v33;
        v77 = 0;
        v71 = 0;
        v79 = 0.0;
        v73 = 0;
        v72 = 0;
        v80 = 0;
        v81 = 0;
        v68 = 0;
        v82 = 0.0;
        v69 = 0;
        v83 = v67;
        v84 = 0;
        v64 = 0;
        v63 = 0;
        v85 = 0;
        v65 = 0;
        v86 = 0;
        v87 = 0;
        v66 = (unsigned int)dword_1006F9A0;
        v88 = 0;
        v89 = dword_1006F9A0;
        sub_100311D1(&v58, &v58, &v74);
        v34 = 0;
LABEL_77:
        if ( v34 >= 4 )
        {
          v37 = &v58;
        }
        else
        {
          for ( m = 0; ; ++m )
          {
            if ( m >= 4 )
            {
              ++v34;
              goto LABEL_77;
            }
            __asm { lahf }
            if ( __SETP__(_AH & 0x44, 0) )
              break;
          }
          sub_100311D1(&v57, &v58, a3 + 4);
          v37 = &v57;
        }
        v24 = a2;
        memcpy(&v74, v37, 0x40u);
        v74 = *(float *)&dword_10080094 * v74;
        v86 = dword_1006FA5C;
        v87 = dword_1006FA5C;
        v78 = v78 * *(float *)&dword_10080094;
        v75 = 0.0 - (float)(*(float *)&dword_10080094 * v75);
        v82 = v82 * *(float *)&dword_10080094;
        v88 = 0;
        v76 = 0;
        v79 = 0.0 - (float)(v79 * *(float *)&dword_10080094);
        v80 = 0;
        v83 = 0.0 - (float)(v83 * *(float *)&dword_10080094);
        v84 = 0;
        memcpy((void *)(a2 + 24), &v74, 0x40u);
        *(_DWORD *)(v24 + 16) |= 0x40u;
        v26 = *(_BYTE *)(a3 + 68) == 19;
        goto LABEL_107;
      case 15:
      case 19:
        v38 = 0;
LABEL_87:
        if ( v38 >= 4 )
        {
          *(_DWORD *)(v9 + 16) &= 0xFFFFFFBFu;
          _EAX = a2;
        }
        else
        {
          for ( n = 0; ; ++n )
          {
            if ( n >= 4 )
            {
              ++v38;
              goto LABEL_87;
            }
            __asm { lahf }
            if ( __SETP__(_AH & 0x44, 0) )
              break;
          }
          _EAX = a2;
          memcpy((void *)(a2 + 24), (const void *)(a3 + 4), 0x40u);
          *(_DWORD *)(_EAX + 16) |= 0x40u;
        }
        v41 = (unsigned int)dword_1006FA5C;
        v42 = *(_DWORD *)(_EAX + 16);
        *(_DWORD *)(_EAX + 72) = dword_1006FA5C;
        *(_DWORD *)(_EAX + 76) = v41;
        v43 = (unsigned int)dword_10080090;
        *(float *)(_EAX + 24) = *(float *)&dword_10080090 * *(float *)(_EAX + 24);
        v44 = 0.0 - (float)(*(float *)(_EAX + 28) * *(float *)&v43);
        *(float *)(_EAX + 40) = *(float *)(_EAX + 40) * *(float *)&v43;
        v45 = *(float *)(_EAX + 44) * *(float *)&v43;
        *(_DWORD *)(_EAX + 28) = LODWORD(v44);
        v46 = 0.0 - v45;
        v47 = v43;
        *(float *)&v43 = *(float *)&v43 * *(float *)(_EAX + 60);
        *(float *)(_EAX + 56) = *(float *)&v47 * *(float *)(_EAX + 56);
        v48 = v42 | 0x40;
        *(_DWORD *)(_EAX + 80) = 0;
        *(_DWORD *)(_EAX + 32) = 0;
        *(_DWORD *)(_EAX + 44) = LODWORD(v46);
        *(_DWORD *)(_EAX + 48) = 0;
        *(float *)(_EAX + 60) = 0.0 - *(float *)&v43;
        *(_DWORD *)(_EAX + 64) = 0;
        *(_DWORD *)(_EAX + 16) = v48;
        v30 = v48;
        if ( *(_BYTE *)(a3 + 68) == 19 )
LABEL_74:
          *(_DWORD *)(_EAX + 16) = v30 & 0xFE80007F | 0x800000;
        else
          *(_DWORD *)(_EAX + 16) = v48 & 0xFF80007F | 0x1800000;
        return _EAX;
      case 14:
      case 18:
        v49 = *(_DWORD *)(v4 + 39948) + 108;
        *(_DWORD *)(v4 + 40912) |= 0x10u;
        sub_10031703(&v58, 0, v49);
        v50 = 0;
LABEL_98:
        if ( v50 >= 4 )
        {
          v53 = &v58;
        }
        else
        {
          for ( ii = 0; ; ++ii )
          {
            if ( ii >= 4 )
            {
              ++v50;
              goto LABEL_98;
            }
            __asm { lahf }
            if ( __SETP__(_AH & 0x44, 0) )
              break;
          }
          sub_100311D1(&v57, &v58, a3 + 4);
          v53 = &v57;
        }
        v24 = a2;
        memcpy(&v74, v53, 0x40u);
        v74 = v74 * 0.5;
        v75 = v75 * -0.5;
        v78 = v78 * 0.5;
        v79 = v79 * -0.5;
        v86 = dword_1006FA5C;
        v87 = dword_1006FA5C;
        v88 = 0;
        v76 = 0;
        v77 = 0;
        v80 = 0;
        v81 = 0;
        v82 = v82 * 0.5;
        v83 = v83 * -0.5;
        v84 = 0;
        v85 = 0;
        memcpy((void *)(a2 + 24), &v74, 0x40u);
        *(_DWORD *)(v24 + 16) |= 0x40u;
        v26 = *(_BYTE *)(a3 + 68) == 18;
LABEL_107:
        v25 = *(_DWORD *)(v24 + 16);
LABEL_108:
        if ( v26 )
          _EAX = v25 & 0xFE80007F | 0x800000;
        else
          _EAX = v25 & 0xFF80007F | 0x1800000;
        *(_DWORD *)(v24 + 16) = _EAX;
        return _EAX;
      default:
        LOWORD(_EAX) = FOutputDevice::Logf(GError, "Unknown TexCoordSource %d", *(_BYTE *)(a3 + 68));
        return _EAX;
    }
    while ( v21 < 4 )
    {
      for ( jj = 0; jj < 4; ++jj )
      {
        __asm { lahf }
        if ( __SETP__(_AH & 0x44, 0) )
        {
          sub_100311D1(&v74, *(_DWORD *)(v4 + 39948) + 108, a3 + 4);
          v55 = (int *)&v74;
LABEL_62:
          sub_1003141A(v55);
          v24 = a2;
          v25 = *(_DWORD *)(a2 + 16) & 0xFF80007F | 0x1800040;
          memcpy((void *)(a2 + 24), &v74, 0x40u);
          *(_DWORD *)(a2 + 16) = v25;
          v26 = *(_BYTE *)(a3 + 68) == 16;
          goto LABEL_108;
        }
      }
      ++v21;
    }
    v55 = (int *)&v74;
    goto LABEL_62;
  }
  return _EAX;
}
// 100311D1: using guessed type int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD);
// 1003141A: using guessed type int __stdcall sub_1003141A(_DWORD);
// 10031703: using guessed type int __stdcall sub_10031703(_DWORD, _DWORD, _DWORD);
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F9A0: using guessed type int dword_1006F9A0;
// 1006FA5C: using guessed type int dword_1006FA5C;
// 10080090: using guessed type int dword_10080090;
// 10080094: using guessed type int dword_10080094;

//----- (10005F98) --------------------------------------------------------
void __usercall sub_10005F98(int a1<ebp>)
{
  *(_DWORD *)(a1 - 148) = *(_DWORD *)(a1 - 156);
  CxxThrowException(a1 - 148, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10005FB5) --------------------------------------------------------
void __cdecl sub_10005FB5()
{
  appUnwindf("%s", off_1008008C);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 1008008C: using guessed type char *off_1008008C;

//----- (10006020) --------------------------------------------------------
signed int __thiscall sub_10006020(int this, int a2, int a3, int a4, int a5)
{
  int v5; // ebx@1
  int v6; // edi@1
  bool v7; // zf@1
  int v8; // eax@2
  signed int v9; // esi@6
  int *v10; // ecx@12
  int v11; // esi@19
  unsigned __int64 v12; // st7@20
  int v13; // eax@20
  int v14; // eax@20
  int v15; // ecx@20
  int v16; // eax@28
  int v17; // edx@28
  int v18; // eax@33
  int v19; // edx@33
  int v20; // eax@37
  int v21; // eax@38
  int v22; // ecx@38
  int v23; // eax@41
  int v24; // ecx@41
  int v25; // edx@43
  int v26; // eax@43
  int v27; // eax@47
  int v28; // ecx@47
  int v29; // eax@51
  int v30; // ecx@51
  int v31; // ecx@59
  int v32; // ecx@59
  int v33; // eax@66
  int v34; // ecx@67
  int v35; // eax@68
  int v36; // esi@68
  int v37; // edi@68
  unsigned __int64 v38; // st7@69
  int v39; // eax@69
  int v40; // eax@69
  int v41; // edx@69
  int v42; // eax@71
  int v43; // ecx@71
  int v44; // eax@77
  int v45; // ecx@77
  int v46; // eax@80
  int v47; // ecx@80
  int v48; // ecx@81
  int v49; // edx@84
  int v50; // ecx@84
  int v51; // eax@84
  int v52; // ecx@84
  int v53; // edx@86
  int v54; // ecx@86
  int v55; // ecx@88
  int v56; // eax@88
  int v57; // ecx@88
  int v58; // eax@88
  int v59; // eax@88
  int v60; // edx@88
  int v61; // eax@89
  signed int v63; // [sp+Ch] [bp-D4h]@13
  signed __int64 v64; // [sp+10h] [bp-D0h]@13
  int v65; // [sp+18h] [bp-C8h]@13
  int v66; // [sp+1Ch] [bp-C4h]@1
  int v67; // [sp+20h] [bp-C0h]@18
  int v68; // [sp+24h] [bp-BCh]@18
  int v69; // [sp+28h] [bp-B8h]@18
  int v70; // [sp+2Ch] [bp-B4h]@18
  int v71; // [sp+30h] [bp-B0h]@18
  int v72; // [sp+34h] [bp-ACh]@18
  int v73; // [sp+38h] [bp-A8h]@18
  char v74; // [sp+68h] [bp-78h]@88
  char v75; // [sp+A8h] [bp-38h]@16
  char v76; // [sp+ACh] [bp-34h]@15
  int v77; // [sp+B8h] [bp-28h]@12
  int v78; // [sp+BCh] [bp-24h]@1
  int i; // [sp+C0h] [bp-20h]@13
  int v80; // [sp+C4h] [bp-1Ch]@4
  int v81; // [sp+C8h] [bp-18h]@14
  int v82; // [sp+CCh] [bp-14h]@4
  int *v83; // [sp+D0h] [bp-10h]@1
  int v84; // [sp+DCh] [bp-4h]@1

  v5 = this;
  v6 = a2;
  *(_DWORD *)(this + 40912) |= 1u;
  v7 = (*(_BYTE *)(a2 + 140) & 1) == 0;
  v83 = &v66;
  v84 = 0;
  v78 = 0;
  if ( v7 )
    v8 = 0;
  else
    v8 = *(_DWORD *)(a2 + 144);
  v7 = *(_DWORD *)(a2 + 104) == 0;
  v82 = v8;
  v80 = 0;
  if ( v7 || !v8 )
  {
    v9 = 2;
  }
  else
  {
    v9 = 2;
    if ( *(_DWORD *)(*(_DWORD *)(this + 4) + 16876) == 2 )
      *(_DWORD *)(a2 + 104) = 0;
  }
  switch ( *(_DWORD *)(a2 + 100) )
  {
    case 0:
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 20) = v9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 24) = 1;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) &= 0xFFFFFFFEu;
      break;
    case 1:
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 20) = 5;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 24) = 6;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 1u;
      break;
    case 4:
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 20) = v9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 24) = 6;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 0x40u;
      v10 = &v77;
      goto LABEL_17;
    case 2:
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 20) = 9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 24) = 3;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 1u;
      v80 = 1;
      v65 = 0;
      v64 = 545460846719i64;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 0x40u;
      v63 = 127;
      v10 = &i;
      goto LABEL_18;
    case 3:
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 20) = v9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 24) = v9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 0x40u;
      v10 = &v81;
      goto LABEL_17;
    case 5:
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 20) = 1;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 24) = 4;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 0x40u;
      v10 = (int *)&v76;
      goto LABEL_17;
    case 6:
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 20) = v9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 24) = 4;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 1u;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(this + 39948) + 772) + 4) |= 0x40u;
      v10 = (int *)&v75;
LABEL_17:
      v65 = 0;
      v64 = 0i64;
      v63 = 0;
LABEL_18:
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 28) = *(_DWORD *)FColor::FColor(
                                                                                  v10,
                                                                                  v63,
                                                                                  v64,
                                                                                  HIDWORD(v64),
                                                                                  v65,
                                                                                  v66,
                                                                                  v67,
                                                                                  v68,
                                                                                  v69,
                                                                                  v70,
                                                                                  v71,
                                                                                  v72,
                                                                                  v73);
      break;
    default:
      break;
  }
  v11 = *(_DWORD *)(a2 + 116);
  if ( v11 )
  {
    *(double *)&v12 = *(double *)(*(_DWORD *)(v5 + 8) + 368);
    v13 = (*(int (__thiscall **)(int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)v11 + 176))(
            v11,
            v12,
            v12 >> 32,
            *(_DWORD *)(v5 + 8));
    v14 = (*(int (__thiscall **)(int))(*(_DWORD *)v13 + 172))(v13);
    v15 = sub_1001A420(v5, v14);
  }
  else
  {
    v15 = 0;
  }
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 36) = v15;
  if ( v15 && *(_DWORD *)(v15 + 60) )
  {
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 44) ^= (*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948)
                                                                                           + 772)
                                                                               + 44) ^ *(_DWORD *)(*(_DWORD *)(v5 + 4)
                                                                                                 + 18028)) & 0xF;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 44) ^= (*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948)
                                                                                           + 772)
                                                                               + 44) ^ 16
                                                                                     * *(_DWORD *)(*(_DWORD *)(v5 + 4)
                                                                                                 + 18028)) & 0xF0;
    goto LABEL_36;
  }
  if ( !v11 )
    goto LABEL_36;
  if ( !*(_BYTE *)(v11 + 101) )
  {
    v16 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v17 = *(_DWORD *)(v16 + 44) & 0xFFFFFFF1 | 1;
    goto LABEL_30;
  }
  if ( *(_BYTE *)(v11 + 101) == 1 )
  {
    v16 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v17 = *(_DWORD *)(v16 + 44) & 0xFFFFFFF3 | 3;
LABEL_30:
    *(_DWORD *)(v16 + 44) = v17;
  }
  if ( *(_BYTE *)(v11 + 102) )
  {
    if ( *(_BYTE *)(v11 + 102) != 1 )
      goto LABEL_36;
    v18 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v19 = *(_DWORD *)(v18 + 44) & 0xFFFFFF3F | 0x30;
  }
  else
  {
    v18 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v19 = *(_DWORD *)(v18 + 44) & 0xFFFFFF1F | 0x10;
  }
  *(_DWORD *)(v18 + 44) = v19;
LABEL_36:
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 44) ^= (*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                             + 44) ^ (*(_DWORD *)(*(_DWORD *)(v5 + 4)
                                                                                                + 18028) << 8)) & 0xF00;
  if ( !*(_DWORD *)(a2 + 104) )
  {
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                             + 48) & 0xFFFFFFC2 | 2;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                             + 48) & 0xFF0BFFFF | 0x80000;
    v20 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    if ( *(_DWORD *)(a2 + 112) )
    {
      *(_DWORD *)(v20 + 48) = *(_DWORD *)(v20 + 48) & 0xFFFFF0FF | 0xC0;
      v21 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v22 = *(_DWORD *)(v21 + 48) & 0xC3FFFFFF | 0x3000000;
    }
    else
    {
      *(_DWORD *)(v20 + 48) &= 0xFFFFF03Fu;
      v21 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v22 = *(_DWORD *)(v21 + 48) & 0xC0FFFFFF;
    }
    *(_DWORD *)(v21 + 48) = v22;
    if ( v80 )
    {
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948)
                                                                                           + 772)
                                                                               + 44) & 0xFFFECFFF | 0xC000;
      v23 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v24 = *(_DWORD *)(v23 + 44) & 0xFFD9FFFF | 0x180000;
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948)
                                                                                           + 772)
                                                                               + 44) & 0xFFFE4FFF | 0x4000;
      v23 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v24 = *(_DWORD *)(v23 + 44) & 0xFFC9FFFF | 0x80000;
    }
    v25 = v82;
    *(_DWORD *)(v23 + 44) = v24;
    v26 = *(_DWORD *)(*(_DWORD *)(v5 + 4) + 16876) - 1;
    v81 = 1;
    if ( v25 < 0 )
    {
      v25 = 0;
LABEL_65:
      v82 = v25;
      goto LABEL_66;
    }
    goto LABEL_63;
  }
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                           + 48) & 0xFFFFFFC2 | 2;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                           + 48) & 0xFF0BFFFF | 0x80000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                           + 44) & 0xFFFE2FFF | 0x2000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                           + 44) & 0xFFC5FFFF | 0x40000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 160) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 160) & 0xFFFFFFC2 | 2;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 160) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 160) & 0xFFFFF07F | 0x40;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 160) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 160) & 0xFF0BFFFF | 0x80000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 160) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 160) & 0xC1FFFFFF | 0x1000000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 156) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 156) & 0xFFFECFFF | 0xC000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 156) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 156) & 0xFFD9FFFF | 0x180000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 272) &= 0xFFFFFFC0u;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 272) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 272) & 0xFFFFF07F | 0x40;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 268) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 268) & 0xFFFE4FFF | 0x4000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 272) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 272) & 0xC1FFFFFF | 0x1000000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 268) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 268) & 0xFFC7FFFF | 0x60000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 148) = v15;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 164) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                            + 164) & 0xFE0000FF | 0x80;
  if ( v15 && *(_DWORD *)(v15 + 60) )
  {
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 156) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                                 + 156) ^ (unsigned __int8)*(_DWORD *)(*(_DWORD *)(v5 + 4) + 18028)) & 0xF;
    v27 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v28 = (unsigned __int8)((*(_DWORD *)(v27 + 156) ^ (unsigned __int8)(16 * *(_DWORD *)(*(_DWORD *)(v5 + 4) + 18028))) & 0xF0) ^ *(_DWORD *)(v27 + 156);
    goto LABEL_58;
  }
  if ( !v11 )
    goto LABEL_59;
  if ( *(_BYTE *)(v11 + 101) )
  {
    if ( *(_BYTE *)(v11 + 101) != 1 )
      goto LABEL_54;
    v29 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v30 = *(_DWORD *)(v29 + 156) & 0xFFFFFFF3 | 3;
  }
  else
  {
    v29 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v30 = *(_DWORD *)(v29 + 156) & 0xFFFFFFF1 | 1;
  }
  *(_DWORD *)(v29 + 156) = v30;
LABEL_54:
  if ( *(_BYTE *)(v11 + 102) )
  {
    if ( *(_BYTE *)(v11 + 102) != 1 )
      goto LABEL_59;
    v27 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v28 = *(_DWORD *)(v27 + 156) & 0xFFFFFF3F | 0x30;
  }
  else
  {
    v27 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
    v28 = *(_DWORD *)(v27 + 156) & 0xFFFFFF1F | 0x10;
  }
LABEL_58:
  *(_DWORD *)(v27 + 156) = v28;
LABEL_59:
  v25 = v82;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 156) ^= ((unsigned __int16)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                                + 156) ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(*(_DWORD *)(v5 + 4) + 18028) << 8)) & 0xF00;
  v31 = *(_DWORD *)(v5 + 4);
  v26 = *(_DWORD *)(v31 + 16876) - 2;
  v32 = *(_DWORD *)(v31 + 16872) - 3;
  if ( v32 <= (unsigned int)v26 )
    v26 = v32;
  v81 = 3;
  if ( v25 < 0 )
  {
    v25 = 0;
    goto LABEL_65;
  }
LABEL_63:
  if ( v25 >= v26 )
  {
    v25 = v26;
    goto LABEL_65;
  }
LABEL_66:
  v33 = 0;
  for ( i = 0; ; ++i )
  {
    v34 = v78;
    if ( v33 >= v25 )
      break;
    v35 = 76 * v33;
    v36 = *(_DWORD *)(v6 + v35 + 148);
    v37 = v35 + v6;
    v77 = v37;
    if ( !v36 )
    {
      v41 = 0;
      goto LABEL_80;
    }
    *(double *)&v38 = *(double *)(*(_DWORD *)(v5 + 8) + 368);
    v39 = (*(int (__thiscall **)(int, _DWORD, _DWORD, _DWORD))(*(_DWORD *)v36 + 176))(
            v36,
            v38,
            v38 >> 32,
            *(_DWORD *)(v5 + 8));
    v40 = (*(int (__thiscall **)(int))(*(_DWORD *)v39 + 172))(v39);
    v41 = sub_1001A420(v5, v40);
    if ( *(_BYTE *)(v36 + 101) )
    {
      if ( *(_BYTE *)(v36 + 101) != 1 )
        goto LABEL_75;
      v42 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v43 = *(_DWORD *)(v42 + 156) & 0xFFFFFFF3 | 3;
    }
    else
    {
      v42 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v43 = *(_DWORD *)(v42 + 156) & 0xFFFFFFF1 | 1;
    }
    *(_DWORD *)(v42 + 156) = v43;
LABEL_75:
    if ( *(_BYTE *)(v36 + 102) )
    {
      if ( *(_BYTE *)(v36 + 102) != 1 )
        goto LABEL_80;
      v44 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v45 = *(_DWORD *)(v44 + 156) & 0xFFFFFF3F | 0x30;
    }
    else
    {
      v44 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v45 = *(_DWORD *)(v44 + 156) & 0xFFFFFF1F | 0x10;
    }
    *(_DWORD *)(v44 + 156) = v45;
LABEL_80:
    v46 = 112 * v81;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 112 * v81 + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                         + 112 * v81
                                                                                         + 48) & 0xFFFFFFC2 | 2;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v46 + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948)
                                                                                               + 772)
                                                                                   + v46
                                                                                   + 48) & 0xFF0BFFFF | 0x80000;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v46 + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948)
                                                                                               + 772)
                                                                                   + v46
                                                                                   + 48) & 0xFFFFF07F | 0x40;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v46 + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948)
                                                                                               + 772)
                                                                                   + v46
                                                                                   + 48) & 0xC1FFFFFF | 0x1000000;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v46 + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948)
                                                                                               + 772)
                                                                                   + v46
                                                                                   + 44) & 0xFFC7FFFF | 0x60000;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v46 + 36) = v41;
    v47 = *(_DWORD *)(v37 + 220) - 2;
    v80 = v46;
    if ( v47 )
    {
      v48 = v47 - 1;
      if ( !v48 )
      {
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v46 + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                       + v46
                                                                                       + 44) & 0xFFFE5FFF | 0x5000;
        goto LABEL_88;
      }
      if ( v48 != 1 )
      {
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v46 + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                       + v46
                                                                                       + 44) & 0xFFFE4FFF | 0x4000;
        goto LABEL_88;
      }
      v49 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v50 = *(_DWORD *)(v49 + v46 + 44);
      v51 = v49 + v46 + 44;
      v52 = v50 & 0xFFFE5FFF | 0x5000;
    }
    else
    {
      v53 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772);
      v54 = *(_DWORD *)(v53 + v46 + 44);
      v51 = v53 + v46 + 44;
      v52 = v54 & 0xFFFEDFFF | 0xD000;
    }
    *(_DWORD *)v51 = v52;
LABEL_88:
    sub_10031703(&v74, 0, *(_DWORD *)(v5 + 39948) + 108);
    sub_100311D1(&v69, &v74, a2 + 76 * (i + 2));
    v55 = *(_DWORD *)(v5 + 39948);
    *(_DWORD *)(v5 + 40912) |= 8u;
    v56 = v80;
    memcpy((void *)(*(_DWORD *)(v55 + 772) + v80 + 60), &v69, 0x40u);
    v57 = v56;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v56 + 52) |= 0x40u;
    v58 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v56 + 52;
    *(_DWORD *)v58 = *(_DWORD *)v58 & 0xFF00007F | 0x1000000;
    v59 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v57 + 56;
    v60 = v77;
    *(_DWORD *)v59 = *(_DWORD *)v59 & 0xFFFFFE03 | 3;
    if ( *(_DWORD *)(v60 + 216) )
    {
      v61 = *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + v80 + 56;
      *(_DWORD *)v61 |= 0x100u;
    }
    v25 = v82;
    v6 = a2;
    v33 = i + 1;
    ++v81;
  }
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                             + 4) ^ (unsigned __int8)(16 * (*(_DWORD *)(v6 + 132) != 0))) & 0x10;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                             + 4) ^ (unsigned __int8)(8 * (*(_DWORD *)(v6 + 128) != 0))) & 8;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                             + 4) ^ (unsigned __int8)(32 * (*(_DWORD *)(v6 + 108) != 0))) & 0x20;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772)
                                                                                             + 4) ^ (unsigned __int8)(2 * (*(_DWORD *)(v6 + 120) != 0))) & 2;
  *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 8) = *(_BYTE *)(v6 + 124);
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 772) + 12) = ((*(_DWORD *)(v6 + 136) != 0) - 1) & 2;
  *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v5 + 39948) + 4 * v34 + 772) + 9) = v81;
  *(_BYTE *)(*(_DWORD *)(v5 + 39948) + 804) = v34 + 1;
  return 1;
}
// 100311D1: using guessed type int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD);
// 10031703: using guessed type int __stdcall sub_10031703(_DWORD, _DWORD, _DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10006D60) --------------------------------------------------------
void *__thiscall sub_10006D60(void *this)
{
  return this;
}

//----- (10006D70) --------------------------------------------------------
int __cdecl sub_10006D70()
{
  return 0;
}

//----- (10006D90) --------------------------------------------------------
void *__thiscall sub_10006D90(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  FRenderResource::_FRenderResource(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 10006D80: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);
// 1006F014: using guessed type void *GMalloc;

//----- (10006DC0) --------------------------------------------------------
int __thiscall sub_10006DC0(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // eax@7
  int v10; // eax@10
  void *v11; // eax@13
  int v12; // ecx@14
  int result; // eax@19
  int v14; // [sp+0h] [bp-28h]@1
  int v15; // [sp+14h] [bp-14h]@1
  int *v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+24h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)this;
  v5 = *(_DWORD *)this == 0;
  v16 = &v14;
  v15 = this;
  v17 = 0;
  if ( v5 || (v6 = *(_DWORD *)(this + 4), v6 & 0x20000000) )
  {
    v7 = a2;
    v10 = a3;
    if ( a2 + a3 )
    {
      if ( a2 >= a3 )
        v10 = a2;
      v11 = (void *)(*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(4 * v10);
      if ( *(_DWORD *)v3 )
      {
        v12 = 8 * *(_DWORD *)(v3 + 4) >> 3;
        if ( v12 > a2 )
          v12 = a2;
        memcpy(v11, *(const void **)v3, 4 * v12);
        v3 = v15;
      }
      *(_DWORD *)v3 = v11;
    }
    else
    {
      *(_DWORD *)v3 = 0;
    }
  }
  else
  {
    v7 = a2;
    v8 = 8 * v6 >> 3;
    if ( a2 <= v8 )
    {
      if ( v6 >= 0 && ((4 * a2 + 31) & 0xFFFFFFE0u) < ((4 * v8 + 31) & 0xFFFFFFE0u) )
      {
        v9 = a3;
        if ( a3 < a2 )
          v9 = a2;
        *(_DWORD *)v3 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)GMalloc + 8))(*(_DWORD *)v3, 4 * a2, 4 * v9);
      }
    }
    else
    {
      *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, 4 * a2, 4 * a3);
    }
  }
  result = (v7 ^ *(_DWORD *)(v3 + 4)) & 0x1FFFFFFF ^ *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (10006F20) --------------------------------------------------------
int __userpurge sub_10006F20<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UVertexColor::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UVertexColor::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10006F20: could not find valid save-restore pair for ebp
// 1006F2A8: using guessed type int UVertexColor__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (100077B0) --------------------------------------------------------
int __userpurge sub_100077B0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UConstantMaterial::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UConstantMaterial::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 100077B0: could not find valid save-restore pair for ebp
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);
// 1006F3C0: using guessed type int UConstantMaterial__StaticClass(void);

//----- (10008040) --------------------------------------------------------
int __userpurge sub_10008040<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UBitmapMaterial::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UBitmapMaterial::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10008040: could not find valid save-restore pair for ebp
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);
// 1006F3C4: using guessed type int UBitmapMaterial__StaticClass(void);

//----- (100088D0) --------------------------------------------------------
int __userpurge sub_100088D0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UCombiner::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UCombiner::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 100088D0: could not find valid save-restore pair for ebp
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);
// 1006F3C8: using guessed type int UCombiner__StaticClass(void);

//----- (10009160) --------------------------------------------------------
int __userpurge sub_10009160<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UTexture::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UTexture::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10009160: could not find valid save-restore pair for ebp
// 1006F394: using guessed type int UTexture__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (100099F0) --------------------------------------------------------
int __userpurge sub_100099F0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UShader::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UShader::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 100099F0: could not find valid save-restore pair for ebp
// 1006F3A4: using guessed type int UShader__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (1000A2C0) --------------------------------------------------------
void *__thiscall sub_1000A2C0(void *this)
{
  return this;
}

//----- (1000A2E0) --------------------------------------------------------
void *__thiscall sub_1000A2E0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  FRenderResource::_FRenderResource();
  if ( a2 & 1 )
    (*(void (__stdcall **)(void *))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1000A2D0: using guessed type int FRenderResource___FRenderResource(void);
// 1006F014: using guessed type void *GMalloc;

//----- (1000A310) --------------------------------------------------------
signed int __thiscall sub_1000A310(int this, int a2, int a3, int a4, int a5, const void *a6, int a7, int a8, int a9, int a10)
{
  int v10; // ebp@0
  int v11; // ebx@1
  int v12; // eax@1
  int v13; // ecx@1
  int v14; // eax@1
  int v15; // edx@9
  int v16; // edx@9
  int v17; // edx@9
  int v18; // ecx@9
  int v20; // eax@12
  int v21; // edi@12
  int v22; // eax@13
  int i; // ecx@13
  int v24; // eax@26
  int v25; // eax@26
  int v26; // eax@26
  int v27; // edx@26
  int v28; // eax@29
  int v29; // eax@33
  int v30; // ecx@33
  int v31; // eax@33
  int v32; // eax@33
  int v33; // eax@33
  int v34; // eax@34
  int v35; // edi@34
  int v36; // esi@35
  int v37; // eax@35
  int v38; // ecx@35
  int v39; // eax@45
  bool v40; // zf@51
  int v41; // eax@53
  int v42; // edi@55
  int v43; // edx@56
  int v44; // eax@61
  int v45; // eax@66
  int v46; // esi@66
  int v47; // edi@66
  int v48; // eax@66
  int v49; // eax@66
  int v50; // eax@66
  int v51; // eax@66
  int v52; // ecx@66
  int v53; // eax@67
  int v54; // eax@67
  int v55; // ecx@67
  int v56; // edx@67
  int v57; // ecx@67
  int v58; // eax@68
  int v59; // eax@71
  int v60; // eax@78
  int v61; // ecx@78
  int v62; // eax@86
  int v63; // eax@86
  int v64; // eax@86
  int v65; // eax@86
  int v66; // eax@88
  int v67; // ecx@88
  int v68; // eax@89
  int v69; // eax@94
  int v70; // eax@94
  int v71; // eax@97
  int v72; // esi@97
  int v73; // ecx@98
  int v74; // eax@98
  int v75; // eax@98
  int v76; // ecx@98
  int v77; // eax@99
  int v78; // eax@99
  int v79; // ecx@100
  int v80; // eax@101
  int v81; // eax@101
  int v82; // edx@101
  int v83; // eax@101
  int v84; // ecx@104
  unsigned int v85; // eax@104
  int v86; // ecx@105
  int v87; // eax@105
  int v88; // eax@106
  int v89; // ecx@106
  int v90; // eax@109
  int v91; // eax@109
  int v92; // eax@110
  int v93; // eax@110
  int v94; // eax@116
  int v95; // eax@117
  int v96; // eax@117
  int v97; // edx@118
  int v98; // eax@118
  int v99; // ecx@118
  int v100; // eax@119
  int v101; // ecx@119
  int v102; // eax@119
  int v103; // eax@120
  int v104; // ecx@124
  int v105; // edi@124
  int v106; // eax@124
  int v107; // eax@125
  int v108; // ecx@125
  int v109; // eax@134
  int v110; // eax@141
  int v111; // eax@141
  int v112; // edx@141
  int v113; // eax@142
  int v114; // edx@142
  int v115; // eax@142
  int v116; // eax@142
  int v117; // edx@142
  int v118; // eax@143
  int v119; // eax@148
  int v120; // eax@148
  int v121; // edx@148
  int v122; // eax@149
  int v123; // edx@149
  int v124; // eax@149
  int v125; // eax@149
  int v126; // edx@149
  int v127; // eax@150
  int v128; // eax@150
  int v129; // ecx@150
  int v130; // eax@150
  int v131; // edx@151
  int v132; // ecx@151
  int v133; // eax@151
  int v134; // eax@151
  int v135; // eax@151
  int v136; // edi@152
  int v137; // eax@153
  int v138; // ecx@153
  int v139; // ecx@157
  int v140; // eax@157
  int v141; // eax@157
  int v142; // ecx@157
  int v143; // eax@158
  int v144; // edx@158
  int v145; // eax@158
  int v146; // eax@158
  int v147; // eax@158
  int v148; // ecx@160
  int v149; // [sp-4h] [bp-14Ch]@5
  int v150; // [sp-4h] [bp-14Ch]@22
  int v151; // [sp+0h] [bp-148h]@1
  char v152; // [sp+Ch] [bp-13Ch]@97
  char v153; // [sp+64h] [bp-E4h]@66
  char v154; // [sp+BCh] [bp-8Ch]@1
  int v155; // [sp+11Ch] [bp-2Ch]@56
  int v156; // [sp+120h] [bp-28h]@56
  int v157; // [sp+124h] [bp-24h]@51
  int v158; // [sp+128h] [bp-20h]@1
  int v159; // [sp+12Ch] [bp-1Ch]@56
  int v160; // [sp+130h] [bp-18h]@1
  int v161; // [sp+134h] [bp-14h]@34
  int *v162; // [sp+138h] [bp-10h]@1
  int v163; // [sp+144h] [bp-4h]@1
  unsigned int v164; // [sp+158h] [bp+10h]@102
  int v165; // [sp+158h] [bp+10h]@111
  signed int v166; // [sp+160h] [bp+18h]@45

  v11 = this;
  v12 = *(_DWORD *)(this + 4);
  v13 = *(_DWORD *)(v12 + 16876);
  v14 = *(_DWORD *)(v12 + 16872) - v13;
  v158 = v13;
  v160 = v14;
  v162 = &v151;
  v163 = 0;
  memcpy(&v154, a6, 0x58u);
  if ( !a2 )
    return 1;
  if ( sub_10006F20(a2, v11, v10, (int)&v154, 0) )
  {
    if ( *(_DWORD *)a4 >= v158 + v160 )
    {
      if ( !a8 )
        goto LABEL_7;
      v149 = (int)"No stages left for vertex color";
LABEL_6:
      FString::operator_(v149);
LABEL_7:
      if ( a9 )
        *(_DWORD *)a9 = a2;
      return 0;
    }
    v15 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
    *(_DWORD *)v15 = *(_DWORD *)v15 & 0xC1FFFFFF | 0x1000000;
    v16 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
    *(_DWORD *)(v16 + 112 * *(_DWORD *)a4 + 44) = *(_DWORD *)(v16 + 112 * *(_DWORD *)a4 + 44) & 0xFFC7FFFF | 0x60000;
    v17 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
    *(_DWORD *)(v17 + 112 * *(_DWORD *)a4 + 48) &= 0xFFFFFFC0u;
    v18 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
    *(_DWORD *)(v18 + 112 * *(_DWORD *)a4 + 44) = *(_DWORD *)(v18 + 112 * *(_DWORD *)a4 + 44) & 0xFFFE2FFF | 0x2000;
    ++*(_DWORD *)a4;
    if ( v160 )
      ++*(_DWORD *)a5;
    return 1;
  }
  v20 = sub_100077B0(a2, v11, v10, (int)&v154, 0);
  v21 = v20;
  if ( !v20 )
  {
    v28 = sub_10008040(a2, v11, v10, (int)&v154, 0);
    if ( v28 )
    {
      if ( *(_DWORD *)a4 < v158 + *(_DWORD *)a5 )
      {
        sub_100044B0(
          v11,
          *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 36,
          v28);
        v29 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
        v30 = *(_DWORD *)v29 ^ ((a7 != 0 ? 18 : 2) << 18);
        *(_DWORD *)v29 ^= v30 & 0xFC0000;
        v31 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
        *(_DWORD *)v31 = *(_DWORD *)v31 & 0xFFC5FFFF | 0x40000;
        v32 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
        *(_DWORD *)v32 = *(_DWORD *)v32 & 0xFFFFFFC2 | 2;
        v33 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
        *(_DWORD *)v33 = *(_DWORD *)v33 & 0xFFFE2FFF | 0x2000;
        sub_10005670(
          v11,
          *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * (*(_DWORD *)a4)++ + 36,
          (int)&v154);
        return 1;
      }
      if ( !a8 )
        goto LABEL_7;
      v149 = (int)"No stages left for BitmapMaterial";
      goto LABEL_6;
    }
    v34 = sub_100088D0(a2, v11, v10, (int)&v154, 0);
    v35 = v34;
    v161 = v34;
    if ( !v34 )
      return 1;
    v36 = sub_10008040(*(_DWORD *)(v34 + 104), v11, v10, 0, 0);
    v37 = sub_10008040(*(_DWORD *)(v35 + 108), v11, v10, 0, 0);
    v38 = *(_DWORD *)(v35 + 104);
    if ( !v38 )
    {
      if ( a8 )
        FString::operator_("Combiner must specify Material1");
      if ( a9 )
        *(_DWORD *)a9 = a2;
      return 0;
    }
    if ( v36 )
    {
      if ( !v37 )
      {
        v39 = *(_DWORD *)(v35 + 108);
        v166 = 1;
LABEL_51:
        v157 = v38;
        v40 = *(_DWORD *)(v35 + 112) == v39;
        v160 = v39;
        v41 = v40 && *(_BYTE *)(v35 + 116) & 2;
        v42 = a4;
        if ( !sub_1000A310(v160, a3, a4, a5, &v154, v41, a8, a9, 0) )
          return 0;
        v43 = *(_DWORD *)(v161 + 112);
        v156 = 0;
        v159 = 0;
        v155 = 0;
        if ( !v43 )
          goto LABEL_69;
        if ( v43 == v157 )
        {
          if ( !(*(_BYTE *)(v161 + 116) & 2) )
          {
            v60 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
            v61 = *(_DWORD *)v60 ^ ((a7 != 0 ? 0x10 : 0) << 18);
            *(_DWORD *)v60 = *(_DWORD *)v60 ^ v61 & 0xF40000 | 0x80000;
            v56 = *(_DWORD *)a3;
            v57 = *(_DWORD *)a4;
            v156 = 1;
            goto LABEL_68;
          }
          if ( *(_DWORD *)a4 >= v158 + *(_DWORD *)a5 )
          {
            if ( a8 )
            {
              v44 = (int)"No stages left for inverted Mask which is the same as Material1";
              if ( !v166 )
                v44 = (int)"No stages left for inverted Mask which is the same as Material2";
              FString::operator_(v44);
            }
            if ( a9 )
              *(_DWORD *)a9 = a2;
            return 0;
          }
          memcpy(&v153, &v154, 0x58u);
          v45 = sub_10008040(v43, v11, v10, (int)&v153, 0);
          v46 = a4;
          v47 = a3;
          sub_100044B0(
            v11,
            *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 36,
            v45);
          sub_10005670(
            v11,
            *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 36,
            (int)&v153);
          v48 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
          *(_DWORD *)(v48 + 112 * *(_DWORD *)v46 + 48) = *(_DWORD *)(v48 + 112 * *(_DWORD *)v46 + 48) & 0xFF4BFFFF | 0x480000;
          v49 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
          *(_DWORD *)v49 = *(_DWORD *)v49 & 0xFFC5FFFF | 0x40000;
          v50 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
          *(_DWORD *)v50 = *(_DWORD *)v50 & 0xFFFFFFC1 | 1;
          v51 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
          v52 = *(_DWORD *)v51 & 0xFFFE2FFF | 0x2000;
LABEL_67:
          *(_DWORD *)v51 = v52;
          v53 = *(_DWORD *)v46 + 1;
          *(_DWORD *)v46 = v53;
          v54 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)v47 + 772) + 112 * v53 + 48;
          v55 = *(_DWORD *)v54 ^ ((a7 != 0 ? 0x10 : 0) << 18);
          *(_DWORD *)v54 = *(_DWORD *)v54 ^ v55 & 0xF80000 | 0x40000;
          v56 = *(_DWORD *)v47;
          v57 = *(_DWORD *)v46;
          v42 = a4;
LABEL_68:
          v58 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * v56 + 772) + 112 * v57 + 44;
          *(_DWORD *)v58 = *(_DWORD *)v58 & 0xFFC5FFFF | 0x40000;
LABEL_69:
          if ( *(_DWORD *)v42 < v158 + *(_DWORD *)a5 )
          {
            memcpy(&v152, &v154, 0x58u);
            v71 = sub_10008040(v157, v11, v10, (int)&v152, 0);
            v72 = a4;
            sub_100044B0(
              v11,
              *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 36,
              v71);
            sub_10005670(
              v11,
              *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 36,
              (int)&v152);
            switch ( *(_BYTE *)(v161 + 100) )
            {
              case 0:
                v73 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                *(_DWORD *)(v73 + 112 * *(_DWORD *)a4 + 48) = *(_DWORD *)(v73 + 112 * *(_DWORD *)a4 + 48) & 0xFFFFFFC2 | 2;
                v74 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                *(_DWORD *)(v74 + 112 * *(_DWORD *)a4 + 48) = *(_DWORD *)(v74 + 112 * *(_DWORD *)a4 + 48) & 0xFFFFF07F | 0x40;
                v75 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
                v76 = 3 - (v166 != 0);
                goto LABEL_100;
              case 1:
                v77 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v77 = *(_DWORD *)v77 & 0xFFFFFFC2 | 2;
                v78 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v78 = *(_DWORD *)v78 & 0xFFFFF07F | 0x40;
                v75 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
                v76 = (v166 != 0) + 2;
LABEL_100:
                v79 = *(_DWORD *)v75 ^ (v76 << 12);
                *(_DWORD *)v75 ^= v79 & 0x1F000;
                break;
              case 2:
                v80 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v80 = *(_DWORD *)v80 & 0xFFFFFFC2 | 2;
                v81 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                v82 = v161;
                *(_DWORD *)v81 = *(_DWORD *)v81 & 0xFFFFF07F | 0x40;
                v83 = *(_DWORD *)(v82 + 116);
                if ( v83 & 8 )
                  v164 = 6;
                else
                  v164 = (v83 & 4 | 0x10u) >> 2;
                v84 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                v85 = v164;
                goto LABEL_116;
              case 3:
                v86 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                *(_DWORD *)(v86 + 112 * *(_DWORD *)a4 + 48) = *(_DWORD *)(v86 + 112 * *(_DWORD *)a4 + 48) & 0xFFFFFFC2 | 2;
                v87 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                *(_DWORD *)(v87 + 112 * *(_DWORD *)a4 + 48) = *(_DWORD *)(v87 + 112 * *(_DWORD *)a4 + 48) & 0xFFFFF07F | 0x40;
                goto LABEL_106;
              case 4:
                v90 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v90 ^= ((unsigned __int8)*(_DWORD *)v90 ^ (unsigned __int8)((v166 == 0) + 1)) & 0x3F;
                v91 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v91 ^= ((unsigned __int16)*(_DWORD *)v91 ^ (unsigned __int16)(((v166 != 0) + 1) << 6)) & 0xFC0;
                v88 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
                v89 = *(_DWORD *)v88 & 0xFFFEAFFF | 0xA000;
                goto LABEL_107;
              case 5:
                v92 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v92 ^= ((unsigned __int8)*(_DWORD *)v92 ^ (unsigned __int8)((v166 == 0) + 1)) & 0x3F;
                v93 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v93 ^= ((unsigned __int16)*(_DWORD *)v93 ^ (unsigned __int16)(((v166 != 0) + 1) << 6)) & 0xFC0;
                if ( v156 )
                {
                  v165 = 13;
                }
                else
                {
                  if ( v159 )
                    v165 = 14;
                  else
                    v165 = 4 * (v155 == 0) + 12;
                }
                v84 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                v85 = v165;
LABEL_116:
                v94 = *(_DWORD *)v84 ^ (v85 << 12);
                *(_DWORD *)v84 ^= v94 & 0x1F000;
                break;
              case 6:
                v95 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v95 ^= ((unsigned __int8)*(_DWORD *)v95 ^ (unsigned __int8)((v166 == 0) + 1)) & 0x3F;
                v96 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
                *(_DWORD *)v96 ^= ((unsigned __int16)*(_DWORD *)v96 ^ (unsigned __int16)(((v166 != 0) + 1) << 6)) & 0xFC0;
                if ( *(_DWORD *)(*(_DWORD *)(v11 + 4) + 16868) & 0x20000 )
                {
                  v97 = 112 * *(_DWORD *)a4;
                  v98 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                  v99 = *(_DWORD *)(v98 + v97 + 44);
                  v88 = v98 + v97 + 44;
                  v89 = v99 & 0xFFFF2FFF | 0x12000;
                }
                else
                {
LABEL_106:
                  v88 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
                  v89 = *(_DWORD *)v88 & 0xFFFE7FFF | 0x7000;
                }
LABEL_107:
                *(_DWORD *)v88 = v89;
                break;
              default:
                break;
            }
            switch ( *(_BYTE *)(v161 + 101) )
            {
              case 5:
                v100 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                v101 = *(_DWORD *)v100 ^ (((v166 == 0) + 1) << 18);
                *(_DWORD *)v100 ^= v101 & 0xFC0000;
                v102 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                *(_DWORD *)v102 ^= (*(_DWORD *)v102 ^ (((v166 != 0) + 1) << 24)) & 0x3F000000;
                if ( v156 )
                {
                  v103 = 13;
                }
                else
                {
                  if ( v159 )
                    v103 = 14;
                  else
                    v103 = 4 * (v155 == 0) + 12;
                }
                v104 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                v105 = v160;
                v106 = *(_DWORD *)v104 ^ (v103 << 17);
                v40 = v160 == 0;
                *(_DWORD *)v104 ^= v106 & 0x3E0000;
                if ( v40 )
                  goto LABEL_132;
                v107 = UTexture::StaticClass();
                v108 = *(_DWORD *)(v105 + 36);
                break;
              case 1:
                v109 = *(_DWORD *)(v161 + 112);
                if ( v109 && v109 != *(_DWORD *)(v161 + 104) && v109 != *(_DWORD *)(v161 + 108) )
                {
                  if ( a8 )
                    FString::operator_("Combiner Mask must be Material1, or Material2 or None when using Alpha Operation AO_Multiply.");
                  if ( a9 )
                    *(_DWORD *)a9 = a2;
                  return 0;
                }
                v110 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                *(_DWORD *)v110 = *(_DWORD *)v110 & 0xFF0BFFFF | 0x80000;
                v111 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                *(_DWORD *)v111 = *(_DWORD *)v111 & 0xC1FFFFFF | 0x1000000;
                v112 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                *(_DWORD *)(v112 + 112 * *(_DWORD *)v72 + 44) = *(_DWORD *)(v112 + 112 * *(_DWORD *)v72 + 44) & 0xFFC9FFFF | 0x80000;
                if ( a7 )
                {
                  v113 = *(_DWORD *)v72 + 1;
                  *(_DWORD *)v72 = v113;
                  v114 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                  *(_DWORD *)(v114 + 112 * v113 + 48) = *(_DWORD *)(v114 + 112 * v113 + 48) & 0xFFFFFFC1 | 1;
                  v115 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                  *(_DWORD *)v115 = *(_DWORD *)v115 & 0xFFFE2FFF | 0x2000;
                  v116 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                  *(_DWORD *)v116 = *(_DWORD *)v116 & 0xFF47FFFF | 0x440000;
                  v117 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                  *(_DWORD *)(v117 + 112 * *(_DWORD *)v72 + 44) = *(_DWORD *)(v117 + 112 * *(_DWORD *)v72 + 44) & 0xFFC5FFFF | 0x40000;
                }
                goto LABEL_167;
              case 2:
                v118 = *(_DWORD *)(v161 + 112);
                if ( !v118 || v118 == *(_DWORD *)(v161 + 104) || v118 == *(_DWORD *)(v161 + 108) )
                {
                  v119 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                  *(_DWORD *)(v119 + 112 * *(_DWORD *)v72 + 48) = *(_DWORD *)(v119 + 112 * *(_DWORD *)v72 + 48) & 0xFF0BFFFF | 0x80000;
                  v120 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                  *(_DWORD *)v120 = *(_DWORD *)v120 & 0xC1FFFFFF | 0x1000000;
                  v121 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                  *(_DWORD *)(v121 + 112 * *(_DWORD *)v72 + 44) = *(_DWORD *)(v121 + 112 * *(_DWORD *)v72 + 44) & 0xFFCFFFFF | 0xE0000;
                  if ( a7 )
                  {
                    v122 = *(_DWORD *)v72 + 1;
                    *(_DWORD *)v72 = v122;
                    v123 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                    *(_DWORD *)(v123 + 112 * v122 + 48) = *(_DWORD *)(v123 + 112 * v122 + 48) & 0xFFFFFFC1 | 1;
                    v124 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                    *(_DWORD *)v124 = *(_DWORD *)v124 & 0xFFFE2FFF | 0x2000;
                    v125 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                    *(_DWORD *)v125 = *(_DWORD *)v125 & 0xFF47FFFF | 0x440000;
                    v126 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                    *(_DWORD *)(v126 + 112 * *(_DWORD *)v72 + 44) = *(_DWORD *)(v126 + 112 * *(_DWORD *)v72 + 44) & 0xFFC5FFFF | 0x40000;
                  }
                  goto LABEL_167;
                }
                if ( !a8 )
                  goto LABEL_75;
                v150 = (int)"Combiner Mask must be Material1, or Material2 or None when using Alpha Operation AO_Add.";
                goto LABEL_74;
              case 3:
                v127 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                *(_DWORD *)v127 = *(_DWORD *)v127 & 0xFF0BFFFF | 0x80000;
                v128 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                *(_DWORD *)v128 = *(_DWORD *)v128 & 0xC1FFFFFF | 0x1000000;
                v129 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                v130 = *(_DWORD *)v129 ^ ((3 - (v166 != 0)) << 17);
                v40 = a7 == 0;
                *(_DWORD *)v129 ^= v130 & 0x3E0000;
                if ( !v40 )
                {
                  v131 = *(_DWORD *)v72 + 1;
                  *(_DWORD *)v72 = v131;
                  v132 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                  *(_DWORD *)(v132 + 112 * v131 + 48) = *(_DWORD *)(v132 + 112 * v131 + 48) & 0xFFFFFFC1 | 1;
                  v133 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                  *(_DWORD *)(v133 + 112 * *(_DWORD *)v72 + 44) = *(_DWORD *)(v133 + 112 * *(_DWORD *)v72 + 44) & 0xFFFE2FFF | 0x2000;
                  v134 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                  *(_DWORD *)v134 = *(_DWORD *)v134 & 0xFF47FFFF | 0x440000;
                  v135 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                  *(_DWORD *)v135 = *(_DWORD *)v135 & 0xFFC5FFFF | 0x40000;
                }
                v136 = *(_DWORD *)(v161 + 104);
                if ( !v136 )
                  goto LABEL_167;
                v137 = UTexture::StaticClass();
                v138 = *(_DWORD *)(v136 + 36);
                while ( 2 )
                {
                  if ( !v138 )
                    goto LABEL_164;
                  if ( v138 != v137 )
                  {
                    v138 = *(_DWORD *)(v138 + 48);
                    continue;
                  }
                  goto LABEL_165;
                }
              case 4:
                v139 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                *(_DWORD *)(v139 + 112 * *(_DWORD *)v72 + 48) = *(_DWORD *)(v139 + 112 * *(_DWORD *)v72 + 48) & 0xFF0BFFFF | 0x80000;
                v140 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                *(_DWORD *)(v140 + 112 * *(_DWORD *)v72 + 48) = *(_DWORD *)(v140 + 112 * *(_DWORD *)v72 + 48) & 0xC1FFFFFF | 0x1000000;
                v141 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                v142 = *(_DWORD *)v141 ^ (((v166 != 0) + 2) << 17);
                *(_DWORD *)v141 ^= v142 & 0x3E0000;
                if ( a7 )
                {
                  v143 = *(_DWORD *)v72 + 1;
                  *(_DWORD *)v72 = v143;
                  v144 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
                  *(_DWORD *)(v144 + 112 * v143 + 48) = *(_DWORD *)(v144 + 112 * v143 + 48) & 0xFFFFFFC1 | 1;
                  v145 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                  *(_DWORD *)v145 = *(_DWORD *)v145 & 0xFFFE2FFF | 0x2000;
                  v146 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 48;
                  *(_DWORD *)v146 = *(_DWORD *)v146 & 0xFF47FFFF | 0x440000;
                  v147 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)v72 + 44;
                  *(_DWORD *)v147 = *(_DWORD *)v147 & 0xFFC5FFFF | 0x40000;
                }
                v136 = *(_DWORD *)(v161 + 108);
                if ( !v136 )
                  goto LABEL_167;
                v137 = UTexture::StaticClass();
                v148 = *(_DWORD *)(v136 + 36);
                while ( 2 )
                {
                  if ( v148 )
                  {
                    if ( v148 != v137 )
                    {
                      v148 = *(_DWORD *)(v148 + 48);
                      continue;
                    }
                  }
                  else
                  {
LABEL_164:
                    if ( !(v137 == 0) )
                      goto LABEL_167;
                  }
                  break;
                }
LABEL_165:
                if ( v136 )
                {
                  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^ (unsigned __int8)(*(_DWORD *)(v136 + 172) >> 1)) & 1;
                  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^ (unsigned __int8)(8 * *(_DWORD *)(v136 + 172))) & 0x20;
                  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^ (unsigned __int8)(2 * *(_DWORD *)(v136 + 172))) & 2;
                  *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 8) = 127;
                }
LABEL_167:
                ++*(_DWORD *)v72;
                if ( !(*(_BYTE *)(v161 + 116) & 1) || !a10 )
                  return 1;
                ++*(_DWORD *)a10;
                return 1;
              default:
                goto LABEL_167;
            }
            while ( v108 )
            {
              if ( v108 == v107 )
                goto LABEL_130;
              v108 = *(_DWORD *)(v108 + 48);
            }
            if ( v107 == 0 )
            {
LABEL_130:
              if ( v105 )
              {
                *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^ (unsigned __int8)(*(_DWORD *)(v105 + 172) >> 1)) & 1;
                *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^ (unsigned __int8)(8 * *(_DWORD *)(v105 + 172))) & 0x20;
                *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 4) ^ (unsigned __int8)(2 * *(_DWORD *)(v105 + 172))) & 2;
                *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 772) + 8) = 127;
              }
            }
LABEL_132:
            if ( a10 )
              *(_DWORD *)a10 += 2;
            goto LABEL_167;
          }
          if ( !a8 )
            goto LABEL_75;
          v59 = (int)"No stages left for Bitmap Material1";
          if ( !v166 )
            v59 = (int)"No stages left for Bitmap Material2";
          v150 = v59;
          goto LABEL_74;
        }
        if ( v43 == v160 )
          goto LABEL_69;
        if ( sub_10008040(v43, v11, v10, 0, 0) )
        {
          if ( *(_DWORD *)a4 >= v158 + *(_DWORD *)a5 )
          {
            if ( a8 )
              FString::operator_("No stages left for Mask bitmap");
            if ( a9 )
              *(_DWORD *)a9 = a2;
            return 0;
          }
          memcpy(&v153, &v154, 0x58u);
          v62 = sub_10008040(*(_DWORD *)(v161 + 112), v11, v10, (int)&v153, 0);
          v46 = a4;
          v47 = a3;
          sub_100044B0(
            v11,
            *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 36,
            v62);
          sub_10005670(
            v11,
            *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 36,
            (int)&v153);
          v63 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
          *(_DWORD *)v63 = *(_DWORD *)v63 & 0xFF0BFFFF | ((*(_DWORD *)(v161 + 116) & 2) << 21) | 0x80000;
          v64 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
          *(_DWORD *)v64 = *(_DWORD *)v64 & 0xFFC5FFFF | 0x40000;
          v65 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
          *(_DWORD *)v65 = *(_DWORD *)v65 & 0xFFFFF07F | 0x40;
          v51 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
          v52 = *(_DWORD *)v51 & 0xFFFE3FFF | 0x3000;
          goto LABEL_67;
        }
        if ( sub_10006F20(*(_DWORD *)(v161 + 112), v11, v10, 0, 0) )
        {
          v66 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
          *(_DWORD *)(v66 + 112 * *(_DWORD *)a4 + 48) &= 0xFF03FFFFu;
          v67 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
          *(_DWORD *)(v67 + 112 * *(_DWORD *)a4 + 44) = *(_DWORD *)(v67 + 112 * *(_DWORD *)a4 + 44) & 0xFFC5FFFF | 0x40000;
          v155 = 1;
          goto LABEL_69;
        }
        v68 = sub_100077B0(*(_DWORD *)(v161 + 112), v11, v10, 0, 0);
        if ( v68 )
        {
          (*(void (__thiscall **)(int, int *, _DWORD))(*(_DWORD *)v68 + 172))(
            v68,
            &v159,
            *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 8) + 48) + 148) + 792));
          if ( !*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 16)
            || *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 16) == *(_DWORD *)FColor::DWColor(&v159) )
          {
            *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 16) = *(_DWORD *)FColor::DWColor(&v159);
            v69 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
            *(_DWORD *)(v69 + 112 * *(_DWORD *)a4 + 48) = *(_DWORD *)(v69 + 112 * *(_DWORD *)a4 + 48) & 0xFF0FFFFF | 0xC0000;
            v70 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
            *(_DWORD *)v70 = *(_DWORD *)v70 & 0xFFC5FFFF | 0x40000;
            v159 = 1;
            goto LABEL_69;
          }
          if ( a8 )
          {
            v150 = (int)"Only one ConstantMaterial may be used per material.";
LABEL_74:
            FString::operator_(v150);
            goto LABEL_75;
          }
        }
        else
        {
          if ( a8 )
          {
            v150 = (int)"Combiner Mask must be a bitmap material, a vertex color, a constant color, Material1 or Material2.";
            goto LABEL_74;
          }
        }
LABEL_75:
        if ( a9 )
          *(_DWORD *)a9 = a2;
        return 0;
      }
    }
    else
    {
      if ( !v37 )
      {
        if ( !a8 )
          goto LABEL_75;
        v150 = (int)"Either Material1 or Material2 must be a simple bitmap material.";
        goto LABEL_74;
      }
    }
    if ( *(_BYTE *)(v35 + 116) & 2 && v36 && (v39 = *(_DWORD *)(v35 + 108), *(_DWORD *)(v35 + 112) == v39) )
    {
      v166 = 1;
    }
    else
    {
      v39 = *(_DWORD *)(v35 + 104);
      v38 = *(_DWORD *)(v35 + 108);
      v166 = 0;
    }
    goto LABEL_51;
  }
  (*(void (__thiscall **)(int, int *, _DWORD))(*(_DWORD *)v20 + 172))(
    v20,
    &a7,
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 8) + 48) + 148) + 792));
  v22 = UFadeColor::StaticClass();
  for ( i = *(_DWORD *)(v21 + 36); i; i = *(_DWORD *)(i + 48) )
  {
    if ( i == v22 )
      goto LABEL_18;
  }
  if ( !(v22 == 0) )
    goto LABEL_19;
LABEL_18:
  *(_DWORD *)(v11 + 40912) |= 1u;
LABEL_19:
  if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 16)
    && *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 16) != *(_DWORD *)FColor::DWColor(&a7) )
  {
    if ( !a8 )
      goto LABEL_75;
    v150 = (int)"Only one ConstantMaterial may be used per material.";
    goto LABEL_74;
  }
  if ( *(_DWORD *)a4 >= v158 + v160 )
  {
    if ( !a8 )
      goto LABEL_75;
    v150 = (int)"No stages left for constant color";
    goto LABEL_74;
  }
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 16) = *(_DWORD *)FColor::DWColor(&a7);
  v24 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
  *(_DWORD *)(v24 + 112 * *(_DWORD *)a4 + 48) = *(_DWORD *)(v24 + 112 * *(_DWORD *)a4 + 48) & 0xFF0FFFFF | 0xC0000;
  v25 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 44;
  *(_DWORD *)v25 = *(_DWORD *)v25 & 0xFFC5FFFF | 0x40000;
  v26 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772) + 112 * *(_DWORD *)a4 + 48;
  *(_DWORD *)v26 = *(_DWORD *)v26 & 0xFFFFFFC3 | 3;
  v27 = *(_DWORD *)(*(_DWORD *)(v11 + 39948) + 4 * *(_DWORD *)a3 + 772);
  *(_DWORD *)(v27 + 112 * *(_DWORD *)a4 + 44) = *(_DWORD *)(v27 + 112 * *(_DWORD *)a4 + 44) & 0xFFFE2FFF | 0x2000;
  if ( v160 )
    ++*(_DWORD *)a5;
  ++*(_DWORD *)a4;
  return 1;
}
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1006F394: using guessed type int UTexture__StaticClass(void);
// 1006F3E0: using guessed type int __thiscall FColor__DWColor(_DWORD);
// 1006F3E4: using guessed type int UFadeColor__StaticClass(void);

//----- (1000BA27) --------------------------------------------------------
void __usercall sub_1000BA27(int a1<ebp>)
{
  *(_DWORD *)(a1 - 48) = *(_DWORD *)(a1 - 52);
  CxxThrowException(a1 - 48, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1000BA3B) --------------------------------------------------------
void __cdecl sub_1000BA3B()
{
  appUnwindf("%s", off_100800A0[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800A0: using guessed type char *off_100800A0[62];

//----- (1000BA90) --------------------------------------------------------
void *__thiscall sub_1000BA90(void *this, int a2, int a3, int a4, int a5)
{
  void *v5; // esi@1
  int v6; // edx@1
  void *result; // eax@1

  v5 = this;
  FRenderResource::FRenderResource();
  *(_DWORD *)v5 = &off_1006FE80;
  *((_DWORD *)v5 + 4) = *(_DWORD *)a2;
  *((_DWORD *)v5 + 5) = *(_DWORD *)(a2 + 4);
  *((_DWORD *)v5 + 6) = *(_DWORD *)(a2 + 8);
  *((_DWORD *)v5 + 7) = *(_DWORD *)a3;
  *((_DWORD *)v5 + 8) = *(_DWORD *)(a3 + 4);
  *((_DWORD *)v5 + 9) = *(_DWORD *)(a3 + 8);
  *((_DWORD *)v5 + 10) = *(_DWORD *)a4;
  *((_DWORD *)v5 + 11) = *(_DWORD *)(a4 + 4);
  v6 = *(_DWORD *)(a4 + 8);
  *((_DWORD *)v5 + 13) = a5;
  result = v5;
  *((_DWORD *)v5 + 12) = v6;
  return result;
}
// 1006F3D8: using guessed type int FRenderResource__FRenderResource(void);
// 1006FE80: using guessed type int (__stdcall *off_1006FE80)(char);

//----- (1000BB00) --------------------------------------------------------
int __thiscall sub_1000BB00(int this)
{
  return *(_DWORD *)(this + 52);
}

//----- (1000BB10) --------------------------------------------------------
int __thiscall sub_1000BB10(int this)
{
  return *(_DWORD *)(this + 52);
}

//----- (1000BB20) --------------------------------------------------------
int __cdecl sub_1000BB20()
{
  return 0;
}

//----- (1000BB30) --------------------------------------------------------
signed int __cdecl sub_1000BB30()
{
  return 2;
}

//----- (1000BB50) --------------------------------------------------------
signed int __cdecl sub_1000BB50()
{
  return 1;
}

//----- (1000BB60) --------------------------------------------------------
signed int __cdecl sub_1000BB60()
{
  return 1;
}

//----- (1000BB70) --------------------------------------------------------
int __stdcall sub_1000BB70(int a1)
{
  return 0;
}

//----- (1000BB90) --------------------------------------------------------
int __cdecl sub_1000BB90()
{
  return 0;
}

//----- (1000BBA0) --------------------------------------------------------
signed int __thiscall sub_1000BBA0(int this, float a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // edi@1
  int v8; // eax@1
  float v9; // esi@1
  signed int i; // eax@1
  __int128 v11; // xmm7@3
  float v12; // xmm0_4@3
  float v13; // xmm6_4@3
  float v14; // xmm1_4@3
  int v15; // esi@3
  float v16; // xmm0_4@3
  __int128 v17; // xmm5@5
  __int128 v18; // xmm4@5
  __int128 v19; // xmm6@5
  float v20; // xmm0_4@5
  __int128 v22; // xmm1@6
  float v23; // xmm0_4@6
  float v24; // xmm0_4@7
  signed int v25; // eax@7
  signed int v26; // edi@8
  signed int v27; // edx@12
  signed int v28; // ecx@16
  signed int v29; // eax@19
  int v30; // eax@23
  float v31; // xmm0_4@23
  int v33; // [sp+0h] [bp-98h]@1
  int v34; // [sp+4h] [bp-94h]@23
  int v35; // [sp+8h] [bp-90h]@23
  float v36; // [sp+Ch] [bp-8Ch]@7
  float v37; // [sp+10h] [bp-88h]@7
  float v38; // [sp+14h] [bp-84h]@7
  float v39; // [sp+18h] [bp-80h]@3
  float v40; // [sp+1Ch] [bp-7Ch]@3
  float v41; // [sp+20h] [bp-78h]@4
  float v42; // [sp+24h] [bp-74h]@5
  float v43; // [sp+28h] [bp-70h]@5
  float v44; // [sp+2Ch] [bp-6Ch]@5
  float v45; // [sp+30h] [bp-68h]@1
  float v46; // [sp+34h] [bp-64h]@3
  float v47; // [sp+38h] [bp-60h]@3
  float v48; // [sp+3Ch] [bp-5Ch]@1
  float v49; // [sp+40h] [bp-58h]@3
  float v50; // [sp+44h] [bp-54h]@3
  int v51; // [sp+50h] [bp-48h]@1
  float v52; // [sp+54h] [bp-44h]@19
  float v53; // [sp+58h] [bp-40h]@15
  float v54; // [sp+5Ch] [bp-3Ch]@11
  int v55; // [sp+60h] [bp-38h]@7
  float v56; // [sp+64h] [bp-34h]@7
  int v57; // [sp+68h] [bp-30h]@7
  float v58; // [sp+6Ch] [bp-2Ch]@6
  float v59; // [sp+70h] [bp-28h]@6
  int v60; // [sp+74h] [bp-24h]@6
  int v61; // [sp+78h] [bp-20h]@6
  int v62; // [sp+7Ch] [bp-1Ch]@2
  int v63; // [sp+80h] [bp-18h]@1
  int v64; // [sp+84h] [bp-14h]@3
  int *v65; // [sp+88h] [bp-10h]@1
  int v66; // [sp+94h] [bp-4h]@1

  v7 = this;
  v8 = *(_DWORD *)(this + 52) >> SLOBYTE(a2);
  v65 = &v33;
  v51 = this;
  v63 = v8;
  v66 = 0;
  a2 = (double)(v8 - 1);
  v9 = a2;
  FVector::operator_(this + 28, &v48, LODWORD(a2));
  FVector::operator_(v7 + 40, &v45, LODWORD(v9));
  for ( i = 0; ; ++i )
  {
    v62 = i;
    if ( i >= v63 )
      break;
    v11 = (unsigned int)dword_1006FA5C;
    v12 = (float)i + 0.5;
    v13 = v45 * v12;
    v14 = *(float *)(v7 + 20) + (float)(v46 * v12);
    v15 = a3 + a4 * i;
    v16 = (float)(*(float *)(v7 + 24) + (float)(v47 * v12)) + (float)(v50 * 0.5);
    v39 = (float)(*(float *)(v7 + 16) + v13) + (float)(v48 * 0.5);
    v40 = v14 + (float)(v49 * 0.5);
    v64 = 0;
    while ( 1 )
    {
      v41 = v16;
      if ( v64 >= v63 )
        break;
      v43 = v40;
      v17 = LODWORD(v40);
      v44 = v41;
      v18 = LODWORD(v41);
      v42 = v39;
      v19 = LODWORD(v39);
      v20 = (float)((float)(v41 * v41) + (float)(v40 * v40)) + (float)(v39 * v39);
      __asm { lahf }
      if ( __SETP__(_AH & 0x44, 0) )
      {
        v59 = (float)((float)(v41 * v41) + (float)(v40 * v40)) + (float)(v39 * v39);
        v60 = dword_1006FEFC;
        v61 = v11;
        v22 = LODWORD(v20);
        v23 = 1.0 / fsqrt(v20);
        v58 = (float)(3.0 - (float)((float)(v23 * *(float *)&v22) * v23)) * (float)(v23 * *(float *)&v11);
        v42 = v58 * *(float *)&v19;
        v43 = *(float *)&v17 * v58;
        v44 = *(float *)&v18 * v58;
      }
      v37 = v43;
      v38 = v44;
      v24 = v44 * 255.0;
      v36 = v42;
      v56 = v44 * 255.0;
      v55 = 16256;
      v57 = 8064;
      _mm_setcsr(0x3F80u);
      v25 = (signed int)(float)(v44 * 255.0);
      _mm_setcsr(0x1F80u);
      if ( v25 >= 0 )
      {
        v26 = (signed int)(float)(v44 * 255.0);
        if ( v25 >= 255 )
          v26 = 255;
      }
      else
      {
        v26 = 0;
      }
      v54 = v44 * 255.0;
      v57 = 16256;
      v55 = 8064;
      _mm_setcsr(0x3F80u);
      _mm_setcsr(0x1F80u);
      if ( (signed int)v24 >= 0 )
      {
        v27 = (signed int)v24;
        if ( (signed int)v24 >= 255 )
          v27 = 255;
      }
      else
      {
        v27 = 0;
      }
      v53 = v44 * 255.0;
      v57 = 16256;
      v55 = 8064;
      _mm_setcsr(0x3F80u);
      _mm_setcsr(0x1F80u);
      if ( (signed int)v24 >= 0 )
      {
        v28 = (signed int)v24;
        if ( (signed int)v24 >= 255 )
          v28 = 255;
      }
      else
      {
        v28 = 0;
      }
      v52 = v44 * 255.0;
      v57 = 16256;
      v55 = 8064;
      _mm_setcsr(0x3F80u);
      v29 = (signed int)v24;
      _mm_setcsr(0x1F80u);
      if ( (signed int)v24 >= 0 )
      {
        if ( v29 >= 255 )
          v29 = 255;
      }
      else
      {
        v29 = 0;
      }
      v30 = FColor::FColor(
              &a2,
              v29,
              v28,
              v27,
              v26,
              v33,
              v34,
              v35,
              LODWORD(v36),
              LODWORD(v37),
              LODWORD(v38),
              LODWORD(v39),
              LODWORD(v40));
      v31 = v39 + v48;
      v11 = (unsigned int)dword_1006FA5C;
      v7 = v51;
      *(_DWORD *)v15 = *(_DWORD *)v30;
      v39 = v31;
      v15 += 4;
      v40 = v40 + v49;
      v16 = v41 + v50;
      ++v64;
      i = v62;
    }
  }
  return 1;
}
// 1006F0C4: using guessed type int __thiscall FVector__operator_(_DWORD, _DWORD, _DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006FA5C: using guessed type int dword_1006FA5C;
// 1006FEFC: using guessed type int dword_1006FEFC;

//----- (1000BEC0) --------------------------------------------------------
void __usercall sub_1000BEC0(int a1<ebp>)
{
  *(_DWORD *)(a1 - 76) = *(_DWORD *)(a1 - 80);
  CxxThrowException(a1 - 76, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1000BED4) --------------------------------------------------------
void __cdecl sub_1000BED4()
{
  appUnwindf("%s", off_100800A4[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800A4: using guessed type char *off_100800A4[61];

//----- (1000BF10) --------------------------------------------------------
void *__thiscall sub_1000BF10(void *this, int a2)
{
  void *v2; // esi@1
  __int128 v3; // xmm1@1
  __int128 v4; // xmm0@1
  unsigned int v5; // ebp@1
  int v7; // [sp+14h] [bp-30h]@1
  int v8; // [sp+18h] [bp-2Ch]@1
  __int64 v9; // [sp+1Ch] [bp-28h]@1
  int v10; // [sp+24h] [bp-20h]@1
  unsigned __int64 v11; // [sp+28h] [bp-1Ch]@1
  __int64 v12; // [sp+30h] [bp-14h]@1
  int v13; // [sp+40h] [bp-4h]@1

  v2 = this;
  FRenderResource::FRenderResource();
  v3 = (unsigned int)dword_1006FF58;
  v7 = 0;
  v9 = 0i64;
  v10 = 0;
  v4 = (unsigned int)dword_1006F9A0;
  v13 = 0;
  *(_DWORD *)v2 = &off_1006FF10;
  v8 = v3;
  v11 = __PAIR__(v4, (unsigned int)v3);
  LODWORD(v12) = v4;
  HIDWORD(v12) = v4;
  sub_1000BA90((char *)v2 + 16, (int)((char *)&v11 + 4), (int)((char *)&v9 + 4), (int)&v7, a2);
  v10 = 0;
  v12 = (unsigned int)dword_1006FF58;
  v11 = HIDWORD(qword_1006FF04);
  LOBYTE(v13) = 1;
  v7 = qword_1006FF04;
  v8 = dword_1006F9A0;
  v9 = (unsigned int)qword_1006FF04;
  sub_1000BA90((char *)v2 + 72, (int)&v7, (int)((char *)&v9 + 4), (int)((char *)&v11 + 4), a2);
  LODWORD(v12) = 0;
  HIDWORD(v12) = HIDWORD(qword_1006FF04);
  v10 = 0;
  v11 = 0i64;
  LOBYTE(v13) = 2;
  v7 = qword_1006FF04;
  v8 = dword_1006F9A0;
  v9 = qword_1006FF04;
  sub_1000BA90((char *)v2 + 128, (int)&v7, (int)((char *)&v9 + 4), (int)((char *)&v11 + 4), a2);
  LODWORD(v12) = 0;
  v11 = 0i64;
  HIDWORD(v12) = dword_1006FF58;
  v7 = qword_1006FF04;
  v8 = qword_1006FF04;
  LOBYTE(v13) = 3;
  *(__int64 *)((char *)&v9 + 4) = HIDWORD(qword_1006FF04);
  LODWORD(v9) = dword_1006F9A0;
  sub_1000BA90((char *)v2 + 184, (int)&v7, (int)((char *)&v9 + 4), (int)((char *)&v11 + 4), a2);
  v11 = 0i64;
  v12 = (unsigned int)dword_1006FF58;
  v7 = qword_1006FF04;
  LOBYTE(v13) = 4;
  *(__int64 *)((char *)&v9 + 4) = HIDWORD(qword_1006FF04);
  v8 = dword_1006F9A0;
  LODWORD(v9) = dword_1006F9A0;
  sub_1000BA90((char *)v2 + 240, (int)&v7, (int)((char *)&v9 + 4), (int)((char *)&v11 + 4), a2);
  v11 = 0i64;
  v7 = dword_1006F9A0;
  v8 = dword_1006F9A0;
  LOBYTE(v13) = 5;
  v12 = (unsigned int)dword_1006FF58;
  *(__int64 *)((char *)&v9 + 4) = (unsigned int)dword_1006FF58;
  LODWORD(v9) = qword_1006FF04;
  sub_1000BA90((char *)v2 + 296, (int)&v7, (int)((char *)&v9 + 4), (int)((char *)&v11 + 4), a2);
  *((_DWORD *)v2 + 88) = a2;
  v5 = HIDWORD(GMakeCacheIDIndex);
  LODWORD(GMakeCacheIDIndex) = GMakeCacheIDIndex + 1;
  HIDWORD(GMakeCacheIDIndex) = __CFADD__((_DWORD)GMakeCacheIDIndex, 1) + v5;
  *(_QWORD *)((char *)v2 + 4) = (__PAIR__(v5, (unsigned int)GMakeCacheIDIndex) << 8) + 224;
  *((_DWORD *)v2 + 3) = 1;
  return v2;
}
// 1006F0B8: using guessed type unsigned __int64 GMakeCacheIDIndex;
// 1006F3D8: using guessed type int FRenderResource__FRenderResource(void);
// 1006F9A0: using guessed type int dword_1006F9A0;
// 1006FF04: using guessed type __int64 qword_1006FF04;
// 1006FF10: using guessed type int (__stdcall *off_1006FF10)(char);
// 1006FF58: using guessed type int dword_1006FF58;

//----- (1000C280) --------------------------------------------------------
int __cdecl sub_1000C280()
{
  return 0;
}

//----- (1000C290) --------------------------------------------------------
signed int __cdecl sub_1000C290()
{
  return 2;
}

//----- (1000C2B0) --------------------------------------------------------
signed int __cdecl sub_1000C2B0()
{
  return 1;
}

//----- (1000C2C0) --------------------------------------------------------
signed int __cdecl sub_1000C2C0()
{
  return 1;
}

//----- (1000C2D0) --------------------------------------------------------
int __thiscall sub_1000C2D0(void *this, int a2)
{
  int result; // eax@2

  switch ( a2 )
  {
    case 0:
      result = (int)((char *)this + 16);
      break;
    case 1:
      result = (int)((char *)this + 72);
      break;
    case 2:
      result = (int)((char *)this + 128);
      break;
    case 3:
      result = (int)((char *)this + 184);
      break;
    case 4:
      result = (int)((char *)this + 240);
      break;
    case 5:
      result = (int)((char *)this + 296);
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (1000C330) --------------------------------------------------------
int __thiscall sub_1000C330(void *this)
{
  void *v1; // esi@1

  v1 = this;
  FRenderResource::_FRenderResource((char *)this + 296);
  FRenderResource::_FRenderResource((char *)v1 + 240);
  FRenderResource::_FRenderResource((char *)v1 + 184);
  FRenderResource::_FRenderResource((char *)v1 + 128);
  FRenderResource::_FRenderResource((char *)v1 + 72);
  FRenderResource::_FRenderResource((char *)v1 + 16);
  return FRenderResource::_FRenderResource(v1);
}
// 1006F3DC: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1000C3D0) --------------------------------------------------------
signed int __thiscall sub_1000C3D0(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26)
{
  int v26; // ebp@0
  int v27; // ebx@1
  int v28; // esi@1
  int v29; // eax@3
  int v30; // edi@3
  int v31; // edi@3
  signed int v32; // ebx@3
  int v33; // edx@3
  int v34; // ecx@3
  int v35; // eax@4
  int v36; // esi@6
  int v37; // eax@6
  int v38; // edi@7
  int v39; // ST0C_4@7
  __int128 v40; // xmm0@7
  int v41; // ebx@12
  signed int result; // eax@17
  int v43; // eax@18
  int v44; // eax@18
  int v45; // eax@18
  float v46; // xmm1_4@18
  float v47; // xmm0_4@18
  float v48; // xmm1_4@18
  float v49; // xmm0_4@18
  float v50; // xmm1_4@18
  float v51; // xmm0_4@18
  float v52; // xmm1_4@18
  float v53; // xmm0_4@18
  float v54; // xmm1_4@18
  float v55; // xmm1_4@18
  float v56; // xmm0_4@18
  float v57; // xmm1_4@18
  float v58; // xmm0_4@18
  float v59; // xmm1_4@18
  float v60; // xmm0_4@18
  float v61; // xmm1_4@18
  float v62; // xmm0_4@18
  float v63; // xmm1_4@18
  float v64; // xmm0_4@18
  float v65; // xmm1_4@18
  float v66; // xmm0_4@18
  float v67; // xmm1_4@18
  float v68; // xmm0_4@18
  float v69; // xmm1_4@18
  float v70; // xmm0_4@18
  float v71; // xmm1_4@18
  float v72; // xmm0_4@18
  float v73; // xmm1_4@18
  float v74; // xmm0_4@18
  float v75; // xmm1_4@18
  float v76; // xmm0_4@18
  float v77; // xmm1_4@18
  float v78; // xmm1_4@18
  float v79; // xmm0_4@18
  float v80; // xmm1_4@18
  float v81; // xmm0_4@18
  float v82; // xmm1_4@18
  float v83; // xmm0_4@18
  float v84; // xmm1_4@18
  float v85; // xmm0_4@18
  float v86; // xmm1_4@18
  float v87; // xmm0_4@18
  float v88; // xmm1_4@18
  float v89; // xmm0_4@18
  float v90; // xmm1_4@18
  float v91; // xmm0_4@18
  float v92; // xmm1_4@18
  float v93; // xmm0_4@18
  float v94; // xmm1_4@18
  float v95; // xmm0_4@18
  float v96; // xmm1_4@18
  float v97; // xmm0_4@18
  float v98; // xmm1_4@18
  float v99; // xmm0_4@18
  float v100; // xmm1_4@18
  __int128 v101; // xmm4@18
  __int128 v102; // xmm0@18
  __int128 v103; // xmm5@18
  __int128 v104; // xmm5@18
  __int128 v105; // xmm5@18
  __int128 v106; // xmm0@18
  __int128 v107; // xmm5@18
  __int128 v108; // xmm5@18
  __int128 v109; // xmm0@18
  __int128 v110; // xmm5@18
  __int128 v111; // xmm5@18
  __int128 v112; // xmm0@18
  __int128 v113; // xmm5@18
  __int128 v114; // xmm5@18
  int v115; // edi@18
  int v116; // esi@18
  int v117; // edx@18
  int v118; // eax@18
  int v119; // eax@21
  __int128 v120; // xmm0@21
  int v121; // eax@21
  int v122; // [sp+0h] [bp-470h]@1
  int v123; // [sp+4h] [bp-46Ch]@19
  int v124; // [sp+8h] [bp-468h]@19
  char v125; // [sp+Ch] [bp-464h]@3
  int v126; // [sp+10h] [bp-460h]@19
  int v127; // [sp+14h] [bp-45Ch]@19
  int v128; // [sp+18h] [bp-458h]@19
  int v129; // [sp+1Ch] [bp-454h]@19
  char v130; // [sp+64h] [bp-40Ch]@3
  char v131; // [sp+A4h] [bp-3CCh]@9
  char v132; // [sp+E4h] [bp-38Ch]@6
  char v133; // [sp+E8h] [bp-388h]@9
  float v134; // [sp+FCh] [bp-374h]@18
  float v135; // [sp+100h] [bp-370h]@18
  float v136; // [sp+104h] [bp-36Ch]@18
  float v137; // [sp+108h] [bp-368h]@18
  float v138; // [sp+10Ch] [bp-364h]@18
  float v139; // [sp+110h] [bp-360h]@18
  float v140; // [sp+114h] [bp-35Ch]@18
  float v141; // [sp+118h] [bp-358h]@18
  float v142; // [sp+11Ch] [bp-354h]@18
  float v143; // [sp+120h] [bp-350h]@18
  float v144; // [sp+124h] [bp-34Ch]@18
  float v145; // [sp+128h] [bp-348h]@18
  float v146; // [sp+12Ch] [bp-344h]@18
  float v147; // [sp+130h] [bp-340h]@18
  float v148; // [sp+134h] [bp-33Ch]@18
  float v149; // [sp+138h] [bp-338h]@18
  int v150; // [sp+140h] [bp-330h]@3
  int v151; // [sp+144h] [bp-32Ch]@3
  int v152; // [sp+148h] [bp-328h]@3
  int v153; // [sp+14Ch] [bp-324h]@3
  int v154; // [sp+150h] [bp-320h]@3
  int v155; // [sp+154h] [bp-31Ch]@3
  int v156; // [sp+158h] [bp-318h]@3
  int v157; // [sp+15Ch] [bp-314h]@3
  int v158; // [sp+160h] [bp-310h]@3
  int v159; // [sp+164h] [bp-30Ch]@3
  int v160; // [sp+168h] [bp-308h]@3
  int v161; // [sp+16Ch] [bp-304h]@3
  int v162; // [sp+170h] [bp-300h]@3
  int v163; // [sp+174h] [bp-2FCh]@3
  int v164; // [sp+178h] [bp-2F8h]@3
  int v165; // [sp+17Ch] [bp-2F4h]@3
  int v166; // [sp+180h] [bp-2F0h]@3
  int v167; // [sp+184h] [bp-2ECh]@3
  int v168; // [sp+188h] [bp-2E8h]@3
  __int64 v169; // [sp+18Ch] [bp-2E4h]@3
  int v170; // [sp+194h] [bp-2DCh]@3
  int v171; // [sp+198h] [bp-2D8h]@3
  int v172; // [sp+19Ch] [bp-2D4h]@3
  int v173; // [sp+1A0h] [bp-2D0h]@3
  int v174; // [sp+1A4h] [bp-2CCh]@3
  int v175; // [sp+1A8h] [bp-2C8h]@3
  int v176; // [sp+1ACh] [bp-2C4h]@3
  int v177; // [sp+1B0h] [bp-2C0h]@3
  int v178; // [sp+1B4h] [bp-2BCh]@3
  int v179; // [sp+1B8h] [bp-2B8h]@3
  int v180; // [sp+1BCh] [bp-2B4h]@3
  int v181; // [sp+1C0h] [bp-2B0h]@3
  int v182; // [sp+1C4h] [bp-2ACh]@3
  int v183; // [sp+1C8h] [bp-2A8h]@3
  int v184; // [sp+1CCh] [bp-2A4h]@3
  int v185; // [sp+1D0h] [bp-2A0h]@3
  int v186; // [sp+1D4h] [bp-29Ch]@3
  int v187; // [sp+1D8h] [bp-298h]@3
  int v188; // [sp+1DCh] [bp-294h]@3
  float v189; // [sp+1E0h] [bp-290h]@3
  int v190; // [sp+1E4h] [bp-28Ch]@3
  int v191; // [sp+1E8h] [bp-288h]@3
  int v192; // [sp+1ECh] [bp-284h]@3
  int v193; // [sp+1F0h] [bp-280h]@3
  int v194; // [sp+1F4h] [bp-27Ch]@3
  int v195; // [sp+1F8h] [bp-278h]@3
  int v196; // [sp+1FCh] [bp-274h]@3
  int v197; // [sp+200h] [bp-270h]@3
  int v198; // [sp+204h] [bp-26Ch]@3
  int v199; // [sp+208h] [bp-268h]@3
  int v200; // [sp+20Ch] [bp-264h]@3
  int v201; // [sp+210h] [bp-260h]@3
  int v202; // [sp+214h] [bp-25Ch]@3
  int v203; // [sp+218h] [bp-258h]@3
  int v204; // [sp+21Ch] [bp-254h]@3
  int v205; // [sp+220h] [bp-250h]@3
  int v206; // [sp+224h] [bp-24Ch]@3
  int v207; // [sp+228h] [bp-248h]@3
  int v208; // [sp+22Ch] [bp-244h]@3
  int v209; // [sp+230h] [bp-240h]@3
  int v210; // [sp+234h] [bp-23Ch]@3
  int v211; // [sp+238h] [bp-238h]@3
  int v212; // [sp+23Ch] [bp-234h]@3
  int v213; // [sp+240h] [bp-230h]@3
  int v214; // [sp+244h] [bp-22Ch]@3
  int v215; // [sp+248h] [bp-228h]@3
  int v216; // [sp+24Ch] [bp-224h]@3
  int v217; // [sp+250h] [bp-220h]@3
  int v218; // [sp+254h] [bp-21Ch]@3
  int v219; // [sp+258h] [bp-218h]@3
  int v220; // [sp+25Ch] [bp-214h]@3
  int v221; // [sp+260h] [bp-210h]@3
  int v222; // [sp+264h] [bp-20Ch]@3
  int v223; // [sp+268h] [bp-208h]@3
  int v224; // [sp+26Ch] [bp-204h]@3
  int v225; // [sp+270h] [bp-200h]@3
  int v226; // [sp+274h] [bp-1FCh]@3
  int v227; // [sp+278h] [bp-1F8h]@3
  int v228; // [sp+27Ch] [bp-1F4h]@3
  int v229; // [sp+280h] [bp-1F0h]@3
  int v230; // [sp+284h] [bp-1ECh]@3
  int v231; // [sp+288h] [bp-1E8h]@3
  int v232; // [sp+28Ch] [bp-1E4h]@3
  int v233; // [sp+290h] [bp-1E0h]@3
  int v234; // [sp+294h] [bp-1DCh]@3
  int v235; // [sp+298h] [bp-1D8h]@3
  int v236; // [sp+29Ch] [bp-1D4h]@3
  int v237; // [sp+2A0h] [bp-1D0h]@3
  int v238; // [sp+2A4h] [bp-1CCh]@3
  int v239; // [sp+2A8h] [bp-1C8h]@3
  int v240; // [sp+2ACh] [bp-1C4h]@3
  int v241; // [sp+2B0h] [bp-1C0h]@3
  int v242; // [sp+2B4h] [bp-1BCh]@3
  int v243; // [sp+2B8h] [bp-1B8h]@3
  int v244; // [sp+2BCh] [bp-1B4h]@3
  int v245; // [sp+2C0h] [bp-1B0h]@3
  int v246; // [sp+2C4h] [bp-1ACh]@3
  int v247; // [sp+2C8h] [bp-1A8h]@3
  int v248; // [sp+2CCh] [bp-1A4h]@3
  int v249; // [sp+2D0h] [bp-1A0h]@3
  int v250; // [sp+2D4h] [bp-19Ch]@3
  int v251; // [sp+2D8h] [bp-198h]@3
  int v252; // [sp+2DCh] [bp-194h]@3
  int v253; // [sp+2E0h] [bp-190h]@3
  int v254; // [sp+2E4h] [bp-18Ch]@3
  int v255; // [sp+2E8h] [bp-188h]@3
  int v256; // [sp+2ECh] [bp-184h]@3
  int v257; // [sp+2F0h] [bp-180h]@3
  int v258; // [sp+2F4h] [bp-17Ch]@3
  int v259; // [sp+2F8h] [bp-178h]@3
  int v260; // [sp+2FCh] [bp-174h]@3
  int v261; // [sp+300h] [bp-170h]@3
  int v262; // [sp+304h] [bp-16Ch]@3
  int v263; // [sp+308h] [bp-168h]@3
  int v264; // [sp+30Ch] [bp-164h]@3
  int v265; // [sp+310h] [bp-160h]@3
  int v266; // [sp+314h] [bp-15Ch]@3
  int v267; // [sp+318h] [bp-158h]@3
  int v268; // [sp+31Ch] [bp-154h]@3
  int v269; // [sp+320h] [bp-150h]@3
  int v270; // [sp+324h] [bp-14Ch]@3
  int v271; // [sp+328h] [bp-148h]@3
  int v272; // [sp+32Ch] [bp-144h]@3
  float v273; // [sp+330h] [bp-140h]@3
  int v274; // [sp+334h] [bp-13Ch]@3
  int v275; // [sp+338h] [bp-138h]@3
  int v276; // [sp+33Ch] [bp-134h]@3
  int v277; // [sp+340h] [bp-130h]@3
  int v278; // [sp+344h] [bp-12Ch]@3
  int v279; // [sp+348h] [bp-128h]@3
  int v280; // [sp+34Ch] [bp-124h]@3
  int v281; // [sp+350h] [bp-120h]@3
  int v282; // [sp+354h] [bp-11Ch]@3
  int v283; // [sp+358h] [bp-118h]@3
  int v284; // [sp+35Ch] [bp-114h]@3
  int v285; // [sp+360h] [bp-110h]@3
  int v286; // [sp+364h] [bp-10Ch]@3
  int v287; // [sp+368h] [bp-108h]@3
  int v288; // [sp+36Ch] [bp-104h]@3
  float v289; // [sp+370h] [bp-100h]@18
  float v290; // [sp+374h] [bp-FCh]@18
  float v291; // [sp+378h] [bp-F8h]@18
  float v292; // [sp+37Ch] [bp-F4h]@18
  float v293; // [sp+380h] [bp-F0h]@18
  float v294; // [sp+384h] [bp-ECh]@18
  float v295; // [sp+388h] [bp-E8h]@18
  float v296; // [sp+38Ch] [bp-E4h]@18
  float v297; // [sp+390h] [bp-E0h]@18
  float v298; // [sp+394h] [bp-DCh]@18
  float v299; // [sp+398h] [bp-D8h]@18
  float v300; // [sp+39Ch] [bp-D4h]@18
  float v301; // [sp+3A0h] [bp-D0h]@18
  float v302; // [sp+3A4h] [bp-CCh]@18
  float v303; // [sp+3A8h] [bp-C8h]@18
  float v304; // [sp+3ACh] [bp-C4h]@18
  int v305; // [sp+3B0h] [bp-C0h]@21
  int v306; // [sp+3B4h] [bp-BCh]@21
  int v307; // [sp+3B8h] [bp-B8h]@21
  int v308; // [sp+3BCh] [bp-B4h]@21
  int v309; // [sp+3C0h] [bp-B0h]@7
  int v310; // [sp+3C4h] [bp-ACh]@7
  int v311; // [sp+3CCh] [bp-A4h]@3
  int v312; // [sp+3D0h] [bp-A0h]@3
  float v313; // [sp+3D4h] [bp-9Ch]@18
  float v314; // [sp+3D8h] [bp-98h]@18
  float v315; // [sp+3DCh] [bp-94h]@18
  float v316; // [sp+3E0h] [bp-90h]@18
  float v317; // [sp+3E4h] [bp-8Ch]@18
  float v318; // [sp+3E8h] [bp-88h]@18
  float v319; // [sp+3ECh] [bp-84h]@18
  float v320; // [sp+3F0h] [bp-80h]@18
  float v321; // [sp+3F4h] [bp-7Ch]@18
  float v322; // [sp+3F8h] [bp-78h]@18
  float v323; // [sp+3FCh] [bp-74h]@18
  float v324; // [sp+400h] [bp-70h]@18
  float v325; // [sp+404h] [bp-6Ch]@18
  float v326; // [sp+408h] [bp-68h]@18
  float v327; // [sp+40Ch] [bp-64h]@18
  float v328; // [sp+410h] [bp-60h]@18
  float v329; // [sp+414h] [bp-5Ch]@9
  float v330; // [sp+418h] [bp-58h]@18
  float v331; // [sp+41Ch] [bp-54h]@18
  float v332; // [sp+420h] [bp-50h]@18
  float v333; // [sp+424h] [bp-4Ch]@18
  float v334; // [sp+428h] [bp-48h]@18
  float v335; // [sp+42Ch] [bp-44h]@18
  float v336; // [sp+430h] [bp-40h]@18
  float v337; // [sp+434h] [bp-3Ch]@18
  float v338; // [sp+438h] [bp-38h]@18
  float v339; // [sp+43Ch] [bp-34h]@18
  float v340; // [sp+440h] [bp-30h]@18
  float v341; // [sp+444h] [bp-2Ch]@18
  float v342; // [sp+448h] [bp-28h]@18
  float v343; // [sp+44Ch] [bp-24h]@18
  float v344; // [sp+450h] [bp-20h]@18
  int i; // [sp+454h] [bp-1Ch]@3
  int v346; // [sp+458h] [bp-18h]@3
  int v347; // [sp+45Ch] [bp-14h]@1
  int *v348; // [sp+460h] [bp-10h]@1
  int v349; // [sp+46Ch] [bp-4h]@1

  v27 = a2;
  v28 = this;
  v348 = &v122;
  v347 = this;
  v349 = 0;
  if ( GIsEditor && 8 * *(_DWORD *)(a2 + 104) <= 0 )
    goto LABEL_25;
  *(_DWORD *)(this + 40912) |= 1u;
  v312 = 0;
  sub_10003C30(&v125);
  sub_10031703(&v130, 0, *(_DWORD *)(v28 + 39948) + 108);
  v169 = (unsigned int)dword_1006F9A0;
  v172 = dword_1006F9A0;
  v176 = dword_1006F9A0;
  v180 = dword_1006F9A0;
  v188 = dword_1006F9A0;
  v207 = dword_1006F9A0;
  v150 = 0;
  v151 = 0;
  v152 = 0;
  v153 = 0;
  v154 = 0;
  v155 = 0;
  v156 = 0;
  v157 = 0;
  v158 = 0;
  v159 = 0;
  v160 = 0;
  v161 = 0;
  v162 = 0;
  v163 = 0;
  v164 = 0;
  v165 = 0;
  v166 = 0;
  v167 = 0;
  v168 = 0;
  v170 = 0;
  v171 = 0;
  v173 = 0;
  v174 = 0;
  v175 = 0;
  v177 = 0;
  v178 = 0;
  v179 = 0;
  v181 = 0;
  v182 = 0;
  v183 = 0;
  v184 = 0;
  v185 = 0;
  v186 = 0;
  v187 = 0;
  LODWORD(v189) = 0;
  v190 = 0;
  v191 = 0;
  v192 = 0;
  v193 = 0;
  v194 = 0;
  v195 = 0;
  v196 = 0;
  v197 = 0;
  v198 = 0;
  v199 = 0;
  v200 = 0;
  v201 = 0;
  v202 = 0;
  v203 = 0;
  v204 = 0;
  v205 = 0;
  v206 = dword_1006FA5C;
  v208 = dword_1006FF08;
  v209 = 0;
  v210 = 0;
  v211 = 0;
  v212 = 0;
  v29 = *(_DWORD *)(v27 + 108);
  v30 = 8 * *(_DWORD *)(v27 + 104) >> 3;
  v213 = 0;
  v214 = 0;
  v215 = 0;
  v216 = 0;
  v217 = 0;
  v218 = 0;
  v219 = 0;
  v220 = 0;
  v221 = 0;
  v222 = 0;
  v223 = 0;
  v224 = 0;
  v225 = 0;
  v226 = 0;
  v227 = 0;
  v228 = 0;
  v229 = 0;
  v230 = 0;
  v231 = 0;
  v232 = 0;
  v233 = 0;
  v234 = 0;
  v235 = 0;
  v236 = 0;
  v237 = 0;
  v238 = 0;
  v239 = 0;
  v240 = 0;
  v241 = 0;
  v242 = 0;
  v243 = 0;
  v244 = 0;
  v245 = 0;
  v246 = 0;
  v247 = 0;
  v248 = 0;
  v249 = 0;
  v250 = 0;
  v251 = 0;
  v252 = 0;
  v253 = 0;
  v254 = 0;
  v255 = 0;
  v256 = 0;
  v257 = 0;
  v258 = 0;
  v259 = 0;
  v260 = 0;
  v261 = 0;
  v262 = 0;
  v263 = 0;
  v264 = 0;
  v265 = 0;
  v266 = 0;
  v267 = 0;
  v268 = 0;
  v269 = 0;
  v270 = 0;
  v271 = 0;
  v272 = 0;
  LODWORD(v273) = 0;
  v274 = 0;
  v275 = 0;
  v276 = 0;
  v277 = 0;
  v278 = 0;
  v279 = 0;
  v280 = 0;
  v281 = 0;
  v282 = 0;
  v283 = 0;
  v284 = 0;
  v285 = 0;
  v286 = 0;
  v287 = 0;
  v288 = 0;
  v31 = v30 - v29 - 1;
  v32 = 0;
  v346 = *(_DWORD *)(*(_DWORD *)(v28 + 39948) + 772);
  v33 = *(_DWORD *)v28;
  v311 = v31;
  (*(void (__thiscall **)(int, int))(v33 + 128))(v28, (v31 + 1) / 4 + 1);
  v34 = v31 + 1;
  for ( i = v31 + 1; ; v34 = i )
  {
    v35 = a2;
    if ( v34 >= 8 * *(_DWORD *)(a2 + 104) >> 3 )
      break;
    if ( v32 >= 4 )
      break;
    v36 = *(_DWORD *)(a2 + 100) + 100 * v34;
    sub_10003C30(&v132);
    v37 = sub_10008040(*(_DWORD *)v36, v347, v26, (int)&v132, 0);
    if ( v37 )
    {
      v38 = 112 * v32 + v346 + 36;
      sub_100044B0(v347, 112 * v32 + v346 + 36, v37);
      v39 = *(_DWORD *)(v347 + 4) + 60884;
      v310 = 16 * v32;
      v309 = (int)(&v150 + 4 * v32);
      sub_10030AD1(&v150 + 4 * v32, v36 + 68, v39);
      sub_1003074E(v309, v309);
      sub_10030A08((char *)&v166 + v310, v36 + 80, *(_DWORD *)(v347 + 4) + 60884);
      v40 = (unsigned int)dword_1006F9A0;
      if ( !(*(_BYTE *)(v36 + 96) & 1) )
        v40 = 0;
      *(&v181 + v32) = v40;
      *((float *)&v185 + v32) = *(float *)(v36 + 92) * *(float *)(v36 + 92);
      sub_100311D1(&v131, &v130, v36 + 4);
      sub_1003141A(&v329);
      sub_100311D1(&v209 + 16 * v32, &v329, &v133);
      *(_DWORD *)(v38 + 20) = *(_DWORD *)(v38 + 20) & 0xFFFFFF00 | 0x100;
      *(_DWORD *)(v38 + 16) = *(_DWORD *)(v38 + 16) ^ (*(_DWORD *)(v38 + 16) ^ (v32 << 7)) & 0x1FFFF80 | 0x40;
      v31 = v311;
      ++v32;
    }
    v28 = v347;
    ++v31;
    --*(_DWORD *)(a2 + 108);
    v311 = v31;
    ++i;
  }
  *(_BYTE *)(v346 + 9) = v32;
  switch ( *(_BYTE *)(v35 + 116) )
  {
    case 3:
      v41 = *(_DWORD *)(v35 + 4 * v32 + 120);
      break;
    case 2:
      v41 = *(_DWORD *)(v35 + 4 * v32 + 136);
      break;
    case 1:
    case 4:
      v41 = *(_DWORD *)(v35 + 4 * v32 + 152);
      break;
    default:
      goto LABEL_25;
  }
  if ( !v41 )
  {
LABEL_25:
    result = 0;
  }
  else
  {
    if ( sub_1001FFF0((void *)v28, *(_DWORD *)(v41 + 2356), 0, 0) )
    {
      v43 = sub_1001B2D0((void *)v28, *(_DWORD *)(v41 + 2360));
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v28 + 39948) + 772) + 936) = v43;
      v44 = sub_1002AEF0(v43);
      sub_10028270((void *)(*(_DWORD *)(v28 + 4) + 59376), v44);
      v45 = *(_DWORD *)(v28 + 39948);
      v46 = *(float *)(v45 + 128) * *(float *)(v45 + 48);
      v313 = (float)((float)((float)(*(float *)(v45 + 108) * *(float *)(v45 + 44))
                           + (float)(*(float *)(v45 + 52) * *(float *)(v45 + 140)))
                   + (float)(*(float *)(v45 + 48) * *(float *)(v45 + 124)))
           + (float)(*(float *)(v45 + 56) * *(float *)(v45 + 156));
      v47 = (float)((float)((float)(*(float *)(v45 + 160) * *(float *)(v45 + 56)) + v46)
                  + (float)(*(float *)(v45 + 144) * *(float *)(v45 + 52)))
          + (float)(*(float *)(v45 + 112) * *(float *)(v45 + 44));
      v48 = *(float *)(v45 + 116) * *(float *)(v45 + 44);
      v314 = v47;
      v49 = (float)((float)((float)(*(float *)(v45 + 148) * *(float *)(v45 + 52)) + v48)
                  + (float)(*(float *)(v45 + 56) * *(float *)(v45 + 164)))
          + (float)(*(float *)(v45 + 132) * *(float *)(v45 + 48));
      v50 = *(float *)(v45 + 120) * *(float *)(v45 + 44);
      v315 = v49;
      v51 = (float)((float)((float)(*(float *)(v45 + 136) * *(float *)(v45 + 48)) + v50)
                  + (float)(*(float *)(v45 + 56) * *(float *)(v45 + 168)))
          + (float)(*(float *)(v45 + 52) * *(float *)(v45 + 152));
      v52 = *(float *)(v45 + 72) * *(float *)(v45 + 156);
      v316 = v51;
      v53 = (float)((float)((float)(*(float *)(v45 + 68) * *(float *)(v45 + 140)) + v52)
                  + (float)(*(float *)(v45 + 108) * *(float *)(v45 + 60)))
          + (float)(*(float *)(v45 + 124) * *(float *)(v45 + 64));
      v54 = *(float *)(v45 + 72) * *(float *)(v45 + 160);
      v317 = v53;
      v318 = (float)((float)((float)(*(float *)(v45 + 128) * *(float *)(v45 + 64)) + v54)
                   + (float)(*(float *)(v45 + 68) * *(float *)(v45 + 144)))
           + (float)(*(float *)(v45 + 60) * *(float *)(v45 + 112));
      v55 = *(float *)(v45 + 68) * *(float *)(v45 + 152);
      v319 = (float)((float)((float)(*(float *)(v45 + 132) * *(float *)(v45 + 64))
                           + (float)(*(float *)(v45 + 72) * *(float *)(v45 + 164)))
                   + (float)(*(float *)(v45 + 68) * *(float *)(v45 + 148)))
           + (float)(*(float *)(v45 + 116) * *(float *)(v45 + 60));
      v56 = (float)((float)((float)(*(float *)(v45 + 72) * *(float *)(v45 + 168)) + v55)
                  + (float)(*(float *)(v45 + 136) * *(float *)(v45 + 64)))
          + (float)(*(float *)(v45 + 120) * *(float *)(v45 + 60));
      v57 = *(float *)(v45 + 88) * *(float *)(v45 + 156);
      v320 = v56;
      v58 = (float)((float)((float)(*(float *)(v45 + 84) * *(float *)(v45 + 140)) + v57)
                  + (float)(*(float *)(v45 + 108) * *(float *)(v45 + 76)))
          + (float)(*(float *)(v45 + 124) * *(float *)(v45 + 80));
      v59 = *(float *)(v45 + 88) * *(float *)(v45 + 160);
      v321 = v58;
      v60 = (float)((float)((float)(*(float *)(v45 + 128) * *(float *)(v45 + 80)) + v59)
                  + (float)(*(float *)(v45 + 84) * *(float *)(v45 + 144)))
          + (float)(*(float *)(v45 + 76) * *(float *)(v45 + 112));
      v61 = *(float *)(v45 + 88) * *(float *)(v45 + 164);
      v322 = v60;
      v62 = (float)((float)((float)(*(float *)(v45 + 132) * *(float *)(v45 + 80)) + v61)
                  + (float)(*(float *)(v45 + 84) * *(float *)(v45 + 148)))
          + (float)(*(float *)(v45 + 116) * *(float *)(v45 + 76));
      v63 = *(float *)(v45 + 84) * *(float *)(v45 + 152);
      v323 = v62;
      v64 = (float)((float)((float)(*(float *)(v45 + 88) * *(float *)(v45 + 168)) + v63)
                  + (float)(*(float *)(v45 + 136) * *(float *)(v45 + 80)))
          + (float)(*(float *)(v45 + 120) * *(float *)(v45 + 76));
      v65 = *(float *)(v45 + 104) * *(float *)(v45 + 156);
      v324 = v64;
      v66 = (float)((float)((float)(*(float *)(v45 + 100) * *(float *)(v45 + 140)) + v65)
                  + (float)(*(float *)(v45 + 108) * *(float *)(v45 + 92)))
          + (float)(*(float *)(v45 + 124) * *(float *)(v45 + 96));
      v67 = *(float *)(v45 + 104) * *(float *)(v45 + 160);
      v325 = v66;
      v68 = (float)((float)((float)(*(float *)(v45 + 128) * *(float *)(v45 + 96)) + v67)
                  + (float)(*(float *)(v45 + 100) * *(float *)(v45 + 144)))
          + (float)(*(float *)(v45 + 92) * *(float *)(v45 + 112));
      v69 = *(float *)(v45 + 104) * *(float *)(v45 + 164);
      v326 = v68;
      v70 = (float)((float)((float)(*(float *)(v45 + 132) * *(float *)(v45 + 96)) + v69)
                  + (float)(*(float *)(v45 + 100) * *(float *)(v45 + 148)))
          + (float)(*(float *)(v45 + 116) * *(float *)(v45 + 92));
      v71 = *(float *)(v45 + 100) * *(float *)(v45 + 152);
      v327 = v70;
      v72 = (float)((float)((float)(*(float *)(v45 + 104) * *(float *)(v45 + 168)) + v71)
                  + (float)(*(float *)(v45 + 136) * *(float *)(v45 + 96)))
          + (float)(*(float *)(v45 + 120) * *(float *)(v45 + 92));
      v73 = *(float *)(v45 + 52) * *(float *)(v45 + 140);
      v328 = v72;
      v74 = (float)((float)((float)(*(float *)(v45 + 156) * *(float *)(v45 + 56)) + v73)
                  + (float)(*(float *)(v45 + 48) * *(float *)(v45 + 124)))
          + (float)(*(float *)(v45 + 44) * *(float *)(v45 + 108));
      v75 = *(float *)(v45 + 112) * *(float *)(v45 + 44);
      memcpy(&v289, &v313, 0x40u);
      v313 = v74;
      v76 = (float)((float)((float)(*(float *)(v45 + 52) * *(float *)(v45 + 144)) + v75)
                  + (float)(*(float *)(v45 + 48) * *(float *)(v45 + 128)))
          + (float)(*(float *)(v45 + 160) * *(float *)(v45 + 56));
      v77 = *(float *)(v45 + 48) * *(float *)(v45 + 132);
      v314 = v76;
      v315 = (float)((float)((float)(*(float *)(v45 + 164) * *(float *)(v45 + 56)) + v77)
                   + (float)(*(float *)(v45 + 148) * *(float *)(v45 + 52)))
           + (float)(*(float *)(v45 + 44) * *(float *)(v45 + 116));
      v78 = *(float *)(v45 + 124) * *(float *)(v45 + 64);
      v316 = (float)((float)((float)(*(float *)(v45 + 52) * *(float *)(v45 + 152))
                           + (float)(*(float *)(v45 + 168) * *(float *)(v45 + 56)))
                   + (float)(*(float *)(v45 + 44) * *(float *)(v45 + 120)))
           + (float)(*(float *)(v45 + 136) * *(float *)(v45 + 48));
      v79 = (float)((float)((float)(*(float *)(v45 + 60) * *(float *)(v45 + 108)) + v78)
                  + (float)(*(float *)(v45 + 156) * *(float *)(v45 + 72)))
          + (float)(*(float *)(v45 + 140) * *(float *)(v45 + 68));
      v80 = *(float *)(v45 + 72) * *(float *)(v45 + 160);
      v317 = v79;
      v81 = (float)((float)((float)(*(float *)(v45 + 60) * *(float *)(v45 + 112)) + v80)
                  + (float)(*(float *)(v45 + 68) * *(float *)(v45 + 144)))
          + (float)(*(float *)(v45 + 64) * *(float *)(v45 + 128));
      v82 = *(float *)(v45 + 60) * *(float *)(v45 + 116);
      v318 = v81;
      v83 = (float)((float)((float)(*(float *)(v45 + 64) * *(float *)(v45 + 132)) + v82)
                  + (float)(*(float *)(v45 + 164) * *(float *)(v45 + 72)))
          + (float)(*(float *)(v45 + 148) * *(float *)(v45 + 68));
      v84 = *(float *)(v45 + 60) * *(float *)(v45 + 120);
      v319 = v83;
      v85 = (float)((float)((float)(*(float *)(v45 + 136) * *(float *)(v45 + 64)) + v84)
                  + (float)(*(float *)(v45 + 168) * *(float *)(v45 + 72)))
          + (float)(*(float *)(v45 + 152) * *(float *)(v45 + 68));
      v86 = *(float *)(v45 + 124) * *(float *)(v45 + 80);
      v320 = v85;
      v87 = (float)((float)((float)(*(float *)(v45 + 76) * *(float *)(v45 + 108)) + v86)
                  + (float)(*(float *)(v45 + 156) * *(float *)(v45 + 88)))
          + (float)(*(float *)(v45 + 140) * *(float *)(v45 + 84));
      v88 = *(float *)(v45 + 88) * *(float *)(v45 + 160);
      v321 = v87;
      v89 = (float)((float)((float)(*(float *)(v45 + 76) * *(float *)(v45 + 112)) + v88)
                  + (float)(*(float *)(v45 + 84) * *(float *)(v45 + 144)))
          + (float)(*(float *)(v45 + 80) * *(float *)(v45 + 128));
      v90 = *(float *)(v45 + 76) * *(float *)(v45 + 116);
      v322 = v89;
      v91 = (float)((float)((float)(*(float *)(v45 + 80) * *(float *)(v45 + 132)) + v90)
                  + (float)(*(float *)(v45 + 164) * *(float *)(v45 + 88)))
          + (float)(*(float *)(v45 + 148) * *(float *)(v45 + 84));
      v92 = *(float *)(v45 + 76) * *(float *)(v45 + 120);
      v323 = v91;
      v93 = (float)((float)((float)(*(float *)(v45 + 136) * *(float *)(v45 + 80)) + v92)
                  + (float)(*(float *)(v45 + 168) * *(float *)(v45 + 88)))
          + (float)(*(float *)(v45 + 152) * *(float *)(v45 + 84));
      v94 = *(float *)(v45 + 124) * *(float *)(v45 + 96);
      v324 = v93;
      v95 = (float)((float)((float)(*(float *)(v45 + 92) * *(float *)(v45 + 108)) + v94)
                  + (float)(*(float *)(v45 + 156) * *(float *)(v45 + 104)))
          + (float)(*(float *)(v45 + 140) * *(float *)(v45 + 100));
      v96 = *(float *)(v45 + 104) * *(float *)(v45 + 160);
      v325 = v95;
      v97 = (float)((float)((float)(*(float *)(v45 + 92) * *(float *)(v45 + 112)) + v96)
                  + (float)(*(float *)(v45 + 100) * *(float *)(v45 + 144)))
          + (float)(*(float *)(v45 + 96) * *(float *)(v45 + 128));
      v98 = *(float *)(v45 + 92) * *(float *)(v45 + 116);
      v326 = v97;
      v99 = (float)((float)((float)(*(float *)(v45 + 96) * *(float *)(v45 + 132)) + v98)
                  + (float)(*(float *)(v45 + 164) * *(float *)(v45 + 104)))
          + (float)(*(float *)(v45 + 148) * *(float *)(v45 + 100));
      v100 = *(float *)(v45 + 92) * *(float *)(v45 + 120);
      v327 = v99;
      v328 = (float)((float)((float)(*(float *)(v45 + 136) * *(float *)(v45 + 96)) + v100)
                   + (float)(*(float *)(v45 + 168) * *(float *)(v45 + 104)))
           + (float)(*(float *)(v45 + 152) * *(float *)(v45 + 100));
      v101 = *(_DWORD *)(v45 + 220);
      v102 = *(_DWORD *)(v45 + 188);
      memcpy(&v134, &v313, 0x40u);
      v103 = *(_DWORD *)(v45 + 224);
      v329 = (float)((float)((float)(*(float *)&v101 * v137) + (float)(*(float *)&v102 * v135))
                   + (float)(*(float *)(v45 + 204) * v136))
           + (float)(v134 * *(float *)(v45 + 172));
      *(float *)&v101 = (float)((float)((float)(v134 * *(float *)(v45 + 176)) + (float)(*(float *)&v103 * v137))
                              + (float)(v135 * *(float *)(v45 + 192)))
                      + (float)(v136 * *(float *)(v45 + 208));
      v104 = *(_DWORD *)(v45 + 212);
      LODWORD(v330) = v101;
      *(float *)&v102 = v134 * *(float *)(v45 + 184);
      v331 = (float)((float)((float)(*(float *)(v45 + 196) * v135) + (float)(*(float *)&v104 * v136))
                   + (float)(v134 * *(float *)(v45 + 180)))
           + (float)(v137 * *(float *)(v45 + 228));
      v105 = *(_DWORD *)(v45 + 172);
      *(float *)&v101 = (float)((float)((float)(*(float *)(v45 + 232) * v137) + *(float *)&v102)
                              + (float)(*(float *)(v45 + 200) * v135))
                      + (float)(*(float *)(v45 + 216) * v136);
      v106 = *(_DWORD *)(v45 + 188);
      LODWORD(v332) = v101;
      *(float *)&v101 = (float)((float)((float)(*(float *)(v45 + 220) * v141) + (float)(*(float *)&v106 * v139))
                              + (float)(*(float *)(v45 + 204) * v140))
                      + (float)(*(float *)&v105 * v138);
      v107 = *(_DWORD *)(v45 + 224);
      LODWORD(v333) = v101;
      v334 = (float)((float)((float)(*(float *)(v45 + 176) * v138) + (float)(*(float *)&v107 * v141))
                   + (float)(v139 * *(float *)(v45 + 192)))
           + (float)(v140 * *(float *)(v45 + 208));
      *(float *)&v106 = v138 * *(float *)(v45 + 184);
      v335 = (float)((float)((float)(*(float *)(v45 + 196) * v139) + (float)(*(float *)(v45 + 212) * v140))
                   + (float)(*(float *)(v45 + 180) * v138))
           + (float)(v141 * *(float *)(v45 + 228));
      v108 = *(_DWORD *)(v45 + 172);
      *(float *)&v101 = (float)((float)((float)(*(float *)(v45 + 232) * v141) + (float)(*(float *)(v45 + 200) * v139))
                              + (float)(*(float *)(v45 + 216) * v140))
                      + *(float *)&v106;
      v109 = *(_DWORD *)(v45 + 188);
      LODWORD(v336) = v101;
      *(float *)&v101 = (float)((float)((float)(*(float *)(v45 + 220) * v145) + (float)(*(float *)&v109 * v143))
                              + (float)(*(float *)(v45 + 204) * v144))
                      + (float)(*(float *)&v108 * v142);
      v110 = *(_DWORD *)(v45 + 224);
      LODWORD(v337) = v101;
      *(float *)&v101 = (float)((float)((float)(*(float *)(v45 + 176) * v142) + (float)(*(float *)&v110 * v145))
                              + (float)(v143 * *(float *)(v45 + 192)))
                      + (float)(v144 * *(float *)(v45 + 208));
      v111 = *(_DWORD *)(v45 + 212);
      LODWORD(v338) = v101;
      *(float *)&v109 = v142 * *(float *)(v45 + 184);
      v339 = (float)((float)((float)(*(float *)(v45 + 196) * v143) + (float)(*(float *)&v111 * v144))
                   + (float)(*(float *)(v45 + 180) * v142))
           + (float)(v145 * *(float *)(v45 + 228));
      *(float *)&v101 = (float)((float)((float)(*(float *)(v45 + 232) * v145) + (float)(*(float *)(v45 + 200) * v143))
                              + (float)(*(float *)(v45 + 216) * v144))
                      + *(float *)&v109;
      v112 = *(_DWORD *)(v45 + 188);
      LODWORD(v340) = v101;
      v113 = *(_DWORD *)(v45 + 224);
      v341 = (float)((float)((float)(*(float *)(v45 + 220) * v149) + (float)(*(float *)&v112 * v147))
                   + (float)(*(float *)(v45 + 204) * v148))
           + (float)(*(float *)(v45 + 172) * v146);
      *(float *)&v101 = (float)((float)((float)(*(float *)(v45 + 176) * v146) + (float)(*(float *)&v113 * v149))
                              + (float)(v147 * *(float *)(v45 + 192)))
                      + (float)(v148 * *(float *)(v45 + 208));
      v114 = *(_DWORD *)(v45 + 212);
      LODWORD(v342) = v101;
      *(float *)&v112 = v146 * *(float *)(v45 + 184);
      v343 = (float)((float)((float)(*(float *)(v45 + 196) * v147) + (float)(*(float *)&v114 * v148))
                   + (float)(*(float *)(v45 + 180) * v146))
           + (float)(v149 * *(float *)(v45 + 228));
      v344 = (float)((float)((float)(*(float *)(v45 + 232) * v149) + (float)(*(float *)(v45 + 200) * v147))
                   + (float)(*(float *)(v45 + 216) * v148))
           + *(float *)&v112;
      memcpy(&v313, &v329, 0x40u);
      v329 = v289;
      v330 = v293;
      v331 = v297;
      v332 = v301;
      v333 = v290;
      v334 = v294;
      v335 = v298;
      v336 = v302;
      v337 = v291;
      v338 = v295;
      v339 = v299;
      v340 = v303;
      v341 = v292;
      v342 = v296;
      v343 = v300;
      v344 = v304;
      memcpy(&v289, &v329, 0x40u);
      v329 = v313;
      v330 = v317;
      v331 = v321;
      v332 = v325;
      v333 = v314;
      v334 = v318;
      v335 = v322;
      v336 = v326;
      v337 = v315;
      v338 = v319;
      v339 = v323;
      v340 = v327;
      v341 = v316;
      v342 = v320;
      memcpy(&v273, &v289, 0x40u);
      v343 = v324;
      v344 = v328;
      memcpy(&v313, &v329, 0x40u);
      memcpy(&v189, &v313, 0x40u);
      v115 = v347;
      (*(void (__stdcall **)(_DWORD, _DWORD, int *, signed int))(**(_DWORD **)(*(_DWORD *)(v347 + 4) + 18100) + 316))(
        *(_DWORD *)(*(_DWORD *)(v347 + 4) + 18100),
        0,
        &v150,
        35);
      v116 = v346;
      v117 = a2;
      v118 = *(_DWORD *)(v346 + 4) & 0xFFFFFFCF | 32 * (v312 & 1) | 7;
      *(_DWORD *)(v346 + 4) = v118;
      *(_BYTE *)(v116 + 8) = 0;
      switch ( *(_BYTE *)(v117 + 116) )
      {
        case 3:
          *(_DWORD *)(v116 + 20) = 2;
          *(_DWORD *)(v116 + 24) = 2;
          *(_DWORD *)(v116 + 4) = v118 | 0x40;
          *(_DWORD *)(v116 + 28) = *(_DWORD *)FColor::FColor(
                                                &a2,
                                                0,
                                                0,
                                                0,
                                                0,
                                                v122,
                                                v123,
                                                v124,
                                                *(_DWORD *)&v125,
                                                v126,
                                                v127,
                                                v128,
                                                v129);
          break;
        case 2:
          *(_DWORD *)(v116 + 20) = 5;
          *(_DWORD *)(v116 + 24) = 6;
          *(_DWORD *)(v116 + 4) = v118 | 0x40;
          *(_DWORD *)(v116 + 28) = *(_DWORD *)FColor::FColor(
                                                &a25,
                                                0,
                                                0,
                                                0,
                                                0,
                                                v122,
                                                v123,
                                                v124,
                                                *(_DWORD *)&v125,
                                                v126,
                                                v127,
                                                v128,
                                                v129);
          break;
        case 1:
        case 4:
          *(_DWORD *)(v116 + 20) = 9;
          *(_DWORD *)(v116 + 24) = 3;
          *(_DWORD *)(v116 + 4) = v118 | 0x40;
          v119 = FColor::FColor(&v312, 127, 127, 127, 0, v122, v123, v124, *(_DWORD *)&v125, v126, v127, v128, v129);
          v120 = (unsigned int)dword_1006FFB0;
          *(_DWORD *)(v116 + 28) = *(_DWORD *)v119;
          v121 = *(_DWORD *)(v115 + 4);
          v305 = v120;
          v306 = v120;
          v307 = v120;
          v308 = 0;
          (*(void (__stdcall **)(_DWORD, _DWORD, int *, signed int))(**(_DWORD **)(v121 + 18100) + 364))(
            *(_DWORD *)(v121 + 18100),
            0,
            &v305,
            1);
          break;
        default:
          if ( a25 )
            FString::operator_("Invalid FrameBufferBlending mode");
          goto LABEL_25;
      }
      *(_BYTE *)(*(_DWORD *)(v115 + 39948) + 804) = 1;
      result = 1;
    }
    else
    {
      result = -1;
    }
  }
  return result;
}
// 1003074E: using guessed type int __stdcall sub_1003074E(_DWORD, _DWORD);
// 10030A08: using guessed type int __stdcall sub_10030A08(_DWORD, _DWORD, _DWORD);
// 10030AD1: using guessed type int __stdcall sub_10030AD1(_DWORD, _DWORD, _DWORD);
// 100311D1: using guessed type int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD);
// 1003141A: using guessed type int __stdcall sub_1003141A(_DWORD);
// 10031703: using guessed type int __stdcall sub_10031703(_DWORD, _DWORD, _DWORD);
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1006F0C8: using guessed type int GIsEditor;
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F9A0: using guessed type int dword_1006F9A0;
// 1006FA5C: using guessed type int dword_1006FA5C;
// 1006FF08: using guessed type int dword_1006FF08;
// 1006FFB0: using guessed type int dword_1006FFB0;

//----- (1000DB77) --------------------------------------------------------
void __usercall sub_1000DB77(int a1<ebp>)
{
  *(_DWORD *)(a1 - 168) = *(_DWORD *)(a1 - 820);
  CxxThrowException(a1 - 168, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1000DB94) --------------------------------------------------------
void __cdecl sub_1000DB94()
{
  appUnwindf("%s", off_100800A8[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800A8: using guessed type char *off_100800A8[60];

//----- (1000DBE0) --------------------------------------------------------
signed int __thiscall sub_1000DBE0(void *this, int a2, int a3)
{
  int v3; // ebp@1
  int v4; // edi@1
  signed int result; // eax@2
  int v6; // eax@3
  int v7; // eax@3
  int v8; // ebx@6
  int v9; // ebx@9
  int v10; // ebx@12
  int v11; // eax@14
  int v12; // ebp@14
  int v13; // esi@14
  int v14; // eax@15
  int v15; // ecx@18
  __int128 v16; // xmm0@18
  int v18; // [sp+20h] [bp-8Ch]@12
  int v19; // [sp+24h] [bp-88h]@12
  signed int v20; // [sp+28h] [bp-84h]@11
  int v21; // [sp+2Ch] [bp-80h]@11
  char v22; // [sp+48h] [bp-64h]@14
  int v23; // [sp+A8h] [bp-4h]@4

  v3 = a3;
  v4 = (int)this;
  if ( sub_1001FFF0(this, *(_DWORD *)(a2 + 2356), a3, 0) )
  {
    v6 = sub_1001B2D0((void *)v4, *(_DWORD *)(a2 + 2360));
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 4 * a3 + 772) + 936) = v6;
    v7 = sub_1002AEF0(v6);
    sub_10028270((void *)(*(_DWORD *)(v4 + 4) + 59376), v7);
    if ( !(dword_10084448 & 1) )
    {
      dword_10084448 |= 1u;
      sub_10001650((int)&unk_10083E48, 16, 96, (int (__thiscall *)(_DWORD))FPlane::FPlane);
      v23 = -1;
    }
    if ( *(_DWORD *)(a2 + 2368) )
    {
      sub_1001C130((void *)v4, (int)&unk_10083E48, a2 + 2060, a2 + 2368);
      v8 = *(_DWORD *)(a2 + 2368);
      if ( v8 > 0 )
        (*(void (__stdcall **)(_DWORD, _DWORD, _UNKNOWN *, int))(**(_DWORD **)(*(_DWORD *)(v4 + 4) + 18100) + 364))(
          *(_DWORD *)(*(_DWORD *)(v4 + 4) + 18100),
          0,
          &unk_10083E48,
          v8);
    }
    if ( *(_DWORD *)(a2 + 2364) )
    {
      sub_1001C130((void *)v4, (int)&unk_10083E48, a2 + 140, a2 + 2364);
      v9 = *(_DWORD *)(a2 + 2364);
      if ( v9 > 0 )
        (*(void (__stdcall **)(_DWORD, _DWORD, _UNKNOWN *, int))(**(_DWORD **)(*(_DWORD *)(v4 + 4) + 18100) + 316))(
          *(_DWORD *)(*(_DWORD *)(v4 + 4) + 18100),
          0,
          &unk_10083E48,
          v9);
    }
    v20 = 0;
    v21 = 0;
    if ( *(_DWORD *)(*(_DWORD *)(v4 + 4) + 16876) )
    {
      v10 = a2 + 2252;
      v19 = 0;
      v18 = a2 + 2220;
      while ( 1 )
      {
        v11 = *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 4 * v3 + 772);
        v12 = *(_DWORD *)v18;
        v13 = v11 + v19 + 36;
        sub_10003C30(&v22);
        if ( !v12 )
          break;
        v14 = sub_10008040(v12, v4, v12, (int)&v22, 0);
        if ( !v14 )
          break;
        sub_100044B0(v4, v13, v14);
        if ( v22 & 1 )
          sub_10005670(v4, v13, (int)&v22);
        ++v20;
        v15 = v21;
        *(_DWORD *)(v13 + 16) ^= (*(_DWORD *)(v13 + 16) ^ (v21 << 7)) & 0x1FFFF80;
        v16 = *(_DWORD *)v10;
        __asm { lahf }
        if ( __SETP__(_AH & 0x44, 0) )
        {
          *(_DWORD *)(v13 + 8) = *(_DWORD *)(v13 + 8) & 0xFFFF7FFF | 0x17000;
          *(_DWORD *)(v13 + 88) = v16;
          *(_DWORD *)(v13 + 92) = 0;
          *(_DWORD *)(v13 + 96) = 0;
          *(_DWORD *)(v13 + 100) = v16;
          *(_DWORD *)(v13 + 108) = *(_DWORD *)(v10 + 4);
          *(_DWORD *)(v13 + 104) = *(_DWORD *)(v10 + 8);
        }
        else
        {
          *(_DWORD *)(v13 + 8) = *(_DWORD *)(v13 + 8) & 0xFFFE2FFF | 0x2000;
        }
        v18 += 4;
        v10 += 12;
        ++v21;
        v19 += 112;
        if ( (unsigned int)(v15 + 1) >= *(_DWORD *)(*(_DWORD *)(v4 + 4) + 16876) )
          break;
        v3 = a3;
      }
    }
    result = v20;
  }
  else
  {
    result = -1;
  }
  return result;
}
// 1006F0CC: using guessed type void *FPlane__FPlane;
// 10084448: using guessed type int dword_10084448;

//----- (1000DF10) --------------------------------------------------------
void *__thiscall sub_1000DF10(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  FRenderResource::_FRenderResource(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);
// 1006F014: using guessed type void *GMalloc;

//----- (1000DF40) --------------------------------------------------------
void *__thiscall sub_1000DF40(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_1000C330(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(void *))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1000DF70) --------------------------------------------------------
int __thiscall sub_1000DF70(int this, int a2, float a3, int a4, int a5)
{
  int v5; // ebp@0
  int v6; // edi@1
  int v7; // ebx@1
  int v8; // eax@1
  int v9; // edx@1
  float v10; // eax@1
  int v11; // esi@1
  int v12; // eax@2
  int i; // ecx@2
  int v14; // esi@9
  int v15; // eax@10
  int j; // ecx@10
  int v17; // eax@15
  int v18; // esi@17
  int v19; // edx@21
  int v20; // eax@21
  int v21; // ecx@21
  int v22; // eax@23
  int v23; // eax@35
  int v24; // eax@35
  int v25; // eax@39
  int v26; // ecx@39
  int v27; // ST00_4@48
  int v28; // eax@51
  int v29; // esi@58
  int v30; // eax@62
  int v31; // ecx@62
  int v32; // eax@63
  int v33; // ecx@63
  int v34; // eax@69
  int v35; // edx@70
  int v36; // eax@74
  int v37; // esi@75
  int v38; // edx@75
  int v39; // eax@78
  int v40; // eax@79
  int v41; // ecx@79
  int v42; // ecx@87
  float v43; // edi@90
  int v44; // eax@91
  int v45; // edx@91
  int v46; // eax@91
  int v47; // eax@94
  int v49; // eax@104
  int v50; // eax@110
  unsigned int v51; // esi@110
  int v52; // eax@110
  int v53; // eax@111
  const void *v54; // esi@116
  int v55; // edi@119
  int v56; // esi@119
  int v57; // esi@123
  int v58; // eax@123
  int v59; // edx@125
  int v60; // eax@125
  int v61; // eax@126
  int v62; // ecx@127
  bool v63; // zf@127
  int v64; // eax@127
  int v65; // ecx@128
  int v66; // eax@131
  int v67; // ecx@131
  int v68; // edx@136
  int v69; // eax@139
  int v70; // esi@141
  int v71; // edx@141
  int v72; // ecx@144
  int v73; // eax@145
  int v74; // ecx@145
  int v75; // eax@148
  int v76; // ecx@148
  int v77; // eax@154
  int v78; // eax@157
  int v79; // eax@158
  int v80; // ecx@158
  int v81; // eax@166
  int v82; // edi@166
  int v83; // esi@166
  int v84; // eax@166
  int v85; // eax@170
  int v86; // eax@173
  int v87; // ecx@173
  int v88; // edi@178
  int v89; // esi@182
  char v90; // al@182
  __int128 v91; // xmm1@182
  float v92; // xmm0_4@182
  float v94; // xmm0_4@183
  float v95; // xmm0_4@184
  __int128 v97; // xmm1@185
  float v98; // xmm0_4@185
  float v99; // xmm0_4@186
  __int128 v101; // xmm1@187
  float v102; // xmm0_4@187
  __int128 v103; // xmm0@188
  int v104; // eax@191
  int v105; // eax@198
  int v106; // ecx@198
  int v107; // ecx@209
  int v108; // ecx@209
  int v109; // eax@209
  int v110; // [sp-4h] [bp-194h]@44
  int v111; // [sp-4h] [bp-194h]@53
  int v112; // [sp-4h] [bp-194h]@96
  int v113; // [sp+0h] [bp-190h]@1
  int v114; // [sp+4h] [bp-18Ch]@35
  int v115; // [sp+8h] [bp-188h]@35
  int v116; // [sp+Ch] [bp-184h]@35
  int v117; // [sp+10h] [bp-180h]@35
  int v118; // [sp+14h] [bp-17Ch]@35
  int v119; // [sp+18h] [bp-178h]@35
  int v120; // [sp+1Ch] [bp-174h]@35
  int v121; // [sp+4Ch] [bp-144h]@26
  char v122; // [sp+64h] [bp-12Ch]@116
  char v123; // [sp+90h] [bp-100h]@26
  int v124; // [sp+A8h] [bp-E8h]@23
  char v125; // [sp+ACh] [bp-E4h]@123
  char v126; // [sp+ECh] [bp-A4h]@29
  char v127; // [sp+EDh] [bp-A3h]@29
  char v128; // [sp+104h] [bp-8Ch]@139
  char v129; // [sp+11Ch] [bp-74h]@153
  char v130; // [sp+12Ch] [bp-64h]@182
  float v131; // [sp+138h] [bp-58h]@182
  float v132; // [sp+13Ch] [bp-54h]@182
  float v133; // [sp+140h] [bp-50h]@182
  float v134; // [sp+144h] [bp-4Ch]@184
  float v135; // [sp+148h] [bp-48h]@184
  float v136; // [sp+14Ch] [bp-44h]@184
  float v137; // [sp+150h] [bp-40h]@186
  float v138; // [sp+154h] [bp-3Ch]@186
  float v139; // [sp+158h] [bp-38h]@186
  int v140; // [sp+15Ch] [bp-34h]@7
  int v141; // [sp+160h] [bp-30h]@1
  int v142; // [sp+164h] [bp-2Ch]@17
  float v143; // [sp+168h] [bp-28h]@1
  int v144; // [sp+16Ch] [bp-24h]@17
  int v145; // [sp+170h] [bp-20h]@1
  int v146; // [sp+174h] [bp-1Ch]@1
  int v147; // [sp+178h] [bp-18h]@1
  int v148; // [sp+17Ch] [bp-14h]@1
  int *v149; // [sp+180h] [bp-10h]@1
  int v150; // [sp+18Ch] [bp-4h]@1

  v6 = this;
  v7 = *(_DWORD *)(*(_DWORD *)(this + 39948) + 772);
  v8 = *(_DWORD *)(this + 4);
  v145 = 0;
  v148 = 0;
  v147 = 0;
  v9 = *(_DWORD *)(v8 + 16876);
  LODWORD(v10) = *(_DWORD *)(v8 + 16872);
  v141 = v9;
  v11 = *(_DWORD *)(a2 + 108);
  v149 = &v113;
  v146 = this;
  v150 = 0;
  v143 = v10;
  if ( v11 )
  {
    v12 = UShader::StaticClass();
    for ( i = *(_DWORD *)(v11 + 36); i; i = *(_DWORD *)(i + 48) )
    {
      if ( i == v12 )
        goto LABEL_7;
    }
    if ( !(v12 == 0) )
      goto LABEL_8;
LABEL_7:
    v140 = v11;
  }
  else
  {
LABEL_8:
    v140 = 0;
  }
  v14 = *(_DWORD *)(a2 + 108);
  if ( v14 )
  {
    v15 = UTexture::StaticClass();
    for ( j = *(_DWORD *)(v14 + 36); j; j = *(_DWORD *)(j + 48) )
    {
      if ( j == v15 )
        goto LABEL_15;
    }
    if ( !(v15 == 0) )
      goto LABEL_16;
LABEL_15:
    v17 = v14;
  }
  else
  {
LABEL_16:
    v17 = 0;
  }
  v18 = a2;
  v144 = *(_DWORD *)(a2 + 108);
  v142 = 0;
  if ( v17 && *(_DWORD *)(v17 + 172) & 3 )
  {
    v142 = v17;
  }
  else
  {
    if ( v140 )
    {
      v19 = *(_DWORD *)(v140 + 104);
      v20 = *(_DWORD *)(v140 + 188);
      v144 = *(_DWORD *)(v140 + 100);
      v21 = ((unsigned __int8)*(_DWORD *)(v7 + 4) ^ (unsigned __int8)(32 * v20)) & 0x20 ^ *(_DWORD *)(v7 + 4);
      v142 = v19;
      *(_DWORD *)(v7 + 4) = v21;
    }
  }
  if ( *(_BYTE *)(v18 + 244) & 0x20 )
  {
    sub_10003C30(&v124);
    v22 = sub_10008040(*(_DWORD *)(v18 + 104), v6, v5, (int)&v124, 0);
    v140 = v22;
    if ( v22 )
    {
      if ( *(_BYTE *)(v18 + 112) && v144 )
      {
        memcpy(&v121, LODWORD(a3), 0x58u);
        v121 |= 1u;
        v123 = 1;
        if ( !sub_1000A310(v146, v144, (int)&v145, (int)&v148, (int)&v147, &v121, 0, a4, a5, 0) )
          return 0;
        v22 = v140;
      }
      v18 = a2;
      if ( v148 >= v147 + v141 )
      {
        if ( !a4 )
          goto LABEL_46;
        v110 = (int)"No stages left for projected texture";
        goto LABEL_45;
      }
      v6 = v146;
      sub_100044B0(v146, 112 * v148 + v7 + 36, v22);
      v124 |= 9u;
      v127 = 1;
      v126 = 0;
      sub_10005670(v6, 112 * v148 + v7 + 36, (int)&v124);
      if ( *(_BYTE *)(v18 + 112) == 1 )
      {
        v25 = 112 * v148 + v7 + 44;
        v26 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE5FFF | 0x5000;
      }
      else
      {
        if ( *(_BYTE *)(v18 + 112) == 2 )
        {
          v25 = 112 * v148 + v7 + 44;
          v26 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFEDFFF | 0xD000;
        }
        else
        {
          if ( *(_BYTE *)(v18 + 112) != 4 )
          {
            switch ( *(_BYTE *)(v18 + 113) )
            {
              case 2:
                *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE3FFF | 0x3000;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0BF | 0x80;
                *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC9FFFF | 0x80000;
                v18 = a2;
                *(_DWORD *)(112 * v148 + v7 + 48) &= 0xFF03FFFFu;
                v6 = v146;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC2FFFFFF | 0x2000000;
                v24 = v148++ + 1;
                break;
              case 3:
                *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE4FFF | 0x4000;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE0 | 0x20;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0BF | 0x80;
                *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
                v6 = v146;
                v18 = a2;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC2FFFFFF | 0x2000000;
                v24 = v148++ + 1;
                break;
              case 4:
                *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE5FFF | 0x5000;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE0 | 0x20;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0BF | 0x80;
                *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
                v6 = v146;
                v18 = a2;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC2FFFFFF | 0x2000000;
                v24 = v148++ + 1;
                break;
              default:
                *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFECFFF | 0xC000;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0FF | 0xC0;
                *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
                v23 = FColor::FColor(&v144, 127, 127, 127, 0, v113, v114, v115, v116, v117, v118, v119, v120);
                *(_DWORD *)(v7 + 16) = FColor::operator unsigned_long(v23);
                v24 = v148++ + 1;
                break;
            }
LABEL_72:
            if ( !v142 )
            {
LABEL_84:
              if ( !*(_DWORD *)(*(_DWORD *)(v6 + 4) + 16648) )
              {
                v18 = a2;
                if ( *(_BYTE *)(a2 + 112) || !v140 )
                {
                  v42 = *(_DWORD *)(a2 + 244);
                  if ( v42 & 4 )
                  {
LABEL_90:
                    v43 = v143;
                    if ( v24 < SLODWORD(v143) )
                    {
                      v44 = 112 * v24;
                      v45 = *(_DWORD *)(v44 + v7 + 44);
                      v46 = v44 + v7 + 44;
                      if ( *(_BYTE *)(v18 + 113) == 2 )
                      {
                        *(_DWORD *)v46 = v45 & 0xFFFE3FFF | 0x3000;
                        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
                        *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC9FFFF | 0x80000;
                        *(_DWORD *)(112 * v148 + v7 + 48) &= 0xFF03FFFFu;
                        v49 = 112 * v148 + v7 + 48;
                      }
                      else
                      {
                        if ( *(_BYTE *)(v18 + 113) == 3 )
                        {
                          *(_DWORD *)v46 = v45 & 0xFFFE4FFF | 0x4000;
                          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE0 | 0x20;
                          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
                          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
                          v49 = 112 * v148 + v7 + 48;
                        }
                        else
                        {
                          if ( *(_BYTE *)(v18 + 113) != 4 )
                          {
                            *(_DWORD *)v46 = v45 & 0xFFFECFFF | 0xC000;
                            *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC1 | 1;
                            *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0FF | 0xC0;
                            *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
                            *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF07FFFF | 0x40000;
                            v47 = FColor::FColor(&a4, 127, 127, 127, 0, v113, v114, v115, v116, v117, v118, v119, v120);
                            *(_DWORD *)(v7 + 16) = FColor::operator unsigned_long(v47);
                            goto LABEL_108;
                          }
                          *(_DWORD *)v46 = v45 & 0xFFFE5FFF | 0x5000;
                          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE0 | 0x20;
                          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
                          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
                          v49 = 112 * v148 + v7 + 48;
                        }
                      }
                      *(_DWORD *)v49 = *(_DWORD *)v49 & 0xC1FFFFFF | 0x1000000;
LABEL_108:
                      ++v148;
                      if ( SLODWORD(v43) > v141 )
                        ++v147;
                      goto LABEL_110;
                    }
                    if ( !a4 )
                      goto LABEL_46;
                    v110 = (int)"No stages left for attenuation";
                    goto LABEL_45;
                  }
                  if ( !(v42 & 0x10) )
                  {
                    v18 = a2;
                    goto LABEL_90;
                  }
                }
              }
              goto LABEL_110;
            }
            if ( v24 < v147 + v141 )
            {
              memcpy(&v121, LODWORD(a3), 0x58u);
              v36 = sub_10008040(v142, v146, v5, 0, 0);
              if ( v36 )
              {
                v37 = v146;
                sub_100044B0(v146, 112 * v148 + v7 + 36, v36);
                sub_10005670(v37, 112 * v148 + v7 + 36, (int)&v121);
                v38 = a2;
                *(_DWORD *)(112 * v148 + v7 + 52) = *(_DWORD *)(112 * v148 + v7 + 52) & 0xFE0000FF | 0x80;
                if ( *(_BYTE *)(v38 + 113) == 2 )
                {
                  *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE3FFF | 0x3000;
                  *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
                  *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC9FFFF | 0x80000;
                  v40 = 112 * v148 + v7 + 48;
                  v41 = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
                }
                else
                {
                  if ( *(_BYTE *)(v38 + 113) == 3 )
                  {
                    *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE4FFF | 0x4000;
                    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE2 | 0x22;
                    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
                    v40 = 112 * v148 + v7 + 44;
                    v41 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
                  }
                  else
                  {
                    if ( *(_BYTE *)(v38 + 113) != 4 )
                    {
                      *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFEDFFF | 0xD000;
                      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC1 | 1;
                      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0FF | 0xC0;
                      *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
                      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF07FFFF | 0x40000;
                      v39 = FColor::FColor(&a3, 127, 127, 127, 0, v113, v114, v115, v116, v117, v118, v119, v120);
                      *(_DWORD *)(v7 + 16) = FColor::operator unsigned_long(v39);
LABEL_83:
                      v6 = v146;
                      v24 = v148++ + 1;
                      goto LABEL_84;
                    }
                    *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE5FFF | 0x5000;
                    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE2 | 0x22;
                    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
                    v40 = 112 * v148 + v7 + 44;
                    v41 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
                  }
                }
                *(_DWORD *)v40 = v41;
                *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC1FFFFFF | 0x1000000;
                goto LABEL_83;
              }
              if ( a4 )
              {
                v112 = (int)"Base opacity isn't bitmap";
LABEL_97:
                FString::operator_(v112);
                goto LABEL_98;
              }
              goto LABEL_98;
            }
            if ( a4 )
            {
              v110 = (int)"No stages left for base opacity";
LABEL_45:
              FString::operator_(v110);
              goto LABEL_46;
            }
            goto LABEL_46;
          }
          v25 = 112 * v148 + v7 + 44;
          v26 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE6FFF | 0x6000;
        }
      }
      *(_DWORD *)v25 = v26;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
      *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
      v6 = v146;
      v18 = a2;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
      v24 = v148++ + 1;
      goto LABEL_72;
    }
    v124 |= 9u;
    v27 = *(_DWORD *)(v18 + 104);
    v127 = 1;
    v126 = 0;
    if ( !sub_1000A310(v6, v27, (int)&v145, (int)&v148, (int)&v147, &v124, 0, a4, a5, 0) )
      return 0;
    if ( !*(_BYTE *)(v18 + 112) || !v144 )
    {
      v24 = v148;
      goto LABEL_72;
    }
    memcpy(&v121, LODWORD(a3), 0x58u);
    v28 = sub_10008040(v144, v146, v5, (int)&v121, 0);
    if ( !v28 )
      goto LABEL_52;
    if ( v148 < v141 + v147 )
    {
      v29 = v146;
      sub_100044B0(v146, 112 * v148 + v7 + 36, v28);
      sub_10005670(v29, 112 * v148 + v7 + 36, (int)&v121);
      *(_DWORD *)(112 * v148 + v7 + 52) = *(_DWORD *)(112 * v148 + v7 + 52) & 0xFE0000FF | 0x80;
      if ( *(_BYTE *)(a2 + 112) == 1 )
      {
        v30 = 112 * v148 + v7 + 44;
        v31 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE5FFF | 0x5000;
      }
      else
      {
        if ( *(_BYTE *)(a2 + 112) == 2 )
        {
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFEDFFF | 0xD000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
          v32 = 112 * v148 + v7 + 44;
          v33 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFDBFFFF | 0x1A0000;
LABEL_66:
          *(_DWORD *)v32 = v33;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
          v6 = v146;
          v18 = a2;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC1FFFFFF | 0x1000000;
          v24 = v148++ + 1;
          goto LABEL_72;
        }
        if ( *(_BYTE *)(a2 + 112) != 4 )
        {
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE2FFF | 0x2000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
          v24 = v148 + 1;
          v6 = v29;
          v18 = a2;
          ++v148;
          goto LABEL_72;
        }
        v30 = 112 * v148 + v7 + 44;
        v31 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE6FFF | 0x6000;
      }
      *(_DWORD *)v30 = v31;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
      v32 = 112 * v148 + v7 + 44;
      v33 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFCBFFFF | 0xA0000;
      goto LABEL_66;
    }
LABEL_67:
    if ( a4 )
      FString::operator_("No stages left for base material");
    v34 = a5;
    if ( !a5 )
      return 0;
    v35 = v144;
    goto LABEL_100;
  }
  sub_10031703(&v122, 0, *(_DWORD *)(v6 + 39948) + 108);
  v54 = (const void *)(a2 + 116);
  sub_100311D1(&v116, &v122, a2 + 116);
  sub_10003C30(&v124);
  LODWORD(v143) = sub_10008040(*(_DWORD *)(a2 + 104), v6, v5, (int)&v124, 0);
  if ( v143 != 0.0 )
  {
    if ( *(_BYTE *)(a2 + 112) && v144 )
    {
      v55 = a5;
      v56 = a4;
      if ( !sub_1000A310(v146, v144, (int)&v145, (int)&v148, (int)&v147, LODWORD(a3), 0, a4, a5, 0) )
        return 0;
    }
    else
    {
      v55 = a5;
      v56 = a4;
    }
    if ( v148 >= v141 + v147 )
    {
      if ( v56 )
        FString::operator_("No stages left for projected texture");
      if ( v55 )
        *(_DWORD *)v55 = a2;
      return 0;
    }
    v57 = v146;
    sub_100044B0(v146, 112 * v148 + v7 + 36, SLODWORD(v143));
    sub_100311D1(112 * v148 + v7 + 60, &v116, &v125);
    *(_DWORD *)(112 * v148 + v7 + 56) = *(_DWORD *)(112 * v148 + v7 + 56) & 0xFFFFFE03 | 3;
    *(_DWORD *)(112 * v148 + v7 + 52) = *(_DWORD *)(112 * v148 + v7 + 52) & 0xFF00007F | 0x1000000;
    *(_DWORD *)(112 * v148 + v7 + 52) |= 0x40u;
    v58 = a2;
    *(_DWORD *)(v57 + 40912) |= 8u;
    if ( *(_BYTE *)(v58 + 244) & 1 )
      *(_DWORD *)(112 * v148 + v7 + 56) |= 0x100u;
    v59 = 112 * v148;
    v60 = *(_BYTE *)(v58 + 112) - 1;
    if ( !v60 )
    {
      v64 = v59 + v7 + 44;
      v65 = *(_DWORD *)(v59 + v7 + 44) & 0xFFFE5FFF | 0x5000;
      goto LABEL_131;
    }
    v61 = v60 - 1;
    if ( !v61 )
    {
      v64 = v59 + v7 + 44;
      v65 = *(_DWORD *)(v59 + v7 + 44) & 0xFFFEDFFF | 0xD000;
      goto LABEL_131;
    }
    v62 = *(_DWORD *)(v59 + v7 + 44);
    v63 = v61 == 2;
    v64 = v59 + v7 + 44;
    if ( v63 )
    {
      v65 = v62 & 0xFFFE6FFF | 0x6000;
LABEL_131:
      *(_DWORD *)v64 = v65;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
      v66 = 112 * v148 + v7 + 48;
      v67 = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
LABEL_150:
      *(_DWORD *)v66 = v67;
      *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
      v75 = 112 * v148 + v7 + 48;
      v76 = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
      goto LABEL_151;
    }
LABEL_149:
    *(_DWORD *)v64 = v62 & 0xFFFE2FFF | 0x2000;
    v66 = 112 * v148 + v7 + 48;
    v67 = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
    goto LABEL_150;
  }
  v68 = *(_DWORD *)(a2 + 104);
  v124 = ((unsigned __int8)((unsigned __int8)v124 | 1) ^ (unsigned __int8)(8 * *(_DWORD *)(a2 + 244))) & 8 ^ (v124 | 1);
  v126 = 8;
  v127 = 1;
  memcpy(&v125, v54, 0x40u);
  if ( !sub_1000A310(v146, v68, (int)&v145, (int)&v148, (int)&v147, &v124, 0, a4, a5, 0) )
    return 0;
  v18 = a2;
  if ( *(_BYTE *)(a2 + 112) && v144 )
  {
    memcpy(&v128, LODWORD(a3), 0x58u);
    v69 = sub_10008040(v144, v146, v5, (int)&v128, 0);
    if ( !v69 )
    {
LABEL_52:
      if ( !a4 )
        goto LABEL_55;
      v111 = (int)"Either projected texture or base material must be simple.";
      goto LABEL_54;
    }
    if ( v148 >= v141 + v147 )
      goto LABEL_67;
    v70 = v146;
    sub_100044B0(v146, 112 * v148 + v7 + 36, v69);
    sub_10005670(v70, 112 * v148 + v7 + 36, (int)&v128);
    v71 = 112 * v148;
    if ( *(_BYTE *)(a2 + 112) == 1 )
    {
      v64 = v71 + v7 + 44;
      v72 = *(_DWORD *)(v71 + v7 + 44) & 0xFFFE5FFF | 0x5000;
    }
    else
    {
      if ( *(_BYTE *)(a2 + 112) == 2 )
      {
        *(_DWORD *)(v71 + v7 + 44) = *(_DWORD *)(v71 + v7 + 44) & 0xFFFEDFFF | 0xD000;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
        v73 = 112 * v148 + v7 + 44;
        v74 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFDBFFFF | 0x1A0000;
LABEL_148:
        *(_DWORD *)v73 = v74;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
        v75 = 112 * v148 + v7 + 48;
        v76 = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC1FFFFFF | 0x1000000;
LABEL_151:
        v18 = a2;
        *(_DWORD *)v75 = v76;
        ++v148;
        goto LABEL_152;
      }
      v62 = *(_DWORD *)(v71 + v7 + 44);
      v64 = v71 + v7 + 44;
      if ( *(_BYTE *)(a2 + 112) != 4 )
        goto LABEL_149;
      v72 = v62 & 0xFFFE6FFF | 0x6000;
    }
    *(_DWORD *)v64 = v72;
    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
    v73 = 112 * v148 + v7 + 44;
    v74 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFCBFFFF | 0xA0000;
    goto LABEL_148;
  }
LABEL_152:
  if ( *(_BYTE *)(v18 + 244) & 4 )
  {
    sub_100311D1(&v129, &v122, v18 + 180);
    if ( v148 >= v147 + v141 )
    {
      if ( a4 )
      {
        v110 = (int)"No stages left for gradient texture";
        goto LABEL_45;
      }
LABEL_46:
      if ( a5 )
        *(_DWORD *)a5 = v18;
      return 0;
    }
    sub_100044B0(v146, 112 * v148 + v7 + 36, *(_DWORD *)(v18 + 100));
    *(_DWORD *)(112 * v148 + v7 + 52) |= 0x40u;
    *(_DWORD *)(112 * v148 + v7 + 52) = *(_DWORD *)(112 * v148 + v7 + 52) & 0xFF00007F | 0x1000000;
    *(_DWORD *)(112 * v148 + v7 + 56) = *(_DWORD *)(112 * v148 + v7 + 56) & 0xFFFFFE03 | 3;
    v77 = v146;
    memcpy((void *)(112 * v148 + v7 + 60), &v129, 0x40u);
    *(_DWORD *)(v77 + 40912) |= 1u;
    if ( *(_BYTE *)(a2 + 113) == 2 )
    {
      *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE3FFF | 0x3000;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
      *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC9FFFF | 0x80000;
      v79 = 112 * v148 + v7 + 48;
      v80 = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
    }
    else
    {
      if ( *(_BYTE *)(a2 + 113) == 3 )
      {
        *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE4FFF | 0x4000;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE2 | 0x22;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
        v79 = 112 * v148 + v7 + 44;
        v80 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
      }
      else
      {
        if ( *(_BYTE *)(a2 + 113) != 4 )
        {
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFEDFFF | 0xD000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC1 | 1;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0FF | 0xC0;
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF07FFFF | 0x40000;
          v78 = FColor::FColor(&v143, 127, 127, 127, 0, v113, v114, v115, v116, v117, v118, v119, v120);
          *(_DWORD *)(v7 + 16) = FColor::operator unsigned_long(v78);
LABEL_162:
          v18 = a2;
          ++v148;
          goto LABEL_163;
        }
        *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE5FFF | 0x5000;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE2 | 0x22;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
        v79 = 112 * v148 + v7 + 44;
        v80 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
      }
    }
    *(_DWORD *)v79 = v80;
    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC1FFFFFF | 0x1000000;
    goto LABEL_162;
  }
LABEL_163:
  if ( *(_BYTE *)(v18 + 244) & 8 && v142 )
  {
    if ( v148 >= v147 + v141 )
    {
      if ( !a4 )
      {
LABEL_55:
        if ( a5 )
          *(_DWORD *)a5 = a2;
        return 0;
      }
      v111 = (int)"No stages left for base opacity";
LABEL_54:
      FString::operator_(v111);
      goto LABEL_55;
    }
    memcpy(&v128, LODWORD(a3), 0x58u);
    v81 = sub_10008040(v142, v146, v5, 0, 0);
    v82 = v146;
    v83 = v81;
    v84 = sub_10006F20(v142, v146, v5, 0, 0);
    if ( v83 )
    {
      sub_100044B0(v82, 112 * v148 + v7 + 36, v83);
      sub_10005670(v82, 112 * v148 + v7 + 36, (int)&v128);
      if ( *(_BYTE *)(a2 + 113) == 2 )
      {
        *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE3FFF | 0x3000;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
        *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC9FFFF | 0x80000;
        v86 = 112 * v148 + v7 + 48;
        v87 = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
      }
      else
      {
        if ( *(_BYTE *)(a2 + 113) == 3 )
        {
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE4FFF | 0x4000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE2 | 0x22;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
          v86 = 112 * v148 + v7 + 44;
          v87 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
        }
        else
        {
          if ( *(_BYTE *)(a2 + 113) != 4 )
          {
            *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFEDFFF | 0xD000;
            *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC1 | 1;
            *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0FF | 0xC0;
            *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
            *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF07FFFF | 0x40000;
            v85 = FColor::FColor(&a3, 127, 127, 127, 0, v113, v114, v115, v116, v117, v118, v119, v120);
            *(_DWORD *)(v7 + 16) = FColor::operator unsigned_long(v85);
LABEL_177:
            ++v148;
            goto LABEL_178;
          }
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE5FFF | 0x5000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE2 | 0x22;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
          v86 = 112 * v148 + v7 + 44;
          v87 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
        }
      }
      *(_DWORD *)v86 = v87;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC1FFFFFF | 0x1000000;
      goto LABEL_177;
    }
    if ( !v84 )
    {
      if ( a4 )
      {
        v112 = (int)"Base opacity isn't bitmap or vertex color";
        goto LABEL_97;
      }
LABEL_98:
      v34 = a5;
      if ( a5 )
      {
        v35 = v142;
LABEL_100:
        *(_DWORD *)v34 = v35;
      }
      return 0;
    }
    *(_DWORD *)(112 * v148 + v7 + 48) &= 0xFF03FFFFu;
    *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
    *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE3FFF | 0x3000;
  }
LABEL_178:
  v88 = a2;
  if ( !(*(_BYTE *)(a2 + 244) & 0x10) )
  {
    if ( !(dword_100845B4 & 1) )
    {
      dword_100845B4 |= 1u;
      LOBYTE(v150) = 1;
      sub_1000BF10(&unk_10084450, 32);
      atexit(sub_1006E060);
      LOBYTE(v150) = 0;
    }
    if ( v148 >= v147 + v141 )
    {
      if ( a4 )
        FString::operator_("No stages left for directional attenuation");
      if ( a5 )
        *(_DWORD *)a5 = v88;
      return 0;
    }
    v89 = v146;
    *(_DWORD *)(v89 + 40912) |= 1u;
    *(_DWORD *)(112 * v148 + v7 + 36) = sub_1001A420(v89, (int)&unk_10084450);
    *(_DWORD *)(112 * v148 + v7 + 52) |= 0x40u;
    *(_DWORD *)(112 * v148 + v7 + 52) = *(_DWORD *)(112 * v148 + v7 + 52) & 0xFE80007F | 0x800000;
    *(_DWORD *)(112 * v148 + v7 + 56) = *(_DWORD *)(112 * v148 + v7 + 56) & 0xFFFFFE03 | 3;
    *(_DWORD *)(112 * v148 + v7 + 44) ^= ((unsigned __int8)*(_DWORD *)(112 * v148 + v7 + 44) ^ (unsigned __int8)*(_DWORD *)(*(_DWORD *)(v89 + 4) + 18028)) & 0xF;
    *(_DWORD *)(112 * v148 + v7 + 44) ^= ((unsigned __int8)*(_DWORD *)(112 * v148 + v7 + 44) ^ (unsigned __int8)(16 * *(_DWORD *)(*(_DWORD *)(v89 + 4) + 18028))) & 0xF0;
    *(_DWORD *)(112 * v148 + v7 + 44) ^= ((unsigned __int16)*(_DWORD *)(112 * v148 + v7 + 44) ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(*(_DWORD *)(v89 + 4) + 18028) << 8)) & 0xF00;
    v90 = FMatrix::Coords(&v116, &v130);
    v91 = LODWORD(v131);
    v92 = (float)((float)(v133 * v133) + (float)(v132 * v132)) + (float)(v131 * v131);
    __asm { lahf }
    if ( __SETP__(_AH & 0x44, 0) )
    {
      a3 = (float)((float)(v133 * v133) + (float)(v132 * v132)) + (float)(v131 * v131);
      a5 = dword_1006FEFC;
      a4 = dword_1006FA5C;
      v91 = LODWORD(v92);
      v94 = fsqrt(v92);
      v143 = (float)(3.0 - (float)((float)((float)(1.0 / v94) * *(float *)&v91) * (float)(1.0 / v94)))
           * (float)((float)(1.0 / v94) * 0.5);
      *(float *)&v91 = v131 * v143;
      v131 = v131 * v143;
      v132 = v143 * v132;
      v133 = v143 * v133;
    }
    v95 = (float)((float)(v136 * v136) + (float)(v135 * v135)) + (float)(v134 * v134);
    __asm { lahf }
    if ( __SETP__(_AH & 0x44, 0) )
    {
      a3 = (float)((float)(v136 * v136) + (float)(v135 * v135)) + (float)(v134 * v134);
      a5 = dword_1006FEFC;
      a4 = dword_1006FA5C;
      v97 = LODWORD(v95);
      v98 = 1.0 / fsqrt(v95);
      v143 = (float)(3.0 - (float)((float)(v98 * *(float *)&v97) * v98)) * (float)(v98 * 0.5);
      v134 = v143 * v134;
      v135 = v143 * v135;
      v91 = LODWORD(v131);
      v136 = v143 * v136;
    }
    v99 = (float)((float)(v139 * v139) + (float)(v138 * v138)) + (float)(v137 * v137);
    __asm { lahf }
    if ( __SETP__(_AH & 0x44, 0) )
    {
      a3 = (float)((float)(v139 * v139) + (float)(v138 * v138)) + (float)(v137 * v137);
      a5 = dword_1006FEFC;
      a4 = dword_1006FA5C;
      v101 = LODWORD(v99);
      v102 = 1.0 / fsqrt(v99);
      v143 = (float)(3.0 - (float)((float)(v102 * *(float *)&v101) * v102)) * (float)(v102 * 0.5);
      v137 = v143 * v137;
      v138 = v143 * v138;
      v91 = LODWORD(v131);
      v139 = v143 * v139;
    }
    *(_DWORD *)(112 * v148 + v7 + 60) = v91;
    *(_DWORD *)(112 * v148 + v7 + 76) = LODWORD(v132);
    *(_DWORD *)(112 * v148 + v7 + 92) = LODWORD(v133);
    *(_DWORD *)(112 * v148 + v7 + 108) = 0;
    *(_DWORD *)(112 * v148 + v7 + 64) = LODWORD(v134);
    *(_DWORD *)(112 * v148 + v7 + 80) = LODWORD(v135);
    *(_DWORD *)(112 * v148 + v7 + 96) = LODWORD(v136);
    *(_DWORD *)(112 * (v148 + 1) + v7) = 0;
    *(float *)(112 * v148 + v7 + 68) = 0.0 - v137;
    *(float *)(112 * v148 + v7 + 84) = 0.0 - v138;
    *(float *)(112 * v148 + v7 + 100) = 0.0 - v139;
    *(_DWORD *)(112 * v148 + v7 + 116) = 0;
    v103 = (unsigned int)dword_1006F9A0;
    *(_DWORD *)(112 * v148 + v7 + 104) = 0;
    *(_DWORD *)(112 * v148 + v7 + 120) = v103;
    if ( *(_BYTE *)(v88 + 113) == 2 )
    {
      *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE3FFF | 0x3000;
      *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
      *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC9FFFF | 0x80000;
      v105 = 112 * v148 + v7 + 48;
      v106 = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF0BFFFF | 0x80000;
    }
    else
    {
      if ( *(_BYTE *)(v88 + 113) == 3 )
      {
        *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE4FFF | 0x4000;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC2 | 2;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
        v105 = 112 * v148 + v7 + 44;
        v106 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
      }
      else
      {
        if ( *(_BYTE *)(v88 + 113) != 4 )
        {
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFEDFFF | 0xD000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFC1 | 1;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF0FF | 0xC0;
          *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC5FFFF | 0x40000;
          *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFF07FFFF | 0x40000;
          v104 = FColor::FColor(&a4, 127, 127, 127, 0, v113, v114, v115, v116, v117, v118, v119, v120);
          *(_DWORD *)(v7 + 16) = FColor::operator unsigned_long(v104);
          ++v148;
          goto LABEL_110;
        }
        *(_DWORD *)(112 * v148 + v7 + 44) = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFFE5FFF | 0x5000;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFFFE2 | 0x22;
        *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xFFFFF07F | 0x40;
        v105 = 112 * v148 + v7 + 44;
        v106 = *(_DWORD *)(112 * v148 + v7 + 44) & 0xFFC7FFFF | 0x60000;
      }
    }
    *(_DWORD *)v105 = v106;
    *(_DWORD *)(112 * v148 + v7 + 48) = *(_DWORD *)(112 * v148 + v7 + 48) & 0xC1FFFFFF | 0x1000000;
    ++v148;
  }
LABEL_110:
  v50 = a2;
  v51 = *(_DWORD *)(v7 + 4) & 0xFFFFFFCF | ((*(_DWORD *)(a2 + 244) & 0x40 | 2u) >> 1);
  *(_DWORD *)(v7 + 4) = v51;
  v52 = *(_BYTE *)(v50 + 113) - 2;
  if ( v52 )
  {
    v53 = v52 - 1;
    *(_DWORD *)(v7 + 4) = v51 | 0x40;
    if ( v53 )
    {
      if ( v53 == 1 )
      {
        *(_DWORD *)(v7 + 20) = 2;
        *(_DWORD *)(v7 + 24) = 6;
        *(_DWORD *)(v7 + 28) = *(_DWORD *)FColor::FColor(
                                            &a4,
                                            0,
                                            0,
                                            0,
                                            0,
                                            v113,
                                            v114,
                                            v115,
                                            v116,
                                            v117,
                                            v118,
                                            v119,
                                            v120);
      }
      else
      {
        *(_DWORD *)(v7 + 20) = 9;
        *(_DWORD *)(v7 + 24) = 3;
        *(_DWORD *)(v7 + 28) = *(_DWORD *)FColor::FColor(
                                            &a2,
                                            127,
                                            127,
                                            127,
                                            0,
                                            v113,
                                            v114,
                                            v115,
                                            v116,
                                            v117,
                                            v118,
                                            v119,
                                            v120);
      }
    }
    else
    {
      *(_DWORD *)(v7 + 20) = 2;
      *(_DWORD *)(v7 + 24) = 2;
      *(_DWORD *)(v7 + 28) = *(_DWORD *)FColor::FColor(&a5, 0, 0, 0, 0, v113, v114, v115, v116, v117, v118, v119, v120);
    }
  }
  else
  {
    *(_DWORD *)(v7 + 20) = 5;
    *(_DWORD *)(v7 + 24) = 6;
  }
  v107 = v146;
  *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v146 + 39948) + 4 * v145 + 772) + 9) = v148;
  v108 = *(_DWORD *)(v107 + 39948);
  v109 = v145 + 1;
  v145 = v109;
  *(_BYTE *)(v108 + 804) = v109;
  return v145 == 1;
}
// 100311D1: using guessed type int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD);
// 10031703: using guessed type int __stdcall sub_10031703(_DWORD, _DWORD, _DWORD);
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1006F0D0: using guessed type int __thiscall FMatrix__Coords(_DWORD, _DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F394: using guessed type int UTexture__StaticClass(void);
// 1006F3A4: using guessed type int UShader__StaticClass(void);
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);
// 1006F9A0: using guessed type int dword_1006F9A0;
// 1006FA5C: using guessed type int dword_1006FA5C;
// 1006FEFC: using guessed type int dword_1006FEFC;
// 100845B4: using guessed type int dword_100845B4;

//----- (1000FFB2) --------------------------------------------------------
void __usercall sub_1000FFB2(int a1<ebp>)
{
  *(_DWORD *)(a1 - 144) = *(_DWORD *)(a1 - 236);
  CxxThrowException(a1 - 144, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1000FFCF) --------------------------------------------------------
void __cdecl sub_1000FFCF()
{
  appUnwindf("%s", off_100800AC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800AC: using guessed type char *off_100800AC[59];

//----- (1000FFF0) --------------------------------------------------------
signed int __thiscall sub_1000FFF0(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // eax@1
  signed int result; // eax@5
  signed int v7; // eax@12

  v4 = this;
  v5 = *(_DWORD *)(this + 4);
  if ( *(_DWORD *)(v5 + 16920) < 1u )
  {
    if ( a3 )
      FString::operator_("No vertex shader support detected");
    if ( a4 )
    {
      *(_DWORD *)a4 = *(_DWORD *)(a2 + 40);
      return 0;
    }
    return 0;
  }
  if ( *(_DWORD *)(v5 + 16928) < 1u )
  {
    if ( a3 )
      FString::operator_("No pixel shader support detected");
    if ( a4 )
      *(_DWORD *)a4 = *(_DWORD *)(a2 + 40);
    return 0;
  }
  *(_DWORD *)(this + 40912) |= 0x20u;
  v7 = sub_1000DBE0((void *)this, a2, 0);
  if ( v7 == -1 )
  {
    if ( a3 )
      FString::operator__("  Failed to set hardware shader.");
    if ( a4 )
      *(_DWORD *)a4 = *(_DWORD *)(a2 + 40);
    result = 0;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772)
                                                                                               + 4) ^ (unsigned __int8)(*(_DWORD *)(a2 + 2348) >> 2)) & 1;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772)
                                                                                               + 4) ^ (unsigned __int8)(*(_DWORD *)(a2 + 2348) >> 2)) & 2;
    *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 8) = *(_BYTE *)(a2 + 2352);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772)
                                                                                               + 4) ^ (unsigned __int8)(8 * *(_DWORD *)(a2 + 2348))) & 8;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772)
                                                                                               + 4) ^ (unsigned __int8)(8 * *(_DWORD *)(a2 + 2348))) & 0x10;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 20) = *(_BYTE *)(a2 + 2353);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 24) = *(_BYTE *)(a2 + 2354);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772)
                                                                                               + 4) ^ (unsigned __int8)(*(_DWORD *)(a2 + 2348) >> 2)) & 4;
    *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v4 + 39948) + 772) + 9) = v7;
    *(_BYTE *)(*(_DWORD *)(v4 + 39948) + 804) = 1;
    result = 1;
  }
  return result;
}
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1006F0D4: using guessed type int __stdcall FString__operator__(_DWORD);

//----- (10010250) --------------------------------------------------------
void *__thiscall sub_10010250(int this, const void *a2)
{
  int v2; // eax@1
  int v3; // eax@2
  void *v4; // esi@2
  void *result; // eax@2
  void *v6; // eax@3

  v2 = *(_DWORD *)(this + 4);
  if ( v2 & 0x1FFFFFFF )
  {
    v3 = 8 * v2 >> 3;
    v4 = *(void **)(*(_DWORD *)this + 4 * v3 - 4);
    sub_10002800(this, v3 - 1, 1);
    result = v4;
  }
  else
  {
    v6 = (void *)(*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(948);
    if ( v6 )
      result = sub_10005590(v6);
    else
      result = 0;
  }
  if ( a2 )
    memcpy(result, a2, 0x3B4u);
  *((_DWORD *)result + 233) = 1;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (100102C0) --------------------------------------------------------
int __thiscall sub_100102C0(int this, int a2)
{
  int v2; // esi@1
  signed int v3; // eax@1
  int v4; // ecx@1
  int result; // eax@1
  int v6; // [sp+0h] [bp-24h]@1
  int *v7; // [sp+14h] [bp-10h]@1
  int v8; // [sp+20h] [bp-4h]@1

  v2 = this + 40;
  v3 = 8 * *(_DWORD *)(this + 44);
  v7 = &v6;
  v8 = 0;
  sub_10006DC0(this + 40, (v3 >> 3) + 1, 0);
  v4 = 8 * *(_DWORD *)(v2 + 4) >> 3;
  result = *(_DWORD *)v2 + 4 * v4 - 4;
  if ( *(_DWORD *)v2 + 4 * v4 != 4 )
    *(_DWORD *)result = a2;
  return result;
}

//----- (1001032A) --------------------------------------------------------
void __usercall sub_1001032A(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001033E) --------------------------------------------------------
void __cdecl sub_1001033E()
{
  appUnwindf("%s", off_100800B0[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800B0: using guessed type char *off_100800B0[58];

//----- (10010360) --------------------------------------------------------
#error "100104EC: call analysis failed (funcsize=157)"

//----- (100105B0) --------------------------------------------------------
char __thiscall sub_100105B0(int this, int a2, int a3, int a4, const void *a5)
{
  int v5; // ebp@0
  int v6; // ebx@1
  int v7; // edx@3
  int v8; // edx@3
  int v9; // eax@6
  int v10; // esi@6
  int v11; // edi@6
  int v12; // eax@7
  int v13; // ecx@7
  int v14; // eax@10
  int v15; // eax@11
  int v16; // eax@12
  int v17; // ecx@12
  int v18; // eax@23
  int v19; // edx@23
  int v20; // eax@23
  int v21; // edx@23
  int v22; // ecx@24
  int v23; // edi@24
  signed int v24; // esi@26
  int v25; // eax@44
  __int128 v26; // xmm5@48
  float v27; // xmm3_4@48
  float v28; // xmm2_4@48
  float v29; // xmm1_4@48
  float v30; // xmm0_4@48
  __int128 v31; // xmm4@48
  float v32; // xmm3_4@48
  float v33; // xmm2_4@48
  float v34; // xmm0_4@48
  float v35; // xmm1_4@48
  __int128 v36; // xmm4@48
  float v37; // xmm0_4@48
  __int128 v38; // xmm4@48
  float v39; // xmm0_4@48
  signed int v40; // eax@51
  int v41; // eax@62
  int v42; // eax@62
  int v43; // eax@62
  int v44; // edx@63
  int v45; // esi@63
  int v46; // eax@69
  int v47; // ecx@69
  int v48; // edx@69
  int v49; // eax@70
  int v50; // eax@70
  int v51; // eax@73
  int v52; // ecx@75
  __int128 v53; // xmm0@75
  float v54; // edx@75
  __int128 v55; // xmm0@76
  __int128 v56; // xmm0@80
  __int128 v57; // xmm1@81
  int v58; // edx@82
  int v60; // ecx@84
  int v61; // edi@85
  int v62; // eax@90
  int v63; // ecx@90
  int v64; // eax@94
  int v65; // ecx@94
  int v66; // eax@104
  int v67; // edi@104
  int v68; // eax@109
  int v69; // ecx@111
  __int128 v70; // xmm0@125
  int v71; // edx@127
  int v72; // eax@127
  int v73; // edx@127
  int v74; // eax@127
  int v75; // esi@127
  int v76; // eax@128
  int v77; // ecx@128
  int v79; // [sp+1Eh] [bp-1E8h]@0
  int v80; // [sp+22h] [bp-1E4h]@0
  int v81; // [sp+26h] [bp-1E0h]@0
  int v82; // [sp+2Ah] [bp-1DCh]@0
  int v83; // [sp+2Eh] [bp-1D8h]@0
  char v84; // [sp+30h] [bp-1D6h]@37
  signed int v85; // [sp+32h] [bp-1D4h]@3
  int v86; // [sp+36h] [bp-1D0h]@62
  char v87; // [sp+37h] [bp-1CFh]@57
  char v88; // [sp+38h] [bp-1CEh]@3
  char v89; // [sp+39h] [bp-1CDh]@44
  int v90; // [sp+3Ah] [bp-1CCh]@17
  int v91; // [sp+3Eh] [bp-1C8h]@6
  int v92; // [sp+42h] [bp-1C4h]@3
  int v93; // [sp+46h] [bp-1C0h]@23
  char *v94; // [sp+4Ah] [bp-1BCh]@44
  int v95; // [sp+4Eh] [bp-1B8h]@23
  float v96; // [sp+52h] [bp-1B4h]@75
  int v97; // [sp+56h] [bp-1B0h]@82
  int v98; // [sp+5Ah] [bp-1ACh]@23
  int v99; // [sp+5Eh] [bp-1A8h]@82
  int v100; // [sp+62h] [bp-1A4h]@82
  float v101; // [sp+66h] [bp-1A0h]@76
  float v102; // [sp+6Ah] [bp-19Ch]@75
  float v103; // [sp+6Eh] [bp-198h]@76
  int v104; // [sp+72h] [bp-194h]@82
  int v105; // [sp+76h] [bp-190h]@3
  float v106; // [sp+7Ah] [bp-18Ch]@48
  float v107; // [sp+7Eh] [bp-188h]@48
  float v108; // [sp+82h] [bp-184h]@48
  float v109; // [sp+86h] [bp-180h]@48
  float v110; // [sp+8Ah] [bp-17Ch]@48
  float v111; // [sp+8Eh] [bp-178h]@48
  float v112; // [sp+92h] [bp-174h]@48
  float v113; // [sp+96h] [bp-170h]@48
  float v114; // [sp+9Ah] [bp-16Ch]@48
  float v115; // [sp+9Eh] [bp-168h]@48
  float v116; // [sp+A2h] [bp-164h]@48
  float v117; // [sp+A6h] [bp-160h]@48
  float v118; // [sp+AAh] [bp-15Ch]@48
  float v119; // [sp+AEh] [bp-158h]@48
  float v120; // [sp+B2h] [bp-154h]@48
  float v121; // [sp+B6h] [bp-150h]@48
  char v122; // [sp+BAh] [bp-14Ch]@89
  char v123; // [sp+BBh] [bp-14Bh]@103
  float v124; // [sp+CEh] [bp-138h]@48
  float v125; // [sp+D2h] [bp-134h]@48
  float v126; // [sp+D6h] [bp-130h]@48
  float v127; // [sp+DAh] [bp-12Ch]@48
  float v128; // [sp+DEh] [bp-128h]@48
  float v129; // [sp+E2h] [bp-124h]@48
  float v130; // [sp+E6h] [bp-120h]@48
  float v131; // [sp+EAh] [bp-11Ch]@48
  float v132; // [sp+EEh] [bp-118h]@48
  float v133; // [sp+F2h] [bp-114h]@48
  float v134; // [sp+F6h] [bp-110h]@48
  float v135; // [sp+FAh] [bp-10Ch]@48
  float v136; // [sp+FEh] [bp-108h]@48
  float v137; // [sp+102h] [bp-104h]@48
  float v138; // [sp+106h] [bp-100h]@48
  float v139; // [sp+10Ah] [bp-FCh]@48
  char v140; // [sp+10Eh] [bp-F8h]@62
  char v141; // [sp+112h] [bp-F4h]@70
  char v142; // [sp+116h] [bp-F0h]@3
  char v143; // [sp+16Eh] [bp-98h]@23
  char v144; // [sp+1C6h] [bp-40h]@44

  v6 = this;
  if ( !GCubemapManager || !(*((_BYTE *)GCubemapManager + 40) & 1) )
    return 1;
  v7 = *(_DWORD *)(a2 + 132);
  memcpy(&v142, a5, 0x58u);
  v92 = sub_10008040(v7, this, v5, (int)&v142, 0);
  v8 = *(_DWORD *)(a2 + 136);
  v85 = *(_BYTE *)(a2 + 140);
  memcpy(&v105, a5, 0x58u);
  v88 = 0;
  if ( !v8 || v85 && v85 != 2 )
  {
    v15 = sub_10008040(*(_DWORD *)(a2 + 108), v6, v5, (int)&v105, 0);
    v10 = *(_DWORD *)(a2 + 108);
    v11 = v15;
    v91 = v15;
    if ( !v10 )
      goto LABEL_18;
    v16 = UTexEnvMap::StaticClass();
    v17 = *(_DWORD *)(v10 + 36);
    if ( v17 )
    {
      while ( v17 != v16 )
      {
        v17 = *(_DWORD *)(v17 + 48);
        if ( !v17 )
          goto LABEL_15;
      }
      goto LABEL_17;
    }
LABEL_15:
    v14 = v16 == 0;
  }
  else
  {
    v88 = 1;
    v9 = sub_10008040(v8, v6, v5, (int)&v105, 0);
    v10 = *(_DWORD *)(a2 + 136);
    v11 = v9;
    v91 = v9;
    if ( !v10 )
      goto LABEL_18;
    v12 = UTexEnvMap::StaticClass();
    v13 = *(_DWORD *)(v10 + 36);
    if ( v13 )
    {
      while ( v13 != v12 )
      {
        v13 = *(_DWORD *)(v13 + 48);
        if ( !v13 )
          goto LABEL_10;
      }
      goto LABEL_17;
    }
LABEL_10:
    v14 = v12 == 0;
  }
  if ( v14 )
  {
LABEL_17:
    v90 = v10;
    goto LABEL_19;
  }
LABEL_18:
  v90 = 0;
LABEL_19:
  if ( v11 || v92 || v85 < 0 || v85 > 2 )
  {
    v18 = *(_DWORD *)(*(_DWORD *)(v6 + 4) + 16876);
    v19 = *(_DWORD *)(a2 + 112);
    memcpy(&v143, a5, 0x58u);
    v93 = v18;
    v20 = sub_10008040(v19, v6, v5, (int)&v143, 0);
    v21 = *(_DWORD *)(a2 + 112);
    v95 = v20;
    v98 = sub_100077B0(v21, v6, v5, (int)&v143, 0);
    BYTE3(v83) = 1;
    while ( 1 )
    {
      v22 = a2;
      v23 = a4;
      if ( *(_BYTE *)(a2 + 140) != 2 )
      {
        if ( *(_BYTE *)(a2 + 140) != 5 )
          break;
      }
      v24 = v85;
      if ( !v85 )
      {
        v24 = 1;
        v85 = 1;
        goto LABEL_34;
      }
      if ( v85 == 2 || v85 == 5 )
      {
        v24 = 0;
        v85 = 0;
        if ( *(float *)(v6 + 40920) <= 0.0 || *(_BYTE *)(*((_DWORD *)GEngine + 18) + 113) < 2u )
          goto LABEL_34;
      }
LABEL_35:
      if ( !GCubemapManager || v90 )
        goto LABEL_50;
      v84 = 1;
      if ( v91 )
      {
        if ( v24 )
        {
          if ( v24 <= 0 || v24 > 2 )
            goto LABEL_44;
LABEL_43:
          v84 = 0;
          goto LABEL_44;
        }
        if ( v88 )
          goto LABEL_43;
      }
LABEL_44:
      v94 = &v144;
      v89 = 0;
      v25 = UCubemapManager::GetEnvLightmap(GCubemapManager, v24, a2, &v94, &v89);
      if ( v84 )
        v91 = v25;
      if ( v89 && v94 )
      {
        v105 |= 1u;
        v124 = (float)((float)((float)(v107 * *((float *)v94 + 4)) + (float)(v108 * *((float *)v94 + 8)))
                     + (float)(*(float *)v94 * v106))
             + (float)(v109 * *((float *)v94 + 12));
        v26 = *((_DWORD *)v94 + 14);
        v125 = (float)((float)((float)(*((float *)v94 + 9) * v108) + (float)(v107 * *((float *)v94 + 5)))
                     + (float)(v109 * *((float *)v94 + 13)))
             + (float)(*((float *)v94 + 1) * v106);
        v27 = v109 * *((float *)v94 + 15);
        v28 = v106 * *((float *)v94 + 3);
        v29 = v108 * *((float *)v94 + 11);
        v30 = v107 * *((float *)v94 + 7);
        v126 = (float)((float)((float)(v106 * *((float *)v94 + 2)) + (float)(*(float *)&v26 * v109))
                     + (float)(v108 * *((float *)v94 + 10)))
             + (float)(v107 * *((float *)v94 + 6));
        v31 = *(_DWORD *)v94;
        v127 = (float)((float)(v30 + v27) + v28) + v29;
        v128 = (float)((float)((float)(*(float *)&v31 * v110) + (float)(v111 * *((float *)v94 + 4)))
                     + (float)(v112 * *((float *)v94 + 8)))
             + (float)(v113 * *((float *)v94 + 12));
        v129 = (float)((float)((float)(*((float *)v94 + 9) * v112) + (float)(v110 * *((float *)v94 + 1)))
                     + (float)(v111 * *((float *)v94 + 5)))
             + (float)(v113 * *((float *)v94 + 13));
        v32 = v113 * *((float *)v94 + 15);
        v33 = v112 * *((float *)v94 + 11);
        v34 = v110 * *((float *)v94 + 3);
        v35 = v111 * *((float *)v94 + 7);
        v130 = (float)((float)((float)(*((float *)v94 + 14) * v113) + (float)(v112 * *((float *)v94 + 10)))
                     + (float)(v110 * *((float *)v94 + 2)))
             + (float)(v111 * *((float *)v94 + 6));
        v36 = *(_DWORD *)v94;
        v131 = (float)((float)(v34 + v35) + v32) + v33;
        v132 = (float)((float)((float)(*(float *)&v36 * v114) + (float)(v115 * *((float *)v94 + 4)))
                     + (float)(v116 * *((float *)v94 + 8)))
             + (float)(v117 * *((float *)v94 + 12));
        v133 = (float)((float)((float)(*((float *)v94 + 9) * v116) + (float)(v114 * *((float *)v94 + 1)))
                     + (float)(v115 * *((float *)v94 + 5)))
             + (float)(v117 * *((float *)v94 + 13));
        v37 = (float)((float)((float)(v114 * *((float *)v94 + 3)) + (float)(v115 * *((float *)v94 + 7)))
                    + (float)(v117 * *((float *)v94 + 15)))
            + (float)(v116 * *((float *)v94 + 11));
        v134 = (float)((float)((float)(*((float *)v94 + 14) * v117) + (float)(v116 * *((float *)v94 + 10)))
                     + (float)(v114 * *((float *)v94 + 2)))
             + (float)(v115 * *((float *)v94 + 6));
        v38 = *(_DWORD *)v94;
        v135 = v37;
        v136 = (float)((float)((float)(*(float *)&v38 * v118) + (float)(v119 * *((float *)v94 + 4)))
                     + (float)(v120 * *((float *)v94 + 8)))
             + (float)(v121 * *((float *)v94 + 12));
        v137 = (float)((float)((float)(*((float *)v94 + 9) * v120) + (float)(v118 * *((float *)v94 + 1)))
                     + (float)(v119 * *((float *)v94 + 5)))
             + (float)(v121 * *((float *)v94 + 13));
        v39 = (float)((float)((float)(v118 * *((float *)v94 + 3)) + (float)(v119 * *((float *)v94 + 7)))
                    + (float)(v121 * *((float *)v94 + 15)))
            + (float)(v120 * *((float *)v94 + 11));
        v138 = (float)((float)((float)(*((float *)v94 + 14) * v121) + (float)(v120 * *((float *)v94 + 10)))
                     + (float)(v118 * *((float *)v94 + 2)))
             + (float)(v119 * *((float *)v94 + 6));
        v139 = v39;
        memcpy(&v106, &v124, 0x40u);
        v23 = a4;
        v24 = v85;
      }
      v22 = a2;
      *(_DWORD *)(v6 + 40912) |= 2u;
LABEL_50:
      if ( !v91 )
        return 0;
      v40 = 2;
      BYTE2(v83) = 0;
      if ( v95 && !v98 && (v24 == 4 || v24 == 1) )
      {
        v40 = 3;
        BYTE2(v83) = 1;
      }
      if ( v93 < v40 )
        return 0;
      v87 = 0;
      if ( *(_DWORD *)(v22 + 112) == *(_DWORD *)(v22 + 100) )
      {
        v87 = 1;
        --v40;
      }
      if ( v40 + *(_DWORD *)a3 > v93 || *(_BYTE *)(v22 + 160) & 2 && v24 == 1 )
      {
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (*(_DWORD *)v23)++ + 772) + 9) = *(_BYTE *)a3;
        *(_DWORD *)a3 = 0;
        *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772) = sub_10010250(
                                                                            v6 + 40904,
                                                                            (const void *)(v6 + 39952));
        v41 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772);
        *(_DWORD *)(v41 + 4) &= 0xFFFFFFEFu;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772) + 20) = *(_DWORD *)(a2 + 112) != 0 ? 5 : 2;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772) + 24) = 2;
        v42 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772);
        *(_DWORD *)(v42 + 4) |= 1u;
        v43 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772);
        *(_DWORD *)(v43 + 4) |= 0x40u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772) + 28) = *(_DWORD *)FColor::FColor(&v140, 0, 0, 0, 0, v79, v80, v81, v82, v83, v85, v86, v90);
      }
      v44 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772);
      v45 = 112 * *(_DWORD *)a3 + v44 + 36;
      if ( v85 == 3 )
        *(_DWORD *)(v44 + 44) = *(_DWORD *)(v44 + 44) & 0xFFFE2FFF | 0x2000;
      if ( BYTE2(v83) )
      {
        if ( v87 )
        {
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 48) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948)
                                                                                               + 772)
                                                                                   + 48) & 0xC2FFFFFF | 0x2000000;
        }
        else
        {
          if ( *(_DWORD *)a3 >= v93 )
            return 0;
          sub_100044B0(v6, v45, v95);
          v46 = *(_DWORD *)(v45 + 8) & 0xFFC43FFF | 0x43000;
          *(_DWORD *)(v45 + 12) = *(_DWORD *)(v45 + 12) & 0xC10BF07F | 0x1080040;
          *(_DWORD *)(v45 + 8) = v46;
          sub_10005670(v6, v45, (int)&v143);
          v47 = *(_DWORD *)a3 + 1;
          *(_DWORD *)a3 = v47;
          v48 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772);
          v45 = 112 * v47 + v48 + 36;
          if ( *(_DWORD *)v23 > 0 )
          {
            *(_DWORD *)(v48 + 20) = 5;
            *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772) + 24) = 2;
            v49 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772);
            *(_DWORD *)(v49 + 4) |= 1u;
            v50 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772);
            *(_DWORD *)(v50 + 4) |= 0x40u;
            *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772) + 28) = *(_DWORD *)FColor::FColor(&v141, 0, 0, 0, 0, v79, v80, v81, v82, v83, v85, v86, v90);
          }
        }
      }
      if ( v92 && *(float *)(v6 + 40916) > 0.0 )
      {
        sub_100044B0(v6, v45, v92);
        v51 = *(_DWORD *)(v45 + 8) & 0xFFFF7FFF | 0x17000;
        *(_DWORD *)(v45 + 8) = v51;
        if ( v85 == 1 || v85 == 4 )
        {
          v52 = a2;
          v55 = (unsigned int)dword_100701D0;
          v103 = (float)((float)*(_BYTE *)(a2 + 155) * *(float *)(v6 + 40920)) * 0.0039215689;
          *(_DWORD *)(v45 + 108) = LODWORD(v103);
          v101 = (float)((float)*(_BYTE *)(a2 + 156) * *(float *)(v6 + 40920)) * *(float *)&v55;
          v54 = v101;
        }
        else
        {
          v52 = a2;
          v53 = (unsigned int)dword_100701D0;
          v96 = (float)*(_BYTE *)(a2 + 152) * 0.0039215689;
          *(_DWORD *)(v45 + 108) = LODWORD(v96);
          v102 = (float)*(_BYTE *)(a2 + 153) * *(float *)&v53;
          v54 = v102;
        }
        *(_DWORD *)(v45 + 104) = LODWORD(v54);
        if ( *(_DWORD *)(v52 + 104) )
        {
          *(_DWORD *)(v45 + 12) = *(_DWORD *)(v45 + 12) & 0xFF07FFFF | 0x40000;
          *(_DWORD *)(v45 + 8) = v51 & 0xFFC5FFFF | 0x40000;
        }
        else
        {
          *(_DWORD *)(v45 + 8) = v51 & 0xFFCFFFFF | 0xE0000;
          *(_DWORD *)(v45 + 12) = *(_DWORD *)(v45 + 12) & 0xD14BFFFF | 0x11480000;
        }
        *(_DWORD *)(v45 + 12) = *(_DWORD *)(v45 + 12) & 0xFFFFF042 | 0x42;
        *(float *)&v56 = *(float *)(v52 + 144) * *((float *)GCubemapManager + 12);
        if ( !v85 )
        {
          v57 = *(_DWORD *)(v6 + 40916);
          *(float *)&v57 = *(float *)&v57 * *(float *)&v56;
          v56 = v57;
        }
        v104 = v56;
        v99 = 0;
        *(_DWORD *)(v45 + 88) = v56;
        v97 = v56;
        *(_DWORD *)(v45 + 92) = 0;
        v58 = v97;
        v100 = 0;
        *(_DWORD *)(v45 + 96) = 0;
        *(_DWORD *)(v45 + 100) = v58;
        __asm { lahf }
        if ( __SETP__(_AH & 0x44, 0) )
          sub_10003CC0((int)&v142, *(float *)(a2 + 148));
        sub_10005670(v6, v45, (int)&v142);
        v60 = *(_DWORD *)a3 + 1;
        *(_DWORD *)a3 = v60;
        v45 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * *(_DWORD *)v23 + 772) + 112 * v60 + 36;
      }
      v61 = v91;
      sub_100044B0(v6, v45, v91);
      switch ( (_BYTE)v85 )
      {
        case 0:
        case 3:
          *(_DWORD *)(v45 + 8) = *(_DWORD *)(v45 + 8) & 0xFFFFFF22 | 0x22;
          break;
        case 1:
        case 4:
          *(_DWORD *)(v45 + 8) = *(_DWORD *)(v45 + 8) & 0xFFFFFF33 | 0x33;
          break;
        default:
          break;
      }
      v105 |= 1u;
      if ( v90 )
      {
        v122 = *(_BYTE *)(v90 + 104);
      }
      else
      {
        v62 = UCubemap::StaticClass();
        v63 = *(_DWORD *)(v61 + 36);
        if ( v63 )
        {
          while ( v63 != v62 )
          {
            v63 = *(_DWORD *)(v63 + 48);
            if ( !v63 )
              goto LABEL_93;
          }
        }
        else
        {
LABEL_93:
          if ( v62 != 0 )
          {
            v64 = UDynamicCubemap::StaticClass();
            v65 = *(_DWORD *)(v61 + 36);
            if ( v65 )
            {
              while ( v65 != v64 )
              {
                v65 = *(_DWORD *)(v65 + 48);
                if ( !v65 )
                  goto LABEL_97;
              }
            }
            else
            {
LABEL_97:
              if ( v64 != 0 )
              {
                switch ( v85 )
                {
                  case 0:
                    v122 = 18;
                    break;
                  case 1:
                    v122 = 14;
                    break;
                  case 3:
                    v122 = 20;
                    break;
                  case 4:
                    v122 = 21;
                    break;
                  default:
                    goto LABEL_104;
                }
                goto LABEL_104;
              }
            }
          }
        }
        v123 = 1;
        v122 = 10;
      }
LABEL_104:
      sub_10005670(v6, v45, (int)&v105);
      v66 = *(_DWORD *)(v45 + 8) & 0xFFC5FFFF | 0x40000;
      v67 = *(_DWORD *)(v45 + 12) & 0xC207F081 | 0x2040081;
      *(_DWORD *)(v45 + 8) = v66;
      *(_DWORD *)(v45 + 12) = v67;
      switch ( v85 )
      {
        case 1:
        case 4:
          if ( *(_DWORD *)(a2 + 112) )
          {
            if ( *(_DWORD *)a4 > 0 && *(_DWORD *)a3 <= 1 )
              goto LABEL_120;
            if ( !(*(_DWORD *)(*(_DWORD *)(v6 + 4) + 16868) & 0x20000) )
              goto LABEL_122;
            v68 = v66 & 0xFFFF2FFF | 0x12000;
          }
          else
          {
            if ( v85 == 4 || (v69 = *(_DWORD *)(a2 + 160), v69 & 1) )
            {
              if ( *(_DWORD *)a4 > 0 && *(_DWORD *)a3 <= 1 )
              {
LABEL_120:
                v68 = v66 & 0xFFFE3FFF | 0x3000;
                *(_DWORD *)(v45 + 12) = v67 & 0xFF0BFFFF | 0x80000;
                goto LABEL_123;
              }
              v68 = v66 & 0xFFFE7FFF | 0x7000;
            }
            else
            {
              if ( *(_DWORD *)a4 <= 0 || *(_DWORD *)a3 > 1 )
              {
                *(_DWORD *)(v45 + 12) = v67 & 0xFFFFF080 | 0x80;
                v68 = v66 & 0xF07F9FFF | 0x419000;
              }
              else
              {
                if ( v69 & 2 )
                {
                  v68 = v66 & 0xFFFE5FFF | 0x5000;
                  *(_DWORD *)(v45 + 12) = v67 & 0xFF03F080 | 0x80;
                }
                else
                {
                  v68 = v66 & 0xFFFE4FFF | 0x4000;
                  *(_DWORD *)(v45 + 12) = v67 & 0xFF03F080 | 0x80;
                }
              }
            }
          }
LABEL_123:
          *(_DWORD *)(v45 + 8) = v68;
LABEL_124:
          if ( *(_BYTE *)(a2 + 180) & 1 )
          {
            v70 = (unsigned int)qword_1006FF04;
            *(float *)(v45 + 24) = *(float *)(v45 + 24) * -1.0;
            *(float *)(v45 + 28) = *(float *)(v45 + 28) * *(float *)&v70;
            *(float *)(v45 + 32) = *(float *)(v45 + 32) * *(float *)&v70;
            *(float *)(v45 + 36) = *(float *)(v45 + 36) * *(float *)&v70;
            *(float *)(v45 + 40) = *(float *)(v45 + 40) * *(float *)&v70;
            *(float *)(v45 + 44) = *(float *)(v45 + 44) * *(float *)&v70;
            *(float *)(v45 + 48) = *(float *)(v45 + 48) * *(float *)&v70;
            *(float *)(v45 + 52) = *(float *)(v45 + 52) * *(float *)&v70;
            *(float *)(v45 + 56) = *(float *)(v45 + 56) * *(float *)&v70;
            *(float *)(v45 + 60) = *(float *)(v45 + 60) * *(float *)&v70;
            *(float *)(v45 + 64) = *(float *)(v45 + 64) * *(float *)&v70;
            *(float *)(v45 + 68) = *(float *)(v45 + 68) * *(float *)&v70;
            *(float *)(v45 + 72) = *(float *)(v45 + 72) * *(float *)&v70;
            *(float *)(v45 + 76) = *(float *)(v45 + 76) * *(float *)&v70;
            *(float *)(v45 + 80) = *(float *)(v45 + 80) * *(float *)&v70;
            *(float *)(v45 + 84) = *(float *)(v45 + 84) * *(float *)&v70;
          }
          ++*(_DWORD *)a3;
          if ( !BYTE3(v83) )
            return 1;
          v71 = *(_DWORD *)(a2 + 132);
          memcpy(&v142, a5, 0x58u);
          v72 = sub_10008040(v71, v6, v5, (int)&v142, 0);
          memcpy(&v105, a5, 0x58u);
          v73 = *(_DWORD *)(a2 + 108);
          v92 = v72;
          v74 = sub_10008040(v73, v6, v5, (int)&v105, 0);
          v75 = *(_DWORD *)(a2 + 108);
          v91 = v74;
          if ( !v75 )
            goto LABEL_133;
          v76 = UTexEnvMap::StaticClass();
          v77 = *(_DWORD *)(v75 + 36);
          if ( v77 )
          {
            while ( v77 != v76 )
            {
              v77 = *(_DWORD *)(v77 + 48);
              if ( !v77 )
                goto LABEL_131;
            }
LABEL_132:
            v90 = v75;
            continue;
          }
LABEL_131:
          if ( v76 == 0 )
            goto LABEL_132;
LABEL_133:
          v90 = 0;
          break;
        case 0:
        case 2:
        case 3:
        case 5:
LABEL_122:
          v68 = v66 & 0xFFFE5FFF | 0x5000;
          goto LABEL_123;
        default:
          goto LABEL_124;
      }
    }
    v24 = v85;
LABEL_34:
    BYTE3(v83) = 0;
    goto LABEL_35;
  }
  return 0;
}
// 1006F354: using guessed type void *GCubemapManager;
// 1006F358: using guessed type void *GEngine;
// 1006F35C: using guessed type int __thiscall UCubemapManager__GetEnvLightmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F398: using guessed type int UTexEnvMap__StaticClass(void);
// 1006F39C: using guessed type int UCubemap__StaticClass(void);
// 1006F3A0: using guessed type int UDynamicCubemap__StaticClass(void);
// 1006FF04: using guessed type __int64 qword_1006FF04;
// 100701D0: using guessed type int dword_100701D0;

//----- (100114E0) --------------------------------------------------------
signed int __thiscall sub_100114E0(int this, int a2, int a3, int a4, int a5)
{
  int v5; // ebp@0
  int v6; // ebx@1
  int v7; // eax@1
  int v8; // ecx@1
  int v9; // edi@1
  int v10; // eax@1
  int v11; // ecx@1
  int v12; // esi@3
  int v13; // ecx@8
  unsigned int v14; // eax@8
  bool v15; // zf@8
  int v16; // eax@11
  int v17; // eax@14
  int v18; // eax@16
  int v19; // edi@16
  int v20; // edi@20
  int v21; // ecx@23
  int v22; // eax@23
  int v23; // edi@23
  int v24; // esi@23
  int v25; // ecx@23
  int v26; // edx@23
  int v27; // eax@23
  int v28; // ecx@23
  int v29; // edx@23
  char v30; // dl@24
  int v31; // ecx@26
  int v32; // ecx@30
  int v33; // eax@30
  int v34; // esi@30
  int v35; // edx@30
  int v36; // ecx@30
  int v37; // ecx@30
  int v38; // edx@30
  int v39; // eax@33
  int v40; // eax@37
  int v41; // eax@37
  int v42; // eax@38
  int v43; // eax@38
  int v44; // edx@40
  int v45; // eax@41
  int v46; // edi@41
  int v47; // edx@41
  int v48; // ecx@41
  int v49; // esi@42
  int v50; // ecx@42
  __int128 v51; // xmm0@46
  int v52; // ecx@46
  char v53; // al@48
  int v54; // esi@51
  int v55; // ecx@51
  int v56; // ecx@51
  int v57; // esi@51
  int v58; // eax@51
  int v59; // eax@53
  int v60; // eax@53
  int v61; // ST1C_4@53
  int v62; // esi@53
  int v63; // eax@55
  int v64; // esi@58
  int v65; // ecx@58
  int v66; // eax@60
  int v68; // eax@68
  int v69; // eax@71
  int v70; // edx@74
  int v71; // eax@75
  int v72; // esi@75
  int v73; // edx@75
  int v74; // eax@75
  int v75; // edx@75
  int v76; // eax@75
  int v77; // edx@75
  int v78; // edi@75
  int v79; // eax@75
  int v80; // ecx@78
  int v81; // esi@85
  int v82; // eax@85
  int v83; // ecx@85
  int v84; // eax@87
  int v85; // eax@89
  int v86; // eax@89
  int v87; // ST1C_4@89
  int v88; // edi@89
  int v89; // eax@91
  int v90; // eax@91
  int v91; // eax@92
  int v92; // esi@94
  signed int v93; // edi@94
  int v94; // esi@103
  int v95; // eax@103
  int v96; // eax@104
  int v97; // eax@106
  int v98; // eax@114
  int v99; // ecx@114
  int v100; // eax@117
  int v101; // esi@117
  int v102; // edi@117
  int v103; // eax@117
  int v104; // ecx@117
  int v105; // edx@117
  char v106; // dl@118
  int v107; // edx@120
  int v108; // ecx@120
  int v109; // edx@123
  int v110; // eax@123
  int v111; // esi@123
  int v112; // ecx@123
  int v113; // edx@123
  int v114; // edx@123
  int v115; // ecx@123
  int v116; // edx@129
  void *v117; // esi@133
  int v118; // eax@139
  int v119; // esi@141
  int v120; // eax@141
  int v121; // eax@145
  int v122; // ecx@145
  int v123; // eax@145
  void *v124; // esi@146
  int v125; // eax@151
  int v126; // eax@154
  int v127; // eax@159
  int v128; // eax@159
  int v129; // edx@159
  int v130; // edx@159
  int v131; // eax@159
  int v132; // ecx@166
  int v133; // eax@166
  int v134; // edx@166
  int v135; // ecx@166
  int v136; // eax@179
  int v137; // edi@179
  int v138; // esi@179
  int v139; // esi@182
  int v140; // ecx@182
  int v141; // ecx@182
  int v142; // esi@182
  int v143; // eax@182
  int v144; // eax@182
  int v145; // esi@183
  int v146; // edx@185
  int v147; // eax@185
  int v148; // edx@185
  int v149; // eax@185
  int v150; // ecx@185
  int v151; // eax@185
  int v152; // eax@185
  int v153; // ST1C_4@185
  int v154; // eax@191
  int v155; // esi@200
  int v156; // ecx@200
  unsigned int v157; // eax@220
  int v158; // eax@221
  int v159; // edx@224
  int v160; // esi@224
  int v161; // eax@224
  int v162; // esi@224
  int v163; // ecx@224
  int v164; // ecx@224
  int v165; // [sp-4h] [bp-15Ch]@63
  int v166; // [sp-4h] [bp-15Ch]@97
  int v167; // [sp+0h] [bp-158h]@1
  int v168; // [sp+4h] [bp-154h]@37
  int v169; // [sp+8h] [bp-150h]@37
  int v170; // [sp+Ch] [bp-14Ch]@37
  int v171; // [sp+10h] [bp-148h]@37
  int v172; // [sp+14h] [bp-144h]@37
  int v173; // [sp+18h] [bp-140h]@37
  int v174; // [sp+1Ch] [bp-13Ch]@37
  char v175; // [sp+64h] [bp-F4h]@41
  char v176; // [sp+BCh] [bp-9Ch]@41
  int v177; // [sp+11Ch] [bp-3Ch]@8
  int v178; // [sp+120h] [bp-38h]@1
  int v179; // [sp+124h] [bp-34h]@1
  char v180; // [sp+128h] [bp-30h]@60
  int v181; // [sp+12Ch] [bp-2Ch]@1
  int v182; // [sp+130h] [bp-28h]@1
  int v183; // [sp+134h] [bp-24h]@8
  int v184; // [sp+138h] [bp-20h]@1
  int v185; // [sp+13Ch] [bp-1Ch]@1
  int v186; // [sp+140h] [bp-18h]@1
  int v187; // [sp+144h] [bp-14h]@1
  int *v188; // [sp+148h] [bp-10h]@1
  int v189; // [sp+154h] [bp-4h]@1

  v6 = this;
  v7 = *(_DWORD *)(this + 4);
  v8 = *(_DWORD *)(v7 + 16876);
  v181 = *(_DWORD *)(v7 + 16872) - v8;
  v9 = *(_DWORD *)(a2 + 100);
  v10 = *(_DWORD *)(v6 + 39948);
  v184 = v8;
  v186 = 0;
  v187 = 0;
  v182 = 0;
  v11 = *(_DWORD *)(v10 + 244) != 0;
  v188 = &v167;
  v189 = 0;
  v178 = v9;
  v179 = 0;
  v185 = v11;
  v12 = *(_BYTE *)(v10 + 19) || *(_BYTE *)(v10 + 18);
  if ( *(_DWORD *)(a2 + 116) && !*(_DWORD *)(a2 + 120) )
  {
    v9 = *(_DWORD *)(a2 + 116);
    v178 = *(_DWORD *)(a2 + 116);
    v179 = 1;
    v12 = 0;
    v185 = 0;
  }
  v13 = *(_DWORD *)(a2 + 104);
  v14 = *(_DWORD *)a3;
  v15 = (*(_DWORD *)a3 & 4) == 0;
  v177 = *(_DWORD *)(a2 + 104);
  v183 = 1;
  if ( !v15 )
  {
    v13 = *(_DWORD *)(a3 + 84);
    v177 = *(_DWORD *)(a3 + 84);
    v183 = ~(unsigned __int8)(v14 >> 9) & 1;
  }
  if ( *(_DWORD *)(*(_DWORD *)(v6 + 4) + 100) )
  {
    v16 = a2;
    *(_DWORD *)(a2 + 108) = 0;
    *(_DWORD *)(v16 + 112) = 0;
  }
  if ( v13 )
  {
    if ( !sub_1000A310(v6, v9, (int)&v187, (int)&v186, (int)&v182, (const void *)a3, 0, a4, a5, 0) )
      return 0;
    if ( v12 )
    {
      if ( v186 == 1 )
      {
        v98 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
        v99 = *(_DWORD *)(v98 + 48);
        v98 += 36;
        *(_DWORD *)(v98 + 12) = v99 & 0xC0FFF03F;
        *(_DWORD *)(v98 + 8) = *(_DWORD *)(v98 + 8) & 0xFFC80FFF | ((((*(_BYTE *)(*(_DWORD *)(v6 + 39948) + 20) != 0) + 4) & 0x1F | 0x80) << 12);
      }
      else
      {
        if ( v186 >= v184 + v181 )
        {
          if ( a4 )
            FString::operator_("No stages left for vertex lighting stage");
          if ( a5 )
            *(_DWORD *)a5 = a2;
          return 0;
        }
        v109 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
        v110 = v109 + 112 * v186 + 36;
        v111 = *(_DWORD *)(v109 + 112 * v186 + 48) & 0xFFFFF040 | 0x40;
        *(_DWORD *)(v109 + 112 * v186 + 48) = v111;
        v112 = *(_DWORD *)(v110 + 8);
        v113 = *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 20) != 0;
        *(_DWORD *)(v110 + 12) = v111 & 0xC1FFFFFF | 0x1000000;
        v114 = v112 ^ ((v113 + 4) << 12);
        v115 = v114 & 0x1F000 ^ v112;
        *(_DWORD *)(v110 + 8) = v115;
        *(_DWORD *)(v110 + 8) = v115 & 0xFFC7FFFF | 0x60000;
        ++v186;
        if ( v181 )
          ++v182;
      }
    }
    if ( v185 )
    {
      if ( v186 >= v182 + v184 )
      {
        if ( a4 )
          FString::operator_("No stages left for lightmap");
        if ( a5 )
          *(_DWORD *)a5 = a2;
        return 0;
      }
      v100 = *(_DWORD *)(v6 + 39948);
      v101 = *(_BYTE *)(v100 + 22);
      v102 = *(_DWORD *)(v100 + 244);
      v103 = *(_DWORD *)(v100 + 4 * v187 + 772) + 112 * v186 + 36;
      *(_DWORD *)(v103 + 12) = *(_DWORD *)(v103 + 12) & 0xFF07F042 | 0x40042;
      v104 = *(_DWORD *)(v103 + 8) & 0xFFC5FFFF | 0x40000;
      *(_DWORD *)(v103 + 8) = v104;
      v105 = *(_DWORD *)(v6 + 39948);
      if ( !*(_BYTE *)(v105 + 20) || (v15 = *(_BYTE *)(v105 + 19) == 0, v106 = 5, !v15) )
        v106 = 4;
      v107 = v104 & 0xFFFE0F33 | ((v106 & 0x1F) << 12) | 0x33;
      v108 = *(_DWORD *)(v103 + 16) & 0xFE0000BF | 0x80;
      *(_DWORD *)v103 = v102;
      *(_DWORD *)(v103 + 8) = v107;
      *(_DWORD *)(v103 + 16) = v108;
      if ( v101 )
      {
        v116 = *(_DWORD *)(v103 + 20);
        *(_DWORD *)(v103 + 16) = v108 | 0x40;
        memcpy((void *)(v103 + 24), FMatrix::Identity, 0x40u);
        *(_DWORD *)(v103 + 20) = v116 & 0xFFFFFF03 | 0x103;
      }
      else
      {
        *(_DWORD *)(v103 + 16) = v108 & 0xFFFFFFBF;
        *(_DWORD *)(v103 + 20) = *(_DWORD *)(v103 + 20) & 0xFFFFFE02 | 2;
      }
      v9 = v178;
      ++v186;
    }
    if ( v177 != v9 )
    {
      if ( v183 )
        v117 = (void *)a3;
      else
        v117 = sub_10003C30(&v176);
      memcpy(&v175, v117, 0x58u);
      v118 = sub_10008040(v177, v6, v5, (int)&v175, 0);
      if ( v118 )
      {
        if ( v186 >= v182 + v184 )
        {
          if ( a4 )
            FString::operator_("No stages left for opacity bitmap");
          if ( a5 )
            *(_DWORD *)a5 = a2;
          return 0;
        }
        v119 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36;
        sub_100044B0(v6, v119, v118);
        v120 = *(_DWORD *)(v119 + 12) & 0xC10BF07F;
        *(_DWORD *)(v119 + 8) = *(_DWORD *)(v119 + 8) & 0xFFC43FFF | 0x43000;
        *(_DWORD *)(v119 + 12) = v120 | 0x1080040;
        sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36, (int)&v175);
      }
      else
      {
        v72 = v177;
        v125 = sub_100077B0(v177, v6, v5, (int)&v175, 0);
        if ( v125 )
        {
          if ( v186 >= v184 + v182 )
          {
            if ( a4 )
              FString::operator_("No stages left for constant opacity");
            if ( a5 )
              *(_DWORD *)a5 = a2;
            return 0;
          }
          (*(void (__thiscall **)(int, int *, _DWORD))(*(_DWORD *)v125 + 172))(
            v125,
            &v181,
            *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 8) + 48) + 148) + 792));
          if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 16) )
          {
            v126 = FColor::DWColor(&v181);
            if ( *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 16) != *(_DWORD *)v126 )
            {
              if ( a4 )
                FString::operator_("Only one ConstantMaterial may be used per material.");
              if ( a5 )
                *(_DWORD *)a5 = a2;
              return 0;
            }
          }
          v127 = FColor::DWColor(&v181);
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 16) = *(_DWORD *)v127;
          v128 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 48;
          *(_DWORD *)v128 = *(_DWORD *)v128 & 0xFF0FFFFF | 0xC0000;
          v129 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
          *(_DWORD *)(v129 + 112 * v186 + 44) = *(_DWORD *)(v129 + 112 * v186 + 44) & 0xFFC5FFFF | 0x40000;
          v130 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
          *(_DWORD *)(v130 + 112 * v186 + 48) = *(_DWORD *)(v130 + 112 * v186 + 48) & 0xFFFFFFC1 | 1;
          v131 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 44;
          *(_DWORD *)v131 = *(_DWORD *)v131 & 0xFFFE2FFF | 0x2000;
        }
        else
        {
          if ( !sub_10006F20(v72, v6, v5, (int)&v175, 0) )
          {
            if ( a4 )
            {
              v166 = (int)"Cannot handle complex opacity which is not the same as diffuse material";
              goto LABEL_98;
            }
LABEL_99:
            if ( a5 )
              *(_DWORD *)a5 = v72;
            return 0;
          }
          if ( v186 >= v184 + v182 )
          {
            if ( a4 )
              FString::operator_("No stages left for vertex opacity");
            if ( a5 )
              *(_DWORD *)a5 = a2;
            return 0;
          }
          v132 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
          v133 = v132 + 112 * v186 + 36;
          v134 = *(_DWORD *)(v132 + 112 * v186 + 48) & 0xFF03F07F | 0x40;
          v135 = *(_DWORD *)(v132 + 112 * v186 + 44) & 0xFFC43FFF | 0x43000;
          *(_DWORD *)(v133 + 12) = v134;
          *(_DWORD *)(v133 + 8) = v135;
        }
      }
      ++v186;
    }
    if ( !v179 && *(_DWORD *)(a2 + 116) )
    {
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187++ + 772) + 9) = v186;
      v186 = 0;
      *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) = sub_10010250(v6 + 40904, (const void *)(v6 + 39952));
      v121 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
      v122 = a2;
      *(_DWORD *)(v121 + 4) &= 0xFFFFFFEFu;
      v123 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
      *(_DWORD *)(v123 + 4) ^= ((unsigned __int8)*(_DWORD *)(v123 + 4) ^ (unsigned __int8)(32 * *(_DWORD *)(v122 + 188))) & 0x20;
      if ( v183 )
        v124 = (void *)a3;
      else
        v124 = sub_10003C30(&v170);
      memcpy(&v175, v124, 0x58u);
      v183 = sub_10008040(v177, v6, v5, (int)&v175, 0);
      if ( !v183 )
      {
        if ( a4 )
          FString::operator_("Opacity must be a simple bitmap when using SelfIllumination");
        if ( a5 )
          *(_DWORD *)a5 = v177;
        return 0;
      }
      memcpy(&v176, (const void *)a3, 0x58u);
      v136 = sub_10008040(*(_DWORD *)(a2 + 120), v6, v5, (int)&v176, 0);
      v137 = a5;
      v138 = a4;
      v181 = v136;
      if ( !sub_1000A310(v6, *(_DWORD *)(a2 + 116), (int)&v187, (int)&v186, (int)&v182, (const void *)a3, 0, a4, a5, 0) )
        return 0;
      if ( !v181 )
      {
        if ( v138 )
          FString::operator_("SelfIllimunationMask must be a simple bitmap");
        if ( v137 )
          *(_DWORD *)v137 = a2;
        return 0;
      }
      if ( v186 >= v184 - 1 )
      {
        if ( v138 )
        {
          v154 = FString::Printf(
                   &v180,
                   "No room for SelfIllimunationMask in multipass SelfIllumination (StagesUsed was %d)",
                   v186);
          LOBYTE(v189) = 3;
          TArray<char>::operator_(v138, v154);
          LOBYTE(v189) = 0;
          FStringTemp::_FStringTemp(&v180);
        }
        if ( v137 )
          *(_DWORD *)v137 = a2;
        return 0;
      }
      v139 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36;
      sub_100044B0(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36, v181);
      v140 = *(_DWORD *)(v139 + 12) & 0xC10BF07F | 0x1080040;
      *(_DWORD *)(v139 + 8) = *(_DWORD *)(v139 + 8) & 0xFFC43FFF | 0x43000;
      *(_DWORD *)(v139 + 12) = v140;
      sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36, (int)&v176);
      v141 = *(_DWORD *)(v6 + 39948);
      ++v186;
      v142 = *(_DWORD *)(v141 + 4 * v187 + 772) + 112 * v186 + 36;
      sub_100044B0(v6, *(_DWORD *)(v141 + 4 * v187 + 772) + 112 * v186 + 36, v183);
      v143 = *(_DWORD *)(v142 + 12) & 0xC10BF07F;
      *(_DWORD *)(v142 + 8) = *(_DWORD *)(v142 + 8) & 0xFFC83FFF | 0x83000;
      *(_DWORD *)(v142 + 12) = v143 | 0x1080040;
      sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36, (int)&v175);
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 20) = 5;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 24) = 6;
      v144 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
      *(_DWORD *)(v144 + 4) |= 1u;
    }
    v145 = a2;
    if ( sub_100105B0(v6, a2, (int)&v186, (int)&v187, (const void *)a3) || !*(_DWORD *)(v145 + 108) )
      goto LABEL_93;
    v146 = *(_DWORD *)(a2 + 112);
    memcpy(&v176, (const void *)a3, 0x58u);
    v147 = sub_10008040(v146, v6, v5, (int)&v176, 0);
    v46 = a2;
    v148 = *(_DWORD *)(a2 + 112);
    v181 = v147;
    v149 = sub_100077B0(v148, v6, v5, (int)&v176, 0);
    v150 = *(_DWORD *)(v6 + 39948);
    v183 = v149;
    *(_BYTE *)(*(_DWORD *)(v150 + 4 * v187++ + 772) + 9) = v186;
    v186 = 0;
    *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) = sub_10010250(v6 + 40904, (const void *)(v6 + 39952));
    v151 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
    *(_DWORD *)(v151 + 4) &= 0xFFFFFFEFu;
    v152 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
    v153 = a5;
    *(_DWORD *)(v152 + 4) ^= ((unsigned __int8)*(_DWORD *)(v152 + 4) ^ (unsigned __int8)(32 * *(_DWORD *)(v46 + 188))) & 0x20;
    v62 = a4;
    if ( !sub_1000A310(v6, *(_DWORD *)(v46 + 108), (int)&v187, (int)&v186, (int)&v182, (const void *)a3, 0, a4, v153, 0) )
      return 0;
    if ( *(_DWORD *)(v46 + 112) )
    {
      if ( v183 )
      {
        if ( !v62 )
          goto LABEL_65;
        v165 = (int)"TODO: constant SpecularityMask with multipass specular";
        goto LABEL_64;
      }
      if ( !v181 )
      {
        if ( !v62 )
          goto LABEL_65;
        v165 = (int)"SpecularityMask must be a simple bitmap";
        goto LABEL_64;
      }
      if ( v186 >= v184 )
      {
        if ( v62 )
        {
          v66 = FString::Printf(&v180, "No room for SpecularityMask in multipass specular (StagesUsed was %d)", v186);
          LOBYTE(v189) = 4;
          goto LABEL_61;
        }
LABEL_65:
        if ( a5 )
          *(_DWORD *)a5 = v46;
        return 0;
      }
      v155 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36;
      sub_100044B0(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36, v181);
      v156 = *(_DWORD *)(v155 + 12) & 0xC10BF07F | 0x1080040;
      *(_DWORD *)(v155 + 8) = *(_DWORD *)(v155 + 8) & 0xFFC43FFF | 0x43000;
      *(_DWORD *)(v155 + 12) = v156;
      sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36, (int)&v176);
    }
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 20) = *(_DWORD *)(v46 + 112) != 0 ? 5 : 2;
    goto LABEL_104;
  }
  if ( !sub_1000A310(v6, v9, (int)&v187, (int)&v186, (int)&v182, (const void *)a3, 0, a4, a5, 0) )
    return 0;
  v17 = v186;
  if ( v186 != 1 )
  {
    v20 = v185;
    if ( v186 >= v184 )
    {
      if ( !v12 && !v185 )
        goto LABEL_39;
    }
    else
    {
      if ( !v185 )
      {
        if ( v12 && v186 )
        {
          v32 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
          v33 = v32 + 112 * v186 + 36;
          v34 = *(_DWORD *)(v32 + 112 * v186 + 48) & 0xFFFFF040 | 0x40;
          *(_DWORD *)(v32 + 112 * v186 + 48) = v34;
          v35 = *(_DWORD *)(v33 + 8);
          v36 = *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 20) != 0;
          *(_DWORD *)(v33 + 12) = v34 & 0xC1FFFFFF | 0x1000000;
          v37 = v35 ^ ((v36 + 4) << 12);
          v38 = v37 & 0x1F000 ^ v35;
          *(_DWORD *)(v33 + 8) = v38;
          *(_DWORD *)(v33 + 8) = v38 & 0xFFC7FFFF | 0x60000;
          ++v186;
        }
        goto LABEL_39;
      }
      if ( !v12 )
      {
LABEL_23:
        v21 = *(_DWORD *)(v6 + 39948);
        v22 = 112 * v17;
        v23 = *(_DWORD *)(v21 + 244);
        v24 = *(_BYTE *)(v21 + 22);
        v25 = *(_DWORD *)(v21 + 4 * v187 + 772);
        v26 = *(_DWORD *)(v25 + v22 + 48);
        v27 = v25 + v22 + 36;
        v28 = *(_DWORD *)(v27 + 8) & 0xFFC5FFFF | 0x40000;
        *(_DWORD *)(v27 + 8) = v28;
        *(_DWORD *)(v27 + 12) = v26 & 0xFF07F042 | 0x40042;
        v29 = *(_DWORD *)(v6 + 39948);
        if ( !*(_BYTE *)(v29 + 20) || (v15 = *(_BYTE *)(v29 + 19) == 0, v30 = 5, !v15) )
          v30 = 4;
        *(_DWORD *)v27 = v23;
        *(_DWORD *)(v27 + 8) = v28 & 0xFFFE0F33 | ((v30 & 0x1F) << 12) | 0x33;
        v31 = *(_DWORD *)(v27 + 16) & 0xFE0000BF | 0x80;
        *(_DWORD *)(v27 + 16) = v31;
        if ( v24 )
        {
          *(_DWORD *)(v27 + 16) = v31 | 0x40;
          memcpy((void *)(v27 + 24), FMatrix::Identity, 0x40u);
          *(_DWORD *)(v27 + 20) = *(_DWORD *)(v27 + 20) & 0xFFFFFF03 | 0x103;
          ++v186;
        }
        else
        {
          *(_DWORD *)(v27 + 16) = v31 & 0xFFFFFFBF;
          *(_DWORD *)(v27 + 20) = *(_DWORD *)(v27 + 20) & 0xFFFFFE02 | 2;
          ++v186;
        }
        goto LABEL_39;
      }
    }
    *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187++ + 772) + 9) = v186;
    v186 = 0;
    *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) = sub_10010250(v6 + 40904, (const void *)(v6 + 39952));
    v39 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
    *(_DWORD *)(v39 + 4) &= 0xFFFFFFEFu;
    sub_10004410(
      v6,
      *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36,
      *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 244),
      v12);
    if ( !v12 || v20 || *(_BYTE *)(a2 + 188) & 4 )
    {
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 20) = 9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 24) = 3;
      v40 = FColor::FColor(&v181, 127, 127, 127, 0, v167, v168, v169, v170, v171, v172, v173, v174);
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 28) = *(_DWORD *)v40;
      v41 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
      *(_DWORD *)(v41 + 4) |= 0x40u;
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 20) = 9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 24) = 1;
    }
    v42 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
    *(_DWORD *)(v42 + 4) ^= ((unsigned __int8)*(_DWORD *)(v42 + 4) ^ (unsigned __int8)(32 * *(_DWORD *)(a2 + 188))) & 0x20;
    v43 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
    *(_DWORD *)(v43 + 4) |= 1u;
    goto LABEL_39;
  }
  if ( v12 )
  {
    v18 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
    v19 = *(_DWORD *)(v18 + 48);
    v18 += 36;
    *(_DWORD *)(v18 + 12) = v19 & 0xC0FFF03F;
    *(_DWORD *)(v18 + 8) = *(_DWORD *)(v18 + 8) & 0xFFC80FFF | ((((*(_BYTE *)(*(_DWORD *)(v6 + 39948) + 20) != 0) + 4) & 0x1F | 0x80) << 12);
    v17 = v186;
  }
  if ( v185 )
    goto LABEL_23;
LABEL_39:
  v181 = 0;
  if ( !v179 )
  {
    v44 = *(_DWORD *)(a2 + 116);
    if ( v44 )
    {
      memcpy(&v175, (const void *)a3, 0x58u);
      memcpy(&v176, (const void *)a3, 0x58u);
      v45 = sub_10008040(v44, v6, v5, (int)&v175, 0);
      v46 = a2;
      v47 = *(_DWORD *)(a2 + 120);
      v185 = v45;
      v48 = sub_10008040(v47, v6, v5, (int)&v176, 0);
      v179 = v48;
      if ( v185 == v48 )
      {
        v49 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36;
        sub_100044B0(v6, v49, v185);
        v50 = *(_DWORD *)(v49 + 12) & 0xFF0BF042 | 0x80042;
        *(_DWORD *)(v49 + 8) = *(_DWORD *)(v49 + 8) & 0xFFC4DFFF | 0x4D000;
        *(_DWORD *)(v49 + 12) = v50;
        sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36, (int)&v175);
        goto LABEL_43;
      }
      if ( v187 )
      {
        v53 = v186;
      }
      else
      {
        v53 = v186;
        if ( v186 < v184 - 1 && v185 && v48 )
        {
          v54 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 112 * v186 + 36;
          sub_100044B0(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 112 * v186 + 36, v179);
          v55 = *(_DWORD *)(v54 + 12) & 0xC10BF07F | 0x1080040;
          *(_DWORD *)(v54 + 8) = *(_DWORD *)(v54 + 8) & 0xFFC43FFF | 0x43000;
          *(_DWORD *)(v54 + 12) = v55;
          sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36, (int)&v176);
          v56 = *(_DWORD *)(v6 + 39948);
          ++v186;
          v57 = *(_DWORD *)(v56 + 4 * v187 + 772) + 112 * v186 + 36;
          sub_100044B0(v6, *(_DWORD *)(v56 + 4 * v187 + 772) + 112 * v186 + 36, v185);
          v58 = *(_DWORD *)(v57 + 12) & 0xFF07F042;
          *(_DWORD *)(v57 + 8) = *(_DWORD *)(v57 + 8) & 0xFFC50FFF | 0x50000;
          *(_DWORD *)(v57 + 12) = v58 | 0x40042;
          sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36, (int)&v175);
          v181 = 1;
          goto LABEL_43;
        }
      }
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187++ + 772) + 9) = v53;
      v186 = 0;
      *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) = sub_10010250(v6 + 40904, (const void *)(v6 + 39952));
      v59 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
      *(_DWORD *)(v59 + 4) &= 0xFFFFFFEFu;
      v60 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
      v61 = a5;
      *(_DWORD *)(v60 + 4) ^= ((unsigned __int8)*(_DWORD *)(v60 + 4) ^ (unsigned __int8)(32 * *(_DWORD *)(v46 + 188))) & 0x20;
      v62 = a4;
      if ( !sub_1000A310(
              v6,
              *(_DWORD *)(v46 + 116),
              (int)&v187,
              (int)&v186,
              (int)&v182,
              (const void *)a3,
              0,
              a4,
              v61,
              0) )
        return 0;
      if ( *(_DWORD *)(v46 + 120) == *(_DWORD *)(v46 + 116) )
      {
LABEL_55:
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 20) = 5;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 24) = 6;
        v63 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
        *(_DWORD *)(v63 + 4) |= 1u;
        goto LABEL_43;
      }
      if ( v179 )
      {
        if ( v186 < v184 )
        {
          v64 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36;
          sub_100044B0(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36, v179);
          v65 = *(_DWORD *)(v64 + 12) & 0xC10BF07F | 0x1080040;
          *(_DWORD *)(v64 + 8) = *(_DWORD *)(v64 + 8) & 0xFFC43FFF | 0x43000;
          *(_DWORD *)(v64 + 12) = v65;
          sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36, (int)&v176);
          goto LABEL_55;
        }
        if ( v62 )
        {
          v66 = FString::Printf(
                  &v180,
                  "No room for SelfIllimunationMask in multipass SelfIllumination (StagesUsed was %d)",
                  v186);
          LOBYTE(v189) = 1;
LABEL_61:
          TArray<char>::operator_(v62, v66);
          LOBYTE(v189) = 0;
          FStringTemp::_FStringTemp(&v180);
          goto LABEL_65;
        }
        goto LABEL_65;
      }
      if ( !v62 )
        goto LABEL_65;
      v165 = (int)"SelfIllimunationMask must be a simple bitmap";
LABEL_64:
      FString::operator_(v165);
      goto LABEL_65;
    }
  }
LABEL_43:
  if ( *(_DWORD *)(*(_DWORD *)(v6 + 4) + 64) && *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 17) )
  {
    if ( *(_DWORD *)(a2 + 124) )
    {
      v51 = *(_DWORD *)(a2 + 128);
      v52 = *(_DWORD *)(a2 + 124);
    }
    else
    {
      v68 = sub_10009160(v178, v6, v5, 0, 0);
      if ( !v68 )
        goto LABEL_73;
      v52 = *(_DWORD *)(v68 + 132);
      v51 = *(_DWORD *)(v68 + 136);
    }
    v179 = v52;
    v183 = v51;
    if ( v52 )
    {
      memcpy(&v176, (const void *)a3, 0x58u);
      sub_10003CC0((int)&v176, *(float *)&v183);
      v69 = sub_10008040(v179, v6, v5, (int)&v176, 0);
      if ( v69 )
        sub_10010360(v69, &v187, &v186, &v182, &v176, 0);
    }
  }
LABEL_73:
  if ( sub_100105B0(v6, a2, (int)&v186, (int)&v187, (const void *)a3) || (v70 = *(_DWORD *)(a2 + 108)) == 0 )
    goto LABEL_93;
  memcpy(&v176, (const void *)a3, 0x58u);
  memcpy(&v175, (const void *)a3, 0x58u);
  v71 = sub_10008040(v70, v6, v5, (int)&v176, 0);
  v72 = a2;
  v73 = *(_DWORD *)(a2 + 112);
  v185 = v71;
  v74 = sub_10008040(v73, v6, v5, (int)&v175, 0);
  v75 = *(_DWORD *)(v72 + 112);
  v178 = v74;
  v76 = sub_100077B0(v75, v6, v5, (int)&v175, 0);
  v77 = v187;
  v78 = v76;
  v79 = v186;
  v183 = v78;
  if ( v187 )
  {
LABEL_89:
    *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187++ + 772) + 9) = v186;
    v186 = 0;
    *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) = sub_10010250(v6 + 40904, (const void *)(v6 + 39952));
    v85 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
    *(_DWORD *)(v85 + 4) &= 0xFFFFFFEFu;
    v86 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
    v87 = a5;
    *(_DWORD *)(v86 + 4) ^= ((unsigned __int8)*(_DWORD *)(v86 + 4) ^ (unsigned __int8)(32 * *(_DWORD *)(v72 + 188))) & 0x20;
    v88 = a4;
    if ( sub_1000A310(v6, *(_DWORD *)(v72 + 108), (int)&v187, (int)&v186, (int)&v182, (const void *)a3, 0, a4, v87, 0) )
    {
      if ( !*(_DWORD *)(v72 + 112) )
      {
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 20) = 2;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 24) = 2;
        v89 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
        *(_DWORD *)(v89 + 4) |= 1u;
        v90 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
LABEL_92:
        *(_DWORD *)(v90 + 4) |= 0x40u;
        v91 = FColor::FColor(&a5, 0, 0, 0, 0, v167, v168, v169, v170, v171, v172, v173, v174);
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 28) = *(_DWORD *)v91;
        goto LABEL_93;
      }
      if ( v183 )
      {
        if ( !v88 )
          goto LABEL_99;
        v166 = (int)"TODO: constant SpecularityMask with multipass specular";
        goto LABEL_98;
      }
      if ( v178 )
      {
        if ( v186 >= v184 )
        {
          if ( v88 )
          {
            v97 = FString::Printf(&v180, "No room for SpecularityMask in multipass specular (StagesUsed was %d)", v186);
            LOBYTE(v189) = 2;
            TArray<char>::operator_(v88, v97);
            LOBYTE(v189) = 0;
            FStringTemp::_FStringTemp(&v180);
          }
          if ( a5 )
            *(_DWORD *)a5 = v72;
          return 0;
        }
        v94 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36;
        sub_100044B0(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36, v178);
        v95 = *(_DWORD *)(v94 + 12) & 0xC10BF07F;
        *(_DWORD *)(v94 + 8) = *(_DWORD *)(v94 + 8) & 0xFFC43FFF | 0x43000;
        *(_DWORD *)(v94 + 12) = v95 | 0x1080040;
        sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36, (int)&v175);
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 20) = 5;
LABEL_104:
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 24) = 2;
        v96 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
        *(_DWORD *)(v96 + 4) |= 1u;
        v90 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772);
        goto LABEL_92;
      }
      if ( v88 )
      {
        v166 = (int)"SpecularityMask must be a simple bitmap";
LABEL_98:
        FString::operator_(v166);
        goto LABEL_99;
      }
      goto LABEL_99;
    }
    return 0;
  }
  if ( v186 < v184 && v185 )
  {
    v80 = *(_DWORD *)(v72 + 112);
    if ( v80 && (v80 != *(_DWORD *)(v72 + 100) || v181) )
    {
      if ( !v78 )
        goto LABEL_82;
    }
    else
    {
      if ( !v78 )
      {
LABEL_88:
        sub_10004B10(
          v6,
          *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v77 + 772) + 112 * v79 + 36,
          v185,
          *(_DWORD *)(v72 + 112) != 0,
          v78 != 0);
        sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36, (int)&v176);
        goto LABEL_93;
      }
    }
    LOBYTE(a5) = *(_BYTE *)((*(int (__thiscall **)(int, int *, _DWORD))(*(_DWORD *)v78 + 172))(
                              v78,
                              &a5,
                              *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 8) + 48) + 148) + 792))
                          + 3);
    v84 = FColor::FColor(&a5, a5, a5, a5, a5, v167, v168, v169, v170, v171, v172, v173, v174);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 16) = FColor::operator unsigned_long(v84);
    v79 = v186;
    v77 = v187;
    goto LABEL_88;
  }
LABEL_82:
  if ( v186 >= v184 - 1 || !v185 || !v178 )
    goto LABEL_89;
  v81 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 112 * v186 + 36;
  sub_100044B0(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 112 * v186 + 36, v178);
  v82 = *(_DWORD *)(v81 + 12) & 0xC10BF07F;
  *(_DWORD *)(v81 + 8) = *(_DWORD *)(v81 + 8) & 0xFFC43FFF | 0x43000;
  *(_DWORD *)(v81 + 12) = v82 | 0x1080040;
  sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186 + 36, (int)&v175);
  v83 = *(_DWORD *)(v6 + 39948);
  ++v186;
  sub_10004B10(v6, *(_DWORD *)(v83 + 4 * v187 + 772) + 112 * v186 + 36, v185, 1, 0);
  sub_10005670(v6, *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 112 * v186++ + 36, (int)&v176);
LABEL_93:
  if ( *(_DWORD *)a3 & 0xFF00000 )
  {
    sub_100045D0((void *)v6, a3);
    v92 = a2;
    v93 = 1;
  }
  else
  {
    v92 = a2;
    switch ( *(_BYTE *)(a2 + 184) )
    {
      case 0:
        v93 = 1;
        if ( !v177 )
        {
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 2;
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 1;
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFFEu;
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFFDu;
          goto LABEL_211;
        }
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 5;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 6;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 1u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 2u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFEFu;
        break;
      case 1:
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 2;
        v93 = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFFEu;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 2u;
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 8) = 127;
LABEL_211:
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 0x10u;
        break;
      case 2:
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 9;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 3;
        v93 = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 1u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFEFu;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 0x40u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 28) = *(_DWORD *)FColor::FColor(
                                                                                    &a2,
                                                                                    127,
                                                                                    127,
                                                                                    127,
                                                                                    0,
                                                                                    v167,
                                                                                    v168,
                                                                                    v169,
                                                                                    v170,
                                                                                    v171,
                                                                                    v172,
                                                                                    v173,
                                                                                    v174);
        break;
      case 3:
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 2;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 2;
        v93 = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 1u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFEFu;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 0x40u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 28) = *(_DWORD *)FColor::FColor(
                                                                                    &a5,
                                                                                    0,
                                                                                    0,
                                                                                    0,
                                                                                    0,
                                                                                    v167,
                                                                                    v168,
                                                                                    v169,
                                                                                    v170,
                                                                                    v171,
                                                                                    v172,
                                                                                    v173,
                                                                                    v174);
        break;
      case 5:
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 2;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 4;
        v93 = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 1u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFEFu;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 0x40u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 28) = *(_DWORD *)FColor::FColor(
                                                                                    &a4,
                                                                                    0,
                                                                                    0,
                                                                                    0,
                                                                                    0,
                                                                                    v167,
                                                                                    v168,
                                                                                    v169,
                                                                                    v170,
                                                                                    v171,
                                                                                    v172,
                                                                                    v173,
                                                                                    v174);
        break;
      case 6:
        v93 = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 4;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 1u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFEFu;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 0x40u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 28) = *(_DWORD *)FColor::FColor(
                                                                                    &v181,
                                                                                    0,
                                                                                    0,
                                                                                    0,
                                                                                    0,
                                                                                    v167,
                                                                                    v168,
                                                                                    v169,
                                                                                    v170,
                                                                                    v171,
                                                                                    v172,
                                                                                    v173,
                                                                                    v174);
        break;
      case 4:
        v93 = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 1;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 2;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= 1u;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) &= 0xFFFFFFEFu;
        break;
      default:
        v93 = 1;
        break;
    }
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) ^= ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772)
                                                                                               + 4) ^ (unsigned __int8)(32 * *(_DWORD *)(v92 + 188))) & 0x20;
  }
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 12) = ~(2 * (unsigned __int8)(*(_DWORD *)(v92 + 188) >> 1)) & 2;
  if ( *(_DWORD *)a3 & 2 )
  {
    v157 = *(_DWORD *)a3;
    if ( BYTE1(v157) & 1 )
    {
      v158 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772);
      if ( *(_DWORD *)(v158 + 20) == 2 )
      {
        if ( *(_DWORD *)(v158 + 24) == v93 )
        {
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 20) = 5;
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 24) = 6;
        }
      }
    }
    v159 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772);
    v160 = *(_DWORD *)(v159 + 112 * v186 + 44);
    v161 = v159 + 112 * v186 + 36;
    *(_DWORD *)(v159 + 112 * v186 + 48) = *(_DWORD *)(v159 + 112 * v186 + 48) & 0xC307F0C1 | 0x30400C1;
    v162 = v160 & 0xFFC9FFFF | 0x80000;
    *(_DWORD *)(v161 + 8) = v162;
    v15 = *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 20) == 0;
    *(_DWORD *)v161 = 0;
    v163 = v162 ^ ((!v15 + 4) << 12);
    *(_DWORD *)(v161 + 8) = v162 ^ v163 & 0x1F000;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 16) = FColor::operator unsigned_long(a3 + 76);
    v164 = a3;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= v93 & (*(_DWORD *)a3 >> 8);
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) + 4) |= (*(_DWORD *)v164 >> 2) & 0x20;
    ++v186;
  }
  *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * v187 + 772) + 9) = v186;
  *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 804) = v187 + 1;
  return v93;
}
// 10010360: using guessed type _DWORD __stdcall sub_10010360(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F0B0: using guessed type void *FMatrix__Identity;
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1006F0D8: using guessed type int __thiscall TArray_char___operator_(_DWORD, _DWORD);
// 1006F150: using guessed type int FString__Printf(_DWORD, const char *, ...);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F3E0: using guessed type int __thiscall FColor__DWColor(_DWORD);
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);

//----- (1001330F) --------------------------------------------------------
void __usercall sub_1001330F(int a1<ebp>)
{
  *(_DWORD *)(a1 - 64) = *(_DWORD *)(a1 - 68);
  CxxThrowException(a1 - 64, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10013323) --------------------------------------------------------
void __cdecl sub_10013323()
{
  appUnwindf("%s", off_100800B4[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800B4: using guessed type char *off_100800B4[57];

//----- (10013360) --------------------------------------------------------
signed int __thiscall sub_10013360(void *this, int a2, const void *a3, int a4, int a5)
{
  int v5; // ebp@0
  int v6; // ebx@1
  int v7; // edi@1
  int v8; // edx@1
  int v9; // eax@3
  int i; // ecx@3
  int v11; // eax@9
  int v12; // ecx@10
  bool v13; // zf@10
  int v14; // ecx@13
  __int128 v15; // xmm0@21
  int v16; // eax@23
  int v17; // ecx@23
  int v18; // edx@24
  int v19; // eax@24
  int v20; // eax@27
  int v21; // eax@30
  int v22; // eax@31
  int v23; // edi@31
  int v24; // ecx@31
  int v25; // edx@31
  int v26; // edi@32
  int v27; // ecx@32
  int v28; // edx@32
  int v29; // eax@34
  int v30; // esi@34
  int v31; // eax@34
  int v32; // esi@34
  int v33; // ecx@34
  int v34; // edx@34
  int v35; // edx@34
  int v36; // ecx@34
  int v37; // eax@35
  int v38; // ecx@35
  int v39; // ecx@37
  int v40; // esi@38
  int v41; // edx@38
  int v42; // edi@38
  int v43; // esi@38
  int v44; // eax@38
  int v45; // ecx@38
  int v46; // edx@38
  char v47; // dl@39
  int v48; // edx@41
  int v49; // ecx@41
  int v50; // edx@43
  int v51; // eax@44
  int v52; // edx@44
  int v53; // eax@44
  int v54; // eax@44
  int v55; // eax@44
  int v56; // eax@44
  int v57; // eax@50
  int v58; // edx@53
  int v59; // esi@53
  int v60; // eax@53
  int v61; // esi@53
  int v62; // ecx@53
  int v63; // eax@53
  int v64; // eax@53
  int v65; // eax@58
  int v67; // [sp-Ch] [bp-F0h]@1
  int v68; // [sp-8h] [bp-ECh]@44
  int v69; // [sp-4h] [bp-E8h]@44
  unsigned int v70; // [sp+0h] [bp-E4h]@44
  int v71; // [sp+4h] [bp-E0h]@44
  int v72; // [sp+8h] [bp-DCh]@44
  int v73; // [sp+Ch] [bp-D8h]@44
  int v74; // [sp+10h] [bp-D4h]@44
  unsigned int v75; // [sp+5Ch] [bp-88h]@1
  char v76; // [sp+A4h] [bp-40h]@11
  char v77; // [sp+A8h] [bp-3Ch]@53
  float v78; // [sp+B8h] [bp-2Ch]@1
  int v79; // [sp+BCh] [bp-28h]@23
  int v80; // [sp+C0h] [bp-24h]@23
  int v81; // [sp+C4h] [bp-20h]@23
  int v82; // [sp+C8h] [bp-1Ch]@1
  int v83; // [sp+CCh] [bp-18h]@23
  int v84; // [sp+D0h] [bp-14h]@23
  int *v85; // [sp+D4h] [bp-10h]@1
  int v86; // [sp+E0h] [bp-4h]@1

  v6 = (int)this;
  memcpy(&v75, a3, 0x58u);
  v7 = a2;
  v8 = 0;
  v85 = &v67;
  v86 = 0;
  v82 = 0;
  LODWORD(v78) = dword_100704B8;
  if ( !(v75 & 0xFF00000) && a2 )
  {
    v9 = UTexture::StaticClass();
    for ( i = *(_DWORD *)(v7 + 36); i; i = *(_DWORD *)(i + 48) )
    {
      if ( i == v9 )
        goto LABEL_8;
    }
    if ( !(v9 == 0) )
      goto LABEL_22;
LABEL_8:
    if ( !v7 )
      goto LABEL_22;
    v11 = *(_DWORD *)(v7 + 172);
    if ( v11 & 1 )
    {
      v12 = v75 & 0xF01FFFFF | 0x100000;
      v13 = (v75 & 2) == 0;
      v75 = v75 & 0xF01FFFFF | 0x100000;
      if ( v13 || (v76 = 2, !(BYTE1(v12) & 1)) )
        v76 = 0;
      v14 = v12 & 0xFFF7FFFF | 0x7F070;
      v75 = v14;
      if ( v14 & 2 )
        goto LABEL_21;
      goto LABEL_20;
    }
    if ( v11 & 2 )
    {
      v14 = (v75 & 0xF01FFFFF | 0x100000) & 0xFFF00FFF | 0x70;
      v13 = (((unsigned __int8)v75 | 0x70) & 2) == 0;
      v76 = 2;
      v75 = (v75 & 0xF01FFFFF | 0x100000) & 0xFFF00FFF | 0x70;
      if ( v13 )
        goto LABEL_20;
    }
    else
    {
      if ( !(v75 & 2) )
      {
        v14 = v75;
LABEL_20:
        v75 = (unsigned __int8)((v14 ^ (unsigned __int8)(32 * v11)) & 0x80) ^ v14;
        goto LABEL_21;
      }
    }
LABEL_21:
    v15 = *(_DWORD *)(v7 + 136);
    v82 = *(_DWORD *)(v7 + 132);
    LODWORD(v78) = v15;
LABEL_22:
    v8 = 0;
  }
  v16 = *(_DWORD *)(v6 + 4);
  v84 = v8;
  a3 = (const void *)v8;
  v83 = v8;
  v17 = *(_DWORD *)(v16 + 16876);
  v81 = *(_DWORD *)(v16 + 16872) - v17;
  v79 = v17;
  v80 = v8;
  if ( !sub_1000A310(v6, v7, (int)&a3, (int)&v84, (int)&v83, &v75, v8, a4, a5, (int)&v80) )
    return 0;
  v18 = *(_DWORD *)(v6 + 39948);
  v19 = *(_DWORD *)(*(_DWORD *)(v18 + 772) + 36);
  if ( v19 && *(_DWORD *)(v19 + 60) )
    *(_DWORD *)(*(_DWORD *)(v18 + 772) + 52) = *(_DWORD *)(*(_DWORD *)(v18 + 772) + 52) & 0xFE80007F | 0x800000;
  v20 = *(_DWORD *)(v6 + 39948);
  if ( *(_BYTE *)(v20 + 19) || *(_BYTE *)(v20 + 18) )
  {
    if ( v80 & 2 )
    {
      v21 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 112 * v84 + 48;
      if ( v80 & 1 )
      {
        *(_DWORD *)v21 &= 0xFFFFFFC0u;
        v22 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 112 * v84 + 48;
        *(_DWORD *)v22 = *(_DWORD *)v22 & 0xFFFFF07F | 0x40;
        v23 = *(_DWORD *)(v6 + 39948);
        v24 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 112 * v84 + 44) ^ (((*(_BYTE *)(v23 + 20) != 0) + 4) << 12);
        v25 = *(_DWORD *)(v23 + 4 * (_DWORD)a3 + 772);
        v7 = a2;
        *(_DWORD *)(v25 + 112 * v84 + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772)
                                                      + 112 * v84
                                                      + 44) ^ v24 & 0x1F000;
        ++v84;
      }
      else
      {
        *(_DWORD *)v21 &= 0xFFFFF03Fu;
        v26 = *(_DWORD *)(v6 + 39948);
        v27 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 112 * v84 + 44) ^ (((*(_BYTE *)(v26 + 20) != 0) + 4) << 12);
        v28 = *(_DWORD *)(v26 + 4 * (_DWORD)a3 + 772);
        v7 = a2;
        *(_DWORD *)(v28 + 112 * v84 + 44) = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772)
                                                      + 112 * v84
                                                      + 44) ^ v27 & 0x1F000;
      }
    }
    else
    {
      if ( v80 & 1 )
      {
        v29 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
        v30 = *(_DWORD *)(v29 + 112 * v84 + 48);
        v31 = v29 + 112 * v84 + 36;
        v32 = v30 & 0xFFFFF040 | 0x40;
        *(_DWORD *)(v31 + 12) = v32;
        v33 = *(_DWORD *)(v31 + 8);
        v34 = *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 20) != 0;
        *(_DWORD *)(v31 + 12) = v32 & 0xC1FFFFFF | 0x1000000;
        v35 = v33 ^ ((v34 + 4) << 12);
        v36 = v35 & 0x1F000 ^ v33;
        *(_DWORD *)(v31 + 8) = v36;
        *(_DWORD *)(v31 + 8) = v36 & 0xFFC7FFFF | 0x60000;
        ++v84;
      }
      else
      {
        v37 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
        v38 = *(_DWORD *)(v37 + 48);
        v37 += 36;
        *(_DWORD *)(v37 + 12) = v38 & 0xC0FFF03F;
        *(_DWORD *)(v37 + 8) = *(_DWORD *)(v37 + 8) & 0xFFC80FFF | ((((*(_BYTE *)(*(_DWORD *)(v6 + 39948) + 20) != 0) + 4) & 0x1F | 0x80) << 12);
      }
    }
  }
  if ( *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 244) )
  {
    v39 = v84;
    if ( v84 >= v79 )
    {
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 9) = v84;
      a3 = (char *)a3 + 1;
      v84 = 0;
      *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) = sub_10010250(v6 + 40904, (const void *)(v6 + 39952));
      v51 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
      *(_DWORD *)(v51 + 4) &= 0xFFFFFFEFu;
      sub_10004410(
        v6,
        *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 112 * v84 + 36,
        *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 244),
        *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 19));
      v52 = *(_DWORD *)(v6 + 39948);
      ++v84;
      *(_DWORD *)(*(_DWORD *)(v52 + 4 * (_DWORD)a3 + 772) + 20) = 9;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 24) = 3;
      v53 = FColor::FColor(&a2, 127, 127, 127, 0, v67, v68, v69, v70, v71, v72, v73, v74);
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 28) = *(_DWORD *)v53;
      v54 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
      *(_DWORD *)(v54 + 4) |= 0x40u;
      v55 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
      *(_DWORD *)(v55 + 4) ^= ((unsigned __int8)*(_DWORD *)(v55 + 4) ^ (unsigned __int8)(v75 >> 2)) & 0x20;
      v56 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
      *(_DWORD *)(v56 + 4) |= 1u;
    }
    else
    {
      v40 = *(_DWORD *)(v6 + 39948);
      v41 = *(_DWORD *)(v40 + 4 * (_DWORD)a3 + 772);
      ++v84;
      v42 = *(_BYTE *)(v40 + 22);
      v43 = *(_DWORD *)(v40 + 244);
      v44 = v41 + 112 * v39 + 36;
      *(_DWORD *)(v41 + 112 * v39 + 48) = *(_DWORD *)(v41 + 112 * v39 + 48) & 0xFF07F042 | 0x40042;
      v45 = *(_DWORD *)(v41 + 112 * v39 + 44) & 0xFFC5FFFF | 0x40000;
      *(_DWORD *)(v44 + 8) = v45;
      v46 = *(_DWORD *)(v6 + 39948);
      if ( !*(_BYTE *)(v46 + 20) || (v13 = *(_BYTE *)(v46 + 19) == 0, v47 = 5, !v13) )
        v47 = 4;
      v48 = v45 & 0xFFFE0F33 | ((v47 & 0x1F) << 12) | 0x33;
      v49 = *(_DWORD *)(v44 + 16) & 0xFE0000BF | 0x80;
      *(_DWORD *)v44 = v43;
      *(_DWORD *)(v44 + 8) = v48;
      *(_DWORD *)(v44 + 16) = v49;
      if ( v42 )
      {
        v50 = *(_DWORD *)(v44 + 20);
        *(_DWORD *)(v44 + 16) = v49 | 0x40;
        memcpy((void *)(v44 + 24), FMatrix::Identity, 0x40u);
        v7 = a2;
        *(_DWORD *)(v44 + 20) = v50 & 0xFFFFFF03 | 0x103;
      }
      else
      {
        v7 = a2;
        *(_DWORD *)(v44 + 16) = v49 & 0xFFFFFFBF;
        *(_DWORD *)(v44 + 20) = *(_DWORD *)(v44 + 20) & 0xFFFFFE02 | 2;
      }
    }
  }
  if ( v75 & 0xFF00000 )
    sub_100045D0((void *)v6, (int)&v75);
  if ( !(v75 & 2) )
    goto LABEL_55;
  if ( v84 >= v79 + v81 )
  {
    if ( a4 )
      FString::operator_("No stages left for constant color modifier.");
    if ( a5 )
      *(_DWORD *)a5 = v7;
    return 0;
  }
  if ( BYTE1(v75) & 1 )
  {
    v57 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
    if ( *(_DWORD *)(v57 + 20) == 2 )
    {
      if ( *(_DWORD *)(v57 + 24) == 1 )
      {
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 20) = 5;
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 24) = 6;
      }
    }
  }
  v58 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
  v59 = *(_DWORD *)(v58 + 112 * v84 + 44);
  v60 = v58 + 112 * v84 + 36;
  *(_DWORD *)(v58 + 112 * v84 + 48) = *(_DWORD *)(v58 + 112 * v84 + 48) & 0xC307F0C1 | 0x30400C1;
  v61 = v59 & 0xFFC9FFFF | 0x80000;
  *(_DWORD *)(v60 + 8) = v61;
  v13 = *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 20) == 0;
  *(_DWORD *)v60 = 0;
  v62 = v61 ^ ((!v13 + 4) << 12);
  *(_DWORD *)(v60 + 8) = v61 ^ v62 & 0x1F000;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 16) = FColor::operator unsigned_long(&v77);
  v63 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
  *(_DWORD *)(v63 + 4) |= (unsigned __int8)v75 >> 8;
  v64 = *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772);
  *(_DWORD *)(v64 + 4) |= (v75 >> 2) & 0x20;
  ++v84;
  if ( v81 )
    ++v83;
LABEL_55:
  if ( *(_DWORD *)(*(_DWORD *)(v6 + 4) + 64) && *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 17) && v82 )
  {
    memcpy(&v70, &v75, 0x58u);
    sub_10003CC0((int)&v70, v78);
    v65 = sub_10008040(v82, v6, v5, (int)&v70, 0);
    if ( v65 )
      sub_10010360(v65, &a3, &v84, &v83, &v70, 0);
  }
  *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * (_DWORD)a3 + 772) + 9) = v84;
  *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 804) = (_BYTE)a3 + 1;
  return 1;
}
// 10010360: using guessed type _DWORD __stdcall sub_10010360(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F0B0: using guessed type void *FMatrix__Identity;
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F394: using guessed type int UTexture__StaticClass(void);
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);
// 100704B8: using guessed type int dword_100704B8;

//----- (10013B7E) --------------------------------------------------------
void __usercall sub_10013B7E(int a1<ebp>)
{
  *(_DWORD *)(a1 - 48) = *(_DWORD *)(a1 - 140);
  CxxThrowException(a1 - 48, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10013B95) --------------------------------------------------------
void __cdecl sub_10013B95()
{
  appUnwindf("%s", off_100800B8[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800B8: using guessed type char *off_100800B8[56];

//----- (10013BC0) --------------------------------------------------------
signed int __thiscall sub_10013BC0(void *this, int a2, int a3, signed int i, int a5)
{
  int v5; // ebp@0
  bool v6; // zf@1
  int v7; // ebx@1
  int v8; // eax@4
  int v9; // edi@4
  int v10; // esi@5
  int v11; // edx@5
  int v12; // eax@6
  int v13; // ecx@6
  int v14; // eax@8
  char v15; // cl@9
  char v16; // al@9
  int v17; // esi@11
  int v18; // edx@11
  int v19; // eax@11
  int v20; // edi@11
  int v21; // ecx@11
  int v22; // edi@11
  signed int v23; // edx@11
  int v24; // eax@13
  int v25; // eax@14
  int v26; // eax@15
  int v27; // eax@17
  int v28; // esi@18
  int v29; // eax@20
  int v31; // esi@27
  int v32; // eax@27
  int v33; // ebx@27
  int v34; // eax@28
  int v35; // ecx@28
  int v36; // eax@31
  int v37; // ebx@31
  int v38; // eax@31
  int v39; // esi@31
  int v40; // ebx@31
  void *v41; // esi@32
  int v42; // eax@32
  int v43; // eax@32
  int v44; // esi@32
  void *v45; // esi@33
  int v46; // eax@33
  int v47; // eax@33
  int v48; // esi@33
  void *v49; // esi@34
  int v50; // eax@34
  int v51; // eax@34
  int v52; // esi@34
  int v53; // ecx@38
  unsigned int v54; // edx@38
  int v55; // ecx@42
  int v56; // esi@43
  int v57; // eax@43
  int v58; // edi@43
  int v59; // edx@43
  int v60; // esi@43
  int v61; // eax@43
  int v62; // eax@43
  int v63; // esi@43
  int v64; // ebx@43
  int v65; // edx@43
  int v66; // eax@43
  int v67; // eax@44
  int v68; // edi@46
  int v69; // esi@46
  int v70; // eax@46
  int v71; // ST10_4@46
  int v72; // ebx@46
  int v73; // eax@46
  int v74; // eax@46
  int v75; // eax@47
  int v76; // ecx@47
  int v77; // esi@48
  int v78; // eax@48
  int v79; // eax@48
  int v80; // eax@48
  int v81; // esi@48
  int v82; // edi@48
  int v83; // ebx@48
  int v84; // ecx@48
  int v85; // eax@48
  int v86; // edx@48
  int v87; // eax@50
  int v88; // edx@50
  int v89; // eax@50
  int v90; // eax@50
  int v91; // esi@50
  int v92; // ebx@50
  int v93; // ecx@50
  int v94; // edx@50
  int v95; // ecx@50
  int v96; // edi@50
  int v97; // [sp+0h] [bp-130h]@1
  int v98; // [sp+4h] [bp-12Ch]@29
  int v99; // [sp+8h] [bp-128h]@29
  int v100; // [sp+Ch] [bp-124h]@29
  int v101; // [sp+10h] [bp-120h]@29
  int v102; // [sp+14h] [bp-11Ch]@29
  int v103; // [sp+18h] [bp-118h]@29
  int v104; // [sp+1Ch] [bp-114h]@29
  int v105; // [sp+68h] [bp-C8h]@4
  char v106; // [sp+6Ch] [bp-C4h]@4
  char v107; // [sp+ACh] [bp-84h]@4
  int v108; // [sp+C4h] [bp-6Ch]@11
  char v109; // [sp+C8h] [bp-68h]@31
  char v110; // [sp+108h] [bp-28h]@11
  int v111; // [sp+11Ch] [bp-14h]@1
  int *v112; // [sp+120h] [bp-10h]@1
  int v113; // [sp+12Ch] [bp-4h]@1

  v6 = *(_BYTE *)(a2 + 108) == 2;
  v7 = (int)this;
  v112 = &v97;
  v111 = (int)this;
  v113 = 0;
  if ( !v6 )
  {
    v31 = v111;
    v32 = *(_DWORD *)(*(_DWORD *)(v111 + 39948) + 772);
    v33 = v32 + 36;
    *(_DWORD *)(v32 + 20) = 2;
    if ( *(_BYTE *)(a2 + 112) & 1 )
    {
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 24) = 1;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 4) &= 0xFFFFFFBFu;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 4) |= 0x10u;
      v34 = *(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772);
      v35 = *(_DWORD *)(v34 + 4) & 0xFFFFFFFE;
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 24) = 2;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 4) |= 0x40u;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 28) = *(_DWORD *)FColor::FColor(
                                                                                   &i,
                                                                                   0,
                                                                                   0,
                                                                                   0,
                                                                                   0,
                                                                                   v97,
                                                                                   v98,
                                                                                   v99,
                                                                                   v100,
                                                                                   v101,
                                                                                   v102,
                                                                                   v103,
                                                                                   v104);
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 4) &= 0xFFFFFFEFu;
      v34 = *(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772);
      v35 = *(_DWORD *)(v34 + 4) | 1;
    }
    *(_DWORD *)(v34 + 4) = v35;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 4) &= 0xFFFFFFFDu;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 4) |= 8u;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 4) &= 0xFFFFFFDFu;
    *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v31 + 39948) + 772) + 8) = 0;
    if ( *(_BYTE *)(a2 + 108) == 1 )
    {
      sub_10003C30(&v108);
      sub_10003C30(&v105);
      sub_100044B0(v31, v33, *(_DWORD *)(*(_DWORD *)(a2 + 100) + 4));
      v105 |= 1u;
      v107 = 0;
      sub_10005670(v31, v33, (int)&v105);
      v36 = *(_DWORD *)(a2 + 100);
      v108 |= 1u;
      memcpy(&v109, (const void *)(v36 + 8), 0x40u);
      v110 = 8;
      v37 = v33 + 112;
      v38 = sub_10008040(*(_DWORD *)v36, v111, v5, (int)&v108, 0);
      v39 = v111;
      sub_100044B0(v111, v37, v38);
      sub_10005670(v39, v37, (int)&v108);
      v40 = v37 + 112;
      if ( 8 * *(_DWORD *)(a2 + 104) > 8 )
      {
        v41 = sub_10003C30(&v100);
        v42 = *(_DWORD *)(a2 + 100);
        memcpy(&v108, v41, 0x58u);
        v108 |= 1u;
        memcpy(&v109, (const void *)(v42 + 80), 0x40u);
        v110 = 8;
        v43 = sub_10008040(*(_DWORD *)(v42 + 72), v111, v5, (int)&v108, 0);
        v44 = v111;
        sub_100044B0(v111, v40, v43);
        sub_10005670(v44, v40, (int)&v108);
        v40 += 112;
        if ( 8 * *(_DWORD *)(a2 + 104) > 16 )
        {
          v45 = sub_10003C30(&v100);
          v46 = *(_DWORD *)(a2 + 100);
          memcpy(&v108, v45, 0x58u);
          v108 |= 1u;
          memcpy(&v109, (const void *)(v46 + 152), 0x40u);
          v110 = 8;
          v47 = sub_10008040(*(_DWORD *)(v46 + 144), v111, v5, (int)&v108, 0);
          v48 = v111;
          sub_100044B0(v111, v40, v47);
          sub_10005670(v48, v40, (int)&v108);
          v40 += 112;
          if ( 8 * *(_DWORD *)(a2 + 104) > 24 )
          {
            v49 = sub_10003C30(&v100);
            v50 = *(_DWORD *)(a2 + 100);
            memcpy(&v108, v49, 0x58u);
            v108 |= 1u;
            memcpy(&v109, (const void *)(v50 + 224), 0x40u);
            v110 = 8;
            v51 = sub_10008040(*(_DWORD *)(v50 + 216), v111, v5, (int)&v108, 0);
            v52 = v111;
            sub_100044B0(v111, v40, v51);
            sub_10005670(v52, v40, (int)&v108);
            v40 += 112;
          }
        }
      }
      if ( 8 * *(_DWORD *)(a2 + 104) >> 3 == 3 )
      {
        **(_DWORD **)(*(_DWORD *)(v111 + 39948) + 772) = 1;
      }
      else
      {
        if ( 8 * *(_DWORD *)(a2 + 104) >> 3 == 4 )
          **(_DWORD **)(*(_DWORD *)(v111 + 39948) + 772) = 2;
        else
          FOutputDevice::Logf(GError, "too many layers at once");
      }
    }
    else
    {
      sub_10003C30(&v108);
      sub_10003C30(&v105);
      v55 = *(_DWORD *)(*(_DWORD *)(v31 + 4) + 16756);
      if ( BYTE1(v55) & 4 )
      {
        v77 = v108;
        v78 = *(_DWORD *)(v33 + 8) & 0xFFFE5FFF;
        *(_DWORD *)(v33 + 12) = *(_DWORD *)(v33 + 12) & 0xFFFFF002 | 2;
        *(_DWORD *)(v33 + 8) = v78 | 0x5000;
        v79 = *(_DWORD *)(a2 + 100);
        v108 = v77 | 1;
        memcpy(&v109, (const void *)(v79 + 8), 0x40u);
        v110 = 8;
        v80 = sub_10008040(*(_DWORD *)v79, v111, v5, (int)&v108, 0);
        v81 = v111;
        sub_100044B0(v111, v33, v80);
        sub_10005670(v81, v33, (int)&v108);
        v82 = a2;
        v83 = v33 + 112;
        sub_100044B0(v81, v83, *(_DWORD *)(*(_DWORD *)(a2 + 100) + 4));
        v84 = *(_DWORD *)(v83 + 8) & 0xFFFE4FFF | 0x4000;
        *(_DWORD *)(v83 + 12) = *(_DWORD *)(v83 + 12) & 0xFFFFF081 | 0x81;
        v85 = *(_DWORD *)(v83 + 16);
        *(_DWORD *)(v83 + 8) = v84;
        v86 = v105;
        *(_DWORD *)(v83 + 16) = ((unsigned __int8)v85 ^ (unsigned __int8)((*(_DWORD *)(a2 + 104) & 0x1FFFFFFF) != 1 ? 5 : 1)) & 0x3F ^ v85;
        v105 = v86 | 1;
        v107 = 0;
        sub_10005670(v81, v83, (int)&v105);
        v40 = v83 + 112;
        for ( i = 1; i < 8 * *(_DWORD *)(v82 + 104) >> 3; ++i )
        {
          v87 = *(_DWORD *)(v40 + 8) & 0xFFFE5FFF | 0x5000;
          *(_DWORD *)(v40 + 12) = *(_DWORD *)(v40 + 12) & 0xFFFFF002 | 2;
          *(_DWORD *)(v40 + 8) = v87;
          memcpy(&v108, sub_10003C30(&v100), 0x58u);
          v88 = *(_DWORD *)(a2 + 100);
          v108 |= 1u;
          a5 = 72 * i;
          v89 = v88 + 72 * i;
          memcpy(&v109, (const void *)(v89 + 8), 0x40u);
          v110 = 8;
          v90 = sub_10008040(*(_DWORD *)v89, v111, v5, (int)&v108, 0);
          v91 = v111;
          sub_100044B0(v111, v40, v90);
          sub_10005670(v91, v40, (int)&v108);
          v92 = v40 + 112;
          sub_100044B0(v91, v92, *(_DWORD *)(a5 + *(_DWORD *)(a2 + 100) + 4));
          v93 = *(_DWORD *)(v92 + 8) & 0xF17F9FFF | 0x1419000;
          *(_DWORD *)(v92 + 12) = *(_DWORD *)(v92 + 12) & 0xFFFFF042 | 0x42;
          *(_DWORD *)(v92 + 8) = v93;
          v94 = (8 * *(_DWORD *)(a2 + 104) >> 3) - 1;
          v95 = *(_DWORD *)(v92 + 16);
          v107 = 0;
          v96 = v105 | 1;
          *(_DWORD *)(v92 + 16) = ((unsigned __int8)v95 ^ (unsigned __int8)(4 * (i != v94) + 1)) & 0x3F ^ v95;
          v105 = v96;
          sub_10005670(v91, v92, (int)&v105);
          v82 = a2;
          v40 = v92 + 112;
        }
      }
      else
      {
        v56 = *(_DWORD *)(v33 + 8);
        v57 = *(_DWORD *)(v33 + 12) & 0xFFFFF002 | 2;
        *(_DWORD *)(v33 + 12) = v57;
        v58 = v108;
        v59 = v56 ^ (((*(_DWORD *)(a2 + 104) & 0x1FFFFFFF) != 1 ? 2 : 5) << 12);
        *(_DWORD *)(v33 + 12) = v57 & 0xFF03FFFF;
        v60 = v59 & 0x1F000 ^ v56;
        *(_DWORD *)(v33 + 8) = v60;
        *(_DWORD *)(v33 + 8) = v60 & 0xFFC5FFFF | 0x40000;
        v61 = *(_DWORD *)(a2 + 100);
        v108 = v58 | 1;
        memcpy(&v109, (const void *)(v61 + 8), 0x40u);
        v110 = 8;
        v62 = sub_10008040(*(_DWORD *)v61, v111, v5, (int)&v108, 0);
        v63 = v111;
        sub_100044B0(v111, v33, v62);
        sub_10005670(v63, v33, (int)&v108);
        v64 = v33 + 112;
        sub_100044B0(v63, v64, *(_DWORD *)(*(_DWORD *)(a2 + 100) + 4));
        v65 = *(_DWORD *)(v64 + 12);
        *(_DWORD *)(v64 + 8) = *(_DWORD *)(v64 + 8) & 0xFFC44FFF | 0x44000;
        v66 = v105 | 1;
        *(_DWORD *)(v64 + 12) = v65 & 0xFF07F881 | 0x40881;
        v105 = v66;
        v107 = 0;
        sub_10005670(v63, v64, (int)&v105);
        v40 = v64 + 112;
        if ( 8 * *(_DWORD *)(a2 + 104) > 8 )
        {
          v67 = 1;
          i = 1;
          while ( v67 < 8 * *(_DWORD *)(a2 + 104) >> 3 )
          {
            v68 = v111;
            *(_DWORD *)(v40 + 12) = *(_DWORD *)(v40 + 12) & 0xFF0BFFC1 | 0x80001;
            *(_DWORD *)(v40 + 8) = *(_DWORD *)(v40 + 8) & 0xFFC42FFF | 0x42000;
            v69 = 9 * v67;
            v70 = *(_DWORD *)(a2 + 100);
            v69 *= 8;
            v105 |= 1u;
            v107 = 0;
            v71 = *(_DWORD *)(v69 + v70 + 4);
            a5 = v69;
            sub_100044B0(v68, v40, v71);
            sub_10005670(v68, v40, (int)&v105);
            v72 = v40 + 112;
            v73 = sub_10008040(*(_DWORD *)(v69 + *(_DWORD *)(a2 + 100)), v68, v5, (int)&v108, 0);
            sub_100044B0(v68, v72, v73);
            v74 = *(_DWORD *)(v72 + 12) & 0xFF07F081 | 0x40081;
            *(_DWORD *)(v72 + 8) = *(_DWORD *)(v72 + 8) & 0xFFC52FFF | 0x52000;
            *(_DWORD *)(v72 + 12) = v74;
            memcpy(&v108, sub_10003C30(&v100), 0x58u);
            v108 |= 1u;
            memcpy(&v109, (const void *)(a5 + *(_DWORD *)(a2 + 100) + 8), 0x40u);
            v110 = 8;
            sub_10005670(v111, v72, (int)&v108);
            v40 = v72 + 112;
            v67 = i++ + 1;
          }
          v75 = *(_DWORD *)(v40 + 12);
          *(_DWORD *)(v40 + 8) = *(_DWORD *)(v40 + 8) & 0xFFC45FFF | 0x45000;
          v76 = *(_DWORD *)(v40 + 16) & 0xFE00003F;
          *(_DWORD *)(v40 + 12) = v75 & 0xFF07F040 | 0x40040;
          *(_DWORD *)(v40 + 16) = v76;
          v40 += 112;
        }
      }
    }
    v53 = *(_DWORD *)(*(_DWORD *)(v111 + 39948) + 772);
    v54 = v40 - v53 - 36 + ((unsigned __int64)(-1840700269i64 * (v40 - v53 - 36)) >> 32);
    v7 = v111;
    *(_BYTE *)(v53 + 9) = ((signed int)v54 >> 6) + (v54 >> 31);
    goto LABEL_39;
  }
  if ( *(_BYTE *)(a2 + 96) & 1 )
  {
    *(_DWORD *)(**(_DWORD **)(a2 + 100) + 96) |= 1u;
    **(_DWORD **)(a2 + 100) = (*(int (**)(void))(***(_DWORD ***)(a2 + 100) + 164))();
    *(_DWORD *)(a2 + 96) &= 0xFFFFFFFEu;
  }
  sub_10003C30(&v105);
  v8 = *(_DWORD *)(a2 + 100);
  v105 |= 1u;
  memcpy(&v106, (const void *)(v8 + 8), 0x40u);
  v107 = 8;
  v9 = sub_10008040(*(_DWORD *)v8, v7, v5, (int)&v105, 0);
  if ( v9 )
  {
    v10 = *(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 36;
    v11 = *(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772);
    if ( *(_BYTE *)(a2 + 112) & 1 )
    {
      *(_DWORD *)(v11 + 20) = 2;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 24) = 1;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 4) &= 0xFFFFFFFEu;
      v12 = *(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772);
      v13 = *(_DWORD *)(v12 + 4) & 0xFFFFFFFD;
    }
    else
    {
      *(_DWORD *)(v11 + 20) = 5;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 24) = 6;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 4) |= 1u;
      v12 = *(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772);
      v13 = *(_DWORD *)(v12 + 4) | 2;
    }
    *(_DWORD *)(v12 + 4) = v13;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 4) &= 0xFFFFFFBFu;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 4) |= 0x10u;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 4) |= 8u;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 4) &= 0xFFFFFFDFu;
    *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772) + 8) = 0;
    sub_100044B0(v7, v10, v9);
    *(_DWORD *)(v10 + 12) = *(_DWORD *)(v10 + 12) & 0xFF0BF002 | 0x80002;
    v14 = *(_DWORD *)(v7 + 39948);
    if ( *(_BYTE *)(v14 + 19) || (v15 = *(_BYTE *)(v14 + 18), v16 = 2, v15) )
      v16 = 5;
    *(_DWORD *)(v10 + 8) = *(_DWORD *)(v10 + 8) & 0xFFC40FFF | ((v16 & 0x1F | 0x40) << 12);
    sub_10005670(v7, v10, (int)&v105);
    v17 = v10 + 112;
    sub_100044B0(v7, v17, *(_DWORD *)(*(_DWORD *)(a2 + 100) + 4));
    v18 = *(_DWORD *)(v17 + 12) & 0xFF0BFFC1 | 0x80001;
    *(_DWORD *)(v17 + 8) = *(_DWORD *)(v17 + 8) & 0xFFFE2FFF | 0x2000;
    *(_DWORD *)(v17 + 12) = v18;
    v19 = (*(int (__thiscall **)(int))(*(_DWORD *)v9 + 152))(v9);
    v20 = *(_DWORD *)(v17 + 8);
    v21 = v20 ^ ((2 * (v19 != 0) + 2) << 17);
    *(_DWORD *)(v17 + 8) = v21 & 0x3E0000 ^ v20;
    sub_10003C30(&v108);
    v108 |= 1u;
    v110 = 0;
    sub_10005670(v7, v17, (int)&v108);
    v22 = *(_DWORD *)(*(_DWORD *)(v7 + 39948) + 772);
    v23 = (signed int)(v17 - v22 + 76 + ((unsigned __int64)(-1840700269i64 * (v17 - v22 + 76)) >> 32)) >> 6;
    *(_BYTE *)(v22 + 9) = v23 + ((unsigned int)v23 >> 31);
    goto LABEL_39;
  }
  if ( !dword_100845C0 )
  {
    v24 = UTexMatrix::StaticClass();
    dword_100845C0 = UObject::StaticConstructObject(v24, -1, 0, 0, 0, GError, 0);
    sub_100102C0((int)GGlobalTempObjects, (int)&dword_100845C0);
  }
  v25 = a2;
  *(_DWORD *)(dword_100845C0 + 100) = **(_DWORD **)(a2 + 100);
  memcpy((void *)(dword_100845C0 + 112), (const void *)(*(_DWORD *)(a2 + 100) + 8), 0x40u);
  *(_BYTE *)(dword_100845C0 + 104) = 8;
  if ( !dword_100845BC )
  {
    v26 = UTexMatrix::StaticClass();
    dword_100845BC = UObject::StaticConstructObject(v26, -1, 0, 0, 0, GError, 0);
    sub_100102C0((int)GGlobalTempObjects, (int)&dword_100845BC);
    v25 = a2;
  }
  *(_DWORD *)(dword_100845BC + 100) = *(_DWORD *)(*(_DWORD *)(v25 + 100) + 4);
  memcpy((void *)(dword_100845BC + 112), FMatrix::Identity, 0x40u);
  *(_BYTE *)(dword_100845BC + 104) = 0;
  if ( !dword_100845B8 )
  {
    v27 = UOpacityModifier::StaticClass();
    dword_100845B8 = UObject::StaticConstructObject(v27, -1, 0, 0, 0, GError, 0);
    sub_100102C0((int)GGlobalTempObjects, (int)&dword_100845B8);
    *(_DWORD *)(dword_100845B8 + 108) |= 1u;
    v25 = a2;
  }
  *(_DWORD *)(dword_100845B8 + 100) = dword_100845C0;
  *(_DWORD *)(dword_100845B8 + 104) = dword_100845BC;
  v28 = dword_100845C0;
  if ( !(*(_BYTE *)(v25 + 112) & 1) )
    v28 = dword_100845B8;
  sub_10003C30(&v108);
  v29 = sub_100099F0(v28, v7, v5, (int)&v108, 0);
  if ( !v29 )
  {
    if ( i )
      FString::operator_("Terrain layers must be Shaders or a BitmapMaterials.");
    if ( a5 )
      *(_DWORD *)a5 = **(_DWORD **)(a2 + 100);
    return 0;
  }
  if ( !sub_100114E0(v7, v29, (int)&v108, i, a5) )
    return 0;
LABEL_39:
  *(_BYTE *)(*(_DWORD *)(v7 + 39948) + 804) = 1;
  return 1;
}
// 1006F01C: using guessed type void *GError;
// 1006F0B0: using guessed type void *FMatrix__Identity;
// 1006F0B4: using guessed type int __fastcall UObject__StaticConstructObject(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1006F34C: using guessed type int UTexMatrix__StaticClass(void);
// 1006F350: using guessed type void *GGlobalTempObjects;
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);
// 100845B8: using guessed type int dword_100845B8;
// 100845BC: using guessed type int dword_100845BC;
// 100845C0: using guessed type int dword_100845C0;

//----- (10014890) --------------------------------------------------------
void __usercall sub_10014890(int a1<ebp>)
{
  *(_DWORD *)(a1 - 112) = *(_DWORD *)(a1 - 204);
  CxxThrowException(a1 - 112, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (100148A7) --------------------------------------------------------
void __cdecl sub_100148A7()
{
  appUnwindf("%s", off_100800BC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800BC: using guessed type char *off_100800BC[55];

//----- (10014970) --------------------------------------------------------
int __thiscall UD3DRenderDevice::StaticConstructor(int this)
{
  int v1; // edi@1
  int v2; // esi@1
  int v3; // eax@1
  int v4; // ecx@1
  int v5; // esi@1
  int v6; // esi@3
  int v7; // eax@3
  int v8; // ecx@3
  int v9; // esi@3
  int v10; // esi@5
  int v11; // eax@5
  int v12; // ecx@5
  int v13; // esi@5
  int v14; // esi@7
  int v15; // eax@7
  int v16; // ecx@7
  int v17; // esi@7
  int v18; // esi@9
  int v19; // eax@9
  int v20; // ecx@9
  int v21; // esi@9
  int v22; // esi@11
  int v23; // eax@11
  int v24; // ecx@11
  int v25; // esi@11
  int v26; // esi@13
  int v27; // eax@13
  int v28; // ecx@13
  int v29; // esi@13
  int v30; // esi@15
  int v31; // eax@15
  int v32; // ecx@15
  int v33; // esi@15
  int v34; // esi@17
  int v35; // eax@17
  int v36; // ecx@17
  int v37; // esi@17
  int v38; // esi@19
  int v39; // eax@19
  int v40; // ecx@19
  int v41; // esi@19
  int v42; // esi@21
  int v43; // eax@21
  int v44; // ecx@21
  int v45; // esi@21
  int v46; // esi@23
  int v47; // eax@23
  int v48; // ecx@23
  int v49; // esi@23
  int v50; // esi@25
  int v51; // eax@25
  int v52; // ecx@25
  int v53; // esi@25
  int v54; // esi@27
  int v55; // eax@27
  int v56; // ecx@27
  int v57; // esi@27
  int v58; // esi@29
  int v59; // eax@29
  int v60; // ecx@29
  int v61; // esi@29
  int v62; // esi@31
  int v63; // eax@31
  int v64; // ecx@31
  int v65; // esi@31
  int v66; // esi@33
  int v67; // eax@33
  int v68; // ecx@33
  int v69; // esi@33
  int v70; // esi@35
  int v71; // eax@35
  int v72; // ecx@35
  int v73; // esi@35
  int v74; // esi@37
  int v75; // eax@37
  int v76; // ecx@37
  int v77; // esi@37
  int v78; // esi@39
  int v79; // eax@39
  int v80; // ecx@39
  int v81; // esi@39
  int v82; // esi@41
  int v83; // eax@41
  int v84; // ecx@41
  int v85; // esi@41
  int v86; // esi@43
  int v87; // eax@43
  int v88; // ecx@43
  int v89; // esi@43
  int v90; // esi@45
  int result; // eax@45
  int v92; // esi@45
  int v93; // [sp-8h] [bp-30h]@1
  signed int v94; // [sp-4h] [bp-2Ch]@1
  int v95; // [sp+0h] [bp-28h]@1
  int *v96; // [sp+10h] [bp-18h]@1
  int *v97; // [sp+18h] [bp-10h]@1
  int v98; // [sp+24h] [bp-4h]@1

  v97 = &v95;
  v94 = 4;
  v93 = this;
  v1 = this;
  v2 = *(_DWORD *)(this + 36);
  v96 = &v93;
  v98 = 0;
  FName::FName(&v93, "UseHardwareTL", 1, this, 4);
  v3 = UBoolProperty::operator new(68, v2);
  v5 = v3;
  if ( v3 )
  {
    UBoolProperty::UBoolProperty(v3, 0, 16604, "Options", 16384);
    *(_DWORD *)v5 = &off_10070898;
  }
  v6 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "UseHardwareVS", 1, v4, 4);
  v7 = UBoolProperty::operator new(68, v6);
  v9 = v7;
  if ( v7 )
  {
    UBoolProperty::UBoolProperty(v7, 0, 16608, "Options", 16384);
    *(_DWORD *)v9 = &off_10070898;
  }
  v10 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "UsePrecaching", 1, v8, 4);
  v11 = UBoolProperty::operator new(68, v10);
  v13 = v11;
  if ( v11 )
  {
    UBoolProperty::UBoolProperty(v11, 0, 16588, "Options", 16384);
    *(_DWORD *)v13 = &off_10070898;
  }
  v14 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "UseTrilinear", 1, v12, 4);
  v15 = UBoolProperty::operator new(68, v14);
  v17 = v15;
  if ( v15 )
  {
    UBoolProperty::UBoolProperty(v15, 0, 16592, "Options", 16384);
    *(_DWORD *)v17 = &off_10070898;
  }
  v18 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "UseVSync", 1, v16, 4);
  v19 = UBoolProperty::operator new(68, v18);
  v21 = v19;
  if ( v19 )
  {
    UBoolProperty::UBoolProperty(v19, 0, 16600, "Options", 16384);
    *(_DWORD *)v21 = &off_10070898;
  }
  v22 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "UseTripleBuffering", 1, v20, 4);
  v23 = UBoolProperty::operator new(68, v22);
  v25 = v23;
  if ( v23 )
  {
    UBoolProperty::UBoolProperty(v23, 0, 16632, "Options", 16384);
    *(_DWORD *)v25 = &off_10070898;
  }
  v26 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "UseCubemaps", 1, v24, 4);
  v27 = UBoolProperty::operator new(68, v26);
  v29 = v27;
  if ( v27 )
  {
    UBoolProperty::UBoolProperty(v27, 0, 16612, "Options", 16384);
    *(_DWORD *)v29 = &off_10070898;
  }
  v30 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "ReduceMouseLag", 1, v28, 4);
  v31 = UBoolProperty::operator new(68, v30);
  v33 = v31;
  if ( v31 )
  {
    UBoolProperty::UBoolProperty(v31, 0, 16636, "Options", 16384);
    *(_DWORD *)v33 = &off_10070898;
  }
  v34 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "UseXBoxFSAA", 1, v32, 4);
  v35 = UBoolProperty::operator new(68, v34);
  v37 = v35;
  if ( v35 )
  {
    UBoolProperty::UBoolProperty(v35, 0, 16640, "Options", 16384);
    *(_DWORD *)v37 = &off_10070898;
  }
  v38 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "UseNPatches", 1, v36, 4);
  v39 = UBoolProperty::operator new(68, v38);
  v41 = v39;
  if ( v39 )
  {
    UBoolProperty::UBoolProperty(v39, 0, 16664, "Options", 16384);
    *(_DWORD *)v41 = &off_10070898;
  }
  v42 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "CheckForOverflow", 1, v40, 4);
  v43 = UBoolProperty::operator new(68, v42);
  v45 = v43;
  if ( v43 )
  {
    UBoolProperty::UBoolProperty(v43, 0, 16660, "Options", 16384);
    *(_DWORD *)v45 = &off_10070898;
  }
  v46 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "DecompressTextures", 1, v44, 4);
  v47 = UBoolProperty::operator new(68, v46);
  v49 = v47;
  if ( v47 )
  {
    UBoolProperty::UBoolProperty(v47, 0, 16668, "Options", 16384);
    *(_DWORD *)v49 = &off_10070898;
  }
  v50 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "AvoidHitches", 1, v48, 4);
  v51 = UBoolProperty::operator new(68, v50);
  v53 = v51;
  if ( v51 )
  {
    UBoolProperty::UBoolProperty(v51, 0, 16672, "Options", 16384);
    *(_DWORD *)v53 = &off_10070898;
  }
  v54 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "OverrideDesktopRefreshRate", 1, v52, 4);
  v55 = UBoolProperty::operator new(68, v54);
  v57 = v55;
  if ( v55 )
  {
    UBoolProperty::UBoolProperty(v55, 0, 16676, "Options", 16384);
    *(_DWORD *)v57 = &off_10070898;
  }
  v58 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "AdapterNumber", 1, v56, 4);
  v59 = UIntProperty::operator new(64, v58);
  v61 = v59;
  if ( v59 )
  {
    UIntProperty::UIntProperty(v59, 0, 16684, "Options", 16384);
    *(_DWORD *)v61 = &off_100706D8;
  }
  v62 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "MaxPixelShaderVersion", 1, v60, 4);
  v63 = UIntProperty::operator new(64, v62);
  v65 = v63;
  if ( v63 )
  {
    UIntProperty::UIntProperty(v63, 0, 16692, "Options", 16384);
    *(_DWORD *)v65 = &off_100706D8;
  }
  v66 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "DesiredRefreshRate", 1, v64, 4);
  v67 = UIntProperty::operator new(64, v66);
  v69 = v67;
  if ( v67 )
  {
    UIntProperty::UIntProperty(v67, 0, 16712, "Options", 16384);
    *(_DWORD *)v69 = &off_100706D8;
  }
  v70 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "VideoResetAttempts", 1, v68, 4);
  v71 = UIntProperty::operator new(64, v70);
  v73 = v71;
  if ( v71 )
  {
    UIntProperty::UIntProperty(v71, 0, 16716, "Options", 16384);
    *(_DWORD *)v73 = &off_100706D8;
  }
  v74 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "LevelOfAnisotropy", 1, v72, 4);
  v75 = UIntProperty::operator new(64, v74);
  v77 = v75;
  if ( v75 )
  {
    UIntProperty::UIntProperty(v75, 0, 16696, "Options", 16384);
    *(_DWORD *)v77 = &off_100706D8;
  }
  v78 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "DetailTexMipBias", 1, v76, 4);
  v79 = UFloatProperty::operator new(64, v78);
  v81 = v79;
  if ( v79 )
  {
    UFloatProperty::UFloatProperty(v79, 0, 16700, "Options", 16384);
    *(_DWORD *)v81 = &off_10070598;
  }
  v82 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "DefaultTexMipBias", 1, v80, 4);
  v83 = UFloatProperty::operator new(64, v82);
  v85 = v83;
  if ( v83 )
  {
    UFloatProperty::UFloatProperty(v83, 0, 16704, "Options", 16384);
    *(_DWORD *)v85 = &off_10070598;
  }
  v86 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "TesselationFactor", 1, v84, 4);
  v87 = UFloatProperty::operator new(64, v86);
  v89 = v87;
  if ( v87 )
  {
    UFloatProperty::UFloatProperty(v87, 0, 16708, "Options", 16384);
    *(_DWORD *)v89 = &off_10070598;
  }
  v90 = *(_DWORD *)(v1 + 36);
  v96 = &v93;
  FName::FName(&v93, "StateCachingDisabled", 1, v88, 4);
  result = UBoolProperty::operator new(68, v90);
  v92 = result;
  if ( result )
  {
    result = UBoolProperty::UBoolProperty(result, 0, 16720, "Options", 16384);
    *(_DWORD *)v92 = &off_10070898;
  }
  *(_DWORD *)(v1 + 76) = 1;
  return result;
}
// 1006F198: using guessed type int __thiscall UFloatProperty__UFloatProperty(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F19C: using guessed type int __fastcall UFloatProperty__operator new(_DWORD, _DWORD);
// 1006F1A0: using guessed type int __thiscall UIntProperty__UIntProperty(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F1A4: using guessed type int __fastcall UIntProperty__operator new(_DWORD, _DWORD);
// 1006F1A8: using guessed type int __thiscall UBoolProperty__UBoolProperty(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F1AC: using guessed type int __fastcall UBoolProperty__operator new(_DWORD, _DWORD);
// 1006F1B0: using guessed type int __thiscall FName__FName(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10070598: using guessed type int (__stdcall *off_10070598)(char);
// 100706D8: using guessed type int (__stdcall *off_100706D8)(char);
// 10070898: using guessed type int (__stdcall *off_10070898)(char);

//----- (10015002) --------------------------------------------------------
void __usercall sub_10015002(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10015016) --------------------------------------------------------
void __cdecl sub_10015016()
{
  appUnwindf("%s", off_100800C0[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800C0: using guessed type char *off_100800C0[54];

//----- (10015040) --------------------------------------------------------
int __thiscall UD3DRenderDevice::GetCachedResource(void *this, unsigned int a2, int a3)
{
  int result; // eax@1
  int v4; // [sp+0h] [bp-24h]@1
  int *v5; // [sp+14h] [bp-10h]@1
  int v6; // [sp+20h] [bp-4h]@1

  v5 = &v4;
  v6 = 0;
  for ( result = *((_DWORD *)this + sub_1002A110(a2, a3) + 45); result; result = *(_DWORD *)(result + 44) )
  {
    if ( *(_DWORD *)(result + 8) == a2 && *(_DWORD *)(result + 12) == a3 )
      return result;
  }
  return 0;
}

//----- (100150AC) --------------------------------------------------------
void __usercall sub_100150AC(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (100150C0) --------------------------------------------------------
void __cdecl sub_100150C0()
{
  appUnwindf("%s", off_100800C4[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800C4: using guessed type char *off_100800C4[53];

//----- (100150E0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::FlushResource(void *this, unsigned int a2, int a3)
{
  int result; // eax@1
  int v4; // [sp+0h] [bp-24h]@1
  int *v5; // [sp+14h] [bp-10h]@1
  int v6; // [sp+20h] [bp-4h]@1

  v5 = &v4;
  v6 = 0;
  result = UD3DRenderDevice::GetCachedResource(this, a2, a3);
  if ( result )
    result = (**(int (__thiscall ***)(_DWORD, _DWORD))result)(result, 1);
  return result;
}

//----- (10015134) --------------------------------------------------------
void __usercall sub_10015134(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10015148) --------------------------------------------------------
void __cdecl sub_10015148()
{
  appUnwindf("%s", off_100800C8[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800C8: using guessed type char *off_100800C8[52];

//----- (10015180) --------------------------------------------------------
int __fastcall sub_10015180(int a1, int a2, int a3)
{
  int v3; // esi@1

  v3 = a1;
  FStringTemp::FStringTemp(a2, a3);
  return v3;
}
// 1006F1B4: using guessed type int __stdcall FStringTemp__FStringTemp(_DWORD, _DWORD);

//----- (100151A0) --------------------------------------------------------
int __fastcall sub_100151A0(int a1, int a2)
{
  int v2; // esi@1

  v2 = a1;
  FString::Printf(a1, "%d", a2);
  return v2;
}
// 1006F150: using guessed type int FString__Printf(_DWORD, const char *, ...);

//----- (100151D0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::DoesSupportFSAA(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@4

  v2 = this;
  if ( a2 <= 0
    || (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, _DWORD, int))(**(_DWORD **)(this + 18096) + 44))(
         *(_DWORD *)(this + 18096),
         0,
         1,
         *(_DWORD *)(this + 18112),
         0,
         a2) < 0
    || (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, _DWORD, int))(**(_DWORD **)(v2 + 18096) + 44))(
         *(_DWORD *)(v2 + 18096),
         0,
         1,
         *(_DWORD *)(v2 + 18140),
         0,
         a2) < 0 )
    result = 0;
  else
    result = a2;
  return result;
}

//----- (10015230) --------------------------------------------------------
int __stdcall UD3DRenderDevice::UnSetRes(int a1, signed int a2, int a3)
{
  int v3; // eax@2
  int v4; // eax@2
  int v5; // eax@5
  int v6; // eax@5
  int v8; // [sp+0h] [bp-2Ch]@1
  char v9; // [sp+Ch] [bp-20h]@2
  int *v10; // [sp+1Ch] [bp-10h]@1
  int v11; // [sp+28h] [bp-4h]@1

  v10 = &v8;
  v11 = 0;
  if ( a1 )
  {
    v3 = sub_10001020((int)&v9, a2);
    LOBYTE(v11) = 1;
    v4 = FString::operator_(v3);
    FOutputDevice::Logf(GLog, 762, "%s (%s)", a1, v4);
    LOBYTE(v11) = 0;
    FString::_FString(&v9);
  }
  if ( a3 )
  {
    if ( a1 )
    {
      v5 = sub_10001020((int)&v9, a2);
      LOBYTE(v11) = 2;
      v6 = FString::operator_(v5);
      FOutputDevice::Logf(
        GError,
        "Error setting display mode: %s (%s). Please delete your Save\\System.ini file if this error prevents you from starting the game.",
        a1,
        v6);
      LOBYTE(v11) = 0;
      FString::_FString(&v9);
    }
    else
    {
      FOutputDevice::Logf(
        GError,
        "Error setting display mode. Please delete your Save\\System.ini file if this error prevents you from starting the game.");
    }
  }
  return 0;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1B8: using guessed type int FOutputDevice__Logf(_DWORD, _DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (10015310) --------------------------------------------------------
void __usercall sub_10015310(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10015324) --------------------------------------------------------
void __cdecl sub_10015324()
{
  appUnwindf("%s", off_100800CC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800CC: using guessed type char *off_100800CC[51];

//----- (100153B0) --------------------------------------------------------
BOOL __thiscall UD3DRenderDevice::RestoreGamma(void *this)
{
  void *v1; // esi@1
  const char *v2; // eax@1
  BOOL result; // eax@1
  HWND v4; // eax@9
  HDC v5; // eax@9
  int v6; // [sp+0h] [bp-624h]@1
  __int16 Ramp[256]; // [sp+Ch] [bp-618h]@3
  __int16 v8[256]; // [sp+20Ch] [bp-418h]@3
  __int16 v9[260]; // [sp+40Ch] [bp-218h]@3
  int *v10; // [sp+614h] [bp-10h]@1
  int v11; // [sp+620h] [bp-4h]@1

  v10 = &v6;
  v1 = this;
  v11 = 0;
  v2 = appCmdLine();
  result = ParseParam(v2, "NOGAMMA");
  if ( !result )
  {
    while ( result < 256 )
    {
      v9[result] = (_WORD)result << 8;
      v8[result] = (_WORD)result << 8;
      Ramp[result] = (_WORD)result << 8;
      ++result;
    }
    if ( !GIsEditor && *((_DWORD *)v1 + 4525) && *((_DWORD *)v1 + 4184) & 0x20000 )
    {
      result = (*(int (__stdcall **)(_DWORD, signed int, _DWORD))(**((_DWORD **)v1 + 4525) + 72))(
                 *((_DWORD *)v1 + 4525),
                 1,
                 Ramp);
    }
    else
    {
      v4 = GetDesktopWindow();
      v5 = GetDC(v4);
      result = SetDeviceGammaRamp(v5, Ramp);
    }
  }
  return result;
}
// 1006F0C8: using guessed type int GIsEditor;
// 1006F1C4: using guessed type int __fastcall ParseParam(const char *, const char *);
// 1006F1C8: using guessed type const char *__fastcall appCmdLine();
// 100153B0: using guessed type __int16 var_218[260];
// 100153B0: using guessed type __int16 var_418[256];
// 100153B0: using guessed type __int16 Ramp[256];

//----- (1001548D) --------------------------------------------------------
void __usercall sub_1001548D(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (100154A1) --------------------------------------------------------
void __cdecl sub_100154A1()
{
  appUnwindf("%s", off_100800D0[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800D0: using guessed type char *off_100800D0[50];

//----- (100154C0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::Unlock(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // ecx@1
  int v4; // edx@1
  int v5; // ecx@2
  int v6; // eax@4
  int v7; // ecx@6
  unsigned __int64 v8; // qax@8
  unsigned __int64 v9; // qax@8
  int v11; // [sp+0h] [bp-28h]@1
  void *v12; // [sp+10h] [bp-18h]@1
  int *v13; // [sp+18h] [bp-10h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v2 = this;
  v13 = &v11;
  v14 = 0;
  v3 = (int)((char *)this + 65292);
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v12 = FClock::CurStat;
  FClock::CurStat = (void *)v3;
  qword_100845C4 = __rdtsc();
  v4 = *(_DWORD *)(v3 + 4) + 1;
  *(_DWORD *)v3 -= qword_100845C4;
  *(_DWORD *)(v3 + 4) = v4;
  LOBYTE(v14) = 1;
  if ( a2 )
  {
    v5 = *(_DWORD *)(a2 + 40940);
    if ( v5 )
      *(_DWORD *)v5 = *(_DWORD *)(a2 + 40944);
  }
  sub_10019D00((char *)v2 + 18164);
  v6 = *((_DWORD *)v2 + 4525);
  if ( v6 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 140))(*((_DWORD *)v2 + 4525));
    if ( *((_DWORD *)v2 + 4159) )
    {
      v7 = *((_DWORD *)v2 + 16152);
      if ( v7 )
        sub_1002FE40(v7);
    }
  }
  *((_DWORD *)v2 + 4517) = 0;
  v8 = __rdtsc();
  qword_100845C4 = v8;
  *(_DWORD *)FClock::CurStat += v8 - 12;
  v9 = __rdtsc();
  qword_100845C4 = v9;
  *(_DWORD *)FClock::CurStat -= v9;
  return v9;
}
// 1006F1D0: using guessed type void *FClock__CurStat;
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (100155FA) --------------------------------------------------------
void __usercall sub_100155FA(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001560E) --------------------------------------------------------
void __cdecl sub_1001560E()
{
  appUnwindf("%s", off_100800D4[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800D4: using guessed type char *off_100800D4[49];

//----- (10015630) --------------------------------------------------------
int __thiscall UD3DRenderDevice::Present(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // ecx@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // eax@4
  int v7; // ecx@4
  int v8; // esi@4
  int v9; // ecx@4
  unsigned __int64 v10; // qax@6
  unsigned __int64 v11; // qax@6
  int result; // eax@6
  int *v13; // [sp-10h] [bp-48h]@4
  int *v14; // [sp-Ch] [bp-44h]@4
  int v15; // [sp-8h] [bp-40h]@4
  int v16; // [sp-4h] [bp-3Ch]@4
  int v17; // [sp+0h] [bp-38h]@1
  int v18; // [sp+Ch] [bp-2Ch]@4
  int v19; // [sp+10h] [bp-28h]@4
  int v20; // [sp+14h] [bp-24h]@4
  int v21; // [sp+18h] [bp-20h]@4
  void *v22; // [sp+20h] [bp-18h]@1
  int *v23; // [sp+28h] [bp-10h]@1
  int v24; // [sp+34h] [bp-4h]@1

  v2 = this;
  v23 = &v17;
  v24 = 0;
  v3 = (int)((char *)this + 65332);
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v22 = FClock::CurStat;
  FClock::CurStat = (void *)v3;
  qword_100845C4 = __rdtsc();
  v4 = *(_DWORD *)(v3 + 4) + 1;
  *(_DWORD *)v3 -= qword_100845C4;
  *(_DWORD *)(v3 + 4) = v4;
  v5 = *((_DWORD *)v2 + 4525) == 0;
  LOBYTE(v24) = 1;
  if ( !v5 )
  {
    if ( *((_DWORD *)v2 + 4516) || !a2 )
    {
      v8 = *((_DWORD *)v2 + 4525);
      v9 = *(_DWORD *)v8;
      v16 = 0;
      v15 = 0;
      v14 = 0;
      v13 = 0;
    }
    else
    {
      v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 172))(a2);
      v7 = *(_DWORD *)(a2 + 128);
      v8 = *((_DWORD *)v2 + 4525);
      v16 = 0;
      v21 = *(_DWORD *)(a2 + 132);
      v15 = v6;
      v14 = &v18;
      v19 = 0;
      v18 = 0;
      v20 = v7;
      v9 = *(_DWORD *)v8;
      v13 = &v18;
    }
    (*(void (__stdcall **)(int, int *, int *, int, int))(v9 + 60))(v8, v13, v14, v15, v16);
  }
  v10 = __rdtsc();
  qword_100845C4 = v10;
  *(_DWORD *)FClock::CurStat += v10 - 12;
  FClock::CurStat = v22;
  v11 = __rdtsc();
  qword_100845C4 = v11;
  result = *(_DWORD *)FClock::CurStat - v11;
  *(_DWORD *)FClock::CurStat = result;
  return result;
}
// 1006F1D0: using guessed type void *FClock__CurStat;
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (10015775) --------------------------------------------------------
void __usercall sub_10015775(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10015789) --------------------------------------------------------
void __cdecl sub_10015789()
{
  appUnwindf("%s", off_100800D8[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800D8: using guessed type char *off_100800D8[48];

//----- (100157B0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::ReadPixels(int this, int a2, int a3)
{
  int v3; // eax@1
  int v4; // ecx@1
  signed int v5; // eax@1
  int v6; // eax@2
  signed int v7; // ebx@2
  int v8; // eax@2
  signed int v9; // eax@4
  int v10; // eax@5
  int v11; // eax@5
  int v12; // esi@6
  int v13; // edi@6
  signed int v14; // edx@10
  int v15; // eax@11
  int v16; // eax@11
  int v17; // ecx@14
  int i; // eax@19
  int v20; // esi@21
  int v21; // ebx@21
  unsigned int v22; // eax@23
  unsigned int v23; // ecx@23
  int *v24; // [sp-8h] [bp-6Ch]@8
  signed int v25; // [sp-4h] [bp-68h]@8
  int v26; // [sp+0h] [bp-64h]@1
  int v27; // [sp+4h] [bp-60h]@23
  int v28; // [sp+8h] [bp-5Ch]@23
  int v29; // [sp+Ch] [bp-58h]@4
  int v30; // [sp+10h] [bp-54h]@23
  int v31; // [sp+14h] [bp-50h]@23
  int v32; // [sp+18h] [bp-4Ch]@23
  int v33; // [sp+1Ch] [bp-48h]@23
  int v34; // [sp+2Ch] [bp-38h]@10
  int v35; // [sp+30h] [bp-34h]@21
  int v36; // [sp+38h] [bp-2Ch]@9
  int v37; // [sp+3Ch] [bp-28h]@9
  int v38; // [sp+40h] [bp-24h]@2
  int v39; // [sp+44h] [bp-20h]@9
  int v40; // [sp+4Ch] [bp-18h]@25
  int v41; // [sp+50h] [bp-14h]@1
  int *v42; // [sp+54h] [bp-10h]@1
  int v43; // [sp+60h] [bp-4h]@1
  int v44; // [sp+70h] [bp+Ch]@20

  v3 = *(_DWORD *)(this + 18100);
  v4 = *(_DWORD *)v3;
  v42 = &v26;
  v43 = 0;
  v5 = (*(int (__stdcall **)(int, _DWORD, _DWORD, int *))(v4 + 64))(v3, 0, 0, &v41);
  if ( v5 >= 0 )
  {
    v7 = 1;
  }
  else
  {
    v6 = sub_10001020((int)&v38, v5);
    v7 = 1;
    LOBYTE(v43) = 1;
    v8 = FString::operator_(v6);
    FOutputDevice::Logf(GError, "GetBackBuffer failed: %s", v8);
    LOBYTE(v43) = 0;
    FString::_FString(&v38);
  }
  v9 = (*(int (__stdcall **)(int, int *))(*(_DWORD *)v41 + 32))(v41, &v29);
  if ( v9 < 0 )
  {
    v10 = sub_10001020((int)&v38, v9);
    LOBYTE(v43) = 2;
    v11 = FString::operator_(v10);
    FOutputDevice::Logf(GError, "GetDesc failed: %s", v11);
    LOBYTE(v43) = 0;
    FString::_FString(&v38);
  }
  v12 = a2;
  v13 = a3;
  if ( a2 && a3 )
  {
    v25 = 16;
    v24 = 0;
  }
  else
  {
    v25 = 16;
    v37 = 0;
    v36 = 0;
    v39 = v7;
    v38 = v7;
    v24 = &v36;
  }
  v14 = (*(int (__stdcall **)(int, int *, int *, signed int))(*(_DWORD *)v41 + 36))(v41, &v34, v24, v25);
  if ( v14 < 0 )
  {
    v15 = sub_10001020((int)&v38, v14);
    LOBYTE(v43) = 3;
    v16 = FString::operator_(v15);
    FOutputDevice::Logf(GError, "LockRect failed: %s", v16);
    LOBYTE(v43) = 0;
    FString::_FString(&v38);
  }
  if ( a2 && a3 )
  {
    v17 = v29;
    if ( v29 == 22 || v29 == 21 || v29 == 23 )
    {
      for ( i = 0; ; i = v44 + 1 )
      {
        v44 = i;
        if ( i >= *(_DWORD *)(v12 + 132) )
          break;
        v20 = 0;
        v21 = i * v34 + v35;
        if ( v17 == 23 )
        {
          while ( v20 < *(_DWORD *)(a2 + 128) )
          {
            v22 = *(_WORD *)(v21 + 2 * v20);
            v23 = v22 >> 5;
            LOBYTE(v23) = 4 * (v22 >> 5);
            *(_DWORD *)v13 = *(_DWORD *)FColor::FColor(
                                          &v39,
                                          BYTE1(v22) & 0xF8,
                                          v23,
                                          (unsigned __int8)(8 * *(_WORD *)(v21 + 2 * v20)),
                                          255,
                                          v26,
                                          v27,
                                          v28,
                                          v29,
                                          v30,
                                          v31,
                                          v32,
                                          v33);
            v13 += 4;
            ++v20;
          }
        }
        else
        {
          while ( v20 < *(_DWORD *)(a2 + 128) )
          {
            FColor::FColor(&v40, *(_DWORD *)(v21 + 4 * v20));
            *(_DWORD *)v13 = v40;
            v13 += 4;
            ++v20;
          }
        }
        v12 = a2;
        v17 = v29;
      }
    }
    else
    {
      FOutputDevice::Logf(GLog, "ReadPixels: Unknown back-buffer format.");
    }
  }
  (*(void (__stdcall **)(int))(*(_DWORD *)v41 + 40))(v41);
  return (*(int (__stdcall **)(int))(*(_DWORD *)v41 + 8))(v41);
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F388: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (100159E3) --------------------------------------------------------
void __usercall sub_100159E3(int a1<ebp>)
{
  *(_DWORD *)(a1 - 28) = *(_DWORD *)(a1 - 48);
  CxxThrowException(a1 - 28, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (100159F7) --------------------------------------------------------
void __cdecl sub_100159F7()
{
  appUnwindf("%s", off_100800DC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800DC: using guessed type char *off_100800DC[47];

//----- (10015A20) --------------------------------------------------------
signed int __thiscall UD3DRenderDevice::SupportsTextureFormat(int this, int a2)
{
  signed int result; // eax@2

  switch ( a2 )
  {
    case 3:
      result = *(_DWORD *)(this + 16620);
      break;
    case 7:
      result = *(_DWORD *)(this + 16624);
      break;
    case 8:
      result = *(_DWORD *)(this + 16628);
      break;
    case 4:
    case 5:
      result = *(_DWORD *)(this + 92) == 0;
      break;
    default:
      result = 1;
      break;
  }
  return result;
}

//----- (10015A80) --------------------------------------------------------
int __thiscall UD3DRenderDevice::SetEmulationMode(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // ecx@1
  int v5; // ST04_4@1
  signed int v6; // eax@1
  int v7; // eax@2
  int v8; // eax@2
  int v9; // edx@3
  unsigned int v10; // ecx@3
  int v12; // [sp+0h] [bp-108h]@1
  char v13; // [sp+Ch] [bp-FCh]@1
  int v14; // [sp+A0h] [bp-68h]@3
  int v15; // [sp+A4h] [bp-64h]@3
  unsigned int v16; // [sp+D8h] [bp-30h]@3
  char v17; // [sp+E4h] [bp-24h]@2
  int *v18; // [sp+F8h] [bp-10h]@1
  int v19; // [sp+104h] [bp-4h]@1

  v18 = &v12;
  v2 = this;
  v3 = *(_DWORD *)(this + 18096);
  v4 = *(_DWORD *)v3;
  v5 = *(_DWORD *)(v2 + 18056);
  v19 = 0;
  LOBYTE(v19) = 1;
  v6 = (*(int (__stdcall **)(int, int, signed int, char *))(v4 + 52))(v3, v5, 1, &v13);
  if ( v6 < 0 )
  {
    v7 = sub_10001020((int)&v17, v6);
    LOBYTE(v19) = 2;
    v8 = FString::operator_(v7);
    FOutputDevice::Logf(GError, "GetDeviceCaps failed(%s) on adapter %i.", v8, *(_DWORD *)(v2 + 18056));
    LOBYTE(v19) = 1;
    FString::_FString(&v17);
  }
  v9 = v14;
  *(_DWORD *)(v2 + 16876) = v15;
  v10 = (v16 + 10 * (v16 >> 8)) & 0xFF;
  v19 = 0;
  *(_DWORD *)(v2 + 16872) = v9;
  *(_DWORD *)(v2 + 18040) = v10;
  if ( a2 == 1 )
  {
    *(_DWORD *)(v2 + 16876) = 2;
    *(_DWORD *)(v2 + 16872) = 3;
    *(_DWORD *)(v2 + 18040) = 0;
  }
  else
  {
    if ( a2 == 2 )
    {
      *(_DWORD *)(v2 + 16876) = 4;
      *(_DWORD *)(v2 + 16872) = 4;
    }
  }
  UMaterial::ClearFallbacks();
  return UViewport::RefreshAll();
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F344: using guessed type int UMaterial__ClearFallbacks(void);
// 1006F348: using guessed type int UViewport__RefreshAll(void);

//----- (10015BA1) --------------------------------------------------------
void __usercall sub_10015BA1(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10015BF0) --------------------------------------------------------
void *__thiscall sub_10015BF0(void *this)
{
  void *v1; // esi@1
  int v2; // eax@1
  int v3; // eax@1

  v1 = this;
  v2 = FStatRecord::Main("Render", 1);
  v3 = FStatRecord::FindStat(v2);
  FStatRecord::FStatRecord(v1, "D3D", v3);
  FStatRecord::FStatRecord((char *)v1 + 40, "NumPrimitives", v1);
  FStatRecord::FStatRecord((char *)v1 + 80, "NumSVPVertices", v1);
  FStatRecord::FStatRecord((char *)v1 + 120, "NumTextures", v1);
  FStatRecord::FStatRecord((char *)v1 + 160, "TextureBytes", v1);
  FStatRecord::FStatRecord((char *)v1 + 200, "Total Resources", v1);
  FStatRecord::FStatRecord((char *)v1 + 240, "PushState", v1);
  FStatRecord::FStatRecord((char *)v1 + 280, "PopState", v1);
  FStatRecord::FStatRecord((char *)v1 + 320, "SetRenderTarget", v1);
  FStatRecord::FStatRecord((char *)v1 + 360, "SetMaterial", v1);
  FStatRecord::FStatRecord((char *)v1 + 400, "SetMaterialBlending", v1);
  FStatRecord::FStatRecord((char *)v1 + 440, "SetVertexStream", v1);
  FStatRecord::FStatRecord((char *)v1 + 480, "SetDynStream", v1);
  FStatRecord::FStatRecord((char *)v1 + 520, "SetIB", v1);
  FStatRecord::FStatRecord((char *)v1 + 560, "SetDynIB", v1);
  FStatRecord::FStatRecord((char *)v1 + 600, "DrawPrimitive", v1);
  FStatRecord::FStatRecord((char *)v1 + 640, "Lock", v1);
  FStatRecord::FStatRecord((char *)v1 + 680, "Unlock", v1);
  FStatRecord::FStatRecord((char *)v1 + 720, "Present", v1);
  FStatRecord::FStatRecord((char *)v1 + 760, "StateChanges", v1);
  FStatRecord::FStatRecord((char *)v1 + 800, "TextureChanges", v1);
  FStatRecord::FStatRecord((char *)v1 + 840, "TransformChanges", v1);
  FStatRecord::FStatRecord((char *)v1 + 880, "LightChanges", v1);
  FStatRecord::FStatRecord((char *)v1 + 920, "LightSet", v1);
  FStatRecord::FStatRecord((char *)v1 + 960, "Clear", v1);
  FStatRecord::FStatRecord((char *)v1 + 1000, "DynVBLock", v1);
  FStatRecord::FStatRecord((char *)v1 + 1040, "DynVBDiscards", v1);
  FStatRecord::FStatRecord((char *)v1 + 1080, "DynVBBytes", v1);
  FStatRecord::FStatRecord((char *)v1 + 1120, "DynIBBytes", v1);
  FStatRecord::FStatRecord((char *)v1 + 1160, "NumVertexStreams", v1);
  FStatRecord::FStatRecord((char *)v1 + 1200, "NumIndexBuffers", v1);
  FStatRecord::FStatRecord((char *)v1 + 1240, "VertexStreamBytes", v1);
  FStatRecord::FStatRecord((char *)v1 + 1280, "IndexBufferBytes", v1);
  FStatRecord::FStatRecord((char *)v1 + 1320, "StreamSourceChanges", v1);
  return v1;
}
// 1006F1D4: using guessed type int __thiscall FStatRecord__FStatRecord(_DWORD, _DWORD, _DWORD);
// 1006F1D8: using guessed type int __thiscall FStatRecord__FindStat(_DWORD);
// 1006F1DC: using guessed type int __stdcall FStatRecord__Main(_DWORD, _DWORD);

//----- (10015F20) --------------------------------------------------------
int __thiscall UD3DRenderDevice::GetPixelShader(int this, int a2)
{
  int v2; // edi@1
  int result; // eax@2
  int v4; // esi@9
  int v5; // edx@11
  struct HKEY__ v6; // [sp-8h] [bp-2Ch]@10
  int v7; // [sp-4h] [bp-28h]@10
  int v8; // [sp+0h] [bp-24h]@1
  int *v9; // [sp+14h] [bp-10h]@1
  int v10; // [sp+20h] [bp-4h]@1

  v2 = this;
  v9 = &v8;
  v10 = 0;
  if ( !a2 )
    return 0;
  for ( result = *(_DWORD *)(this + 16568); result; result = *(_DWORD *)(result + 16) )
  {
    if ( *(_DWORD *)(result + 8) == a2 )
      return result;
  }
  if ( a2 == 1 )
  {
    v5 = *(_DWORD *)GMalloc;
    if ( *(_DWORD *)(this + 18040) < 14 )
    {
      v4 = (*(int (__stdcall **)(signed int))(v5 + 4))(20);
      LOBYTE(v10) = 2;
      if ( v4 )
      {
        v7 = (int)"ps.1.1\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ndef c0, 1, 0, 0, 0\t\t\t\t// used to extract value from R\t\t\ndef c1, 0, 1, 0, 0\t\t\t\t// used to extract value from G\t\t\ndef c2, 0, 0, 1, 0\t\t\t\t// used to extract value from B\t\t\ntex t0\t\t\t\t\t\t\t// weightmaps in R, G, B\t\t\t\ntex t1\t\t\t\t\t\t\t// layer 1\t\t\t\t\t\t\t\ntex t2\t\t\t\t\t\t\t// layer 2\t\t\t\t\t\t\t\ntex t3\t\t\t\t\t\t\t// layer 3\t\t\t\t\t\t\t\ndp3 r1, t0, c0\t\t\t\t\t// r1 = Weight1\t\t\t\t\t\t\nmul r0, t1, r1\t\t\t\t\t// r0 = T1*W1\t\t\t\t\t\t\ndp3 r1, t0, c1\t\t\t\t\t// r1 = Weight2\t\t\t\t\t\t\nmad r0, t2, r1, r0\t\t\t\t// r0 = T2*W2 + T1*W1\t\t\t\t\ndp3 r1, t0, c2\t\t\t\t\t// r1 = Weight3\t\t\t\t\t\t\nmad r0, t3, r1, r0\t\t\t\t// r0 = T3*W3 + T2*W2 + T1*W1\t\t\nmul_x2 r0, r0, v0\t\t\t\t// r0 = r0 * lighting\t\t\t\t\n";
        goto LABEL_14;
      }
    }
    else
    {
      v4 = (*(int (__stdcall **)(signed int))(v5 + 4))(20);
      LOBYTE(v10) = 1;
      if ( v4 )
      {
        v7 = (int)"ps.1.4\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ntexld r0, t0\t\t\t\t\t// rgba - blending weights\t\t\t\ntexld r1, t1\t\t\t\t\t// tex 1\t\t\t\t\t\t\t\ntexld r2, t2\t\t\t\t\t// tex 2\t\t\t\t\t\t\t\ntexld r3, t3\t\t\t\t\t// tex 3\t\t\t\t\t\t\t\nmul r1, r1, r0.r\t\t\t\t\t\t\t\t\t\t\t\t\t\nmad r1, r2, r0.g, r1\t\t\t\t\t\t\t\t\t\t\t\t\nmad r1, r3, r0.b, r1\t\t\t\t\t\t\t\t\t\t\t\t\nmul_x2 r0, r1, v0\t\t\t\t\t\t\t\t\t\t\t\t\t\n";
LABEL_14:
        v6.unused = 1;
        goto LABEL_15;
      }
    }
    return 0;
  }
  if ( a2 != 2 || (v4 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(20), LOBYTE(v10) = 3, !v4) )
    return 0;
  v7 = (int)"ps.1.4\t\t\t\t\t\t\t\t\t\ntexld r0, t0\t\t\t\t\t// rgba - blending weights\t\t\t\ntexld r1, t1\t\t\t\t\t// tex 1\t\t\t\t\t\t\t\ntexld r2, t2\t\t\t\t\t// tex 2\t\t\t\t\t\t\t\ntexld r3, t3\t\t\t\t\t// tex 3\t\t\t\t\t\t\t\ntexld r4, t4\t\t\t\t\t// tex 4\t\t\t\t\t\t\t\nmul r1, r1, r0.r\t\t\t\t\t\t\t\t\t\t\t\t\t\nmad r1, r2, r0.g, r1\t\t\t\t\t\t\t\t\t\t\t\t\nmad r1, r3, r0.b, r1\t\t\t\t\t\t\t\t\t\t\t\t\nmad r1, r4, r0.a, r1\t\t\t\t\t\t\t\t\t\t\t\t\nmul_x2 r0, r1, v0\t\t\t\t\t\t\t\t\t\t\t\t\t\n";
  v6.unused = 2;
LABEL_15:
  sub_1002AA40((void *)v4, v2, v6, v7);
  return v4;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1001600D) --------------------------------------------------------
void __usercall sub_1001600D(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10016021) --------------------------------------------------------
void __cdecl sub_10016021()
{
  appUnwindf("%s", off_100800E8[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800E8: using guessed type char *off_100800E8[44];

//----- (10016040) --------------------------------------------------------
bool __thiscall UD3DRenderDevice::ResourceCached(void *this, unsigned int a2, int a3)
{
  int v3; // eax@1
  int v4; // eax@2

  v3 = UD3DRenderDevice::GetCachedResource(this, a2, a3);
  return v3
      && ((v4 = (*(int (__thiscall **)(int))(*(_DWORD *)v3 + 4))(v3)) == 0
       || *(_DWORD *)(v4 + 56)
       || *(_DWORD *)(v4 + 60));
}

//----- (10016080) --------------------------------------------------------
void __thiscall UD3DRenderDevice::RenderMovie(void *this, int a2)
{
  int v2; // edi@1
  void *v3; // ebx@1
  int v4; // eax@2
  int v5; // eax@3
  int v6; // esi@4
  int v7; // eax@5
  signed int v8; // eax@7
  int v9; // eax@8
  int v10; // eax@8
  char v11; // [sp+10h] [bp-14h]@8
  int v12; // [sp+20h] [bp-4h]@8

  v2 = a2;
  v3 = this;
  if ( a2 )
  {
    v4 = *(_DWORD *)(a2 + 48);
    if ( v4 )
    {
      v5 = *(_DWORD *)(v4 + 1612);
      if ( v5 )
      {
        v6 = *(_DWORD *)(v5 + 776);
        if ( v6 )
        {
          v7 = *(_DWORD *)(v6 + 40);
          if ( v7 )
          {
            if ( (*(int (**)(void))(*(_DWORD *)v7 + 24))() )
            {
              v8 = (*(int (__stdcall **)(_DWORD, int *))(**((_DWORD **)v3 + 4525) + 128))(*((_DWORD *)v3 + 4525), &a2);
              if ( v8 >= 0 )
              {
                (*(void (__stdcall **)(int, _DWORD, _DWORD))(**(_DWORD **)(v6 + 40) + 44))(
                  a2,
                  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v2 + 48) + 1612) + 780),
                  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v2 + 48) + 1612) + 784));
                (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
              }
              else
              {
                v9 = sub_10001020((int)&v11, v8);
                v12 = 0;
                v10 = FString::operator_(v9);
                FOutputDevice::Logf(GLog, "D3D Driver: GetRenderTarget failed (%s)", v10);
                v12 = -1;
                FString::_FString(&v11);
              }
            }
          }
        }
      }
    }
  }
}
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (100161A0) --------------------------------------------------------
void *__stdcall UD3DRenderDevice::GetNewMovie(int a1, char a2, int a3, int a4, int a5, int a6)
{
  void *v6; // esi@3
  void *v7; // esi@4
  void *v8; // esi@7
  char v10; // [sp-10h] [bp-20h]@4
  int v11; // [sp-Ch] [bp-1Ch]@4
  int v12; // [sp-8h] [bp-18h]@4
  int v13; // [sp-4h] [bp-14h]@4
  int v14; // [sp+Ch] [bp-4h]@1

  v14 = 0;
  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v6 = (void *)(*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(44);
      LOBYTE(v14) = 1;
      if ( v6 )
      {
        v13 = a5;
        v12 = a4;
        a4 = (int)&v10;
        FString::FString(&v10, &a2, *(_DWORD *)&v10, v11, v12);
        v7 = sub_1002AF60(v6, v10, v11, v12, (int *)v13);
LABEL_10:
        v14 = -1;
        FString::_FString(&a2);
        return v7;
      }
      goto LABEL_9;
    }
    if ( a1 != 2 && a1 == 3 )
    {
      v8 = (void *)(*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(44);
      LOBYTE(v14) = 2;
      if ( v8 )
      {
        v13 = a6;
        v12 = a4;
        a4 = (int)&v10;
        FString::FString(&v10, &a2, *(_DWORD *)&v10, v11, v12);
        v7 = sub_1002B560(v8, v10, v11, v12, v13);
        goto LABEL_10;
      }
LABEL_9:
      v7 = 0;
      goto LABEL_10;
    }
  }
  FString::_FString(&a2);
  return 0;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F1E0: using guessed type int __thiscall FString__FString(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (100162C0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::TakeScreenshot(void *this, int a2, int a3, int a4, int a5)
{
  void *v5; // esi@1
  int result; // eax@1
  int v7; // [sp+0h] [bp-24h]@1
  int *v8; // [sp+14h] [bp-10h]@1
  int v9; // [sp+20h] [bp-4h]@1

  v5 = this;
  v8 = &v7;
  v9 = 0;
  result = UViewport::GetOuterUClient(a3);
  if ( !*(_DWORD *)(result + 228) )
    result = URenderDevice::TakeScreenshot(v5, a2, a3, a4, a5);
  return result;
}
// 1006F33C: using guessed type int __thiscall UViewport__GetOuterUClient(_DWORD);
// 1006F340: using guessed type int __thiscall URenderDevice__TakeScreenshot(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10016327) --------------------------------------------------------
void __usercall sub_10016327(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001633B) --------------------------------------------------------
void __cdecl sub_1001633B()
{
  appUnwindf("%s", off_100800EC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100800EC: using guessed type char *off_100800EC[43];

//----- (10016410) --------------------------------------------------------
int __fastcall sub_10016410(int a1, int a2, int *a3)
{
  int v3; // esi@1
  int v4; // edi@1
  int v5; // eax@1
  char v7; // [sp+10h] [bp-14h]@1
  int v8; // [sp+20h] [bp-4h]@1

  v3 = a1;
  v4 = a2;
  v5 = sub_10015180((int)&v7, *a3, 0);
  v8 = 1;
  FString::Substitute(v4, v3, v5);
  LOBYTE(v8) = 0;
  FStringTemp::_FStringTemp(&v7);
  return v3;
}
// 1006F1E4: using guessed type int __thiscall FString__Substitute(_DWORD, _DWORD, _DWORD);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (10016490) --------------------------------------------------------
int __fastcall sub_10016490(int a1, int a2, int *a3)
{
  int v3; // esi@1
  int v4; // edi@1
  int v5; // eax@1
  char v7; // [sp+10h] [bp-14h]@1
  int v8; // [sp+20h] [bp-4h]@1

  v3 = a1;
  v4 = a2;
  v5 = sub_100151A0((int)&v7, *a3);
  v8 = 1;
  FString::Substitute(v4, v3, v5);
  LOBYTE(v8) = 0;
  FStringTemp::_FStringTemp(&v7);
  return v3;
}
// 1006F1E4: using guessed type int __thiscall FString__Substitute(_DWORD, _DWORD, _DWORD);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (10016600) --------------------------------------------------------
void *__thiscall sub_10016600(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  UIntProperty::_UIntProperty();
  if ( a2 & 1 )
    UObject::operator delete(v2, 64);
  return v2;
}
// 1006F0AC: using guessed type int __fastcall UObject__operator delete(_DWORD, _DWORD);
// 1006F1E8: using guessed type int UIntProperty___UIntProperty(void);

//----- (10016630) --------------------------------------------------------
void *__thiscall sub_10016630(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  UBoolProperty::_UBoolProperty();
  if ( a2 & 1 )
    UObject::operator delete(v2, 68);
  return v2;
}
// 1006F0AC: using guessed type int __fastcall UObject__operator delete(_DWORD, _DWORD);
// 1006F1EC: using guessed type int UBoolProperty___UBoolProperty(void);

//----- (10016660) --------------------------------------------------------
void *__thiscall sub_10016660(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  UFloatProperty::_UFloatProperty();
  if ( a2 & 1 )
    UObject::operator delete(v2, 64);
  return v2;
}
// 1006F0AC: using guessed type int __fastcall UObject__operator delete(_DWORD, _DWORD);
// 1006F1F0: using guessed type int UFloatProperty___UFloatProperty(void);

//----- (100166B0) --------------------------------------------------------
signed int __thiscall sub_100166B0(int this, int a2)
{
  int v2; // esi@1
  signed int result; // eax@2
  int v4; // edx@3
  int v5; // eax@4

  v2 = *(_DWORD *)(this + 16);
  if ( v2 == *(_DWORD *)(a2 + 16) )
  {
    v4 = 0;
    if ( v2 <= 0 )
    {
LABEL_8:
      result = 1;
    }
    else
    {
      v5 = this + 1;
      while ( *(_BYTE *)(v5 - 1) == *(_BYTE *)(a2 + 2 * v4) && *(_BYTE *)v5 == *(_BYTE *)(v5 + a2 - this) )
      {
        ++v4;
        v5 += 2;
        if ( v4 >= v2 )
          goto LABEL_8;
      }
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10016700) --------------------------------------------------------
signed int __thiscall sub_10016700(int this, int a2)
{
  int v2; // ebx@1
  signed int result; // eax@2
  int v4; // edi@3
  int v5; // esi@4
  int v6; // ebp@4

  v2 = *(_DWORD *)(this + 320);
  if ( v2 == *(_DWORD *)(a2 + 320) )
  {
    v4 = 0;
    if ( v2 <= 0 )
    {
LABEL_7:
      result = 1;
    }
    else
    {
      v5 = this;
      v6 = a2 - this;
      while ( sub_100166B0(v5, v5 + v6) )
      {
        ++v4;
        v5 += 20;
        if ( v4 >= v2 )
          goto LABEL_7;
      }
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (100167C0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::GetVertexShader(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // esi@1
  int result; // eax@5
  int v6; // ecx@8
  int v7; // [sp+0h] [bp-24h]@1
  int *v8; // [sp+14h] [bp-10h]@1
  int v9; // [sp+20h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)(this + 16564);
  v8 = &v7;
  v9 = 0;
  while ( v4 )
  {
    if ( *(_DWORD *)v4 == a2 && sub_10016700(v4 + 4, a3) )
      return v4;
    v4 = *(_DWORD *)(v4 + 344);
  }
  if ( a2 || (v6 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(348), LOBYTE(v9) = 1, !v6) )
    result = 0;
  else
    result = sub_1002F2A0(v6, v3, (const void *)a3);
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (100168F0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::Flush(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  int v4; // eax@4
  int v5; // ecx@8
  int v6; // edi@10
  int v7; // edi@14
  int v8; // edi@17
  int v9; // eax@19
  int v11; // [sp+0h] [bp-34h]@1
  int *v12; // [sp+24h] [bp-10h]@1
  int v13; // [sp+30h] [bp-4h]@1

  v2 = this;
  v12 = &v11;
  v13 = 0;
  *(_DWORD *)(this + 16572) = 0;
  *(_DWORD *)(this + 16576) = 0;
  *(_DWORD *)(this + 16580) = 0;
  if ( a2 )
  {
    v3 = *(_DWORD *)(a2 + 48);
    if ( v3 )
      UFrameFX::FreeRenderTargets(*(_DWORD *)(v3 + 1168));
  }
  v4 = *(_DWORD *)(v2 + 18100);
  if ( v4 )
  {
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v4 + 352))(v4, 0);
    (*(void (__stdcall **)(_DWORD, signed int))(**(_DWORD **)(v2 + 18100) + 304))(*(_DWORD *)(v2 + 18100), 2);
  }
  if ( *(_DWORD *)(v2 + 18100) )
    sub_1002A050((void *)(v2 + 59376));
  v5 = *(_DWORD *)(v2 + 176);
  LOBYTE(v13) = 1;
  while ( v5 )
  {
    v6 = *(_DWORD *)(v5 + 40);
    if ( !*(_BYTE *)(v5 + 29) )
      (**(void (__stdcall ***)(_DWORD))v5)(1);
    v5 = v6;
  }
  v13 = 0;
  LOBYTE(v13) = 3;
  while ( 1 )
  {
    v7 = *(_DWORD *)(v2 + 16564);
    if ( !v7 )
      break;
    sub_1002D1C0(*(_DWORD *)(v2 + 16564));
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v7);
  }
  v13 = 0;
  LOBYTE(v13) = 5;
  while ( 1 )
  {
    v8 = *(_DWORD *)(v2 + 16568);
    if ( !v8 )
      break;
    sub_1002AC30(*(_DWORD *)(v2 + 16568));
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v8);
  }
  v9 = *(_DWORD *)(v2 + 16588);
  v13 = 0;
  *(_DWORD *)(v2 + 68) = v9;
  LOBYTE(v13) = 7;
  return UMaterial::ClearFallbacks();
}
// 1006F014: using guessed type void *GMalloc;
// 1006F330: using guessed type int __thiscall UFrameFX__FreeRenderTargets(_DWORD);
// 1006F344: using guessed type int UMaterial__ClearFallbacks(void);

//----- (10016A73) --------------------------------------------------------
void __userpurge sub_10016A73(int a1<ebp>, int a2)
{
  *(_DWORD *)(a1 - 32) = *(_DWORD *)(a1 + 8);
  JUMPOUT(loc_10016AB7);
}
// 10016AB7: using guessed type int __stdcall loc_10016AB7(int);

//----- (10016A84) --------------------------------------------------------
void __stdcall sub_10016A84(int a1)
{
  JUMPOUT(loc_10016AA4);
}
// 10016AA4: using guessed type int __stdcall loc_10016AA4(int);

//----- (10016A8B) --------------------------------------------------------
void __usercall sub_10016A8B(int a1<ebp>)
{
  *(_DWORD *)(a1 - 36) = *(_DWORD *)(a1 - 40);
  CxxThrowException(a1 - 36, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10016AC0) --------------------------------------------------------
BOOL __thiscall UD3DRenderDevice::UpdateGamma(void *this, int a2)
{
  void *v2; // edi@1
  const char *v3; // eax@1
  BOOL result; // eax@1
  signed int i; // esi@2
  signed int v6; // eax@4
  int v7; // eax@9
  int v8; // [sp+0h] [bp-628h]@1
  __int16 Ramp[256]; // [sp+Ch] [bp-61Ch]@8
  __int16 v10[256]; // [sp+20Ch] [bp-41Ch]@8
  __int16 v11[258]; // [sp+40Ch] [bp-21Ch]@8
  float v12; // [sp+610h] [bp-18h]@2
  int *v13; // [sp+618h] [bp-10h]@1
  int v14; // [sp+624h] [bp-4h]@1
  float v15; // [sp+630h] [bp+8h]@4

  v13 = &v8;
  v2 = this;
  v14 = 0;
  v3 = appCmdLine();
  result = ParseParam(v3, "NOGAMMA");
  if ( !result )
  {
    LODWORD(v12) = *(_DWORD *)(UViewport::GetOuterUClient(a2) + 180);
    for ( i = 0; i < 256; ++i )
    {
      v15 = pow((double)i * 0.0039215689, 1.0 / v12) * 65535.0;
      v6 = (signed int)v15;
      if ( (signed int)v15 >= 0 )
      {
        if ( v6 >= 65535 )
          LOWORD(v6) = -1;
      }
      else
      {
        LOWORD(v6) = 0;
      }
      v11[i] = v6;
      v10[i] = v6;
      Ramp[i] = v6;
    }
    v7 = *((_DWORD *)v2 + 4525);
    if ( v7 )
      result = (*(int (__stdcall **)(int, signed int, _DWORD))(*(_DWORD *)v7 + 72))(v7, 1, Ramp);
    else
      result = SetDeviceGammaRamp(*((HDC *)v2 + 4539), Ramp);
  }
  return result;
}
// 1006F1C4: using guessed type int __fastcall ParseParam(const char *, const char *);
// 1006F1C8: using guessed type const char *__fastcall appCmdLine();
// 1006F33C: using guessed type int __thiscall UViewport__GetOuterUClient(_DWORD);
// 10016AC0: using guessed type __int16 var_21C[258];
// 10016AC0: using guessed type __int16 var_41C[256];
// 10016AC0: using guessed type __int16 Ramp[256];

//----- (10016BD2) --------------------------------------------------------
void __usercall sub_10016BD2(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10016BE6) --------------------------------------------------------
void __cdecl sub_10016BE6()
{
  appUnwindf("%s", off_10080108[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080108: using guessed type char *off_10080108[36];

//----- (10016C10) --------------------------------------------------------
signed int __thiscall UD3DRenderDevice::Exec(void *this, const char *a2, float a3)
{
  void *v3; // ebx@1
  signed int i; // esi@2
  int v5; // eax@4
  int v6; // ecx@4
  int j; // esi@21
  int v9; // eax@23
  signed int v10; // eax@25
  signed int v11; // eax@26
  int v12; // [sp+0h] [bp-34h]@1
  int v13; // [sp+14h] [bp-20h]@18
  int v14; // [sp+18h] [bp-1Ch]@18
  int v15; // [sp+1Ch] [bp-18h]@18
  int v16; // [sp+20h] [bp-14h]@18
  int *v17; // [sp+24h] [bp-10h]@1
  int v18; // [sp+30h] [bp-4h]@1

  v17 = &v12;
  v3 = this;
  v18 = 0;
  if ( ParseCommand(&a2, "DUMPRESOURCEHASH") )
  {
    for ( i = 0; i < 4096; ++i )
    {
      v5 = *((_DWORD *)v3 + i + 35);
      v6 = 0;
      while ( v5 )
      {
        v5 = *(_DWORD *)(v5 + 44);
        ++v6;
      }
      FOutputDevice::Logf(GLog, "Resource hash bin\t%u: %u resources.", i, v6);
    }
    return 1;
  }
  if ( ParseCommand(&a2, "FIRSTCOLOREDMIP") )
  {
    if ( appStrcmp(a2, (const char *)&unk_10071481) )
      *((_DWORD *)v3 + 4162) = appAtoi(a2);
    else
      *((_DWORD *)v3 + 4162) = 255;
    (*(void (__thiscall **)(char *, _DWORD))(*((_DWORD *)v3 - 10) + 148))((char *)v3 - 40, 0);
    return 1;
  }
  if ( ParseCommand(&a2, "NEARCLIP") )
  {
    if ( appStrcmp(a2, (const char *)&unk_10071481) )
    {
      a3 = appAtof(a2);
      NEAR_CLIPPING_PLANE = a3;
    }
    return 1;
  }
  if ( ParseCommand(&a2, "SUPPORTEDRESOLUTION") )
  {
    v16 = 0;
    v15 = 0;
    v14 = 0;
    v13 = 0;
    if ( Parse(a2, "WIDTH=", &v16) && Parse(a2, "HEIGHT=", &v15) && Parse(a2, "BITDEPTH=", &v14) )
    {
      for ( j = 0; j < 8 * *((_DWORD *)v3 + 4494) >> 3; ++j )
      {
        v9 = *((_DWORD *)v3 + 4493) + 16 * j;
        if ( *(_DWORD *)v9 == v16 )
        {
          if ( *(_DWORD *)(v9 + 4) == v15 )
          {
            v10 = sub_100014A0(*(_DWORD *)(v9 + 12));
            if ( v10 == v14 )
            {
              v11 = 1;
              goto LABEL_29;
            }
          }
        }
      }
    }
    v11 = v13;
LABEL_29:
    FOutputDevice::Logf(LODWORD(a3), "%u", v11);
    return 1;
  }
  if ( ParseCommand(&a2, "CACHESTATES") )
  {
    *((_DWORD *)v3 + 4170) = *((_DWORD *)v3 + 4170) == 0;
    return 1;
  }
  return 0;
}
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1F4: using guessed type int __fastcall Parse(const char *, const char *, int *);
// 1006F1F8: using guessed type float NEAR_CLIPPING_PLANE;
// 1006F1FC: using guessed type float __fastcall appAtof(const char *);
// 1006F200: using guessed type int __cdecl appAtoi(const char *);
// 1006F204: using guessed type int __fastcall appStrcmp(const char *, const char *);
// 1006F208: using guessed type int __cdecl ParseCommand(const char **, const char *);

//----- (10016E40) --------------------------------------------------------
void __usercall sub_10016E40(int a1<ebp>)
{
  *(_DWORD *)(a1 - 36) = *(_DWORD *)(a1 - 40);
  CxxThrowException(a1 - 36, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10016E54) --------------------------------------------------------
void __cdecl sub_10016E54()
{
  appUnwindf("%s", off_1008010C[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 1008010C: using guessed type char *off_1008010C[35];

//----- (10016E80) --------------------------------------------------------
void *__thiscall UD3DRenderDevice::Lock(void *this, int a2, int a3, int a4)
{
  void *v4; // esi@1
  int v5; // ecx@1
  unsigned __int64 v6; // qax@1
  int v7; // edx@2
  int v8; // ST0C_4@2
  int v9; // eax@4
  int v10; // ecx@4
  int v11; // eax@4
  int v12; // eax@8
  int v13; // ST0C_4@8
  int v14; // edx@10
  LONG v15; // eax@10
  LONG v16; // ecx@10
  HWND v17; // eax@11
  LONG v18; // edx@12
  void *v19; // ecx@17
  int v21; // eax@20
  int v22; // ecx@20
  signed int v23; // eax@20
  int v24; // eax@21
  int v25; // eax@21
  int v26; // ecx@23
  void *v27; // esi@25
  unsigned __int64 v28; // qax@25
  unsigned __int64 v29; // qax@25
  int v30; // [sp+0h] [bp-64h]@1
  int v31; // [sp+Ch] [bp-58h]@12
  int v32; // [sp+10h] [bp-54h]@12
  LONG v33; // [sp+14h] [bp-50h]@10
  LONG v34; // [sp+18h] [bp-4Ch]@10
  int v35; // [sp+1Ch] [bp-48h]@12
  int v36; // [sp+20h] [bp-44h]@12
  struct tagRECT Rect; // [sp+28h] [bp-3Ch]@11
  void *v38; // [sp+50h] [bp-14h]@1
  int *v39; // [sp+54h] [bp-10h]@1
  int v40; // [sp+60h] [bp-4h]@1

  v4 = this;
  v39 = &v30;
  v40 = 0;
  v5 = (int)((char *)this + 65252);
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v38 = FClock::CurStat;
  FClock::CurStat = (void *)v5;
  v6 = __rdtsc();
  qword_100845C4 = v6;
  HIDWORD(v6) = *(_DWORD *)(v5 + 4) + 1;
  *(_DWORD *)v5 -= v6;
  *(_DWORD *)(v5 + 4) = HIDWORD(v6);
  LODWORD(v6) = *((_DWORD *)v4 + 4525);
  ++*((_DWORD *)v4 + 4522);
  LOBYTE(v40) = 2;
  if ( !(_DWORD)v6 )
  {
    v7 = *(_DWORD *)v4;
    v8 = *((_DWORD *)v4 + 4516);
    *((_DWORD *)v4 + 4515) = 1;
    if ( !(*(int (__thiscall **)(void *, int, _DWORD, _DWORD, int, _DWORD, signed int))(v7 + 140))(
            v4,
            a2,
            *(_DWORD *)(a2 + 128),
            *(_DWORD *)(a2 + 132),
            v8,
            0,
            1) )
      FOutputDevice::Logf(GError, "Failed resetting mode");
  }
  v9 = *((_DWORD *)v4 + 4525);
  v10 = *(_DWORD *)v9;
  v40 = 1;
  LOBYTE(v40) = 4;
  v11 = (*(int (__stdcall **)(int))(v10 + 12))(v9);
  v40 = 1;
  if ( v11 < 0 )
  {
    LOBYTE(v40) = 6;
    if ( v11 == -2005530520 )
    {
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
      FClock::CurStat = v38;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat -= qword_100845C4;
      return 0;
    }
    if ( v11 == -2005530519 )
    {
      v12 = *(_DWORD *)v4;
      v13 = *((_DWORD *)v4 + 4516);
      *((_DWORD *)v4 + 4515) = 1;
      if ( !(*(int (__thiscall **)(void *, int, _DWORD, _DWORD, int, _DWORD, signed int))(v12 + 140))(
              v4,
              a2,
              *(_DWORD *)(a2 + 128),
              *(_DWORD *)(a2 + 132),
              v13,
              0,
              1) )
        FOutputDevice::Logf(GError, "Failed resetting mode");
    }
  }
  v14 = *((_DWORD *)v4 + 4516);
  *((_DWORD *)v4 + 4517) = a2;
  v15 = *(_DWORD *)(a2 + 128);
  v16 = *(_DWORD *)(a2 + 132);
  v40 = 1;
  LOBYTE(v40) = 8;
  v33 = v15;
  v34 = v16;
  if ( !v14 )
  {
    v17 = (HWND)(*(int (__thiscall **)(int))(*(_DWORD *)a2 + 172))(a2);
    GetClientRect(v17, &Rect);
    v15 = Rect.right;
    v16 = Rect.bottom;
    v33 = Rect.right;
    v34 = Rect.bottom;
  }
  v31 = *(_DWORD *)(a2 + 136);
  v32 = *(_DWORD *)(a2 + 140);
  v18 = *((_DWORD *)v4 + 4526);
  v35 = 0;
  v36 = dword_1006F9A0;
  if ( v15 > (unsigned int)v18 )
    v33 = v18;
  if ( (unsigned int)v16 > *((_DWORD *)v4 + 4527) )
    v34 = *((_DWORD *)v4 + 4527);
  if ( (*(int (__stdcall **)(_DWORD, int *))(**((_DWORD **)v4 + 4525) + 160))(*((_DWORD *)v4 + 4525), &v31) < 0 )
  {
    *((_DWORD *)v4 + 4517) = 0;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    FClock::CurStat = v38;
    v19 = FClock::CurStat;
    qword_100845C4 = __rdtsc();
LABEL_18:
    *(_DWORD *)v19 -= qword_100845C4;
    return 0;
  }
  v21 = *((_DWORD *)v4 + 4525);
  v22 = *(_DWORD *)v21;
  v40 = 1;
  LOBYTE(v40) = 10;
  v23 = (*(int (__stdcall **)(int))(v22 + 136))(v21);
  if ( v23 < 0 )
  {
    v24 = sub_10001020((int)&Rect.right, v23);
    LOBYTE(v40) = 11;
    v25 = FString::operator_(v24);
    FOutputDevice::Logf(GError, "BeginScene failed (%s)", v25);
    LOBYTE(v40) = 10;
    FString::_FString(&Rect.right);
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    FClock::CurStat = v38;
    v19 = FClock::CurStat;
    qword_100845C4 = __rdtsc();
    goto LABEL_18;
  }
  if ( *((_DWORD *)v4 + 4159) )
  {
    v26 = *((_DWORD *)v4 + 16152);
    if ( v26 )
      sub_1002FE20(v26);
  }
  v27 = (char *)v4 + 18164;
  v40 = 1;
  sub_10019BD0(v27, a2, a3, a4);
  v28 = __rdtsc();
  qword_100845C4 = v28;
  *(_DWORD *)FClock::CurStat += v28 - 12;
  FClock::CurStat = v38;
  v29 = __rdtsc();
  qword_100845C4 = v29;
  *(_DWORD *)FClock::CurStat -= v29;
  return v27;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F9A0: using guessed type int dword_1006F9A0;
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (100172B1) --------------------------------------------------------
void __userpurge sub_100172B1(int a1<ebp>, int a2, int a3, int a4)
{
  *(_DWORD *)(a1 - 32) = *(_DWORD *)(a1 + 8);
  JUMPOUT(loc_10017325);
}
// 10017325: using guessed type int __stdcall loc_10017325(int, int, int);

//----- (100172C2) --------------------------------------------------------
void __stdcall sub_100172C2(int a1, int a2, int a3)
{
  JUMPOUT(loc_10017312);
}
// 10017312: using guessed type int __stdcall loc_10017312(int, int, int);

//----- (100172C9) --------------------------------------------------------
void __userpurge sub_100172C9(int a1<ebp>, int a2, int a3, int a4)
{
  *(_DWORD *)(a1 - 36) = *(_DWORD *)(a1 + 8);
  JUMPOUT(loc_10017325);
}
// 10017325: using guessed type int __stdcall loc_10017325(int, int, int);

//----- (100172DA) --------------------------------------------------------
void __stdcall sub_100172DA(int a1, int a2, int a3)
{
  JUMPOUT(loc_10017312);
}
// 10017312: using guessed type int __stdcall loc_10017312(int, int, int);

//----- (100172E1) --------------------------------------------------------
void __userpurge sub_100172E1(int a1<ebp>, int a2, int a3, int a4)
{
  *(_DWORD *)(a1 - 40) = *(_DWORD *)(a1 + 8);
  JUMPOUT(loc_10017325);
}
// 10017325: using guessed type int __stdcall loc_10017325(int, int, int);

//----- (100172F2) --------------------------------------------------------
void __stdcall sub_100172F2(int a1, int a2, int a3)
{
  JUMPOUT(loc_10017312);
}
// 10017312: using guessed type int __stdcall loc_10017312(int, int, int);

//----- (100172F9) --------------------------------------------------------
void __usercall sub_100172F9(int a1<ebp>)
{
  *(_DWORD *)(a1 - 44) = *(_DWORD *)(a1 - 64);
  CxxThrowException(a1 - 44, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10017330) --------------------------------------------------------
int *__thiscall UD3DRenderDevice::GetRenderCaps(int this)
{
  signed int v1; // eax@3
  unsigned int v2; // eax@6

  if ( !(dword_100845D8 & 1) )
  {
    dword_100845D8 |= 1u;
    dword_100845CC = 1;
    dword_100845D0 = 0;
    dword_100845D4 = 0;
  }
  v1 = *(_DWORD *)(this + 18040);
  if ( v1 >= 14 || v1 >= 11 )
  {
    dword_100845CC = 3;
  }
  else
  {
    v2 = *(_DWORD *)(this + 16876);
    if ( v2 >= 7 && *(_DWORD *)(this + 16644) )
    {
      dword_100845CC = 3;
    }
    else
    {
      if ( v2 < 4 || *(_DWORD *)(this + 16644) )
      {
        if ( v2 >= 2 )
          dword_100845CC = 1;
      }
      else
      {
        dword_100845CC = 2;
      }
    }
  }
  dword_100845D0 = *(_DWORD *)(this + 18040);
  dword_100845D4 = *(_DWORD *)(this + 16604);
  return &dword_100845CC;
}
// 100845CC: using guessed type int dword_100845CC;
// 100845D0: using guessed type int dword_100845D0;
// 100845D4: using guessed type int dword_100845D4;
// 100845D8: using guessed type int dword_100845D8;

//----- (100173E0) --------------------------------------------------------
int __stdcall UD3DRenderDevice::ResourceMem(int a1, int a2, int a3)
{
  int v3; // eax@2
  int v4; // eax@4
  int result; // eax@4

  if ( !a2 || (v3 = *(_DWORD *)(a2 + 32)) != 0 && v3 != a3 )
  {
    result = a1;
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)a1 = 0;
  }
  else
  {
    v4 = *(_DWORD *)a2;
    *(_DWORD *)(a2 + 32) = a3;
    (*(void (__stdcall **)(int))(v4 + 16))(a1);
    result = a1;
  }
  return result;
}

//----- (10017420) --------------------------------------------------------
int __thiscall UD3DRenderDevice::ResourceMem(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // esi@1
  int v6; // eax@2
  int v7; // ebx@3
  unsigned int v8; // ecx@3
  int result; // eax@3
  int v10; // ecx@3
  int v11; // esi@4
  int v12; // ebx@4
  int v13; // ebp@4
  int v14; // eax@6
  int v15; // edx@6
  int v16; // ecx@6
  int v17; // eax@11
  int v18; // ecx@12
  char v19; // [sp+8h] [bp-Ch]@6

  v4 = 0;
  v5 = this;
  if ( a3 )
  {
    v17 = UD3DRenderDevice::GetCachedResource((void *)this, *(_DWORD *)(a3 + 4), *(_DWORD *)(a3 + 8));
    if ( !v17 || (v18 = *(_DWORD *)(v17 + 32)) != 0 && v18 != a4 )
    {
      *(_DWORD *)(a2 + 8) = 0;
      *(_DWORD *)(a2 + 4) = 0;
      *(_DWORD *)a2 = 0;
      result = a2;
    }
    else
    {
      *(_DWORD *)(v17 + 32) = a4;
      (*(void (__thiscall **)(int, int))(*(_DWORD *)v17 + 16))(v17, a2);
      result = a2;
    }
  }
  else
  {
    v6 = a4;
    if ( a4 == this )
    {
      v7 = *(_DWORD *)(this + 18136) * sub_100014A0(*(_DWORD *)(this + 18140));
      v8 = (*(_DWORD *)(v5 + 18116) * sub_100014A0(*(_DWORD *)(v5 + 18112)) + v7 + 8 * *(_DWORD *)(v5 + 18072))
         * *(_DWORD *)(v5 + 18104);
      result = a2;
      v10 = *(_DWORD *)(v5 + 18108) * (v8 >> 3);
      *(_DWORD *)a2 = 1;
      *(_DWORD *)(a2 + 8) = (v10 + 4095) & 0xFFFFF000;
      *(_DWORD *)(a2 + 4) = v10;
      return result;
    }
    v11 = *(_DWORD *)(this + 176);
    v12 = 0;
    v13 = 0;
    if ( v11 )
    {
      while ( *(_DWORD *)(v11 + 32) != v6 )
      {
        if ( !v6 )
          goto LABEL_8;
LABEL_9:
        v11 = *(_DWORD *)(v11 + 40);
        if ( !v11 )
          goto LABEL_10;
      }
      v14 = (*(int (__thiscall **)(int, char *))(*(_DWORD *)v11 + 16))(v11, &v19);
      v15 = *(_DWORD *)(v14 + 8);
      v4 += *(_DWORD *)v14;
      v16 = *(_DWORD *)(v14 + 4);
      v6 = a4;
      v12 += v15;
      v13 += v16;
LABEL_8:
      *(_DWORD *)(v11 + 32) = 0;
      goto LABEL_9;
    }
LABEL_10:
    result = a2;
    *(_DWORD *)a2 = v4;
    *(_DWORD *)(a2 + 4) = v13;
    *(_DWORD *)(a2 + 8) = v12;
  }
  return result;
}

//----- (10017560) --------------------------------------------------------
int __thiscall UD3DRenderDevice::ResourceMemTotal(void *this, int a2)
{
  int v2; // esi@1
  int v3; // ebx@1
  int v4; // ebp@1
  int v5; // edi@1
  int v6; // eax@2
  int v7; // eax@4
  int v8; // esi@4
  int v9; // edx@4
  int v10; // ecx@4
  int result; // eax@4
  void *v12; // [sp+10h] [bp-10h]@1
  char v13; // [sp+14h] [bp-Ch]@2

  v2 = *((_DWORD *)this + 44);
  v3 = 0;
  v4 = 0;
  v5 = 0;
  v12 = this;
  if ( v2 )
  {
    do
    {
      v6 = (*(int (__thiscall **)(int, char *))(*(_DWORD *)v2 + 16))(v2, &v13);
      v2 = *(_DWORD *)(v2 + 40);
      v5 += *(_DWORD *)v6;
      v3 += *(_DWORD *)(v6 + 8);
      v4 += *(_DWORD *)(v6 + 4);
    }
    while ( v2 );
    this = v12;
  }
  v7 = (*(int (__stdcall **)(char *, _DWORD, void *))(*(_DWORD *)this + 160))(&v13, 0, this);
  v8 = *(_DWORD *)v7;
  v9 = *(_DWORD *)(v7 + 8);
  v10 = *(_DWORD *)(v7 + 4);
  result = a2;
  *(_DWORD *)a2 = v8 + v5;
  *(_DWORD *)(a2 + 4) = v10 + v4;
  *(_DWORD *)(a2 + 8) = v9 + v3;
  return result;
}

//----- (100175E0) --------------------------------------------------------
int __thiscall sub_100175E0(void *this, int a2)
{
  void *v2; // edi@1
  int v3; // ebx@1
  int result; // eax@1
  int v5; // esi@2
  int v6; // ecx@3
  int v7; // ecx@7

  v2 = this;
  v3 = a2 + 1;
  result = UObject::GetObjectCount();
  if ( a2 + 1 < result )
  {
    while ( 1 )
    {
      result = UObject::GetIndexedObject(v3);
      v5 = result;
      if ( !result )
        break;
      result = UMaterial::StaticClass();
      v6 = *(_DWORD *)(v5 + 36);
      if ( v6 )
      {
        while ( v6 != result )
        {
          v6 = *(_DWORD *)(v6 + 48);
          if ( !v6 )
            goto LABEL_6;
        }
      }
      else
      {
LABEL_6:
        result = result == 0;
        if ( !result )
          break;
      }
      v7 = v5;
LABEL_9:
      *((_DWORD *)v2 + 1) = v7;
      if ( v7 )
      {
        if ( !*(_DWORD *)v2 || (result = UObject::GetOuter(), result == *(_DWORD *)v2) )
          return result;
      }
      ++v3;
      result = UObject::GetObjectCount();
      if ( v3 >= result )
        goto LABEL_13;
    }
    v7 = 0;
    goto LABEL_9;
  }
LABEL_13:
  *((_DWORD *)v2 + 1) = 0;
  return result;
}
// 1006F20C: using guessed type int UObject__GetOuter(void);
// 1006F210: using guessed type int __thiscall UObject__GetIndexedObject(_DWORD);
// 1006F214: using guessed type int UObject__GetObjectCount(void);
// 1006F338: using guessed type int UMaterial__StaticClass(void);

//----- (10017660) --------------------------------------------------------
int __thiscall sub_10017660(void *this, int a2)
{
  void *v2; // edi@1
  int v3; // ebx@1
  int result; // eax@1
  int v5; // esi@2
  int v6; // ecx@3
  int v7; // ecx@7

  v2 = this;
  v3 = a2 + 1;
  result = UObject::GetObjectCount();
  if ( a2 + 1 < result )
  {
    while ( 1 )
    {
      result = UObject::GetIndexedObject(v3);
      v5 = result;
      if ( !result )
        break;
      result = UShadowBitmapMaterial::StaticClass();
      v6 = *(_DWORD *)(v5 + 36);
      if ( v6 )
      {
        while ( v6 != result )
        {
          v6 = *(_DWORD *)(v6 + 48);
          if ( !v6 )
            goto LABEL_6;
        }
      }
      else
      {
LABEL_6:
        result = result == 0;
        if ( !result )
          break;
      }
      v7 = v5;
LABEL_9:
      *((_DWORD *)v2 + 1) = v7;
      if ( v7 )
      {
        if ( !*(_DWORD *)v2 || (result = UObject::GetOuter(), result == *(_DWORD *)v2) )
          return result;
      }
      ++v3;
      result = UObject::GetObjectCount();
      if ( v3 >= result )
        goto LABEL_13;
    }
    v7 = 0;
    goto LABEL_9;
  }
LABEL_13:
  *((_DWORD *)v2 + 1) = 0;
  return result;
}
// 1006F20C: using guessed type int UObject__GetOuter(void);
// 1006F210: using guessed type int __thiscall UObject__GetIndexedObject(_DWORD);
// 1006F214: using guessed type int UObject__GetObjectCount(void);
// 1006F334: using guessed type int UShadowBitmapMaterial__StaticClass(void);

//----- (100176E0) --------------------------------------------------------
int __userpurge UD3DRenderDevice::Serialize<eax>(int a1<ecx>, int a2<ebx>, int a3<ebp>, int a4)
{
  int v4; // esi@1
  int result; // eax@1
  int v6; // ST18_4@2
  int v7; // ebp@2
  int v8; // eax@2
  int v9; // ecx@2
  int v10; // eax@3
  int v11; // edx@5
  int v12; // ecx@7
  int v13; // eax@8
  int v14; // edx@10
  int v15; // ecx@12
  int v16; // eax@13
  int v17; // edx@15
  char v18; // [sp+28h] [bp-Ch]@2
  int v19; // [sp+30h] [bp-4h]@5
  void *v20; // [sp+34h] [bp+0h]@6

  v4 = a1;
  UObject::Serialize(a4);
  result = (*(int (__thiscall **)(int))(*(_DWORD *)a4 + 96))(a4);
  if ( result )
  {
    v6 = a3;
    v7 = *(_DWORD *)a4;
    v8 = (*(int (__thiscall **)(int, char *, _DWORD, int, int, int))(*(_DWORD *)v4 + 160))(v4, &v18, 0, v4, v6, a2);
    (*(void (__thiscall **)(int, signed int, int))(v7 + 28))(a4, 82, v8);
    v9 = *(_DWORD *)(v4 + 16572);
    if ( !v9 || (v10 = *(_DWORD *)(v9 + 32)) != 0 && v10 != v4 )
    {
      v20 = 0;
      v19 = 0;
    }
    else
    {
      v11 = *(_DWORD *)v9;
      *(_DWORD *)(v9 + 32) = v4;
      (*(void (__stdcall **)(int *))(v11 + 16))(&v19);
    }
    (*(void (__thiscall **)(int, signed int, int *))(*(_DWORD *)a4 + 28))(a4, 82, &v19);
    v12 = *(_DWORD *)(v4 + 16576);
    if ( !v12 || (v13 = *(_DWORD *)(v12 + 32)) != 0 && v13 != v4 )
    {
      v20 = 0;
      v19 = 0;
    }
    else
    {
      v14 = *(_DWORD *)v12;
      *(_DWORD *)(v12 + 32) = v4;
      (*(void (__stdcall **)(int *))(v14 + 16))(&v19);
    }
    (*(void (__thiscall **)(int, signed int, int *))(*(_DWORD *)a4 + 28))(a4, 82, &v19);
    v15 = *(_DWORD *)(v4 + 16580);
    if ( !v15 || (v16 = *(_DWORD *)(v15 + 32)) != 0 && v16 != v4 )
    {
      v20 = 0;
      v19 = 0;
    }
    else
    {
      v17 = *(_DWORD *)v15;
      *(_DWORD *)(v15 + 32) = v4;
      (*(void (__stdcall **)(int *))(v17 + 16))(&v19);
    }
    result = (*(int (__thiscall **)(int))(*(_DWORD *)a4 + 28))(a4);
  }
  return result;
}
// 100176E0: could not find valid save-restore pair for ebx
// 100176E0: could not find valid save-restore pair for ebp
// 1006F218: using guessed type int __stdcall UObject__Serialize(_DWORD);

//----- (100177F0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::Exit(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // eax@1
  int v4; // edi@1
  int v5; // eax@3
  int v6; // eax@5
  int result; // eax@7
  int v8; // [sp+0h] [bp-24h]@1
  int *v9; // [sp+14h] [bp-10h]@1
  int v10; // [sp+20h] [bp-4h]@1

  v2 = this;
  v3 = *(_DWORD *)this;
  v9 = &v8;
  v10 = 0;
  (*(void (__stdcall **)(int))(v3 + 148))(a2);
  (*(void (__thiscall **)(void *))(*(_DWORD *)v2 + 172))(v2);
  v4 = *((_DWORD *)v2 + 16152);
  if ( v4 )
  {
    sub_1002FEB0(*((_DWORD *)v2 + 16152));
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 4) = 0;
    *(_DWORD *)(v4 + 8) = 0;
    *(_DWORD *)(v4 + 16) = 3;
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v4);
    *((_DWORD *)v2 + 16152) = 0;
  }
  v5 = *((_DWORD *)v2 + 4525);
  if ( v5 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*((_DWORD *)v2 + 4525));
    *((_DWORD *)v2 + 4525) = 0;
  }
  v6 = *((_DWORD *)v2 + 4524);
  if ( v6 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*((_DWORD *)v2 + 4524));
    *((_DWORD *)v2 + 4524) = 0;
  }
  result = *((_DWORD *)v2 + 4539);
  if ( result )
    result = ReleaseDC(*((HWND *)v2 + 4540), *((HDC *)v2 + 4539));
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (100178BA) --------------------------------------------------------
void __usercall sub_100178BA(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (100178CE) --------------------------------------------------------
void __cdecl sub_100178CE()
{
  appUnwindf("%s", off_10080128[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080128: using guessed type char *off_10080128[28];

//----- (10017AA0) --------------------------------------------------------
int __thiscall UD3DRenderDevice::UD3DRenderDevice(void *this)
{
  int v1; // esi@1

  v1 = (int)this;
  URenderDevice::URenderDevice();
  *(_DWORD *)v1 = &UD3DRenderDevice::_vftable_;
  *(_DWORD *)(v1 + 40) = &UD3DRenderDevice::_vftable_;
  *(_DWORD *)(v1 + 18012) = 0;
  *(_DWORD *)(v1 + 18016) = 0;
  *(_DWORD *)(v1 + 18048) = 0;
  *(_DWORD *)(v1 + 18052) = 0;
  sub_10026710((void *)(v1 + 18164), v1);
  *(_DWORD *)(v1 + 59368) = 0;
  *(_DWORD *)(v1 + 59372) = 0;
  sub_10015BF0((void *)(v1 + 64612));
  *(_DWORD *)(v1 + 64608) = 0;
  *(_DWORD *)(v1 + 16584) = 0;
  return v1;
}
// 1006F32C: using guessed type int URenderDevice__URenderDevice(void);
// 1006F7E4: using guessed type int (__stdcall *UD3DRenderDevice___vftable_)(int, float);
// 1006F7E8: using guessed type int (__thiscall *UD3DRenderDevice___vftable_)(void *, char);

//----- (10017C60) --------------------------------------------------------
signed int __thiscall UD3DRenderDevice::Init(int this)
{
  int v1; // ebx@1
  int v2; // eax@1
  int v3; // ecx@2
  int i; // eax@2
  HWND v5; // eax@6
  HDC v6; // eax@6
  int v7; // eax@8
  int v8; // eax@10
  int v9; // ecx@10
  int v10; // eax@10
  int v11; // edx@10
  int j; // eax@10
  int k; // esi@13
  signed int v14; // eax@15
  int v15; // eax@16
  int v16; // eax@16
  const char *v17; // edi@17
  const char *v18; // eax@17
  int v19; // eax@22
  int v20; // eax@25
  int v21; // edx@25
  int v22; // ST10_4@25
  int v23; // ST18_4@27
  int v24; // eax@34
  int v25; // ecx@36
  int v26; // eax@36
  int v27; // ecx@39
  int v28; // eax@39
  int v29; // eax@41
  bool v30; // sf@47
  int v31; // eax@47
  int v32; // eax@47
  int v33; // eax@47
  int v34; // eax@55
  int v35; // eax@61
  int v36; // eax@72
  int v37; // eax@79
  int v38; // eax@82
  int v39; // eax@84
  int v40; // eax@86
  const char *v41; // eax@98
  const char *v42; // eax@98
  unsigned __int16 v43; // ax@98
  unsigned __int16 v44; // ax@98
  unsigned __int16 v45; // ax@98
  unsigned __int16 v46; // ax@98
  int v47; // eax@98
  int v48; // eax@98
  int v49; // eax@98
  const char *v50; // eax@98
  int v51; // eax@100
  int v52; // edi@111
  int v53; // eax@121
  unsigned int v54; // eax@131
  int v55; // eax@147
  int v56; // eax@180
  int v57; // eax@181
  int v58; // esi@185
  void *v60; // [sp-Ch] [bp-49Ch]@37
  void *v61; // [sp-Ch] [bp-49Ch]@67
  void *v62; // [sp-Ch] [bp-49Ch]@104
  void *v63; // [sp-Ch] [bp-49Ch]@177
  signed int v64; // [sp-8h] [bp-498h]@37
  signed int v65; // [sp-8h] [bp-498h]@67
  signed int v66; // [sp-8h] [bp-498h]@104
  signed int v67; // [sp-8h] [bp-498h]@177
  const char *v68; // [sp-4h] [bp-494h]@37
  const char *v69; // [sp-4h] [bp-494h]@66
  const char *v70; // [sp-4h] [bp-494h]@99
  const char *v71; // [sp-4h] [bp-494h]@177
  int v72; // [sp+0h] [bp-490h]@1
  char v73; // [sp+Ch] [bp-484h]@15
  char v74; // [sp+20Ch] [bp-284h]@17
  char v75; // [sp+438h] [bp-58h]@98
  char v76; // [sp+440h] [bp-50h]@98
  char v77; // [sp+448h] [bp-48h]@98
  char v78; // [sp+470h] [bp-20h]@16
  int v79; // [sp+474h] [bp-1Ch]@98
  const char *v80; // [sp+478h] [bp-18h]@10
  int v81; // [sp+47Ch] [bp-14h]@14
  int *v82; // [sp+480h] [bp-10h]@1
  int v83; // [sp+48Ch] [bp-4h]@1

  v1 = this;
  v2 = *(_DWORD *)(this + 16660);
  v82 = &v72;
  v83 = 0;
  if ( v2 )
  {
    v3 = this + 59368;
    for ( i = 0; i < 8 * *(_DWORD *)(v1 + 59372) >> 3; ++i )
      ;
    sub_10001DB0(v3, 0, 0);
    sub_10001DB0(v1 + 59368, (8 * *(_DWORD *)(v1 + 59372) >> 3) + 524288, 0);
    memset((void *)((8 * *(_DWORD *)(v1 + 59372) >> 3) - 524288 + *(_DWORD *)(v1 + 59368)), 0, 0x80000u);
  }
  v5 = GetDesktopWindow();
  v6 = GetDC(v5);
  *(_DWORD *)(v1 + 18092) = GetDeviceCaps(v6, 12);
  if ( !*(_DWORD *)(v1 + 18096) || !*(_DWORD *)(v1 + 18100) )
  {
    LOBYTE(v83) = 1;
    v7 = Direct3DCreate8(220);
    *(_DWORD *)(v1 + 18096) = v7;
    if ( !v7 )
      FOutputDevice::Logf(
        GError,
        792,
        "Please install DirectX 8.1b or later (see Release Notes for instructions on how to obtain it)");
    v8 = *(_DWORD *)(v1 + 18096);
    v9 = *(_DWORD *)v8;
    v83 = 0;
    LOBYTE(v83) = 3;
    v10 = (*(int (__stdcall **)(int))(v9 + 16))(v8);
    v11 = v10;
    v80 = (const char *)v10;
    for ( j = 0; j < 8 * *(_DWORD *)(v1 + 18052) >> 3; ++j )
      ;
    sub_100021D0(v1 + 18048, 0, v11);
    FOutputDevice::Logf(GLog, 762, "Direct3D adapters detected:");
    for ( k = 0; ; ++k )
    {
      v81 = k;
      if ( k >= (signed int)v80 )
        break;
      v14 = (*(int (__stdcall **)(_DWORD, int, signed int, char *))(**(_DWORD **)(v1 + 18096) + 20))(
              *(_DWORD *)(v1 + 18096),
              k,
              2,
              &v73);
      if ( v14 < 0 )
      {
        v15 = sub_10001020((int)&v78, v14);
        LOBYTE(v83) = 4;
        v16 = FString::operator_(v15);
        FOutputDevice::Logf(GError, "GetAdapterIdentifier failed(%s).", v16);
        LOBYTE(v83) = 3;
        FString::_FString(&v78);
      }
      v17 = appFromAnsi(&v74, 0);
      v18 = appFromAnsi(&v73, 0);
      FOutputDevice::Logf(GLog, "\t%s/%s", v18, v17);
      sub_100021D0(v1 + 18048, (8 * *(_DWORD *)(v1 + 18052) >> 3) + 1, 0);
      if ( 1068 * (8 * *(_DWORD *)(v1 + 18052) >> 3) + *(_DWORD *)(v1 + 18048) != 1068 )
      {
        memcpy((void *)(1068 * (8 * *(_DWORD *)(v1 + 18052) >> 3) + *(_DWORD *)(v1 + 18048) - 1068), &v73, 0x42Cu);
        k = v81;
      }
    }
    if ( !(*(_DWORD *)(v1 + 18052) & 0x1FFFFFFF) )
      FOutputDevice::Logf(GError, "No Direct3D adapters found.");
  }
  v19 = *(_DWORD *)(v1 + 16684);
  *(_DWORD *)(v1 + 18056) = 0;
  if ( v19 >= 0 && v19 < 8 * *(_DWORD *)(v1 + 18052) >> 3 )
    *(_DWORD *)(v1 + 18056) = v19;
  v20 = *(_DWORD *)(v1 + 18096);
  v21 = *(_DWORD *)v20;
  v22 = *(_DWORD *)(v1 + 18056);
  v83 = 0;
  LOBYTE(v83) = 8;
  if ( (*(int (__stdcall **)(int, int, signed int, int))(v21 + 52))(v20, v22, 1, v1 + 16724) < 0 )
    FOutputDevice::Logf(
      GError,
      792,
      "Please enable Direct3D acceleration. You can do this by starting dxdiag and enabling Direct3D Acceleration in the Display1/2 tab after installing DirectX 8.1b (or later) and the latest drivers for your graphics card.");
  v23 = *(_DWORD *)(v1 + 16872);
  v83 = 0;
  LOBYTE(v83) = 10;
  FOutputDevice::Logf(GLog, 762, "D3D Driver: MaxTextureBlendStages=%i", v23);
  FOutputDevice::Logf(GLog, 762, "D3D Driver: MaxSimultaneousTextures=%i", *(_DWORD *)(v1 + 16876));
  if ( *(_DWORD *)(v1 + 16912) < 8u )
    *(_DWORD *)(v1 + 16604) = 0;
  if ( !(*(_DWORD *)(v1 + 16752) & 0x10000) || !*(_DWORD *)(v1 + 16604) )
  {
    *(_DWORD *)(v1 + 16912) = 16;
    *(_DWORD *)(v1 + 16884) = 8;
  }
  FOutputDevice::Logf(GLog, 762, "D3D Driver: MaxActiveLights=%u", *(_DWORD *)(v1 + 16884));
  FOutputDevice::Logf(GLog, 762, "D3D Driver: MaxPrimitiveCount=%u", *(_DWORD *)(v1 + 16904));
  FOutputDevice::Logf(GLog, 762, "D3D Driver: MaxVertexIndex=%u", *(_DWORD *)(v1 + 16908));
  FOutputDevice::Logf(GLog, 762, "D3D Driver: MaxStreams=%u", *(_DWORD *)(v1 + 16912));
  FOutputDevice::Logf(GLog, 762, "D3D Driver: MaxStreamStride=%u", *(_DWORD *)(v1 + 16916));
  FOutputDevice::Logf(GLog, 762, "D3D Driver: MaxVertexShaderConst=%u", *(_DWORD *)(v1 + 16924));
  FOutputDevice::Logf(
    GLog,
    762,
    "D3D Driver: VertexShaderVersion=%u.%u",
    *(_BYTE *)(v1 + 16921),
    *(_DWORD *)(v1 + 16920) & 0xFF);
  FOutputDevice::Logf(
    GLog,
    762,
    "D3D Driver: PixelShaderVersion=%u.%u",
    *(_BYTE *)(v1 + 16929),
    *(_DWORD *)(v1 + 16928) & 0xFF);
  v24 = !*(_DWORD *)(v1 + 88) || GIsEditor;
  v25 = v24 & *(_DWORD *)(v1 + 84);
  v26 = *(_DWORD *)(v1 + 16752);
  *(_DWORD *)(v1 + 84) = v25;
  if ( BYTE1(v26) & 0x10 )
  {
    v68 = "D3D Driver: AGP support detected";
    v64 = 762;
    v60 = GLog;
  }
  else
  {
    v68 = "D3D Driver: WARNING : no AGP support detected";
    v64 = 762;
    v60 = GLog;
  }
  FOutputDevice::Logf(v60, v64, v68);
  v27 = *(_DWORD *)(v1 + 16692);
  v28 = (*(_DWORD *)(v1 + 16928) + 10 * (*(_DWORD *)(v1 + 16928) >> 8)) & 0xFF;
  *(_DWORD *)(v1 + 18040) = v28;
  if ( v28 > v27 )
    v28 = v27;
  *(_DWORD *)(v1 + 18040) = v28;
  *(_DWORD *)(v1 + 76) = *(_DWORD *)(v1 + 16760) & 0x4000;
  v29 = *(_DWORD *)(v1 + 16784);
  if ( BYTE1(v29) & 8 )
    *(_DWORD *)(v1 + 72) = *(_DWORD *)(v1 + 16612);
  else
    *(_DWORD *)(v1 + 72) = 0;
  if ( v29 & 0x10000 )
    *(_DWORD *)(v1 + 16616) = 1;
  else
    *(_DWORD *)(v1 + 16616) = 0;
  v30 = (*(int (__stdcall **)(_DWORD, _DWORD, signed int, signed int, _DWORD, signed int, signed int))(**(_DWORD **)(v1 + 18096) + 40))(
          *(_DWORD *)(v1 + 18096),
          *(_DWORD *)(v1 + 18056),
          1,
          22,
          0,
          3,
          827611204) < 0;
  v31 = *(_DWORD *)(v1 + 18096);
  *(_DWORD *)(v1 + 16620) = !v30;
  v30 = (*(int (__stdcall **)(int, _DWORD, signed int, signed int, _DWORD, signed int, signed int))(*(_DWORD *)v31 + 40))(
          v31,
          *(_DWORD *)(v1 + 18056),
          1,
          22,
          0,
          3,
          861165636) < 0;
  v32 = *(_DWORD *)(v1 + 18096);
  *(_DWORD *)(v1 + 16624) = !v30;
  v30 = (*(int (__stdcall **)(int, _DWORD, signed int, signed int, _DWORD, signed int, signed int))(*(_DWORD *)v32 + 40))(
          v32,
          *(_DWORD *)(v1 + 18056),
          1,
          22,
          0,
          3,
          894720068) < 0;
  v33 = *(_DWORD *)(v1 + 16668);
  *(_DWORD *)(v1 + 16628) = !v30;
  if ( v33 )
  {
    *(_DWORD *)(v1 + 16628) = 0;
    *(_DWORD *)(v1 + 16624) = 0;
    *(_DWORD *)(v1 + 16620) = 0;
  }
  if ( !*(_DWORD *)(v1 + 16620) )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: WARNING: no support for DXT1");
  if ( !*(_DWORD *)(v1 + 16624) )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: WARNING: no support for DXT3");
  if ( !*(_DWORD *)(v1 + 16628) )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: WARNING: no support for DXT5");
  v34 = *(_DWORD *)(v1 + 16620);
  if ( !v34 || !*(_DWORD *)(v1 + 16624) || !*(_DWORD *)(v1 + 16628) )
    *(_DWORD *)(v1 + 80) = 0;
  if ( v34 )
    *(_DWORD *)(v1 + 92) = 0;
  v35 = *(_DWORD *)(v1 + 16760);
  *(_DWORD *)(v1 + 16652) = 0;
  *(_DWORD *)(v1 + 16656) = 0;
  if ( !(BYTE1(v35) & 1) )
  {
    *(_DWORD *)(v1 + 16652) = 1;
    if ( v35 & 0x10000 )
      *(_DWORD *)(v1 + 16656) = 1;
  }
  if ( *(_DWORD *)(v1 + 16652) )
  {
    if ( !*(_DWORD *)(v1 + 16656) )
    {
      v69 = "D3D Driver: Using vertex fog";
      v65 = 762;
      v61 = GLog;
      goto LABEL_72;
    }
    v69 = "D3D Driver: Using range fog";
  }
  else
  {
    if ( v35 & 0x100000 )
    {
      v69 = "D3D Driver: Using w- pixel fog";
      v65 = 762;
      v61 = GLog;
      goto LABEL_72;
    }
    v69 = "D3D Driver: Using z- pixel fog";
  }
  v65 = 762;
  v61 = GLog;
LABEL_72:
  FOutputDevice::Logf(v61, v65, v69);
  v36 = *(_DWORD *)(v1 + 16788);
  *(_DWORD *)(v1 + 16688) = 65535;
  if ( v36 & 0x30000 )
  {
    *(_DWORD *)(v1 + 16596) = 1;
    if ( v36 & 0x20000 )
      FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports trilinear");
    else
      *(_DWORD *)(v1 + 16592) = 0;
  }
  else
  {
    *(_DWORD *)(v1 + 16596) = 0;
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Mipmapping not available with this driver");
  }
  if ( *(_DWORD *)(v1 + 92) )
  {
    *(_DWORD *)(v1 + 16816) = 256;
    *(_DWORD *)(v1 + 16812) = 256;
  }
  v37 = *(_DWORD *)(v1 + 16868);
  if ( BYTE1(v37) & 8 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports BLENDDIFFUSEALPHA");
  else
    *(_DWORD *)(v1 + 64) = 0;
  v38 = *(_DWORD *)(v1 + 16760);
  if ( BYTE1(v38) & 0x20 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports LOD biasing");
  v39 = *(_DWORD *)(v1 + 16760);
  if ( BYTE1(v39) & 0x40 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports Z biasing");
  v40 = *(_DWORD *)(v1 + 16868);
  if ( BYTE1(v40) & 1 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports D3DTOP_ADDSIGNED2X");
  if ( *(_DWORD *)(v1 + 16868) & 0x200000 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports D3DTOP_BUMPENVMAP");
  if ( *(_DWORD *)(v1 + 16868) & 0x400000 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports D3DTOP_BUMPENVMAPLUMINANCE");
  if ( *(_DWORD *)(v1 + 16868) & 0x800000 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports D3DTOP_DOTPRODUCT3");
  if ( *(_DWORD *)(v1 + 16868) & 0x20000 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports D3DTOP_MODULATEALPHA_ADDCOLOR");
  if ( *(_DWORD *)(v1 + 16868) & 0x40000 )
    FOutputDevice::Logf(GLog, 762, "D3D Driver: Supports D3DTOP_MODULATECOLOR_ADDALPHA");
  memcpy((void *)(v1 + 16936), (const void *)(1068 * *(_DWORD *)(v1 + 18056) + *(_DWORD *)(v1 + 18048)), 0x42Cu);
  LOBYTE(v83) = 11;
  FOutputDevice::Logf(GLog, 762, "Unreal Engine Direct3D support - internal version: SB3");
  v41 = appFromAnsi((const char *)(v1 + 16936), 0);
  FOutputDevice::Logf(GLog, 762, "D3D Device: szDriver=%s", v41);
  v42 = appFromAnsi((const char *)(v1 + 17448), 0);
  FOutputDevice::Logf(GLog, 762, "D3D Device: szDescription=%s", v42);
  v43 = *(_WORD *)(v1 + 17966);
  *(_WORD *)(v1 + 18004) = v43;
  FOutputDevice::Logf(GLog, 762, "D3D Device: wProduct=%i", v43);
  v44 = *(_WORD *)(v1 + 17964);
  *(_WORD *)(v1 + 18006) = v44;
  FOutputDevice::Logf(GLog, 762, "D3D Device: wVersion=%i", v44);
  v45 = *(_WORD *)(v1 + 17962);
  *(_WORD *)(v1 + 18008) = v45;
  FOutputDevice::Logf(GLog, 762, "D3D Device: wSubVersion=%i", v45);
  v46 = *(_WORD *)(v1 + 17960);
  *(_WORD *)(v1 + 18010) = v46;
  FOutputDevice::Logf(GLog, 762, "D3D Device: wBuild=%i", v46);
  FOutputDevice::Logf(GLog, 762, "D3D Device: dwVendorId=%i", *(_DWORD *)(v1 + 17968));
  FOutputDevice::Logf(GLog, 762, "D3D Device: dwDeviceId=%i", *(_DWORD *)(v1 + 17972));
  FOutputDevice::Logf(GLog, 762, "D3D Device: dwSubSysId=%i", *(_DWORD *)(v1 + 17976));
  FOutputDevice::Logf(GLog, 762, "D3D Device: dwRevision=%i", *(_DWORD *)(v1 + 17980));
  v79 = *(_WORD *)(v1 + 17960);
  v83 = 10;
  v80 = appFromAnsi((const char *)(v1 + 17448), 0);
  v47 = FString::FString("%s (%i)", 1);
  LOBYTE(v83) = 13;
  v48 = sub_10016410((int)&v77, v47, (int *)&v80);
  LOBYTE(v83) = 14;
  v49 = sub_10016490((int)&v75, v48, &v79);
  LOBYTE(v83) = 15;
  TArray<char>::operator_(GMachineVideo, v49);
  LOBYTE(v83) = 14;
  FStringTemp::_FStringTemp(&v75);
  LOBYTE(v83) = 13;
  FStringTemp::_FStringTemp(&v77);
  LOBYTE(v83) = 10;
  FString::_FString(&v76);
  *(_DWORD *)(v1 + 18028) = 3;
  *(_DWORD *)(v1 + 16644) = 0;
  *(_DWORD *)(v1 + 96) = 1;
  *(_DWORD *)(v1 + 100) = 0;
  *(_DWORD *)(v1 + 16648) = 0;
  *(_DWORD *)(v1 + 16680) = 0;
  v50 = appCmdLine();
  if ( ParseParam(v50, "nodeviceid") )
  {
    v70 = "D3D Detected: -nodeviceid specified, 3D device identification skipped";
LABEL_173:
    v66 = 762;
    v62 = GLog;
    goto LABEL_174;
  }
  v51 = *(_DWORD *)(v1 + 17968);
  if ( v51 == 4098 )
  {
    FOutputDevice::Logf(GLog, 762, "D3D Detected: ATI video card");
    if ( *(_DWORD *)(v1 + 16876) == 3 )
      *(_DWORD *)(v1 + 16876) = 2;
    goto LABEL_175;
  }
  if ( v51 == 32902 )
  {
    v70 = "D3D Detected: Intel video card";
    v66 = 762;
    v62 = GLog;
    goto LABEL_174;
  }
  if ( *(_DWORD *)(v1 + 17972) == 16 )
  {
    FOutputDevice::Logf(GLog, 762, "D3D Detected: Kyro video card");
    *(_DWORD *)(v1 + 16644) = 1;
    goto LABEL_175;
  }
  if ( v51 == 4318 )
  {
    if ( *(_DWORD *)(v1 + 16876) == 2 )
    {
      *(_DWORD *)(v1 + 16872) = 3;
      *(_DWORD *)(v1 + 16648) = 1;
    }
    *(_DWORD *)(v1 + 18028) = 1;
    FOutputDevice::Logf(GLog, 762, "D3D Detected: NVidia video card");
    if ( *(_DWORD *)(v1 + 17972) == 336 )
    {
      FOutputDevice::Logf(GLog, 762, "D3D Detected: GeForce2 GTS");
      v52 = 0;
      *(_DWORD *)(v1 + 16616) = 0;
    }
    else
    {
      v52 = 0;
    }
    if ( *(_DWORD *)(v1 + 17972) == 337 )
    {
      FOutputDevice::Logf(GLog, 762, "D3D Detected: GeForce2 GTS");
      *(_DWORD *)(v1 + 16616) = v52;
    }
    if ( *(_DWORD *)(v1 + 17972) == 338 )
    {
      FOutputDevice::Logf(GLog, 762, "D3D Detected: GeForce2 Ultra");
      *(_DWORD *)(v1 + 16616) = v52;
    }
    if ( *(_DWORD *)(v1 + 17972) == 339 )
    {
      FOutputDevice::Logf(GLog, 762, "D3D Detected: Quadro2 Pro");
      *(_DWORD *)(v1 + 16616) = v52;
    }
    *(_DWORD *)(v1 + 16680) = *(_DWORD *)(v1 + 16616) == v52;
  }
  else
  {
    if ( v51 != 4139 )
    {
      if ( v51 == 4131 )
      {
        v70 = "D3D Detected: Trident video card";
        goto LABEL_173;
      }
      if ( v51 != 4153 )
      {
        if ( v51 != 21299 )
        {
          v70 = "D3D Detected: Generic 3D accelerator";
          goto LABEL_173;
        }
        FOutputDevice::Logf(GLog, 762, "D3D Detected: S3 video card");
        v54 = *(_DWORD *)(v1 + 17972);
        if ( v54 > 0x8A10 )
        {
          if ( v54 > 0x8C12 )
          {
            if ( v54 > 0x8D04 )
            {
              if ( v54 != 37122 )
                goto LABEL_175;
            }
            else
            {
              if ( v54 != 36100 && v54 != 35874 && (v54 <= 0x8C29 || v54 > 0x8C2F) )
                goto LABEL_175;
            }
          }
          else
          {
            if ( v54 != 35858 )
            {
              if ( v54 > 0x8A26 )
              {
                if ( v54 < 0x8C00 || v54 > 0x8C03 && v54 != 35856 )
                  goto LABEL_175;
              }
              else
              {
                if ( v54 < 0x8A25 && v54 != 35347 && (v54 <= 0x8A1F || v54 > 0x8A23) )
                  goto LABEL_175;
              }
            }
          }
        }
        else
        {
          if ( v54 != 35344 )
          {
            if ( v54 > 0x88D1 )
            {
              if ( v54 > 0x8904 )
              {
                if ( v54 != 35329 )
                  goto LABEL_175;
              }
              else
              {
                if ( v54 != 35076 )
                {
                  v55 = v54 - 35056;
                  if ( v55 )
                  {
                    if ( v55 != 17 )
                      goto LABEL_175;
                  }
                }
              }
            }
            else
            {
              if ( v54 < 0x88D0 )
              {
                if ( v54 > 0x883D )
                {
                  if ( v54 != 34944 && (v54 <= 0x88BF || v54 > 0x88C1) )
                    goto LABEL_175;
                }
                else
                {
                  if ( v54 != 34877 && v54 != 22065 && (v54 <= 0x8810 || v54 > 0x8812) )
                    goto LABEL_175;
                }
              }
            }
          }
        }
        *(_DWORD *)(v1 + 100) = 1;
        goto LABEL_175;
      }
      v70 = "D3D Detected: SiS video card";
      v66 = 762;
      v62 = GLog;
LABEL_174:
      FOutputDevice::Logf(v62, v66, v70);
      goto LABEL_175;
    }
    FOutputDevice::Logf(GLog, 762, "D3D Detected: Matrox video card");
    v53 = *(_DWORD *)(v1 + 17972);
    if ( v53 == 1313 )
      *(_DWORD *)(v1 + 100) = 1;
    if ( v53 == 1317 || v53 == 9511 )
    {
      *(_DWORD *)(v1 + 16876) = 2;
      *(_DWORD *)(v1 + 100) = 1;
    }
  }
LABEL_175:
  if ( *(_DWORD *)(v1 + 72) )
  {
    if ( *(_DWORD *)(v1 + 16616) )
    {
      v71 = "D3D Device: using cubemaps [with mipmaps]";
      v67 = 762;
      v63 = GLog;
    }
    else
    {
      v71 = "D3D Device: using cubemaps [without mipmaps]";
      v67 = 762;
      v63 = GLog;
    }
  }
  else
  {
    v71 = "D3D Device: not using cubemaps";
    v67 = 762;
    v63 = GLog;
  }
  FOutputDevice::Logf(v63, v67, v71);
  v56 = *(_DWORD *)(v1 + 16784);
  if ( BYTE1(v56) & 1
    && ((v57 = *(_DWORD *)(v1 + 17968), v57 != 4098) || *(_DWORD *)(v1 + 16876) < 8u)
    && (v57 != 4318 || *(_DWORD *)(v1 + 16876) <= 4u) )
  {
    v58 = 0;
    *(_DWORD *)(v1 + 96) = 0;
  }
  else
  {
    v58 = 0;
  }
  v81 = v58;
  if ( (*(int (__stdcall **)(_DWORD, _DWORD, int *, int))(*(_DWORD *)GConfig + 4))(
         "WinDrv.WindowsClient",
         "CanDoDistortionEffects",
         &v81,
         v58) != v58 )
  {
    if ( v81 == 1 )
    {
      *(_DWORD *)(v1 + 96) = 1;
    }
    else
    {
      if ( v81 == -1 )
        *(_DWORD *)(v1 + 96) = v58;
    }
  }
  return 1;
}
// 1003049A: using guessed type int __stdcall Direct3DCreate8(_DWORD);
// 1006F010: using guessed type int __stdcall FString__FString(_DWORD, _DWORD);
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F0C8: using guessed type int GIsEditor;
// 1006F0D8: using guessed type int __thiscall TArray_char___operator_(_DWORD, _DWORD);
// 1006F1B8: using guessed type int FOutputDevice__Logf(_DWORD, _DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F1C4: using guessed type int __fastcall ParseParam(const char *, const char *);
// 1006F1C8: using guessed type const char *__fastcall appCmdLine();
// 1006F220: using guessed type void *GConfig;
// 1006F224: using guessed type void *GMachineVideo;
// 1006F228: using guessed type const char *__fastcall appFromAnsi(const char *, char *);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (10018BFD) --------------------------------------------------------
void __usercall sub_10018BFD(int a1<ebp>)
{
  *(_DWORD *)(a1 - 44) = *(_DWORD *)(a1 - 28);
  JUMPOUT(loc_10018C89);
}
// 10018C89: using guessed type int loc_10018C89();

//----- (10018C0E) --------------------------------------------------------
void __cdecl sub_10018C0E()
{
  JUMPOUT(loc_10018C76);
}
// 10018C76: using guessed type int loc_10018C76();

//----- (10018C15) --------------------------------------------------------
void __usercall sub_10018C15(int a1<ebp>)
{
  *(_DWORD *)(a1 - 60) = *(_DWORD *)(a1 - 36);
  JUMPOUT(loc_10018C89);
}
// 10018C89: using guessed type int loc_10018C89();

//----- (10018C26) --------------------------------------------------------
void __cdecl sub_10018C26()
{
  JUMPOUT(loc_10018C76);
}
// 10018C76: using guessed type int loc_10018C76();

//----- (10018C2D) --------------------------------------------------------
void __usercall sub_10018C2D(int a1<ebp>)
{
  *(_DWORD *)(a1 - 56) = *(_DWORD *)(a1 - 36);
  JUMPOUT(loc_10018C89);
}
// 10018C89: using guessed type int loc_10018C89();

//----- (10018C3E) --------------------------------------------------------
void __cdecl sub_10018C3E()
{
  JUMPOUT(loc_10018C76);
}
// 10018C76: using guessed type int loc_10018C76();

//----- (10018C45) --------------------------------------------------------
void __usercall sub_10018C45(int a1<ebp>)
{
  *(_DWORD *)(a1 - 40) = *(_DWORD *)(a1 - 36);
  JUMPOUT(loc_10018C89);
}
// 10018C89: using guessed type int loc_10018C89();

//----- (10018C56) --------------------------------------------------------
void __cdecl sub_10018C56()
{
  JUMPOUT(*(int *)loc_10018C77);
}
// 10018C77: using guessed type int loc_10018C77();

//----- (10018C90) --------------------------------------------------------
signed int __thiscall UD3DRenderDevice::SetRes(signed int this, signed int a2, signed int a3, signed int a4, int a5, signed int a6, int a7)
{
  signed int v7; // esi@1
  int v8; // ebx@1
  signed int v9; // eax@4
  int v10; // eax@6
  int v11; // eax@14
  int v12; // eax@16
  int v13; // ST18_4@16
  int v14; // ecx@16
  int v15; // eax@16
  int i; // edx@16
  unsigned int v17; // edi@19
  int v18; // ecx@21
  int v19; // eax@21
  unsigned int v21; // ecx@32
  int v22; // eax@32
  bool v23; // zf@33
  int v24; // ebx@35
  int v25; // ebx@37
  int v26; // ecx@37
  int v27; // eax@37
  int v28; // eax@39
  int v29; // edi@41
  int v30; // eax@41
  int v31; // edi@43
  int v32; // eax@52
  int v33; // ebx@52
  int v34; // eax@52
  int v35; // eax@52
  signed int v36; // ecx@52
  int v37; // edi@52
  int v38; // eax@57
  signed int v39; // eax@59
  int v40; // ecx@60
  int v41; // ST14_4@60
  int v42; // ST10_4@60
  int v43; // eax@60
  int v44; // eax@65
  int v45; // ecx@65
  int v46; // ecx@65
  int v47; // eax@65
  int v48; // edi@65
  int v49; // eax@65
  signed int v50; // ecx@69
  signed int v51; // eax@69
  int v52; // eax@71
  int v53; // ebx@75
  signed int v54; // eax@79
  int v55; // edi@79
  int v56; // eax@83
  int v57; // ebx@83
  int v58; // edi@84
  int v59; // eax@89
  signed int v60; // eax@95
  signed int v61; // ecx@99
  signed int v62; // eax@100
  int v63; // eax@103
  signed int v64; // eax@106
  int v65; // edi@108
  int j; // eax@108
  int v67; // edx@110
  int v68; // eax@110
  int v69; // eax@110
  int v70; // eax@115
  int v71; // eax@119
  int v72; // edi@125
  int v73; // edi@126
  int v74; // eax@128
  int v75; // ST10_4@131
  int v76; // eax@132
  int v77; // ecx@132
  int v78; // ST14_4@132
  int v79; // eax@132
  int v80; // edx@132
  int v81; // eax@132
  int v82; // ecx@132
  int v83; // eax@132
  int v84; // edx@132
  int v85; // eax@132
  int v86; // ecx@132
  int v87; // eax@132
  int v88; // edx@132
  int v89; // eax@132
  int v90; // eax@135
  unsigned int v91; // eax@138
  __int128 v92; // xmm0@142
  signed int v93; // edi@142
  int v94; // ebx@142
  int v95; // ecx@144
  int v96; // eax@147
  HWND v97; // eax@148
  int v98; // ecx@157
  int v99; // [sp-Ch] [bp-D8h]@30
  signed int v100; // [sp-8h] [bp-D4h]@30
  int v101; // [sp-4h] [bp-D0h]@30
  int k; // [sp-4h] [bp-D0h]@150
  int l; // [sp-4h] [bp-D0h]@153
  bool v104; // [sp+0h] [bp-CCh]@1
  int v105; // [sp+Ch] [bp-C0h]@135
  int v106; // [sp+10h] [bp-BCh]@135
  int v107; // [sp+14h] [bp-B8h]@135
  int v108; // [sp+18h] [bp-B4h]@135
  int v109; // [sp+1Ch] [bp-B0h]@135
  int v110; // [sp+20h] [bp-ACh]@135
  int v111; // [sp+24h] [bp-A8h]@135
  int v112; // [sp+28h] [bp-A4h]@135
  int v113; // [sp+2Ch] [bp-A0h]@135
  int v114; // [sp+30h] [bp-9Ch]@135
  int v115; // [sp+34h] [bp-98h]@135
  int v116; // [sp+38h] [bp-94h]@135
  int v117; // [sp+4Ch] [bp-80h]@135
  int v118; // [sp+54h] [bp-78h]@21
  int v119; // [sp+58h] [bp-74h]@22
  int v120; // [sp+5Ch] [bp-70h]@22
  int v121; // [sp+60h] [bp-6Ch]@22
  int v122; // [sp+68h] [bp-64h]@52
  int v123; // [sp+6Ch] [bp-60h]@52
  int v124; // [sp+70h] [bp-5Ch]@52
  int v125; // [sp+74h] [bp-58h]@52
  unsigned int v126; // [sp+A0h] [bp-2Ch]@33
  int v127; // [sp+A4h] [bp-28h]@39
  int v128; // [sp+A8h] [bp-24h]@150
  int v129; // [sp+ACh] [bp-20h]@151
  int v130; // [sp+B0h] [bp-1Ch]@24
  int v131; // [sp+B4h] [bp-18h]@26
  int v132; // [sp+B8h] [bp-14h]@32
  bool *v133; // [sp+BCh] [bp-10h]@1
  int v134; // [sp+C8h] [bp-4h]@1
  signed int v135; // [sp+E4h] [bp+18h]@11
  int v136; // [sp+E4h] [bp+18h]@97
  signed int v137; // [sp+E4h] [bp+18h]@140

  v7 = this;
  v8 = 0;
  v133 = &v104;
  v134 = 0;
  if ( !GIsEditor && *(_DWORD *)(this + 18068) )
    FOutputDevice::Logf(GError, "Can't change resolution while render device is locked!");
  FOutputDevice::Logf(GLog, "Enter SetRes: %dx%d Fullscreen %d", a3, a4, a5);
  (*(void (__thiscall **)(signed int, signed int))(*(_DWORD *)v7 + 148))(v7, a2);
  v9 = 2;
  if ( !*(_DWORD *)(v7 + 100) )
    v9 = a6;
  v10 = v9 - 2;
  if ( v10 )
  {
    if ( v10 == 2 )
      *(_DWORD *)(v7 + 88) = 0;
  }
  else
  {
    *(_DWORD *)(v7 + 88) = 1;
  }
  if ( !*(_DWORD *)(v7 + 88) || (v135 = 16, GIsEditor) )
    v135 = 32;
  if ( !a5 )
  {
    v11 = *(_DWORD *)(v7 + 18092);
    if ( v135 != v11 )
    {
      v135 = *(_DWORD *)(v7 + 18092);
      a7 = 0;
      *(_DWORD *)(v7 + 88) = v11 == 16;
    }
  }
  v12 = *(_DWORD *)(v7 + 18096);
  v13 = *(_DWORD *)(v7 + 18056);
  *(_DWORD *)(v7 + 18060) = 0;
  v14 = *(_DWORD *)v12;
  LOBYTE(v134) = 1;
  v15 = (*(int (__stdcall **)(int, int))(v14 + 24))(v12, v13);
  for ( i = 0; i < 8 * *(_DWORD *)(v7 + 18016) >> 3; ++i )
    ;
  sub_10002060(v7 + 18012, 0, v15);
  v17 = 0;
  while ( v17 < (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v7 + 18096) + 24))(
                  *(_DWORD *)(v7 + 18096),
                  *(_DWORD *)(v7 + 18056)) )
  {
    (*(void (__stdcall **)(_DWORD, _DWORD, unsigned int, int *))(**(_DWORD **)(v7 + 18096) + 28))(
      *(_DWORD *)(v7 + 18096),
      *(_DWORD *)(v7 + 18056),
      v17,
      &v118);
    sub_10002060(v7 + 18012, (8 * *(_DWORD *)(v7 + 18016) >> 3) + 1, 0);
    v18 = 16 * (8 * *(_DWORD *)(v7 + 18016) >> 3);
    v19 = v18 + *(_DWORD *)(v7 + 18012) - 16;
    if ( v18 + *(_DWORD *)(v7 + 18012) != 16 )
    {
      *(_DWORD *)v19 = v118;
      *(_DWORD *)(v19 + 4) = v119;
      *(_DWORD *)(v19 + 8) = v120;
      *(_DWORD *)(v19 + 12) = v121;
    }
    ++v17;
    v8 = 0;
  }
  v134 = v8;
  v130 = a3;
  if ( a3 < 1 )
    v130 = 1;
  v131 = a4;
  if ( a4 < 1 )
    v131 = 1;
  if ( a5 == v8 )
  {
    v40 = **(_DWORD **)(v7 + 18096);
    v41 = *(_DWORD *)(v7 + 18056);
    v42 = *(_DWORD *)(v7 + 18096);
    LOBYTE(v134) = 5;
    v43 = (*(int (__stdcall **)(int, int, int *))(v40 + 32))(v42, v41, &v122);
    if ( v43 < v8 )
    {
      v101 = 1;
      v100 = v43;
      v99 = (int)"GetAdapterDisplayMode failed.";
      return UD3DRenderDevice::UnSetRes(v99, v100, v101);
    }
    v132 = v125;
    if ( GIsEditor != v8 )
    {
      v130 = v122;
      v131 = v123;
    }
    *(_DWORD *)(v7 + 18064) = v8;
  }
  else
  {
    if ( !(*(_DWORD *)(v7 + 18016) & 0x1FFFFFFF) )
    {
      v101 = 1;
      v100 = v8;
      v99 = (int)"No fullscreen display modes found";
      return UD3DRenderDevice::UnSetRes(v99, v100, v101);
    }
    v21 = *(_DWORD *)(v7 + 16712);
    v22 = 0;
    LOBYTE(v134) = 3;
    v132 = 0;
    v130 = 2147483647;
    if ( v21 > 0x3C || (v23 = *(_DWORD *)(v7 + 16676) == v8, v126 = v8, !v23) )
      v126 = v21;
    v24 = 0;
    v131 = 0;
    while ( v24 < 8 * *(_DWORD *)(v7 + 18016) >> 3 )
    {
      v25 = 16 * v24;
      v26 = *(_DWORD *)(v7 + 18012) + v25;
      v27 = *(_DWORD *)v26 - a3;
      if ( v27 < 0 )
        v27 = -v27;
      v127 = v27;
      v28 = *(_DWORD *)(v26 + 4) - a4;
      if ( v28 < 0 )
        v28 = -v28;
      v29 = v28;
      v30 = sub_100014A0(*(_DWORD *)(v26 + 12)) - v135;
      if ( v30 < 0 )
        v30 = -v30;
      v31 = v127 + v30 + v29;
      if ( (v31 < v130 || v31 == v130 && (!v126 || *(_DWORD *)(*(_DWORD *)(v7 + 18012) + v25 + 8) == v126))
        && sub_100014A0(*(_DWORD *)(*(_DWORD *)(v7 + 18012) + v25 + 12)) == v135 )
      {
        v132 = v131;
        v130 = v31;
      }
      ++v131;
      v22 = v132;
      v24 = v131;
    }
    if ( v130 == 2147483647 )
    {
      v101 = 1;
      v100 = 0;
      v99 = (int)"No acceptable display modes found";
      return UD3DRenderDevice::UnSetRes(v99, v100, v101);
    }
    v32 = 16 * v22;
    v33 = v32;
    v34 = *(_DWORD *)(v7 + 18012) + v32;
    v122 = *(_DWORD *)v34;
    v123 = *(_DWORD *)(v34 + 4);
    v124 = *(_DWORD *)(v34 + 8);
    v125 = *(_DWORD *)(v34 + 12);
    v135 = sub_100014A0(*(_DWORD *)(v34 + 12));
    v35 = *(_DWORD *)(v7 + 18012);
    v36 = *(_DWORD *)(v35 + v33 + 4);
    v37 = v35 + v33;
    a3 = *(_DWORD *)(v35 + v33);
    a4 = *(_DWORD *)(v35 + v33 + 4);
    v130 = a3;
    if ( a3 < 1 )
      v130 = 1;
    v131 = v36;
    if ( v36 < 1 )
      v131 = 1;
    v23 = v126 == 0;
    *(_DWORD *)(v7 + 18064) = 1;
    v132 = *(_DWORD *)(v37 + 12);
    if ( v23 )
      v38 = 0;
    else
      v38 = *(_DWORD *)(v37 + 8);
    *(_DWORD *)(v7 + 18084) = v38;
    v39 = sub_100014A0(*(_DWORD *)(v37 + 12));
    FOutputDevice::Logf(
      GLog,
      762,
      "Best-match display mode: %ix%ix%i@%i",
      *(_DWORD *)v37,
      *(_DWORD *)(v37 + 4),
      v39,
      *(_DWORD *)(*(_DWORD *)(v7 + 18012) + v33 + 8));
  }
  memset((void *)(v7 + 18104), 0, 0x34u);
  *(_DWORD *)(v7 + 18144) = 1;
  v134 = 0;
  LOBYTE(v134) = 7;
  *(_DWORD *)(v7 + 18132) = a5 == 0;
  v44 = (*(int (**)(void))(*(_DWORD *)a2 + 172))();
  v45 = v131;
  *(_DWORD *)(v7 + 18128) = v44;
  *(_DWORD *)(v7 + 18104) = v130;
  *(_DWORD *)(v7 + 18108) = v45;
  v46 = *(_DWORD *)(v7 + 18096);
  *(_DWORD *)(v7 + 18124) = 1;
  *(_DWORD *)(v7 + 18136) = 1;
  LOBYTE(v134) = 8;
  v47 = (v135 != 32) + 22;
  *(_DWORD *)(v7 + 18020) = v47;
  v48 = v132;
  v49 = (*(int (__stdcall **)(int, _DWORD, signed int, int, signed int, signed int, int))(*(_DWORD *)v46 + 40))(
          v46,
          *(_DWORD *)(v7 + 18056),
          1,
          v132,
          1,
          1,
          v47);
  v132 = v49;
  if ( v49 < 0 )
  {
    v101 = 1;
    v100 = v49;
    v99 = (int)"CheckDeviceFormat failed";
    return UD3DRenderDevice::UnSetRes(v99, v100, v101);
  }
  if ( a5 )
    v48 = *(_DWORD *)(v7 + 18020);
  v50 = *(_DWORD *)(v7 + 18020);
  *(_DWORD *)(v7 + 18072) = v135 / 8;
  *(_DWORD *)(v7 + 18112) = v50;
  v51 = sub_100014A0(v50);
  FOutputDevice::Logf(GLog, "Using back-buffer format %u(%u-bit)", *(_DWORD *)(v7 + 18020), v51);
  if ( !*(_DWORD *)(v7 + 88) || GIsEditor )
  {
    if ( *(_DWORD *)(v7 + 84) || (v52 = 77, GIsEditor) )
      v52 = 75;
  }
  else
  {
    v52 = 80;
  }
  v53 = 0;
LABEL_76:
  for ( *(_DWORD *)(v7 + 18024) = v52;
        (*(int (__stdcall **)(_DWORD, _DWORD, signed int, int, signed int, signed int, _DWORD))(**(_DWORD **)(v7 + 18096)
                                                                                              + 40))(
          *(_DWORD *)(v7 + 18096),
          *(_DWORD *)(v7 + 18056),
          1,
          v48,
          2,
          1,
          *(_DWORD *)(v7 + 18024)) < 0
     || (*(int (__stdcall **)(_DWORD, _DWORD, signed int, int, _DWORD, _DWORD))(**(_DWORD **)(v7 + 18096) + 48))(
          *(_DWORD *)(v7 + 18096),
          *(_DWORD *)(v7 + 18056),
          1,
          v48,
          *(_DWORD *)(v7 + 18020),
          *(_DWORD *)(v7 + 18024)) < 0;
        *(_DWORD *)(v7 + 18024) = 79 )
  {
    ++v53;
    if ( v53 == 3 )
    {
      v101 = 1;
      v100 = 0;
      v99 = (int)"CheckDepthStencilMatch failed.";
      return UD3DRenderDevice::UnSetRes(v99, v100, v101);
    }
    if ( !*(_DWORD *)(v7 + 84) )
    {
      v52 = 4 * (v53 != 1) + 71;
      goto LABEL_76;
    }
  }
  v54 = sub_100014A0(*(_DWORD *)(v7 + 18024));
  FOutputDevice::Logf(GLog, "Using depth-buffer format %u(%u-bit)", *(_DWORD *)(v7 + 18024), v54);
  *(_DWORD *)(v7 + 18140) = *(_DWORD *)(v7 + 18024);
  v55 = *(_DWORD *)(UViewport::GetOuterUClient(a2) + 228);
  if ( !GIsEditor && v55 > 0 && (*(int (__thiscall **)(signed int, int))(*(_DWORD *)v7 + 228))(v7, v55) )
    *(_DWORD *)(v7 + 18120) = v55;
  v56 = *(_DWORD *)(v7 + 18100);
  v57 = v7 + 18100;
  v134 = 0;
  if ( v56 )
  {
    v58 = *(_DWORD *)(v7 + 64608);
    LOBYTE(v134) = 11;
    if ( v58 )
    {
      sub_1002FEB0(v58);
      *(_DWORD *)v58 = 0;
      *(_DWORD *)(v58 + 4) = 0;
      *(_DWORD *)(v58 + 8) = 0;
      *(_DWORD *)(v58 + 16) = 3;
      (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v58);
      *(_DWORD *)(v7 + 64608) = 0;
    }
    if ( (*(int (__stdcall **)(_DWORD, int))(**(_DWORD **)v57 + 56))(*(_DWORD *)v57, v7 + 18104) < 0 )
    {
      (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v57 + 8))(*(_DWORD *)v57);
      *(_DWORD *)v57 = 0;
    }
  }
  v23 = *(_DWORD *)v57 == 0;
  v134 = 0;
  if ( v23 )
  {
    LOBYTE(v134) = 13;
    FOutputDevice::Logf(GLog, "Creating device");
    v59 = *(_DWORD *)(v7 + 16752);
    if ( !(v59 & 0x10000) )
      *(_DWORD *)(v7 + 16604) = 0;
    if ( (*(_DWORD *)(v7 + 16920) & 0xFF00u) < 0x100 || !*(_DWORD *)(v7 + 16604) )
      *(_DWORD *)(v7 + 16608) = 0;
    if ( *(_DWORD *)(v7 + 16608) )
      v60 = 64;
    else
      v60 = *(_DWORD *)(v7 + 16604) != 0 ? 128 : 32;
    v136 = v60 | 2;
    if ( !GIsEditor )
      v136 = v60 | 6;
    v61 = a2;
    v127 = (*(_DWORD *)(a2 + 204) != 0) + 1;
    if ( !a5 || (v62 = 2, !*(_DWORD *)(v7 + 16632)) )
      v62 = 1;
    *(_DWORD *)(v7 + 18116) = v62;
    if ( a5 )
      v63 = *(_DWORD *)(v7 + 18084);
    else
      v63 = 0;
    *(_DWORD *)(v7 + 18148) = v63;
    if ( a5 )
      v64 = *(_DWORD *)(v7 + 16600) != 0 ? 1 : -2147483648;
    else
      v64 = 0;
    v65 = v132;
    *(_DWORD *)(v7 + 18152) = v64;
    for ( j = 0; (unsigned int)j <= *(_DWORD *)(v7 + 16716); j = v132 )
    {
      v67 = *(_DWORD *)v61;
      v132 = j + 1;
      v68 = (*(int (**)(void))(v67 + 172))();
      v69 = (*(int (__stdcall **)(_DWORD, _DWORD, int, int, int, int, int))(**(_DWORD **)(v7 + 18096) + 60))(
              *(_DWORD *)(v7 + 18096),
              *(_DWORD *)(v7 + 18056),
              v127,
              v68,
              v136,
              v7 + 18104,
              v7 + 18100);
      v65 = v69;
      if ( v69 != -2005530520 )
      {
        if ( v69 != -2005530518 )
          break;
      }
      appSleep(0.5);
      v61 = a2;
    }
    if ( v65 )
    {
      v101 = 1;
      v100 = v65;
      v99 = (int)"CreateDevice failed";
      return UD3DRenderDevice::UnSetRes(v99, v100, v101);
    }
    v23 = *(_DWORD *)(v7 + 16604) == 0;
    v134 = 0;
    v70 = (int)"hardware";
    if ( v23 )
      v70 = (int)"software";
    FOutputDevice::Logf(GLog, 762, "D3D Driver: CreateDevice: will use %s transform and lighting.", v70);
    if ( *(_DWORD *)(v7 + 16604) )
    {
      if ( *(_DWORD *)(v7 + 16608) )
        v71 = (int)"hardware";
      else
        v71 = (int)"mixed";
    }
    else
    {
      v71 = (int)"software";
    }
    FOutputDevice::Logf(GLog, 762, "D3D Driver: CreateDevice: will use %s vertex processing", v71);
    if ( !GIsEditor )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, signed int, _DWORD, _DWORD, _DWORD))(**(_DWORD **)v57 + 144))(
        *(_DWORD *)v57,
        0,
        0,
        1,
        0,
        0,
        0);
      (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)v57 + 60))(
        *(_DWORD *)v57,
        0,
        0,
        0,
        0);
      if ( !GIsEditor )
      {
        if ( *(_DWORD *)(v7 + 16636) )
        {
          v72 = *(_DWORD *)(v7 + 64608);
          if ( v72 )
          {
            sub_1002FEB0(*(_DWORD *)(v7 + 64608));
            *(_DWORD *)v72 = 0;
            *(_DWORD *)(v72 + 4) = 0;
            *(_DWORD *)(v72 + 8) = 0;
            *(_DWORD *)(v72 + 16) = 3;
            (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v72);
            v73 = 0;
            *(_DWORD *)(v7 + 64608) = 0;
          }
          else
          {
            v73 = 0;
          }
          v74 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(36);
          if ( v74 == v73 )
          {
            v74 = 0;
          }
          else
          {
            *(_DWORD *)v74 = v73;
            *(_DWORD *)(v74 + 4) = v73;
            *(_DWORD *)(v74 + 8) = v73;
            *(_DWORD *)(v74 + 16) = 3;
          }
          v75 = *(_DWORD *)v57;
          *(_DWORD *)(v7 + 64608) = v74;
          sub_100300A0(v74, v75, v73, 3);
          sub_1002FD30(*(_DWORD *)(v7 + 64608), 1);
        }
      }
    }
  }
  v76 = (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)v57 + 16))(*(_DWORD *)v57, *(_DWORD *)&v104);
  *(_DWORD *)&v104 = 1;
  *(_DWORD *)(v7 + 18044) = v76;
  v77 = **(_DWORD **)v57;
  v78 = *(_DWORD *)v57;
  LOBYTE(v134) = 15;
  (*(void (__stdcall **)(int, signed int, _DWORD))(v77 + 200))(v78, 7, *(_DWORD *)&v104);
  v79 = *(_DWORD *)v57;
  v80 = **(_DWORD **)v57;
  *(_DWORD *)&v104 = 2;
  (*(void (__stdcall **)(int, signed int, signed int))(v80 + 200))(v79, 9, 2);
  v81 = *(_DWORD *)v57;
  v82 = **(_DWORD **)v57;
  *(_DWORD *)&v104 = 0;
  (*(void (__stdcall **)(int, signed int, _DWORD))(v82 + 200))(v81, 29, 0);
  v83 = *(_DWORD *)v57;
  v84 = **(_DWORD **)v57;
  *(_DWORD *)&v104 = 1;
  (*(void (__stdcall **)(int, signed int, signed int))(v84 + 200))(v83, 26, 1);
  v85 = *(_DWORD *)v57;
  v86 = **(_DWORD **)v57;
  *(_DWORD *)&v104 = 1;
  (*(void (__stdcall **)(int, signed int, signed int))(v86 + 200))(v85, 143, 1);
  v87 = *(_DWORD *)v57;
  v88 = **(_DWORD **)v57;
  *(_DWORD *)&v104 = *(_DWORD *)(v7 + 16656) != 0;
  (*(void (__stdcall **)(int, signed int, _DWORD))(v88 + 200))(v87, 48, *(_DWORD *)&v104);
  v23 = *(_DWORD *)(v7 + 16652) == 0;
  v89 = *(_DWORD *)v57;
  *(_DWORD *)&v104 = 3;
  if ( v23 )
    (*(void (__stdcall **)(int, signed int))(*(_DWORD *)v89 + 200))(v89, 35);
  else
    (*(void (__stdcall **)(int, signed int))(*(_DWORD *)v89 + 200))(v89, 140);
  (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)v57 + 200))(*(_DWORD *)v57, 136, 1);
  memset(&v105, 0, 0x44u);
  v90 = *(_DWORD *)v57;
  v109 = dword_1006F9A0;
  v110 = dword_1006F9A0;
  v111 = dword_1006F9A0;
  v112 = dword_1006F9A0;
  v105 = dword_1006F9A0;
  v106 = dword_1006F9A0;
  v107 = dword_1006F9A0;
  v108 = dword_1006F9A0;
  v113 = dword_1006F9A0;
  v114 = dword_1006F9A0;
  v115 = dword_1006F9A0;
  v116 = dword_1006F9A0;
  v117 = 0;
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)v90 + 168))(v90, &v105);
  (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)v57 + 200))(*(_DWORD *)v57, 148, 1);
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)v57 + 200))(*(_DWORD *)v57, 146, 0);
  if ( *(_BYTE *)(v7 + 16880) & 2 )
  {
    (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)v57 + 200))(*(_DWORD *)v57, 145, 2);
    (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)v57 + 200))(*(_DWORD *)v57, 147, 2);
  }
  else
  {
    FOutputDevice::Logf(GLog, 762, "D3D Device: Device doesn't support D3DVTXPCAPS_MATERIALSOURCE7");
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)v57 + 200))(*(_DWORD *)v57, 145, 0);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)v57 + 200))(*(_DWORD *)v57, 147, 0);
  }
  v91 = *(_DWORD *)(v7 + 16696);
  if ( *(_DWORD *)(v7 + 16832) <= v91 )
    v91 = *(_DWORD *)(v7 + 16832);
  v134 = 0;
  v137 = 1;
  if ( v91 > 1 )
    v137 = v91;
  v92 = *(_DWORD *)(v7 + 16704);
  v93 = 0;
  LOBYTE(v134) = 17;
  v132 = v92;
  v94 = 0;
  while ( v94 < *(_DWORD *)(v7 + 16872) )
  {
    (*(void (__stdcall **)(_DWORD, int, signed int, int))(**(_DWORD **)(v7 + 18100) + 252))(
      *(_DWORD *)(v7 + 18100),
      v94,
      19,
      v132);
    (*(void (__stdcall **)(_DWORD, int, signed int, int))(**(_DWORD **)(v7 + 18100) + 252))(
      *(_DWORD *)(v7 + 18100),
      v94,
      16,
      ((unsigned int)v137 > 1) + 2);
    (*(void (__stdcall **)(_DWORD, int, signed int, int))(**(_DWORD **)(v7 + 18100) + 252))(
      *(_DWORD *)(v7 + 18100),
      v94,
      17,
      ((unsigned int)v137 > 1) + 2);
    v95 = 0;
    if ( *(_DWORD *)(v7 + 16596) )
    {
      LOBYTE(v95) = *(_DWORD *)(v7 + 16592) != 0;
      ++v95;
    }
    (*(void (__stdcall **)(_DWORD, _DWORD, signed int, int))(**(_DWORD **)(v7 + 18100) + 252))(
      *(_DWORD *)(v7 + 18100),
      v94,
      18,
      v95);
    (*(void (__stdcall **)(_DWORD, int, signed int, signed int))(**(_DWORD **)(v7 + 18100) + 252))(
      *(_DWORD *)(v7 + 18100),
      v94++,
      21,
      v137);
    v93 = 0;
  }
  v96 = *(_DWORD *)a2;
  v134 = v93;
  (*(void (__thiscall **)(signed int, int, signed int, signed int, int))(v96 + 148))(a2, a5 != v93 | 0x10, a3, a4, a7);
  LOBYTE(v134) = 19;
  sub_10028450(v7 + 59376, a2, v93, v7, v7);
  v134 = v93;
  if ( GIsEditor == v93 )
  {
    *(_DWORD *)(v7 + 18160) = v93;
    *(_DWORD *)(v7 + 18156) = v93;
  }
  else
  {
    v97 = (HWND)(*(int (__thiscall **)(signed int))(*(_DWORD *)a2 + 172))(a2);
    *(_DWORD *)(v7 + 18160) = v97;
    *(_DWORD *)(v7 + 18156) = GetDC(v97);
  }
  (*(void (__thiscall **)(signed int, signed int))(*(_DWORD *)v7 + 168))(v7, a2);
  v128 = v93;
  for ( k = -1; ; k = UObject::GetIndex(*(_DWORD *)&v104) )
  {
    sub_100175E0(&v128, k);
    if ( v129 == v93 )
      break;
    (*(void (__thiscall **)(int))(*(_DWORD *)v129 + 120))(v129);
  }
  v128 = v93;
  for ( l = -1; ; l = UObject::GetIndex(*(_DWORD *)&v104) )
  {
    sub_10017660(&v128, l);
    if ( v129 == v93 )
      break;
    *(_DWORD *)(v129 + 156) |= 1u;
  }
  (*(void (__thiscall **)(signed int))(*(_DWORD *)a2 + 196))(a2);
  if ( GEngine != (void *)v93 )
  {
    v98 = *((_DWORD *)GEngine + 18);
    if ( v98 != v93 )
      (*(void (__cdecl **)(_DWORD))(*(_DWORD *)v98 + 248))(*(_DWORD *)&v104);
  }
  return 1;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F0C8: using guessed type int GIsEditor;
// 1006F1B8: using guessed type int FOutputDevice__Logf(_DWORD, _DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F21C: using guessed type int __cdecl UObject__GetIndex(_DWORD);
// 1006F22C: using guessed type void __fastcall appSleep(float);
// 1006F33C: using guessed type int __thiscall UViewport__GetOuterUClient(_DWORD);
// 1006F358: using guessed type void *GEngine;
// 1006F9A0: using guessed type int dword_1006F9A0;

//----- (10019A66) --------------------------------------------------------
void __userpurge sub_10019A66(int a1<ebp>, int a2, int a3, int a4, int a5, int a6, int a7)
{
  *(_DWORD *)(a1 - 84) = *(_DWORD *)(a1 - 32);
  JUMPOUT(loc_10019AF5);
}
// 10019AF5: using guessed type int __stdcall loc_10019AF5(int, int, int, int, int, int);

//----- (10019A7A) --------------------------------------------------------
void __cdecl sub_10019A7A()
{
  JUMPOUT(loc_10019AE2);
}
// 10019AE2: using guessed type int loc_10019AE2();

//----- (10019A81) --------------------------------------------------------
void __userpurge sub_10019A81(int a1<ebp>, int a2, int a3, int a4, int a5, int a6, int a7)
{
  *(_DWORD *)(a1 - 76) = *(_DWORD *)(a1 - 40);
  JUMPOUT(loc_10019AF5);
}
// 10019AF5: using guessed type int __stdcall loc_10019AF5(int, int, int, int, int, int);

//----- (10019A92) --------------------------------------------------------
void __cdecl sub_10019A92()
{
  JUMPOUT(loc_10019AE2);
}
// 10019AE2: using guessed type int loc_10019AE2();

//----- (10019A99) --------------------------------------------------------
void __userpurge sub_10019A99(int a1<ebp>, int a2, int a3, int a4, int a5, int a6, int a7)
{
  *(_DWORD *)(a1 - 52) = *(_DWORD *)(a1 - 32);
  JUMPOUT(loc_10019AF5);
}
// 10019AF5: using guessed type int __stdcall loc_10019AF5(int, int, int, int, int, int);

//----- (10019AAA) --------------------------------------------------------
void __cdecl sub_10019AAA()
{
  JUMPOUT(loc_10019AE2);
}
// 10019AE2: using guessed type int loc_10019AE2();

//----- (10019AB1) --------------------------------------------------------
void __userpurge sub_10019AB1(int a1<ebp>, int a2, int a3, int a4, int a5, int a6, int a7)
{
  *(_DWORD *)(a1 - 56) = *(_DWORD *)(a1 - 32);
  JUMPOUT(loc_10019AF5);
}
// 10019AF5: using guessed type int __stdcall loc_10019AF5(int, int, int, int, int, int);

//----- (10019AC2) --------------------------------------------------------
void __cdecl sub_10019AC2()
{
  JUMPOUT(*(int *)loc_10019AE3);
}
// 10019AE3: using guessed type int __stdcall loc_10019AE3(int, int, int, int, int, int);

//----- (10019BD0) --------------------------------------------------------
int __thiscall sub_10019BD0(void *this, int a2, int a3, int a4)
{
  int v4; // eax@1
  void *v5; // esi@1
  int v6; // ecx@1
  int v7; // edx@1
  int v8; // edi@1
  int v9; // eax@1
  int v10; // ecx@1
  int v11; // edx@1
  int v13; // [sp+0h] [bp-24h]@1
  int *v14; // [sp+14h] [bp-10h]@1
  int v15; // [sp+20h] [bp-4h]@1

  v4 = a3;
  v5 = this;
  v6 = a4;
  v7 = *((_DWORD *)v5 + 1);
  v8 = a2;
  *((_DWORD *)v5 + 2) = a2;
  *((_DWORD *)v5 + 10236) = 0;
  *((_DWORD *)v5 + 10234) = v4;
  *((_DWORD *)v5 + 10235) = v6;
  a3 = 0;
  a2 = 0;
  v9 = *(_DWORD *)(v7 + 18100);
  v10 = *(_DWORD *)v9;
  v14 = &v13;
  v15 = 0;
  (*(void (__stdcall **)(int, int *))(v10 + 128))(v9, &a3);
  (*(void (__stdcall **)(_DWORD, int *))(**(_DWORD **)(*((_DWORD *)v5 + 1) + 18100) + 132))(
    *(_DWORD *)(*((_DWORD *)v5 + 1) + 18100),
    &a2);
  *(_WORD *)(*((_DWORD *)v5 + 9987) + 8) = *(_WORD *)(v8 + 136);
  *(_WORD *)(*((_DWORD *)v5 + 9987) + 10) = *(_WORD *)(v8 + 140);
  *(_WORD *)(*((_DWORD *)v5 + 9987) + 12) = *(_WORD *)(*((_DWORD *)v5 + 2) + 128);
  *(_WORD *)(*((_DWORD *)v5 + 9987) + 14) = *(_WORD *)(*((_DWORD *)v5 + 2) + 132);
  *(_DWORD *)(*((_DWORD *)v5 + 9987) + 4) = a2;
  **((_DWORD **)v5 + 9987) = a3;
  v11 = *(_DWORD *)v5;
  *((_DWORD *)v5 + 10225) = 0;
  return (*(int (__thiscall **)(void *, signed int))v11)(v5, -2147483648);
}

//----- (10019CCD) --------------------------------------------------------
void __usercall sub_10019CCD(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10019CE1) --------------------------------------------------------
void __cdecl sub_10019CE1()
{
  appUnwindf("%s", off_10080170[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080170: using guessed type char *off_10080170[10];

//----- (10019D00) --------------------------------------------------------
int __thiscall sub_10019D00(void *this)
{
  void *v1; // esi@1
  int v2; // eax@1
  int result; // eax@1
  int v4; // [sp+0h] [bp-24h]@1
  int *v5; // [sp+14h] [bp-10h]@1
  int v6; // [sp+20h] [bp-4h]@1

  v1 = this;
  v2 = *(_DWORD *)this;
  v5 = &v4;
  v6 = 0;
  (*(void (__stdcall **)(_DWORD))(v2 + 4))(0);
  (*(void (__stdcall **)(_DWORD))(***((_DWORD ***)v1 + 9987) + 8))(**((_DWORD **)v1 + 9987));
  **((_DWORD **)v1 + 9987) = 0;
  (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(*((_DWORD *)v1 + 9987) + 4) + 8))(*(_DWORD *)(*((_DWORD *)v1 + 9987) + 4));
  result = *((_DWORD *)v1 + 9987);
  *(_DWORD *)(result + 4) = 0;
  return result;
}

//----- (10019D78) --------------------------------------------------------
void __usercall sub_10019D78(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10019D8C) --------------------------------------------------------
void __cdecl sub_10019D8C()
{
  appUnwindf("%s", off_10080174[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080174: using guessed type char *off_10080174[9];

//----- (10019F80) --------------------------------------------------------
int __thiscall sub_10019F80(int this, int a2, int a3, int a4, int a5)
{
  int v5; // esi@1
  int v6; // edx@1
  int v7; // eax@1
  int v8; // ecx@1
  int result; // eax@1
  int v10; // [sp-Ch] [bp-3Ch]@1
  int v11; // [sp+0h] [bp-30h]@1
  int v12; // [sp+4h] [bp-2Ch]@1
  int v13; // [sp+8h] [bp-28h]@1
  int v14; // [sp+Ch] [bp-24h]@1
  int v15; // [sp+10h] [bp-20h]@1
  int v16; // [sp+14h] [bp-1Ch]@1
  int *v17; // [sp+20h] [bp-10h]@1
  int v18; // [sp+2Ch] [bp-4h]@1

  v5 = this;
  v6 = *(_DWORD *)(this + 4);
  v15 = 0;
  v11 = a2;
  v12 = a3;
  v13 = a4;
  v14 = a5;
  v16 = dword_1006F9A0;
  v7 = *(_DWORD *)(v6 + 18100);
  v8 = *(_DWORD *)v7;
  v17 = &v10;
  v18 = 0;
  (*(void (__stdcall **)(int, int *))(v8 + 160))(v7, &v11);
  result = *(_DWORD *)(v5 + 39948);
  *(_WORD *)(result + 8) = a2;
  LOWORD(result) = a4;
  *(_WORD *)(*(_DWORD *)(v5 + 39948) + 10) = a3;
  *(_WORD *)(*(_DWORD *)(v5 + 39948) + 12) = a4;
  *(_WORD *)(*(_DWORD *)(v5 + 39948) + 14) = a5;
  return result;
}
// 1006F9A0: using guessed type int dword_1006F9A0;

//----- (1001A030) --------------------------------------------------------
void __usercall sub_1001A030(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001A044) --------------------------------------------------------
void __cdecl sub_1001A044()
{
  appUnwindf("%s", off_10080178[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080178: using guessed type char *off_10080178[8];

//----- (1001A090) --------------------------------------------------------
int __thiscall sub_1001A090(int this, int a2, char a3, int a4, int a5, int a6, unsigned __int8 a7)
{
  int v7; // esi@1
  int v8; // ecx@1
  unsigned __int64 v9; // qax@1
  signed int v10; // edi@4
  int v11; // eax@6
  signed int v12; // eax@6
  int v13; // eax@7
  int v14; // eax@7
  unsigned __int64 v15; // qax@8
  unsigned __int64 v16; // qax@8
  int result; // eax@8
  int v18; // [sp+0h] [bp-30h]@1
  char v19; // [sp+Ch] [bp-24h]@7
  void *v20; // [sp+18h] [bp-18h]@1
  int *v21; // [sp+20h] [bp-10h]@1
  int v22; // [sp+2Ch] [bp-4h]@1

  v7 = this;
  v8 = *(_DWORD *)(this + 4);
  v21 = &v18;
  v22 = 0;
  v8 += 65572;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v20 = FClock::CurStat;
  FClock::CurStat = (void *)v8;
  v9 = __rdtsc();
  qword_100845C4 = v9;
  HIDWORD(v9) = *(_DWORD *)(v8 + 4) + 1;
  *(_DWORD *)v8 -= v9;
  *(_DWORD *)(v8 + 4) = HIDWORD(v9);
  LODWORD(v9) = *(_DWORD *)(*(_DWORD *)(v7 + 4) + 84);
  LOBYTE(v22) = 1;
  if ( ((_DWORD)v9 || GIsEditor) && a6 )
    v10 = 4;
  else
    v10 = 0;
  v11 = FColor::operator unsigned_long(&a3);
  v12 = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, int, int, int, _DWORD))(**(_DWORD **)(*(_DWORD *)(v7 + 4) + 18100)
                                                                            + 144))(
          *(_DWORD *)(*(_DWORD *)(v7 + 4) + 18100),
          0,
          0,
          v10 | (a4 != 0 ? 2 : 0) | a2 != 0,
          v11,
          a5,
          a7);
  if ( v12 < 0 )
  {
    v13 = sub_10001020((int)&v19, v12);
    LOBYTE(v22) = 2;
    v14 = FString::operator_(v13);
    FOutputDevice::Logf(GLog, "D3D Driver: Clear failed (%s)", v14);
    LOBYTE(v22) = 1;
    FString::_FString(&v19);
  }
  v15 = __rdtsc();
  qword_100845C4 = v15;
  *(_DWORD *)FClock::CurStat += v15 - 12;
  v16 = __rdtsc();
  qword_100845C4 = v16;
  result = *(_DWORD *)FClock::CurStat - v16;
  *(_DWORD *)FClock::CurStat = result;
  return result;
}
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F0C8: using guessed type int GIsEditor;
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (1001A21E) --------------------------------------------------------
void __usercall sub_1001A21E(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001A232) --------------------------------------------------------
void __cdecl sub_1001A232()
{
  appUnwindf("%s", off_1008017C[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 1008017C: using guessed type char *off_1008017C[7];

//----- (1001A260) --------------------------------------------------------
signed int __thiscall sub_1001A260(int this, signed int a2, int a3, int a4)
{
  signed int result; // eax@1

  result = a2;
  if ( a2 < 8 )
    *(_DWORD *)(*(_DWORD *)(this + 39948) + 4 * a2 + 808) = a3;
  return result;
}

//----- (1001A280) --------------------------------------------------------
int __thiscall sub_1001A280(int this)
{
  return *(_BYTE *)(*(_DWORD *)(this + 39948) + 23);
}

//----- (1001A290) --------------------------------------------------------
void *__thiscall sub_1001A290(int this, void *a2, int a3)
{
  void *result; // eax@2

  if ( a3 )
  {
    if ( a3 == 1 )
    {
      result = a2;
      memcpy(a2, (const void *)(*(_DWORD *)(this + 39948) + 108), 0x40u);
    }
    else
    {
      if ( a3 == 2 )
      {
        result = a2;
        memcpy(a2, (const void *)(*(_DWORD *)(this + 39948) + 172), 0x40u);
      }
      else
      {
        result = a2;
        memcpy(a2, FMatrix::Identity, 0x40u);
      }
    }
  }
  else
  {
    result = a2;
    memcpy(a2, (const void *)(*(_DWORD *)(this + 39948) + 44), 0x40u);
  }
  return result;
}
// 1006F0B0: using guessed type void *FMatrix__Identity;

//----- (1001A310) --------------------------------------------------------
int __thiscall sub_1001A310(int this, int a2)
{
  int result; // eax@1

  result = a2;
  *(_DWORD *)(this + 40924) = a2;
  return result;
}

//----- (1001A320) --------------------------------------------------------
int __thiscall sub_1001A320(int this, int a2)
{
  return (*(int (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(*(_DWORD *)(this + 4) + 18100) + 200))(
           *(_DWORD *)(*(_DWORD *)(this + 4) + 18100),
           161,
           a2);
}

//----- (1001A340) --------------------------------------------------------
int __thiscall sub_1001A340(void *this, int a2)
{
  void *v2; // esi@1
  unsigned int v3; // ecx@1
  int v4; // eax@1
  unsigned int v5; // ST10_4@1
  void *v6; // ecx@1
  int result; // eax@1
  int v8; // edi@1
  int v9; // [sp+0h] [bp-24h]@1
  int *v10; // [sp+14h] [bp-10h]@1
  int v11; // [sp+20h] [bp-4h]@1

  v2 = this;
  v3 = *(_DWORD *)(a2 + 4);
  v4 = *(_DWORD *)(a2 + 8);
  v10 = &v9;
  v5 = v3;
  v6 = (void *)*((_DWORD *)v2 + 1);
  v11 = 0;
  result = UD3DRenderDevice::GetCachedResource(v6, v5, v4);
  v8 = result;
  if ( result )
  {
    result = *(_DWORD *)(result + 48);
    if ( result )
    {
      result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, int *))(**(_DWORD **)(*((_DWORD *)v2 + 1) + 18100) + 64))(
                 *(_DWORD *)(*((_DWORD *)v2 + 1) + 18100),
                 0,
                 0,
                 &a2);
      if ( a2 )
      {
        (*(void (__stdcall **)(_DWORD, int, _DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(*((_DWORD *)v2 + 1) + 18100)
                                                                           + 112))(
          *(_DWORD *)(*((_DWORD *)v2 + 1) + 18100),
          a2,
          0,
          0,
          *(_DWORD *)(v8 + 48),
          0);
        result = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
      }
    }
  }
  return result;
}

//----- (1001A3DE) --------------------------------------------------------
void __usercall sub_1001A3DE(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001A3F2) --------------------------------------------------------
void __cdecl sub_1001A3F2()
{
  appUnwindf("%s", off_10080180[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080180: using guessed type char *off_10080180[6];

//----- (1001A420) --------------------------------------------------------
int __thiscall sub_1001A420(int this, int a2)
{
  int v2; // ebx@1
  int result; // eax@2
  int v4; // esi@3
  int v5; // eax@4
  int v6; // [sp+0h] [bp-24h]@1
  int *v7; // [sp+14h] [bp-10h]@1
  int v8; // [sp+20h] [bp-4h]@1

  v7 = &v6;
  v2 = this;
  v8 = 0;
  if ( a2 )
  {
    v4 = UD3DRenderDevice::GetCachedResource(*(void **)(this + 4), *(_DWORD *)(a2 + 4), *(_DWORD *)(a2 + 8));
    if ( !v4 )
    {
      v5 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(92);
      if ( v5 )
        v4 = sub_1002CF90(v5, *(_DWORD *)(v2 + 4), a2);
      else
        v4 = 0;
    }
    if ( *(_DWORD *)(v4 + 16) != (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 4))(a2) )
      sub_1002DC80((void *)v4, a2);
    *(_DWORD *)(v4 + 20) = *(_DWORD *)(*(_DWORD *)(v2 + 4) + 18088);
    result = v4;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1001A4D5) --------------------------------------------------------
void __usercall sub_1001A4D5(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001A4E9) --------------------------------------------------------
void __cdecl sub_1001A4E9()
{
  appUnwindf("%s", off_10080184[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080184: using guessed type char *off_10080184[5];

//----- (1001A510) --------------------------------------------------------
int __stdcall sub_1001A510(int a1, int a2, int a3, char a4, int a5)
{
  int v5; // eax@1
  int v6; // eax@2
  int v7; // eax@2
  int v8; // eax@2
  int v10; // eax@4
  int v11; // eax@10
  int v12; // [sp-4h] [bp-30h]@6
  int v13; // [sp+0h] [bp-2Ch]@6
  int v14; // [sp+8h] [bp-24h]@1
  char v15; // [sp+10h] [bp-1Ch]@2
  char v16; // [sp+18h] [bp-14h]@10
  int v17; // [sp+28h] [bp-4h]@2

  v5 = a4 & 0xF;
  v14 = 0;
  if ( v5 == 1 )
  {
    v6 = sub_1001A6F0(&v15, a2, a3 - 1, a5);
    v17 = 0;
    v7 = FString::operator_(v6);
    v8 = FString::Printf(&v14, "(%s)", v7);
    LOBYTE(v17) = 1;
    TArray<char>::TArray<char>(a1, v8, 0);
    LOBYTE(v17) = 0;
    FStringTemp::_FStringTemp(&v14);
    v17 = -1;
    FString::_FString(&v15);
    return a1;
  }
  if ( v5 == 2 )
  {
    v10 = FString::Printf(&v15, "texture(%u)", a3);
    v17 = 2;
    TArray<char>::TArray<char>(a1, v10, 0);
    v17 = -1;
    FStringTemp::_FStringTemp(&v15);
    return a1;
  }
  if ( a4 & 0xF )
  {
    if ( v5 == 4 )
    {
      v13 = 0;
      v12 = (int)"specular";
    }
    else
    {
      if ( v5 == 3 )
      {
        FColor::FColor(&a3, *(_DWORD *)(a2 + 16));
        v11 = FString::Printf(&v16, "tfactor(%u,%u,%u,%u)", BYTE2(a3), BYTE1(a3), (unsigned __int8)a3, BYTE3(a3));
        v17 = 3;
        TArray<char>::TArray<char>(a1, v11, 0);
        v17 = -1;
        FStringTemp::_FStringTemp(&v16);
        return a1;
      }
      v13 = 0;
      v12 = (int)"?";
    }
  }
  else
  {
    v13 = 0;
    v12 = (int)"diffuse";
  }
  FString::FString(v12, v13);
  return a1;
}
// 1001A6F0: using guessed type _DWORD __stdcall sub_1001A6F0(_DWORD, _DWORD, _DWORD, _DWORD);
// 1006F010: using guessed type int __stdcall FString__FString(_DWORD, _DWORD);
// 1006F150: using guessed type int FString__Printf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F294: using guessed type int __thiscall TArray_char___TArray_char_(_DWORD, _DWORD, _DWORD);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F388: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD);

//----- (1001A6F0) --------------------------------------------------------
int __stdcall sub_1001A6F0(int a1, int a2, int a3, int a4)
{
  unsigned int v4; // edx@3
  unsigned int v5; // eax@4
  int v6; // edx@4
  int v7; // eax@4
  int v8; // esi@7
  int v9; // ST24_4@9
  int v10; // esi@9
  int v11; // ST14_4@9
  int v12; // eax@9
  int v13; // eax@9
  int v14; // ST24_4@10
  int v15; // esi@10
  int v16; // ST14_4@10
  int v17; // eax@10
  int v18; // eax@10
  int v19; // ST24_4@11
  int v20; // esi@11
  int v21; // ST14_4@11
  int v22; // eax@11
  int v23; // eax@11
  int v24; // ST24_4@12
  int v25; // esi@12
  int v26; // ST14_4@12
  int v27; // eax@12
  int v28; // eax@12
  int v29; // ST24_4@13
  int v30; // esi@13
  int v31; // ST14_4@13
  int v32; // eax@13
  int v33; // eax@13
  int v34; // ST24_4@14
  int v35; // esi@14
  int v36; // ST14_4@14
  int v37; // eax@14
  int v38; // eax@14
  int v39; // ST24_4@15
  int v40; // esi@15
  int v41; // ST14_4@15
  int v42; // eax@15
  int v43; // eax@15
  int v44; // ST24_4@16
  int v45; // ST2C_4@16
  int v46; // esi@16
  int v47; // ST14_4@16
  int v48; // ST10_4@16
  int v49; // eax@16
  int v50; // eax@16
  int v51; // ST24_4@17
  int v52; // edi@17
  int v53; // ST10_4@17
  int v54; // eax@17
  int v55; // eax@17
  int v56; // eax@18
  int v57; // eax@18
  int v58; // ST24_4@18
  int v59; // esi@18
  int v60; // ST14_4@18
  int v61; // ST10_4@18
  int v62; // ST0C_4@18
  int v63; // eax@18
  int v64; // eax@18
  int v65; // ST24_4@19
  int v66; // esi@19
  int v67; // ST14_4@19
  int v68; // ST0C_4@19
  int v69; // eax@19
  int v70; // eax@19
  _UNKNOWN *v72; // [sp-8h] [bp-158h]@2
  int v73; // [sp-4h] [bp-154h]@2
  int v74; // [sp+0h] [bp-150h]@0
  int v75; // [sp+Ch] [bp-144h]@4
  int v76; // [sp+10h] [bp-140h]@4
  int v77; // [sp+14h] [bp-13Ch]@4
  char v78; // [sp+18h] [bp-138h]@18
  char v79; // [sp+20h] [bp-130h]@13
  char v80; // [sp+28h] [bp-128h]@14
  char v81; // [sp+30h] [bp-120h]@14
  char v82; // [sp+38h] [bp-118h]@9
  char v83; // [sp+40h] [bp-110h]@15
  char v84; // [sp+48h] [bp-108h]@9
  char v85; // [sp+50h] [bp-100h]@15
  char v86; // [sp+58h] [bp-F8h]@10
  char v87; // [sp+60h] [bp-F0h]@15
  char v88; // [sp+68h] [bp-E8h]@11
  char v89; // [sp+70h] [bp-E0h]@16
  char v90; // [sp+78h] [bp-D8h]@11
  char v91; // [sp+80h] [bp-D0h]@16
  char v92; // [sp+88h] [bp-C8h]@12
  char v93; // [sp+90h] [bp-C0h]@16
  char v94; // [sp+98h] [bp-B8h]@13
  char v95; // [sp+A0h] [bp-B0h]@16
  char v96; // [sp+ACh] [bp-A4h]@17
  char v97; // [sp+B4h] [bp-9Ch]@19
  char v98; // [sp+B8h] [bp-98h]@17
  char v99; // [sp+C0h] [bp-90h]@10
  char v100; // [sp+C8h] [bp-88h]@17
  char v101; // [sp+D0h] [bp-80h]@11
  char v102; // [sp+D8h] [bp-78h]@18
  char v103; // [sp+E0h] [bp-70h]@12
  char v104; // [sp+E8h] [bp-68h]@18
  char v105; // [sp+F0h] [bp-60h]@14
  char v106; // [sp+F8h] [bp-58h]@18
  char v107; // [sp+100h] [bp-50h]@10
  char v108; // [sp+108h] [bp-48h]@18
  char v109; // [sp+110h] [bp-40h]@13
  char v110; // [sp+118h] [bp-38h]@19
  char v111; // [sp+120h] [bp-30h]@12
  char v112; // [sp+128h] [bp-28h]@19
  char v113; // [sp+130h] [bp-20h]@9
  char v114; // [sp+138h] [bp-18h]@19
  int v115; // [sp+14Ch] [bp-4h]@9

  if ( a3 >= 0 )
  {
    v4 = *(_DWORD *)(112 * a3 + a2 + 44);
    if ( a4 )
    {
      v5 = *(_DWORD *)(112 * a3 + a2 + 48);
      v75 = (v4 >> 17) & 0x1F;
      v6 = (v5 >> 18) & 0x3F;
      v7 = (v5 >> 24) & 0x3F;
      LOBYTE(v76) = v6;
      LOBYTE(v77) = v7;
    }
    else
    {
      v75 = (v4 >> 12) & 0x1F;
      v7 = (*(_DWORD *)(112 * a3 + a2 + 48) >> 6) & 0x3F;
      v76 = *(_DWORD *)(112 * a3 + a2 + 48) & 0x3F;
      v77 = (*(_DWORD *)(112 * a3 + a2 + 48) >> 6) & 0x3F;
    }
    switch ( v75 )
    {
      case 2:
        v8 = a1;
        sub_1001A510(a1, a2, a3, v76, a4);
        break;
      case 3:
        v8 = a1;
        sub_1001A510(a1, a2, a3, v7, a4);
        break;
      case 4:
        v9 = sub_1001A510((int)&v84, a2, a3, v7, a4);
        v115 = 0;
        v10 = sub_1001A510((int)&v113, a2, a3, v76, a4);
        LOBYTE(v115) = 1;
        v11 = FString::operator_(v9);
        v12 = FString::operator_(v10);
        v13 = FString::Printf(&v82, "%s * %s", v12, v11);
        v8 = a1;
        LOBYTE(v115) = 2;
        TArray<char>::TArray<char>(a1, v13, 0);
        LOBYTE(v115) = 1;
        FStringTemp::_FStringTemp(&v82);
        LOBYTE(v115) = 0;
        FString::_FString(&v113);
        v115 = -1;
        FString::_FString(&v84);
        break;
      case 5:
        v14 = sub_1001A510((int)&v107, a2, a3, v7, a4);
        v115 = 3;
        v15 = sub_1001A510((int)&v86, a2, a3, v76, a4);
        LOBYTE(v115) = 4;
        v16 = FString::operator_(v14);
        v17 = FString::operator_(v15);
        v18 = FString::Printf(&v99, "%s * %s * 2", v17, v16);
        v8 = a1;
        LOBYTE(v115) = 5;
        TArray<char>::TArray<char>(a1, v18, 0);
        LOBYTE(v115) = 4;
        FStringTemp::_FStringTemp(&v99);
        LOBYTE(v115) = 3;
        FString::_FString(&v86);
        v115 = -1;
        FString::_FString(&v107);
        break;
      case 6:
        v19 = sub_1001A510((int)&v90, a2, a3, v7, a4);
        v115 = 6;
        v20 = sub_1001A510((int)&v101, a2, a3, v76, a4);
        LOBYTE(v115) = 7;
        v21 = FString::operator_(v19);
        v22 = FString::operator_(v20);
        v23 = FString::Printf(&v88, "%s * %s * 4", v22, v21);
        v8 = a1;
        LOBYTE(v115) = 8;
        TArray<char>::TArray<char>(a1, v23, 0);
        LOBYTE(v115) = 7;
        FStringTemp::_FStringTemp(&v88);
        LOBYTE(v115) = 6;
        FString::_FString(&v101);
        v115 = -1;
        FString::_FString(&v90);
        break;
      case 7:
        v24 = sub_1001A510((int)&v103, a2, a3, v7, a4);
        v115 = 9;
        v25 = sub_1001A510((int)&v92, a2, a3, v76, a4);
        LOBYTE(v115) = 10;
        v26 = FString::operator_(v24);
        v27 = FString::operator_(v25);
        v28 = FString::Printf(&v111, "%s + %s", v27, v26);
        v8 = a1;
        LOBYTE(v115) = 11;
        TArray<char>::TArray<char>(a1, v28, 0);
        LOBYTE(v115) = 10;
        FStringTemp::_FStringTemp(&v111);
        LOBYTE(v115) = 9;
        FString::_FString(&v92);
        v115 = -1;
        FString::_FString(&v103);
        break;
      case 8:
        v29 = sub_1001A510((int)&v79, a2, a3, v7, a4);
        v115 = 12;
        v30 = sub_1001A510((int)&v109, a2, a3, v76, a4);
        LOBYTE(v115) = 13;
        v31 = FString::operator_(v29);
        v32 = FString::operator_(v30);
        v33 = FString::Printf(&v94, "%s + %s - 0.5", v32, v31);
        v8 = a1;
        LOBYTE(v115) = 14;
        TArray<char>::TArray<char>(a1, v33, 0);
        LOBYTE(v115) = 13;
        FStringTemp::_FStringTemp(&v94);
        LOBYTE(v115) = 12;
        FString::_FString(&v109);
        v115 = -1;
        FString::_FString(&v79);
        break;
      case 9:
        v34 = sub_1001A510((int)&v81, a2, a3, v7, a4);
        v115 = 15;
        v35 = sub_1001A510((int)&v80, a2, a3, v76, a4);
        LOBYTE(v115) = 16;
        v36 = FString::operator_(v34);
        v37 = FString::operator_(v35);
        v38 = FString::Printf(&v105, "(%s + %s - 0.5) * 2", v37, v36);
        v8 = a1;
        LOBYTE(v115) = 17;
        TArray<char>::TArray<char>(a1, v38, 0);
        LOBYTE(v115) = 16;
        FStringTemp::_FStringTemp(&v105);
        LOBYTE(v115) = 15;
        FString::_FString(&v80);
        v115 = -1;
        FString::_FString(&v81);
        break;
      case 10:
        v39 = sub_1001A510((int)&v87, a2, a3, v7, a4);
        v115 = 18;
        v40 = sub_1001A510((int)&v85, a2, a3, v76, a4);
        LOBYTE(v115) = 19;
        v41 = FString::operator_(v39);
        v42 = FString::operator_(v40);
        v43 = FString::Printf(&v83, "%s - %s", v42, v41);
        v8 = a1;
        LOBYTE(v115) = 20;
        TArray<char>::TArray<char>(a1, v43, 0);
        LOBYTE(v115) = 19;
        FStringTemp::_FStringTemp(&v83);
        LOBYTE(v115) = 18;
        FString::_FString(&v85);
        v115 = -1;
        FString::_FString(&v87);
        break;
      case 18:
        v44 = sub_1001A510((int)&v95, a2, a3, v7, 0);
        v115 = 21;
        v45 = sub_1001A510((int)&v93, a2, a3, v76, 1);
        LOBYTE(v115) = 22;
        v46 = sub_1001A510((int)&v91, a2, a3, v76, 0);
        LOBYTE(v115) = 23;
        v47 = FString::operator_(v44);
        v48 = FString::operator_(v45);
        v49 = FString::operator_(v46);
        v50 = FString::Printf(&v89, "%s.rgb + %s.a * %s.rgb", v49, v48, v47);
        v8 = a1;
        LOBYTE(v115) = 24;
        TArray<char>::TArray<char>(a1, v50, 0);
        LOBYTE(v115) = 23;
        FStringTemp::_FStringTemp(&v89);
        LOBYTE(v115) = 22;
        FString::_FString(&v91);
        LOBYTE(v115) = 21;
        FString::_FString(&v93);
        v115 = -1;
        FString::_FString(&v95);
        break;
      case 13:
        v51 = sub_1001A510((int)&v100, a2, a3, v7, a4);
        v115 = 25;
        v52 = sub_1001A510((int)&v98, a2, a3, v76, a4);
        LOBYTE(v115) = 26;
        v53 = FString::operator_(v51);
        v54 = FString::operator_(v52);
        v55 = FString::Printf(&v96, "%s * texture(%u).a + %s * (1 - texture(%u).a)", v54, a3, v53, a3);
        v8 = a1;
        LOBYTE(v115) = 27;
        TArray<char>::TArray<char>(a1, v55, 0);
        LOBYTE(v115) = 26;
        FStringTemp::_FStringTemp(&v96);
        LOBYTE(v115) = 25;
        FString::_FString(&v98);
        v115 = -1;
        FString::_FString(&v100);
        break;
      case 16:
        v56 = sub_1001A6F0(&v102, a2, a3 - 1, 1);
        v115 = 28;
        v57 = FString::operator_(v56);
        FString::FString(v57, v74);
        LOBYTE(v115) = 30;
        FString::_FString(&v102);
        v58 = sub_1001A510((int)&v108, a2, a3, v77, a4);
        LOBYTE(v115) = 31;
        v59 = sub_1001A510((int)&v106, a2, a3, v76, a4);
        LOBYTE(v115) = 32;
        v60 = FString::operator_(&v78);
        v61 = FString::operator_(v58);
        v62 = FString::operator_(&v78);
        v63 = FString::operator_(v59);
        v64 = FString::Printf(&v104, "%s * %s.a + %s * (1 - %s.a)", v63, v62, v61, v60);
        v8 = a1;
        LOBYTE(v115) = 33;
        TArray<char>::TArray<char>(a1, v64, 0);
        LOBYTE(v115) = 32;
        FStringTemp::_FStringTemp(&v104);
        LOBYTE(v115) = 31;
        FString::_FString(&v106);
        LOBYTE(v115) = 30;
        FString::_FString(&v108);
        v115 = -1;
        FString::_FString(&v78);
        break;
      case 14:
        v65 = sub_1001A510((int)&v114, a2, a3, v7, a4);
        v115 = 34;
        v66 = sub_1001A510((int)&v112, a2, a3, v76, a4);
        v67 = *(_DWORD *)(a2 + 16);
        LOBYTE(v115) = 35;
        FColor::FColor(&v97, v67);
        FString::operator_(v65);
        v68 = *(_BYTE *)(FColor::FColor(&v96, *(_DWORD *)(a2 + 16)) + 3);
        v69 = FString::operator_(v66);
        v70 = FString::Printf(&v110, "%s * tfactor.a(%u) + %s * (1 - tfactor.a(%u))", v69, v68);
        v8 = a1;
        LOBYTE(v115) = 36;
        TArray<char>::TArray<char>(a1, v70, 0);
        LOBYTE(v115) = 35;
        FStringTemp::_FStringTemp(&v110);
        LOBYTE(v115) = 34;
        FString::_FString(&v112);
        v115 = -1;
        FString::_FString(&v114);
        break;
      default:
        v73 = 0;
        v72 = &unk_10071481;
        goto LABEL_21;
    }
  }
  else
  {
    v73 = 0;
    v72 = (_UNKNOWN *)"diffuse";
LABEL_21:
    v8 = a1;
    FString::FString(v72, v73);
  }
  return v8;
}
// 1001A6F0: using guessed type _DWORD __stdcall sub_1001A6F0(_DWORD, _DWORD, _DWORD, _DWORD);
// 1006F010: using guessed type int __stdcall FString__FString(_DWORD, _DWORD);
// 1006F150: using guessed type int FString__Printf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F294: using guessed type int __thiscall TArray_char___TArray_char_(_DWORD, _DWORD, _DWORD);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F388: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD);

//----- (1001B1B0) --------------------------------------------------------
signed int __stdcall sub_1001B1B0(int a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 2:
      result = 2;
      break;
    case 3:
      result = 3;
      break;
    case 4:
      result = 4;
      break;
    case 5:
      result = 5;
      break;
    case 6:
      result = 6;
      break;
    case 7:
      result = 7;
      break;
    case 8:
      result = 8;
      break;
    case 1:
      goto LABEL_10;
    default:
      FOutputDevice::Logf(GError, "invalid stencil op");
LABEL_10:
      result = 1;
      break;
  }
  return result;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);

//----- (1001B240) --------------------------------------------------------
signed int __stdcall sub_1001B240(int a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 2:
      result = 2;
      break;
    case 3:
      result = 3;
      break;
    case 4:
      result = 4;
      break;
    case 5:
      result = 5;
      break;
    case 6:
      result = 6;
      break;
    case 7:
      result = 7;
      break;
    case 8:
      result = 8;
      break;
    case 1:
      goto LABEL_10;
    default:
      FOutputDevice::Logf(GError, "invalid compare function");
LABEL_10:
      result = 1;
      break;
  }
  return result;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);

//----- (1001B2D0) --------------------------------------------------------
int __thiscall sub_1001B2D0(void *this, int a2)
{
  unsigned int v2; // eax@1
  void *v3; // ebx@1
  int v4; // ecx@1
  int v5; // ST04_4@1
  void *v6; // ecx@1
  int v7; // esi@1
  int v9; // [sp+0h] [bp-24h]@1
  int *v10; // [sp+14h] [bp-10h]@1
  int v11; // [sp+20h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 4);
  v3 = this;
  v4 = *(_DWORD *)(a2 + 8);
  v10 = &v9;
  v5 = v4;
  v6 = (void *)*((_DWORD *)v3 + 1);
  v11 = 0;
  v7 = UD3DRenderDevice::GetCachedResource(v6, v2, v5);
  if ( !v7 )
  {
    if ( (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(56) )
      v7 = sub_1002AE40(*((_DWORD *)v3 + 1), a2);
    else
      v7 = 0;
  }
  if ( *(_DWORD *)(v7 + 16) != (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 4))(a2) )
    (*(void (__thiscall **)(int, int))(*(_DWORD *)v7 + 20))(v7, a2);
  return v7;
}
// 1002AE40: using guessed type _DWORD __stdcall sub_1002AE40(_DWORD, _DWORD);
// 1006F014: using guessed type void *GMalloc;

//----- (1001B360) --------------------------------------------------------
void __usercall sub_1001B360(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001B374) --------------------------------------------------------
void __cdecl sub_1001B374()
{
  appUnwindf("%s", off_10080188[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080188: using guessed type char *off_10080188[4];

//----- (1001B3A0) --------------------------------------------------------
int __thiscall sub_1001B3A0(void *this, int a2)
{
  unsigned int v2; // eax@1
  void *v3; // ebx@1
  int v4; // ecx@1
  int v5; // ST04_4@1
  void *v6; // ecx@1
  int v7; // esi@1
  int v8; // eax@2
  int v10; // [sp+0h] [bp-24h]@1
  int *v11; // [sp+14h] [bp-10h]@1
  int v12; // [sp+20h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 4);
  v3 = this;
  v4 = *(_DWORD *)(a2 + 8);
  v11 = &v10;
  v5 = v4;
  v6 = (void *)*((_DWORD *)v3 + 1);
  v12 = 0;
  v7 = UD3DRenderDevice::GetCachedResource(v6, v2, v5);
  if ( !v7 )
  {
    v8 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(56);
    if ( v8 )
      v7 = sub_1002ACF0(v8, *((_DWORD *)v3 + 1), a2);
    else
      v7 = 0;
  }
  if ( *(_DWORD *)(v7 + 16) != (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 4))(a2) )
    (*(void (__thiscall **)(int, int))(*(_DWORD *)v7 + 20))(v7, a2);
  return v7;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1001B430) --------------------------------------------------------
void __usercall sub_1001B430(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001B444) --------------------------------------------------------
void __cdecl sub_1001B444()
{
  appUnwindf("%s", off_1008018C[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 1008018C: using guessed type char *off_1008018C[3];

//----- (1001B470) --------------------------------------------------------
char __thiscall sub_1001B470(int this, int a2)
{
  UD3DRenderDevice::GetCachedResource(*(void **)(this + 4), *(_DWORD *)(a2 + 4), *(_DWORD *)(a2 + 8));
  return 0;
}

//----- (1001B490) --------------------------------------------------------
int __thiscall sub_1001B490(int this, int a2)
{
  int result; // eax@1

  result = *(_DWORD *)(this + 39948);
  *(_DWORD *)(*(_DWORD *)(result + 772) + 12) = a2;
  return result;
}

//----- (1001B4B0) --------------------------------------------------------
signed int __cdecl sub_1001B4B0()
{
  return 1;
}

//----- (1001B4C0) --------------------------------------------------------
signed int __stdcall sub_1001B4C0(int a1)
{
  return 1;
}

//----- (1001B4D0) --------------------------------------------------------
signed int __stdcall sub_1001B4D0(int a1, int a2)
{
  return 1;
}

//----- (1001B7D0) --------------------------------------------------------
void *__thiscall sub_1001B7D0(void *this)
{
  void *v1; // ebp@1
  int v2; // esi@1
  signed int v3; // edi@1

  v1 = this;
  v2 = (int)this;
  v3 = 16;
  do
  {
    sub_10001650(v2, 2, 8, (int (__thiscall *)(_DWORD))sub_1001B780);
    *(_DWORD *)(v2 + 16) = 0;
    v2 += 20;
    --v3;
  }
  while ( v3 );
  *((_DWORD *)v1 + 80) = 0;
  return v1;
}
// 1001B780: using guessed type int sub_1001B780();

//----- (1001BAC0) --------------------------------------------------------
void *__thiscall sub_1001BAC0(void *this)
{
  void *v1; // ebx@1
  __int128 v2; // xmm0@1

  v1 = this;
  FSphere::FSphere((char *)this + 312);
  FColor::FColor((char *)v1 + 328);
  FColor::FColor((char *)v1 + 760);
  sub_1001B7D0((char *)v1 + 828);
  v2 = (unsigned int)dword_1006F9A0;
  memset(v1, 0, 0x4E0u);
  *((_DWORD *)v1 + 9) = -1;
  *((_DWORD *)v1 + 10) = -1;
  *((_BYTE *)v1 + 25) = 1;
  *((_BYTE *)v1 + 26) = 1;
  *((_BYTE *)v1 + 27) = 1;
  *((_DWORD *)v1 + 7) = 15;
  *((_BYTE *)v1 + 24) = 8;
  memcpy((char *)v1 + 44, FMatrix::Identity, 0x40u);
  memcpy((char *)v1 + 108, FMatrix::Identity, 0x40u);
  memcpy((char *)v1 + 172, FMatrix::Identity, 0x40u);
  *((_DWORD *)v1 + 60) = 1;
  *((_BYTE *)v1 + 17) = 1;
  *((_BYTE *)v1 + 19) = 1;
  *((_DWORD *)v1 + 191) = v2;
  *((_DWORD *)v1 + 206) = -2147483648;
  return v1;
}
// 1006F0B0: using guessed type void *FMatrix__Identity;
// 1006F248: using guessed type int __thiscall FSphere__FSphere(_DWORD);
// 1006F38C: using guessed type int __thiscall FColor__FColor(_DWORD);
// 1006F9A0: using guessed type int dword_1006F9A0;

//----- (1001BB80) --------------------------------------------------------
signed int __thiscall sub_1001BB80(int this, int a2, char a3)
{
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // edi@1
  int v6; // ST08_4@1
  void *v7; // ecx@1
  unsigned int v8; // ST04_4@1
  int v9; // ebx@1
  int v10; // eax@2
  int v11; // edx@7
  int v12; // edi@8
  int v13; // eax@10
  int v14; // ecx@16
  signed int v15; // edi@16
  int v16; // eax@17
  signed int v17; // eax@19
  int v18; // eax@20
  int v19; // eax@20
  unsigned __int64 v20; // qax@20
  unsigned __int64 v21; // qax@20
  bool v23; // zf@21
  unsigned __int64 v24; // qax@25
  unsigned __int64 v25; // qax@25
  int v26; // [sp+0h] [bp-30h]@1
  char v27; // [sp+Ch] [bp-24h]@20
  void *v28; // [sp+1Ch] [bp-14h]@1
  int *v29; // [sp+20h] [bp-10h]@1
  int v30; // [sp+2Ch] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)(this + 4);
  v29 = &v26;
  v30 = 0;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v28 = FClock::CurStat;
  FClock::CurStat = (void *)(v4 + 64932);
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat -= qword_100845C4;
  v5 = a2;
  v6 = *(_DWORD *)(a2 + 8);
  v7 = *(void **)(v3 + 4);
  v8 = *(_DWORD *)(a2 + 4);
  LOBYTE(v30) = 1;
  v9 = UD3DRenderDevice::GetCachedResource(v7, v8, v6);
  if ( !v9 )
  {
    v10 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(92);
    if ( v10 )
      v9 = sub_1002CF90(v10, *(_DWORD *)(v3 + 4), v5);
    else
      v9 = 0;
  }
  if ( *(_DWORD *)(v9 + 16) != (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 4))(v5) )
    sub_1002DC80((void *)v9, v5);
  v11 = *(_DWORD *)(v9 + 48);
  if ( v11 )
  {
    v12 = *(_DWORD *)(v9 + 52);
    if ( v12 || !a3 )
    {
      v13 = *(_DWORD *)(v3 + 39948);
      if ( *(_DWORD *)v13 != v11 || *(_DWORD *)(v13 + 4) != v12 )
      {
        if ( (signed int)*(_WORD *)(v13 + 12) < *(_DWORD *)(v9 + 64)
          || (signed int)*(_WORD *)(v13 + 14) < *(_DWORD *)(v9 + 68) )
          a3 = 1;
        a2 = 0;
        if ( a3 )
        {
          v14 = v12;
          a2 = v12;
          v15 = 0;
        }
        else
        {
          (*(void (__stdcall **)(_DWORD, int *))(**(_DWORD **)(*(_DWORD *)(v3 + 4) + 18100) + 132))(
            *(_DWORD *)(*(_DWORD *)(v3 + 4) + 18100),
            &a2);
          v14 = a2;
          v15 = 0;
          if ( a2 )
          {
            v16 = *(_DWORD *)a2;
            a3 = 1;
            (*(void (__stdcall **)(int))(v16 + 8))(a2);
            v14 = a2;
          }
        }
        v17 = (*(int (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)(*(_DWORD *)(v3 + 4) + 18100) + 124))(
                *(_DWORD *)(*(_DWORD *)(v3 + 4) + 18100),
                *(_DWORD *)(v9 + 48),
                v14);
        if ( v17 < v15 )
        {
          v18 = sub_10001020((int)&v27, v17);
          LOBYTE(v30) = 2;
          v19 = FString::operator_(v18);
          FOutputDevice::Logf(GError, "SetRenderTarget failed(%s).", v19);
          LOBYTE(v30) = 1;
          FString::_FString(&v27);
          v20 = __rdtsc();
          qword_100845C4 = v20;
          *(_DWORD *)FClock::CurStat += v20 - 12;
          FClock::CurStat = v28;
          v21 = __rdtsc();
          qword_100845C4 = v21;
          *(_DWORD *)FClock::CurStat -= v21;
          return 0;
        }
        v23 = a3 == 0;
        **(_DWORD **)(v3 + 39948) = *(_DWORD *)(v9 + 48);
        if ( v23 )
          *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 4) = v15;
        else
          *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 4) = a2;
        *(_WORD *)(*(_DWORD *)(v3 + 39948) + 8) = v15;
        *(_WORD *)(*(_DWORD *)(v3 + 39948) + 10) = v15;
        *(_WORD *)(*(_DWORD *)(v3 + 39948) + 12) = *(_WORD *)(v9 + 64);
        *(_WORD *)(*(_DWORD *)(v3 + 39948) + 14) = *(_WORD *)(v9 + 68);
        ++*(_DWORD *)(*(_DWORD *)(v3 + 4) + 64936);
      }
    }
  }
  v24 = __rdtsc();
  qword_100845C4 = v24;
  *(_DWORD *)FClock::CurStat += v24 - 12;
  FClock::CurStat = v28;
  v25 = __rdtsc();
  qword_100845C4 = v25;
  *(_DWORD *)FClock::CurStat -= v25;
  return 1;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (1001BE5C) --------------------------------------------------------
void __usercall sub_1001BE5C(int a1<ebp>)
{
  *(_DWORD *)(a1 - 24) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 24, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001BE70) --------------------------------------------------------
void __cdecl sub_1001BE70()
{
  appUnwindf("%s", off_10080190[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080190: using guessed type char *off_10080190[2];

//----- (1001BE90) --------------------------------------------------------
signed int __thiscall sub_1001BE90(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // ecx@1
  int v6; // ST0C_4@1
  void *v7; // ecx@1
  unsigned int v8; // ST08_4@1
  int v9; // ebx@1
  int v10; // eax@2
  signed int v11; // eax@9
  int v12; // eax@10
  int v13; // eax@10
  unsigned __int64 v14; // qax@10
  unsigned __int64 v15; // qax@10
  unsigned __int64 v17; // qax@12
  unsigned __int64 v18; // qax@12
  int v19; // [sp+0h] [bp-34h]@1
  char v20; // [sp+Ch] [bp-28h]@10
  void *v21; // [sp+1Ch] [bp-18h]@1
  int v22; // [sp+20h] [bp-14h]@7
  int *v23; // [sp+24h] [bp-10h]@1
  int v24; // [sp+30h] [bp-4h]@1

  v4 = this;
  v5 = *(_DWORD *)(this + 4);
  v23 = &v19;
  v24 = 0;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v21 = FClock::CurStat;
  FClock::CurStat = (void *)(v5 + 64932);
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat -= qword_100845C4;
  v6 = *(_DWORD *)(a2 + 8);
  v7 = *(void **)(v4 + 4);
  v8 = *(_DWORD *)(a2 + 4);
  LOBYTE(v24) = 1;
  v9 = UD3DRenderDevice::GetCachedResource(v7, v8, v6);
  if ( !v9 )
  {
    v10 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(92);
    if ( v10 )
      v9 = sub_1002CF90(v10, *(_DWORD *)(v4 + 4), a2);
    else
      v9 = 0;
  }
  if ( !*(_DWORD *)(v9 + 60) )
    sub_1002DC80((void *)v9, a2);
  v22 = 0;
  (*(void (__stdcall **)(_DWORD, int, int, int *))(**(_DWORD **)(v9 + 60) + 60))(*(_DWORD *)(v9 + 60), a3, a4, &v22);
  if ( v22 && **(_DWORD **)(v4 + 39948) != v22 )
  {
    v11 = (*(int (__stdcall **)(_DWORD, int, _DWORD))(**(_DWORD **)(*(_DWORD *)(v4 + 4) + 18100) + 124))(
            *(_DWORD *)(*(_DWORD *)(v4 + 4) + 18100),
            v22,
            0);
    if ( v11 < 0 )
    {
      v12 = sub_10001020((int)&v20, v11);
      LOBYTE(v24) = 2;
      v13 = FString::operator_(v12);
      FOutputDevice::Logf(GError, "SetRenderTarget failed(%s).", v13);
      LOBYTE(v24) = 1;
      FString::_FString(&v20);
      v14 = __rdtsc();
      qword_100845C4 = v14;
      *(_DWORD *)FClock::CurStat += v14 - 12;
      FClock::CurStat = v21;
      v15 = __rdtsc();
      qword_100845C4 = v15;
      *(_DWORD *)FClock::CurStat -= v15;
      return 0;
    }
    **(_DWORD **)(v4 + 39948) = v22;
    *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 4) = 0;
    *(_WORD *)(*(_DWORD *)(v4 + 39948) + 8) = 0;
    *(_WORD *)(*(_DWORD *)(v4 + 39948) + 10) = 0;
    *(_WORD *)(*(_DWORD *)(v4 + 39948) + 12) = *(_WORD *)(v9 + 64);
    *(_WORD *)(*(_DWORD *)(v4 + 39948) + 14) = *(_WORD *)(v9 + 68);
    ++*(_DWORD *)(*(_DWORD *)(v4 + 4) + 64936);
  }
  v17 = __rdtsc();
  qword_100845C4 = v17;
  *(_DWORD *)FClock::CurStat += v17 - 12;
  FClock::CurStat = v21;
  v18 = __rdtsc();
  qword_100845C4 = v18;
  *(_DWORD *)FClock::CurStat -= v18;
  return 1;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (1001C0FC) --------------------------------------------------------
void __usercall sub_1001C0FC(int a1<ebp>)
{
  *(_DWORD *)(a1 - 28) = *(_DWORD *)(a1 - 32);
  CxxThrowException(a1 - 28, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001C110) --------------------------------------------------------
void __cdecl sub_1001C110()
{
  appUnwindf("%s", off_10080194);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080194: using guessed type char *off_10080194;

//----- (1001C130) --------------------------------------------------------
int __thiscall sub_1001C130(void *this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // ebx@1
  bool v6; // sf@1
  signed int v7; // edx@2
  int v8; // esi@6
  signed int v9; // ecx@6
  signed int v10; // eax@6
  int v11; // ecx@12
  int result; // eax@15
  __int128 v13; // xmm0@18
  signed int v14; // edx@18
  char *i; // eax@18
  int v16; // ecx@21
  int v17; // eax@24
  int v18; // edi@26
  int v19; // ecx@28
  int v20; // ecx@29
  int v21; // eax@29
  int v22; // eax@30
  float v23; // xmm1_4@30
  float v24; // xmm0_4@30
  float v25; // xmm1_4@30
  float v26; // xmm0_4@30
  float v27; // xmm1_4@30
  float v28; // xmm0_4@30
  float v29; // xmm1_4@30
  float v30; // xmm0_4@30
  float v31; // xmm1_4@30
  float v32; // xmm0_4@30
  float v33; // xmm1_4@30
  float v34; // xmm1_4@30
  float v35; // xmm0_4@30
  float v36; // xmm1_4@30
  float v37; // xmm0_4@30
  float v38; // xmm1_4@30
  float v39; // xmm0_4@30
  float v40; // xmm1_4@30
  float v41; // xmm0_4@30
  float v42; // xmm1_4@30
  float v43; // xmm0_4@30
  float v44; // xmm1_4@30
  float v45; // xmm0_4@30
  float v46; // xmm1_4@30
  float v47; // xmm0_4@30
  float v48; // xmm1_4@30
  const void *v49; // esi@30
  int v50; // eax@31
  float v51; // xmm1_4@31
  float v52; // xmm0_4@31
  float v53; // xmm1_4@31
  float v54; // xmm0_4@31
  float v55; // xmm1_4@31
  float v56; // xmm0_4@31
  float v57; // xmm1_4@31
  float v58; // xmm0_4@31
  float v59; // xmm1_4@31
  float v60; // xmm0_4@31
  float v61; // xmm1_4@31
  float v62; // xmm1_4@31
  float v63; // xmm0_4@31
  float v64; // xmm1_4@31
  float v65; // xmm0_4@31
  float v66; // xmm1_4@31
  float v67; // xmm0_4@31
  float v68; // xmm1_4@31
  float v69; // xmm0_4@31
  float v70; // xmm1_4@31
  float v71; // xmm0_4@31
  float v72; // xmm1_4@31
  float v73; // xmm0_4@31
  float v74; // xmm1_4@31
  float v75; // xmm0_4@31
  float v76; // xmm1_4@31
  float v77; // xmm0_4@31
  float v78; // xmm1_4@31
  float v79; // xmm0_4@31
  float v80; // xmm1_4@31
  float v81; // xmm2_4@31
  float v82; // xmm0_4@31
  float v83; // xmm3_4@31
  float v84; // xmm1_4@31
  float v85; // xmm2_4@31
  float v86; // xmm0_4@31
  float v87; // xmm4_4@31
  float v88; // xmm5_4@31
  int v89; // esi@34
  int v90; // eax@43
  float v91; // xmm1_4@43
  float v92; // xmm0_4@43
  float v93; // xmm1_4@43
  float v94; // xmm0_4@43
  float v95; // xmm1_4@43
  float v96; // xmm0_4@43
  float v97; // xmm1_4@43
  float v98; // xmm0_4@43
  float v99; // xmm1_4@43
  float v100; // xmm0_4@43
  float v101; // xmm1_4@43
  float v102; // xmm1_4@43
  float v103; // xmm0_4@43
  float v104; // xmm1_4@43
  float v105; // xmm0_4@43
  float v106; // xmm1_4@43
  float v107; // xmm0_4@43
  float v108; // xmm1_4@43
  float v109; // xmm0_4@43
  float v110; // xmm1_4@43
  float v111; // xmm0_4@43
  float v112; // xmm1_4@43
  float v113; // xmm0_4@43
  float v114; // xmm1_4@43
  float v115; // xmm0_4@43
  float v116; // xmm1_4@43
  int v117; // ecx@46
  int v118; // edx@46
  int v119; // esi@46
  int v120; // edx@47
  int v121; // eax@47
  __int128 v122; // xmm6@47
  __int128 v123; // xmm7@47
  float v124; // xmm0_4@47
  __m128 v125; // xmm3@47
  __m128 v126; // xmm4@47
  int v127; // eax@47
  int v128; // ecx@47
  float v129; // xmm0_4@47
  __m128 v130; // xmm3@47
  __m128 v131; // xmm4@47
  int v132; // eax@47
  float v133; // xmm0_4@47
  __m128 v134; // xmm3@47
  __m128 v135; // xmm4@47
  int v136; // edx@48
  int v137; // ecx@48
  float v138; // xmm1_4@48
  __int128 v139; // xmm0@48
  int v140; // eax@48
  __int128 v141; // xmm0@49
  int v142; // eax@49
  int v144; // eax@52
  long double v145; // st7@52
  int v147; // eax@55
  long double v148; // st7@55
  int v150; // eax@58
  long double v151; // st7@58
  long double v152; // st7@59
  int v153; // eax@59
  long double v154; // st6@59
  int v155; // eax@62
  int v156; // esi@63
  int v157; // eax@66
  int v158; // eax@70
  float v159; // xmm0_4@70
  float v160; // xmm1_4@70
  float v161; // xmm0_4@70
  float v162; // xmm1_4@70
  float v163; // ecx@70
  float v164; // xmm0_4@70
  float v165; // xmm1_4@70
  int v166; // eax@70
  float v167; // edx@70
  int v168; // eax@71
  float v169; // xmm0_4@71
  float v170; // xmm1_4@71
  float v171; // xmm0_4@71
  float v172; // xmm1_4@71
  float v173; // xmm0_4@71
  float v174; // xmm1_4@71
  int v175; // edx@72
  __int128 v176; // xmm0@72
  long double v177; // st7@73
  int v178; // eax@73
  int v179; // ecx@74
  __int128 v180; // xmm0@74
  int v181; // eax@74
  float v182; // xmm1_4@74
  __int128 v183; // xmm0@74
  int v184; // edx@75
  int v185; // esi@76
  int j; // eax@76
  int v187; // ecx@78
  int v188; // ecx@79
  int k; // eax@83
  int v190; // ecx@85
  int v191; // ecx@86
  char v192; // al@92
  int v193; // eax@94
  int v194; // eax@96
  int v195; // ecx@96
  int v196; // edx@96
  int v197; // esi@96
  int v198; // ecx@96
  __int128 v199; // xmm0@96
  __int128 v200; // xmm1@97
  int v201; // eax@97
  int v202; // eax@100
  unsigned __int8 v203; // al@101
  __int128 v204; // xmm1@102
  float v205; // xmm2_4@102
  int v206; // eax@102
  float v207; // xmm0_4@102
  float v208; // xmm0_4@102
  __int128 v209; // xmm2@102
  __int128 v210; // xmm0@103
  int v211; // eax@103
  signed __int64 v212; // qax@106
  int v213; // eax@106
  int v214; // edx@106
  signed __int64 v215; // qt2@106
  int v216; // ecx@107
  int v217; // eax@107
  float v218; // esi@107
  int v219; // edx@108
  float v220; // xmm3_4@112
  float v221; // xmm2_4@112
  __int128 v222; // xmm1@112
  float v223; // xmm0_4@112
  __m128 v224; // xmm3@112
  __m128 v225; // xmm4@112
  __m128 v226; // xmm3@112
  int v227; // eax@113
  int v228; // eax@113
  int v229; // edx@113
  int v230; // ecx@113
  __int128 v231; // xmm3@119
  __int128 v232; // xmm1@119
  __int128 v233; // xmm0@119
  float v234; // edx@119
  __int128 v235; // xmm2@119
  __int128 v236; // xmm0@119
  __int128 v237; // xmm1@119
  const void *v238; // eax@120
  __int128 v239; // xmm4@121
  __int128 v240; // xmm3@121
  __int128 v241; // xmm4@121
  __int128 v242; // xmm4@121
  __int128 v243; // xmm4@121
  float v244; // edx@121
  int v245; // eax@121
  int v246; // esi@121
  int v247; // ecx@121
  float v248; // xmm1_4@124
  float v249; // xmm0_4@124
  float v250; // xmm1_4@124
  float v251; // edx@124
  float v252; // xmm0_4@124
  __int128 v253; // xmm0@125
  int v254; // edx@127
  __int128 v255; // xmm0@129
  int v256; // eax@129
  __int128 v257; // xmm0@132
  __int128 v258; // xmm3@132
  __int128 v259; // xmm2@132
  __int128 v260; // xmm1@132
  int v262; // eax@135
  __int128 v263; // xmm5@136
  __int128 v264; // xmm4@137
  int v265; // eax@137
  __int128 v266; // xmm4@139
  __int128 v267; // xmm6@140
  int v268; // [sp+0h] [bp-840h]@1
  char v269; // [sp+Ch] [bp-834h]@42
  char v270; // [sp+4Ch] [bp-7F4h]@37
  int v271; // [sp+98h] [bp-7A8h]@46
  int v272; // [sp+A8h] [bp-798h]@124
  int v273; // [sp+B8h] [bp-788h]@121
  char v274; // [sp+BCh] [bp-784h]@120
  char v275; // [sp+FCh] [bp-744h]@123
  char v276; // [sp+13Ch] [bp-704h]@64
  char v277; // [sp+17Ch] [bp-6C4h]@34
  char v278; // [sp+1BCh] [bp-684h]@41
  char v279; // [sp+1FCh] [bp-644h]@68
  char v280; // [sp+23Ch] [bp-604h]@18
  int v281[7]; // [sp+240h] [bp-600h]@81
  float v282; // [sp+268h] [bp-5D8h]@72
  int v283; // [sp+26Ch] [bp-5D4h]@72
  int v284; // [sp+278h] [bp-5C8h]@96
  int v285; // [sp+27Ch] [bp-5C4h]@96
  float v286; // [sp+280h] [bp-5C0h]@43
  float v287; // [sp+284h] [bp-5BCh]@43
  float v288; // [sp+288h] [bp-5B8h]@43
  float v289; // [sp+28Ch] [bp-5B4h]@43
  float v290; // [sp+290h] [bp-5B0h]@43
  float v291; // [sp+294h] [bp-5ACh]@43
  float v292; // [sp+298h] [bp-5A8h]@43
  float v293; // [sp+29Ch] [bp-5A4h]@43
  float v294; // [sp+2A0h] [bp-5A0h]@43
  float v295; // [sp+2A4h] [bp-59Ch]@43
  float v296; // [sp+2A8h] [bp-598h]@43
  float v297; // [sp+2ACh] [bp-594h]@43
  float v298; // [sp+2B0h] [bp-590h]@43
  float v299; // [sp+2B4h] [bp-58Ch]@43
  float v300; // [sp+2B8h] [bp-588h]@43
  float v301; // [sp+2BCh] [bp-584h]@43
  int v302; // [sp+2C0h] [bp-580h]@30
  int v303; // [sp+2C4h] [bp-57Ch]@30
  int v304; // [sp+2C8h] [bp-578h]@30
  int v305; // [sp+2CCh] [bp-574h]@30
  int v306; // [sp+2D0h] [bp-570h]@30
  int v307; // [sp+2D4h] [bp-56Ch]@30
  int v308; // [sp+2D8h] [bp-568h]@30
  int v309; // [sp+2DCh] [bp-564h]@30
  int v310; // [sp+2E0h] [bp-560h]@30
  int v311; // [sp+2E4h] [bp-55Ch]@30
  int v312; // [sp+2E8h] [bp-558h]@30
  int v313; // [sp+2ECh] [bp-554h]@30
  int v314; // [sp+2F0h] [bp-550h]@30
  int v315; // [sp+2F4h] [bp-54Ch]@30
  int v316; // [sp+2F8h] [bp-548h]@30
  int v317; // [sp+2FCh] [bp-544h]@30
  int v318; // [sp+300h] [bp-540h]@42
  float v319; // [sp+304h] [bp-53Ch]@42
  float v320; // [sp+308h] [bp-538h]@42
  float v321; // [sp+30Ch] [bp-534h]@42
  float v322; // [sp+310h] [bp-530h]@42
  float v323; // [sp+314h] [bp-52Ch]@42
  float v324; // [sp+318h] [bp-528h]@42
  float v325; // [sp+31Ch] [bp-524h]@42
  float v326; // [sp+320h] [bp-520h]@42
  float v327; // [sp+324h] [bp-51Ch]@42
  float v328; // [sp+328h] [bp-518h]@42
  float v329; // [sp+32Ch] [bp-514h]@42
  int v330; // [sp+330h] [bp-510h]@42
  int v331; // [sp+334h] [bp-50Ch]@42
  int v332; // [sp+338h] [bp-508h]@42
  int v333; // [sp+33Ch] [bp-504h]@42
  float v334; // [sp+340h] [bp-500h]@31
  float v335; // [sp+344h] [bp-4FCh]@31
  float v336; // [sp+348h] [bp-4F8h]@31
  float v337; // [sp+34Ch] [bp-4F4h]@31
  float v338; // [sp+350h] [bp-4F0h]@31
  float v339; // [sp+354h] [bp-4ECh]@31
  float v340; // [sp+358h] [bp-4E8h]@31
  float v341; // [sp+35Ch] [bp-4E4h]@31
  float v342; // [sp+360h] [bp-4E0h]@31
  float v343; // [sp+364h] [bp-4DCh]@31
  float v344; // [sp+368h] [bp-4D8h]@31
  float v345; // [sp+36Ch] [bp-4D4h]@31
  float v346; // [sp+370h] [bp-4D0h]@31
  float v347; // [sp+374h] [bp-4CCh]@31
  float v348; // [sp+378h] [bp-4C8h]@31
  float v349; // [sp+37Ch] [bp-4C4h]@31
  int v350; // [sp+380h] [bp-4C0h]@39
  int v351; // [sp+384h] [bp-4BCh]@39
  int v352; // [sp+388h] [bp-4B8h]@39
  int v353; // [sp+38Ch] [bp-4B4h]@39
  int v354; // [sp+390h] [bp-4B0h]@39
  int v355; // [sp+394h] [bp-4ACh]@39
  int v356; // [sp+398h] [bp-4A8h]@39
  int v357; // [sp+39Ch] [bp-4A4h]@39
  int v358; // [sp+3A0h] [bp-4A0h]@39
  int v359; // [sp+3A4h] [bp-49Ch]@39
  int v360; // [sp+3A8h] [bp-498h]@39
  int v361; // [sp+3ACh] [bp-494h]@39
  int v362; // [sp+3B0h] [bp-490h]@39
  int v363; // [sp+3B4h] [bp-48Ch]@39
  int v364; // [sp+3B8h] [bp-488h]@39
  int v365; // [sp+3BCh] [bp-484h]@39
  float v366; // [sp+3C0h] [bp-480h]@31
  float v367; // [sp+3C4h] [bp-47Ch]@31
  float v368; // [sp+3C8h] [bp-478h]@31
  float v369; // [sp+3CCh] [bp-474h]@31
  float v370; // [sp+3D0h] [bp-470h]@31
  float v371; // [sp+3D4h] [bp-46Ch]@31
  float v372; // [sp+3D8h] [bp-468h]@31
  float v373; // [sp+3DCh] [bp-464h]@31
  float v374; // [sp+3E0h] [bp-460h]@31
  float v375; // [sp+3E4h] [bp-45Ch]@31
  float v376; // [sp+3E8h] [bp-458h]@31
  float v377; // [sp+3ECh] [bp-454h]@31
  float v378; // [sp+3F0h] [bp-450h]@31
  float v379; // [sp+3F4h] [bp-44Ch]@31
  float v380; // [sp+3F8h] [bp-448h]@31
  float v381; // [sp+3FCh] [bp-444h]@31
  int v382; // [sp+400h] [bp-440h]@38
  int v383; // [sp+404h] [bp-43Ch]@38
  int v384; // [sp+408h] [bp-438h]@38
  int v385; // [sp+40Ch] [bp-434h]@38
  int v386; // [sp+410h] [bp-430h]@38
  int v387; // [sp+414h] [bp-42Ch]@38
  int v388; // [sp+418h] [bp-428h]@38
  int v389; // [sp+41Ch] [bp-424h]@38
  int v390; // [sp+420h] [bp-420h]@38
  int v391; // [sp+424h] [bp-41Ch]@38
  int v392; // [sp+428h] [bp-418h]@38
  int v393; // [sp+42Ch] [bp-414h]@38
  int v394; // [sp+430h] [bp-410h]@38
  int v395; // [sp+434h] [bp-40Ch]@38
  int v396; // [sp+438h] [bp-408h]@38
  int v397; // [sp+43Ch] [bp-404h]@38
  int v398; // [sp+440h] [bp-400h]@43
  int v399; // [sp+444h] [bp-3FCh]@43
  int v400; // [sp+448h] [bp-3F8h]@43
  int v401; // [sp+44Ch] [bp-3F4h]@43
  int v402; // [sp+450h] [bp-3F0h]@43
  int v403; // [sp+454h] [bp-3ECh]@43
  int v404; // [sp+458h] [bp-3E8h]@43
  int v405; // [sp+45Ch] [bp-3E4h]@43
  int v406; // [sp+460h] [bp-3E0h]@43
  int v407; // [sp+464h] [bp-3DCh]@43
  int v408; // [sp+468h] [bp-3D8h]@43
  int v409; // [sp+46Ch] [bp-3D4h]@43
  int v410; // [sp+470h] [bp-3D0h]@43
  int v411; // [sp+474h] [bp-3CCh]@43
  int v412; // [sp+478h] [bp-3C8h]@43
  int v413; // [sp+47Ch] [bp-3C4h]@43
  int v414; // [sp+480h] [bp-3C0h]@37
  int v415; // [sp+484h] [bp-3BCh]@37
  int v416; // [sp+488h] [bp-3B8h]@37
  int v417; // [sp+48Ch] [bp-3B4h]@37
  int v418; // [sp+490h] [bp-3B0h]@37
  int v419; // [sp+494h] [bp-3ACh]@37
  int v420; // [sp+498h] [bp-3A8h]@37
  int v421; // [sp+49Ch] [bp-3A4h]@37
  int v422; // [sp+4A0h] [bp-3A0h]@37
  int v423; // [sp+4A4h] [bp-39Ch]@37
  int v424; // [sp+4A8h] [bp-398h]@37
  int v425; // [sp+4ACh] [bp-394h]@37
  int v426; // [sp+4B0h] [bp-390h]@37
  int v427; // [sp+4B4h] [bp-38Ch]@37
  int v428; // [sp+4B8h] [bp-388h]@37
  int v429; // [sp+4BCh] [bp-384h]@37
  float v430; // [sp+4C0h] [bp-380h]@30
  float v431; // [sp+4C4h] [bp-37Ch]@30
  float v432; // [sp+4C8h] [bp-378h]@30
  float v433; // [sp+4CCh] [bp-374h]@30
  float v434; // [sp+4D0h] [bp-370h]@30
  float v435; // [sp+4D4h] [bp-36Ch]@30
  float v436; // [sp+4D8h] [bp-368h]@30
  float v437; // [sp+4DCh] [bp-364h]@30
  float v438; // [sp+4E0h] [bp-360h]@30
  float v439; // [sp+4E4h] [bp-35Ch]@30
  float v440; // [sp+4E8h] [bp-358h]@30
  float v441; // [sp+4ECh] [bp-354h]@30
  float v442; // [sp+4F0h] [bp-350h]@30
  float v443; // [sp+4F4h] [bp-34Ch]@30
  float v444; // [sp+4F8h] [bp-348h]@30
  float v445; // [sp+4FCh] [bp-344h]@30
  int v446; // [sp+500h] [bp-340h]@31
  int v447; // [sp+504h] [bp-33Ch]@31
  int v448; // [sp+508h] [bp-338h]@31
  int v449; // [sp+50Ch] [bp-334h]@31
  int v450; // [sp+510h] [bp-330h]@31
  int v451; // [sp+514h] [bp-32Ch]@31
  int v452; // [sp+518h] [bp-328h]@31
  int v453; // [sp+51Ch] [bp-324h]@31
  int v454; // [sp+520h] [bp-320h]@31
  int v455; // [sp+524h] [bp-31Ch]@31
  int v456; // [sp+528h] [bp-318h]@31
  int v457; // [sp+52Ch] [bp-314h]@31
  int v458; // [sp+530h] [bp-310h]@31
  int v459; // [sp+534h] [bp-30Ch]@31
  int v460; // [sp+538h] [bp-308h]@31
  int v461; // [sp+53Ch] [bp-304h]@31
  float v462; // [sp+540h] [bp-300h]@31
  float v463; // [sp+544h] [bp-2FCh]@31
  float v464; // [sp+548h] [bp-2F8h]@31
  float v465; // [sp+54Ch] [bp-2F4h]@31
  float v466; // [sp+550h] [bp-2F0h]@31
  float v467; // [sp+554h] [bp-2ECh]@31
  float v468; // [sp+558h] [bp-2E8h]@31
  float v469; // [sp+55Ch] [bp-2E4h]@31
  float v470; // [sp+560h] [bp-2E0h]@31
  float v471; // [sp+564h] [bp-2DCh]@31
  float v472; // [sp+568h] [bp-2D8h]@31
  float v473; // [sp+56Ch] [bp-2D4h]@31
  float v474; // [sp+570h] [bp-2D0h]@31
  float v475; // [sp+574h] [bp-2CCh]@31
  float v476; // [sp+578h] [bp-2C8h]@31
  float v477; // [sp+57Ch] [bp-2C4h]@31
  int v478; // [sp+580h] [bp-2C0h]@39
  int v479; // [sp+584h] [bp-2BCh]@39
  int v480; // [sp+588h] [bp-2B8h]@39
  int v481; // [sp+58Ch] [bp-2B4h]@39
  int v482; // [sp+590h] [bp-2B0h]@39
  int v483; // [sp+594h] [bp-2ACh]@39
  int v484; // [sp+598h] [bp-2A8h]@39
  int v485; // [sp+59Ch] [bp-2A4h]@39
  int v486; // [sp+5A0h] [bp-2A0h]@39
  int v487; // [sp+5A4h] [bp-29Ch]@39
  int v488; // [sp+5A8h] [bp-298h]@39
  int v489; // [sp+5ACh] [bp-294h]@39
  int v490; // [sp+5B0h] [bp-290h]@39
  int v491; // [sp+5B4h] [bp-28Ch]@39
  int v492; // [sp+5B8h] [bp-288h]@39
  int v493; // [sp+5BCh] [bp-284h]@39
  int v494; // [sp+5C0h] [bp-280h]@30
  int v495; // [sp+5C4h] [bp-27Ch]@30
  int v496; // [sp+5C8h] [bp-278h]@30
  int v497; // [sp+5CCh] [bp-274h]@30
  int v498; // [sp+5D0h] [bp-270h]@30
  int v499; // [sp+5D4h] [bp-26Ch]@30
  int v500; // [sp+5D8h] [bp-268h]@30
  int v501; // [sp+5DCh] [bp-264h]@30
  int v502; // [sp+5E0h] [bp-260h]@30
  int v503; // [sp+5E4h] [bp-25Ch]@30
  int v504; // [sp+5E8h] [bp-258h]@30
  int v505; // [sp+5ECh] [bp-254h]@30
  int v506; // [sp+5F0h] [bp-250h]@30
  int v507; // [sp+5F4h] [bp-24Ch]@30
  int v508; // [sp+5F8h] [bp-248h]@30
  int v509; // [sp+5FCh] [bp-244h]@30
  int v510; // [sp+600h] [bp-240h]@38
  int v511; // [sp+604h] [bp-23Ch]@38
  int v512; // [sp+608h] [bp-238h]@38
  int v513; // [sp+60Ch] [bp-234h]@38
  int v514; // [sp+610h] [bp-230h]@38
  int v515; // [sp+614h] [bp-22Ch]@38
  int v516; // [sp+618h] [bp-228h]@38
  int v517; // [sp+61Ch] [bp-224h]@38
  int v518; // [sp+620h] [bp-220h]@38
  int v519; // [sp+624h] [bp-21Ch]@38
  int v520; // [sp+628h] [bp-218h]@38
  int v521; // [sp+62Ch] [bp-214h]@38
  int v522; // [sp+630h] [bp-210h]@38
  int v523; // [sp+634h] [bp-20Ch]@38
  int v524; // [sp+638h] [bp-208h]@38
  int v525; // [sp+63Ch] [bp-204h]@38
  int v526; // [sp+640h] [bp-200h]@43
  int v527; // [sp+644h] [bp-1FCh]@43
  int v528; // [sp+648h] [bp-1F8h]@43
  int v529; // [sp+64Ch] [bp-1F4h]@43
  int v530; // [sp+650h] [bp-1F0h]@43
  int v531; // [sp+654h] [bp-1ECh]@43
  int v532; // [sp+658h] [bp-1E8h]@43
  int v533; // [sp+65Ch] [bp-1E4h]@43
  int v534; // [sp+660h] [bp-1E0h]@43
  int v535; // [sp+664h] [bp-1DCh]@43
  int v536; // [sp+668h] [bp-1D8h]@43
  int v537; // [sp+66Ch] [bp-1D4h]@43
  int v538; // [sp+670h] [bp-1D0h]@43
  int v539; // [sp+674h] [bp-1CCh]@43
  int v540; // [sp+678h] [bp-1C8h]@43
  int v541; // [sp+67Ch] [bp-1C4h]@43
  int v542; // [sp+680h] [bp-1C0h]@31
  int v543; // [sp+684h] [bp-1BCh]@31
  int v544; // [sp+688h] [bp-1B8h]@31
  int v545; // [sp+68Ch] [bp-1B4h]@31
  int v546; // [sp+690h] [bp-1B0h]@31
  int v547; // [sp+694h] [bp-1ACh]@31
  int v548; // [sp+698h] [bp-1A8h]@31
  int v549; // [sp+69Ch] [bp-1A4h]@31
  int v550; // [sp+6A0h] [bp-1A0h]@31
  int v551; // [sp+6A4h] [bp-19Ch]@31
  int v552; // [sp+6A8h] [bp-198h]@31
  int v553; // [sp+6ACh] [bp-194h]@31
  int v554; // [sp+6B0h] [bp-190h]@31
  int v555; // [sp+6B4h] [bp-18Ch]@31
  int v556; // [sp+6B8h] [bp-188h]@31
  int v557; // [sp+6BCh] [bp-184h]@31
  int v558; // [sp+6C0h] [bp-180h]@36
  int v559; // [sp+6C4h] [bp-17Ch]@37
  int v560; // [sp+6C8h] [bp-178h]@37
  int v561; // [sp+6CCh] [bp-174h]@37
  int v562; // [sp+6D0h] [bp-170h]@37
  int v563; // [sp+6D4h] [bp-16Ch]@37
  int v564; // [sp+6D8h] [bp-168h]@37
  int v565; // [sp+6DCh] [bp-164h]@37
  int v566; // [sp+6E0h] [bp-160h]@37
  int v567; // [sp+6E4h] [bp-15Ch]@37
  int v568; // [sp+6E8h] [bp-158h]@37
  int v569; // [sp+6ECh] [bp-154h]@37
  int v570; // [sp+6F0h] [bp-150h]@37
  int v571; // [sp+6F4h] [bp-14Ch]@37
  int v572; // [sp+6F8h] [bp-148h]@37
  int v573; // [sp+6FCh] [bp-144h]@37
  int v574; // [sp+700h] [bp-140h]@112
  unsigned int v575; // [sp+704h] [bp-13Ch]@132
  int v576; // [sp+708h] [bp-138h]@47
  float v577; // [sp+70Ch] [bp-134h]@112
  int v578; // [sp+710h] [bp-130h]@47
  int v579; // [sp+718h] [bp-128h]@47
  unsigned int v580; // [sp+71Ch] [bp-124h]@132
  float v581; // [sp+720h] [bp-120h]@47
  float v582; // [sp+724h] [bp-11Ch]@132
  int v583; // [sp+728h] [bp-118h]@47
  int v584; // [sp+72Ch] [bp-114h]@112
  int v585; // [sp+730h] [bp-110h]@70
  float v586; // [sp+734h] [bp-10Ch]@70
  float v587; // [sp+738h] [bp-108h]@70
  int v588; // [sp+73Ch] [bp-104h]@112
  int v589; // [sp+740h] [bp-100h]@47
  int v590; // [sp+744h] [bp-FCh]@112
  int v591; // [sp+748h] [bp-F8h]@47
  float v592; // [sp+74Ch] [bp-F4h]@47
  float v593; // [sp+750h] [bp-F0h]@47
  int v594; // [sp+754h] [bp-ECh]@47
  int v595; // [sp+758h] [bp-E8h]@47
  int v596; // [sp+75Ch] [bp-E4h]@47
  int v597; // [sp+760h] [bp-E0h]@47
  int v598; // [sp+764h] [bp-DCh]@47
  float v599; // [sp+768h] [bp-D8h]@124
  float v600; // [sp+76Ch] [bp-D4h]@124
  float v601; // [sp+770h] [bp-D0h]@124
  int v602; // [sp+774h] [bp-CCh]@47
  float v603; // [sp+778h] [bp-C8h]@121
  float v604; // [sp+77Ch] [bp-C4h]@121
  int v605; // [sp+780h] [bp-C0h]@121
  int v606; // [sp+784h] [bp-BCh]@71
  float v607; // [sp+788h] [bp-B8h]@71
  float v608; // [sp+78Ch] [bp-B4h]@71
  char v609; // [sp+790h] [bp-B0h]@113
  char v610; // [sp+7A0h] [bp-A0h]@113
  float v611; // [sp+7B0h] [bp-90h]@56
  float v612; // [sp+7B4h] [bp-8Ch]@53
  float v613; // [sp+7B8h] [bp-88h]@50
  float v614; // [sp+7BCh] [bp-84h]@59
  int v615; // [sp+7C0h] [bp-80h]@21
  int v616; // [sp+7C4h] [bp-7Ch]@21
  float v617; // [sp+7C8h] [bp-78h]@119
  float v618; // [sp+7CCh] [bp-74h]@119
  float v619; // [sp+7D0h] [bp-70h]@119
  int v620; // [sp+7D4h] [bp-6Ch]@41
  float v621; // [sp+7D8h] [bp-68h]@42
  float v622; // [sp+7DCh] [bp-64h]@42
  int v623; // [sp+7E0h] [bp-60h]@42
  float v624; // [sp+7E4h] [bp-5Ch]@42
  float v625; // [sp+7E8h] [bp-58h]@42
  float v626; // [sp+7ECh] [bp-54h]@42
  int v627; // [sp+7F0h] [bp-50h]@42
  float v628; // [sp+7F4h] [bp-4Ch]@42
  float v629; // [sp+7F8h] [bp-48h]@42
  float v630; // [sp+7FCh] [bp-44h]@42
  int v631; // [sp+800h] [bp-40h]@42
  float v632; // [sp+804h] [bp-3Ch]@42
  float v633; // [sp+808h] [bp-38h]@42
  float v634; // [sp+80Ch] [bp-34h]@42
  int v635; // [sp+810h] [bp-30h]@42
  int v636; // [sp+814h] [bp-2Ch]@26
  int v637; // [sp+818h] [bp-28h]@21
  float v638; // [sp+81Ch] [bp-24h]@18
  unsigned int v639; // [sp+820h] [bp-20h]@18
  int v640; // [sp+824h] [bp-1Ch]@26
  char v641; // [sp+82Bh] [bp-15h]@23
  int v642; // [sp+82Ch] [bp-14h]@1
  int *v643; // [sp+830h] [bp-10h]@1
  int v644; // [sp+83Ch] [bp-4h]@1

  v4 = *(_DWORD *)a4;
  v5 = 0;
  v6 = *(_DWORD *)a4 < 0;
  v643 = &v268;
  v642 = (int)this;
  v644 = 0;
  if ( !v6 )
  {
    v8 = a3;
LABEL_18:
    v638 = GEngineTime;
    v13 = (unsigned int)dword_10072398;
    *(float *)&v639 = fmod(GEngineTime, 120.0);
    v14 = 4;
    for ( i = &v280; ; i += 8 )
    {
      --v14;
      if ( v14 < 0 )
        break;
      *(_DWORD *)i = v13;
      *((_DWORD *)i + 1) = -1;
    }
    v16 = 0;
    v637 = v5;
    v616 = v5;
    v615 = 0;
    if ( GCubemapManager != (void *)v5 )
    {
      v16 = *((_DWORD *)GCubemapManager + 11);
      v615 = *((_DWORD *)GCubemapManager + 11);
    }
    v641 = 0;
    if ( v16 != v5 )
    {
      v17 = *(_DWORD *)(v16 + 100);
      if ( !(BYTE1(v17) & 0x20) )
        v641 = 1;
    }
    v18 = a2;
    v640 = v5;
    v636 = v5;
    while ( 1 )
    {
      result = a4;
      if ( v5 >= *(_DWORD *)a4 )
        return result;
      v19 = v8 + 20 * v5;
      switch ( *(_BYTE *)(v8 + 20 * v5) )
      {
        case 1:
          v8 = a3;
          v20 = v19 + 4;
          v21 = v18 + 16 * v5;
          *(_DWORD *)v21 = *(_DWORD *)v20;
          *(_DWORD *)(v21 + 4) = *(_DWORD *)(v20 + 4);
          *(_DWORD *)(v21 + 8) = *(_DWORD *)(v20 + 8);
          *(_DWORD *)(v21 + 12) = *(_DWORD *)(v20 + 12);
          ++v5;
          continue;
        case 2:
          v22 = *(_DWORD *)(v642 + 39948);
          v23 = *(float *)(v22 + 192) * *(float *)(v22 + 112);
          v430 = (float)((float)((float)(*(float *)(v22 + 204) * *(float *)(v22 + 116))
                               + (float)(*(float *)(v22 + 188) * *(float *)(v22 + 112)))
                       + (float)(*(float *)(v22 + 108) * *(float *)(v22 + 172)))
               + (float)(*(float *)(v22 + 120) * *(float *)(v22 + 220));
          v24 = (float)((float)((float)(*(float *)(v22 + 224) * *(float *)(v22 + 120)) + v23)
                      + (float)(*(float *)(v22 + 176) * *(float *)(v22 + 108)))
              + (float)(*(float *)(v22 + 208) * *(float *)(v22 + 116));
          v25 = *(float *)(v22 + 196) * *(float *)(v22 + 112);
          v431 = v24;
          v26 = (float)((float)((float)(*(float *)(v22 + 120) * *(float *)(v22 + 228)) + v25)
                      + (float)(*(float *)(v22 + 180) * *(float *)(v22 + 108)))
              + (float)(*(float *)(v22 + 212) * *(float *)(v22 + 116));
          v27 = *(float *)(v22 + 216) * *(float *)(v22 + 116);
          v432 = v26;
          v28 = (float)((float)((float)(*(float *)(v22 + 108) * *(float *)(v22 + 184)) + v27)
                      + (float)(*(float *)(v22 + 232) * *(float *)(v22 + 120)))
              + (float)(*(float *)(v22 + 200) * *(float *)(v22 + 112));
          v29 = *(float *)(v22 + 136) * *(float *)(v22 + 220);
          v433 = v28;
          v30 = (float)((float)((float)(*(float *)(v22 + 204) * *(float *)(v22 + 132)) + v29)
                      + (float)(*(float *)(v22 + 188) * *(float *)(v22 + 128)))
              + (float)(*(float *)(v22 + 124) * *(float *)(v22 + 172));
          v31 = *(float *)(v22 + 128) * *(float *)(v22 + 192);
          v434 = v30;
          v32 = (float)((float)((float)(*(float *)(v22 + 176) * *(float *)(v22 + 124)) + v31)
                      + (float)(*(float *)(v22 + 136) * *(float *)(v22 + 224)))
              + (float)(*(float *)(v22 + 132) * *(float *)(v22 + 208));
          v33 = *(float *)(v22 + 136) * *(float *)(v22 + 228);
          v435 = v32;
          v436 = (float)((float)((float)(*(float *)(v22 + 180) * *(float *)(v22 + 124)) + v33)
                       + (float)(*(float *)(v22 + 132) * *(float *)(v22 + 212)))
               + (float)(*(float *)(v22 + 128) * *(float *)(v22 + 196));
          v34 = *(float *)(v22 + 152) * *(float *)(v22 + 220);
          v437 = (float)((float)((float)(*(float *)(v22 + 232) * *(float *)(v22 + 136))
                               + (float)(*(float *)(v22 + 216) * *(float *)(v22 + 132)))
                       + (float)(*(float *)(v22 + 128) * *(float *)(v22 + 200)))
               + (float)(*(float *)(v22 + 184) * *(float *)(v22 + 124));
          v35 = (float)((float)((float)(*(float *)(v22 + 204) * *(float *)(v22 + 148)) + v34)
                      + (float)(*(float *)(v22 + 188) * *(float *)(v22 + 144)))
              + (float)(*(float *)(v22 + 140) * *(float *)(v22 + 172));
          v36 = *(float *)(v22 + 144) * *(float *)(v22 + 192);
          v438 = v35;
          v37 = (float)((float)((float)(*(float *)(v22 + 176) * *(float *)(v22 + 140)) + v36)
                      + (float)(*(float *)(v22 + 152) * *(float *)(v22 + 224)))
              + (float)(*(float *)(v22 + 148) * *(float *)(v22 + 208));
          v38 = *(float *)(v22 + 152) * *(float *)(v22 + 228);
          v439 = v37;
          v39 = (float)((float)((float)(*(float *)(v22 + 180) * *(float *)(v22 + 140)) + v38)
                      + (float)(*(float *)(v22 + 148) * *(float *)(v22 + 212)))
              + (float)(*(float *)(v22 + 144) * *(float *)(v22 + 196));
          v40 = *(float *)(v22 + 216) * *(float *)(v22 + 148);
          v440 = v39;
          v41 = (float)((float)((float)(*(float *)(v22 + 232) * *(float *)(v22 + 152)) + v40)
                      + (float)(*(float *)(v22 + 144) * *(float *)(v22 + 200)))
              + (float)(*(float *)(v22 + 184) * *(float *)(v22 + 140));
          v42 = *(float *)(v22 + 168) * *(float *)(v22 + 220);
          v441 = v41;
          v43 = (float)((float)((float)(*(float *)(v22 + 204) * *(float *)(v22 + 164)) + v42)
                      + (float)(*(float *)(v22 + 188) * *(float *)(v22 + 160)))
              + (float)(*(float *)(v22 + 156) * *(float *)(v22 + 172));
          v44 = *(float *)(v22 + 160) * *(float *)(v22 + 192);
          v442 = v43;
          v45 = (float)((float)((float)(*(float *)(v22 + 176) * *(float *)(v22 + 156)) + v44)
                      + (float)(*(float *)(v22 + 168) * *(float *)(v22 + 224)))
              + (float)(*(float *)(v22 + 164) * *(float *)(v22 + 208));
          v46 = *(float *)(v22 + 168) * *(float *)(v22 + 228);
          v443 = v45;
          v47 = (float)((float)((float)(*(float *)(v22 + 180) * *(float *)(v22 + 156)) + v46)
                      + (float)(*(float *)(v22 + 164) * *(float *)(v22 + 212)))
              + (float)(*(float *)(v22 + 160) * *(float *)(v22 + 196));
          v48 = *(float *)(v22 + 216) * *(float *)(v22 + 164);
          v444 = v47;
          v445 = (float)((float)((float)(*(float *)(v22 + 232) * *(float *)(v22 + 168)) + v48)
                       + (float)(*(float *)(v22 + 160) * *(float *)(v22 + 200)))
               + (float)(*(float *)(v22 + 184) * *(float *)(v22 + 156));
          memcpy(&v494, &v430, 0x40u);
          v302 = v494;
          v303 = v498;
          v304 = v502;
          v305 = v506;
          v306 = v495;
          v307 = v499;
          v308 = v503;
          v309 = v507;
          v310 = v496;
          v311 = v500;
          v312 = v504;
          v313 = v508;
          v314 = v497;
          v315 = v501;
          v316 = v505;
          v317 = v509;
          memcpy(&v494, &v302, 0x40u);
          v49 = &v494;
          goto LABEL_44;
        case 3:
          v50 = *(_DWORD *)(v642 + 39948);
          v51 = *(float *)(v50 + 44) * *(float *)(v50 + 112);
          v462 = (float)((float)((float)(*(float *)(v50 + 56) * *(float *)(v50 + 156))
                               + (float)(*(float *)(v50 + 140) * *(float *)(v50 + 52)))
                       + (float)(*(float *)(v50 + 124) * *(float *)(v50 + 48)))
               + (float)(*(float *)(v50 + 44) * *(float *)(v50 + 108));
          v52 = (float)((float)((float)(*(float *)(v50 + 56) * *(float *)(v50 + 160)) + v51)
                      + (float)(*(float *)(v50 + 52) * *(float *)(v50 + 144)))
              + (float)(*(float *)(v50 + 48) * *(float *)(v50 + 128));
          v53 = *(float *)(v50 + 48) * *(float *)(v50 + 132);
          v463 = v52;
          v54 = (float)((float)((float)(*(float *)(v50 + 148) * *(float *)(v50 + 52)) + v53)
                      + (float)(*(float *)(v50 + 44) * *(float *)(v50 + 116)))
              + (float)(*(float *)(v50 + 56) * *(float *)(v50 + 164));
          v55 = *(float *)(v50 + 44) * *(float *)(v50 + 120);
          v464 = v54;
          v56 = (float)((float)((float)(*(float *)(v50 + 56) * *(float *)(v50 + 168)) + v55)
                      + (float)(*(float *)(v50 + 136) * *(float *)(v50 + 48)))
              + (float)(*(float *)(v50 + 52) * *(float *)(v50 + 152));
          v57 = *(float *)(v50 + 60) * *(float *)(v50 + 108);
          v465 = v56;
          v58 = (float)((float)((float)(*(float *)(v50 + 124) * *(float *)(v50 + 64)) + v57)
                      + (float)(*(float *)(v50 + 140) * *(float *)(v50 + 68)))
              + (float)(*(float *)(v50 + 72) * *(float *)(v50 + 156));
          v59 = *(float *)(v50 + 72) * *(float *)(v50 + 160);
          v466 = v58;
          v60 = (float)((float)((float)(*(float *)(v50 + 60) * *(float *)(v50 + 112)) + v59)
                      + (float)(*(float *)(v50 + 68) * *(float *)(v50 + 144)))
              + (float)(*(float *)(v50 + 64) * *(float *)(v50 + 128));
          v61 = *(float *)(v50 + 164) * *(float *)(v50 + 72);
          v467 = v60;
          v468 = (float)((float)((float)(*(float *)(v50 + 64) * *(float *)(v50 + 132)) + v61)
                       + (float)(*(float *)(v50 + 148) * *(float *)(v50 + 68)))
               + (float)(*(float *)(v50 + 60) * *(float *)(v50 + 116));
          v62 = *(float *)(v50 + 76) * *(float *)(v50 + 108);
          v469 = (float)((float)((float)(*(float *)(v50 + 60) * *(float *)(v50 + 120))
                               + (float)(*(float *)(v50 + 136) * *(float *)(v50 + 64)))
                       + (float)(*(float *)(v50 + 168) * *(float *)(v50 + 72)))
               + (float)(*(float *)(v50 + 152) * *(float *)(v50 + 68));
          v63 = (float)((float)((float)(*(float *)(v50 + 124) * *(float *)(v50 + 80)) + v62)
                      + (float)(*(float *)(v50 + 140) * *(float *)(v50 + 84)))
              + (float)(*(float *)(v50 + 88) * *(float *)(v50 + 156));
          v64 = *(float *)(v50 + 88) * *(float *)(v50 + 160);
          v470 = v63;
          v65 = (float)((float)((float)(*(float *)(v50 + 76) * *(float *)(v50 + 112)) + v64)
                      + (float)(*(float *)(v50 + 84) * *(float *)(v50 + 144)))
              + (float)(*(float *)(v50 + 80) * *(float *)(v50 + 128));
          v66 = *(float *)(v50 + 164) * *(float *)(v50 + 88);
          v471 = v65;
          v67 = (float)((float)((float)(*(float *)(v50 + 80) * *(float *)(v50 + 132)) + v66)
                      + (float)(*(float *)(v50 + 148) * *(float *)(v50 + 84)))
              + (float)(*(float *)(v50 + 76) * *(float *)(v50 + 116));
          v68 = *(float *)(v50 + 136) * *(float *)(v50 + 80);
          v472 = v67;
          v69 = (float)((float)((float)(*(float *)(v50 + 76) * *(float *)(v50 + 120)) + v68)
                      + (float)(*(float *)(v50 + 168) * *(float *)(v50 + 88)))
              + (float)(*(float *)(v50 + 152) * *(float *)(v50 + 84));
          v70 = *(float *)(v50 + 92) * *(float *)(v50 + 108);
          v473 = v69;
          v71 = (float)((float)((float)(*(float *)(v50 + 124) * *(float *)(v50 + 96)) + v70)
                      + (float)(*(float *)(v50 + 140) * *(float *)(v50 + 100)))
              + (float)(*(float *)(v50 + 104) * *(float *)(v50 + 156));
          v72 = *(float *)(v50 + 104) * *(float *)(v50 + 160);
          v474 = v71;
          v73 = (float)((float)((float)(*(float *)(v50 + 92) * *(float *)(v50 + 112)) + v72)
                      + (float)(*(float *)(v50 + 100) * *(float *)(v50 + 144)))
              + (float)(*(float *)(v50 + 96) * *(float *)(v50 + 128));
          v74 = *(float *)(v50 + 164) * *(float *)(v50 + 104);
          v475 = v73;
          v75 = (float)((float)((float)(*(float *)(v50 + 96) * *(float *)(v50 + 132)) + v74)
                      + (float)(*(float *)(v50 + 148) * *(float *)(v50 + 100)))
              + (float)(*(float *)(v50 + 92) * *(float *)(v50 + 116));
          v76 = *(float *)(v50 + 136) * *(float *)(v50 + 96);
          v476 = v75;
          v77 = (float)((float)(*(float *)(v50 + 92) * *(float *)(v50 + 120)) + v76)
              + (float)(*(float *)(v50 + 168) * *(float *)(v50 + 104));
          v78 = *(float *)(v50 + 152) * *(float *)(v50 + 100);
          v50 += 172;
          v477 = v77 + v78;
          memcpy(&v334, &v462, 0x40u);
          v366 = (float)((float)((float)(v335 * *(float *)(v50 + 16)) + (float)(v336 * *(float *)(v50 + 32)))
                       + (float)(v334 * *(float *)v50))
               + (float)(v337 * *(float *)(v50 + 48));
          v367 = (float)((float)((float)(*(float *)(v50 + 52) * v337) + (float)(v334 * *(float *)(v50 + 4)))
                       + (float)(v335 * *(float *)(v50 + 20)))
               + (float)(v336 * *(float *)(v50 + 36));
          v79 = v334 * *(float *)(v50 + 12);
          v80 = v335 * *(float *)(v50 + 28);
          v81 = v336 * *(float *)(v50 + 44);
          v368 = (float)((float)((float)(v337 * *(float *)(v50 + 56)) + (float)(v334 * *(float *)(v50 + 8)))
                       + (float)(v335 * *(float *)(v50 + 24)))
               + (float)(v336 * *(float *)(v50 + 40));
          v369 = (float)((float)(v79 + v80) + v81) + (float)(v337 * *(float *)(v50 + 60));
          v370 = (float)((float)((float)(v338 * *(float *)v50) + (float)(v339 * *(float *)(v50 + 16)))
                       + (float)(v340 * *(float *)(v50 + 32)))
               + (float)(v341 * *(float *)(v50 + 48));
          v371 = (float)((float)((float)(*(float *)(v50 + 52) * v341) + (float)(v338 * *(float *)(v50 + 4)))
                       + (float)(v339 * *(float *)(v50 + 20)))
               + (float)(v340 * *(float *)(v50 + 36));
          v82 = v338 * *(float *)(v50 + 12);
          v83 = v341 * *(float *)(v50 + 60);
          v84 = v339 * *(float *)(v50 + 28);
          v85 = v340 * *(float *)(v50 + 44);
          v372 = (float)((float)((float)(*(float *)(v50 + 8) * v338) + (float)(v341 * *(float *)(v50 + 56)))
                       + (float)(v339 * *(float *)(v50 + 24)))
               + (float)(v340 * *(float *)(v50 + 40));
          v373 = (float)((float)(v82 + v84) + v85) + v83;
          v374 = (float)((float)((float)(v342 * *(float *)v50) + (float)(v343 * *(float *)(v50 + 16)))
                       + (float)(v344 * *(float *)(v50 + 32)))
               + (float)(v345 * *(float *)(v50 + 48));
          v375 = (float)((float)((float)(*(float *)(v50 + 52) * v345) + (float)(v342 * *(float *)(v50 + 4)))
                       + (float)(v343 * *(float *)(v50 + 20)))
               + (float)(v344 * *(float *)(v50 + 36));
          v86 = (float)((float)((float)(v342 * *(float *)(v50 + 12)) + (float)(v343 * *(float *)(v50 + 28)))
                      + (float)(v344 * *(float *)(v50 + 44)))
              + (float)(v345 * *(float *)(v50 + 60));
          v376 = (float)((float)((float)(*(float *)(v50 + 8) * v342) + (float)(v345 * *(float *)(v50 + 56)))
                       + (float)(v343 * *(float *)(v50 + 24)))
               + (float)(v344 * *(float *)(v50 + 40));
          v377 = v86;
          v378 = (float)((float)((float)(v346 * *(float *)v50) + (float)(v347 * *(float *)(v50 + 16)))
                       + (float)(v348 * *(float *)(v50 + 32)))
               + (float)(v349 * *(float *)(v50 + 48));
          v379 = (float)((float)((float)(*(float *)(v50 + 52) * v349) + (float)(v346 * *(float *)(v50 + 4)))
                       + (float)(v347 * *(float *)(v50 + 20)))
               + (float)(v348 * *(float *)(v50 + 36));
          v87 = (float)((float)(*(float *)(v50 + 8) * v346) + (float)(v349 * *(float *)(v50 + 56)))
              + (float)(v347 * *(float *)(v50 + 24));
          v88 = v348 * *(float *)(v50 + 40);
          v381 = (float)((float)((float)(v346 * *(float *)(v50 + 12)) + (float)(v347 * *(float *)(v50 + 28)))
                       + (float)(v348 * *(float *)(v50 + 44)))
               + (float)(v349 * *(float *)(v50 + 60));
          v380 = v87 + v88;
          memcpy(&v542, &v366, 0x40u);
          v446 = v542;
          v447 = v546;
          v448 = v550;
          v449 = v554;
          v450 = v543;
          v451 = v547;
          v452 = v551;
          v453 = v555;
          v454 = v544;
          v455 = v548;
          v456 = v552;
          v457 = v556;
          v458 = v545;
          v459 = v549;
          v460 = v553;
          v461 = v557;
          memcpy(&v542, &v446, 0x40u);
          v49 = &v542;
          goto LABEL_44;
        case 5:
          if ( !v636 )
          {
            if ( GIsEditor )
              v89 = FMatrix::Inverse(*(_DWORD *)(v642 + 39948) + 108, &v277);
            else
              v89 = *(_DWORD *)(*(_DWORD *)(v642 + 8) + 388) + 84;
            memcpy(&v558, (const void *)v89, 0x40u);
            v636 = 1;
          }
          v414 = v558;
          v415 = v562;
          v416 = v566;
          v417 = v570;
          v418 = v559;
          v419 = v563;
          v420 = v567;
          v421 = v571;
          v422 = v560;
          v423 = v564;
          v424 = v568;
          v425 = v572;
          v426 = v561;
          v427 = v565;
          v428 = v569;
          v429 = v573;
          memcpy(&v270, &v414, 0x40u);
          v49 = &v270;
          goto LABEL_44;
        case 6:
          memcpy(&v510, (const void *)(*(_DWORD *)(v642 + 39948) + 108), 0x40u);
          v382 = v510;
          v383 = v514;
          v384 = v518;
          v385 = v522;
          v386 = v511;
          v387 = v515;
          v388 = v519;
          v389 = v523;
          v390 = v512;
          v391 = v516;
          v392 = v520;
          v393 = v524;
          v394 = v513;
          v395 = v517;
          v396 = v521;
          v397 = v525;
          memcpy(&v510, &v382, 0x40u);
          v49 = &v510;
          goto LABEL_44;
        case 4:
          memcpy(&v478, (const void *)(*(_DWORD *)(v642 + 39948) + 44), 0x40u);
          v350 = v478;
          v351 = v482;
          v352 = v486;
          v353 = v490;
          v354 = v479;
          v355 = v483;
          v356 = v487;
          v357 = v491;
          v358 = v480;
          v359 = v484;
          v360 = v488;
          v361 = v492;
          v362 = v481;
          v363 = v485;
          v364 = v489;
          v365 = v493;
          memcpy(&v478, &v350, 0x40u);
          v49 = &v478;
          goto LABEL_44;
        case 7:
          if ( !v640 )
          {
            memcpy(&v620, (const void *)FMatrix::Inverse(*(_DWORD *)(v642 + 39948) + 44, &v278), 0x40u);
            v640 = 1;
          }
          v318 = v620;
          v319 = v624;
          v320 = v628;
          v321 = v632;
          v322 = v621;
          v323 = v625;
          v324 = v629;
          v325 = v633;
          v326 = v622;
          v327 = v626;
          v328 = v630;
          v329 = v634;
          v330 = v623;
          v331 = v627;
          v332 = v631;
          v333 = v635;
          memcpy(&v269, &v318, 0x40u);
          v49 = &v269;
          goto LABEL_44;
        case 0x20:
          v90 = *(_DWORD *)(v642 + 39948);
          v91 = *(float *)(v90 + 144) * *(float *)(v90 + 52);
          v286 = (float)((float)((float)(*(float *)(v90 + 44) * *(float *)(v90 + 108))
                               + (float)(*(float *)(v90 + 56) * *(float *)(v90 + 156)))
                       + (float)(*(float *)(v90 + 52) * *(float *)(v90 + 140)))
               + (float)(*(float *)(v90 + 48) * *(float *)(v90 + 124));
          v92 = (float)((float)((float)(*(float *)(v90 + 44) * *(float *)(v90 + 112)) + v91)
                      + (float)(*(float *)(v90 + 48) * *(float *)(v90 + 128)))
              + (float)(*(float *)(v90 + 160) * *(float *)(v90 + 56));
          v93 = *(float *)(v90 + 56) * *(float *)(v90 + 164);
          v287 = v92;
          v94 = (float)((float)((float)(*(float *)(v90 + 132) * *(float *)(v90 + 48)) + v93)
                      + (float)(*(float *)(v90 + 148) * *(float *)(v90 + 52)))
              + (float)(*(float *)(v90 + 44) * *(float *)(v90 + 116));
          v95 = *(float *)(v90 + 136) * *(float *)(v90 + 48);
          v288 = v94;
          v96 = (float)((float)((float)(*(float *)(v90 + 120) * *(float *)(v90 + 44)) + v95)
                      + (float)(*(float *)(v90 + 56) * *(float *)(v90 + 168)))
              + (float)(*(float *)(v90 + 52) * *(float *)(v90 + 152));
          v97 = *(float *)(v90 + 156) * *(float *)(v90 + 72);
          v289 = v96;
          v98 = (float)((float)((float)(*(float *)(v90 + 124) * *(float *)(v90 + 64)) + v97)
                      + (float)(*(float *)(v90 + 140) * *(float *)(v90 + 68)))
              + (float)(*(float *)(v90 + 60) * *(float *)(v90 + 108));
          v99 = *(float *)(v90 + 144) * *(float *)(v90 + 68);
          v290 = v98;
          v100 = (float)((float)((float)(*(float *)(v90 + 160) * *(float *)(v90 + 72)) + v99)
                       + (float)(*(float *)(v90 + 64) * *(float *)(v90 + 128)))
               + (float)(*(float *)(v90 + 60) * *(float *)(v90 + 112));
          v101 = *(float *)(v90 + 148) * *(float *)(v90 + 68);
          v291 = v100;
          v292 = (float)((float)((float)(*(float *)(v90 + 164) * *(float *)(v90 + 72)) + v101)
                       + (float)(*(float *)(v90 + 60) * *(float *)(v90 + 116)))
               + (float)(*(float *)(v90 + 132) * *(float *)(v90 + 64));
          v102 = *(float *)(v90 + 156) * *(float *)(v90 + 88);
          v293 = (float)((float)((float)(*(float *)(v90 + 120) * *(float *)(v90 + 60))
                               + (float)(*(float *)(v90 + 168) * *(float *)(v90 + 72)))
                       + (float)(*(float *)(v90 + 152) * *(float *)(v90 + 68)))
               + (float)(*(float *)(v90 + 136) * *(float *)(v90 + 64));
          v103 = (float)((float)((float)(*(float *)(v90 + 124) * *(float *)(v90 + 80)) + v102)
                       + (float)(*(float *)(v90 + 140) * *(float *)(v90 + 84)))
               + (float)(*(float *)(v90 + 76) * *(float *)(v90 + 108));
          v104 = *(float *)(v90 + 144) * *(float *)(v90 + 84);
          v294 = v103;
          v105 = (float)((float)((float)(*(float *)(v90 + 160) * *(float *)(v90 + 88)) + v104)
                       + (float)(*(float *)(v90 + 80) * *(float *)(v90 + 128)))
               + (float)(*(float *)(v90 + 76) * *(float *)(v90 + 112));
          v106 = *(float *)(v90 + 148) * *(float *)(v90 + 84);
          v295 = v105;
          v107 = (float)((float)((float)(*(float *)(v90 + 164) * *(float *)(v90 + 88)) + v106)
                       + (float)(*(float *)(v90 + 76) * *(float *)(v90 + 116)))
               + (float)(*(float *)(v90 + 132) * *(float *)(v90 + 80));
          v108 = *(float *)(v90 + 168) * *(float *)(v90 + 88);
          v296 = v107;
          v109 = (float)((float)((float)(*(float *)(v90 + 120) * *(float *)(v90 + 76)) + v108)
                       + (float)(*(float *)(v90 + 152) * *(float *)(v90 + 84)))
               + (float)(*(float *)(v90 + 136) * *(float *)(v90 + 80));
          v110 = *(float *)(v90 + 156) * *(float *)(v90 + 104);
          v297 = v109;
          v111 = (float)((float)((float)(*(float *)(v90 + 124) * *(float *)(v90 + 96)) + v110)
                       + (float)(*(float *)(v90 + 140) * *(float *)(v90 + 100)))
               + (float)(*(float *)(v90 + 92) * *(float *)(v90 + 108));
          v112 = *(float *)(v90 + 144) * *(float *)(v90 + 100);
          v298 = v111;
          v113 = (float)((float)((float)(*(float *)(v90 + 160) * *(float *)(v90 + 104)) + v112)
                       + (float)(*(float *)(v90 + 96) * *(float *)(v90 + 128)))
               + (float)(*(float *)(v90 + 92) * *(float *)(v90 + 112));
          v114 = *(float *)(v90 + 148) * *(float *)(v90 + 100);
          v299 = v113;
          v115 = (float)((float)((float)(*(float *)(v90 + 164) * *(float *)(v90 + 104)) + v114)
                       + (float)(*(float *)(v90 + 92) * *(float *)(v90 + 116)))
               + (float)(*(float *)(v90 + 132) * *(float *)(v90 + 96));
          v116 = *(float *)(v90 + 168) * *(float *)(v90 + 104);
          v300 = v115;
          v301 = (float)((float)((float)(*(float *)(v90 + 120) * *(float *)(v90 + 92)) + v116)
                       + (float)(*(float *)(v90 + 152) * *(float *)(v90 + 100)))
               + (float)(*(float *)(v90 + 136) * *(float *)(v90 + 96));
          memcpy(&v526, &v286, 0x40u);
          v398 = v526;
          v399 = v530;
          v400 = v534;
          v401 = v538;
          v402 = v527;
          v403 = v531;
          v404 = v535;
          v405 = v539;
          v406 = v528;
          v407 = v532;
          v408 = v536;
          v409 = v540;
          v410 = v529;
          v411 = v533;
          v412 = v537;
          v413 = v541;
          memcpy(&v526, &v398, 0x40u);
          v49 = &v526;
LABEL_44:
          memcpy((void *)(a2 + 16 * v5), v49, 0x40u);
          v8 = a3;
          v18 = a2;
          v5 += 4;
          continue;
        case 0x1E:
          if ( v615 )
          {
            v117 = *(_DWORD *)(v615 + 440);
            v118 = *(_DWORD *)(v615 + 444);
            v119 = v18 + 16 * v5;
            *(_DWORD *)v119 = *(_DWORD *)(v615 + 436);
            *(_DWORD *)(v119 + 4) = v117;
            v271 = 0;
            *(_DWORD *)(v119 + 8) = v118;
            *(_DWORD *)(v119 + 12) = 0;
            v8 = a3;
            ++v5;
          }
          else
          {
            v120 = v642;
            v121 = *(_DWORD *)(v642 + 39948);
            v122 = (unsigned int)dword_1006FEFC;
            v123 = (unsigned int)dword_1006FA5C;
            v593 = (float)((float)(*(float *)(v121 + 48) * *(float *)(v121 + 48))
                         + (float)(*(float *)(v121 + 52) * *(float *)(v121 + 52)))
                 + (float)(*(float *)(v121 + 44) * *(float *)(v121 + 44));
            v589 = 0;
            v591 = dword_1006FEFC;
            v597 = dword_1006FA5C;
            v124 = fsqrt(v593);
            v125 = (__m128)(unsigned int)dword_1006FEFC;
            v126 = 0;
            LODWORD(v126.m128_f32[0]) = -(v593 == 0.0);
            v125.m128_f32[0] = (float)((float)(3.0 - (float)((float)((float)(1.0 / v124) * v593) * (float)(1.0 / v124)))
                                     * (float)((float)(1.0 / v124) * 0.5))
                             * v593;
            v595 = (unsigned __int128)_mm_and_ps(v125, v126);
            *(_DWORD *)(16 * v5 + v18) = v595;
            v127 = *(_DWORD *)(v120 + 39948);
            v128 = v18 + 16 * v5;
            v581 = (float)((float)(*(float *)(v127 + 60) * *(float *)(v127 + 60))
                         + (float)(*(float *)(v127 + 64) * *(float *)(v127 + 64)))
                 + (float)(*(float *)(v127 + 68) * *(float *)(v127 + 68));
            v602 = 0;
            v598 = v122;
            v583 = v123;
            v129 = fsqrt(v581);
            v130 = (__m128)(unsigned int)v122;
            v131 = 0;
            LODWORD(v131.m128_f32[0]) = -(v581 == 0.0);
            v130.m128_f32[0] = (float)((float)(*(float *)&v122
                                             - (float)((float)((float)(1.0 / v129) * v581) * (float)(1.0 / v129)))
                                     * (float)((float)(1.0 / v129) * *(float *)&v123))
                             * v581;
            v596 = (unsigned __int128)_mm_and_ps(v130, v131);
            *(_DWORD *)(v128 + 4) = v596;
            v132 = *(_DWORD *)(v120 + 39948);
            v592 = (float)((float)(*(float *)(v132 + 76) * *(float *)(v132 + 76))
                         + (float)(*(float *)(v132 + 80) * *(float *)(v132 + 80)))
                 + (float)(*(float *)(v132 + 84) * *(float *)(v132 + 84));
            v579 = 0;
            v578 = v122;
            v594 = v123;
            v133 = 1.0 / fsqrt(v592);
            v134 = (__m128)(unsigned int)v122;
            v135 = 0;
            LODWORD(v135.m128_f32[0]) = -(v592 == 0.0);
            v134.m128_f32[0] = (float)((float)(*(float *)&v122 - (float)((float)(v133 * v592) * v133))
                                     * (float)(v133 * *(float *)&v123))
                             * v592;
            v576 = (unsigned __int128)_mm_and_ps(v134, v135);
            v8 = a3;
            *(_DWORD *)(v128 + 8) = v576;
            *(_DWORD *)(v128 + 12) = dword_1006F9A0;
            ++v5;
          }
          continue;
        case 0x1F:
          v136 = v642;
          v137 = *(_DWORD *)(v642 + 39948);
          v138 = *(float *)(v137 + 756) - *(float *)(v137 + 752);
          v139 = (unsigned int)dword_1006F9A0;
          v8 = a3;
          v140 = v18 + 16 * v5;
          *(_DWORD *)v140 = *(_DWORD *)(v137 + 752);
          *(_DWORD *)(v140 + 4) = *(_DWORD *)(*(_DWORD *)(v136 + 39948) + 756);
          *(float *)&v139 = *(float *)&v139 / v138;
          *(float *)(v140 + 8) = *(float *)(*(_DWORD *)(v136 + 39948) + 756) * *(float *)&v139;
          *(_DWORD *)(v140 + 12) = v139;
          ++v5;
          continue;
        case 8:
          v141 = v639;
          v142 = v18 + 16 * v5;
          goto LABEL_131;
        case 9:
          LODWORD(v613) = dword_1006F9A0;
          __asm { lahf }
          if ( __SETP__(_AH & 0x44, 0) )
            LODWORD(v613) = *(_DWORD *)(v19 + 4);
          v8 = a3;
          v144 = 16 * v5 + v18;
          v145 = cos(v613 * *(float *)&v639);
          ++v5;
          *(float *)v144 = v145;
          *(float *)(v144 + 4) = v145;
          *(float *)(v144 + 8) = v145;
          *(float *)(v144 + 12) = v145;
          continue;
        case 0xA:
          LODWORD(v612) = dword_1006F9A0;
          __asm { lahf }
          if ( __SETP__(_AH & 0x44, 0) )
            LODWORD(v612) = *(_DWORD *)(v19 + 4);
          v8 = a3;
          v147 = 16 * v5 + v18;
          v148 = sin(v612 * *(float *)&v639);
          ++v5;
          *(float *)v147 = v148;
          *(float *)(v147 + 4) = v148;
          *(float *)(v147 + 8) = v148;
          *(float *)(v147 + 12) = v148;
          continue;
        case 0xB:
          LODWORD(v611) = dword_1006F9A0;
          __asm { lahf }
          if ( __SETP__(_AH & 0x44, 0) )
            LODWORD(v611) = *(_DWORD *)(v19 + 4);
          v8 = a3;
          v150 = v18 + 16 * v5;
          v151 = tan(v611 * *(float *)&v639);
          ++v5;
          *(float *)v150 = v151;
          *(float *)(v150 + 4) = v151;
          *(float *)(v150 + 8) = v151;
          *(float *)(v150 + 12) = v151;
          continue;
        case 0x22:
          v614 = *(float *)(v19 + 4) * *(float *)&v639;
          v152 = cos(v614);
          v8 = a3;
          v153 = 16 * v5 + v18;
          *(_DWORD *)(v153 + 8) = 0;
          *(_DWORD *)(v153 + 12) = 0;
          *(_DWORD *)(v153 + 24) = 0;
          *(_DWORD *)(v153 + 28) = 0;
          v5 += 2;
          v154 = sin(v614);
          *(float *)v153 = v152;
          *(float *)(v153 + 4) = -v154;
          *(float *)(v153 + 16) = v154;
          *(float *)(v153 + 20) = v152;
          continue;
        case 0xC:
          if ( !v636 )
          {
            if ( GIsEditor || (v155 = *(_DWORD *)(*(_DWORD *)(v642 + 8) + 388)) == 0 )
              v156 = FMatrix::Inverse(*(_DWORD *)(v642 + 39948) + 108, &v276);
            else
              v156 = v155 + 84;
            memcpy(&v558, (const void *)v156, 0x40u);
            v18 = a2;
            v636 = 1;
          }
          v8 = a3;
          v157 = 16 * v5 + v18;
          *(_DWORD *)v157 = v570;
          *(_DWORD *)(v157 + 4) = v571;
          *(_DWORD *)(v157 + 8) = v572;
          *(_DWORD *)(v157 + 12) = v573;
          ++v5;
          continue;
        case 0x21:
          if ( !v640 )
          {
            memcpy(&v620, (const void *)FMatrix::Inverse(*(_DWORD *)(v642 + 39948) + 44, &v279), 0x40u);
            v18 = a2;
            v640 = 1;
          }
          if ( GIsEditor )
          {
            v158 = *(_DWORD *)(*(_DWORD *)(v642 + 8) + 48);
            v159 = (float)((float)((float)(*(float *)&v620 * *(float *)(v158 + 312))
                                 + (float)(v628 * *(float *)(v158 + 320)))
                         + (float)(v624 * *(float *)(v158 + 316)))
                 + v632;
            v160 = v629 * *(float *)(v158 + 320);
            v158 += 312;
            v585 = LODWORD(v159);
            v161 = (float)((float)((float)(v621 * *(float *)v158) + v160) + (float)(v625 * *(float *)(v158 + 4))) + v633;
            v162 = v630 * *(float *)(v158 + 8);
            v586 = v161;
            v163 = v161;
            v164 = (float)(v622 * *(float *)v158) + v162;
            v165 = v626 * *(float *)(v158 + 4);
            v166 = v585;
            v587 = (float)(v164 + v165) + v634;
            v167 = (float)(v164 + v165) + v634;
          }
          else
          {
            v168 = *(_DWORD *)(*(_DWORD *)(v642 + 8) + 388);
            v169 = (float)((float)((float)(v628 * *(float *)(v168 + 412)) + (float)(v624 * *(float *)(v168 + 408)))
                         + (float)(*(float *)(v168 + 404) * *(float *)&v620))
                 + v632;
            v170 = v625 * *(float *)(v168 + 408);
            v168 += 404;
            v606 = LODWORD(v169);
            v171 = (float)((float)((float)(v629 * *(float *)(v168 + 8)) + v170) + (float)(v621 * *(float *)v168)) + v633;
            v172 = v626 * *(float *)(v168 + 4);
            v607 = v171;
            v163 = v171;
            v173 = (float)(v630 * *(float *)(v168 + 8)) + v172;
            v174 = v622 * *(float *)v168;
            v166 = v606;
            v608 = (float)(v173 + v174) + v634;
            v167 = (float)(v173 + v174) + v634;
          }
          v282 = v167;
          v175 = v18 + 16 * v5;
          *(_DWORD *)v175 = v166;
          v8 = a3;
          *(_DWORD *)(v175 + 4) = LODWORD(v163);
          *(_DWORD *)(v175 + 8) = LODWORD(v282);
          v283 = 0;
          v176 = (unsigned int)dword_1006F9A0;
          *(_DWORD *)(v175 + 12) = 0;
          *(_DWORD *)(v175 + 12) = v176;
          ++v5;
          continue;
        case 0xD:
          v177 = cos(*(float *)&v639);
          v178 = 16 * v5 + v18;
          v8 = a3;
          *(_DWORD *)(v178 + 8) = 0;
          *(_DWORD *)(v178 + 12) = dword_1006F9A0;
          ++v5;
          *(float *)v178 = v177 * 500.0;
          *(float *)(v178 + 4) = sin(*(float *)&v639) * 500.0;
          continue;
        case 0x1A:
          v179 = v642;
          v180 = (unsigned int)dword_10072684;
          v8 = a3;
          v181 = v18 + 16 * v5;
          *(float *)v181 = (float)*(_BYTE *)(*(_DWORD *)(v642 + 39948) + 330) * 0.0078431377;
          *(float *)(v181 + 4) = (float)*(_BYTE *)(*(_DWORD *)(v179 + 39948) + 329) * *(float *)&v180;
          v182 = (float)*(_BYTE *)(*(_DWORD *)(v179 + 39948) + 328) * *(float *)&v180;
          v183 = (unsigned int)dword_1006FF08;
          *(_DWORD *)(v181 + 8) = LODWORD(v182);
          *(_DWORD *)(v181 + 12) = v183;
          ++v5;
          continue;
        case 0xE:
        case 0xF:
        case 0x10:
        case 0x11:
        case 0x12:
        case 0x13:
        case 0x14:
        case 0x15:
        case 0x16:
        case 0x17:
        case 0x18:
        case 0x19:
        case 0x1C:
        case 0x1D:
          v184 = v642;
          if ( v616 )
          {
            v185 = v637;
          }
          else
          {
            v185 = 0;
            v637 = 0;
            for ( j = 0; j < 4; ++j )
            {
              v187 = *(_DWORD *)(*(_DWORD *)(v184 + 39948) + 4 * j + 808);
              if ( v187 )
              {
                v188 = *(_DWORD *)v187;
                if ( v188 )
                {
                  if ( *(_BYTE *)(v188 + 57) )
                  {
                    ++v185;
                    v281[2 * j] = j;
                    v637 = v185;
                  }
                }
              }
            }
            for ( k = 0; k < 4; ++k )
            {
              v190 = *(_DWORD *)(*(_DWORD *)(v184 + 39948) + 4 * k + 808);
              if ( v190 )
              {
                v191 = *(_DWORD *)v190;
                if ( v191 )
                {
                  if ( !*(_BYTE *)(v191 + 57) )
                  {
                    ++v185;
                    v281[2 * k] = k;
                    v637 = v185;
                  }
                }
              }
            }
            v616 = 1;
          }
          v192 = *(_BYTE *)(a3 + 20 * v5);
          if ( v192 == 28 )
          {
            if ( v185 > 0
              && (v193 = *(_DWORD *)(*(_DWORD *)(v184 + 39948) + 4 * v281[0] + 808)) != 0
              && *(_BYTE *)(*(_DWORD *)v193 + 57) )
            {
              v194 = v193 + 36;
              v195 = *(_DWORD *)v194;
              v196 = *(_DWORD *)(v194 + 4);
              v284 = *(_DWORD *)(v194 + 8);
              v197 = v18 + 16 * v5;
              *(_DWORD *)v197 = v195;
              v198 = v284;
              *(_DWORD *)(v197 + 4) = v196;
              v285 = 0;
              v199 = (unsigned int)dword_1006F9A0;
              *(_DWORD *)(v197 + 8) = v198;
              *(_DWORD *)(v197 + 12) = 0;
              v8 = a3;
              *(_DWORD *)(v18 + 16 * v5++ + 12) = v199;
            }
            else
            {
              v200 = (unsigned int)dword_1006F9A0;
              v8 = a3;
              v201 = v18 + 16 * v5;
              *(_DWORD *)v201 = dword_1006F9A0;
              *(_DWORD *)(v201 + 4) = 0;
              *(_DWORD *)(v201 + 8) = 0;
              *(_DWORD *)(v201 + 12) = v200;
              ++v5;
            }
          }
          else
          {
            if ( v192 == 29 )
            {
              if ( v185 > 0 )
              {
                v202 = *(_DWORD *)(*(_DWORD *)(v184 + 39948) + 4 * v281[0] + 808);
                if ( v202 )
                {
                  v203 = *(_BYTE *)(*(_DWORD *)v202 + 57);
                  if ( v203 )
                  {
                    v204 = (unsigned int)dword_1006F9A0;
                    v8 = a3;
                    v205 = (float)v203 * 0.00097659999;
                    v206 = 16 * v5 + v18;
                    v207 = (float)((float)(1.0 - v205) * (float)(1.0 - v205)) * 1.075;
                    *(_DWORD *)v206 = LODWORD(v207);
                    v208 = v207 * 0.1;
                    v209 = v204;
                    *(_DWORD *)(v206 + 4) = LODWORD(v208);
                    *(float *)(v206 + 8) = *(float *)&v209 / v208;
                    *(_DWORD *)(v206 + 12) = v204;
                    ++v5;
                    continue;
                  }
                }
              }
              v210 = 0;
              v211 = v18 + 16 * v5;
              *(_DWORD *)v211 = 0;
              *(_DWORD *)(v211 + 4) = 0;
LABEL_104:
              *(_DWORD *)(v211 + 8) = v210;
              goto LABEL_105;
            }
            v212 = (unsigned __int8)(v192 - 14);
            v215 = v212 % 3;
            v213 = v212 / 3;
            v214 = v215;
            if ( v213 >= v185 )
            {
              if ( !v214 )
                goto LABEL_129;
              v254 = v214 - 1;
              if ( v254 )
              {
                if ( v254 != 1 )
                  goto LABEL_145;
LABEL_129:
                v255 = (unsigned int)dword_1007266C;
                v8 = a3;
                v256 = v18 + 16 * v5;
                *(_DWORD *)v256 = dword_1007266C;
                *(_DWORD *)(v256 + 4) = v255;
                *(_DWORD *)(v256 + 8) = v255;
                *(_DWORD *)(v256 + 12) = 0;
                ++v5;
              }
              else
              {
                v141 = 0;
                v142 = 16 * v5 + v18;
LABEL_131:
                v8 = a3;
                *(_DWORD *)v142 = v141;
                *(_DWORD *)(v142 + 4) = v141;
                *(_DWORD *)(v142 + 8) = v141;
                *(_DWORD *)(v142 + 12) = v141;
                ++v5;
              }
            }
            else
            {
              v216 = *(_DWORD *)(v642 + 39948);
              v217 = v281[2 * v213];
              LODWORD(v218) = *(_DWORD *)(v216 + 4 * v217 + 808);
              LODWORD(v638) = *(_DWORD *)(v216 + 4 * v217 + 808);
              if ( v214 )
              {
                v219 = v214 - 1;
                if ( v219 )
                {
                  if ( v219 == 1 )
                  {
                    if ( *(_BYTE *)(*LODWORD(v218) + 42) == 19 )
                    {
                      v210 = (unsigned int)dword_10072674;
                      v211 = v18 + 16 * v5;
                      *(_DWORD *)v211 = dword_10072674;
                      *(_DWORD *)(v211 + 4) = v210;
                      *(float *)&v210 = *(float *)(LODWORD(v218) + 48) - *(float *)(LODWORD(v218) + 52);
                      goto LABEL_104;
                    }
                    v220 = *(float *)(v216 + 44) * *(float *)(v216 + 44);
                    v221 = *(float *)(v216 + 48) * *(float *)(v216 + 48);
                    v222 = *(_DWORD *)(v216 + 52);
                    v590 = 0;
                    v588 = dword_1006FEFC;
                    v577 = (float)(v220 + v221) + (float)(*(float *)&v222 * *(float *)&v222);
                    v574 = dword_1006FA5C;
                    v223 = 1.0 / fsqrt(v577);
                    v224 = (__m128)(unsigned int)dword_1006FEFC;
                    v225 = 0;
                    LODWORD(v225.m128_f32[0]) = -(v577 == 0.0);
                    v224.m128_f32[0] = (float)((float)(3.0 - (float)((float)(v223 * v577) * v223)) * (float)(v223 * 0.5))
                                     * v577;
                    v226 = _mm_and_ps(v224, v225);
                    v584 = (signed int)v226.m128_f32[0];
                    *(float *)&v222 = *(float *)(LODWORD(v218) + 48) - *(float *)(LODWORD(v218) + 52);
                    v211 = 16 * v5 + v18;
                    *(float *)v211 = v226.m128_f32[0] / *(float *)&v222;
                    *(float *)(v211 + 4) = v226.m128_f32[0] / *(float *)&v222;
                    *(_DWORD *)(v211 + 8) = *(_DWORD *)(LODWORD(v218) + 52);
LABEL_105:
                    v8 = a3;
                    *(_DWORD *)(v211 + 12) = dword_1006F9A0;
                    ++v5;
                    continue;
                  }
LABEL_145:
                  v8 = a3;
                  ++v5;
                }
                else
                {
                  v227 = FPlane::operator_(LODWORD(v218) + 8, &v610, 1073741824);
                  v228 = FPlane::operator_(v227, &v609, *(_DWORD *)(LODWORD(v218) + 72));
                  v229 = *(_DWORD *)v228;
                  v230 = v18 + 16 * v5;
                  LODWORD(v638) = v230;
                  *(_DWORD *)v230 = v229;
                  *(_DWORD *)(v230 + 4) = *(_DWORD *)(v228 + 4);
                  *(_DWORD *)(v230 + 8) = *(_DWORD *)(v228 + 8);
                  *(_DWORD *)(v230 + 12) = *(_DWORD *)(v228 + 12);
                  if ( v641 || *(_DWORD *)(LODWORD(v218) + 56) || *(_DWORD *)(LODWORD(v218) + 60) )
                  {
                    v8 = a3;
                    *(_DWORD *)(LODWORD(v638) + 12) = 0;
                    ++v5;
                  }
                  else
                  {
                    v8 = a3;
                    *(_DWORD *)(v230 + 12) = dword_1006F9A0;
                    ++v5;
                  }
                }
              }
              else
              {
                if ( *(_BYTE *)(*LODWORD(v218) + 42) == 19 )
                {
                  v231 = *(_DWORD *)(LODWORD(v218) + 44);
                  v232 = *(_DWORD *)(LODWORD(v218) + 40);
                  v233 = *(_DWORD *)(LODWORD(v218) + 36);
                  LODWORD(v617) = *(_DWORD *)(v216 + 92);
                  LODWORD(v234) = *(_DWORD *)(v216 + 100);
                  *(float *)&v231 = *(float *)&v231 * 65365.0;
                  v235 = LODWORD(v617);
                  LODWORD(v618) = *(_DWORD *)(v216 + 96);
                  *(float *)&v235 = v617 - (float)(*(float *)&v233 * 65365.0);
                  v236 = LODWORD(v618);
                  *(float *)&v236 = v618 - (float)(*(float *)&v232 * 65365.0);
                  v237 = LODWORD(v234);
                  *(float *)&v237 = v234 - *(float *)&v231;
                  LODWORD(v617) = v235;
                  LODWORD(v618) = v236;
                  v619 = v234 - *(float *)&v231;
                  if ( !v640 )
                  {
                    v238 = (const void *)FMatrix::Inverse(v216 + 44, &v274);
                    v237 = LODWORD(v619);
                    v236 = LODWORD(v618);
                    v235 = LODWORD(v617);
                    memcpy(&v620, v238, 0x40u);
                    v18 = a2;
                    v640 = 1;
                  }
                  v239 = v237;
                  v240 = v235;
                  *(float *)&v240 = (float)(*(float *)&v240 * *(float *)&v620) + (float)(*(float *)&v239 * v628);
                  v241 = v236;
                  v603 = (float)(*(float *)&v240 + (float)(*(float *)&v241 * v624)) + v632;
                  v242 = v237;
                  *(float *)&v240 = (float)(v621 * *(float *)&v235) + (float)(*(float *)&v242 * v629);
                  v243 = v236;
                  v604 = (float)(*(float *)&v240 + (float)(*(float *)&v243 * v625)) + v633;
                  v244 = (float)(*(float *)&v240 + (float)(*(float *)&v243 * v625)) + v633;
                  v245 = v18 + 16 * v5;
                  *(float *)&v240 = (float)((float)((float)(v622 * *(float *)&v235) + (float)(*(float *)&v237 * v630))
                                          + (float)(*(float *)&v236 * v626))
                                  + v634;
                  v246 = v18 + 16 * v5;
                  *(_DWORD *)v246 = LODWORD(v603);
                  v605 = v240;
                  *(_DWORD *)(v246 + 4) = LODWORD(v244);
                  v273 = 0;
                  *(_DWORD *)(v246 + 8) = v240;
                  v247 = v273;
                }
                else
                {
                  if ( !v640 )
                  {
                    memcpy(&v620, (const void *)FMatrix::Inverse(v216 + 44, &v275), 0x40u);
                    v18 = a2;
                    v218 = v638;
                    v640 = 1;
                  }
                  v248 = *(float *)(LODWORD(v218) + 32) * v629;
                  v599 = (float)((float)((float)(*(float *)(LODWORD(v218) + 32) * v628)
                                       + (float)(*(float *)(LODWORD(v218) + 28) * v624))
                               + (float)(*(float *)(LODWORD(v218) + 24) * *(float *)&v620))
                       + v632;
                  v249 = (float)((float)((float)(v621 * *(float *)(LODWORD(v218) + 24)) + v248)
                               + (float)(*(float *)(LODWORD(v218) + 28) * v625))
                       + v633;
                  v250 = *(float *)(LODWORD(v218) + 32) * v630;
                  v600 = v249;
                  v251 = v249;
                  v245 = v18 + 16 * v5;
                  v252 = (float)((float)((float)(v622 * *(float *)(LODWORD(v218) + 24)) + v250)
                               + (float)(*(float *)(LODWORD(v218) + 28) * v626))
                       + v634;
                  v246 = v18 + 16 * v5;
                  *(_DWORD *)v246 = LODWORD(v599);
                  v601 = v252;
                  *(_DWORD *)(v246 + 4) = LODWORD(v251);
                  v272 = 0;
                  *(_DWORD *)(v246 + 8) = LODWORD(v252);
                  v247 = v272;
                }
                v253 = (unsigned int)dword_1006F9A0;
                *(_DWORD *)(v246 + 12) = v247;
                v8 = a3;
                *(_DWORD *)(v245 + 12) = v253;
                ++v5;
              }
            }
          }
          break;
        case 0x1B:
          v257 = *(_DWORD *)(v19 + 8);
          v258 = (unsigned int)dword_1006F9A0;
          v259 = *(_DWORD *)(v19 + 4);
          *(float *)&v260 = 1.0 - *(float *)&v257;
          v580 = *(_DWORD *)(v19 + 4);
          v575 = v257;
          v582 = 1.0 - *(float *)&v257;
          if ( !(BYTE4(qword_100846F8) & 1) )
            qword_100846F8 = __PAIR__(HIDWORD(qword_100846F8), LODWORD(GEngineTime)) | 0x100000000i64;
          __asm { lahf }
          if ( __SETP__(_AH & 0x44, 0) )
          {
            LODWORD(qword_100846F8) = LODWORD(GEngineTime);
            *(float *)&dword_100801A0 = (float)rand() * 0.000030518509;
            *(float *)&dword_1008019C = (float)rand() * 0.000030518509;
            v262 = rand();
            v260 = LODWORD(v582);
            v259 = v580;
            v258 = (unsigned int)dword_1006F9A0;
            *(float *)&dword_10080198 = (float)v262 * 0.000030518509;
            v257 = v575;
          }
          v263 = (unsigned int)dword_100801A0;
          if ( *(float *)&dword_100801A0 <= *(float *)&v259 )
          {
            v265 = 16 * v5 + v18;
            *(_DWORD *)v265 = v258;
          }
          else
          {
            v264 = v257;
            v265 = 16 * v5 + v18;
            *(float *)v265 = (float)(*(float *)&v264 * *(float *)&dword_10080198) + *(float *)&v260;
          }
          v266 = (unsigned int)dword_1008019C;
          if ( *(float *)&dword_1008019C <= *(float *)&v259 )
          {
            *(_DWORD *)(v265 + 4) = v258;
          }
          else
          {
            v267 = v257;
            *(float *)(v265 + 4) = (float)(*(float *)&v267 * *(float *)&v263) + *(float *)&v260;
          }
          if ( *(float *)&dword_10080198 > *(float *)&v259 )
          {
            v8 = a3;
            *(float *)(v265 + 8) = (float)(*(float *)&v257 * *(float *)&v266) + *(float *)&v260;
            *(_DWORD *)(v265 + 12) = v258;
            ++v5;
            continue;
          }
          *(_DWORD *)(v265 + 8) = v258;
          *(_DWORD *)(v265 + 12) = v258;
          goto LABEL_145;
        default:
          goto LABEL_145;
      }
    }
  }
  v7 = 0;
  if ( v4 == -2 )
  {
    v7 = 96;
  }
  else
  {
    if ( v4 == -3 )
      v7 = 8;
  }
  v8 = a3;
  v9 = 0;
  v10 = 0;
  while ( v10 < v7 )
  {
    if ( *(_BYTE *)(a3 + 20 * v10) )
      v9 = v10;
    ++v10;
    v5 = 0;
  }
  switch ( *(_BYTE *)(a3 + 20 * v9) )
  {
    case 2:
    case 3:
    case 4:
    case 5:
    case 6:
    case 7:
    case 0x20:
      v11 = v9 + 4;
      break;
    case 0x22:
      v11 = v9 + 2;
      break;
    default:
      v11 = v9 + 1;
      break;
  }
  result = v11;
  *(_DWORD *)a4 = v11;
  if ( v11 > v5 )
    goto LABEL_18;
  return result;
}
// 1006F0C8: using guessed type int GIsEditor;
// 1006F24C: using guessed type int __thiscall FPlane__operator_(_DWORD, _DWORD, _DWORD);
// 1006F250: using guessed type int __thiscall FMatrix__Inverse(_DWORD, _DWORD);
// 1006F304: using guessed type float GEngineTime;
// 1006F354: using guessed type void *GCubemapManager;
// 1006F9A0: using guessed type int dword_1006F9A0;
// 1006FA5C: using guessed type int dword_1006FA5C;
// 1006FEFC: using guessed type int dword_1006FEFC;
// 1006FF08: using guessed type int dword_1006FF08;
// 10072398: using guessed type int dword_10072398;
// 1007266C: using guessed type int dword_1007266C;
// 10072674: using guessed type int dword_10072674;
// 10072684: using guessed type int dword_10072684;
// 10080198: using guessed type int dword_10080198;
// 1008019C: using guessed type int dword_1008019C;
// 100801A0: using guessed type int dword_100801A0;
// 100846F8: using guessed type __int64 qword_100846F8;
// 1001C130: using guessed type int var_600[7];

//----- (1001ED70) --------------------------------------------------------
int __thiscall sub_1001ED70(int this, int a2, signed int a3)
{
  int v3; // ebx@1
  unsigned __int64 v4; // qax@1
  int v5; // ecx@1
  int v6; // esi@1
  int v7; // ecx@2
  int v8; // edx@2
  int v9; // eax@2
  int v10; // ecx@4
  int v11; // eax@4
  signed int v12; // edi@4
  int v13; // eax@10
  int v14; // ecx@10
  int v15; // eax@12
  int v16; // eax@12
  int v17; // edx@12
  int v18; // eax@12
  int v19; // eax@12
  int v20; // edx@12
  int v21; // eax@12
  int v22; // ecx@12
  int v23; // eax@12
  int v24; // eax@13
  int v25; // eax@15
  int v26; // eax@15
  int v27; // ecx@15
  signed int v28; // ecx@16
  int v29; // eax@17
  __int128 v30; // xmm0@17
  int v31; // eax@17
  int v32; // eax@17
  signed int v33; // edx@17
  int v34; // eax@19
  int v35; // eax@19
  int v36; // eax@19
  int v37; // edx@19
  int v38; // edi@21
  int v39; // eax@21
  int v40; // esi@22
  bool v41; // zf@22
  int v42; // esi@22
  int v43; // esi@23
  int v44; // eax@24
  int v45; // eax@24
  int v46; // edx@27
  int v47; // esi@27
  int v48; // esi@27
  int v49; // esi@27
  int v50; // esi@29
  int v51; // esi@29
  int v52; // esi@29
  int v53; // esi@30
  int v54; // esi@30
  int v55; // esi@30
  int v56; // esi@30
  int v57; // esi@30
  int v58; // esi@30
  int v59; // ecx@30
  int v60; // esi@31
  int v61; // edi@31
  int v62; // edi@31
  int v63; // ecx@32
  int v64; // esi@33
  void *v65; // edi@35
  int v66; // esi@35
  int v67; // ecx@35
  int v68; // ecx@36
  int v69; // esi@39
  int v70; // esi@39
  int v71; // esi@39
  int v72; // esi@39
  int v73; // esi@39
  int v74; // esi@39
  int v75; // edx@40
  int v76; // eax@42
  int v77; // eax@43
  int v78; // eax@43
  int v79; // eax@44
  int v80; // eax@44
  int v81; // eax@44
  int v82; // eax@45
  unsigned __int64 v83; // qax@45
  int v85; // [sp+0h] [bp-38h]@1
  int v86; // [sp+Ch] [bp-2Ch]@8
  _DWORD v87[3]; // [sp+10h] [bp-28h]@8
  int v88; // [sp+18h] [bp-20h]@8
  void *v89; // [sp+1Ch] [bp-1Ch]@2
  int v90; // [sp+20h] [bp-18h]@22
  int *v91; // [sp+28h] [bp-10h]@1
  int v92; // [sp+34h] [bp-4h]@1
  int v93; // [sp+44h] [bp+Ch]@20

  v3 = this;
  LODWORD(v4) = *(_DWORD *)(this + 39948);
  v5 = *(_DWORD *)(v4 + 768);
  v6 = a2;
  v91 = &v85;
  v92 = 0;
  if ( v5 == a2 )
    return v4;
  v7 = *(_DWORD *)(v3 + 4) + 65012;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v89 = FClock::CurStat;
  FClock::CurStat = (void *)v7;
  qword_100845C4 = __rdtsc();
  v8 = *(_DWORD *)(v7 + 4) + 1;
  *(_DWORD *)v7 -= qword_100845C4;
  *(_DWORD *)(v7 + 4) = v8;
  v9 = *(_DWORD *)(a2 + 936);
  LOBYTE(v92) = 1;
  if ( !v9 )
  {
    if ( *(_DWORD *)a2 )
    {
      v10 = *(_DWORD *)(UD3DRenderDevice::GetPixelShader(*(_DWORD *)(v3 + 4), *(_DWORD *)a2) + 4);
      v11 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(*(_DWORD *)(v3 + 4) + 60956) = v10;
      *(_DWORD *)(v11 + 5228) |= 4u;
      v12 = 1;
      if ( *(_DWORD *)a2 == 1 )
      {
        if ( !(dword_10084734 & 1) )
        {
          dword_10084734 |= 1u;
          LOBYTE(v92) = 2;
          sub_10001650((int)&dword_10084704, 16, 3, (int (__thiscall *)(_DWORD))FPlane::FPlane);
          LOBYTE(v92) = 1;
        }
        if ( !dword_10084700 )
        {
          dword_10084704 = dword_1006F9A0;
          dword_10084708 = 0;
          dword_1008470C = 0;
          dword_10084710 = 0;
          dword_10084714 = 0;
          dword_10084718 = dword_1006F9A0;
          v86 = 0;
          dword_1008471C = 0;
          dword_10084720 = 0;
          v87[0] = 0;
          *(_QWORD *)&v87[1] = (unsigned int)dword_1006F9A0;
          v88 = 0;
          dword_10084724 = 0;
          dword_10084728 = 0;
          dword_1008472C = dword_1006F9A0;
          dword_10084730 = 0;
          dword_10084700 = 1;
        }
        (*(void (__stdcall **)(_DWORD, _DWORD, int *, signed int))(**(_DWORD **)(*(_DWORD *)(v3 + 4) + 18100) + 364))(
          *(_DWORD *)(*(_DWORD *)(v3 + 4) + 18100),
          0,
          &dword_10084704,
          3);
      }
      goto LABEL_12;
    }
    v13 = *(_DWORD *)(v3 + 4);
    v14 = *(_DWORD *)(v13 + 64604);
    v13 += 59376;
    *(_DWORD *)(v13 + 1580) = 0;
    *(_DWORD *)(v13 + 5228) = v14 | 4;
  }
  v12 = 1;
LABEL_12:
  v15 = *(_DWORD *)(v3 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 59500) = v12 & (*(_DWORD *)(a2 + 4) >> 2);
  *(_DWORD *)(v15 + 5228) |= v12;
  v16 = *(_DWORD *)(v3 + 4);
  v17 = *(_DWORD *)(v16 + 64604);
  v16 += 59376;
  *(_DWORD *)(v16 + 44) = v12 & *(_DWORD *)(a2 + 4);
  *(_DWORD *)(v16 + 5228) = v12 | v17;
  v18 = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v18 + 59412) = *(_BYTE *)(a2 + 8);
  *(_DWORD *)(v18 + 64604) |= v12;
  v19 = *(_DWORD *)(v3 + 4);
  v20 = *(_DWORD *)(v19 + 64604);
  v19 += 59376;
  *(_DWORD *)(v19 + 40) = 5;
  *(_DWORD *)(v19 + 5228) = v12 | v20;
  v21 = *(_DWORD *)(v3 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 59392) = v12 & (*(_DWORD *)(a2 + 4) >> 1);
  *(_DWORD *)(v21 + 5228) |= v12;
  v22 = *(_DWORD *)(a2 + 12);
  v23 = *(_DWORD *)(a2 + 12);
  if ( !v23 )
    goto LABEL_49;
  v24 = v23 - 1;
  if ( !v24 )
  {
    v44 = *(_DWORD *)(v3 + 4) + 59376;
    *(_DWORD *)(*(_DWORD *)(v3 + 4) + 59508) = 3;
    v28 = 2;
    *(_DWORD *)(v44 + 5228) |= 2u;
    v45 = *(_DWORD *)(v3 + 4) + 59376;
    *(_DWORD *)(*(_DWORD *)(v3 + 4) + 59380) = 3;
    *(_DWORD *)(v45 + 5228) |= v12;
    goto LABEL_17;
  }
  if ( v24 == 1 )
  {
LABEL_49:
    v25 = *(_DWORD *)(v3 + 4) + 59376;
    *(_DWORD *)(*(_DWORD *)(v3 + 4) + 64604) |= v12;
    *(_DWORD *)(v25 + 4) = (v22 != 0) + 2;
    v26 = *(_DWORD *)(v3 + 4);
    v27 = *(_DWORD *)(v26 + 64604);
    v26 += 59376;
    *(_DWORD *)(v26 + 132) = 4;
    *(_DWORD *)(v26 + 5228) = v27 | 2;
  }
  v28 = 2;
LABEL_17:
  v29 = *(_DWORD *)(v3 + 4) + 59376;
  v30 = (unsigned int)dword_100726C4;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 59408) = (*(_DWORD *)(a2 + 4) & 8) != 0 ? 4 : 8;
  *(_DWORD *)(v29 + 5228) |= v12;
  v31 = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v31 + 59384) = v12 & (*(_DWORD *)(a2 + 4) >> 4);
  *(_DWORD *)(v31 + 64604) |= v12;
  v32 = *(_DWORD *)(v3 + 4);
  v33 = v12;
  if ( !(*(_BYTE *)(a2 + 4) & 0x20) )
    v33 = a3;
  *(_DWORD *)(v32 + 59404) = v33;
  *(_DWORD *)(v32 + 64604) |= v12;
  v34 = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v34 + 59396) = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(v34 + 64604) |= v12;
  v35 = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v35 + 59400) = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(v35 + 64604) |= v12;
  v36 = *(_DWORD *)(v3 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 59476) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(v36 + 5228) |= v12;
  v37 = 0;
  while ( 1 )
  {
    v93 = v37;
    if ( v37 >= *(_BYTE *)(v6 + 9) )
      break;
    v38 = *(_DWORD *)(112 * v37 + v6 + 36);
    v39 = v6 + 112 * v37;
    if ( v38 )
    {
      v40 = *(_DWORD *)(v38 + 60);
      v90 = v40;
      v41 = v40 == 0;
      v42 = *(_DWORD *)(v3 + 4);
      if ( v41 )
      {
        v43 = v42 + 59376;
        *(_DWORD *)(v43 + 4 * v37 + 1720) = *(_DWORD *)(v38 + 56);
      }
      else
      {
        v43 = v42 + 59376;
        *(_DWORD *)(v43 + 4 * v37 + 1720) = v90;
      }
    }
    else
    {
      v43 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(v43 + 4 * v37 + 1720) = 0;
    }
    v46 = 84 * v37;
    *(_DWORD *)(v43 + 5228) |= 0x10u;
    v47 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v46 + v47 + 59536) = *(_DWORD *)(v39 + 44) & 0xF;
    *(_DWORD *)(v47 + 64604) |= v28;
    v48 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v46 + v48 + 59540) = (*(_DWORD *)(v39 + 44) >> 4) & 0xF;
    *(_DWORD *)(v48 + 64604) |= v28;
    v49 = *(_DWORD *)(v3 + 4) + 59376;
    *(_DWORD *)(v46 + v49 + 172) = (*(_DWORD *)(v39 + 44) >> 8) & 0xF;
    *(_DWORD *)(v49 + 5228) |= v28;
    if ( *(float *)&v30 > *(float *)(v39 + 40) )
      *(_DWORD *)(v39 + 40) = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 16704);
    v50 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v46 + v50 + 59564) = *(_DWORD *)(v39 + 40);
    *(_DWORD *)(v50 + 64604) |= v28;
    v51 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v46 + v51 + 59508) = (*(_DWORD *)(v39 + 44) >> 12) & 0x1F;
    *(_DWORD *)(v51 + 64604) |= v28;
    v52 = *(_DWORD *)(v3 + 4) + 59376;
    *(_DWORD *)(v46 + v52 + 144) = (*(_DWORD *)(v39 + 44) >> 17) & 0x1F;
    *(_DWORD *)(v52 + 5228) |= v28;
    if ( !*(_DWORD *)(a2 + 936) )
    {
      v53 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v46 + v53 + 59552) = (*(_DWORD *)(v39 + 44) >> 22) & 0x3F;
      *(_DWORD *)(v53 + 64604) |= v28;
      v54 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v54 + v46 + 59512) = *(_DWORD *)(v39 + 48) & 0x3F;
      *(_DWORD *)(v54 + 64604) |= v28;
      v55 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v55 + v46 + 59516) = (*(_DWORD *)(v39 + 48) >> 6) & 0x3F;
      *(_DWORD *)(v55 + 64604) |= v28;
      v56 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(v56 + v46 + 180) = (*(_DWORD *)(v39 + 48) >> 12) & 0x3F;
      *(_DWORD *)(v56 + 5228) |= v28;
      v57 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(v57 + v46 + 148) = (*(_DWORD *)(v39 + 48) >> 18) & 0x3F;
      *(_DWORD *)(v57 + 5228) |= v28;
      v58 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(v58 + v46 + 152) = *(_BYTE *)(v39 + 51) & 0x3F;
      *(_DWORD *)(v58 + 5228) |= 2u;
      v59 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(v59 + v46 + 184) = *(_DWORD *)(v39 + 52) & 0x3F;
      *(_DWORD *)(v59 + 5228) |= 2u;
      v28 = 2;
    }
    v60 = *(_DWORD *)(v3 + 4);
    v61 = *(_DWORD *)(v39 + 52) >> 7;
    *(_DWORD *)(v60 + v46 + 59532) = v61 & 0x3FFFF;
    *(_DWORD *)(v60 + 64604) |= v28;
    v62 = 84 * (v93 + 2);
    if ( *(_BYTE *)(v39 + 52) & 0x40 )
    {
      v63 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(v62 + v63) = *(_DWORD *)(v39 + 56) & 0x1FF;
      *(_DWORD *)(v63 + 5228) |= 2u;
      v28 = 2;
    }
    else
    {
      v64 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(v62 + v64) = 0;
      *(_DWORD *)(v64 + 5228) |= v28;
    }
    if ( *(_BYTE *)(v39 + 52) & 0x40 )
    {
      v65 = (void *)((v93 << 6) + *(_DWORD *)(v3 + 4) + 59376 + 804);
      v90 = *(_DWORD *)(v3 + 4) + 59376;
      memcpy(v65, (const void *)(v39 + 60), 0x40u);
      v66 = v90;
      *(_DWORD *)(v66 + 1572) |= 1 << v93;
      v67 = *(_DWORD *)(v66 + 5228);
      if ( v93 == 10 )
        v68 = v67 | 0x20;
      else
        v68 = v67 | 0x40;
      *(_DWORD *)(v66 + 5228) = v68;
      v28 = 2;
    }
    v69 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v69 + v46 + 59568) = *(_DWORD *)(v39 + 124);
    *(_DWORD *)(v69 + 64604) |= v28;
    v70 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v70 + v46 + 59572) = *(_DWORD *)(v39 + 128);
    *(_DWORD *)(v70 + 64604) |= v28;
    v71 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v71 + v46 + 59576) = *(_DWORD *)(v39 + 132);
    *(_DWORD *)(v71 + 64604) |= v28;
    v72 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v72 + v46 + 59580) = *(_DWORD *)(v39 + 136);
    *(_DWORD *)(v72 + 64604) |= v28;
    v73 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v73 + v46 + 59584) = *(_DWORD *)(v39 + 140);
    *(_DWORD *)(v73 + 64604) |= v28;
    v74 = *(_DWORD *)(v3 + 4) + 59376;
    *(_DWORD *)(v74 + v46 + 212) = *(_DWORD *)(v39 + 144);
    *(_DWORD *)(v74 + 5228) |= v28;
    v6 = a2;
    v37 = v93 + 1;
    v12 = 1;
  }
  v75 = *(_BYTE *)(v6 + 9);
  while ( v75 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 16872) )
  {
    v76 = v6 + 112 * v75;
    *(_DWORD *)(v76 + 36) = 0;
    if ( !*(_DWORD *)(v6 + 936) )
    {
      *(_DWORD *)(v76 + 44) = *(_DWORD *)(v76 + 44) & 0xFFC21FFF | 0x21000;
      v77 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(84 * v75 + v77 + 132) = 1;
      *(_DWORD *)(v77 + 5228) |= v28;
      v78 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(84 * v75 + v78 + 144) = 1;
      *(_DWORD *)(v78 + 5228) |= v28;
    }
    v79 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(84 * v75 + v79 + 59532) = v75;
    *(_DWORD *)(v79 + 64604) |= v28;
    v80 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(84 * (v75 + 2) + v80 + 59376) = 0;
    *(_DWORD *)(v80 + 64604) |= v28;
    v81 = *(_DWORD *)(v3 + 4) + 59376;
    *(_DWORD *)(v81 + 4 * v75 + 1720) = 0;
    *(_DWORD *)(v81 + 5228) |= 0x10u;
    ++v75;
    v12 = 1;
  }
  v82 = *(_DWORD *)(v3 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 59496) = *(_DWORD *)(v6 + 32);
  *(_DWORD *)(v82 + 5228) |= v12;
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 768) = v6;
  v83 = __rdtsc();
  qword_100845C4 = v83;
  *(_DWORD *)FClock::CurStat += v83 - 12;
  FClock::CurStat = v89;
  v4 = __rdtsc();
  qword_100845C4 = v4;
  *(_DWORD *)FClock::CurStat -= v4;
  return v4;
}
// 1006F0CC: using guessed type void *FPlane__FPlane;
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F9A0: using guessed type int dword_1006F9A0;
// 100726C4: using guessed type int dword_100726C4;
// 100845C4: using guessed type __int64 qword_100845C4;
// 10084700: using guessed type int dword_10084700;
// 10084704: using guessed type int dword_10084704;
// 10084708: using guessed type int dword_10084708;
// 1008470C: using guessed type int dword_1008470C;
// 10084710: using guessed type int dword_10084710;
// 10084714: using guessed type int dword_10084714;
// 10084718: using guessed type int dword_10084718;
// 1008471C: using guessed type int dword_1008471C;
// 10084720: using guessed type int dword_10084720;
// 10084724: using guessed type int dword_10084724;
// 10084728: using guessed type int dword_10084728;
// 1008472C: using guessed type int dword_1008472C;
// 10084730: using guessed type int dword_10084730;
// 10084734: using guessed type int dword_10084734;

//----- (1001F710) --------------------------------------------------------
int __thiscall sub_1001F710(int this, int a2)
{
  signed int v2; // edx@1
  int v3; // eax@7
  int result; // eax@7

  v2 = 1;
  if ( a2 )
  {
    if ( a2 == 1 )
    {
      v2 = 3;
    }
    else
    {
      if ( a2 == 2 )
        v2 = 1;
    }
  }
  else
  {
    v2 = 2;
  }
  v3 = *(_DWORD *)(this + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(this + 4) + 64604) |= 1u;
  *(_DWORD *)(v3 + 28) = v2;
  result = *(_DWORD *)(this + 39948);
  *(_DWORD *)(result + 240) = v2;
  return result;
}

//----- (1001F760) --------------------------------------------------------
int __thiscall sub_1001F760(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // eax@1
  int v4; // ecx@1
  int result; // eax@1
  int v6; // [sp+0h] [bp-24h]@1
  int *v7; // [sp+14h] [bp-10h]@1
  int v8; // [sp+20h] [bp-4h]@1

  v2 = this;
  v7 = &v6;
  v8 = 0;
  v3 = FColor::operator unsigned_long(&a2);
  v4 = *((_DWORD *)v2 + 1) + 59376;
  *(_DWORD *)(*((_DWORD *)v2 + 1) + 59484) = v3;
  *(_DWORD *)(v4 + 5228) |= 1u;
  result = *((_DWORD *)v2 + 9987);
  *(_DWORD *)(result + 328) = a2;
  return result;
}
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);

//----- (1001F7C8) --------------------------------------------------------
void __usercall sub_1001F7C8(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001F7DC) --------------------------------------------------------
void __cdecl sub_1001F7DC()
{
  appUnwindf("%s", off_100801AC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801AC: using guessed type char *off_100801AC[44];

//----- (1001F800) --------------------------------------------------------
int __thiscall sub_1001F800(int this, int a2, int a3, char a4, int a5, char a6, int a7, char a8)
{
  int v8; // esi@1
  int v9; // eax@1
  int v10; // eax@3
  int v11; // edi@3
  int v12; // eax@3
  int v13; // edi@3
  int v14; // edx@3
  int result; // eax@3
  int v16; // [sp+0h] [bp-24h]@1
  int *v17; // [sp+14h] [bp-10h]@1
  int v18; // [sp+20h] [bp-4h]@1

  v8 = this;
  v9 = 0;
  v17 = &v16;
  v18 = 0;
  if ( a5 )
    v9 = sub_1001A420(this, a5);
  *(_DWORD *)(*(_DWORD *)(v8 + 39948) + 244) = v9;
  *(_BYTE *)(*(_DWORD *)(v8 + 39948) + 21) = a6;
  *(_BYTE *)(*(_DWORD *)(v8 + 39948) + 22) = a8;
  v10 = *(_DWORD *)(v8 + 4);
  v11 = *(_DWORD *)(v10 + 64604);
  *(_DWORD *)(v10 + 59480) = a2;
  *(_DWORD *)(v10 + 64604) = v11 | 1;
  *(_BYTE *)(*(_DWORD *)(v8 + 39948) + 18) = a2;
  v12 = *(_DWORD *)(v8 + 4);
  v13 = *(_DWORD *)(v12 + 64604);
  *(_DWORD *)(v12 + 59488) = a3;
  *(_DWORD *)(v12 + 64604) = v13 | 1;
  *(_BYTE *)(*(_DWORD *)(v8 + 39948) + 19) = a3;
  *(_BYTE *)(*(_DWORD *)(v8 + 39948) + 20) = a4;
  v14 = *(_DWORD *)(v8 + 39948) + 312;
  *(_DWORD *)v14 = *(_DWORD *)a7;
  *(_DWORD *)(v14 + 4) = *(_DWORD *)(a7 + 4);
  *(_DWORD *)(v14 + 8) = *(_DWORD *)(a7 + 8);
  result = *(_DWORD *)(a7 + 12);
  *(_DWORD *)(v14 + 12) = result;
  return result;
}

//----- (1001F8F8) --------------------------------------------------------
void __usercall sub_1001F8F8(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001F90C) --------------------------------------------------------
void __cdecl sub_1001F90C()
{
  appUnwindf("%s", off_100801B0[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801B0: using guessed type char *off_100801B0[43];

//----- (1001F930) --------------------------------------------------------
int __thiscall sub_1001F930(void *this, char a2)
{
  void *v2; // esi@1
  int v3; // eax@1
  int v4; // ecx@1
  int result; // eax@1
  int v6; // [sp+0h] [bp-24h]@1
  int *v7; // [sp+14h] [bp-10h]@1
  int v8; // [sp+20h] [bp-4h]@1

  v2 = this;
  v7 = &v6;
  v8 = 0;
  *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v2 + 9987) + 4 * *(_BYTE *)(*((_DWORD *)v2 + 9987) + 804) + 768) + 16) = FColor::operator unsigned_long(&a2);
  v3 = FColor::operator unsigned_long(&a2);
  v4 = *((_DWORD *)v2 + 1) + 59376;
  *(_DWORD *)(*((_DWORD *)v2 + 1) + 59476) = v3;
  result = *(_DWORD *)(v4 + 5228) | 1;
  *(_DWORD *)(v4 + 5228) = result;
  return result;
}
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);

//----- (1001F9B1) --------------------------------------------------------
void __usercall sub_1001F9B1(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001F9C5) --------------------------------------------------------
void __cdecl sub_1001F9C5()
{
  appUnwindf("%s", off_100801B4[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801B4: using guessed type char *off_100801B4[42];

//----- (1001F9F0) --------------------------------------------------------
int __thiscall sub_1001F9F0(int this, float a2)
{
  __int128 v2; // xmm2@1
  __int128 v3; // xmm1@1
  int v4; // eax@2
  __int128 v5; // xmm0@3
  int result; // eax@5

  v2 = LODWORD(a2);
  v3 = (unsigned int)dword_1006F9A0;
  if ( a2 < 1.0
    || (v4 = *(_DWORD *)(this + 4), !*(_DWORD *)(v4 + 16664))
    || (*(float *)&v5 = *(float *)(v4 + 16708) * *(float *)&v2, *(float *)&v3 >= *(float *)&v5) )
    v5 = v3;
  *(_DWORD *)(*(_DWORD *)(this + 39948) + 764) = v5;
  result = *(_DWORD *)(this + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(this + 4) + 59492) = v5;
  *(_DWORD *)(result + 5228) |= 1u;
  return result;
}
// 1006F9A0: using guessed type int dword_1006F9A0;

//----- (1001FA60) --------------------------------------------------------
int __thiscall sub_1001FA60(int this, int a2)
{
  int v2; // edi@1
  int v3; // edx@1

  v2 = *(_BYTE *)(*(_DWORD *)(this + 39948) + 23);
  v3 = *(_DWORD *)(this + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(this + 4) + 59424) = a2 != 0;
  *(_DWORD *)(v3 + 5228) |= 1u;
  *(_BYTE *)(*(_DWORD *)(this + 39948) + 23) = a2;
  return v2;
}

//----- (1001FAA0) --------------------------------------------------------
int __thiscall sub_1001FAA0(int this, int a2, float a3, float a4, int a5)
{
  int v5; // esi@1
  int v6; // eax@1
  int v7; // edx@2
  int v8; // eax@2
  __int128 v9; // xmm1@2
  __int128 v10; // xmm4@2
  int v11; // ecx@2
  __int128 v12; // xmm0@2
  int v13; // eax@6
  __int128 v14; // xmm2@8
  int v15; // edx@9
  int v16; // esi@9
  int v17; // eax@9
  int result; // eax@9
  int v19; // ecx@10
  int v20; // [sp+0h] [bp-24h]@1
  int *v21; // [sp+14h] [bp-10h]@1
  int v22; // [sp+20h] [bp-4h]@1

  v5 = this;
  v6 = *(_DWORD *)(this + 4) + 59376;
  v21 = &v20;
  v22 = 0;
  if ( a2 )
  {
    v7 = *(_DWORD *)(v6 + 5228) | 1;
    *(_DWORD *)(v6 + 48) = 1;
    *(_DWORD *)(v6 + 5228) = v7;
    *(_BYTE *)(*(_DWORD *)(this + 39948) + 23) = a2;
    v8 = FColor::operator unsigned_long(&a5);
    v9 = LODWORD(a3);
    v10 = LODWORD(a4);
    v11 = *(_DWORD *)(v5 + 4) + 59376;
    *(_DWORD *)(*(_DWORD *)(v5 + 4) + 59428) = v8;
    *(_DWORD *)(v11 + 5228) |= 1u;
    *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 760) = a5;
    v12 = (unsigned int)dword_1006F9A0;
    if ( a3 < 1.0 )
    {
      v9 = v10;
      *(float *)&v9 = *(float *)&v9 - *(float *)&v12;
      if ( *(float *)&v9 <= 0.0 )
        v9 = 0;
      LODWORD(a3) = v9;
    }
    *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 752) = v9;
    *(_DWORD *)(*(_DWORD *)(v5 + 39948) + 756) = v10;
    v13 = *(_DWORD *)(v5 + 4);
    if ( !*(_DWORD *)(v13 + 16652) )
    {
      if ( !(*(_DWORD *)(v13 + 16760) & 0x100000) )
      {
        *(float *)&v12 = *(float *)&v12 / FAR_CLIPPING_PLANE;
        v14 = v12;
        a3 = *(float *)&v14 * *(float *)&v9;
        a4 = *(float *)&v12 * *(float *)&v10;
      }
    }
    v15 = *(_DWORD *)(v13 + 64604);
    *(_DWORD *)(v13 + 59432) = LODWORD(a3);
    *(_DWORD *)(v13 + 64604) = v15 | 1;
    v16 = *(_DWORD *)(v5 + 4);
    v17 = *(_DWORD *)(v16 + 64604);
    v16 += 59376;
    result = v17 | 1;
    *(_DWORD *)(v16 + 60) = LODWORD(a4);
    *(_DWORD *)(v16 + 5228) = result;
  }
  else
  {
    v19 = *(_DWORD *)(v6 + 5228);
    *(_DWORD *)(v6 + 48) = 0;
    *(_DWORD *)(v6 + 5228) = v19 | 1;
    result = *(_DWORD *)(v5 + 39948);
    *(_BYTE *)(result + 23) = 0;
  }
  return result;
}
// 1006F254: using guessed type float FAR_CLIPPING_PLANE;
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);
// 1006F9A0: using guessed type int dword_1006F9A0;

//----- (1001FC70) --------------------------------------------------------
int __thiscall sub_1001FC70(int this, int a2, const void *a3)
{
  int result; // eax@1
  int v4; // edx@1
  int v5; // eax@2
  int v6; // ecx@2
  int v7; // edx@4
  int v8; // ecx@4

  result = a2;
  v4 = this;
  if ( !a2 )
  {
    v5 = *(_DWORD *)(this + 4) + 59376;
    memcpy((void *)(*(_DWORD *)(this + 4) + 60820), a3, 0x40u);
    v6 = *(_DWORD *)(v5 + 5228);
    *(_DWORD *)(v5 + 1572) |= 0x400u;
    *(_DWORD *)(v5 + 5228) = v6 | 0x20;
    memcpy((void *)(*(_DWORD *)(v4 + 39948) + 44), a3, 0x40u);
    return sub_10031703(*(_DWORD *)(v4 + 4) + 60884, 0, a3);
  }
  if ( a2 == 1 )
  {
    memcpy((void *)(*(_DWORD *)(this + 39948) + 108), a3, 0x40u);
    v7 = *(_DWORD *)(this + 4) + 59376;
    memcpy((void *)(*(_DWORD *)(this + 4) + 60692), a3, 0x40u);
    v8 = *(_DWORD *)(v7 + 1572) | 0x100;
  }
  else
  {
    if ( a2 != 2 )
      return result;
    memcpy((void *)(*(_DWORD *)(this + 39948) + 172), a3, 0x40u);
    v7 = *(_DWORD *)(this + 4) + 59376;
    memcpy((void *)(*(_DWORD *)(this + 4) + 60756), a3, 0x40u);
    v8 = *(_DWORD *)(v7 + 1572) | 0x200;
  }
  result = *(_DWORD *)(v7 + 5228) | 0x40;
  *(_DWORD *)(v7 + 1572) = v8;
  *(_DWORD *)(v7 + 5228) = result;
  return result;
}
// 10031703: using guessed type int __stdcall sub_10031703(_DWORD, _DWORD, _DWORD);

//----- (1001FD80) --------------------------------------------------------
int __thiscall sub_1001FD80(int this, int a2)
{
  int result; // eax@1
  int v3; // edx@6

  result = 5 * a2;
  if ( 5 * a2 >= 0 )
  {
    if ( result >= 15 )
      result = 15;
  }
  else
  {
    result = 0;
  }
  if ( *(_BYTE *)(*(_DWORD *)(this + 39948) + 16) == result )
  {
    *(_BYTE *)(*(_DWORD *)(this + 39948) + 16) = result;
  }
  else
  {
    v3 = *(_DWORD *)(this + 4) + 59376;
    *(_DWORD *)(*(_DWORD *)(this + 4) + 64604) |= 1u;
    *(_DWORD *)(v3 + 64) = result;
    *(_BYTE *)(*(_DWORD *)(this + 39948) + 16) = result;
  }
  return result;
}

//----- (1001FDE0) --------------------------------------------------------
int __thiscall sub_1001FDE0(void *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  void *v8; // esi@1
  int v9; // eax@1
  int v10; // eax@1
  int v11; // ecx@1
  int v12; // edx@1
  int v13; // eax@1
  int v14; // eax@1
  int v15; // eax@1
  int v16; // ecx@1
  int v17; // edx@1
  int v18; // eax@1
  int v19; // ecx@1
  int v20; // edx@1
  int v21; // eax@1
  int v22; // ecx@1
  int v23; // edx@1
  int v24; // eax@1
  int result; // eax@1
  int v26; // [sp+0h] [bp-24h]@1
  int *v27; // [sp+14h] [bp-10h]@1
  int v28; // [sp+20h] [bp-4h]@1

  v8 = this;
  v9 = *(_DWORD *)this;
  v27 = &v26;
  v28 = 0;
  v10 = (*(int (__stdcall **)(int))(v9 + 196))(a2);
  v11 = *((_DWORD *)v8 + 1);
  v12 = *(_DWORD *)(v11 + 64604);
  *(_DWORD *)(v11 + 59460) = v10;
  *(_DWORD *)(v11 + 64604) = v12 | 1;
  *(_BYTE *)(*((_DWORD *)v8 + 9987) + 24) = a2;
  v13 = *((_DWORD *)v8 + 1) + 59376;
  *(_DWORD *)(*((_DWORD *)v8 + 1) + 59464) = (unsigned __int8)a3;
  *(_DWORD *)(v13 + 5228) |= 1u;
  *(_DWORD *)(*((_DWORD *)v8 + 9987) + 32) = a3;
  v14 = *((_DWORD *)v8 + 1) + 59376;
  *(_DWORD *)(*((_DWORD *)v8 + 1) + 59468) = (unsigned __int8)a4;
  *(_DWORD *)(v14 + 5228) |= 1u;
  *(_DWORD *)(*((_DWORD *)v8 + 9987) + 36) = a4;
  v15 = (*(int (__thiscall **)(void *, int))(*(_DWORD *)v8 + 192))(v8, a5);
  v16 = *((_DWORD *)v8 + 1);
  v17 = *(_DWORD *)(v16 + 64604);
  v16 += 59376;
  *(_DWORD *)(v16 + 72) = v15;
  *(_DWORD *)(v16 + 5228) = v17 | 1;
  *(_BYTE *)(*((_DWORD *)v8 + 9987) + 25) = a5;
  v18 = (*(int (__thiscall **)(void *, int))(*(_DWORD *)v8 + 192))(v8, a6);
  v19 = *((_DWORD *)v8 + 1);
  v20 = *(_DWORD *)(v19 + 64604);
  v19 += 59376;
  *(_DWORD *)(v19 + 76) = v18;
  *(_DWORD *)(v19 + 5228) = v20 | 1;
  *(_BYTE *)(*((_DWORD *)v8 + 9987) + 26) = a6;
  v21 = (*(int (__thiscall **)(_DWORD, int))(*(_DWORD *)v8 + 192))(v8, a7);
  v22 = *((_DWORD *)v8 + 1);
  v23 = *(_DWORD *)(v22 + 64604);
  v22 += 59376;
  *(_DWORD *)(v22 + 80) = v21;
  *(_DWORD *)(v22 + 5228) = v23 | 1;
  *(_BYTE *)(*((_DWORD *)v8 + 9987) + 27) = a7;
  v24 = *((_DWORD *)v8 + 1) + 59376;
  *(_DWORD *)(*((_DWORD *)v8 + 1) + 59472) = (unsigned __int8)a8;
  *(_DWORD *)(v24 + 5228) |= 1u;
  result = *((_DWORD *)v8 + 9987);
  *(_DWORD *)(result + 40) = a8;
  return result;
}

//----- (1001FF56) --------------------------------------------------------
void __usercall sub_1001FF56(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1001FF6A) --------------------------------------------------------
void __cdecl sub_1001FF6A()
{
  appUnwindf("%s", off_100801BC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801BC: using guessed type char *off_100801BC[40];

//----- (1001FF90) --------------------------------------------------------
int __thiscall sub_1001FF90(int this, int a2)
{
  int result; // eax@1

  result = *(_DWORD *)(this + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(this + 4) + 59444) = a2;
  *(_DWORD *)(result + 5228) |= 1u;
  return result;
}

//----- (1001FFB0) --------------------------------------------------------
int __thiscall sub_1001FFB0(int this, int a2)
{
  int v2; // eax@1
  int v3; // esi@1
  int v4; // eax@1
  int v5; // ecx@1
  int result; // eax@1

  v2 = *(_DWORD *)(this + 4) + 59376;
  v3 = *(_DWORD *)(*(_DWORD *)(this + 4) + 64604);
  *(_DWORD *)(*(_DWORD *)(this + 4) + 59388) = a2;
  *(_DWORD *)(v2 + 5228) = v3 | 1;
  v4 = *(_DWORD *)(this + 4);
  v5 = *(_DWORD *)(v4 + 64604);
  result = v4 + 59376;
  *(_DWORD *)(result + 8) = a2;
  *(_DWORD *)(result + 5228) = v5 | 1;
  return result;
}

//----- (1001FFF0) --------------------------------------------------------
signed int __thiscall sub_1001FFF0(void *this, int a2, int a3, int a4)
{
  signed int v4; // esi@1
  void *v5; // ebx@1
  int v6; // eax@1
  int v7; // edi@1
  int v8; // eax@1
  int v9; // eax@3
  int v10; // ecx@4
  signed int v11; // edi@4
  int *i; // eax@4
  int v13; // eax@7
  char *v14; // edx@7
  int v15; // eax@9
  int v16; // ecx@9
  int v18; // [sp+0h] [bp-180h]@1
  char v19[320]; // [sp+Ch] [bp-174h]@1
  int v20; // [sp+14Ch] [bp-34h]@1
  int v21; // [sp+154h] [bp-2Ch]@4
  int v22; // [sp+158h] [bp-28h]@7
  int v23; // [sp+15Ch] [bp-24h]@7
  int v24; // [sp+160h] [bp-20h]@7
  int v25; // [sp+164h] [bp-1Ch]@7
  int v26; // [sp+168h] [bp-18h]@1
  int *v27; // [sp+170h] [bp-10h]@1
  int v28; // [sp+17Ch] [bp-4h]@1

  v27 = &v18;
  v4 = 0;
  v5 = this;
  v28 = 0;
  v6 = sub_1001B3A0(this, a2);
  v7 = v6;
  v26 = v6;
  sub_1001B7D0(v19);
  v8 = *((_DWORD *)v5 + 9987);
  v20 = *(_BYTE *)(v8 + 1244);
  if ( *(_DWORD *)(v8 + 1164) && *(_DWORD *)(*(_DWORD *)(v8 + 1164) + 60) )
  {
    while ( 1 )
    {
      v9 = *((_DWORD *)v5 + 9987);
      if ( v4 >= *(_BYTE *)(v9 + 1244) )
        break;
      v10 = *(_DWORD *)(*(_DWORD *)(v9 + 4 * v4 + 1164) + 60);
      v11 = 8;
      for ( i = &v21; ; i = (int *)((char *)i + 2) )
      {
        --v11;
        if ( v11 < 0 )
          break;
      }
      v13 = (*(int (__stdcall **)(int *))(*(_DWORD *)v10 + 32))(&v21);
      v7 = v26;
      v14 = &v19[20 * v4];
      *(_DWORD *)v14 = v21;
      *((_DWORD *)v14 + 1) = v22;
      *((_DWORD *)v14 + 2) = v23;
      *((_DWORD *)v14 + 3) = v24;
      v25 = v13;
      *((_DWORD *)v14 + 4) = v13;
      ++v4;
    }
    if ( sub_1002F3A0(v7, (int)v19, *(_DWORD *)(a2 + 16), a4, a3) )
    {
      *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v5 + 9987) + 4 * a3 + 772) + 940) = v7;
      *(_DWORD *)(*((_DWORD *)v5 + 9987) + 236) = 0;
      *(_DWORD *)(*((_DWORD *)v5 + 9987) + 1152) = v7;
      v15 = sub_1002C890(v7, (int)v19);
      v16 = *((_DWORD *)v5 + 1) + 59376;
      *(_DWORD *)(*((_DWORD *)v5 + 1) + 60952) = v15;
      *(_DWORD *)(v16 + 5228) |= 4u;
      return 1;
    }
  }
  else
  {
    if ( a4 )
      FString::operator_("No stream.");
  }
  return 0;
}
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1001FFF0: using guessed type char var_174[320];

//----- (10020180) --------------------------------------------------------
void __usercall sub_10020180(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 48);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10020194) --------------------------------------------------------
void __cdecl sub_10020194()
{
  appUnwindf("%s", off_100801C0[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801C0: using guessed type char *off_100801C0[39];

//----- (10020220) --------------------------------------------------------
int __thiscall sub_10020220(int this, int a2, int a3, signed int a4)
{
  int v4; // edi@1
  int v5; // ecx@1
  int v6; // ebx@1
  unsigned __int64 v7; // qax@1
  unsigned __int64 v8; // qax@1
  signed int v9; // edx@1
  signed int i; // ecx@1
  int v11; // eax@2
  int v12; // eax@4
  signed int v13; // esi@6
  signed int v14; // ebx@8
  int *j; // eax@8
  int v16; // eax@11
  int v17; // ecx@11
  signed int v18; // esi@12
  int v19; // ebx@14
  int v20; // eax@15
  int v21; // eax@20
  int v22; // ecx@20
  int v23; // eax@22
  int v24; // eax@23
  int v25; // edi@23
  unsigned __int64 v26; // qax@24
  unsigned __int64 v27; // qax@24
  int result; // eax@24
  int v29; // [sp+0h] [bp-40h]@1
  int v30; // [sp+Ch] [bp-34h]@8
  int v31; // [sp+10h] [bp-30h]@11
  int v32; // [sp+14h] [bp-2Ch]@11
  int v33; // [sp+18h] [bp-28h]@11
  int v34; // [sp+1Ch] [bp-24h]@11
  void *v35; // [sp+24h] [bp-1Ch]@1
  int v36; // [sp+2Ch] [bp-14h]@12
  int *v37; // [sp+30h] [bp-10h]@1
  int v38; // [sp+3Ch] [bp-4h]@1

  v4 = this;
  v5 = *(_DWORD *)(this + 4);
  v6 = 0;
  v37 = &v29;
  v38 = 0;
  v5 += 65052;
  v7 = __rdtsc();
  qword_100845C4 = v7;
  *(_DWORD *)FClock::CurStat += v7 - 12;
  v35 = FClock::CurStat;
  FClock::CurStat = (void *)v5;
  v8 = __rdtsc();
  qword_100845C4 = v8;
  HIDWORD(v8) = *(_DWORD *)v5 - v8;
  LODWORD(v8) = *(_DWORD *)(v5 + 4) + 1;
  *(_DWORD *)v5 = HIDWORD(v8);
  *(_DWORD *)(v5 + 4) = v8;
  v9 = a4;
  LOBYTE(v38) = 1;
  for ( i = a4; ; ++i )
  {
    v11 = *(_DWORD *)(v4 + 39948);
    if ( i >= *(_BYTE *)(v11 + 1244) )
      break;
    if ( *(_DWORD *)(v11 + 4 * i + 1164) )
    {
      *(_DWORD *)(v11 + 4 * i + 1164) = 0;
      v12 = *(_DWORD *)(v4 + 4) + 59376;
      *(_DWORD *)(v12 + 8 * i + 1584) = 0;
      *(_DWORD *)(v12 + 8 * i + 1588) = 0;
      *(_DWORD *)(v12 + 5228) |= 8u;
    }
  }
  *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 1148) = a4;
  v13 = 0;
  while ( v13 < v9 )
  {
    v14 = 8;
    for ( j = &v30; ; j = (int *)((char *)j + 2) )
    {
      --v14;
      if ( v14 < 0 )
        break;
    }
    v16 = (*(int (__stdcall **)(int *))(**(_DWORD **)(a3 + 4 * v13) + 32))(&v30);
    v17 = *(_DWORD *)(v4 + 39948);
    v34 = v16;
    *(_DWORD *)(v17 + 20 * v13 + 828) = v30;
    *(_DWORD *)(v17 + 20 * v13 + 832) = v31;
    *(_DWORD *)(v17 + 20 * v13 + 836) = v32;
    *(_DWORD *)(v17 + 20 * v13 + 840) = v33;
    *(_DWORD *)(v17 + 20 * v13 + 844) = v34;
    v9 = a4;
    ++v13;
    v6 = 0;
  }
  v36 = v6;
  v18 = 0;
  while ( v18 < v9 )
  {
    v19 = UD3DRenderDevice::GetCachedResource(
            *(void **)(v4 + 4),
            *(_DWORD *)(*(_DWORD *)(a3 + 4 * v18) + 4),
            *(_DWORD *)(*(_DWORD *)(a3 + 4 * v18) + 8));
    if ( !v19 )
    {
      v20 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(64);
      if ( v20 )
        v19 = sub_1002A320(v20, *(_DWORD *)(v4 + 4), *(_DWORD *)(a3 + 4 * v18));
      else
        v19 = 0;
    }
    if ( *(_DWORD *)(v19 + 16) != (*(int (**)(void))(**(_DWORD **)(a3 + 4 * v18) + 4))() )
    {
      v36 += (*(int (**)(void))(**(_DWORD **)(a3 + 4 * v18) + 20))();
      sub_1002A380(v19, *(_DWORD *)(a3 + 4 * v18));
    }
    *(_DWORD *)(v19 + 20) = *(_DWORD *)(*(_DWORD *)(v4 + 4) + 18088);
    v21 = (*(int (**)(void))(**(_DWORD **)(a3 + 4 * v18) + 16))();
    v22 = *(_DWORD *)(v4 + 4) + 59376;
    *(_DWORD *)(v22 + 8 * v18 + 1584) = *(_DWORD *)(v19 + 48);
    *(_DWORD *)(v22 + 8 * v18 + 1588) = v21;
    *(_DWORD *)(v22 + 5228) |= 8u;
    *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 4 * v18 + 1164) = v19;
    *(_BYTE *)(*(_DWORD *)(v4 + 39948) + v18 + 1228) = v21;
    v9 = a4;
    ++v18;
    v6 = 0;
  }
  *(_BYTE *)(*(_DWORD *)(v4 + 39948) + 1244) = v9;
  if ( a2 == v6 )
  {
    v23 = *(_DWORD *)(v4 + 39948);
    if ( *(_DWORD *)(v23 + 1148) > v6 )
    {
      v24 = UD3DRenderDevice::GetVertexShader(*(_DWORD *)(v4 + 4), v6, v23 + 828);
      *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 236) = v24;
      *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 1152) = v6;
      v25 = *(_DWORD *)(v4 + 4) + 59376;
      *(_DWORD *)(v25 + 1576) = *(_DWORD *)(v24 + 336);
      *(_DWORD *)(v25 + 5228) |= 4u;
    }
  }
  v26 = __rdtsc();
  qword_100845C4 = v26;
  *(_DWORD *)FClock::CurStat += v26 - 12;
  FClock::CurStat = v35;
  v27 = __rdtsc();
  qword_100845C4 = v27;
  HIDWORD(v27) = *(_DWORD *)FClock::CurStat - v27;
  result = v36;
  *(_DWORD *)FClock::CurStat = HIDWORD(v27);
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F1D0: using guessed type void *FClock__CurStat;
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (10020506) --------------------------------------------------------
void __usercall sub_10020506(int a1<ebp>)
{
  *(_DWORD *)(a1 - 24) = *(_DWORD *)(a1 - 32);
  CxxThrowException(a1 - 24, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002051A) --------------------------------------------------------
void __cdecl sub_1002051A()
{
  appUnwindf("%s", off_100801C4[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801C4: using guessed type char *off_100801C4[38];

//----- (10020540) --------------------------------------------------------
int __thiscall sub_10020540(int this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // edx@1
  bool v6; // zf@1
  int v7; // ecx@2
  int v8; // edi@2
  int v9; // eax@3
  int v10; // ecx@3
  int v11; // ecx@4
  int v12; // eax@6
  int v13; // eax@6
  int v14; // ecx@6
  int v15; // edx@6
  signed int i; // ecx@6
  int v17; // eax@7
  int v18; // eax@8
  signed int v19; // edx@9
  int *j; // eax@9
  int v21; // eax@12
  int v22; // edx@12
  int v23; // eax@12
  int v24; // ecx@12
  int v25; // eax@12
  unsigned __int64 v26; // qax@12
  unsigned __int64 v27; // qax@12
  int result; // eax@12
  int v29; // [sp+0h] [bp-44h]@1
  int v30; // [sp+Ch] [bp-38h]@9
  int v31; // [sp+10h] [bp-34h]@12
  int v32; // [sp+14h] [bp-30h]@12
  int v33; // [sp+18h] [bp-2Ch]@12
  int v34; // [sp+1Ch] [bp-28h]@12
  int v35; // [sp+24h] [bp-20h]@2
  void *v36; // [sp+2Ch] [bp-18h]@1
  int v37; // [sp+30h] [bp-14h]@6
  int *v38; // [sp+34h] [bp-10h]@1
  int v39; // [sp+40h] [bp-4h]@1
  int v40; // [sp+50h] [bp+Ch]@6

  v3 = this;
  v4 = *(_DWORD *)(this + 4);
  v38 = &v29;
  v39 = 0;
  v4 += 65092;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v36 = FClock::CurStat;
  FClock::CurStat = (void *)v4;
  qword_100845C4 = __rdtsc();
  v5 = *(_DWORD *)(v4 + 4) + 1;
  *(_DWORD *)v4 -= qword_100845C4;
  *(_DWORD *)(v4 + 4) = v5;
  v6 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 16572) == 0;
  LOBYTE(v39) = 1;
  if ( v6 )
  {
    v7 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(72);
    v35 = v7;
    v8 = a3;
    LOBYTE(v39) = 2;
    if ( v7 )
    {
      v9 = sub_1002C120(v7, *(_DWORD *)(v3 + 4), a3);
      v10 = *(_DWORD *)(v3 + 4);
      LOBYTE(v39) = 1;
      *(_DWORD *)(v10 + 16572) = v9;
    }
    else
    {
      v11 = *(_DWORD *)(v3 + 4);
      LOBYTE(v39) = 1;
      *(_DWORD *)(v11 + 16572) = 0;
    }
  }
  else
  {
    v8 = a3;
  }
  v12 = *(_DWORD *)(v3 + 4);
  v37 = 0;
  v40 = sub_1002D610(*(void **)(v12 + 16572), v8, (int)&v37);
  v13 = (*(int (__thiscall **)(int))(*(_DWORD *)v8 + 16))(v8);
  v14 = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v14 + 60960) = *(_DWORD *)(*(_DWORD *)(v14 + 16572) + 4 * v37 + 48);
  v15 = *(_DWORD *)(v14 + 64604);
  *(_DWORD *)(v14 + 60964) = v13;
  *(_DWORD *)(v14 + 64604) = v15 | 8;
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1164) = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 16572);
  *(_BYTE *)(*(_DWORD *)(v3 + 39948) + 1228) = v13;
  for ( i = 1; ; ++i )
  {
    v17 = *(_DWORD *)(v3 + 39948);
    if ( i >= *(_BYTE *)(v17 + 1244) )
      break;
    *(_DWORD *)(v17 + 4 * i + 1164) = 0;
    v18 = *(_DWORD *)(v3 + 4) + 59376;
    *(_DWORD *)(v18 + 8 * i + 1584) = 0;
    *(_DWORD *)(v18 + 8 * i + 1588) = 0;
    *(_DWORD *)(v18 + 5228) |= 8u;
  }
  *(_BYTE *)(*(_DWORD *)(v3 + 39948) + 1244) = 1;
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1148) = 1;
  v19 = 8;
  for ( j = &v30; ; j = (int *)((char *)j + 2) )
  {
    --v19;
    if ( v19 < 0 )
      break;
  }
  v21 = (*(int (__thiscall **)(int, int *))(*(_DWORD *)v8 + 32))(v8, &v30);
  v22 = *(_DWORD *)(v3 + 39948);
  v34 = v21;
  v22 += 828;
  *(_DWORD *)v22 = v30;
  *(_DWORD *)(v22 + 4) = v31;
  *(_DWORD *)(v22 + 8) = v32;
  *(_DWORD *)(v22 + 12) = v33;
  *(_DWORD *)(v22 + 16) = v34;
  v23 = UD3DRenderDevice::GetVertexShader(*(_DWORD *)(v3 + 4), a2, *(_DWORD *)(v3 + 39948) + 828);
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 236) = v23;
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1152) = 0;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 4) + 16572) + 60) = v8;
  v24 = *(_DWORD *)(v23 + 336);
  v25 = *(_DWORD *)(v3 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 60952) = v24;
  *(_DWORD *)(v25 + 5228) |= 4u;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 65696) += (*(int (__thiscall **)(int))(*(_DWORD *)v8 + 20))(v8);
  v26 = __rdtsc();
  qword_100845C4 = v26;
  *(_DWORD *)FClock::CurStat += v26 - 12;
  FClock::CurStat = v36;
  v27 = __rdtsc();
  qword_100845C4 = v27;
  HIDWORD(v27) = *(_DWORD *)FClock::CurStat - v27;
  result = v40;
  *(_DWORD *)FClock::CurStat = HIDWORD(v27);
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F1D0: using guessed type void *FClock__CurStat;
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (100207FF) --------------------------------------------------------
void __usercall sub_100207FF(int a1<ebp>)
{
  *(_DWORD *)(a1 - 28) = *(_DWORD *)(a1 - 36);
  CxxThrowException(a1 - 28, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10020813) --------------------------------------------------------
void __cdecl sub_10020813()
{
  appUnwindf("%s", off_100801C8[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801C8: using guessed type char *off_100801C8[37];

//----- (10020840) --------------------------------------------------------
int __thiscall sub_10020840(int this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // ecx@1
  unsigned __int64 v5; // qax@1
  int v6; // edi@3
  int v7; // ecx@4
  signed int v8; // ecx@9
  int v9; // edi@11
  int v10; // esi@11
  int v11; // eax@11
  int v12; // esi@12
  int v13; // eax@13
  int v14; // esi@14
  int v15; // eax@14
  unsigned __int64 v16; // qax@16
  unsigned __int64 v17; // qax@16
  int v19; // [sp+0h] [bp-2Ch]@1
  void *v20; // [sp+10h] [bp-1Ch]@1
  int v21; // [sp+18h] [bp-14h]@1
  int *v22; // [sp+1Ch] [bp-10h]@1
  int v23; // [sp+28h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)(this + 4);
  v22 = &v19;
  v23 = 0;
  v4 += 65132;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v20 = FClock::CurStat;
  FClock::CurStat = (void *)v4;
  v5 = __rdtsc();
  qword_100845C4 = v5;
  HIDWORD(v5) = *(_DWORD *)(v4 + 4) + 1;
  *(_DWORD *)v4 -= v5;
  *(_DWORD *)(v4 + 4) = HIDWORD(v5);
  v21 = 0;
  LOBYTE(v23) = 1;
  if ( !a2 || !(*(int (__thiscall **)(int))(*(_DWORD *)a2 + 16))(a2) )
  {
    v13 = *(_DWORD *)(v3 + 39948);
    if ( *(_DWORD *)(v13 + 1156) )
    {
      *(_DWORD *)(v13 + 1156) = 0;
      *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1160) = 0;
      v14 = *(_DWORD *)(v3 + 4);
      v15 = *(_DWORD *)(v14 + 64604);
      v14 += 59376;
      *(_DWORD *)(v14 + 1712) = 0;
      *(_DWORD *)(v14 + 1716) = 0;
      *(_DWORD *)(v14 + 5228) = v15 | 8;
    }
    goto LABEL_15;
  }
  v6 = UD3DRenderDevice::GetCachedResource(*(void **)(v3 + 4), *(_DWORD *)(a2 + 4), *(_DWORD *)(a2 + 8));
  if ( !v6 )
  {
    v7 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(56);
    LOBYTE(v23) = 2;
    if ( v7 )
      v6 = sub_1002A7D0(v7, *(_DWORD *)(v3 + 4), a2);
    else
      v6 = 0;
    LOBYTE(v23) = 1;
  }
  if ( *(_DWORD *)(v6 + 16) == (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 4))(a2) )
  {
    v8 = v21;
  }
  else
  {
    sub_1002C270((void *)v6, a2);
    v8 = 1;
  }
  *(_DWORD *)(v6 + 20) = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 18088);
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1156) = v6;
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1160) = a3;
  v9 = *(_DWORD *)(v6 + 48);
  v10 = *(_DWORD *)(v3 + 4) + 59376;
  *(_DWORD *)(v10 + 1716) = a3;
  v11 = *(_DWORD *)(v10 + 5228) | 8;
  *(_DWORD *)(v10 + 1712) = v9;
  *(_DWORD *)(v10 + 5228) = v11;
  if ( !v8 )
  {
LABEL_15:
    v12 = 0;
    goto LABEL_16;
  }
  v12 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 16))(a2);
LABEL_16:
  v16 = __rdtsc();
  qword_100845C4 = v16;
  *(_DWORD *)FClock::CurStat += v16 - 12;
  FClock::CurStat = v20;
  v17 = __rdtsc();
  qword_100845C4 = v17;
  *(_DWORD *)FClock::CurStat -= v17;
  return v12;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F1D0: using guessed type void *FClock__CurStat;
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (10020A90) --------------------------------------------------------
int __thiscall sub_10020A90(int this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // ecx@1
  unsigned __int64 v5; // qax@1
  unsigned __int64 v6; // qax@1
  int v7; // edi@1
  bool v8; // zf@1
  int v9; // eax@1
  int v10; // ecx@3
  int v11; // eax@4
  int v12; // ecx@6
  int v13; // ebx@7
  int v14; // ecx@9
  int v15; // eax@10
  int v16; // ecx@12
  int v17; // ebx@14
  int v18; // eax@14
  unsigned __int64 v19; // qax@14
  unsigned __int64 v20; // qax@14
  int result; // eax@14
  int v22; // [sp+0h] [bp-28h]@1
  void *v23; // [sp+14h] [bp-14h]@1
  int *v24; // [sp+18h] [bp-10h]@1
  int v25; // [sp+24h] [bp-4h]@1
  int v26; // [sp+30h] [bp+8h]@14

  v3 = this;
  v4 = *(_DWORD *)(this + 4);
  v24 = &v22;
  v25 = 0;
  v4 += 65172;
  v5 = __rdtsc();
  qword_100845C4 = v5;
  *(_DWORD *)FClock::CurStat += v5 - 12;
  v23 = FClock::CurStat;
  FClock::CurStat = (void *)v4;
  v6 = __rdtsc();
  qword_100845C4 = v6;
  HIDWORD(v6) = *(_DWORD *)v4 - v6;
  LODWORD(v6) = *(_DWORD *)(v4 + 4) + 1;
  *(_DWORD *)v4 = HIDWORD(v6);
  *(_DWORD *)(v4 + 4) = v6;
  v7 = a2;
  HIDWORD(v6) = *(_DWORD *)a2;
  LOBYTE(v25) = 1;
  v8 = (*(int (__thiscall **)(int))(HIDWORD(v6) + 24))(a2) == 4;
  v9 = *(_DWORD *)(v3 + 4);
  if ( v8 )
  {
    if ( !*(_DWORD *)(v9 + 16580) )
    {
      v10 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(64);
      LOBYTE(v25) = 2;
      if ( v10 )
        v11 = sub_1002C460(v10, *(_DWORD *)(v3 + 4), a2, 4);
      else
        v11 = 0;
      v12 = *(_DWORD *)(v3 + 4);
      LOBYTE(v25) = 1;
      *(_DWORD *)(v12 + 16580) = v11;
    }
    v13 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 16580);
  }
  else
  {
    if ( !*(_DWORD *)(v9 + 16576) )
    {
      v14 = (*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(64);
      LOBYTE(v25) = 3;
      if ( v14 )
        v15 = sub_1002C460(v14, *(_DWORD *)(v3 + 4), a2, 2);
      else
        v15 = 0;
      v16 = *(_DWORD *)(v3 + 4);
      LOBYTE(v25) = 1;
      *(_DWORD *)(v16 + 16576) = v15;
    }
    v13 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 16576);
  }
  v26 = sub_1002D990((void *)v13, a2);
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1156) = v13;
  *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1160) = a3;
  v17 = *(_DWORD *)(v13 + 48);
  v18 = *(_DWORD *)(v3 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 61092) = a3;
  *(_DWORD *)(v18 + 5228) |= 8u;
  *(_DWORD *)(v18 + 1712) = v17;
  *(_DWORD *)(*(_DWORD *)(v3 + 4) + 65736) += (*(int (__thiscall **)(int))(*(_DWORD *)v7 + 16))(v7);
  v19 = __rdtsc();
  qword_100845C4 = v19;
  *(_DWORD *)FClock::CurStat += v19 - 12;
  FClock::CurStat = v23;
  v20 = __rdtsc();
  qword_100845C4 = v20;
  HIDWORD(v20) = *(_DWORD *)FClock::CurStat - v20;
  result = v26;
  *(_DWORD *)FClock::CurStat = HIDWORD(v20);
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F1D0: using guessed type void *FClock__CurStat;
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (10020C7B) --------------------------------------------------------
void __usercall sub_10020C7B(int a1<ebp>)
{
  *(_DWORD *)(a1 - 24) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 24, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10020C8F) --------------------------------------------------------
void __cdecl sub_10020C8F()
{
  appUnwindf("%s", off_100801D0[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801D0: using guessed type char *off_100801D0[35];

//----- (10020CB0) --------------------------------------------------------
int __thiscall sub_10020CB0(void *this, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  signed int v7; // ecx@1
  int result; // eax@2
  int v9; // eax@3
  char v10; // cl@3
  int v11; // eax@4
  int v12; // eax@5
  int v13; // ecx@5
  int v14; // ecx@6
  int v15; // eax@7
  int v16; // ecx@7
  int v17; // eax@9
  int v18; // ecx@9
  int v19; // eax@16
  int v20; // eax@31
  int v21; // ecx@31
  signed int v22; // [sp-14h] [bp-48h]@8
  int v23; // [sp-10h] [bp-44h]@8
  int v24; // [sp-Ch] [bp-40h]@8
  signed int v25; // [sp-Ch] [bp-40h]@16
  int v26; // [sp-8h] [bp-3Ch]@7
  int v27; // [sp-8h] [bp-3Ch]@16
  int v28; // [sp-4h] [bp-38h]@7
  int v29; // [sp+0h] [bp-34h]@1
  void *v30; // [sp+14h] [bp-20h]@6
  int v31; // [sp+18h] [bp-1Ch]@3
  int v32; // [sp+1Ch] [bp-18h]@1
  int i; // [sp+20h] [bp-14h]@1
  int *v34; // [sp+24h] [bp-10h]@1
  int v35; // [sp+30h] [bp-4h]@1

  v6 = (int)this;
  v7 = 0;
  v34 = &v29;
  v32 = v6;
  v35 = 0;
  for ( i = 0; ; v7 = i )
  {
    result = *(_DWORD *)(v6 + 39948);
    if ( v7 >= *(_BYTE *)(result + 804) )
      break;
    sub_1001ED70(v6, *(_DWORD *)(result + 4 * v7 + 772), *(_DWORD *)(result + 240));
    v9 = *(_DWORD *)(v6 + 39948);
    v10 = *(_BYTE *)(v9 + 23);
    v31 = 0;
    if ( v10 )
    {
      v11 = *(_DWORD *)(v9 + 768);
      if ( *(_BYTE *)(v11 + 4) & 0x40 )
      {
        v31 = 1;
        v12 = FColor::operator unsigned_long(v11 + 28);
        v13 = *(_DWORD *)(v6 + 4) + 59376;
        *(_DWORD *)(*(_DWORD *)(v6 + 4) + 59428) = v12;
        *(_DWORD *)(v13 + 5228) |= 1u;
      }
    }
    sub_10028F10((void *)(*(_DWORD *)(v6 + 4) + 59376));
    v14 = *(_DWORD *)(v6 + 4) + 65212;
    v30 = FClock::CurStat;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    v30 = FClock::CurStat;
    FClock::CurStat = (void *)v14;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)v14 -= qword_100845C4;
    ++*(_DWORD *)(v14 + 4);
    LOBYTE(v35) = 2;
    switch ( a2 )
    {
      case 5:
        v15 = *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100);
        v16 = *(_DWORD *)v15;
        v28 = a4;
        v26 = a3;
        if ( !*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 1156) )
        {
          (*(void (__stdcall **)(int, signed int, int, int))(v16 + 280))(v15, 4, a3, a4);
          v17 = *(_DWORD *)(v6 + 4) + 64692;
          v18 = 3 * a4;
          goto LABEL_10;
        }
        v24 = a6 - a5 + 1;
        v23 = a5;
        v22 = 4;
        break;
      case 6:
        v28 = a4;
        if ( !*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 1156) )
        {
          v19 = *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100);
          v27 = a3;
          v25 = 5;
LABEL_17:
          (*(void (__stdcall **)(int, signed int, int, int))(*(_DWORD *)v19 + 280))(v19, v25, v27, v28);
          v17 = *(_DWORD *)(v6 + 4) + 64692;
          v18 = a4 + 2;
          goto LABEL_10;
        }
        v15 = *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100);
        v16 = *(_DWORD *)v15;
        v26 = a3;
        v24 = a6 - a5 + 1;
        v23 = a5;
        v22 = 5;
        break;
      case 7:
        v28 = a4;
        if ( !*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 1156) )
        {
          v19 = *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100);
          v27 = a3;
          v25 = 6;
          goto LABEL_17;
        }
        v15 = *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100);
        v16 = *(_DWORD *)v15;
        v26 = a3;
        v24 = a6 - a5 + 1;
        v23 = a5;
        v22 = 6;
        break;
      default:
        if ( a2 != 1 )
        {
          if ( a2 != 2 )
            goto LABEL_11;
          if ( *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 1156) )
          {
            (*(void (__stdcall **)(_DWORD, signed int, int, int, int, int))(**(_DWORD **)(*(_DWORD *)(v6 + 4) + 18100)
                                                                          + 284))(
              *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100),
              2,
              a5,
              a6 - a5 + 1,
              a3,
              a4);
            *(_DWORD *)(*(_DWORD *)(v6 + 4) + 64696) += a6 - a5 + 1;
            goto LABEL_11;
          }
          (*(void (__stdcall **)(_DWORD, signed int, int, int))(**(_DWORD **)(*(_DWORD *)(v6 + 4) + 18100) + 280))(
            *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100),
            2,
            a3,
            a4);
          v17 = *(_DWORD *)(v6 + 4) + 64692;
          v18 = 2 * a4;
          goto LABEL_10;
        }
        v28 = a4;
        if ( !*(_DWORD *)(*(_DWORD *)(v6 + 39948) + 1156) )
        {
          (*(void (__stdcall **)(_DWORD, signed int, int, int))(**(_DWORD **)(*(_DWORD *)(v6 + 4) + 18100) + 280))(
            *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100),
            1,
            a3,
            a4);
          *(_DWORD *)(*(_DWORD *)(v6 + 4) + 64696) += a4;
          goto LABEL_11;
        }
        v15 = *(_DWORD *)(*(_DWORD *)(v6 + 4) + 18100);
        v16 = *(_DWORD *)v15;
        v26 = a3;
        v24 = a6 - a5 + 1;
        v23 = a5;
        v22 = 1;
        break;
    }
    (*(void (__stdcall **)(int, signed int, int, int, int, int))(v16 + 284))(v15, v22, v23, v24, v26, v28);
    v17 = *(_DWORD *)(v6 + 4) + 64692;
    v18 = a6 - a5 + 1;
LABEL_10:
    *(_DWORD *)(v17 + 4) += v18;
LABEL_11:
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    FClock::CurStat = v30;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat -= qword_100845C4;
    v35 = 0;
    if ( v31 )
    {
      v20 = FColor::operator unsigned_long(*(_DWORD *)(v6 + 39948) + 760);
      v21 = *(_DWORD *)(v6 + 4) + 59376;
      *(_DWORD *)(*(_DWORD *)(v6 + 4) + 59428) = v20;
      *(_DWORD *)(v21 + 5228) |= 1u;
    }
    *(_DWORD *)(*(_DWORD *)(v6 + 4) + 64656) += a4;
    ++i;
  }
  return result;
}
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (10021100) --------------------------------------------------------
int __thiscall sub_10021100(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // eax@7
  int v10; // eax@10
  void *v11; // eax@13
  int v12; // ecx@14
  int result; // eax@19
  int v14; // [sp+0h] [bp-28h]@1
  int v15; // [sp+14h] [bp-14h]@1
  int *v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+24h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)this;
  v5 = *(_DWORD *)this == 0;
  v16 = &v14;
  v15 = this;
  v17 = 0;
  if ( v5 || (v6 = *(_DWORD *)(this + 4), v6 & 0x20000000) )
  {
    v7 = a2;
    v10 = a3;
    if ( a2 + a3 )
    {
      if ( a2 >= a3 )
        v10 = a2;
      v11 = (void *)(*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(4 * v10);
      if ( *(_DWORD *)v3 )
      {
        v12 = 8 * *(_DWORD *)(v3 + 4) >> 3;
        if ( v12 > a2 )
          v12 = a2;
        memcpy(v11, *(const void **)v3, 4 * v12);
        v3 = v15;
      }
      *(_DWORD *)v3 = v11;
    }
    else
    {
      *(_DWORD *)v3 = 0;
    }
  }
  else
  {
    v7 = a2;
    v8 = 8 * v6 >> 3;
    if ( a2 <= v8 )
    {
      if ( v6 >= 0 && ((4 * a2 + 31) & 0xFFFFFFE0u) < ((4 * v8 + 31) & 0xFFFFFFE0u) )
      {
        v9 = a3;
        if ( a3 < a2 )
          v9 = a2;
        *(_DWORD *)v3 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)GMalloc + 8))(*(_DWORD *)v3, 4 * a2, 4 * v9);
      }
    }
    else
    {
      *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, 4 * a2, 4 * a3);
    }
  }
  result = (v7 ^ *(_DWORD *)(v3 + 4)) & 0x1FFFFFFF ^ *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (10021260) --------------------------------------------------------
int __userpurge sub_10021260<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UTerrainMaterial::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UTerrainMaterial::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10021260: could not find valid save-restore pair for ebp
// 1006F324: using guessed type int UTerrainMaterial__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (10021AF0) --------------------------------------------------------
int __userpurge sub_10021AF0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UParticleMaterial::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UParticleMaterial::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10021AF0: could not find valid save-restore pair for ebp
// 1006F320: using guessed type int UParticleMaterial__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (10022380) --------------------------------------------------------
int __userpurge sub_10022380<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UProjectorMultiMaterial::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UProjectorMultiMaterial::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10022380: could not find valid save-restore pair for ebp
// 1006F31C: using guessed type int UProjectorMultiMaterial__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (10022C10) --------------------------------------------------------
int __userpurge sub_10022C10<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UProjectorMaterial::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UProjectorMaterial::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10022C10: could not find valid save-restore pair for ebp
// 1006F318: using guessed type int UProjectorMaterial__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (100234A0) --------------------------------------------------------
int __userpurge sub_100234A0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UHardwareShaderWrapper::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UHardwareShaderWrapper::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 100234A0: could not find valid save-restore pair for ebp
// 1006F314: using guessed type int UHardwareShaderWrapper__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (10023D30) --------------------------------------------------------
int __userpurge sub_10023D30<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UHardwareShader::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UHardwareShader::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10023D30: could not find valid save-restore pair for ebp
// 1006F310: using guessed type int UHardwareShader__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (100245C0) --------------------------------------------------------
int __userpurge sub_100245C0<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UShowMaterialAlpha::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UShowMaterialAlpha::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 100245C0: could not find valid save-restore pair for ebp
// 1006F30C: using guessed type int UShowMaterialAlpha__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (10024E50) --------------------------------------------------------
int __userpurge sub_10024E50<eax>(int a1<edx>, int a2<ecx>, int a3<ebp>, int a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@12
  int v11; // eax@16
  int v12; // ecx@16
  int v13; // eax@22
  int v14; // ebx@23
  int v15; // eax@26
  int v16; // ecx@26
  int v17; // eax@32
  int v18; // eax@36
  int v19; // ecx@36
  int v20; // ebp@41
  int v21; // ebx@44
  int v22; // eax@47
  int v23; // ecx@47
  int v24; // edi@51
  signed int v25; // esi@51
  int v26; // eax@55
  int v27; // ecx@55
  int v28; // eax@59
  int v29; // ecx@59
  int v32; // eax@66
  float v33; // xmm1_4@67
  float v34; // xmm0_4@67
  float v35; // xmm1_4@67
  float v36; // xmm0_4@67
  float v37; // xmm1_4@67
  float v38; // xmm0_4@67
  float v39; // xmm1_4@67
  float v40; // xmm0_4@67
  float v41; // xmm1_4@67
  float v42; // xmm0_4@67
  float v43; // xmm1_4@67
  float v44; // xmm1_4@67
  float v45; // xmm0_4@67
  float v46; // xmm1_4@67
  float v47; // xmm0_4@67
  float v48; // xmm1_4@67
  float v49; // xmm0_4@67
  float v50; // xmm1_4@67
  float v51; // xmm0_4@67
  float v52; // xmm1_4@67
  float v53; // xmm1_4@67
  float v54; // xmm0_4@67
  float v55; // xmm1_4@67
  int v56; // eax@70
  int v57; // eax@72
  int v58; // ecx@72
  int v59; // ecx@76
  int v60; // eax@76
  int v61; // ecx@76
  int v62; // edx@76
  int v63; // eax@76
  int v64; // edx@76
  int v65; // edx@76
  int v66; // eax@77
  int v67; // ecx@77
  int v68; // eax@81
  int v69; // eax@81
  int v70; // eax@82
  int v71; // ecx@82
  int v72; // ecx@86
  int v73; // eax@88
  int v74; // eax@92
  int v75; // ecx@92
  int v76; // [sp-4h] [bp-58h]@20
  int v77; // [sp+Ch] [bp-48h]@1
  int v78; // [sp+10h] [bp-44h]@10
  float v79; // [sp+14h] [bp-40h]@67
  float v80; // [sp+18h] [bp-3Ch]@67
  float v81; // [sp+1Ch] [bp-38h]@67
  float v82; // [sp+20h] [bp-34h]@67
  float v83; // [sp+24h] [bp-30h]@67
  float v84; // [sp+28h] [bp-2Ch]@67
  float v85; // [sp+2Ch] [bp-28h]@67
  float v86; // [sp+30h] [bp-24h]@67
  float v87; // [sp+34h] [bp-20h]@67
  float v88; // [sp+38h] [bp-1Ch]@67
  float v89; // [sp+3Ch] [bp-18h]@67
  float v90; // [sp+40h] [bp-14h]@67
  float v91; // [sp+44h] [bp-10h]@67
  float v92; // [sp+48h] [bp-Ch]@67
  float v93; // [sp+4Ch] [bp-8h]@67
  float v94; // [sp+50h] [bp-4h]@67
  signed int v95; // [sp+58h] [bp+4h]@42

  v5 = a1;
  v77 = a2;
  if ( a5 && a1 )
    v6 = (*(int (__thiscall **)(int))(*(_DWORD *)a1 + 164))(a1);
  else
    v6 = a1;
  if ( v6 )
  {
    v7 = UMaterialSwitch::StaticClass();
    v8 = *(_DWORD *)(v6 + 36);
    if ( v8 )
    {
      while ( v8 != v7 )
      {
        v8 = *(_DWORD *)(v8 + 48);
        if ( !v8 )
          goto LABEL_9;
      }
      return v6;
    }
LABEL_9:
    if ( v7 == 0 )
      return v6;
  }
  v78 = 0;
  if ( a5 && v5 )
    v9 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
  else
    v9 = v5;
  if ( !v9 )
    return v78;
  v11 = UModifier::StaticClass();
  v12 = *(_DWORD *)(v9 + 36);
  if ( v12 )
  {
    while ( v12 != v11 )
    {
      v12 = *(_DWORD *)(v12 + 48);
      if ( !v12 )
        goto LABEL_19;
    }
  }
  else
  {
LABEL_19:
    if ( !(v11 == 0) )
      return v78;
  }
  v76 = a3;
  while ( 1 )
  {
    if ( a5 && (v13 = *(_DWORD *)(v9 + 100)) != 0 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 164))();
    else
      v14 = *(_DWORD *)(v9 + 100);
    if ( !v14 )
    {
LABEL_30:
      v14 = 0;
      goto LABEL_31;
    }
    v15 = UMaterialSwitch::StaticClass();
    v16 = *(_DWORD *)(v14 + 36);
    if ( v16 )
    {
      while ( v16 != v15 )
      {
        v16 = *(_DWORD *)(v16 + 48);
        if ( !v16 )
          goto LABEL_29;
      }
    }
    else
    {
LABEL_29:
      if ( v15 != 0 )
        goto LABEL_30;
    }
LABEL_31:
    v78 = v14;
    if ( a5 && (v17 = *(_DWORD *)(v9 + 100)) != 0 )
      v9 = (*(int (**)(void))(*(_DWORD *)v17 + 164))();
    else
      v9 = *(_DWORD *)(v9 + 100);
    if ( !v9 )
      break;
    v18 = UModifier::StaticClass();
    v19 = *(_DWORD *)(v9 + 36);
    if ( v19 )
    {
      while ( v19 != v18 )
      {
        v19 = *(_DWORD *)(v19 + 48);
        if ( !v19 )
          goto LABEL_39;
      }
    }
    else
    {
LABEL_39:
      if ( v18 != 0 )
        break;
    }
  }
  if ( v14 )
  {
    v20 = a4;
    if ( a4 )
    {
      v95 = 1;
      if ( a5 && v5 )
        v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v5 + 164))(v5);
      else
        v21 = v5;
      if ( v21 )
      {
        v22 = UModifier::StaticClass();
        v23 = *(_DWORD *)(v21 + 36);
        if ( v23 )
        {
          while ( v23 != v22 )
          {
            v23 = *(_DWORD *)(v23 + 48);
            if ( !v23 )
              goto LABEL_50;
          }
LABEL_51:
          v24 = v77;
          v25 = 4;
          while ( 2 )
          {
            if ( (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 168))(v21) && a5 )
              *(_DWORD *)(v20 + 80) = v21;
            v26 = UTexModifier::StaticClass();
            v27 = *(_DWORD *)(v21 + 36);
            if ( v27 )
            {
              while ( v27 != v26 )
              {
                v27 = *(_DWORD *)(v27 + 48);
                if ( !v27 )
                  goto LABEL_58;
              }
LABEL_59:
              v28 = UTexPanner2D::StaticClass(v76);
              v29 = *(_DWORD *)(v21 + 36);
              if ( v29 )
              {
                while ( v29 != v28 )
                {
                  v29 = *(_DWORD *)(v29 + 48);
                  if ( !v29 )
                    goto LABEL_62;
                }
LABEL_63:
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
                  goto LABEL_99;
                __asm { lahf }
                if ( __SETP__(_AH & 0x44, 0) )
LABEL_99:
                  *(_DWORD *)(v24 + 40912) |= v25;
              }
              else
              {
LABEL_62:
                if ( v28 == 0 )
                  goto LABEL_63;
              }
              v76 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v24 + 8) + 48) + 148) + 792);
              v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v21 + 172))(v21);
              if ( v32 )
              {
                *(_DWORD *)v20 |= 1u;
                v33 = *(float *)(v32 + 52) * *(float *)(v20 + 16);
                v79 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 32))
                                    + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 16)))
                            + (float)(*(float *)(v32 + 48) * *(float *)(v20 + 16)))
                    + (float)(*(float *)(v20 + 4) * *(float *)v32);
                v34 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 20)) + v33)
                            + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 36)))
                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 4));
                v35 = *(float *)(v20 + 4) * *(float *)(v32 + 8);
                v80 = v34;
                v36 = (float)((float)((float)(*(float *)(v20 + 12) * *(float *)(v32 + 40)) + v35)
                            + (float)(*(float *)(v20 + 8) * *(float *)(v32 + 24)))
                    + (float)(*(float *)(v20 + 16) * *(float *)(v32 + 56));
                v37 = *(float *)(v32 + 60) * *(float *)(v20 + 16);
                v81 = v36;
                v38 = (float)((float)((float)(*(float *)(v20 + 8) * *(float *)(v32 + 28)) + v37)
                            + (float)(*(float *)(v20 + 4) * *(float *)(v32 + 12)))
                    + (float)(*(float *)(v20 + 12) * *(float *)(v32 + 44));
                v39 = *(float *)(v20 + 28) * *(float *)(v32 + 32);
                v82 = v38;
                v40 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 16)) + v39)
                            + (float)(*(float *)v32 * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 48));
                v41 = *(float *)(v32 + 4) * *(float *)(v20 + 20);
                v83 = v40;
                v42 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 20)) + v41)
                            + (float)(*(float *)(v20 + 32) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 28) * *(float *)(v32 + 36));
                v43 = *(float *)(v20 + 28) * *(float *)(v32 + 40);
                v84 = v42;
                v85 = (float)((float)((float)(*(float *)(v20 + 32) * *(float *)(v32 + 56)) + v43)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 20)))
                    + (float)(*(float *)(v20 + 24) * *(float *)(v32 + 24));
                v44 = *(float *)(v20 + 44) * *(float *)(v32 + 32);
                v86 = (float)((float)((float)(*(float *)(v20 + 24) * *(float *)(v32 + 28))
                                    + (float)(*(float *)(v32 + 60) * *(float *)(v20 + 32)))
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 28)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 20));
                v45 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 16)) + v44)
                            + (float)(*(float *)v32 * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 48));
                v46 = *(float *)(v32 + 4) * *(float *)(v20 + 36);
                v87 = v45;
                v47 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 20)) + v46)
                            + (float)(*(float *)(v20 + 48) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 44) * *(float *)(v32 + 36));
                v48 = *(float *)(v20 + 44) * *(float *)(v32 + 40);
                v88 = v47;
                v49 = (float)((float)((float)(*(float *)(v20 + 48) * *(float *)(v32 + 56)) + v48)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 36)))
                    + (float)(*(float *)(v20 + 40) * *(float *)(v32 + 24));
                v50 = *(float *)(v32 + 60) * *(float *)(v20 + 48);
                v89 = v49;
                v51 = (float)((float)((float)(*(float *)(v20 + 40) * *(float *)(v32 + 28)) + v50)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 44)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 36));
                v52 = *(float *)(v20 + 60) * *(float *)(v32 + 32);
                v90 = v51;
                v91 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 16)) + v52)
                            + (float)(*(float *)v32 * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 48));
                v53 = *(float *)(v20 + 60) * *(float *)(v32 + 40);
                v92 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 20))
                                    + (float)(*(float *)(v32 + 4) * *(float *)(v20 + 52)))
                            + (float)(*(float *)(v20 + 64) * *(float *)(v32 + 52)))
                    + (float)(*(float *)(v20 + 60) * *(float *)(v32 + 36));
                v54 = (float)((float)((float)(*(float *)(v20 + 64) * *(float *)(v32 + 56)) + v53)
                            + (float)(*(float *)(v32 + 8) * *(float *)(v20 + 52)))
                    + (float)(*(float *)(v20 + 56) * *(float *)(v32 + 24));
                v55 = *(float *)(v32 + 60) * *(float *)(v20 + 64);
                v93 = v54;
                v94 = (float)((float)((float)(*(float *)(v20 + 56) * *(float *)(v32 + 28)) + v55)
                            + (float)(*(float *)(v32 + 44) * *(float *)(v20 + 60)))
                    + (float)(*(float *)(v32 + 12) * *(float *)(v20 + 52));
                memcpy((void *)(v20 + 4), &v79, 0x40u);
                *(_DWORD *)(v77 + 40912) |= 4u;
                v25 = 4;
                v24 = v77;
              }
              if ( v95 && *(_BYTE *)(v21 + 104) != 13 )
              {
                v56 = *(_DWORD *)v20 | 1;
                *(_DWORD *)v20 = v56;
                *(_BYTE *)(v20 + 68) = *(_BYTE *)(v21 + 104);
                *(_BYTE *)(v20 + 69) = *(_BYTE *)(v21 + 105);
                *(_DWORD *)v20 = v56 ^ ((unsigned __int8)v56 ^ (unsigned __int8)(8 * *(_DWORD *)(v21 + 108))) & 8;
                v95 = 0;
                *(_DWORD *)(v24 + 40912) |= v25;
              }
              *(_BYTE *)(v20 + 70) = *(_BYTE *)(v21 + 106);
              *(_BYTE *)(v20 + 71) = *(_BYTE *)(v21 + 107);
            }
            else
            {
LABEL_58:
              if ( v26 == 0 )
                goto LABEL_59;
            }
            v57 = UFinalBlend::StaticClass();
            v58 = *(_DWORD *)(v21 + 36);
            if ( v58 )
            {
              while ( v58 != v57 )
              {
                v58 = *(_DWORD *)(v58 + 48);
                if ( !v58 )
                  goto LABEL_75;
              }
LABEL_76:
              v59 = *(_DWORD *)v20 & 0xF01FFFFF | 0x100000;
              *(_DWORD *)v20 = v59;
              *(_BYTE *)(v20 + 72) = *(_BYTE *)(v21 + 104);
              v60 = v59 ^ ((unsigned __int8)v59 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x10;
              *(_DWORD *)v20 = v60;
              v61 = v60 ^ ((unsigned __int8)v60 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x20;
              *(_DWORD *)v20 = v61;
              v62 = v61 ^ ((unsigned __int8)v61 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x40;
              *(_DWORD *)v20 = v62;
              v63 = v62 ^ (unsigned __int8)((v62 ^ (unsigned __int8)(16 * *(_DWORD *)(v21 + 108))) & 0x80);
              *(_DWORD *)v20 = v63;
              *(_DWORD *)v20 = v63 & 0xFFF00FFF | (*(_BYTE *)(v21 + 112) << 12);
              *(_BYTE *)(v20 + 74) = (*(_DWORD *)(v21 + 108) >> 6) & 1;
              v64 = *(_DWORD *)v20;
              *(_BYTE *)(v20 + 73) = (*(_DWORD *)(v21 + 108) >> 7) & 1;
              v65 = ((unsigned __int16)v64 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x800 ^ v64;
              *(_DWORD *)v20 = v65;
              *(_DWORD *)v20 = v65 ^ ((unsigned __int16)v65 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 6)) & 0x400;
            }
            else
            {
LABEL_75:
              if ( v57 == 0 )
                goto LABEL_76;
            }
            v66 = UColorModifier::StaticClass();
            v67 = *(_DWORD *)(v21 + 36);
            if ( v67 )
            {
              while ( v67 != v66 )
              {
                v67 = *(_DWORD *)(v67 + 48);
                if ( !v67 )
                  goto LABEL_80;
              }
LABEL_81:
              v68 = *(_DWORD *)v20 | 2;
              *(_DWORD *)v20 = v68;
              v69 = v68 ^ ((unsigned __int16)v68 ^ (unsigned __int16)(v68 | (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 7))) & 0x100;
              *(_DWORD *)v20 = v69;
              *(_DWORD *)v20 = v69 ^ (unsigned __int8)((v69 ^ (v69 | (unsigned __int8)((unsigned __int8)*(_DWORD *)(v21 + 108) << 7))) & 0x80);
              *(_DWORD *)(v20 + 76) = *(_DWORD *)(v21 + 104);
            }
            else
            {
LABEL_80:
              if ( v66 == 0 )
                goto LABEL_81;
            }
            v70 = UOpacityModifier::StaticClass();
            v71 = *(_DWORD *)(v21 + 36);
            if ( v71 )
            {
              while ( v71 != v70 )
              {
                v71 = *(_DWORD *)(v71 + 48);
                if ( !v71 )
                  goto LABEL_85;
              }
LABEL_86:
              *(_DWORD *)v20 |= v25;
              v72 = *(_DWORD *)v20;
              *(_DWORD *)(v20 + 84) = *(_DWORD *)(v21 + 104);
              *(_DWORD *)v20 = ((unsigned __int16)v72 ^ (unsigned __int16)((unsigned __int16)*(_DWORD *)(v21 + 108) << 9)) & 0x200 ^ v72;
            }
            else
            {
LABEL_85:
              if ( v70 == 0 )
                goto LABEL_86;
            }
            if ( a5 && (v73 = *(_DWORD *)(v21 + 100)) != 0 )
              v21 = (*(int (__thiscall **)(int))(*(_DWORD *)v73 + 164))(v73);
            else
              v21 = *(_DWORD *)(v21 + 100);
            if ( !v21 )
              return v78;
            v74 = UModifier::StaticClass();
            v75 = *(_DWORD *)(v21 + 36);
            if ( v75 )
            {
              while ( v75 != v74 )
              {
                v75 = *(_DWORD *)(v75 + 48);
                if ( !v75 )
                  goto LABEL_95;
              }
            }
            else
            {
LABEL_95:
              if ( v74 != 0 )
                return v78;
            }
            continue;
          }
        }
LABEL_50:
        if ( v22 == 0 )
          goto LABEL_51;
      }
    }
  }
  return v78;
}
// 10024E50: could not find valid save-restore pair for ebp
// 1006F308: using guessed type int UMaterialSwitch__StaticClass(void);
// 1006F3A8: using guessed type int UModifier__StaticClass(void);
// 1006F3AC: using guessed type int UTexModifier__StaticClass(void);
// 1006F3B0: using guessed type int __stdcall UTexPanner2D__StaticClass(_DWORD);
// 1006F3B4: using guessed type int UFinalBlend__StaticClass(void);
// 1006F3B8: using guessed type int UColorModifier__StaticClass(void);
// 1006F3BC: using guessed type int UOpacityModifier__StaticClass(void);

//----- (100257B0) --------------------------------------------------------
void __thiscall sub_100257B0(int this, int a2, int a3)
{
  int v3; // ebx@1
  int v4; // esi@1
  signed int v5; // eax@1
  int v6; // eax@2
  signed int v7; // eax@3
  int v8; // eax@4
  int v9; // edi@9
  int v10; // eax@9
  bool v11; // sf@10
  unsigned __int8 v12; // of@10
  int k; // esi@11
  int v14; // edx@15
  int v15; // ebx@18
  int v16; // eax@18
  int j; // esi@20
  int v18; // edi@22
  int v19; // edx@24
  unsigned int v20; // eax@27
  int v21; // edi@27
  int v22; // ecx@27
  int i; // esi@29
  unsigned int v24; // edx@33
  int v25; // eax@33
  int v26; // eax@39
  int v27; // ecx@39
  void *v28; // edi@40
  const void *v29; // esi@40
  void *v30; // [sp+0h] [bp-54h]@1
  const char *v31; // [sp+4h] [bp-50h]@1
  int v32; // [sp+8h] [bp-4Ch]@1
  int v33; // [sp+Ch] [bp-48h]@1
  int v34; // [sp+10h] [bp-44h]@1
  int v35; // [sp+14h] [bp-40h]@1
  int v36; // [sp+18h] [bp-3Ch]@1
  int v37; // [sp+1Ch] [bp-38h]@1
  char v38; // [sp+20h] [bp-34h]@24
  char v39; // [sp+24h] [bp-30h]@15
  int v40; // [sp+2Ch] [bp-28h]@10
  int v41; // [sp+30h] [bp-24h]@1
  int v42; // [sp+34h] [bp-20h]@1
  int v43; // [sp+38h] [bp-1Ch]@1
  int v44; // [sp+3Ch] [bp-18h]@1
  int v45; // [sp+40h] [bp-14h]@1
  void **v46; // [sp+44h] [bp-10h]@1
  int v47; // [sp+50h] [bp-4h]@1

  v46 = &v30;
  v3 = this;
  v4 = *(_DWORD *)(*(_DWORD *)(this + 4) + 18068);
  v45 = this;
  v47 = 0;
  v43 = v4;
  v44 = 0;
  FColor::FColor(&v42, 0, 0, 0, 255, v30, v31, v32, v33, v34, v35, v36, v37);
  v5 = (*(int (__stdcall **)(_DWORD, int *))(**(_DWORD **)(*(_DWORD *)(v3 + 4) + 18100) + 128))(
         *(_DWORD *)(*(_DWORD *)(v3 + 4) + 18100),
         &v41);
  if ( v5 < 0 )
  {
    v6 = sub_10001020((int)&v36, v5);
    LOBYTE(v47) = 1;
    v32 = FString::operator_(v6);
    v31 = "D3D Driver: GetRenderTarget failed (%s)";
    v30 = GLog;
LABEL_5:
    FOutputDevice::Logf(v30, v31, v32);
    LOBYTE(v47) = 0;
    FString::_FString(&v36);
    return;
  }
  v7 = (*(int (__stdcall **)(int, int *, _DWORD, _DWORD))(*(_DWORD *)v41 + 36))(v41, &v33, 0, 0);
  if ( v7 < 0 )
  {
    v8 = sub_10001020((int)&v36, v7);
    LOBYTE(v47) = 2;
    v32 = FString::operator_(v8);
    v31 = "D3D Driver: LockRect failed (%s)";
    v30 = GLog;
    goto LABEL_5;
  }
  switch ( *(_DWORD *)(v4 + 152) )
  {
    case 2:
      v20 = *(_DWORD *)(v4 + 404);
      v21 = v34 + v33 * *(_DWORD *)(v4 + 408) + 2 * v20;
      v22 = 0;
      while ( 1 )
      {
        v12 = __OFSUB__(v22, *(_DWORD *)(v4 + 416));
        v11 = v22 - *(_DWORD *)(v4 + 416) < 0;
        v40 = v22;
        if ( !(v11 ^ v12) )
          break;
        for ( i = 0; i < *(_DWORD *)(v43 + 412); ++i )
        {
          LOWORD(v20) = *(_WORD *)(v21 + 2 * i);
          if ( (_WORD)v20 != -499 && !v44 )
          {
            v24 = v20 >> 6;
            LOBYTE(v24) = 4 * (v20 >> 6);
            v25 = FColor::FColor(
                    &v37,
                    BYTE1(v20) & 0xF8,
                    v24,
                    (unsigned __int8)(8 * v20),
                    255,
                    v30,
                    v31,
                    v32,
                    v33,
                    v34,
                    v35,
                    v36,
                    v37);
            v22 = v40;
            v42 = *(_DWORD *)v25;
            v44 = 1;
          }
          HIWORD(v20) = HIWORD(v45);
          *(_WORD *)(v21 + 2 * i) = *(_WORD *)(v45 + 4 * (v22 + 8 * i) + 40948);
        }
        HIWORD(v20) = HIWORD(v33);
        v4 = v43;
        v3 = v45;
        ++v22;
        v21 += v33;
      }
      break;
    case 3:
      v15 = v34 + v33 * *(_DWORD *)(v4 + 408) + 3 * *(_DWORD *)(v4 + 404);
      v16 = 0;
      while ( 1 )
      {
        v12 = __OFSUB__(v16, *(_DWORD *)(v4 + 416));
        v11 = v16 - *(_DWORD *)(v4 + 416) < 0;
        v40 = v16;
        if ( !(v11 ^ v12) )
          break;
        for ( j = 0; j < *(_DWORD *)(v43 + 412); ++j )
        {
          v18 = j + v15 + 2 * j;
          if ( *(_DWORD *)v18 != 65037 && !v44 )
          {
            v19 = *(_DWORD *)FColor::FColor(
                               &v38,
                               (unsigned __int8)(*(_BYTE *)v18 + 2),
                               (unsigned __int8)(*(_BYTE *)v18 + 1),
                               *(_BYTE *)v18,
                               255,
                               v30,
                               v31,
                               v32,
                               v33,
                               v34,
                               v35,
                               v36,
                               v37);
            v16 = v40;
            v42 = v19;
            v44 = 1;
          }
          *(_DWORD *)v18 = *(_DWORD *)(v45 + 4 * (v16 + 8 * j) + 40948);
        }
        v4 = v43;
        ++v16;
        v15 += v33;
      }
      v3 = v45;
      break;
    case 4:
      v9 = v34 + v33 * *(_DWORD *)(v4 + 408) + 4 * *(_DWORD *)(v4 + 404);
      v10 = 0;
      while ( 1 )
      {
        v12 = __OFSUB__(v10, *(_DWORD *)(v4 + 416));
        v11 = v10 - *(_DWORD *)(v4 + 416) < 0;
        v40 = v10;
        if ( !(v11 ^ v12) )
          break;
        for ( k = 0; k < *(_DWORD *)(v43 + 412); ++k )
        {
          if ( *(_DWORD *)(v9 + 4 * k) != 65037 )
          {
            if ( !v44 )
            {
              v14 = *(_DWORD *)FColor::FColor(
                                 &v39,
                                 *(_BYTE *)(v9 + 4 * k + 2),
                                 *(_BYTE *)(v9 + 4 * k + 1),
                                 *(_BYTE *)(v9 + 4 * k),
                                 255,
                                 v30,
                                 v31,
                                 v32,
                                 v33,
                                 v34,
                                 v35,
                                 v36,
                                 v37);
              v10 = v40;
              v42 = v14;
              v44 = 1;
            }
          }
          *(_DWORD *)(v9 + 4 * k) = *(_DWORD *)(v45 + 4 * (v10 + 8 * k) + 40948);
        }
        v4 = v43;
        v3 = v45;
        ++v10;
        v9 += v33;
      }
      break;
  }
  (*(void (__stdcall **)(int))(*(_DWORD *)v41 + 40))(v41);
  (*(void (__stdcall **)(int))(*(_DWORD *)v41 + 8))(v41);
  if ( v44 || a3 )
  {
    v26 = a2;
    *(_DWORD *)((8 * *(_DWORD *)(v3 + 40932) >> 3) - a2 + *(_DWORD *)(v3 + 40928) + 8) = v42;
    v27 = 8 * *(_DWORD *)(v3 + 40932) >> 3;
    if ( v27 > **(_DWORD **)(v3 + 40940) )
    {
      *(_DWORD *)(v3 + 40944) = 0;
    }
    else
    {
      v28 = *(void **)(v45 + 40936);
      v29 = *(const void **)(v3 + 40928);
      *(_DWORD *)(v3 + 40944) = v27;
      v3 = v45;
      memcpy(v28, v29, v27);
    }
  }
  else
  {
    v26 = a2;
  }
  sub_10002390(v3 + 40928, (8 * *(_DWORD *)(v3 + 40932) >> 3) - v26, v26);
}
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10025B48) --------------------------------------------------------
void __usercall sub_10025B48(int a1<ebp>)
{
  *(_DWORD *)(a1 - 44) = *(_DWORD *)(a1 - 64);
  CxxThrowException(a1 - 44, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10025B5C) --------------------------------------------------------
void __cdecl sub_10025B5C()
{
  appUnwindf("%s", off_100801DC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801DC: using guessed type char *off_100801DC[32];

//----- (10025B80) --------------------------------------------------------
char __thiscall sub_10025B80(int this, signed int a2, int a3, float a4)
{
  int v4; // eax@1
  __int128 v5; // xmm6@1
  __int128 v6; // xmm5@1
  int v7; // edx@1
  float v8; // xmm0_4@2
  __m128 v9; // xmm3@2
  __m128 v10; // xmm4@2
  int v11; // ebx@4
  int v12; // ecx@5
  int v13; // esi@5
  char v14; // al@6
  __int128 v15; // xmm1@7
  float v17; // xmm1_4@10
  double v18; // st7@13
  long double v19; // st7@13
  __int128 v20; // xmm0@13
  int v21; // edi@13
  int v22; // edx@13
  int v23; // eax@13
  int v24; // ecx@13
  int v25; // eax@13
  __int128 v26; // xmm2@13
  __int128 v27; // xmm3@13
  float v28; // xmm1_4@13
  __m128 v29; // xmm3@13
  __m128 v30; // xmm4@13
  __int128 v31; // xmm2@13
  int v32; // eax@15
  __int128 v33; // xmm1@15
  __int128 v34; // xmm3@15
  __int128 v35; // xmm0@15
  __int128 v36; // xmm1@19
  __int128 v37; // xmm0@19
  __int128 v38; // xmm7@20
  __int128 v39; // xmm0@23
  __int128 v40; // xmm2@23
  __int128 v41; // xmm6@23
  __int128 v42; // xmm1@24
  __int128 v43; // xmm0@24
  __int128 v44; // xmm0@25
  float v45; // xmm1_4@32
  __int128 v46; // xmm0@32
  __int128 v47; // xmm4@33
  __int128 v48; // xmm0@33
  __int128 v49; // xmm0@34
  __int128 v50; // xmm2@34
  __int128 v51; // xmm0@37
  __int128 v52; // xmm3@42
  float v53; // xmm0_4@43
  __int128 v54; // xmm2@43
  __int128 v55; // xmm1@45
  __int128 v56; // xmm0@48
  int v57; // edi@50
  int v58; // ecx@50
  int v59; // edx@50
  int v60; // ecx@50
  int v61; // eax@50
  __int128 v62; // xmm2@50
  __int128 v63; // xmm3@50
  float v64; // xmm1_4@50
  float v65; // xmm0_4@50
  __m128 v66; // xmm3@50
  __m128 v67; // xmm4@50
  __int128 v68; // xmm2@50
  int v69; // eax@52
  __int128 v70; // xmm1@52
  __int128 v71; // xmm3@52
  __int128 v72; // xmm0@52
  __int128 v73; // xmm1@56
  __int128 v74; // xmm0@56
  __int128 v75; // xmm6@57
  __int128 v76; // xmm0@60
  __int128 v77; // xmm4@60
  __int128 v78; // xmm2@61
  __int128 v79; // xmm0@61
  __int128 v80; // xmm1@61
  __int128 v81; // xmm1@62
  __int128 v82; // xmm2@62
  __int128 v83; // xmm1@65
  __int128 v84; // xmm1@69
  __int128 v85; // xmm2@69
  __int128 v86; // xmm7@70
  __int128 v87; // xmm2@70
  __int128 v88; // xmm2@71
  float v89; // xmm0_4@78
  __int128 v90; // xmm4@78
  __int128 v91; // xmm3@79
  float v92; // xmm0_4@80
  __int128 v93; // xmm2@80
  __int128 v94; // xmm1@82
  float v95; // xmm1_4@88
  __int128 v96; // xmm0@90
  __int128 v97; // xmm0@94
  __int128 v98; // xmm0@96
  __int128 v99; // xmm0@98
  int v100; // eax@102
  int v101; // eax@103
  int v103; // [sp-Ch] [bp-5Ch]@1
  char v104; // [sp+0h] [bp-50h]@13
  int v105; // [sp+10h] [bp-40h]@13
  int v106; // [sp+14h] [bp-3Ch]@13
  int v107; // [sp+18h] [bp-38h]@13
  int v108; // [sp+1Ch] [bp-34h]@13
  int v109; // [sp+28h] [bp-28h]@2
  int v110; // [sp+2Ch] [bp-24h]@2
  float v111; // [sp+30h] [bp-20h]@2
  __int64 v112; // [sp+34h] [bp-1Ch]@2
  int v113; // [sp+3Ch] [bp-14h]@1
  int *v114; // [sp+40h] [bp-10h]@1
  int v115; // [sp+4Ch] [bp-4h]@1
  float v116; // [sp+5Ch] [bp+Ch]@13

  LOBYTE(v4) = BYTE4(qword_10084738);
  v5 = (unsigned int)dword_1006FA5C;
  v6 = 0;
  v7 = this;
  v114 = &v103;
  v113 = this;
  v115 = 0;
  if ( !(BYTE4(qword_10084738) & 1) )
  {
    LOBYTE(v4) = BYTE4(qword_10084738) | 1;
    v110 = dword_10072398;
    HIDWORD(qword_10084738) |= 1u;
    LODWORD(v111) = dword_1006FEFC;
    v112 = (unsigned int)v5;
    v8 = 1.0 / fsqrt(3.4028235e38);
    v9 = (__m128)(unsigned int)dword_1006FEFC;
    v10 = 0;
    LODWORD(v10.m128_f32[0]) = -(3.4028235e38 == 0.0);
    v9.m128_f32[0] = (float)((float)(3.0 - (float)((float)(v8 * 3.4028235e38) * v8)) * (float)(v8 * 0.5)) * 3.4028235e38;
    v109 = (unsigned __int128)_mm_and_ps(v9, v10);
    LODWORD(qword_10084738) = v109;
  }
  if ( a2 < 4 )
  {
    v11 = a3;
    *(_DWORD *)(*(_DWORD *)(this + 39948) + 4 * a2 + 808) = a3;
    if ( !a3 )
    {
      v101 = *(_DWORD *)(this + 4) + 59376;
      *(_DWORD *)(v101 + 4 * a2 + 2584) = 0;
      *(_DWORD *)(v101 + 5228) |= 0x80u;
      v4 = *(_DWORD *)(this + 39948);
      *(_BYTE *)(v4 + a2 + 748) = 0;
      return v4;
    }
    v12 = *(_DWORD *)(this + 39948);
    HIDWORD(v112) = 104 * a2;
    v13 = 104 * a2 + v12 + 332;
    memset((void *)v13, 0, 0x68u);
    if ( *(_DWORD *)a3 )
    {
      v14 = *(_BYTE *)(*(_DWORD *)a3 + 42);
      if ( v14 == 19 )
      {
        v15 = (unsigned int)dword_10072A84;
        *(_DWORD *)v13 = 3;
        *(_DWORD *)(104 * a2 + v12 + 396) = *(_DWORD *)(a3 + 36);
        *(_DWORD *)(104 * a2 + v12 + 400) = *(_DWORD *)(a3 + 40);
        *(_DWORD *)(104 * a2 + v12 + 404) = *(_DWORD *)(a3 + 44);
        *(float *)(104 * a2 + v12 + 336) = (float)((float)(*(float *)(a3 + 8) * *(float *)(a3 + 72)) * a4)
                                         * *(float *)&v15;
        *(float *)(104 * a2 + v12 + 340) = (float)((float)(*(float *)(a3 + 12) * *(float *)(a3 + 72)) * a4)
                                         * *(float *)&v15;
        *(float *)(104 * a2 + v12 + 344) = (float)((float)(*(float *)(a3 + 16) * *(float *)(a3 + 72)) * a4)
                                         * *(float *)&v15;
LABEL_90:
        v96 = *(_DWORD *)(v13 + 76);
        if ( *(float *)&v6 <= *(float *)&v96 )
        {
          if ( *(float *)&qword_10084738 <= *(float *)&v96 )
            v96 = (unsigned int)qword_10084738;
        }
        else
        {
          v96 = v6;
        }
        *(_DWORD *)(v13 + 76) = v96;
        v97 = *(_DWORD *)(v13 + 84);
        if ( *(float *)&v6 >= *(float *)&v97 )
          v97 = v6;
        *(_DWORD *)(v13 + 84) = v97;
        v98 = *(_DWORD *)(v13 + 88);
        if ( *(float *)&v6 >= *(float *)&v98 )
          v98 = v6;
        *(_DWORD *)(v13 + 88) = v98;
        v99 = *(_DWORD *)(v13 + 92);
        if ( *(float *)&v6 >= *(float *)&v99 )
          v99 = v6;
        *(_DWORD *)(v13 + 92) = v99;
        if ( *(_BYTE *)(*(_DWORD *)(v7 + 39948) + 20) )
        {
          *(float *)(v13 + 4) = *(float *)(v13 + 4) * *(float *)&v5;
          *(float *)(v13 + 8) = *(float *)(v13 + 8) * *(float *)&v5;
          *(float *)(v13 + 12) = *(float *)(v13 + 12) * *(float *)&v5;
        }
        v100 = *(_DWORD *)(v7 + 4) + 59376;
        memcpy((void *)(HIDWORD(v112) + v100 + 1752), (const void *)v13, 0x68u);
        *(_DWORD *)(v100 + 5228) |= 0x80u;
        v4 = *(_DWORD *)(v7 + 4) + 59376;
        *(_DWORD *)(v4 + 4 * a2 + 2584) = 1;
        *(_DWORD *)(v4 + 5228) |= 0x80u;
        *(_BYTE *)(*(_DWORD *)(v7 + 39948) + a2 + 748) = 1;
        return v4;
      }
      if ( v14 == 20 )
        goto LABEL_107;
    }
    __asm { lahf }
    if ( !__SETP__(_AH & 0x44, 0) )
    {
LABEL_107:
      *(_DWORD *)v13 = 1;
      *(_DWORD *)(104 * a2 + v12 + 384) = *(_DWORD *)(a3 + 24);
      *(_DWORD *)(104 * a2 + v12 + 388) = *(_DWORD *)(a3 + 28);
      *(_DWORD *)(104 * a2 + v12 + 392) = *(_DWORD *)(a3 + 32);
      *(_DWORD *)(104 * a2 + v12 + 416) = 0;
      *(_DWORD *)(104 * a2 + v12 + 420) = 0;
      *(float *)(104 * a2 + v12 + 424) = 8.0 / (float)(*(float *)(a3 + 48) * *(float *)(a3 + 48));
      *(_DWORD *)(104 * a2 + v12 + 408) = *(_DWORD *)(a3 + 48);
      *(float *)(104 * a2 + v12 + 336) = (float)(*(float *)(a3 + 8) * *(float *)(a3 + 72)) * a4;
      *(float *)(104 * a2 + v12 + 340) = (float)(*(float *)(a3 + 12) * *(float *)(a3 + 72)) * a4;
      v17 = (float)(*(float *)(a3 + 16) * *(float *)(a3 + 72)) * a4;
      *(_DWORD *)(104 * a2 + v12 + 348) = dword_1006F9A0;
LABEL_89:
      *(_DWORD *)(v13 + 12) = LODWORD(v17);
      goto LABEL_90;
    }
    *(_DWORD *)(104 * a2 + v12 + 384) = *(_DWORD *)(a3 + 24);
    *(_DWORD *)(104 * a2 + v12 + 388) = *(_DWORD *)(a3 + 28);
    *(_DWORD *)(104 * a2 + v12 + 392) = *(_DWORD *)(a3 + 32);
    if ( *(_DWORD *)a3 && *(_BYTE *)(*(_DWORD *)a3 + 57) )
    {
      *(_DWORD *)v13 = 2;
      *(_DWORD *)(104 * a2 + v12 + 396) = *(_DWORD *)(a3 + 36);
      *(_DWORD *)(104 * a2 + v12 + 400) = *(_DWORD *)(a3 + 40);
      *(_DWORD *)(104 * a2 + v12 + 404) = *(_DWORD *)(a3 + 44);
      v18 = 1.0 - (double)*(_BYTE *)(*(_DWORD *)a3 + 57) * 0.00390625;
      v116 = v18;
      v19 = acos(v18 * v116) * 1.149999976158142;
      v20 = (unsigned int)dword_1006F9A0;
      v21 = v113;
      *(float *)(104 * a2 + v12 + 432) = v19;
      *(_DWORD *)(104 * a2 + v12 + 412) = v20;
      v108 = 0;
      *(float *)(104 * a2 + v12 + 428) = v19 * 0.050000001;
      v22 = *(_DWORD *)(v11 + 28);
      v23 = *(_DWORD *)(v11 + 32);
      v105 = *(_DWORD *)(v11 + 24);
      v24 = *(_DWORD *)(v21 + 39948);
      v106 = v22;
      v107 = v23;
      v25 = FPlane::operator_(v24 + 312, &v104, &v105);
      v26 = *(_DWORD *)v25;
      v27 = v26;
      *(float *)&v27 = *(float *)&v27 * *(float *)&v26;
      *(float *)&v26 = *(float *)(v25 + 4) * *(float *)(v25 + 4);
      v28 = *(float *)(v25 + 8) * *(float *)(v25 + 8);
      v110 = dword_1006FEFC;
      v111 = (float)(*(float *)&v27 + *(float *)&v26) + v28;
      v109 = dword_1006FA5C;
      *(float *)&v20 = 1.0 / fsqrt(v111);
      v29 = (__m128)(unsigned int)dword_1006FEFC;
      v30 = 0;
      LODWORD(v30.m128_f32[0]) = -(v111 == 0.0);
      v29.m128_f32[0] = (float)((float)(3.0 - (float)((float)(*(float *)&v20 * v111) * *(float *)&v20))
                              * (float)(*(float *)&v20 * 0.5))
                      * v111;
      LODWORD(v112) = (unsigned __int128)_mm_and_ps(v29, v30);
      v31 = (unsigned int)v112;
      if ( *(float *)&v112 <= 0.1 )
        v31 = (unsigned int)dword_10072678;
      v32 = *(_DWORD *)(v21 + 39948);
      v33 = *(_DWORD *)(v11 + 48);
      v35 = *(_DWORD *)(v32 + 324);
      *(float *)&v33 = *(float *)&v33 * 0.050000001;
      v34 = *(_DWORD *)(v11 + 48);
      *(float *)&v34 = *(float *)&v34 * 0.89999998;
      *(float *)&v35 = *(float *)&v35 + *(float *)&v31;
      if ( *(float *)&v33 <= *(float *)&v35 )
      {
        if ( *(float *)&v34 > *(float *)&v35 )
          v34 = v35;
      }
      else
      {
        v34 = v33;
      }
      v37 = *(_DWORD *)(v11 + 48);
      *(float *)&v31 = *(float *)&v31 - *(float *)(v32 + 324);
      v36 = *(_DWORD *)(v11 + 48);
      *(float *)&v36 = *(float *)&v36 * 0.94999999;
      *(float *)&v37 = *(float *)&v37 * 0.1;
      if ( *(float *)&v37 <= *(float *)&v31 )
      {
        v38 = v31;
        if ( *(float *)&v36 <= *(float *)&v31 )
          v38 = v36;
      }
      else
      {
        v38 = v37;
      }
      v39 = *(_DWORD *)(v11 + 48);
      v40 = *(_DWORD *)(v11 + 52);
      v41 = (unsigned int)dword_1006F9A0;
      if ( *(float *)&v39 < *(float *)&v38 )
      {
        v44 = 0;
      }
      else
      {
        v42 = v38;
        *(float *)&v43 = 1.0
                       - (float)((float)(*(float *)&v42 - *(float *)&v40) / (float)(*(float *)&v39 - *(float *)&v40));
        if ( *(float *)&v43 < 0.0 )
        {
          *(float *)&v44 = 0.0 * 2.0;
          goto LABEL_32;
        }
        if ( *(float *)&v43 >= 1.0 )
        {
          v43 = (unsigned int)dword_1006F9A0;
        }
        else
        {
          if ( *(float *)&v43 < 0.0 )
          {
            *(float *)&v44 = 0.0 * 2.0;
            goto LABEL_32;
          }
        }
        *(float *)&v44 = *(float *)&v43 * 2.0;
      }
LABEL_32:
      v45 = 1.0 / *(float *)&v44;
      v46 = *(_DWORD *)(v11 + 48);
      if ( *(float *)&v46 < *(float *)&v34 )
      {
        v50 = 0;
        goto LABEL_41;
      }
      v47 = v34;
      *(float *)&v47 = (float)(*(float *)&v47 - *(float *)&v40) / (float)(*(float *)&v46 - *(float *)&v40);
      v48 = (unsigned int)dword_1006F9A0;
      *(float *)&v48 = 1.0 - *(float *)&v47;
      if ( (float)(1.0 - *(float *)&v47) < 0.0 )
      {
        v49 = 0;
        *(float *)&v49 = 0.0 * 2.0;
        v50 = v49;
LABEL_41:
        if ( 1.0 >= 0.0000000099999999 )
        {
          v53 = (float)((float)(1.0 / *(float *)&v50) - v45) / (float)(*(float *)&v34 - *(float *)&v38);
          v52 = (unsigned int)dword_10072A68;
          *(float *)&v54 = 1.0 - (float)(v53 * *(float *)&v38);
          if ( *(float *)&v54 <= 0.0099999998 )
            v54 = (unsigned int)dword_10072A68;
          *(float *)&v55 = (float)(v45 - *(float *)&v54) / *(float *)&v38;
          *(_DWORD *)(v13 + 84) = v54;
          if ( *(float *)&v55 <= 0.0 )
            v55 = 0;
          *(_DWORD *)(v13 + 88) = v55;
        }
        else
        {
          v52 = (unsigned int)dword_10072A68;
          *(_DWORD *)(v13 + 84) = LODWORD(v45);
          *(_DWORD *)(v13 + 88) = 0;
        }
        v56 = *(_DWORD *)(v13 + 88);
        *(_DWORD *)(v13 + 92) = 0;
        if ( *(float *)&v52 >= *(float *)&v56 )
          v56 = v52;
LABEL_88:
        v6 = 0;
        v7 = v113;
        *(float *)(v13 + 76) = (float)(256.0 - *(float *)(v13 + 84)) / *(float *)&v56;
        *(float *)(v13 + 4) = (float)(*(float *)(v11 + 8) * *(float *)(v11 + 72)) * a4;
        *(float *)(v13 + 8) = (float)(*(float *)(v11 + 12) * *(float *)(v11 + 72)) * a4;
        v95 = *(float *)(v11 + 16) * *(float *)(v11 + 72);
        *(_DWORD *)(v13 + 16) = v41;
        v5 = (unsigned int)dword_1006FA5C;
        v17 = v95 * a4;
        goto LABEL_89;
      }
      if ( *(float *)&v48 >= 1.0 )
      {
        v48 = (unsigned int)dword_1006F9A0;
      }
      else
      {
        if ( *(float *)&v48 < 0.0 )
        {
          v51 = 0;
          *(float *)&v51 = 0.0 * 2.0;
          v50 = v51;
          goto LABEL_41;
        }
      }
      *(float *)&v48 = *(float *)&v48 * 2.0;
      v50 = v48;
      goto LABEL_41;
    }
    v57 = v113;
    *(_DWORD *)v13 = 1;
    v58 = *(_DWORD *)(a3 + 28);
    v59 = *(_DWORD *)(a3 + 32);
    v105 = *(_DWORD *)(a3 + 24);
    v106 = v58;
    v60 = *(_DWORD *)(v57 + 39948) + 312;
    v107 = v59;
    v108 = 0;
    v61 = FPlane::operator_(v60, &v104, &v105);
    v62 = *(_DWORD *)v61;
    v63 = v62;
    *(float *)&v63 = *(float *)&v63 * *(float *)&v62;
    *(float *)&v62 = *(float *)(v61 + 4) * *(float *)(v61 + 4);
    v64 = *(float *)(v61 + 8) * *(float *)(v61 + 8);
    v110 = dword_1006FEFC;
    v111 = (float)(*(float *)&v63 + *(float *)&v62) + v64;
    v109 = dword_1006FA5C;
    v65 = 1.0 / fsqrt(v111);
    v66 = (__m128)(unsigned int)dword_1006FEFC;
    v67 = 0;
    LODWORD(v67.m128_f32[0]) = -(v111 == 0.0);
    v66.m128_f32[0] = (float)((float)(3.0 - (float)((float)(v65 * v111) * v65)) * (float)(v65 * 0.5)) * v111;
    LODWORD(v112) = (unsigned __int128)_mm_and_ps(v66, v67);
    v68 = (unsigned int)v112;
    if ( *(float *)&v112 <= 0.1 )
      v68 = (unsigned int)dword_10072678;
    v69 = *(_DWORD *)(v57 + 39948);
    v70 = *(_DWORD *)(a3 + 48);
    v72 = *(_DWORD *)(v69 + 324);
    *(float *)&v70 = *(float *)&v70 * 0.050000001;
    v71 = *(_DWORD *)(a3 + 48);
    *(float *)&v71 = *(float *)&v71 * 0.89999998;
    *(float *)&v72 = *(float *)&v72 + *(float *)&v68;
    if ( *(float *)&v70 <= *(float *)&v72 )
    {
      if ( *(float *)&v71 > *(float *)&v72 )
        v71 = v72;
    }
    else
    {
      v71 = v70;
    }
    v74 = *(_DWORD *)(a3 + 48);
    *(float *)&v68 = *(float *)&v68 - *(float *)(v69 + 324);
    v73 = *(_DWORD *)(a3 + 48);
    *(float *)&v73 = *(float *)&v73 * 0.94999999;
    *(float *)&v74 = *(float *)&v74 * 0.1;
    if ( *(float *)&v74 <= *(float *)&v68 )
    {
      v75 = v68;
      if ( *(float *)&v73 <= *(float *)&v68 )
        v75 = v73;
    }
    else
    {
      v75 = v74;
    }
    v76 = *(_DWORD *)(a3 + 48);
    v77 = *(_DWORD *)(a3 + 52);
    if ( *(float *)&v76 < *(float *)&v75 )
    {
      v79 = (unsigned int)dword_1006F9A0;
      v82 = 0;
    }
    else
    {
      v78 = v75;
      *(float *)&v78 = (float)(*(float *)&v78 - *(float *)&v77) / (float)(*(float *)&v76 - *(float *)&v77);
      v79 = (unsigned int)dword_1006F9A0;
      v80 = (unsigned int)dword_1006F9A0;
      *(float *)&v80 = 1.0 - *(float *)&v78;
      if ( (float)(1.0 - *(float *)&v78) < 0.0 )
      {
        v81 = 0;
        *(float *)&v81 = 0.0 * 2.0;
        v82 = v81;
        goto LABEL_69;
      }
      if ( *(float *)&v80 >= 1.0 )
      {
        v80 = (unsigned int)dword_1006F9A0;
      }
      else
      {
        if ( *(float *)&v80 < 0.0 )
        {
          v83 = 0;
          *(float *)&v83 = 0.0 * 2.0;
          v82 = v83;
          goto LABEL_69;
        }
      }
      *(float *)&v80 = *(float *)&v80 * 2.0;
      v82 = v80;
    }
LABEL_69:
    v84 = v79;
    *(float *)&v84 = *(float *)&v84 / *(float *)&v82;
    v85 = *(_DWORD *)(a3 + 48);
    if ( *(float *)&v85 < *(float *)&v71 )
    {
      v88 = 0;
      goto LABEL_78;
    }
    v86 = v71;
    *(float *)&v86 = (float)(*(float *)&v86 - *(float *)&v77) / (float)(*(float *)&v85 - *(float *)&v77);
    v87 = v79;
    *(float *)&v87 = *(float *)&v87 - *(float *)&v86;
    if ( *(float *)&v87 < 0.0 )
    {
      *(float *)&v88 = 0.0 * 2.0;
LABEL_78:
      v89 = *(float *)&v79 / *(float *)&v88;
      v90 = v84;
      if ( *(float *)&v90 >= 0.0000000099999999 )
      {
        v92 = (float)(v89 - *(float *)&v84) / (float)(*(float *)&v71 - *(float *)&v75);
        v91 = (unsigned int)dword_10072A68;
        v93 = v84;
        *(float *)&v93 = *(float *)&v93 - (float)(v92 * *(float *)&v75);
        if ( *(float *)&v93 <= 0.0099999998 )
          v93 = (unsigned int)dword_10072A68;
        *(float *)&v94 = (float)(*(float *)&v84 - *(float *)&v93) / *(float *)&v75;
        *(_DWORD *)(v13 + 84) = v93;
        if ( *(float *)&v94 <= 0.0 )
          v94 = 0;
        *(_DWORD *)(v13 + 88) = v94;
      }
      else
      {
        v91 = (unsigned int)dword_10072A68;
        *(_DWORD *)(v13 + 84) = v84;
        *(_DWORD *)(v13 + 88) = 0;
      }
      v56 = *(_DWORD *)(v13 + 88);
      *(_DWORD *)(v13 + 92) = 0;
      if ( *(float *)&v91 >= *(float *)&v56 )
        v56 = v91;
      v41 = (unsigned int)dword_1006F9A0;
      goto LABEL_88;
    }
    if ( *(float *)&v79 <= *(float *)&v87 )
    {
      v87 = v79;
    }
    else
    {
      if ( *(float *)&v87 < 0.0 )
      {
        *(float *)&v88 = 0.0 * 2.0;
        goto LABEL_78;
      }
    }
    *(float *)&v88 = *(float *)&v87 * 2.0;
    goto LABEL_78;
  }
  return v4;
}
// 1006F258: using guessed type int __thiscall FPlane__operator_(_DWORD, _DWORD, _DWORD);
// 1006F9A0: using guessed type int dword_1006F9A0;
// 1006FA5C: using guessed type int dword_1006FA5C;
// 1006FEFC: using guessed type int dword_1006FEFC;
// 10072398: using guessed type int dword_10072398;
// 10072678: using guessed type int dword_10072678;
// 10072A68: using guessed type int dword_10072A68;
// 10072A84: using guessed type int dword_10072A84;
// 10084738: using guessed type __int64 qword_10084738;

//----- (10026570) --------------------------------------------------------
signed int __thiscall sub_10026570(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // esi@1
  signed int result; // eax@2
  char v6; // al@3
  int v7; // eax@4
  int v8; // ebp@4
  int v9; // edx@5
  int v10; // eax@10
  int v11; // eax@11
  int v12; // esi@11
  int v13; // edx@11
  int v14; // eax@11
  signed int v15; // [sp+Ch] [bp+4h]@3

  v3 = a2;
  v4 = this;
  if ( *(_DWORD *)(a2 + 84) )
  {
    result = 0;
  }
  else
  {
    v6 = *(_BYTE *)(a2 + 48);
    v15 = 0;
    if ( v6 )
    {
      v7 = v3 + 52;
      v8 = 720 - v3;
      do
      {
        ++*(_DWORD *)(*(_DWORD *)v7 + 932);
        *(_DWORD *)(v7 + v8 + *(_DWORD *)(this + 39948)) = *(_DWORD *)v7;
        v9 = *(_DWORD *)(this + 39948);
        if ( *(_DWORD *)(v9 + 768) != *(_DWORD *)(v7 + v8 + v9) )
          *(_DWORD *)(v9 + 768) = 0;
        v7 += 4;
        ++v15;
      }
      while ( v15 < *(_BYTE *)(v3 + 48) );
    }
    *(_BYTE *)(*(_DWORD *)(this + 39948) + 804) = *(_BYTE *)(v3 + 48);
    if ( a3 )
      *(_DWORD *)a3 = *(_BYTE *)(*(_DWORD *)(this + 39948) + 804);
    v10 = *(_DWORD *)(this + 39948);
    if ( *(_DWORD *)(v10 + 1148) > 0 )
    {
      v11 = UD3DRenderDevice::GetVertexShader(*(_DWORD *)(this + 4), 0, v10 + 828);
      *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 236) = v11;
      *(_DWORD *)(*(_DWORD *)(v4 + 39948) + 1152) = 0;
      v12 = *(_DWORD *)(v4 + 4);
      v13 = *(_DWORD *)(v11 + 336);
      v14 = *(_DWORD *)(v12 + 64604);
      v12 += 59376;
      *(_DWORD *)(v12 + 1576) = v13;
      *(_DWORD *)(v12 + 5228) = v14 | 4;
    }
    result = 1;
  }
  return result;
}

//----- (10026710) --------------------------------------------------------
void *__thiscall sub_10026710(void *this, int a2)
{
  void *v2; // esi@1
  void *v3; // edi@1
  signed int v4; // ebx@1
  __int128 v5; // xmm0@3
  int v7; // [sp+0h] [bp-28h]@1
  void *v8; // [sp+10h] [bp-18h]@1
  int *v9; // [sp+18h] [bp-10h]@1
  int v10; // [sp+24h] [bp-4h]@3

  v2 = this;
  v9 = &v7;
  v8 = this;
  *(_DWORD *)this = &off_1006F8D8;
  v3 = (char *)this + 12;
  v4 = 32;
  do
  {
    sub_1001BAC0(v3);
    v3 = (char *)v3 + 1248;
    --v4;
  }
  while ( v4 );
  sub_10005590((char *)v2 + 39952);
  *((_DWORD *)v2 + 10226) = 0;
  *((_DWORD *)v2 + 10227) = 0;
  v10 = 0;
  *((_DWORD *)v2 + 10232) = 0;
  *((_DWORD *)v2 + 10233) = 0;
  v5 = (unsigned int)dword_1006F9A0;
  *((_DWORD *)v2 + 2) = 0;
  *((_DWORD *)v2 + 10236) = 0;
  *((_DWORD *)v2 + 10234) = 0;
  *((_DWORD *)v2 + 10235) = 0;
  *((_DWORD *)v2 + 10225) = 0;
  LOBYTE(v10) = 2;
  *((_DWORD *)v2 + 1) = a2;
  *((_DWORD *)v2 + 10231) = 1;
  *((_DWORD *)v2 + 9987) = (char *)v2 + 12;
  *((_DWORD *)v2 + 10230) = v5;
  *((_DWORD *)v2 + 10229) = v5;
  RenderInit();
  return v2;
}
// 1006F300: using guessed type void __fastcall RenderInit();
// 1006F8D8: using guessed type char off_1006F8D8;
// 1006F9A0: using guessed type int dword_1006F9A0;

//----- (100267E7) --------------------------------------------------------
void __usercall sub_100267E7(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (100267FB) --------------------------------------------------------
void __cdecl sub_100267FB()
{
  appUnwindf("%s", off_100801E4[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801E4: using guessed type char *off_100801E4[30];

//----- (10026820) --------------------------------------------------------
int __thiscall sub_10026820(int this, const void *a2, unsigned int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  int v5; // ebx@1
  int v6; // eax@1
  int v7; // ecx@1
  signed int v8; // eax@1
  int v9; // eax@2
  signed int v10; // eax@3
  int v11; // eax@4
  int v13; // ecx@6
  int v14; // esi@6
  void *v15; // edi@6
  int v16; // edi@6
  int i; // ecx@6
  int v18; // ecx@12
  int v19; // edx@12
  int l; // eax@14
  int v21; // edx@18
  int v22; // esi@18
  int k; // eax@20
  int v24; // ecx@22
  int v25; // ecx@24
  int v26; // edx@24
  int j; // eax@26
  void *v28; // [sp+0h] [bp-3Ch]@1
  const char *v29; // [sp+4h] [bp-38h]@2
  int v30; // [sp+8h] [bp-34h]@2
  int v31; // [sp+Ch] [bp-30h]@3
  int v32; // [sp+10h] [bp-2Ch]@12
  char v33; // [sp+1Ch] [bp-20h]@2
  int v34; // [sp+20h] [bp-1Ch]@1
  int v35; // [sp+24h] [bp-18h]@1
  int v36; // [sp+28h] [bp-14h]@1
  void **v37; // [sp+2Ch] [bp-10h]@1
  int v38; // [sp+38h] [bp-4h]@1
  int v39; // [sp+48h] [bp+Ch]@13
  int v40; // [sp+48h] [bp+Ch]@19
  int v41; // [sp+48h] [bp+Ch]@25

  v3 = this;
  v4 = *(_DWORD *)(this + 4);
  v5 = *(_DWORD *)(v4 + 18068);
  v6 = *(_DWORD *)(v4 + 18100);
  v7 = *(_DWORD *)v6;
  v37 = &v28;
  v36 = v3;
  v38 = 0;
  v34 = v5;
  v8 = (*(int (__stdcall **)(int, int *))(v7 + 128))(v6, &v35);
  if ( v8 < 0 )
  {
    v9 = sub_10001020((int)&v33, v8);
    LOBYTE(v38) = 1;
    v30 = FString::operator_(v9);
    v29 = "D3D Driver: GetRenderTarget failed (%s)";
    v28 = GLog;
LABEL_5:
    FOutputDevice::Logf(v28, v29, v30);
    LOBYTE(v38) = 0;
    return FString::_FString(&v33);
  }
  v10 = (*(int (__stdcall **)(int, int *, _DWORD, _DWORD))(*(_DWORD *)v35 + 36))(v35, &v31, 0, 0);
  if ( v10 < 0 )
  {
    v11 = sub_10001020((int)&v33, v10);
    LOBYTE(v38) = 2;
    v30 = FString::operator_(v11);
    v29 = "D3D Driver: LockRect failed (%s)";
    v28 = GLog;
    goto LABEL_5;
  }
  v13 = *(_DWORD *)(v3 + 40932);
  v14 = v3 + 40928;
  sub_10001DB0(v14, a3 + (8 * v13 >> 3), 0);
  v15 = (void *)((8 * *(_DWORD *)(v14 + 4) >> 3) - a3 + *(_DWORD *)v14);
  memset(v15, 0, 4 * (a3 >> 2));
  v16 = (int)((char *)v15 + 4 * (a3 >> 2));
  for ( i = a3 & 3; i; --i )
    *(_BYTE *)v16++ = 0;
  memcpy((void *)((8 * *(_DWORD *)(v14 + 4) >> 3) - a3 + *(_DWORD *)v14), a2, a3);
  switch ( *(_DWORD *)(v5 + 152) )
  {
    case 2:
      v25 = v32 + v31 * *(_DWORD *)(v5 + 408) + 2 * *(_DWORD *)(v5 + 404);
      v26 = 0;
      while ( 1 )
      {
        v41 = v26;
        if ( v26 >= *(_DWORD *)(v5 + 416) )
          break;
        for ( j = 0; j < *(_DWORD *)(v5 + 412); ++j )
        {
          *(_DWORD *)(v36 + 4 * (v26 + 8 * j) + 40948) = *(_WORD *)(v25 + 2 * j);
          v26 = v41;
          *(_WORD *)(v25 + 2 * j) = -499;
        }
        ++v26;
        v25 += v31;
      }
      break;
    case 3:
      v21 = v32 + v31 * *(_DWORD *)(v5 + 408) + 3 * *(_DWORD *)(v5 + 404);
      v22 = 0;
      while ( 1 )
      {
        v40 = v22;
        if ( v22 >= *(_DWORD *)(v5 + 416) )
          break;
        for ( k = 0; k < *(_DWORD *)(v5 + 412); ++k )
        {
          v24 = v21 + 2 * k;
          *(_DWORD *)(v36 + 4 * (v22 + 8 * k) + 40948) = *(_DWORD *)(v24 + k);
          v22 = v40;
          v5 = v34;
          *(_DWORD *)(k + v24) = 65037;
        }
        ++v22;
        v21 += v31;
      }
      break;
    case 4:
      v18 = v32 + v31 * *(_DWORD *)(v5 + 408) + 4 * *(_DWORD *)(v5 + 404);
      v19 = 0;
      while ( 1 )
      {
        v39 = v19;
        if ( v19 >= *(_DWORD *)(v5 + 416) )
          break;
        for ( l = 0; l < *(_DWORD *)(v5 + 412); ++l )
        {
          *(_DWORD *)(v36 + 4 * (v19 + 8 * l) + 40948) = *(_DWORD *)(v18 + 4 * l);
          v19 = v39;
          *(_DWORD *)(v18 + 4 * l) = 65037;
        }
        ++v19;
        v18 += v31;
      }
      break;
  }
  (*(void (__stdcall **)(int))(*(_DWORD *)v35 + 40))(v35);
  return (*(int (__stdcall **)(int))(*(_DWORD *)v35 + 8))(v35);
}
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (10026AB2) --------------------------------------------------------
void __usercall sub_10026AB2(int a1<ebp>)
{
  *(_DWORD *)(a1 - 36) = *(_DWORD *)(a1 - 40);
  CxxThrowException(a1 - 36, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10026AC6) --------------------------------------------------------
void __cdecl sub_10026AC6()
{
  appUnwindf("%s", off_100801E8[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801E8: using guessed type char *off_100801E8[29];

//----- (10026B70) --------------------------------------------------------
int __thiscall sub_10026B70(int this, char a2)
{
  int v2; // ebx@1
  int v3; // ecx@1
  int v4; // edx@1
  int v5; // eax@1
  int v6; // ecx@3
  int v7; // eax@3
  int v8; // esi@3
  bool v9; // zf@3
  int v10; // eax@3
  int v11; // eax@3
  unsigned __int16 v12; // ax@7
  int v13; // eax@14
  int v14; // eax@14
  int v15; // edx@14
  int v16; // eax@14
  int v17; // ecx@14
  int v18; // edx@14
  int v19; // eax@14
  int v20; // eax@14
  int v21; // edx@14
  int v22; // eax@14
  int v23; // ecx@14
  int v24; // edx@14
  int v25; // eax@14
  int v26; // ecx@14
  int v27; // edx@14
  int v28; // eax@14
  int v29; // ecx@14
  int v30; // edx@14
  int v31; // eax@14
  int v32; // eax@14
  int v33; // edx@14
  int v34; // edx@14
  int v35; // eax@14
  int v36; // esi@14
  int v37; // eax@14
  int v38; // ecx@14
  int v39; // edi@14
  int v40; // ecx@15
  int v41; // eax@16
  int v42; // ecx@16
  int v43; // eax@17
  int v44; // ecx@18
  int v45; // eax@18
  signed int v46; // ecx@22
  signed int v47; // esi@23
  int v48; // ecx@25
  int v49; // eax@25
  signed int i; // esi@26
  int v51; // eax@28
  int v52; // eax@31
  int v53; // eax@32
  int v54; // esi@34
  int v55; // eax@35
  signed int v56; // edi@35
  int v57; // eax@35
  int v58; // ecx@35
  int v59; // edx@35
  signed int v60; // edx@36
  int v61; // eax@38
  int v62; // esi@38
  int v63; // eax@38
  int v64; // esi@39
  int v65; // eax@39
  int v66; // eax@39
  int v67; // ecx@39
  int v68; // eax@39
  int v69; // eax@39
  int v70; // eax@39
  int v71; // ecx@39
  signed int j; // esi@39
  int v73; // eax@40
  int v74; // ecx@43
  unsigned __int64 v75; // qax@47
  unsigned __int64 v76; // qax@47
  int v78; // [sp-10h] [bp-40h]@11
  int v79; // [sp-Ch] [bp-3Ch]@11
  int v80; // [sp-8h] [bp-38h]@11
  int v81; // [sp-4h] [bp-34h]@11
  int v82; // [sp+0h] [bp-30h]@1
  void *v83; // [sp+14h] [bp-1Ch]@1
  int v84; // [sp+18h] [bp-18h]@3
  int v85; // [sp+1Ch] [bp-14h]@3
  int *v86; // [sp+20h] [bp-10h]@1
  int v87; // [sp+2Ch] [bp-4h]@1
  int v88; // [sp+38h] [bp+8h]@42

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  v86 = &v82;
  v87 = 0;
  v3 += 64892;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v83 = FClock::CurStat;
  FClock::CurStat = (void *)v3;
  qword_100845C4 = __rdtsc();
  v4 = *(_DWORD *)(v3 + 4) + 1;
  *(_DWORD *)v3 -= qword_100845C4;
  *(_DWORD *)(v3 + 4) = v4;
  v5 = *(_DWORD *)(v2 + 40900);
  LOBYTE(v87) = 1;
  if ( !v5 )
    FOutputDevice::Logf(GError, "PopState stack underflow");
  v6 = 1248 * *(_DWORD *)(v2 + 40900);
  v7 = *(_DWORD *)(v2 + 40900) - 1;
  *(_DWORD *)(v2 + 40900) = v7;
  v8 = 1248 * v7 + v2 + 12;
  *(_DWORD *)(v2 + 39948) = v8;
  v9 = *(_BYTE *)(1248 * v7 + v2 + 30) == 0;
  v10 = *(_DWORD *)(v2 + 4) + 59376;
  v84 = v6 + v2 + 12;
  v85 = v8;
  *(_DWORD *)(v10 + 104) = !v9;
  *(_DWORD *)(v10 + 5228) |= 1u;
  v11 = *(_DWORD *)(v2 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v2 + 4) + 59488) = *(_BYTE *)(v8 + 19) != 0;
  *(_DWORD *)(v11 + 5228) |= 1u;
  if ( !(a2 & 1) )
  {
    if ( a2 & 2 || *(_DWORD *)(v6 + v2 + 12) != *(_DWORD *)v8 || *(_DWORD *)(v6 + v2 + 16) != *(_DWORD *)(v8 + 4) )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(*(_DWORD *)(v2 + 4) + 18100) + 124))(
        *(_DWORD *)(*(_DWORD *)(v2 + 4) + 18100),
        *(_DWORD *)v8,
        *(_DWORD *)(v8 + 4));
      v81 = *(_WORD *)(v8 + 14);
      v80 = *(_WORD *)(v8 + 12);
      v79 = *(_WORD *)(v8 + 10);
      v78 = *(_WORD *)(v8 + 8);
      goto LABEL_13;
    }
    v12 = *(_WORD *)(v8 + 8);
    if ( *(_WORD *)(v6 + v2 + 20) != v12
      || *(_WORD *)(v6 + v2 + 22) != *(_WORD *)(v8 + 10)
      || *(_WORD *)(v6 + v2 + 24) != *(_WORD *)(v8 + 12)
      || *(_WORD *)(v6 + v2 + 26) != *(_WORD *)(v8 + 14) )
    {
      v81 = *(_WORD *)(v8 + 14);
      v80 = *(_WORD *)(v8 + 12);
      v79 = *(_WORD *)(v8 + 10);
      v78 = v12;
LABEL_13:
      (*(void (__thiscall **)(int, int, int, int, int))(*(_DWORD *)v2 + 16))(v2, v78, v79, v80, v81);
      goto LABEL_14;
    }
  }
LABEL_14:
  v13 = *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v13 + 59440) = *(_BYTE *)(v8 + 16);
  *(_DWORD *)(v13 + 64604) |= 1u;
  v14 = *(_DWORD *)(v2 + 4);
  v15 = *(_DWORD *)(v14 + 64604);
  v14 += 59376;
  *(_DWORD *)(v14 + 120) = *(_DWORD *)(v8 + 28);
  *(_DWORD *)(v14 + 5228) = v15 | 1;
  v16 = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)v2 + 196))(v2, *(_BYTE *)(v8 + 24));
  v17 = *(_DWORD *)(v2 + 4);
  v18 = *(_DWORD *)(v17 + 64604);
  *(_DWORD *)(v17 + 59460) = v16;
  *(_DWORD *)(v17 + 64604) = v18 | 1;
  v19 = *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v19 + 59464) = *(_DWORD *)(v8 + 32) & 0xFF;
  *(_DWORD *)(v19 + 64604) |= 1u;
  v20 = *(_DWORD *)(v2 + 4);
  v21 = *(_DWORD *)(v20 + 64604);
  v20 += 59376;
  *(_DWORD *)(v20 + 92) = *(_DWORD *)(v8 + 36) & 0xFF;
  *(_DWORD *)(v20 + 5228) = v21 | 1;
  v22 = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)v2 + 192))(v2, *(_BYTE *)(v8 + 25));
  v23 = *(_DWORD *)(v2 + 4);
  v24 = *(_DWORD *)(v23 + 64604);
  v23 += 59376;
  *(_DWORD *)(v23 + 72) = v22;
  *(_DWORD *)(v23 + 5228) = v24 | 1;
  v25 = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)v2 + 192))(v2, *(_BYTE *)(v8 + 26));
  v26 = *(_DWORD *)(v2 + 4);
  v27 = *(_DWORD *)(v26 + 64604);
  v26 += 59376;
  *(_DWORD *)(v26 + 76) = v25;
  *(_DWORD *)(v26 + 5228) = v27 | 1;
  v28 = (*(int (__thiscall **)(_DWORD, _DWORD))(*(_DWORD *)v2 + 192))(v2, *(_BYTE *)(v8 + 27));
  v29 = *(_DWORD *)(v2 + 4);
  v30 = *(_DWORD *)(v29 + 64604);
  v29 += 59376;
  *(_DWORD *)(v29 + 80) = v28;
  *(_DWORD *)(v29 + 5228) = v30 | 1;
  v31 = *(_DWORD *)(v2 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v2 + 4) + 59472) = *(_DWORD *)(v8 + 40) & 0xFF;
  *(_DWORD *)(v31 + 5228) |= 1u;
  v32 = *(_DWORD *)(v2 + 4);
  v33 = *(_DWORD *)(v32 + 60948);
  v32 += 59376;
  memcpy((void *)(v32 + 1444), (const void *)(v8 + 44), 0x40u);
  *(_DWORD *)(v32 + 5228) |= 0x20u;
  *(_DWORD *)(v32 + 1572) = v33 | 0x400;
  v34 = v85;
  v35 = *(_DWORD *)(v2 + 4) + 59376;
  memcpy((void *)(*(_DWORD *)(v2 + 4) + 60692), (const void *)(v85 + 108), 0x40u);
  v36 = *(_DWORD *)(v35 + 1572);
  *(_DWORD *)(v35 + 5228) |= 0x40u;
  *(_DWORD *)(v35 + 1572) = v36 | 0x100;
  v37 = *(_DWORD *)(v2 + 4) + 59376;
  memcpy((void *)(*(_DWORD *)(v2 + 4) + 60756), (const void *)(v34 + 172), 0x40u);
  v38 = *(_DWORD *)(v37 + 5228) | 0x40;
  *(_DWORD *)(v37 + 1572) |= 0x200u;
  *(_DWORD *)(v37 + 5228) = v38;
  v39 = 0;
  if ( !(*(_BYTE *)(*(_DWORD *)(v2 + 39948) + 824) & 2) )
  {
    v40 = *(_DWORD *)(v34 + 1152);
    if ( v40 )
    {
      v41 = sub_1002C890(v40, v34 + 828);
      v34 = v85;
      v42 = *(_DWORD *)(v2 + 4) + 59376;
      *(_DWORD *)(*(_DWORD *)(v2 + 4) + 60952) = v41;
      *(_DWORD *)(v42 + 5228) |= 4u;
    }
    else
    {
      v43 = *(_DWORD *)(v34 + 236);
      if ( v43 )
      {
        v44 = *(_DWORD *)(v43 + 336);
        v45 = *(_DWORD *)(v2 + 4) + 59376;
        *(_DWORD *)(*(_DWORD *)(v2 + 4) + 60952) = v44;
      }
      else
      {
        v45 = *(_DWORD *)(v2 + 4) + 59376;
        *(_DWORD *)(*(_DWORD *)(v2 + 4) + 60952) = 2;
      }
      *(_DWORD *)(v45 + 5228) |= 4u;
    }
    *(_DWORD *)(*(_DWORD *)(v2 + 39948) + 1152) = *(_DWORD *)(v34 + 1152);
    *(_DWORD *)(*(_DWORD *)(v2 + 39948) + 236) = *(_DWORD *)(v34 + 236);
  }
  v46 = 8;
  if ( !(*(_BYTE *)(*(_DWORD *)(v2 + 39948) + 824) & 4) )
  {
    v47 = 0;
    while ( v47 < *(_BYTE *)(v34 + 1244) )
    {
      v48 = *(_DWORD *)(*(_DWORD *)(v34 + 4 * v47 + 1164) + 48);
      v49 = *(_DWORD *)(v2 + 4) + 59376;
      *(_DWORD *)(v49 + 8 * v47 + 1588) = *(_BYTE *)(v47 + v34 + 1228);
      *(_DWORD *)(v49 + 8 * v47 + 1584) = v48;
      v46 = 8;
      *(_DWORD *)(v49 + 5228) |= 8u;
      ++v47;
      v39 = 0;
    }
    for ( i = *(_BYTE *)(v34 + 1244); i < *(_BYTE *)(v84 + 1244); ++i )
    {
      v51 = *(_DWORD *)(v2 + 4) + 59376;
      *(_DWORD *)(v51 + 8 * i + 1584) = v39;
      *(_DWORD *)(v51 + 8 * i + 1588) = v39;
      *(_DWORD *)(v51 + 5228) |= v46;
    }
    *(_BYTE *)(*(_DWORD *)(v2 + 39948) + 1244) = *(_BYTE *)(v34 + 1244);
  }
  if ( !((unsigned __int8)v46 & *(_BYTE *)(*(_DWORD *)(v2 + 39948) + 824)) )
  {
    v52 = *(_DWORD *)(v34 + 1156);
    if ( v52 == v39 )
    {
      v53 = *(_DWORD *)(v2 + 4) + 59376;
      *(_DWORD *)(*(_DWORD *)(v2 + 4) + 61092) = v39;
    }
    else
    {
      v39 = *(_DWORD *)(v52 + 48);
      v53 = *(_DWORD *)(v2 + 4) + 59376;
      *(_DWORD *)(*(_DWORD *)(v2 + 4) + 61092) = *(_DWORD *)(v34 + 1160);
    }
    v54 = v46 | *(_DWORD *)(v53 + 5228);
    *(_DWORD *)(v53 + 1712) = v39;
    *(_DWORD *)(v53 + 5228) = v54;
  }
  v55 = *(_DWORD *)(v2 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v2 + 4) + 59404) = *(_DWORD *)(v34 + 240);
  v56 = 1;
  *(_DWORD *)(v55 + 5228) |= 1u;
  v57 = FColor::operator unsigned_long(v34 + 328);
  v58 = *(_DWORD *)(v2 + 4);
  v59 = *(_DWORD *)(v58 + 64604);
  v58 += 59376;
  *(_DWORD *)(v58 + 108) = v57;
  *(_DWORD *)(v58 + 5228) = v59 | 1;
  if ( !(*(_BYTE *)(*(_DWORD *)(v2 + 39948) + 824) & 0x10) )
  {
    v60 = 0;
    while ( v60 < 4 )
    {
      v61 = *(_DWORD *)(v2 + 4);
      v62 = v85;
      *(_DWORD *)(v61 + 4 * v60 + 61960) = *(_BYTE *)(v60 + v85 + 748);
      *(_DWORD *)(v61 + 64604) |= 0x80u;
      v63 = *(_DWORD *)(v2 + 4) + 59376;
      memcpy((void *)(v63 + 104 * v60 + 1752), (const void *)(104 * v60 + v62 + 332), 0x68u);
      *(_DWORD *)(v63 + 5228) |= 0x80u;
      ++v60;
      v56 = 1;
    }
  }
  v64 = v85;
  v65 = *(_DWORD *)(v2 + 4) + 59376;
  *(_DWORD *)(*(_DWORD *)(v2 + 4) + 59424) = *(_BYTE *)(v85 + 23) != 0;
  *(_DWORD *)(v65 + 5228) |= v56;
  v66 = FColor::operator unsigned_long(v64 + 760);
  v67 = *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v67 + 59428) = v66;
  *(_DWORD *)(v67 + 64604) |= v56;
  v68 = *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v68 + 59432) = *(_DWORD *)(v64 + 752);
  *(_DWORD *)(v68 + 64604) |= v56;
  v69 = *(_DWORD *)(v2 + 4);
  *(_DWORD *)(v69 + 59436) = *(_DWORD *)(v64 + 756);
  *(_DWORD *)(v69 + 64604) |= v56;
  v70 = *(_DWORD *)(v2 + 4);
  v71 = *(_DWORD *)(v70 + 64604);
  v70 += 59376;
  *(_DWORD *)(v70 + 116) = *(_DWORD *)(v64 + 764);
  *(_DWORD *)(v70 + 5228) = v56 | v71;
  for ( j = 0; ; ++j )
  {
    v73 = v84;
    if ( j >= *(_BYTE *)(v84 + 804) )
      break;
    if ( !*(_BYTE *)(v84 + 805) )
    {
      --*(_DWORD *)(*(_DWORD *)(v84 + 4 * j + 772) + 932);
      v88 = *(_DWORD *)(v73 + 4 * j + 772);
      if ( !*(_DWORD *)(*(_DWORD *)(v73 + 4 * j + 772) + 932) )
      {
        sub_10001F00(v2 + 40904, (8 * *(_DWORD *)(v2 + 40908) >> 3) + 1, 0);
        v74 = 8 * *(_DWORD *)(v2 + 40908) >> 3;
        if ( *(_DWORD *)(v2 + 40904) + 4 * v74 != 4 )
          *(_DWORD *)(*(_DWORD *)(v2 + 40904) + 4 * v74 - 4) = v88;
        v73 = v84;
      }
    }
    *(_DWORD *)(v73 + 4 * j + 772) = 0;
  }
  *(_DWORD *)(*(_DWORD *)(v2 + 39948) + 768) = 0;
  v75 = __rdtsc();
  qword_100845C4 = v75;
  *(_DWORD *)FClock::CurStat += v75 - 12;
  FClock::CurStat = v83;
  v76 = __rdtsc();
  qword_100845C4 = v76;
  *(_DWORD *)FClock::CurStat -= v76;
  return v76;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F3E8: using guessed type int __thiscall FColor__operator unsigned long(_DWORD);
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (100272FF) --------------------------------------------------------
void __usercall sub_100272FF(int a1<ebp>)
{
  *(_DWORD *)(a1 - 32) = *(_DWORD *)(a1 - 36);
  CxxThrowException(a1 - 32, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10027313) --------------------------------------------------------
void __cdecl sub_10027313()
{
  appUnwindf("%s", off_100801EC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801EC: using guessed type char *off_100801EC[28];

//----- (10027340) --------------------------------------------------------
signed int __userpurge sub_10027340<eax>(int a1<ecx>, int a2<ebp>, int a3)
{
  int v3; // esi@1
  signed int result; // eax@2
  int v5; // eax@3
  signed int v6; // ebp@4
  int v7; // ecx@6
  int v8; // ebx@7
  int v9; // edx@7
  int v10; // edx@11
  int v11; // eax@12
  int v12; // ecx@12
  int v13; // edi@13
  int v14; // eax@13
  int v15; // eax@13
  int v16; // [sp-10h] [bp-14h]@4
  signed int v17; // [sp+0h] [bp-4h]@3

  v3 = a1;
  if ( a3 )
  {
    v5 = *(_DWORD *)(a1 + 39948);
    v17 = 0;
    if ( *(_BYTE *)(v5 + 804) )
    {
      v16 = a2;
      v6 = 772;
      do
      {
        if ( !*(_BYTE *)(v5 + 805) )
        {
          --*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 39948) + v6) + 932);
          v7 = *(_DWORD *)(v3 + 39948);
          if ( !*(_DWORD *)(*(_DWORD *)(v7 + v6) + 932) )
          {
            v8 = *(_DWORD *)(v7 + v6);
            sub_10001F00(v3 + 40904, (8 * *(_DWORD *)(v3 + 40908) >> 3) + 1, 0);
            v9 = 8 * *(_DWORD *)(v3 + 40908) >> 3;
            if ( *(_DWORD *)(v3 + 40904) + 4 * v9 != 4 )
              *(_DWORD *)(*(_DWORD *)(v3 + 40904) + 4 * v9 - 4) = v8;
          }
        }
        *(_DWORD *)(*(_DWORD *)(v3 + 39948) + v6) = 0;
        v5 = *(_DWORD *)(v3 + 39948);
        v6 += 4;
        ++v17;
      }
      while ( v17 < *(_BYTE *)(v5 + 804) );
      a2 = v16;
    }
    *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 772) = sub_10010250(v3 + 40904, (const void *)(v3 + 39952));
    v10 = *(_DWORD *)(v3 + 39948);
    if ( *(_DWORD *)(v10 + 1148) > 0 )
    {
      v11 = UD3DRenderDevice::GetVertexShader(*(_DWORD *)(v3 + 4), 0, v10 + 828);
      *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 236) = v11;
      *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 1152) = 0;
      v12 = *(_DWORD *)(v3 + 4) + 59376;
      *(_DWORD *)(*(_DWORD *)(v3 + 4) + 60952) = *(_DWORD *)(v11 + 336);
      *(_DWORD *)(v12 + 5228) |= 4u;
    }
    v13 = *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 772) + 36;
    v14 = sub_10008040(a3, v3, a2, 0, 0);
    sub_100044B0(v3, v13, v14);
    v15 = *(_DWORD *)(v13 + 8);
    *(_DWORD *)(v13 + 12) = *(_DWORD *)(v13 + 12) & 0xC28BF8A2 | 0x28808A2;
    *(_DWORD *)(v13 + 8) = v15 & 0xFFC62FFF | 0x62000;
    result = 1;
    *(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v3 + 39948) + 772) + 9) = 1;
    *(_BYTE *)(*(_DWORD *)(v3 + 39948) + 804) = 1;
    *(_DWORD *)(*(_DWORD *)(v3 + 39948) + 768) = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10027510) --------------------------------------------------------
int __thiscall sub_10027510(int this, int a2, int a3, int a4, int a5)
{
  int v5; // ebp@0
  int v6; // ebx@1
  int v7; // ecx@1
  unsigned __int64 v8; // qax@1
  signed int i; // esi@1
  int v10; // eax@2
  int v11; // edx@4
  int v12; // ecx@4
  int v13; // ecx@5
  int v14; // esi@11
  int v15; // eax@13
  int v16; // eax@13
  bool v17; // zf@14
  void *v18; // ecx@19
  int result; // eax@20
  int v20; // edx@21
  int v21; // ecx@21
  int v22; // eax@21
  int v23; // eax@22
  void *v24; // edi@22
  void *v25; // eax@22
  void *v26; // eax@23
  int v27; // ecx@28
  int j; // eax@31
  int v29; // eax@35
  int v30; // eax@37
  int v31; // eax@37
  char v32; // al@40
  int v33; // eax@42
  int v34; // eax@46
  int v35; // edx@46
  int v36; // eax@50
  int v37; // ebx@52
  signed int v38; // eax@53
  int v39; // ecx@53
  int v40; // edx@53
  int v41; // eax@54
  int v42; // eax@58
  int v43; // eax@62
  int v44; // eax@66
  int v45; // eax@70
  int v46; // edx@74
  int v47; // eax@74
  int v48; // eax@76
  int v49; // eax@80
  int v50; // eax@84
  int v51; // edx@87
  int v52; // eax@91
  void *v53; // esi@94
  int v54; // edx@94
  int v55; // eax@97
  int v56; // edx@100
  int v57; // edi@104
  int l; // ebx@104
  int v59; // eax@109
  int v60; // ecx@109
  int v61; // eax@110
  void *v62; // ebx@110
  void *v63; // eax@110
  int v64; // edx@111
  void *v65; // eax@111
  int v66; // eax@125
  int v67; // ebx@126
  int k; // edi@126
  int v69; // eax@131
  int v70; // ecx@131
  const void *v71; // esi@131
  int v72; // eax@132
  void *v73; // edi@132
  void *v74; // eax@132
  int v75; // edx@133
  void *v76; // eax@133
  int v77; // edx@138
  int v78; // eax@141
  int v79; // eax@142
  int v80; // ecx@142
  int v81; // eax@142
  int v82; // esi@147
  int v83; // eax@148
  signed int v84; // edi@153
  int v85; // edx@156
  void *v86; // ecx@156
  void *v87; // eax@157
  int v88; // [sp-60h] [bp-F8h]@77
  int v89; // [sp-5Ch] [bp-F4h]@77
  int v90; // [sp-58h] [bp-F0h]@77
  int v91; // [sp-54h] [bp-ECh]@77
  int v92; // [sp-50h] [bp-E8h]@77
  int v93; // [sp-4Ch] [bp-E4h]@77
  int v94; // [sp-48h] [bp-E0h]@77
  int v95; // [sp-44h] [bp-DCh]@77
  int v96; // [sp-40h] [bp-D8h]@77
  int v97; // [sp-3Ch] [bp-D4h]@77
  int v98; // [sp-38h] [bp-D0h]@77
  int v99; // [sp-34h] [bp-CCh]@77
  int v100; // [sp-30h] [bp-C8h]@77
  int v101; // [sp-2Ch] [bp-C4h]@77
  int v102; // [sp-28h] [bp-C0h]@77
  int v103; // [sp-24h] [bp-BCh]@77
  int v104; // [sp-20h] [bp-B8h]@77
  int v105; // [sp-1Ch] [bp-B4h]@77
  int v106; // [sp-18h] [bp-B0h]@77
  int v107; // [sp-14h] [bp-ACh]@77
  int v108; // [sp-10h] [bp-A8h]@77
  int v109; // [sp-Ch] [bp-A4h]@77
  int v110; // [sp-8h] [bp-A0h]@94
  int v111; // [sp-4h] [bp-9Ch]@46
  int v112; // [sp+0h] [bp-98h]@1
  char v113; // [sp+Ch] [bp-8Ch]@45
  int v114; // [sp+5Ch] [bp-3Ch]@118
  char v115; // [sp+6Ch] [bp-2Ch]@37
  int v116; // [sp+70h] [bp-28h]@127
  void *v117; // [sp+74h] [bp-24h]@1
  int v118; // [sp+78h] [bp-20h]@4
  int v119; // [sp+7Ch] [bp-1Ch]@43
  int v120; // [sp+80h] [bp-18h]@1
  char v121; // [sp+87h] [bp-11h]@9
  int *v122; // [sp+88h] [bp-10h]@1
  int v123; // [sp+94h] [bp-4h]@1
  int v124; // [sp+A4h] [bp+Ch]@105
  signed int v125; // [sp+A4h] [bp+Ch]@153

  v6 = this;
  v7 = *(_DWORD *)(this + 4);
  v122 = &v112;
  v120 = v6;
  v123 = 0;
  v7 += 64972;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  v117 = FClock::CurStat;
  FClock::CurStat = (void *)v7;
  v8 = __rdtsc();
  qword_100845C4 = v8;
  HIDWORD(v8) = *(_DWORD *)v7 - v8;
  LODWORD(v8) = *(_DWORD *)(v7 + 4) + 1;
  *(_DWORD *)v7 = HIDWORD(v8);
  *(_DWORD *)(v7 + 4) = v8;
  LOBYTE(v123) = 1;
  for ( i = 0; ; ++i )
  {
    v10 = *(_DWORD *)(v6 + 39948);
    if ( i >= *(_BYTE *)(v10 + 804) )
      break;
    if ( !*(_BYTE *)(v10 + 805) )
    {
      --*(_DWORD *)(*(_DWORD *)(v10 + 4 * i + 772) + 932);
      v11 = *(_DWORD *)(v6 + 39948);
      v12 = *(_DWORD *)(*(_DWORD *)(v11 + 4 * i + 772) + 932);
      v118 = *(_DWORD *)(v11 + 4 * i + 772);
      if ( !v12 )
      {
        sub_10001F00(v6 + 40904, (8 * *(_DWORD *)(v6 + 40908) >> 3) + 1, 0);
        v13 = 8 * *(_DWORD *)(v6 + 40908) >> 3;
        if ( *(_DWORD *)(v6 + 40904) + 4 * v13 != 4 )
          *(_DWORD *)(*(_DWORD *)(v6 + 40904) + 4 * v13 - 4) = v118;
      }
    }
    *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 4 * i + 772) = 0;
  }
  if ( *(_DWORD *)(*(_DWORD *)(v6 + 4) + 16720) || (v121 = 1, GIsEditor) )
    v121 = 0;
  v14 = a2;
  if ( !a2 || !*(_DWORD *)(v6 + 40924) )
  {
    v15 = UMaterial::StaticClass();
    v16 = UClass::GetDefaults(v15);
    v14 = *(_DWORD *)(v16 + 44);
    a2 = *(_DWORD *)(v16 + 44);
    v121 = 0;
  }
  v17 = v121 == 0;
  *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 805) = 0;
  if ( !v17
    && v14
    && *(_BYTE *)(v14 + 48)
    && *(_DWORD *)(v14 + 84) < 1073741824
    && (*(int (__thiscall **)(int, int, int))(*(_DWORD *)v6 + 188))(v6, v14, a5) )
  {
    *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 805) = 1;
    *(&GEngineStats + 703) = (char *)*(&GEngineStats + 703) + 1;
    *(_DWORD *)(v6 + 40912) = 0;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    FClock::CurStat = v117;
    v18 = FClock::CurStat;
    qword_100845C4 = __rdtsc();
    goto LABEL_20;
  }
  *(&GEngineStats + 693) = (char *)*(&GEngineStats + 693) + 1;
  v20 = *(_DWORD *)(v6 + 39948);
  *(_DWORD *)(v6 + 40912) = (*(_DWORD *)(v14 + 84) & 0x80000000) != 0 ? 0x80000000 : 0;
  v21 = v6 + 40904;
  *(_BYTE *)(v20 + 804) = 1;
  v22 = *(_DWORD *)(v6 + 40908);
  if ( v22 & 0x1FFFFFFF )
  {
    v23 = 8 * v22 >> 3;
    v24 = *(void **)(*(_DWORD *)v21 + 4 * v23 - 4);
    sub_10002800(v21, v23 - 1, 1);
    v25 = v24;
  }
  else
  {
    v26 = (void *)(*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(948);
    if ( v26 )
      v25 = sub_10005590(v26);
    else
      v25 = 0;
  }
  if ( v6 != -39952 )
  {
    memcpy(v25, (const void *)(v6 + 39952), 0x3B4u);
    v14 = a2;
  }
  *((_DWORD *)v25 + 233) = 1;
  *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 772) = v25;
  v27 = 0;
  if ( GIsEditor )
  {
    if ( !(dword_10084748 & 1) )
    {
      dword_10084748 |= 1u;
      dword_10084740 = 0;
      dword_10084744 = 0;
      atexit(sub_1006E080);
    }
    for ( j = 0; j < 8 * dword_10084744 >> 3; ++j )
      ;
    sub_10021100((int)&dword_10084740, 0, 0);
    if ( !(*(int (__thiscall **)(int, int *))(*(_DWORD *)v14 + 124))(v14, &dword_10084740) )
    {
      v29 = (8 * dword_10084744 >> 3) - 1;
      if ( v29 >= 0 && a4 )
      {
        *(_DWORD *)a4 = *(_DWORD *)(dword_10084740 + 4 * v29);
        v30 = UObject::GetName(*(_DWORD *)(dword_10084740 + 4 * v29));
        v31 = FString::Printf(&v115, "Circular material reference in %s", v30);
        LOBYTE(v123) = 2;
        TArray<char>::operator_(a3, v31);
        LOBYTE(v123) = 1;
        FStringTemp::_FStringTemp(&v115);
      }
      *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 804) = 1;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
      FClock::CurStat = v117;
      v18 = FClock::CurStat;
      qword_100845C4 = __rdtsc();
      goto LABEL_20;
    }
    v27 = 0;
  }
  v32 = *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 21);
  v118 = v27;
  if ( v32 )
  {
    sub_10004C10(v6);
    goto LABEL_141;
  }
  v33 = *(_DWORD *)(*(_DWORD *)(v6 + 8) + 48);
  if ( v33 == v27 || (v17 = (*(_DWORD *)(v33 + 1100) & 0x40000000) == 0, v119 = 1, !v17) )
    v119 = v27;
  while ( 1 )
  {
    sub_10003C30(&v113);
    if ( *(_DWORD *)(*(_DWORD *)(v6 + 8) + 48) )
    {
      v34 = (*(int (__thiscall **)(int))(*(_DWORD *)v14 + 164))(v14);
      v35 = *(_DWORD *)v34;
      v111 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v6 + 8) + 48) + 148) + 792);
      (*(void (__thiscall **)(int, int))(v35 + 136))(v34, v111);
    }
    if ( !v121 || *(_DWORD *)(v14 + 84) & 0x20000000 )
      *(_DWORD *)(v14 + 88) = 0;
    v36 = *(_DWORD *)(v14 + 88);
    if ( !v36 || v36 & 2 )
    {
      v37 = sub_100099F0(v14, v6, v5, (int)&v113, v119);
      if ( v37 )
      {
        v38 = sub_100114E0(v120, v37, (int)&v113, a3, a4);
        v39 = a2;
        v40 = *(_DWORD *)(a2 + 88) | 2;
LABEL_101:
        *(_DWORD *)(v39 + 88) = v40;
        goto LABEL_102;
      }
    }
    v41 = *(_DWORD *)(a2 + 88);
    if ( !v41 || v41 & 4 )
    {
      v37 = sub_100088D0(a2, v120, v5, (int)&v113, v119);
      if ( v37 )
      {
        v38 = sub_10013360((void *)v120, v37, &v113, a3, a4);
        v39 = a2;
        v40 = *(_DWORD *)(a2 + 88) | 4;
        goto LABEL_101;
      }
    }
    v42 = *(_DWORD *)(a2 + 88);
    if ( !v42 || v42 & 8 )
    {
      v37 = sub_100077B0(a2, v120, v5, (int)&v113, v119);
      if ( v37 )
      {
        v38 = sub_10013360((void *)v120, v37, &v113, a3, a4);
        v39 = a2;
        v40 = *(_DWORD *)(a2 + 88) | 8;
        goto LABEL_101;
      }
    }
    v43 = *(_DWORD *)(a2 + 88);
    if ( !v43 || v43 & 0x10 )
    {
      v37 = sub_10008040(a2, v120, v5, (int)&v113, v119);
      if ( v37 )
      {
        v38 = sub_10013360((void *)v120, v37, &v113, a3, a4);
        v39 = a2;
        v40 = *(_DWORD *)(a2 + 88) | 0x10;
        goto LABEL_101;
      }
    }
    v44 = *(_DWORD *)(a2 + 88);
    if ( !v44 || v44 & 0x20 )
    {
      v37 = sub_10021260(a2, v120, v5, (int)&v113, v119);
      if ( v37 )
      {
        v38 = sub_10013BC0((void *)v120, v37, (int)&v113, a3, a4);
        v39 = a2;
        v40 = *(_DWORD *)(a2 + 88) | 0x20;
        goto LABEL_101;
      }
    }
    v45 = *(_DWORD *)(a2 + 88);
    if ( !v45 || v45 & 0x40 )
    {
      v37 = sub_10021AF0(a2, v120, v5, (int)&v113, v119);
      if ( v37 )
      {
        v38 = sub_10006020(v120, v37, (int)&v113, a3, a4);
        v39 = a2;
        v40 = *(_DWORD *)(a2 + 88) | 0x40;
        goto LABEL_101;
      }
    }
    v46 = a2;
    v47 = *(_DWORD *)(a2 + 88);
    if ( !v47 || BYTE1(v47) & 0x10 )
    {
      v48 = sub_10022380(a2, v120, v5, (int)&v113, v119);
      v37 = v48;
      if ( v48 )
      {
        memcpy(&v88, &v113, 0x58u);
        v38 = sub_1000C3D0(
                v120,
                v48,
                v88,
                v89,
                v90,
                v91,
                v92,
                v93,
                v94,
                v95,
                v96,
                v97,
                v98,
                v99,
                v100,
                v101,
                v102,
                v103,
                v104,
                v105,
                v106,
                v107,
                v108,
                v109,
                a3,
                a4);
        *(_DWORD *)(a2 + 88) |= 0x1000u;
        if ( v38 )
          v118 = 1;
        goto LABEL_102;
      }
      v46 = a2;
    }
    v49 = *(_DWORD *)(v46 + 88);
    if ( !v49 || (char)v49 < 0 )
    {
      v37 = sub_10022C10(v46, v120, v5, (int)&v113, v119);
      if ( v37 )
      {
        v38 = sub_1000DF70(v120, v37, COERCE_FLOAT(&v113), a3, a4);
        v39 = a2;
        v40 = *(_DWORD *)(a2 + 88) | 0x80;
        goto LABEL_101;
      }
    }
    if ( ((v50 = *(_DWORD *)(a2 + 88)) == 0 || BYTE1(v50) & 1)
      && (v37 = sub_100234A0(a2, v120, v5, (int)&v113, v119)) != 0 )
    {
      v51 = *(_DWORD *)v37;
      v111 = v120;
      v38 = (*(int (__thiscall **)(int, int))(v51 + 172))(v37, v120);
      *(_DWORD *)(a2 + 88) |= 0x100u;
      if ( v38 )
      {
        v118 = 1;
      }
      else
      {
        if ( *(_DWORD *)(v37 + 100) )
        {
          v111 = a4;
          v38 = sub_10013360((void *)v120, *(_DWORD *)(v37 + 40), &v113, a3, a4);
        }
      }
    }
    else
    {
      v52 = *(_DWORD *)(a2 + 88);
      if ( v52 && !(BYTE1(v52) & 2) || (v37 = sub_10023D30(a2, v120, v5, (int)&v113, v119)) == 0 )
      {
        v55 = *(_DWORD *)(a2 + 88);
        if ( v55 && !(BYTE1(v55) & 4) || (v37 = sub_100245C0(a2, v120, v5, (int)&v113, v119)) == 0 )
        {
          *(_DWORD *)(a2 + 88) = 0;
          goto LABEL_140;
        }
        v56 = *(_DWORD *)v120;
        v111 = *(_DWORD *)(v37 + 100);
        v38 = (*(int (__stdcall **)(int))(v56 + 88))(v111);
        v39 = a2;
        v40 = *(_DWORD *)(a2 + 88) | 0x400;
        goto LABEL_101;
      }
      v53 = (void *)v120;
      v54 = *(_DWORD *)v120;
      v111 = a4;
      v110 = a3;
      v109 = v37;
      v38 = (*(int (__thiscall **)(int, int, int, int))(v54 + 84))(v120, v37, a3, a4);
      *(_DWORD *)(a2 + 88) |= 0x200u;
      if ( v38 )
        v118 = 1;
      else
        v38 = sub_10013360(v53, *(_DWORD *)(v37 + 2220), &v113, a3, a4);
    }
LABEL_102:
    if ( !v119 )
      break;
    if ( v38 )
      goto LABEL_140;
    if ( v114 )
    {
      *(_DWORD *)(v114 + 96) |= 1u;
    }
    else
    {
      if ( (*(int (__thiscall **)(int))(*(_DWORD *)v37 + 168))(v37) )
      {
        *(_DWORD *)(v37 + 96) |= 1u;
        if ( a4 )
          *(_DWORD *)a4 = 0;
        if ( a3 )
          FString::operator_(&unk_10071481);
      }
      else
      {
        v111 = UObject::GetFullName(a2, 0);
        FOutputDevice::Logf(GLog, "%s was not renderable and no fallbacks were available", v111);
        v66 = UMaterial::StaticClass();
        a2 = *(_DWORD *)(UClass::GetDefaults(v66) + 44);
        v121 = 0;
      }
    }
    v67 = v120;
    for ( k = 0; ; ++k )
    {
      v116 = *(_DWORD *)(*(_DWORD *)(v67 + 39948) + 4 * k + 772);
      if ( !v116 )
        break;
      sub_10001F00(v67 + 40904, (8 * *(_DWORD *)(v67 + 40908) >> 3) + 1, 0);
      if ( *(_DWORD *)(v67 + 40904) + 4 * (8 * *(_DWORD *)(v67 + 40908) >> 3) != 4 )
        *(_DWORD *)(*(_DWORD *)(v67 + 40904) + 4 * (8 * *(_DWORD *)(v67 + 40908) >> 3) - 4) = v116;
      *(_DWORD *)(*(_DWORD *)(v67 + 39948) + 4 * k + 772) = 0;
    }
    v69 = *(_DWORD *)(v67 + 40908);
    v70 = v67 + 40904;
    v71 = (const void *)(v67 + 39952);
    if ( v69 & 0x1FFFFFFF )
    {
      v72 = 8 * v69 >> 3;
      v73 = *(void **)(*(_DWORD *)v70 + 4 * v72 - 4);
      sub_10002800(v70, v72 - 1, 1);
      v74 = v73;
    }
    else
    {
      v75 = *(_DWORD *)GMalloc;
      v111 = 948;
      v76 = (void *)(*(int (__stdcall **)(signed int))(v75 + 4))(948);
      if ( v76 )
        v74 = sub_10005590(v76);
      else
        v74 = 0;
    }
    if ( v67 != -39952 )
    {
      v67 = v120;
      memcpy(v74, v71, 0x3B4u);
    }
    v14 = a2;
    *((_DWORD *)v74 + 233) = 1;
    *(_DWORD *)(*(_DWORD *)(v67 + 39948) + 772) = v74;
    v77 = *(_DWORD *)(v67 + 39948);
    v6 = v120;
    *(_BYTE *)(v77 + 804) = 1;
  }
  if ( !v38 )
  {
    v57 = v120;
    for ( l = 0; ; ++l )
    {
      v124 = *(_DWORD *)(*(_DWORD *)(v57 + 39948) + 4 * l + 772);
      if ( !v124 )
        break;
      sub_10001F00(v57 + 40904, (8 * *(_DWORD *)(v57 + 40908) >> 3) + 1, 0);
      if ( *(_DWORD *)(v57 + 40904) + 4 * (8 * *(_DWORD *)(v57 + 40908) >> 3) != 4 )
        *(_DWORD *)(*(_DWORD *)(v57 + 40904) + 4 * (8 * *(_DWORD *)(v57 + 40908) >> 3) - 4) = v124;
      *(_DWORD *)(*(_DWORD *)(v57 + 39948) + 4 * l + 772) = 0;
    }
    v59 = *(_DWORD *)(v57 + 40908);
    v60 = v57 + 40904;
    if ( v59 & 0x1FFFFFFF )
    {
      v61 = 8 * v59 >> 3;
      v62 = *(void **)(*(_DWORD *)v60 + 4 * v61 - 4);
      sub_10002800(v60, v61 - 1, 1);
      v63 = v62;
    }
    else
    {
      v64 = *(_DWORD *)GMalloc;
      v111 = 948;
      v65 = (void *)(*(int (__stdcall **)(signed int))(v64 + 4))(948);
      if ( v65 )
        v63 = sub_10005590(v65);
      else
        v63 = 0;
    }
    if ( v57 != -39952 )
    {
      memcpy(v63, (const void *)(v57 + 39952), 0x3B4u);
      v57 = v120;
    }
    *((_DWORD *)v63 + 233) = 1;
    *(_DWORD *)(*(_DWORD *)(v57 + 39948) + 772) = v63;
    *(_BYTE *)(*(_DWORD *)(v57 + 39948) + 804) = 1;
  }
LABEL_140:
  v6 = v120;
  if ( !v118 )
  {
LABEL_141:
    v78 = *(_DWORD *)(v6 + 39948);
    if ( *(_DWORD *)(v78 + 1148) > 0 )
    {
      v79 = UD3DRenderDevice::GetVertexShader(*(_DWORD *)(v6 + 4), 0, v78 + 828);
      *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 236) = v79;
      *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 1152) = 0;
      v80 = *(_DWORD *)(v79 + 336);
      v81 = *(_DWORD *)(v6 + 4) + 59376;
      *(_DWORD *)(*(_DWORD *)(v6 + 4) + 60952) = v80;
      *(_DWORD *)(v81 + 5228) |= 4u;
    }
  }
  if ( a5 )
    *(_DWORD *)a5 = *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 804);
  if ( v121 )
  {
    if ( *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 804) )
    {
      v82 = a2;
      if ( !(*(_DWORD *)(a2 + 84) & 0x80000000) )
      {
        v83 = *(_DWORD *)(a2 + 88);
        if ( (!v83 || BYTE1(v83) & 8) && sub_10024E50(a2, v6, v5, 0, 0) )
        {
          *(_DWORD *)(v6 + 40912) |= 0x80000000u;
          *(_DWORD *)(a2 + 88) |= 0x800u;
        }
        *(_DWORD *)(a2 + 84) = *(_DWORD *)(v6 + 40912);
        if ( !*(_DWORD *)(v6 + 40912) )
        {
          v84 = 0;
          v125 = 0;
          while ( v84 < *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 804) )
          {
            if ( !*(_DWORD *)(v82 + 4 * v84 + 52) )
            {
              v85 = *(_DWORD *)GMalloc;
              v111 = 948;
              v86 = (void *)(*(int (__stdcall **)(signed int))(v85 + 4))(948);
              LOBYTE(v123) = 3;
              if ( v86 )
                v87 = sub_10005590(v86);
              else
                v87 = 0;
              LOBYTE(v123) = 1;
              *(_DWORD *)(v82 + 4 * v84 + 52) = v87;
            }
            memcpy(*(void **)(a2 + 4 * v125 + 52), *(const void **)(*(_DWORD *)(v6 + 39948) + 4 * v125 + 772), 0x3B4u);
            ++v125;
            v82 = a2;
            v84 = v125;
          }
          *(_BYTE *)(v82 + 48) = *(_BYTE *)(*(_DWORD *)(v6 + 39948) + 804);
        }
      }
    }
  }
  *(_DWORD *)(*(_DWORD *)(v6 + 39948) + 768) = 0;
  qword_100845C4 = __rdtsc();
  *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
  FClock::CurStat = v117;
  v18 = FClock::CurStat;
  qword_100845C4 = __rdtsc();
LABEL_20:
  result = qword_100845C4;
  *(_DWORD *)v18 -= qword_100845C4;
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F0C0: using guessed type int __stdcall FString__operator_(_DWORD);
// 1006F0C8: using guessed type int GIsEditor;
// 1006F0D8: using guessed type int __thiscall TArray_char___operator_(_DWORD, _DWORD);
// 1006F150: using guessed type int FString__Printf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F244: using guessed type int __thiscall UClass__GetDefaults(_DWORD);
// 1006F25C: using guessed type int __thiscall UObject__GetFullName(_DWORD, _DWORD);
// 1006F260: using guessed type int __thiscall UObject__GetName(_DWORD);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);
// 1006F2FC: using guessed type void *GEngineStats;
// 1006F338: using guessed type int UMaterial__StaticClass(void);
// 100845C4: using guessed type __int64 qword_100845C4;
// 10084740: using guessed type int dword_10084740;
// 10084744: using guessed type int dword_10084744;
// 10084748: using guessed type int dword_10084748;

//----- (100281E7) --------------------------------------------------------
void __usercall sub_100281E7(int a1<ebp>)
{
  *(_DWORD *)(a1 - 48) = *(_DWORD *)(a1 - 52);
  CxxThrowException(a1 - 48, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (100281FB) --------------------------------------------------------
void __cdecl sub_100281FB()
{
  appUnwindf("%s", off_100801F0[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801F0: using guessed type char *off_100801F0[27];

//----- (10028270) --------------------------------------------------------
int __thiscall sub_10028270(void *this, int a2)
{
  int result; // eax@1

  result = a2;
  if ( *((_DWORD *)this + 1048) != a2 )
  {
    *((_DWORD *)this + 395) = a2;
    *((_DWORD *)this + 1048) = a2;
    result = (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(*(_DWORD *)this + 18100) + 352))(
               *(_DWORD *)(*(_DWORD *)this + 18100),
               a2);
  }
  return result;
}

//----- (100282D0) --------------------------------------------------------
signed int __thiscall sub_100282D0(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  signed int result; // eax@3
  int v5; // eax@4
  int v6; // eax@4
  char v7; // [sp+0h] [bp-24h]@4
  int v8; // [sp+10h] [bp-14h]@4

  v2 = this;
  if ( *(_DWORD *)(this + 4188) == a2 )
  {
    v3 = *(_DWORD *)this;
    *(_DWORD *)(this + 4188) = 2;
    (*(void (__cdecl **)(_DWORD, signed int))(**(_DWORD **)(v3 + 18100) + 304))(*(_DWORD *)(v3 + 18100), 2);
  }
  result = (*(int (__cdecl **)(_DWORD, int))(**(_DWORD **)(*(_DWORD *)v2 + 18100) + 312))(
             *(_DWORD *)(*(_DWORD *)v2 + 18100),
             a2);
  if ( result < 0 )
  {
    v5 = sub_10001020((int)&v7, result);
    v8 = 0;
    v6 = FString::operator_(v5);
    FOutputDevice::Logf(GError, "DeleteVertexShader failed(%s).", v6);
    v8 = -1;
    result = FString::_FString(&v7);
  }
  return result;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (10028390) --------------------------------------------------------
signed int __thiscall sub_10028390(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  signed int result; // eax@3
  int v5; // eax@4
  int v6; // eax@4
  char v7; // [sp+0h] [bp-24h]@4
  int v8; // [sp+10h] [bp-14h]@4

  v2 = this;
  if ( *(_DWORD *)(this + 4192) == a2 )
  {
    v3 = *(_DWORD *)this;
    *(_DWORD *)(this + 4192) = 0;
    (*(void (__cdecl **)(_DWORD, _DWORD))(**(_DWORD **)(v3 + 18100) + 352))(*(_DWORD *)(v3 + 18100), 0);
  }
  result = (*(int (__cdecl **)(_DWORD, int))(**(_DWORD **)(*(_DWORD *)v2 + 18100) + 360))(
             *(_DWORD *)(*(_DWORD *)v2 + 18100),
             a2);
  if ( result < 0 )
  {
    v5 = sub_10001020((int)&v7, result);
    v8 = 0;
    v6 = FString::operator_(v5);
    FOutputDevice::Logf(GError, "DeletePixelShader failed(%s).", v6);
    v8 = -1;
    result = FString::_FString(&v7);
  }
  return result;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (10028450) --------------------------------------------------------
int __userpurge sub_10028450<eax>(int a1<ecx>, signed int a2<ebx>, signed int a3<edi>, signed int a4<esi>, int a5)
{
  int v5; // ebx@1
  int v6; // eax@1
  int v7; // ecx@1
  signed int v8; // esi@1
  int v9; // edx@1
  signed int v10; // eax@1
  int v11; // ecx@1
  int v12; // edx@1
  signed int v13; // eax@1
  int v14; // ecx@1
  int v15; // edx@1
  signed int v16; // eax@1
  int v17; // ecx@1
  int v18; // edx@1
  signed int v19; // eax@1
  int v20; // ecx@1
  int v21; // edx@1
  signed int v22; // eax@1
  int v23; // ecx@1
  int v24; // edx@1
  signed int v25; // eax@1
  int v26; // ecx@1
  int v27; // edx@1
  signed int v28; // eax@1
  int v29; // ecx@1
  int v30; // edx@1
  signed int v31; // eax@1
  int v32; // ecx@1
  int v33; // edx@1
  signed int v34; // eax@1
  int v35; // ecx@1
  int v36; // edx@1
  signed int v37; // eax@1
  int v38; // ecx@1
  int v39; // edx@1
  signed int v40; // eax@1
  int v41; // ecx@1
  int v42; // edx@1
  signed int v43; // eax@1
  int v44; // ecx@1
  int v45; // edx@1
  signed int v46; // eax@1
  int v47; // ecx@1
  int v48; // edx@1
  signed int v49; // eax@1
  int v50; // ecx@1
  int v51; // edx@1
  signed int v52; // eax@1
  int v53; // ecx@1
  int v54; // edx@1
  signed int v55; // eax@1
  int v56; // ecx@1
  int v57; // eax@1
  signed int v58; // ecx@3
  signed int v59; // edi@3
  signed int v60; // eax@5
  int v61; // edx@5
  int v62; // ecx@5
  signed int v63; // eax@7
  signed int v64; // eax@9
  int v65; // ecx@9
  int v66; // edx@9
  signed int v67; // eax@9
  int v68; // ecx@9
  int v69; // edx@9
  signed int v70; // eax@9
  int v71; // ecx@9
  int v72; // edx@9
  signed int v73; // eax@9
  int v74; // ecx@9
  int v75; // edx@9
  signed int v76; // eax@9
  int v77; // ecx@9
  int v78; // edx@9
  signed int v79; // eax@9
  int v80; // ecx@9
  int v81; // edx@9
  signed int v82; // eax@9
  int v83; // ecx@9
  int v84; // edx@9
  signed int v85; // eax@9
  int v86; // ecx@9
  int v87; // edx@9
  signed int v88; // eax@9
  int v89; // ecx@9
  int v90; // edx@9
  signed int v91; // eax@9
  int v92; // ecx@9
  signed int v93; // eax@9
  int v94; // ecx@9
  int v95; // edi@9
  int v96; // edx@9
  signed int v97; // eax@9
  int v98; // ecx@9
  int v99; // edx@9
  signed int v100; // eax@9
  int v101; // ecx@9
  int v102; // edx@9
  signed int v103; // eax@9
  int v104; // ecx@9
  int v105; // edx@9
  signed int v106; // eax@9
  int v107; // ecx@9
  signed int v108; // eax@9
  int v109; // ecx@9
  signed int v110; // eax@9
  int v111; // ecx@9
  signed int v112; // eax@9
  int v113; // ecx@9
  signed int v114; // eax@9
  int v115; // ecx@9
  signed int v116; // eax@9
  int v117; // ecx@9
  signed int v118; // eax@9
  int v119; // ecx@9
  signed int v120; // eax@9
  int v121; // ecx@9
  signed int v122; // eax@9
  int v123; // ecx@9
  signed int v124; // eax@9
  int v125; // ecx@9
  signed int v126; // eax@9
  int v127; // ecx@9
  signed int v128; // edi@9
  int v129; // eax@11
  int v130; // ecx@11
  int v131; // esi@11
  int v132; // eax@11
  int v133; // ecx@11
  int v134; // eax@11
  int v135; // ecx@11
  int v136; // eax@11
  int v137; // ecx@11
  int v138; // eax@11
  int v139; // ecx@11
  int v140; // eax@11
  int v141; // ecx@11
  int v142; // eax@11
  int v143; // ecx@11
  int v144; // ecx@11
  int v145; // edx@11
  int v146; // ecx@11
  int v147; // edx@11
  int v148; // edx@11
  int v149; // eax@11
  int v150; // ecx@11
  int v151; // ecx@11
  int v152; // edx@11
  int v153; // ecx@11
  int v154; // esi@11
  unsigned __int64 v155; // qax@11
  unsigned __int64 v156; // qax@11
  int v157; // esi@11
  int v158; // ecx@11
  int v159; // eax@11
  int v160; // ecx@11
  int v161; // eax@11
  int v162; // ecx@11
  __int128 v163; // xmm0@11
  int v164; // eax@11
  int v165; // ecx@11
  int v166; // eax@11
  int v167; // edx@11
  int v168; // eax@11
  int v169; // ecx@11
  __int128 v170; // xmm0@11
  int v171; // eax@11
  int v172; // ecx@11
  __int128 v173; // xmm0@11
  int v174; // eax@11
  int v175; // edx@11
  int v176; // eax@11
  int v177; // ecx@11
  signed int v178; // eax@11
  int v179; // edx@11
  int v180; // eax@12
  signed int v181; // eax@12
  int v182; // ecx@12
  signed int i; // edi@12
  int v184; // ecx@13
  signed int v185; // eax@13
  int v186; // eax@16
  int v187; // edx@16
  int v188; // ecx@17
  int result; // eax@17
  signed int j; // edx@17
  signed int v191; // [sp-Ch] [bp-48h]@1
  signed int v192; // [sp-8h] [bp-44h]@1
  signed int v193; // [sp-4h] [bp-40h]@1
  int v194; // [sp+8h] [bp-34h]@11
  int v195; // [sp+Ch] [bp-30h]@11
  int v196; // [sp+10h] [bp-2Ch]@11
  int v197; // [sp+14h] [bp-28h]@11
  int v198; // [sp+18h] [bp-24h]@11
  int v199; // [sp+1Ch] [bp-20h]@11
  int v200; // [sp+20h] [bp-1Ch]@11
  int v201; // [sp+24h] [bp-18h]@11
  int v202; // [sp+28h] [bp-14h]@1
  signed int *v203; // [sp+2Ch] [bp-10h]@1
  int v204; // [sp+38h] [bp-4h]@1
  int v205; // [sp+44h] [bp+8h]@11

  v193 = a2;
  v192 = a4;
  v191 = a3;
  v203 = &v191;
  v5 = a1;
  *(_DWORD *)a1 = a5;
  v6 = *(_DWORD *)(a5 + 18100);
  v7 = *(_DWORD *)v6;
  v8 = 0;
  v204 = 0;
  v202 = dword_1006F9A0;
  (*(void (__stdcall **)(int, signed int, signed int, signed int, signed int, signed int))(v7 + 200))(
    v6,
    8,
    3,
    v191,
    v192,
    v193);
  v9 = *(_DWORD *)v5;
  v193 = 1;
  *(_DWORD *)(v5 + 2616) = 3;
  v10 = *(_DWORD *)(v9 + 18100);
  v11 = *(_DWORD *)v10;
  v192 = 14;
  v191 = v10;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v11 + 200))(v10, 14, v193);
  v12 = *(_DWORD *)v5;
  v193 = 15;
  *(_DWORD *)(v5 + 2620) = 1;
  v13 = *(_DWORD *)(v12 + 18100);
  v14 = *(_DWORD *)v13;
  v192 = 168;
  v191 = v13;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v14 + 200))(v13, 168, v193);
  v15 = *(_DWORD *)v5;
  v193 = 1;
  *(_DWORD *)(v5 + 2732) = 15;
  v16 = *(_DWORD *)(v15 + 18100);
  v17 = *(_DWORD *)v16;
  v192 = 7;
  v191 = v16;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v17 + 200))(v16, 7, v193);
  v18 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2624) = 1;
  v19 = *(_DWORD *)(v18 + 18100);
  v20 = *(_DWORD *)v19;
  v192 = 15;
  v191 = v19;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v20 + 200))(v19, 15, v193);
  v21 = *(_DWORD *)v5;
  v193 = 2;
  *(_DWORD *)(v5 + 2628) = 0;
  v22 = *(_DWORD *)(v21 + 18100);
  v23 = *(_DWORD *)v22;
  v192 = 19;
  v191 = v22;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v23 + 200))(v22, 19, v193);
  v24 = *(_DWORD *)v5;
  v193 = 1;
  *(_DWORD *)(v5 + 2632) = 2;
  v25 = *(_DWORD *)(v24 + 18100);
  v26 = *(_DWORD *)v25;
  v192 = 20;
  v191 = v25;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v26 + 200))(v25, 20, v193);
  v27 = *(_DWORD *)v5;
  v193 = 1;
  *(_DWORD *)(v5 + 2636) = 1;
  v28 = *(_DWORD *)(v27 + 18100);
  v29 = *(_DWORD *)v28;
  v192 = 22;
  v191 = v28;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v29 + 200))(v28, 22, v193);
  v30 = *(_DWORD *)v5;
  *(_DWORD *)(v5 + 2640) = 1;
  v31 = *(_DWORD *)(v30 + 18100);
  v32 = *(_DWORD *)v31;
  v193 = 4;
  v192 = 23;
  v191 = v31;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v32 + 200))(v31, 23, 4);
  v33 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2644) = 4;
  v34 = *(_DWORD *)(v33 + 18100);
  v35 = *(_DWORD *)v34;
  v192 = 24;
  v191 = v34;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v35 + 200))(v34, 24, v193);
  v36 = *(_DWORD *)v5;
  v193 = 5;
  *(_DWORD *)(v5 + 2648) = 0;
  v37 = *(_DWORD *)(v36 + 18100);
  v38 = *(_DWORD *)v37;
  v192 = 25;
  v191 = v37;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v38 + 200))(v37, 25, v193);
  v39 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2652) = 5;
  v40 = *(_DWORD *)(v39 + 18100);
  v41 = *(_DWORD *)v40;
  v192 = 27;
  v191 = v40;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v41 + 200))(v40, 27, v193);
  v42 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2656) = 0;
  v43 = *(_DWORD *)(v42 + 18100);
  v44 = *(_DWORD *)v43;
  v192 = 28;
  v191 = v43;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v44 + 200))(v43, 28, v193);
  v45 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2660) = 0;
  v46 = *(_DWORD *)(v45 + 18100);
  v47 = *(_DWORD *)v46;
  v192 = 34;
  v191 = v46;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v47 + 200))(v46, 34, v193);
  v48 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2664) = 0;
  v49 = *(_DWORD *)(v48 + 18100);
  v50 = *(_DWORD *)v49;
  v192 = 36;
  v191 = v49;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v50 + 200))(v49, 36, v193);
  v51 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2668) = 0;
  v52 = *(_DWORD *)(v51 + 18100);
  v53 = *(_DWORD *)v52;
  v192 = 37;
  v191 = v52;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v53 + 200))(v52, 37, v193);
  v54 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2672) = 0;
  v55 = *(_DWORD *)(v54 + 18100);
  v56 = *(_DWORD *)v55;
  v192 = 47;
  v191 = v55;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v56 + 200))(v55, 47, v193);
  v57 = *(_DWORD *)v5;
  *(_DWORD *)(v5 + 2676) = 0;
  if ( *(_DWORD *)(v57 + 84) || GIsEditor )
  {
    v59 = 1;
    v58 = 1;
  }
  else
  {
    v58 = 0;
    v59 = 1;
  }
  v60 = *(_DWORD *)(v57 + 18100);
  v61 = *(_DWORD *)v60;
  v193 = v58;
  v192 = 52;
  v191 = v60;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v61 + 200))(v60, 52, v58);
  v62 = *(_DWORD *)v5;
  if ( *(_DWORD *)(*(_DWORD *)v5 + 84) || GIsEditor )
    v63 = v59;
  else
    v63 = 0;
  v193 = v59;
  *(_DWORD *)(v5 + 2680) = v63;
  v64 = *(_DWORD *)(v62 + 18100);
  v65 = *(_DWORD *)v64;
  v192 = 53;
  v191 = v64;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v65 + 200))(v64, 53, v193);
  v66 = *(_DWORD *)v5;
  v193 = v59;
  *(_DWORD *)(v5 + 2684) = v59;
  v67 = *(_DWORD *)(v66 + 18100);
  v68 = *(_DWORD *)v67;
  v192 = 54;
  v191 = v67;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v68 + 200))(v67, 54, v193);
  v69 = *(_DWORD *)v5;
  v193 = v59;
  *(_DWORD *)(v5 + 2688) = v59;
  v70 = *(_DWORD *)(v69 + 18100);
  v71 = *(_DWORD *)v70;
  v192 = 55;
  v191 = v70;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v71 + 200))(v70, 55, v193);
  v72 = *(_DWORD *)v5;
  v193 = 8;
  *(_DWORD *)(v5 + 2692) = v59;
  v73 = *(_DWORD *)(v72 + 18100);
  v74 = *(_DWORD *)v73;
  v192 = 56;
  v191 = v73;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v74 + 200))(v73, 56, v193);
  v75 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2696) = 8;
  v76 = *(_DWORD *)(v75 + 18100);
  v77 = *(_DWORD *)v76;
  v192 = 57;
  v191 = v76;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v77 + 200))(v76, 57, v193);
  v78 = *(_DWORD *)v5;
  v193 = 255;
  *(_DWORD *)(v5 + 2700) = 0;
  v79 = *(_DWORD *)(v78 + 18100);
  v80 = *(_DWORD *)v79;
  v192 = 58;
  v191 = v79;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v80 + 200))(v79, 58, v193);
  v81 = *(_DWORD *)v5;
  v193 = 255;
  *(_DWORD *)(v5 + 2704) = 255;
  v82 = *(_DWORD *)(v81 + 18100);
  v83 = *(_DWORD *)v82;
  v192 = 59;
  v191 = v82;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v83 + 200))(v82, 59, v193);
  v84 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2708) = 255;
  v85 = *(_DWORD *)(v84 + 18100);
  v86 = *(_DWORD *)v85;
  v192 = 60;
  v191 = v85;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v86 + 200))(v85, 60, v193);
  v87 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2712) = 0;
  v88 = *(_DWORD *)(v87 + 18100);
  v89 = *(_DWORD *)v88;
  v192 = 137;
  v191 = v88;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v89 + 200))(v88, 137, v193);
  v90 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2716) = 0;
  v91 = *(_DWORD *)(v90 + 18100);
  v92 = *(_DWORD *)v91;
  v192 = 139;
  v191 = v91;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v92 + 200))(v91, 139, v193);
  *(_DWORD *)(v5 + 2720) = 0;
  v93 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v94 = *(_DWORD *)v93;
  v193 = 1;
  v192 = 141;
  v191 = v93;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v94 + 200))(v93, 141, 1);
  v95 = v202;
  v96 = *(_DWORD *)v5;
  v193 = v202;
  *(_DWORD *)(v5 + 2724) = 1;
  v97 = *(_DWORD *)(v96 + 18100);
  v98 = *(_DWORD *)v97;
  v192 = 164;
  v191 = v97;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v98 + 200))(v97, 164, v193);
  v99 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2728) = v95;
  v100 = *(_DWORD *)(v99 + 18100);
  v101 = *(_DWORD *)v100;
  v192 = 29;
  v191 = v100;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v101 + 200))(v100, 29, v193);
  v102 = *(_DWORD *)v5;
  v193 = 0;
  *(_DWORD *)(v5 + 2736) = 0;
  v103 = *(_DWORD *)(v102 + 18100);
  v104 = *(_DWORD *)v103;
  v192 = 161;
  v191 = v103;
  (*(void (__stdcall **)(signed int, signed int, signed int))(v104 + 200))(v103, 161, v193);
  v105 = *(_DWORD *)v5;
  *(_DWORD *)(v5 + 2740) = 0;
  v106 = *(_DWORD *)(v105 + 18100);
  v107 = *(_DWORD *)v106;
  v193 = (signed int)FMatrix::Identity;
  v192 = 2;
  v191 = v106;
  (*(void (__stdcall **)(signed int, signed int, void *))(v107 + 148))(v106, 2, FMatrix::Identity);
  v108 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v109 = *(_DWORD *)v108;
  v193 = (signed int)FMatrix::Identity;
  v192 = 3;
  v191 = v108;
  (*(void (__stdcall **)(signed int, signed int, void *))(v109 + 148))(v108, 3, FMatrix::Identity);
  v110 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v111 = *(_DWORD *)v110;
  v193 = (signed int)FMatrix::Identity;
  v192 = 16;
  v191 = v110;
  (*(void (__stdcall **)(signed int, signed int, void *))(v111 + 148))(v110, 16, FMatrix::Identity);
  v112 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v113 = *(_DWORD *)v112;
  v193 = (signed int)FMatrix::Identity;
  v192 = 17;
  v191 = v112;
  (*(void (__stdcall **)(signed int, signed int, void *))(v113 + 148))(v112, 17, FMatrix::Identity);
  v114 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v115 = *(_DWORD *)v114;
  v193 = (signed int)FMatrix::Identity;
  v192 = 18;
  v191 = v114;
  (*(void (__stdcall **)(signed int, signed int, void *))(v115 + 148))(v114, 18, FMatrix::Identity);
  v116 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v117 = *(_DWORD *)v116;
  v193 = (signed int)FMatrix::Identity;
  v192 = 19;
  v191 = v116;
  (*(void (__stdcall **)(signed int, signed int, void *))(v117 + 148))(v116, 19, FMatrix::Identity);
  v118 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v119 = *(_DWORD *)v118;
  v193 = (signed int)FMatrix::Identity;
  v192 = 20;
  v191 = v118;
  (*(void (__stdcall **)(signed int, signed int, void *))(v119 + 148))(v118, 20, FMatrix::Identity);
  v120 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v121 = *(_DWORD *)v120;
  v193 = (signed int)FMatrix::Identity;
  v192 = 21;
  v191 = v120;
  (*(void (__stdcall **)(signed int, signed int, void *))(v121 + 148))(v120, 21, FMatrix::Identity);
  v122 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v123 = *(_DWORD *)v122;
  v193 = (signed int)FMatrix::Identity;
  v192 = 22;
  v191 = v122;
  (*(void (__stdcall **)(signed int, signed int, void *))(v123 + 148))(v122, 22, FMatrix::Identity);
  v124 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v125 = *(_DWORD *)v124;
  v193 = (signed int)FMatrix::Identity;
  v192 = 23;
  v191 = v124;
  (*(void (__stdcall **)(signed int, signed int, void *))(v125 + 148))(v124, 23, FMatrix::Identity);
  v126 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  v127 = *(_DWORD *)v126;
  v193 = (signed int)FMatrix::Identity;
  v192 = 256;
  v191 = v126;
  (*(void (__stdcall **)(signed int, signed int, void *))(v127 + 148))(v126, 256, FMatrix::Identity);
  v128 = 0;
  while ( (unsigned int)v128 < *(_DWORD *)(*(_DWORD *)v5 + 16872) )
  {
    v129 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v130 = *(_DWORD *)v129;
    v193 = 1;
    v192 = 1;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v130 + 252))(v129, v128, 1, 1);
    v131 = 84 * v128 + v5;
    v193 = 2;
    *(_DWORD *)(v131 + 2744) = 1;
    v132 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v133 = *(_DWORD *)v132;
    v192 = 2;
    v191 = v128;
    v202 = 84 * v128 + v5;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v133 + 252))(v132, v128, 2, v193);
    v193 = 1;
    *(_DWORD *)(v131 + 2748) = 2;
    v134 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v135 = *(_DWORD *)v134;
    v192 = 3;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v135 + 252))(v134, v128, 3, v193);
    v193 = 1;
    *(_DWORD *)(v131 + 2752) = 1;
    v136 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v137 = *(_DWORD *)v136;
    v192 = 4;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v137 + 252))(v136, v128, 4, v193);
    v193 = 0;
    *(_DWORD *)(v131 + 2756) = 1;
    v138 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v139 = *(_DWORD *)v138;
    v192 = 5;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v139 + 252))(v138, v128, 5, v193);
    v193 = 1;
    *(_DWORD *)(v131 + 2760) = 0;
    v140 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v141 = *(_DWORD *)v140;
    v192 = 6;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v141 + 252))(v140, v128, 6, v193);
    v193 = v128;
    *(_DWORD *)(v131 + 2764) = 1;
    v142 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v143 = *(_DWORD *)v142;
    v192 = 11;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v143 + 252))(v142, v128, 11, v193);
    *(_DWORD *)(v131 + 2768) = v128;
    v144 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v145 = *(_DWORD *)v144;
    v193 = *(_DWORD *)(*(_DWORD *)v5 + 18028);
    v192 = 13;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v145 + 252))(v144, v128, 13, v193);
    *(_DWORD *)(84 * (v128 + 33) + v5) = *(_DWORD *)(*(_DWORD *)v5 + 18028);
    v146 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v147 = *(_DWORD *)v146;
    v193 = *(_DWORD *)(*(_DWORD *)v5 + 18028);
    v192 = 14;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v147 + 252))(v146, v128, 14, v193);
    v148 = *(_DWORD *)(*(_DWORD *)v5 + 18028);
    v193 = 0;
    *(_DWORD *)(v131 + 2776) = v148;
    v149 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v150 = *(_DWORD *)v149;
    v192 = 24;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v150 + 252))(v149, v128, 24, v193);
    *(_DWORD *)(v131 + 2780) = 0;
    v151 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v152 = *(_DWORD *)v151;
    v193 = *(_DWORD *)(*(_DWORD *)v5 + 18028);
    v192 = 25;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v152 + 252))(v151, v128, 25, v193);
    *(_DWORD *)(v131 + 2784) = *(_DWORD *)(*(_DWORD *)v5 + 18028);
    v153 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v154 = *(_DWORD *)v153;
    v205 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v155 = (unsigned __int64)*(float *)(*(_DWORD *)v5 + 16704);
    v193 = (unsigned __int64)*(float *)(*(_DWORD *)v5 + 16704);
    v192 = 19;
    v191 = v128;
    (*(void (__fastcall **)(int, _DWORD, int, signed int, signed int, signed int))(v154 + 252))(
      v153,
      HIDWORD(v155),
      v205,
      v128,
      19,
      v193);
    v156 = (unsigned __int64)*(float *)(*(_DWORD *)v5 + 16704);
    v157 = v202;
    v193 = 1;
    *(_DWORD *)(v202 + 2800) = v156;
    LODWORD(v156) = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v158 = *(_DWORD *)v156;
    v192 = 26;
    v191 = v128;
    (*(void (__stdcall **)(_DWORD, signed int, signed int, signed int))(v158 + 252))(v156, v128, 26, v193);
    v193 = 1;
    *(_DWORD *)(v157 + 2788) = 1;
    v159 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v160 = *(_DWORD *)v159;
    v192 = 27;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v160 + 252))(v159, v128, 27, v193);
    v193 = 1;
    *(_DWORD *)(v157 + 2792) = 1;
    v161 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v162 = *(_DWORD *)v161;
    v192 = 28;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v162 + 252))(v161, v128, 28, v193);
    v163 = (unsigned int)dword_1006F9A0;
    *(_DWORD *)(v157 + 2796) = 1;
    v164 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v165 = *(_DWORD *)v164;
    v201 = v163;
    v193 = v163;
    v192 = 7;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, _DWORD))(v165 + 252))(v164, v128, 7, v163);
    v200 = dword_1006F9A0;
    v193 = 0;
    *(_DWORD *)(v157 + 2804) = dword_1006F9A0;
    v166 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v167 = *(_DWORD *)v166;
    v192 = 8;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v167 + 252))(v166, v128, 8, v193);
    v193 = 0;
    *(_DWORD *)(v157 + 2808) = 0;
    v168 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v169 = *(_DWORD *)v168;
    v192 = 9;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v169 + 252))(v168, v128, 9, v193);
    v170 = (unsigned int)dword_1006F9A0;
    *(_DWORD *)(v157 + 2812) = 0;
    v171 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v172 = *(_DWORD *)v171;
    v199 = v170;
    v193 = v170;
    v192 = 10;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, _DWORD))(v172 + 252))(v171, v128, 10, v170);
    v173 = (unsigned int)dword_1006F9A0;
    v198 = dword_1006F9A0;
    *(_DWORD *)(v157 + 2816) = dword_1006F9A0;
    v174 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v175 = *(_DWORD *)v174;
    v197 = v173;
    v193 = v173;
    v192 = 22;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, _DWORD))(v175 + 252))(v174, v128, 22, v173);
    v196 = dword_1006F9A0;
    *(_DWORD *)(v157 + 2820) = dword_1006F9A0;
    v176 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v177 = *(_DWORD *)v176;
    v195 = 0;
    v193 = 0;
    v192 = 23;
    v191 = v128;
    (*(void (__stdcall **)(int, signed int, signed int, _DWORD))(v177 + 252))(v176, v128, 23, 0);
    v194 = 0;
    *(_DWORD *)(v157 + 2824) = 0;
    v178 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
    v179 = *(_DWORD *)v178;
    v193 = 0;
    v192 = v128;
    v191 = v178;
    (*(void (__stdcall **)(signed int, signed int, _DWORD))(v179 + 244))(v178, v128, 0);
    *(_DWORD *)(v5 + 4 * v128++ + 4332) = 0;
    v8 = 0;
  }
  v180 = *(_DWORD *)v5;
  *(_DWORD *)(v5 + 4188) = 2;
  *(_DWORD *)(v5 + 4192) = v8;
  v181 = *(_DWORD *)(v180 + 18100);
  v182 = *(_DWORD *)v181;
  v193 = 2;
  v192 = v181;
  (*(void (__stdcall **)(signed int, signed int))(v182 + 304))(v181, 2);
  for ( i = 0; ; ++i )
  {
    v184 = *(_DWORD *)v5;
    v185 = *(_DWORD *)(*(_DWORD *)v5 + 16912);
    if ( v185 >= 16 )
      v185 = 16;
    v193 = v8;
    v192 = v8;
    if ( i >= v185 )
      break;
    v186 = *(_DWORD *)(v184 + 18100);
    v187 = *(_DWORD *)v186;
    v191 = i;
    (*(void (__stdcall **)(int, signed int, signed int, signed int))(v187 + 332))(v186, i, v192, v193);
    *(_DWORD *)(v5 + 8 * i + 4196) = v8;
    *(_DWORD *)(v5 + 8 * i + 4200) = v8;
  }
  v188 = **(_DWORD **)(*(_DWORD *)v5 + 18100);
  v191 = *(_DWORD *)(*(_DWORD *)v5 + 18100);
  result = (*(int (__stdcall **)(signed int, signed int, signed int))(v188 + 340))(v191, v192, v193);
  *(_DWORD *)(v5 + 4324) = v8;
  *(_DWORD *)(v5 + 4328) = v8;
  for ( j = 0; j < 8; ++j )
  {
    result = 0;
    memset((void *)(104 * j + v5 + 4364), 0, 0x68u);
    *(_DWORD *)(v5 + 4 * j + 5196) = v8;
  }
  *(_DWORD *)(v5 + 5228) = 0;
  memcpy((void *)(v5 + 4), (const void *)(v5 + 2616), 0xA34u);
  dword_10084750 = 8;
  dword_10084754 = 14;
  dword_1008475C = 15;
  dword_10084760 = 19;
  dword_10084764 = 20;
  dword_10084768 = 22;
  dword_1008476C = 23;
  dword_10084770 = 24;
  dword_10084774 = 25;
  dword_10084778 = 27;
  dword_1008477C = 28;
  dword_10084780 = 34;
  dword_10084784 = 36;
  dword_10084788 = 37;
  dword_1008478C = 47;
  dword_10084790 = 52;
  dword_10084794 = 53;
  dword_10084798 = 54;
  dword_1008479C = 55;
  dword_100847A0 = 56;
  dword_100847A4 = 57;
  dword_100847A8 = 58;
  dword_100847AC = 59;
  dword_100847B0 = 60;
  dword_100847B4 = 137;
  dword_100847B8 = 139;
  dword_100847BC = 141;
  dword_100847C0 = 164;
  dword_100847C8 = 29;
  dword_100847CC = 161;
  return result;
}
// 10028450: could not find valid save-restore pair for ebx
// 10028450: could not find valid save-restore pair for edi
// 10028450: could not find valid save-restore pair for esi
// 1006F0B0: using guessed type void *FMatrix__Identity;
// 1006F0C8: using guessed type int GIsEditor;
// 1006F9A0: using guessed type int dword_1006F9A0;
// 10084750: using guessed type int dword_10084750;
// 10084754: using guessed type int dword_10084754;
// 1008475C: using guessed type int dword_1008475C;
// 10084760: using guessed type int dword_10084760;
// 10084764: using guessed type int dword_10084764;
// 10084768: using guessed type int dword_10084768;
// 1008476C: using guessed type int dword_1008476C;
// 10084770: using guessed type int dword_10084770;
// 10084774: using guessed type int dword_10084774;
// 10084778: using guessed type int dword_10084778;
// 1008477C: using guessed type int dword_1008477C;
// 10084780: using guessed type int dword_10084780;
// 10084784: using guessed type int dword_10084784;
// 10084788: using guessed type int dword_10084788;
// 1008478C: using guessed type int dword_1008478C;
// 10084790: using guessed type int dword_10084790;
// 10084794: using guessed type int dword_10084794;
// 10084798: using guessed type int dword_10084798;
// 1008479C: using guessed type int dword_1008479C;
// 100847A0: using guessed type int dword_100847A0;
// 100847A4: using guessed type int dword_100847A4;
// 100847A8: using guessed type int dword_100847A8;
// 100847AC: using guessed type int dword_100847AC;
// 100847B0: using guessed type int dword_100847B0;
// 100847B4: using guessed type int dword_100847B4;
// 100847B8: using guessed type int dword_100847B8;
// 100847BC: using guessed type int dword_100847BC;
// 100847C0: using guessed type int dword_100847C0;
// 100847C8: using guessed type int dword_100847C8;
// 100847CC: using guessed type int dword_100847CC;

//----- (10028EDD) --------------------------------------------------------
void __usercall sub_10028EDD(int a1<ebp>)
{
  *(_DWORD *)(a1 - 56) = *(_DWORD *)(a1 - 60);
  CxxThrowException(a1 - 56, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (10028EF1) --------------------------------------------------------
void __cdecl sub_10028EF1()
{
  appUnwindf("%s", off_100801F4[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801F4: using guessed type char *off_100801F4[26];

//----- (10028F10) --------------------------------------------------------
int __thiscall sub_10028F10(void *this)
{
  void *v1; // esi@1
  unsigned __int64 v2; // qax@1
  void *v3; // ecx@2
  signed int v4; // ebx@2
  int v5; // ecx@3
  int v6; // edx@4
  int v7; // ecx@5
  int v8; // eax@6
  int v9; // ecx@7
  int v10; // eax@8
  int v11; // ecx@9
  int v12; // eax@10
  int v13; // ecx@11
  int v14; // eax@12
  int v15; // ecx@13
  int v16; // eax@14
  int v17; // ecx@15
  int v18; // eax@16
  int v19; // ecx@17
  int v20; // eax@18
  int v21; // ecx@19
  int v22; // eax@20
  int v23; // ecx@21
  int v24; // eax@22
  int v25; // ecx@23
  int v26; // eax@24
  int v27; // ecx@25
  int v28; // eax@26
  int v29; // ecx@27
  int v30; // eax@28
  int v31; // ecx@30
  int v32; // eax@31
  int v33; // ecx@32
  int v34; // eax@33
  int v35; // ecx@34
  int v36; // eax@35
  int v37; // ecx@36
  int v38; // eax@37
  int v39; // ecx@38
  int v40; // eax@39
  int v41; // eax@40
  int v42; // ecx@42
  int v43; // ecx@44
  int v44; // eax@45
  int v45; // ecx@46
  int v46; // eax@47
  int v47; // ecx@48
  int v48; // eax@49
  int v49; // ecx@50
  int v50; // eax@51
  int v51; // ecx@52
  int v52; // eax@53
  int v53; // ecx@54
  int v54; // eax@55
  int v55; // ecx@56
  int v56; // eax@57
  int v57; // eax@58
  int v58; // ecx@59
  int v59; // ecx@60
  int v60; // eax@61
  int v61; // ecx@62
  int v62; // eax@63
  int v63; // ecx@64
  int v64; // eax@65
  int v65; // ecx@66
  int v66; // eax@67
  int v67; // ecx@68
  int v68; // eax@69
  int v69; // ebp@71
  int v70; // edi@72
  int v71; // ecx@75
  int v72; // ecx@77
  int v73; // ecx@79
  int v74; // ecx@81
  int v75; // ecx@83
  int v76; // ecx@85
  int v77; // ecx@87
  int v78; // ecx@89
  int v79; // ecx@91
  int v80; // ecx@93
  int v81; // ecx@95
  int v82; // ecx@97
  int v83; // ecx@99
  int v84; // ecx@101
  int v85; // ecx@103
  int v86; // ecx@105
  int v87; // ecx@107
  int v88; // ecx@109
  int v89; // ecx@111
  int v90; // ecx@113
  void *v91; // ecx@116
  int v92; // eax@133
  int v93; // eax@135
  int v94; // eax@138
  void *v95; // ecx@141
  signed int v96; // ebp@141
  int i; // edi@141
  signed int v98; // eax@142
  int v99; // ecx@145
  void *v100; // ecx@150
  signed int v101; // edi@150
  int v102; // ebp@150
  signed int v103; // eax@151
  int v104; // ecx@156
  int v105; // eax@161
  int v106; // ecx@162
  signed int v107; // ebp@164
  int k; // edi@164
  signed int v109; // eax@165
  int v110; // edx@168
  int v111; // eax@170
  int v112; // eax@173
  int v113; // edx@174
  int v114; // edx@176
  int v115; // eax@178
  int v116; // ecx@178
  int v117; // eax@179
  unsigned __int64 v118; // qax@179
  int v120; // [sp+35Ch] [bp-40h]@0
  signed int v121; // [sp+370h] [bp-2Ch]@2
  int j; // [sp+374h] [bp-28h]@150
  int v123; // [sp+378h] [bp-24h]@2
  int v124; // [sp+37Ch] [bp-20h]@2
  int v125; // [sp+380h] [bp-1Ch]@2
  int v126; // [sp+384h] [bp-18h]@2

  v1 = this;
  LODWORD(v2) = *((_DWORD *)this + 1307);
  if ( (_DWORD)v2 )
  {
    v3 = (void *)(*(_DWORD *)this + 65372);
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    FClock::CurStat = v3;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)v3 -= qword_100845C4;
    v4 = 0;
    v123 = 0;
    v124 = 0;
    v125 = 0;
    v121 = 0;
    v126 = 0;
    if ( *((_BYTE *)v1 + 5228) & 1 )
    {
      v5 = *((_DWORD *)v1 + 1);
      if ( v5 != *((_DWORD *)v1 + 654) )
      {
        v6 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 1);
        *((_DWORD *)v1 + 654) = v5;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v6 + 18100) + 200))(
          *(_DWORD *)(v6 + 18100),
          8,
          v120);
        v4 = 1;
      }
      v7 = *((_DWORD *)v1 + 2);
      if ( v7 != *((_DWORD *)v1 + 655) )
      {
        v8 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 2);
        *((_DWORD *)v1 + 655) = v7;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v8 + 18100) + 200))(
          *(_DWORD *)(v8 + 18100),
          14,
          v120);
        ++v4;
      }
      v9 = *((_DWORD *)v1 + 3);
      if ( v9 != *((_DWORD *)v1 + 656) )
      {
        v10 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 3);
        *((_DWORD *)v1 + 656) = v9;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v10 + 18100) + 200))(
          *(_DWORD *)(v10 + 18100),
          7,
          v120);
        ++v4;
      }
      v11 = *((_DWORD *)v1 + 30);
      if ( v11 != *((_DWORD *)v1 + 683) )
      {
        v12 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 30);
        *((_DWORD *)v1 + 683) = v11;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v12 + 18100) + 200))(
          *(_DWORD *)(v12 + 18100),
          168,
          v120);
        ++v4;
      }
      v13 = *((_DWORD *)v1 + 4);
      if ( v13 != *((_DWORD *)v1 + 657) )
      {
        v14 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 4);
        *((_DWORD *)v1 + 657) = v13;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v14 + 18100) + 200))(
          *(_DWORD *)(v14 + 18100),
          15,
          v120);
        ++v4;
      }
      v15 = *((_DWORD *)v1 + 5);
      if ( v15 != *((_DWORD *)v1 + 658) )
      {
        v16 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 5);
        *((_DWORD *)v1 + 658) = v15;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v16 + 18100) + 200))(
          *(_DWORD *)(v16 + 18100),
          19,
          v120);
        ++v4;
      }
      v17 = *((_DWORD *)v1 + 6);
      if ( v17 != *((_DWORD *)v1 + 659) )
      {
        v18 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 6);
        *((_DWORD *)v1 + 659) = v17;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v18 + 18100) + 200))(
          *(_DWORD *)(v18 + 18100),
          20,
          v120);
        ++v4;
      }
      v19 = *((_DWORD *)v1 + 7);
      if ( v19 != *((_DWORD *)v1 + 660) )
      {
        v20 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 7);
        *((_DWORD *)v1 + 660) = v19;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v20 + 18100) + 200))(
          *(_DWORD *)(v20 + 18100),
          22,
          v120);
        ++v4;
      }
      v21 = *((_DWORD *)v1 + 8);
      if ( v21 != *((_DWORD *)v1 + 661) )
      {
        v22 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 8);
        *((_DWORD *)v1 + 661) = v21;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v22 + 18100) + 200))(
          *(_DWORD *)(v22 + 18100),
          23,
          v120);
        ++v4;
      }
      v23 = *((_DWORD *)v1 + 9);
      if ( v23 != *((_DWORD *)v1 + 662) )
      {
        v24 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 9);
        *((_DWORD *)v1 + 662) = v23;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v24 + 18100) + 200))(
          *(_DWORD *)(v24 + 18100),
          24,
          v120);
        ++v4;
      }
      v25 = *((_DWORD *)v1 + 10);
      if ( v25 != *((_DWORD *)v1 + 663) )
      {
        v26 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 10);
        *((_DWORD *)v1 + 663) = v25;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v26 + 18100) + 200))(
          *(_DWORD *)(v26 + 18100),
          25,
          v120);
        ++v4;
      }
      v27 = *((_DWORD *)v1 + 11);
      if ( v27 != *((_DWORD *)v1 + 664) )
      {
        v28 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 11);
        *((_DWORD *)v1 + 664) = v27;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v28 + 18100) + 200))(
          *(_DWORD *)(v28 + 18100),
          27,
          v120);
        ++v4;
      }
      v29 = *((_DWORD *)v1 + 12);
      if ( v29 != *((_DWORD *)v1 + 665) )
      {
        v30 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 12);
        *((_DWORD *)v1 + 665) = v29;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v30 + 18100) + 200))(
          *(_DWORD *)(v30 + 18100),
          28,
          v120);
        ++v4;
      }
      if ( *((_DWORD *)v1 + 12) )
      {
        v31 = *((_DWORD *)v1 + 13);
        if ( v31 != *((_DWORD *)v1 + 666) )
        {
          v32 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 13);
          *((_DWORD *)v1 + 666) = v31;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v32 + 18100) + 200))(
            *(_DWORD *)(v32 + 18100),
            34,
            v120);
          ++v4;
        }
        v33 = *((_DWORD *)v1 + 14);
        if ( v33 != *((_DWORD *)v1 + 667) )
        {
          v34 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 14);
          *((_DWORD *)v1 + 667) = v33;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v34 + 18100) + 200))(
            *(_DWORD *)(v34 + 18100),
            36,
            v120);
          ++v4;
        }
        v35 = *((_DWORD *)v1 + 15);
        if ( v35 != *((_DWORD *)v1 + 668) )
        {
          v36 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 15);
          *((_DWORD *)v1 + 668) = v35;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v36 + 18100) + 200))(
            *(_DWORD *)(v36 + 18100),
            37,
            v120);
          ++v4;
        }
      }
      v37 = *((_DWORD *)v1 + 31);
      if ( v37 != *((_DWORD *)v1 + 684) )
      {
        v38 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 31);
        *((_DWORD *)v1 + 684) = v37;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v38 + 18100) + 200))(
          *(_DWORD *)(v38 + 18100),
          29,
          v120);
        ++v4;
      }
      v39 = *((_DWORD *)v1 + 16);
      if ( v39 != *((_DWORD *)v1 + 669) )
      {
        v40 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 16);
        *((_DWORD *)v1 + 669) = v39;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v40 + 18100) + 200))(
          *(_DWORD *)(v40 + 18100),
          47,
          v120);
        ++v4;
      }
      v41 = *(_DWORD *)v1;
      if ( *(_DWORD *)(*(_DWORD *)v1 + 84) || GIsEditor )
      {
        v42 = *((_DWORD *)v1 + 17);
        if ( v42 != *((_DWORD *)v1 + 670) )
        {
          v120 = *((_DWORD *)v1 + 17);
          *((_DWORD *)v1 + 670) = v42;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v41 + 18100) + 200))(
            *(_DWORD *)(v41 + 18100),
            52,
            v120);
          ++v4;
        }
        v43 = *((_DWORD *)v1 + 18);
        if ( v43 != *((_DWORD *)v1 + 671) )
        {
          v44 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 18);
          *((_DWORD *)v1 + 671) = v43;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v44 + 18100) + 200))(
            *(_DWORD *)(v44 + 18100),
            53,
            v120);
          ++v4;
        }
        v45 = *((_DWORD *)v1 + 19);
        if ( v45 != *((_DWORD *)v1 + 672) )
        {
          v46 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 19);
          *((_DWORD *)v1 + 672) = v45;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v46 + 18100) + 200))(
            *(_DWORD *)(v46 + 18100),
            54,
            v120);
          ++v4;
        }
        v47 = *((_DWORD *)v1 + 20);
        if ( v47 != *((_DWORD *)v1 + 673) )
        {
          v48 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 20);
          *((_DWORD *)v1 + 673) = v47;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v48 + 18100) + 200))(
            *(_DWORD *)(v48 + 18100),
            55,
            v120);
          ++v4;
        }
        v49 = *((_DWORD *)v1 + 21);
        if ( v49 != *((_DWORD *)v1 + 674) )
        {
          v50 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 21);
          *((_DWORD *)v1 + 674) = v49;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v50 + 18100) + 200))(
            *(_DWORD *)(v50 + 18100),
            56,
            v120);
          ++v4;
        }
        v51 = *((_DWORD *)v1 + 22);
        if ( v51 != *((_DWORD *)v1 + 675) )
        {
          v52 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 22);
          *((_DWORD *)v1 + 675) = v51;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v52 + 18100) + 200))(
            *(_DWORD *)(v52 + 18100),
            57,
            v120);
          ++v4;
        }
        v53 = *((_DWORD *)v1 + 23);
        if ( v53 != *((_DWORD *)v1 + 676) )
        {
          v54 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 23);
          *((_DWORD *)v1 + 676) = v53;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v54 + 18100) + 200))(
            *(_DWORD *)(v54 + 18100),
            58,
            v120);
          ++v4;
        }
        v55 = *((_DWORD *)v1 + 24);
        if ( v55 != *((_DWORD *)v1 + 677) )
        {
          v56 = *(_DWORD *)v1;
          v120 = *((_DWORD *)v1 + 24);
          *((_DWORD *)v1 + 677) = v55;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v56 + 18100) + 200))(
            *(_DWORD *)(v56 + 18100),
            59,
            v120);
          ++v4;
        }
      }
      v57 = *((_DWORD *)v1 + 25);
      if ( v57 != *((_DWORD *)v1 + 678) )
      {
        v58 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 25);
        *((_DWORD *)v1 + 678) = v57;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v58 + 18100) + 200))(
          *(_DWORD *)(v58 + 18100),
          60,
          v120);
        ++v4;
      }
      v59 = *((_DWORD *)v1 + 26);
      if ( v59 != *((_DWORD *)v1 + 679) )
      {
        v60 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 26);
        *((_DWORD *)v1 + 679) = v59;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v60 + 18100) + 200))(
          *(_DWORD *)(v60 + 18100),
          137,
          v120);
        ++v4;
      }
      v61 = *((_DWORD *)v1 + 27);
      if ( v61 != *((_DWORD *)v1 + 680) )
      {
        v62 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 27);
        *((_DWORD *)v1 + 680) = v61;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v62 + 18100) + 200))(
          *(_DWORD *)(v62 + 18100),
          139,
          v120);
        ++v4;
      }
      v63 = *((_DWORD *)v1 + 28);
      if ( v63 != *((_DWORD *)v1 + 681) )
      {
        v64 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 28);
        *((_DWORD *)v1 + 681) = v63;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v64 + 18100) + 200))(
          *(_DWORD *)(v64 + 18100),
          141,
          v120);
        ++v4;
      }
      v65 = *((_DWORD *)v1 + 29);
      if ( v65 != *((_DWORD *)v1 + 682) )
      {
        v66 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 29);
        *((_DWORD *)v1 + 682) = v65;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v66 + 18100) + 200))(
          *(_DWORD *)(v66 + 18100),
          164,
          v120);
        ++v4;
      }
      v67 = *((_DWORD *)v1 + 25);
      if ( v67 != *((_DWORD *)v1 + 678) )
      {
        v68 = *(_DWORD *)v1;
        v120 = *((_DWORD *)v1 + 25);
        *((_DWORD *)v1 + 678) = v67;
        (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v68 + 18100) + 200))(
          *(_DWORD *)(v68 + 18100),
          60,
          v120);
        ++v4;
      }
    }
    if ( *((_BYTE *)v1 + 5228) & 2 )
    {
      v69 = 0;
      if ( *(_DWORD *)(*(_DWORD *)v1 + 16872) > 0 )
      {
        v70 = (int)((char *)v1 + 132);
        do
        {
          if ( *(_DWORD *)v70 != *(_DWORD *)(v70 + 2612) )
          {
            v120 = *(_DWORD *)v70;
            *(_DWORD *)(v70 + 2612) = *(_DWORD *)v70;
            (*(void (__stdcall **)(_DWORD, int, signed int, int))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              1,
              v120);
            ++v4;
          }
          v71 = *(_DWORD *)(v70 + 4);
          if ( v71 != *(_DWORD *)(v70 + 2616) )
          {
            v120 = *(_DWORD *)(v70 + 4);
            *(_DWORD *)(v70 + 2616) = v71;
            (*(void (__stdcall **)(_DWORD, int, signed int, int))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              2,
              v120);
            ++v4;
          }
          v72 = *(_DWORD *)(v70 + 8);
          if ( v72 != *(_DWORD *)(v70 + 2620) )
          {
            v120 = *(_DWORD *)(v70 + 8);
            *(_DWORD *)(v70 + 2620) = v72;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              3,
              v120);
            ++v4;
          }
          v73 = *(_DWORD *)(v70 + 12);
          if ( v73 != *(_DWORD *)(v70 + 2624) )
          {
            v120 = *(_DWORD *)(v70 + 12);
            *(_DWORD *)(v70 + 2624) = v73;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              4,
              v120);
            ++v4;
          }
          v74 = *(_DWORD *)(v70 + 16);
          if ( v74 != *(_DWORD *)(v70 + 2628) )
          {
            v120 = *(_DWORD *)(v70 + 16);
            *(_DWORD *)(v70 + 2628) = v74;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              5,
              v120);
            ++v4;
          }
          v75 = *(_DWORD *)(v70 + 20);
          if ( v75 != *(_DWORD *)(v70 + 2632) )
          {
            v120 = *(_DWORD *)(v70 + 20);
            *(_DWORD *)(v70 + 2632) = v75;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              6,
              v120);
            ++v4;
          }
          v76 = *(_DWORD *)(v70 + 24);
          if ( v76 != *(_DWORD *)(v70 + 2636) )
          {
            v120 = *(_DWORD *)(v70 + 24);
            *(_DWORD *)(v70 + 2636) = v76;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              11,
              v120);
            ++v4;
          }
          v77 = *(_DWORD *)(v70 + 28);
          if ( v77 != *(_DWORD *)(v70 + 2640) )
          {
            v120 = *(_DWORD *)(v70 + 28);
            *(_DWORD *)(v70 + 2640) = v77;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              13,
              v120);
            ++v4;
          }
          v78 = *(_DWORD *)(v70 + 32);
          if ( v78 != *(_DWORD *)(v70 + 2644) )
          {
            v120 = *(_DWORD *)(v70 + 32);
            *(_DWORD *)(v70 + 2644) = v78;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              14,
              v120);
            ++v4;
          }
          v79 = *(_DWORD *)(v70 + 36);
          if ( v79 != *(_DWORD *)(v70 + 2648) )
          {
            v120 = *(_DWORD *)(v70 + 36);
            *(_DWORD *)(v70 + 2648) = v79;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              24,
              v120);
            ++v4;
          }
          v80 = *(_DWORD *)(v70 + 40);
          if ( v80 != *(_DWORD *)(v70 + 2652) )
          {
            v120 = *(_DWORD *)(v70 + 40);
            *(_DWORD *)(v70 + 2652) = v80;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              25,
              v120);
            ++v4;
          }
          v81 = *(_DWORD *)(v70 + 44);
          if ( v81 != *(_DWORD *)(v70 + 2656) )
          {
            v120 = *(_DWORD *)(v70 + 44);
            *(_DWORD *)(v70 + 2656) = v81;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              26,
              v120);
            ++v4;
          }
          v82 = *(_DWORD *)(v70 + 48);
          if ( v82 != *(_DWORD *)(v70 + 2660) )
          {
            v120 = *(_DWORD *)(v70 + 48);
            *(_DWORD *)(v70 + 2660) = v82;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              27,
              v120);
            ++v4;
          }
          v83 = *(_DWORD *)(v70 + 52);
          if ( v83 != *(_DWORD *)(v70 + 2664) )
          {
            v120 = *(_DWORD *)(v70 + 52);
            *(_DWORD *)(v70 + 2664) = v83;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              28,
              v120);
            ++v4;
          }
          v84 = *(_DWORD *)(v70 + 56);
          if ( v84 != *(_DWORD *)(v70 + 2668) )
          {
            v120 = *(_DWORD *)(v70 + 56);
            *(_DWORD *)(v70 + 2668) = v84;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              19,
              v120);
            ++v4;
          }
          v85 = *(_DWORD *)(v70 + 60);
          if ( v85 != *(_DWORD *)(v70 + 2672) )
          {
            v120 = *(_DWORD *)(v70 + 60);
            *(_DWORD *)(v70 + 2672) = v85;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              7,
              v120);
            ++v4;
          }
          v86 = *(_DWORD *)(v70 + 64);
          if ( v86 != *(_DWORD *)(v70 + 2676) )
          {
            v120 = *(_DWORD *)(v70 + 64);
            *(_DWORD *)(v70 + 2676) = v86;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              8,
              v120);
            ++v4;
          }
          v87 = *(_DWORD *)(v70 + 68);
          if ( v87 != *(_DWORD *)(v70 + 2680) )
          {
            v120 = *(_DWORD *)(v70 + 68);
            *(_DWORD *)(v70 + 2680) = v87;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              9,
              v120);
            ++v4;
          }
          v88 = *(_DWORD *)(v70 + 72);
          if ( v88 != *(_DWORD *)(v70 + 2684) )
          {
            v120 = *(_DWORD *)(v70 + 72);
            *(_DWORD *)(v70 + 2684) = v88;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              10,
              v120);
            ++v4;
          }
          v89 = *(_DWORD *)(v70 + 76);
          if ( v89 != *(_DWORD *)(v70 + 2688) )
          {
            v120 = *(_DWORD *)(v70 + 76);
            *(_DWORD *)(v70 + 2688) = v89;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              22,
              v120);
            ++v4;
          }
          v90 = *(_DWORD *)(v70 + 80);
          if ( v90 != *(_DWORD *)(v70 + 2692) )
          {
            v120 = *(_DWORD *)(v70 + 80);
            *(_DWORD *)(v70 + 2692) = v90;
            (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 252))(
              *(_DWORD *)(*(_DWORD *)v1 + 18100),
              v69,
              23,
              v120);
            ++v4;
          }
          ++v69;
          v70 += 84;
        }
        while ( v69 < *(_DWORD *)(*(_DWORD *)v1 + 16872) );
      }
    }
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat -= qword_100845C4;
    v91 = (void *)(*(_DWORD *)v1 + 65452);
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    FClock::CurStat = v91;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)v91 -= qword_100845C4;
    if ( *((_BYTE *)v1 + 5228) & 0x40 )
    {
      if ( *((_BYTE *)v1 + 1572) & 1 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          16,
          (char *)v1 + 804);
        v121 = 1;
      }
      if ( *((_BYTE *)v1 + 1572) & 2 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          17,
          (char *)v1 + 868);
        ++v121;
      }
      if ( *((_BYTE *)v1 + 1572) & 4 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          18,
          (char *)v1 + 932);
        ++v121;
      }
      if ( *((_BYTE *)v1 + 1572) & 8 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          19,
          (char *)v1 + 996);
        ++v121;
      }
      if ( *((_BYTE *)v1 + 1572) & 0x10 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          20,
          (char *)v1 + 1060);
        ++v121;
      }
      if ( *((_BYTE *)v1 + 1572) & 0x20 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          21,
          (char *)v1 + 1124);
        ++v121;
      }
      if ( *((_BYTE *)v1 + 1572) & 0x40 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          22,
          (char *)v1 + 1188);
        ++v121;
      }
      if ( *((_BYTE *)v1 + 1572) < 0 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          23,
          (char *)v1 + 1252);
        ++v121;
      }
      v92 = *((_DWORD *)v1 + 393);
      if ( BYTE1(v92) & 1 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          2,
          (char *)v1 + 1316);
        ++v121;
      }
      v93 = *((_DWORD *)v1 + 393);
      if ( BYTE1(v93) & 2 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          3,
          (char *)v1 + 1380);
        ++v121;
      }
    }
    if ( *((_BYTE *)v1 + 5228) & 0x20 )
    {
      v94 = *((_DWORD *)v1 + 393);
      if ( BYTE1(v94) & 4 )
      {
        (*(void (__stdcall **)(_DWORD, signed int, char *))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 148))(
          *(_DWORD *)(*(_DWORD *)v1 + 18100),
          256,
          (char *)v1 + 1444);
        ++v121;
      }
    }
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat -= qword_100845C4;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
    qword_100845C4 = __rdtsc();
    *(_DWORD *)FClock::CurStat -= qword_100845C4;
    if ( *((_BYTE *)v1 + 5228) & 0x10 )
    {
      v95 = (void *)(*(_DWORD *)v1 + 65412);
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
      FClock::CurStat = v95;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)v95 -= qword_100845C4;
      v96 = 0;
      for ( i = (int)((char *)v1 + 1720); ; i += 4 )
      {
        v98 = *(_DWORD *)(*(_DWORD *)v1 + 16872);
        if ( v98 >= 8 )
          v98 = 8;
        if ( v96 >= v98 )
          break;
        v99 = *(_DWORD *)i;
        if ( *(_DWORD *)i != *(_DWORD *)(i + 2612) )
        {
          *(_DWORD *)(i + 2612) = v99;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 244))(
            *(_DWORD *)(*(_DWORD *)v1 + 18100),
            v96,
            v99);
          ++v123;
        }
        ++v96;
      }
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat -= qword_100845C4;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat -= qword_100845C4;
    }
    if ( *((_BYTE *)v1 + 5228) < 0 )
    {
      v100 = (void *)(*(_DWORD *)v1 + 65492);
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
      FClock::CurStat = v100;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)v100 -= qword_100845C4;
      v101 = 0;
      v102 = (int)((char *)v1 + 2584);
      for ( j = (int)((char *)v1 + 1752); ; j += 104 )
      {
        v103 = *(_DWORD *)(*(_DWORD *)v1 + 16884);
        if ( v103 >= 8 )
          v103 = 8;
        if ( v101 >= v103 )
          break;
        if ( *(_DWORD *)v102 )
        {
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 176))(
            *(_DWORD *)(*(_DWORD *)v1 + 18100),
            v101,
            j);
          ++v125;
        }
        v104 = *(_DWORD *)v102;
        if ( *(_DWORD *)v102 != *(_DWORD *)(v102 + 2612) )
        {
          *(_DWORD *)(v102 + 2612) = v104;
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 184))(
            *(_DWORD *)(*(_DWORD *)v1 + 18100),
            v101,
            v104);
          ++v124;
        }
        ++v101;
        v102 += 4;
      }
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat -= qword_100845C4;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat += qword_100845C4 - 12;
      qword_100845C4 = __rdtsc();
      *(_DWORD *)FClock::CurStat -= qword_100845C4;
    }
    if ( *((_BYTE *)v1 + 5228) & 4 )
    {
      v105 = *((_DWORD *)v1 + 394);
      if ( v105 != *((_DWORD *)v1 + 1047) )
      {
        v106 = *(_DWORD *)v1;
        *((_DWORD *)v1 + 1047) = v105;
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v106 + 18100) + 304))(*(_DWORD *)(v106 + 18100), v105);
      }
    }
    if ( *((_BYTE *)v1 + 5228) & 8 )
    {
      v107 = 0;
      for ( k = (int)((char *)v1 + 4200); ; k += 8 )
      {
        v109 = *(_DWORD *)(*(_DWORD *)v1 + 16912);
        if ( v109 >= 16 )
          v109 = 16;
        if ( v107 >= v109 )
          break;
        v110 = *(_DWORD *)(k - 2616);
        if ( v110 != *(_DWORD *)(k - 4) || *(_DWORD *)(k - 2612) != *(_DWORD *)k )
        {
          v111 = *(_DWORD *)(k - 2612);
          *(_DWORD *)k = v111;
          *(_DWORD *)(k - 4) = v110;
          (*(void (__stdcall **)(_DWORD, signed int, int, int))(**(_DWORD **)(*(_DWORD *)v1 + 18100) + 332))(
            *(_DWORD *)(*(_DWORD *)v1 + 18100),
            v107,
            v110,
            v111);
          ++v126;
        }
        ++v107;
      }
    }
    if ( *((_BYTE *)v1 + 5228) & 4 )
    {
      v112 = *((_DWORD *)v1 + 395);
      if ( v112 != *((_DWORD *)v1 + 1048) )
      {
        v113 = *(_DWORD *)v1;
        *((_DWORD *)v1 + 1048) = v112;
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v113 + 18100) + 352))(*(_DWORD *)(v113 + 18100), v112);
      }
    }
    if ( *((_BYTE *)v1 + 5228) & 8 )
    {
      v114 = *((_DWORD *)v1 + 428);
      if ( v114 != *((_DWORD *)v1 + 1081) || *((_DWORD *)v1 + 429) != *((_DWORD *)v1 + 1082) )
      {
        v116 = *(_DWORD *)v1;
        v115 = *((_DWORD *)v1 + 429);
        *((_DWORD *)v1 + 1081) = v114;
        *((_DWORD *)v1 + 1082) = v115;
        (*(void (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(v116 + 18100) + 340))(
          *(_DWORD *)(v116 + 18100),
          v114,
          v120);
      }
    }
    v117 = *(_DWORD *)v1 + 65412;
    *((_DWORD *)v1 + 393) = 0;
    *(_DWORD *)(v117 + 4) += v123;
    *(_DWORD *)(*(_DWORD *)v1 + 65536) += v124;
    *(_DWORD *)(*(_DWORD *)v1 + 65496) += v125;
    *(_DWORD *)(*(_DWORD *)v1 + 65376) += v4;
    *(_DWORD *)(*(_DWORD *)v1 + 65456) += v121;
    *(_DWORD *)(*(_DWORD *)v1 + 65936) += v126;
    *((_DWORD *)v1 + 1307) = 0;
    v118 = __rdtsc();
    qword_100845C4 = v118;
    *(_DWORD *)FClock::CurStat += v118 - 12;
    v2 = __rdtsc();
    qword_100845C4 = v2;
    *(_DWORD *)FClock::CurStat -= v2;
  }
  return v2;
}
// 1006F0C8: using guessed type int GIsEditor;
// 1006F1D0: using guessed type void *FClock__CurStat;
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (10029FE0) --------------------------------------------------------
signed int __thiscall sub_10029FE0(void *this, int a2)
{
  void *v2; // ebx@1
  signed int v3; // edi@1
  int i; // esi@1
  signed int result; // eax@2

  v2 = this;
  v3 = 0;
  for ( i = (int)((char *)this + 4196); ; i += 8 )
  {
    result = *(_DWORD *)(*(_DWORD *)v2 + 16912);
    if ( result >= 16 )
      result = 16;
    if ( v3 >= result )
      break;
    if ( *(_DWORD *)i == a2 )
    {
      *(_DWORD *)i = 0;
      *(_DWORD *)(i + 4) = 0;
      (*(void (__stdcall **)(_DWORD, signed int, _DWORD, _DWORD))(**(_DWORD **)(*(_DWORD *)v2 + 18100) + 332))(
        *(_DWORD *)(*(_DWORD *)v2 + 18100),
        v3,
        0,
        0);
    }
    if ( *(_DWORD *)(i - 2612) == a2 )
    {
      *(_DWORD *)(i - 2612) = 0;
      *(_DWORD *)(i - 2608) = 0;
    }
    ++v3;
  }
  return result;
}

//----- (1002A050) --------------------------------------------------------
int __thiscall sub_1002A050(void *this)
{
  void *v1; // ebx@1
  signed int v2; // edi@1
  int i; // esi@1
  int result; // eax@2
  signed int v5; // ecx@2

  v1 = this;
  v2 = 0;
  for ( i = (int)((char *)this + 4200); ; i += 8 )
  {
    result = *(_DWORD *)v1;
    v5 = *(_DWORD *)(*(_DWORD *)v1 + 16912);
    if ( v5 >= 16 )
      v5 = 16;
    if ( v2 >= v5 )
      break;
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD, _DWORD))(**(_DWORD **)(result + 18100) + 332))(
      *(_DWORD *)(result + 18100),
      v2,
      0,
      0);
    *(_DWORD *)(i - 4) = 0;
    *(_DWORD *)i = 0;
    ++v2;
  }
  return result;
}

//----- (1002A110) --------------------------------------------------------
int __stdcall sub_1002A110(unsigned int a1, int a2)
{
  return a1 & 0xFFF ^ (((a1 >> 16) & 0xF) + ((a1 >> 4) & 0xFF0));
}

//----- (1002A140) --------------------------------------------------------
int __thiscall sub_1002A140(int this, int a2, int a3)
{
  int result; // eax@1
  int v4; // ecx@1
  int v5; // edx@1
  int v6; // ecx@1

  result = this;
  *(_DWORD *)(this + 4) = a2;
  *(_DWORD *)this = &off_10072BFC;
  *(_DWORD *)(this + 8) = *(_DWORD *)(a3 + 4);
  *(_DWORD *)(this + 12) = *(_DWORD *)(a3 + 8);
  *(_DWORD *)(this + 16) = 0;
  *(_BYTE *)(this + 28) = 0;
  *(_BYTE *)(this + 29) = 0;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 0;
  *(_DWORD *)(this + 40) = *(_DWORD *)(a2 + 176);
  *(_DWORD *)(a2 + 176) = this;
  v4 = *(_DWORD *)(this + 8) & 0xFFF ^ (((*(_DWORD *)(this + 8) >> 16) & 0xF) + ((*(_DWORD *)(this + 8) >> 4) & 0xFF0));
  v5 = *(_DWORD *)(result + 4);
  *(_DWORD *)(result + 24) = v4;
  v6 = v5 + 4 * v4 + 180;
  *(_DWORD *)(result + 44) = *(_DWORD *)v6;
  *(_DWORD *)v6 = result;
  *(_DWORD *)(result + 20) = 0;
  return result;
}
// 10072BFC: using guessed type int (__stdcall *off_10072BFC)(char);

//----- (1002A1D0) --------------------------------------------------------
int __thiscall sub_1002A1D0(int this)
{
  int v1; // edx@1
  int v2; // eax@1
  int v3; // edx@3
  int v4; // edx@8
  int result; // eax@8
  int v6; // edx@10

  v1 = *(_DWORD *)(this + 4);
  *(_DWORD *)this = &off_10072BFC;
  v2 = *(_DWORD *)(v1 + 176);
  if ( v2 == this )
  {
    *(_DWORD *)(v1 + 176) = *(_DWORD *)(this + 40);
  }
  else
  {
    if ( v2 )
    {
      while ( 1 )
      {
        v3 = *(_DWORD *)(v2 + 40);
        if ( v3 == this )
          break;
        v2 = *(_DWORD *)(v2 + 40);
        if ( !v3 )
          goto LABEL_8;
      }
      *(_DWORD *)(v2 + 40) = *(_DWORD *)(this + 40);
    }
  }
LABEL_8:
  v4 = *(_DWORD *)(this + 4) + 4 * *(_DWORD *)(this + 24) + 180;
  *(_DWORD *)(this + 40) = 0;
  result = *(_DWORD *)v4;
  if ( *(_DWORD *)v4 == this )
  {
    result = *(_DWORD *)(this + 44);
    *(_DWORD *)v4 = result;
    goto LABEL_15;
  }
  if ( !result )
  {
LABEL_15:
    *(_DWORD *)(this + 44) = 0;
    return result;
  }
  while ( 1 )
  {
    v6 = *(_DWORD *)(result + 44);
    if ( v6 == this )
      break;
    result = *(_DWORD *)(result + 44);
    if ( !v6 )
    {
      *(_DWORD *)(this + 44) = 0;
      return result;
    }
  }
  *(_DWORD *)(result + 44) = *(_DWORD *)(this + 44);
  *(_DWORD *)(this + 44) = 0;
  return result;
}
// 10072BFC: using guessed type int (__stdcall *off_10072BFC)(char);

//----- (1002A280) --------------------------------------------------------
int __thiscall sub_1002A280(void *this)
{
  void *v1; // esi@1
  int result; // eax@2
  int v3; // ebx@3
  int v4; // ebp@3
  int i; // edi@3
  char v6; // [sp+4h] [bp-20h]@4
  int v7; // [sp+14h] [bp-10h]@4

  v1 = this;
  if ( this )
  {
    v3 = 0;
    v4 = (*(int (__stdcall **)(void *))(*(_DWORD *)this + 52))(this);
    for ( i = 0; i < v4; ++i )
    {
      (*(void (__stdcall **)(void *, int, char *))(*(_DWORD *)v1 + 56))(v1, i, &v6);
      v3 += v7;
    }
    result = v3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1002A2D0) --------------------------------------------------------
int __thiscall sub_1002A2D0(void *this)
{
  void *v1; // esi@1
  int result; // eax@2
  int v3; // ebx@3
  int v4; // ebp@3
  int i; // edi@3
  char v6; // [sp+4h] [bp-20h]@4
  int v7; // [sp+14h] [bp-10h]@4

  v1 = this;
  if ( this )
  {
    v3 = 0;
    v4 = (*(int (__stdcall **)(void *))(*(_DWORD *)this + 52))(this);
    for ( i = 0; i < v4; ++i )
    {
      (*(void (__stdcall **)(void *, int, char *))(*(_DWORD *)v1 + 56))(v1, i, &v6);
      v3 += v7;
    }
    result = 6 * v3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1002A320) --------------------------------------------------------
int __thiscall sub_1002A320(int this, int a2, int a3)
{
  int v3; // esi@1

  v3 = this;
  sub_1002A140(this, a2, a3);
  *(_DWORD *)(v3 + 48) = 0;
  *(_DWORD *)(v3 + 52) = 0;
  *(_DWORD *)(v3 + 60) = 0;
  *(_DWORD *)(v3 + 56) = 0;
  *(_DWORD *)v3 = &off_10072C10;
  return v3;
}
// 10072C10: using guessed type int (__stdcall *off_10072C10)(char);

//----- (1002A380) --------------------------------------------------------
int __thiscall sub_1002A380(int this, int a2)
{
  int v2; // edi@1
  int v3; // esi@1
  int v4; // eax@1
  int v5; // eax@1
  int v6; // edx@1
  int v7; // ebx@1
  int v8; // eax@8
  signed int v9; // edi@12
  signed int v10; // esi@12
  signed int v11; // ebx@12
  int v12; // eax@17
  int v13; // eax@23
  int v14; // eax@23
  int v15; // eax@25
  signed int v16; // eax@25
  int v17; // eax@26
  int v18; // eax@26
  signed int v19; // eax@27
  int v20; // eax@28
  int v21; // eax@28
  int result; // eax@29
  int v23; // [sp+0h] [bp-40h]@1
  int v24; // [sp+14h] [bp-2Ch]@25
  char v25; // [sp+18h] [bp-28h]@26
  int v26; // [sp+1Ch] [bp-24h]@1
  int v27; // [sp+20h] [bp-20h]@1
  int v28; // [sp+24h] [bp-1Ch]@1
  char v29; // [sp+28h] [bp-18h]@23
  int v30; // [sp+2Ch] [bp-14h]@1
  int *v31; // [sp+30h] [bp-10h]@1
  int v32; // [sp+3Ch] [bp-4h]@1

  v2 = a2;
  v3 = this;
  *(_DWORD *)(this + 60) = a2;
  v4 = *(_DWORD *)a2;
  v31 = &v23;
  v28 = this;
  v32 = 0;
  v5 = (*(int (__thiscall **)(int))(v4 + 20))(a2);
  v6 = *(_DWORD *)a2;
  v7 = v5;
  v27 = v5;
  v30 = 8;
  v26 = 0;
  if ( (*(int (__thiscall **)(int))(v6 + 24))(a2) )
  {
    v30 = 520;
    v26 = 8192;
  }
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 28))(a2) && *(_DWORD *)(*(_DWORD *)(v3 + 4) + 16664) )
    v30 |= 0x100u;
  if ( !*(_DWORD *)(*(_DWORD *)(v3 + 4) + 16604) )
    v30 |= 0x10u;
  v8 = *(_DWORD *)(v3 + 48);
  if ( v8 )
  {
    if ( *(_DWORD *)(v3 + 56) == v7 )
      goto LABEL_25;
    if ( v8 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v8 + 8))(*(_DWORD *)(v3 + 48));
  }
  v9 = 0;
  v10 = 0;
  v11 = 0;
  while ( v11 < 3 )
  {
    if ( v11 == 2 )
      v9 = 2;
    v10 = (*(int (__stdcall **)(_DWORD, int, int, _DWORD, signed int, int))(**(_DWORD **)(*(_DWORD *)(v28 + 4) + 18100)
                                                                          + 92))(
            *(_DWORD *)(*(_DWORD *)(v28 + 4) + 18100),
            v27,
            v30,
            0,
            v9,
            v28 + 48);
    if ( v10 >= 0 )
      goto LABEL_24;
    v12 = *(_DWORD *)(v28 + 4);
    if ( *(_DWORD *)(v12 + 16672) )
    {
      v11 += 2;
    }
    else
    {
      if ( (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v12 + 18100) + 20))(*(_DWORD *)(v12 + 18100), 0) < 0 )
        FOutputDevice::Logf(GError, "ResourceManagerDiscardBytes failed.");
      ++v11;
    }
  }
  if ( v10 < 0 )
  {
    v13 = sub_10001020((int)&v29, v10);
    LOBYTE(v32) = 1;
    v14 = FString::operator_(v13);
    FOutputDevice::Logf(GError, "CreateVertexBuffer failed(%s).", v14);
    LOBYTE(v32) = 0;
    FString::_FString(&v29);
  }
LABEL_24:
  v2 = a2;
  v3 = v28;
  v7 = v27;
LABEL_25:
  v15 = *(_DWORD *)(v3 + 48);
  v24 = 0;
  v16 = (*(int (__stdcall **)(int, _DWORD, int, int *, int))(*(_DWORD *)v15 + 44))(v15, 0, v7, &v24, v26);
  if ( v16 < 0 )
  {
    v17 = sub_10001020((int)&v25, v16);
    LOBYTE(v32) = 2;
    v18 = FString::operator_(v17);
    FOutputDevice::Logf(GError, "IDirect3DVertexBuffer8::Lock failed(%s).", v18);
    LOBYTE(v32) = 0;
    FString::_FString(&v25);
  }
  (*(void (__thiscall **)(int, int))(*(_DWORD *)v2 + 36))(v2, v24);
  v19 = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(v3 + 48) + 48))(*(_DWORD *)(v3 + 48));
  if ( v19 < 0 )
  {
    v20 = sub_10001020((int)&v25, v19);
    LOBYTE(v32) = 3;
    v21 = FString::operator_(v20);
    FOutputDevice::Logf(GError, "IDirect3DVertexBuffer8::Unlock failed(%s).", v21);
    LOBYTE(v32) = 0;
    FString::_FString(&v25);
  }
  result = (*(int (__thiscall **)(int))(*(_DWORD *)v2 + 4))(v2);
  *(_DWORD *)(v3 + 56) = v7;
  *(_DWORD *)(v3 + 16) = result;
  return result;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002A5BD) --------------------------------------------------------
void __usercall sub_1002A5BD(int a1<ebp>)
{
  *(_DWORD *)(a1 - 48) = *(_DWORD *)(a1 - 52);
  CxxThrowException(a1 - 48, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002A5D1) --------------------------------------------------------
void __cdecl sub_1002A5D1()
{
  appUnwindf("%s", off_100801F8[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801F8: using guessed type char *off_100801F8[25];

//----- (1002A5F0) --------------------------------------------------------
int __thiscall sub_1002A5F0(void *this, int a2)
{
  void *v2; // esi@1
  signed int v3; // edi@1
  int v4; // edx@5
  bool v5; // zf@5
  signed int v6; // ebx@7
  int result; // eax@7
  int v8; // eax@13
  int v9; // eax@19
  int v10; // eax@19
  int v11; // [sp+0h] [bp-2Ch]@1
  char v12; // [sp+14h] [bp-18h]@19
  int v13; // [sp+18h] [bp-14h]@5
  int *v14; // [sp+1Ch] [bp-10h]@1
  int v15; // [sp+28h] [bp-4h]@1
  int v16; // [sp+34h] [bp+8h]@7

  v14 = &v11;
  v2 = this;
  v3 = 0;
  v15 = 0;
  FOutputDevice::Logf(GLog, "Allocating %u byte dynamic vertex buffer.", a2);
  if ( *((_DWORD *)v2 + 12) )
  {
    sub_10029FE0((void *)(*((_DWORD *)v2 + 1) + 59376), *((_DWORD *)v2 + 12));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v2 + 12) + 8))(*((_DWORD *)v2 + 12));
    *((_DWORD *)v2 + 12) = 0;
  }
  if ( *((_DWORD *)v2 + 13) )
  {
    sub_10029FE0((void *)(*((_DWORD *)v2 + 1) + 59376), *((_DWORD *)v2 + 13));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v2 + 13) + 8))(*((_DWORD *)v2 + 13));
    *((_DWORD *)v2 + 13) = 0;
  }
  v4 = *((_DWORD *)v2 + 1);
  *((_DWORD *)v2 + 14) = a2;
  *((_DWORD *)v2 + 16) = 0;
  v5 = *(_DWORD *)(v4 + 16604) == 0;
  v13 = 520;
  if ( v5 )
    v13 = 536;
  v6 = 0;
  result = 0;
  v16 = 0;
  while ( result < 3 )
  {
    if ( result == 2 )
      v6 = 2;
    v3 = (*(int (__stdcall **)(_DWORD, _DWORD, int, _DWORD, signed int, char *))(**(_DWORD **)(*((_DWORD *)v2 + 1)
                                                                                             + 18100)
                                                                               + 92))(
           *(_DWORD *)(*((_DWORD *)v2 + 1) + 18100),
           *((_DWORD *)v2 + 14),
           v13,
           0,
           v6,
           (char *)v2 + 48);
    if ( v3 < 0 )
      goto LABEL_19;
    result = (*(int (__stdcall **)(_DWORD, _DWORD, int, _DWORD, signed int, char *))(**(_DWORD **)(*((_DWORD *)v2 + 1)
                                                                                                 + 18100)
                                                                                   + 92))(
               *(_DWORD *)(*((_DWORD *)v2 + 1) + 18100),
               *((_DWORD *)v2 + 14),
               v13,
               0,
               v6,
               (char *)v2 + 52);
    v3 = result;
    if ( result >= 0 )
      return result;
    v8 = *((_DWORD *)v2 + 1);
    if ( *(_DWORD *)(v8 + 16672) )
    {
      result = v16 + 2;
      v16 += 2;
    }
    else
    {
      if ( (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v8 + 18100) + 20))(*(_DWORD *)(v8 + 18100), 0) < 0 )
        FOutputDevice::Logf(GError, "ResourceManagerDiscardBytes failed.");
      result = v16++ + 1;
    }
  }
  if ( v3 >= 0 )
    return result;
LABEL_19:
  v9 = sub_10001020((int)&v12, v3);
  LOBYTE(v15) = 1;
  v10 = FString::operator_(v9);
  FOutputDevice::Logf(GError, "CreateVertexBuffer failed(%s).", v10);
  LOBYTE(v15) = 0;
  return FString::_FString(&v12);
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002A79C) --------------------------------------------------------
void __usercall sub_1002A79C(int a1<ebp>)
{
  *(_DWORD *)(a1 - 28) = *(_DWORD *)(a1 - 32);
  CxxThrowException(a1 - 28, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002A7B0) --------------------------------------------------------
void __cdecl sub_1002A7B0()
{
  appUnwindf("%s", off_100801FC[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 100801FC: using guessed type char *off_100801FC[24];

//----- (1002A7D0) --------------------------------------------------------
int __thiscall sub_1002A7D0(int this, int a2, int a3)
{
  int v3; // esi@1

  v3 = this;
  sub_1002A140(this, a2, a3);
  *(_DWORD *)(v3 + 48) = 0;
  *(_DWORD *)(v3 + 52) = 0;
  *(_DWORD *)v3 = &off_10072D28;
  return v3;
}
// 10072D28: using guessed type int (__stdcall *off_10072D28)(char);

//----- (1002A800) --------------------------------------------------------
int __thiscall sub_1002A800(int this)
{
  int v1; // esi@1
  int v2; // eax@1

  v1 = this;
  *(_DWORD *)this = &off_10072D28;
  v2 = *(_DWORD *)(this + 48);
  if ( v2 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(v2);
  return sub_1002A1D0(v1);
}
// 10072D28: using guessed type int (__stdcall *off_10072D28)(char);

//----- (1002A880) --------------------------------------------------------
int __thiscall sub_1002A880(void *this, int a2)
{
  void *v2; // esi@1
  signed int v3; // ebx@1
  int v4; // eax@1
  int v5; // edx@3
  int v6; // ecx@3
  signed int v7; // edi@5
  int result; // eax@5
  int v9; // eax@10
  int v10; // eax@16
  int v11; // eax@16
  int v12; // [sp+0h] [bp-30h]@1
  char v13; // [sp+14h] [bp-1Ch]@16
  int v14; // [sp+18h] [bp-18h]@3
  int v15; // [sp+1Ch] [bp-14h]@3
  int *v16; // [sp+20h] [bp-10h]@1
  int v17; // [sp+2Ch] [bp-4h]@1
  int v18; // [sp+38h] [bp+8h]@5

  v16 = &v12;
  v2 = this;
  v3 = 0;
  v17 = 0;
  FOutputDevice::Logf(GLog, "Allocating %u byte dynamic index buffer.", a2);
  v4 = *((_DWORD *)v2 + 12);
  if ( v4 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*((_DWORD *)v2 + 12));
    *((_DWORD *)v2 + 12) = 0;
  }
  v5 = *((_DWORD *)v2 + 15);
  v6 = *((_DWORD *)v2 + 1);
  *((_DWORD *)v2 + 13) = a2;
  *((_DWORD *)v2 + 14) = 0;
  v15 = 520;
  v14 = (v5 == 4) + 101;
  if ( !*(_DWORD *)(v6 + 16604) )
    v15 = 536;
  v7 = 0;
  result = 0;
  v18 = 0;
  while ( result < 3 )
  {
    if ( result == 2 )
      v3 = 2;
    result = (*(int (__stdcall **)(_DWORD, _DWORD, int, int, signed int, char *))(**(_DWORD **)(*((_DWORD *)v2 + 1)
                                                                                              + 18100)
                                                                                + 96))(
               *(_DWORD *)(*((_DWORD *)v2 + 1) + 18100),
               *((_DWORD *)v2 + 13),
               v15,
               v14,
               v3,
               (char *)v2 + 48);
    v7 = result;
    if ( result >= 0 )
      return result;
    v9 = *((_DWORD *)v2 + 1);
    if ( *(_DWORD *)(v9 + 16672) )
    {
      result = v18 + 2;
      v18 += 2;
    }
    else
    {
      if ( (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v9 + 18100) + 20))(*(_DWORD *)(v9 + 18100), 0) < 0 )
        FOutputDevice::Logf(GError, "ResourceManagerDiscardBytes failed.");
      result = v18++ + 1;
    }
  }
  if ( v7 < 0 )
  {
    v10 = sub_10001020((int)&v13, v7);
    LOBYTE(v17) = 1;
    v11 = FString::operator_(v10);
    FOutputDevice::Logf(GError, "CreateIndexBuffer failed(%s).", v11);
    LOBYTE(v17) = 0;
    result = FString::_FString(&v13);
  }
  return result;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002A9E6) --------------------------------------------------------
void __usercall sub_1002A9E6(int a1<ebp>)
{
  *(_DWORD *)(a1 - 32) = *(_DWORD *)(a1 - 36);
  CxxThrowException(a1 - 32, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002A9FA) --------------------------------------------------------
void __cdecl sub_1002A9FA()
{
  appUnwindf("%s", off_10080200[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080200: using guessed type char *off_10080200[23];

//----- (1002AA40) --------------------------------------------------------
void *__thiscall sub_1002AA40(void *this, int a2, struct HKEY__ hKey, int a4)
{
  int v4; // edx@1
  void *v5; // esi@1
  int v6; // ecx@1
  int v7; // edi@1
  int i; // eax@1
  signed int v9; // edx@4
  int v10; // ebx@6
  int v11; // ecx@6
  const char *v12; // eax@6
  int v13; // eax@7
  int v14; // ecx@12
  int v15; // eax@12
  signed int v16; // eax@12
  int v17; // eax@13
  int v18; // eax@13
  int v19; // edx@14
  int v20; // eax@14
  const char *v22; // [sp-Ch] [bp-40h]@6
  int v23; // [sp-8h] [bp-3Ch]@6
  const char *v24; // [sp-4h] [bp-38h]@6
  int v25; // [sp+0h] [bp-34h]@1
  char v26; // [sp+Ch] [bp-28h]@6
  int *v27; // [sp+24h] [bp-10h]@1
  int v28; // [sp+30h] [bp-4h]@1

  v4 = a4;
  v5 = this;
  v6 = hKey.unused;
  v7 = 0;
  v28 = 0;
  *((_DWORD *)v5 + 3) = a2;
  v27 = &v25;
  *((_DWORD *)v5 + 2) = v6;
  *(_DWORD *)v5 = v4;
  hKey.unused = 0;
  a2 = 0;
  LOBYTE(v28) = 1;
  for ( i = 0; *(_BYTE *)(i + *(_DWORD *)v5); ++i )
    ;
  v9 = sub_10034D27(0, *(char **)v5, i, 0, 0, &hKey, (int)&a2);
  if ( v9 < 0 )
  {
    if ( a2 )
    {
      v10 = sub_10001020((int)&v26, v9);
      v11 = *(_DWORD *)a2;
      LOBYTE(v28) = 2;
      v12 = (const char *)(*(int (__stdcall **)(int))(v11 + 12))(a2);
      v24 = appFromAnsi(v12, 0);
      v23 = FString::operator_(v10);
      v22 = "DXAssembleShader failed(%s): %s";
    }
    else
    {
      v13 = sub_10001020((int)&v26, v9);
      LOBYTE(v28) = 3;
      while ( *(_BYTE *)(v7 + *(_DWORD *)v5) )
        ++v7;
      v24 = (const char *)v7;
      v23 = FString::operator_(v13);
      v22 = "DXAssembleShader failed(%s).  Len was %d";
    }
    FOutputDevice::Logf(GError, v22, v23, v24);
    LOBYTE(v28) = 1;
    FString::_FString(&v26);
    v7 = 0;
  }
  v14 = *(_DWORD *)hKey.unused;
  v28 = v7;
  LOBYTE(v28) = 5;
  v15 = (*(int (__stdcall **)(int))(v14 + 12))(hKey.unused);
  v16 = (*(int (__stdcall **)(_DWORD, int, char *))(**(_DWORD **)(*((_DWORD *)v5 + 3) + 18100) + 348))(
          *(_DWORD *)(*((_DWORD *)v5 + 3) + 18100),
          v15,
          (char *)v5 + 4);
  if ( v16 < v7 )
  {
    v17 = sub_10001020((int)&v26, v16);
    LOBYTE(v28) = 6;
    v18 = FString::operator_(v17);
    FOutputDevice::Logf(GError, "CreatePixelShader failed(%s).", v18);
    LOBYTE(v28) = 5;
    FString::_FString(&v26);
  }
  v19 = *(_DWORD *)hKey.unused;
  v28 = v7;
  (*(void (__stdcall **)(int))(v19 + 8))(hKey.unused);
  v20 = *((_DWORD *)v5 + 3);
  *((_DWORD *)v5 + 4) = *(_DWORD *)(v20 + 16568);
  *(_DWORD *)(v20 + 16568) = v5;
  return v5;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F228: using guessed type const char *__fastcall appFromAnsi(const char *, char *);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002ABC3) --------------------------------------------------------
void __usercall sub_1002ABC3(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 + 16);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002AC30) --------------------------------------------------------
int __thiscall sub_1002AC30(int this)
{
  int v1; // esi@1
  int v2; // ecx@1
  int v3; // eax@1
  int result; // eax@7
  int v5; // [sp+0h] [bp-24h]@1
  int *v6; // [sp+14h] [bp-10h]@1
  int v7; // [sp+20h] [bp-4h]@1

  v1 = this;
  v2 = *(_DWORD *)(this + 12);
  v3 = *(_DWORD *)(v2 + 16568);
  v6 = &v5;
  v7 = 0;
  if ( v3 == v1 )
  {
    *(_DWORD *)(v2 + 16568) = *(_DWORD *)(v1 + 16);
  }
  else
  {
    while ( v3 )
    {
      if ( *(_DWORD *)(v3 + 16) == v1 )
      {
        *(_DWORD *)(v3 + 16) = *(_DWORD *)(v1 + 16);
        break;
      }
      v3 = *(_DWORD *)(v3 + 16);
    }
  }
  result = *(_DWORD *)(v1 + 4);
  *(_DWORD *)(v1 + 16) = 0;
  if ( result )
    result = sub_10028390(*(_DWORD *)(v1 + 12) + 59376, result);
  *(_DWORD *)(v1 + 4) = 0;
  return result;
}

//----- (1002ACB2) --------------------------------------------------------
void __usercall sub_1002ACB2(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 24);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002ACC6) --------------------------------------------------------
void __cdecl sub_1002ACC6()
{
  appUnwindf("%s", off_10080210[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080210: using guessed type char *off_10080210[19];

//----- (1002ACF0) --------------------------------------------------------
int __thiscall sub_1002ACF0(int this, int a2, int a3)
{
  int v3; // esi@1

  v3 = this;
  sub_1002A140(this, a2, a3);
  *(_DWORD *)(v3 + 52) = 0;
  *(_DWORD *)(v3 + 48) = 0;
  *(_DWORD *)v3 = &off_10072E80;
  return v3;
}
// 10072E80: using guessed type int (__stdcall *off_10072E80)(char);

//----- (1002AD20) --------------------------------------------------------
int __thiscall sub_1002AD20(int this, int a2)
{
  int v2; // edi@1
  int v3; // eax@1
  int v4; // esi@3
  int v5; // eax@4
  int result; // eax@5

  v2 = this;
  v3 = *(_DWORD *)(this + 52);
  if ( v3 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v3 + 8))(v3);
  v4 = *(_DWORD *)(v2 + 48);
  *(_DWORD *)(v2 + 52) = 0;
  while ( v4 )
  {
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(*(_DWORD *)(v2 + 4) + 18100) + 312))(
      *(_DWORD *)(*(_DWORD *)(v2 + 4) + 18100),
      *(_DWORD *)(v4 + 324));
    v5 = v4;
    v4 = *(_DWORD *)(v4 + 328);
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v5);
  }
  *(_DWORD *)(v2 + 48) = 0;
  result = (*(int (**)(void))(*(_DWORD *)a2 + 4))();
  *(_DWORD *)(v2 + 16) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002AE70) --------------------------------------------------------
int __thiscall sub_1002AE70(int this)
{
  int v1; // esi@1
  int v2; // ecx@1

  v1 = this;
  *(_DWORD *)this = &off_10072E98;
  v2 = *(_DWORD *)(this + 48);
  if ( v2 )
    (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(*(_DWORD *)(v1 + 4) + 18100) + 360))(
      *(_DWORD *)(*(_DWORD *)(v1 + 4) + 18100),
      v2);
  return sub_1002A1D0(v1);
}
// 10072E98: using guessed type int (__stdcall *off_10072E98)(char);

//----- (1002AEF0) --------------------------------------------------------
int __thiscall sub_1002AEF0(int this)
{
  return *(_DWORD *)(this + 48);
}

//----- (1002AF00) --------------------------------------------------------
int __thiscall sub_1002AF00(int this, int a2)
{
  int v2; // edx@1
  int v3; // eax@3
  int result; // eax@5
  int v5; // [sp+10h] [bp-Ch]@5
  int v6; // [sp+14h] [bp-8h]@5
  int v7; // [sp+18h] [bp-4h]@5

  v2 = *(_DWORD *)(this + 36);
  if ( !v2 )
    v2 = *(_DWORD *)(this + 52);
  v3 = *(_DWORD *)(this + 52);
  if ( !v3 )
    v3 = v2;
  v6 = v3;
  v5 = 1;
  v7 = v2;
  FMalloc::AddStat(GMalloc, &v5, this, 56, 1);
  result = a2;
  *(_DWORD *)a2 = v5;
  *(_DWORD *)(a2 + 4) = v6;
  *(_DWORD *)(a2 + 8) = v7;
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F264: using guessed type int __thiscall FMalloc__AddStat(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1002AF60) --------------------------------------------------------
void *__thiscall sub_1002AF60(void *this, char a2, int a3, int a4, int *a5)
{
  void *v5; // esi@1
  int v7; // [sp+0h] [bp-20h]@1
  int v8; // [sp+4h] [bp-1Ch]@1
  int *v9; // [sp+Ch] [bp-14h]@1
  int v10; // [sp+1Ch] [bp-4h]@1

  v5 = this;
  v9 = a5;
  a5 = &v7;
  v10 = 0;
  FString::FString(&v7, &a2, v7, v8, a4);
  FRoQMovie::FRoQMovie(v5);
  *(_DWORD *)v5 = &off_10072EB0;
  v10 = -1;
  FString::_FString(&a2);
  return v5;
}
// 1006F1E0: using guessed type int __thiscall FString__FString(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F2C8: using guessed type int __thiscall FRoQMovie__FRoQMovie(_DWORD);
// 10072EB0: using guessed type int (__stdcall *off_10072EB0)(char);

//----- (1002AFE0) --------------------------------------------------------
int __thiscall sub_1002AFE0(void *this)
{
  *(_DWORD *)this = &off_10072EB0;
  return FRoQMovie::_FRoQMovie();
}
// 1006F2C4: using guessed type int FRoQMovie___FRoQMovie(void);
// 10072EB0: using guessed type int (__stdcall *off_10072EB0)(char);

//----- (1002B080) --------------------------------------------------------
int __thiscall sub_1002B080(void *this, int a2, int a3, int a4)
{
  void *v4; // ebp@1
  int result; // eax@1
  int v6; // eax@4
  int v7; // ebx@4
  signed int v8; // eax@4
  int v9; // eax@5
  int v10; // eax@5
  int v11; // eax@6
  int v12; // esi@6
  int v13; // ecx@6
  int v14; // eax@8
  int v15; // edi@8
  int v16; // ecx@8
  int v17; // ebp@10
  int v18; // ecx@10
  int v19; // ebx@10
  int v20; // edx@11
  int v21; // esi@11
  int v22; // ecx@11
  int v23; // eax@11
  int v24; // edx@11
  signed int v25; // edx@12
  int v26; // edx@16
  signed int v27; // edx@17
  int v28; // edx@21
  signed int v29; // edx@22
  int v30; // edi@26
  int v31; // edx@26
  signed int v32; // edx@27
  int v33; // esi@31
  int v34; // eax@31
  signed int v35; // eax@32
  int v36; // eax@36
  int v37; // edx@42
  int v38; // esi@42
  int v39; // ecx@42
  int v40; // eax@42
  int v41; // edx@42
  signed int v42; // edx@43
  int v43; // edi@47
  signed int v44; // edi@48
  int v45; // ebp@52
  signed int v46; // ebp@53
  int v47; // edx@57
  signed int v48; // edx@58
  int v49; // eax@62
  signed int v50; // eax@63
  int v51; // ecx@67
  signed int v52; // ecx@68
  __int64 v53; // qax@73
  bool v54; // sf@73
  unsigned __int8 v55; // of@73
  __int64 v56; // qax@76
  int v57; // [sp+24h] [bp-60h]@8
  int v58; // [sp+28h] [bp-5Ch]@4
  int v59; // [sp+2Ch] [bp-58h]@4
  int v60; // [sp+30h] [bp-54h]@7
  int v61; // [sp+34h] [bp-50h]@4
  void *v62; // [sp+38h] [bp-4Ch]@1
  int v63; // [sp+3Ch] [bp-48h]@10
  int i; // [sp+40h] [bp-44h]@6
  int v65; // [sp+48h] [bp-3Ch]@5
  int v66; // [sp+50h] [bp-34h]@4
  int v67; // [sp+54h] [bp-30h]@6
  int v68; // [sp+58h] [bp-2Ch]@4
  int v69; // [sp+80h] [bp-4h]@5
  int v70; // [sp+8Ch] [bp+8h]@6
  int v71; // [sp+90h] [bp+Ch]@8

  v4 = this;
  v62 = this;
  FRoQMovie::PreRender(a2, a3, a4);
  result = *((_DWORD *)v4 + 3);
  if ( result )
  {
    result = *((_DWORD *)v4 + 1);
    if ( result )
    {
      if ( a2 )
      {
        (*(void (__stdcall **)(int, int *))(*(_DWORD *)a2 + 32))(a2, &v68);
        v6 = *((_DWORD *)v4 + 3);
        v7 = *(_DWORD *)(v6 + 6204);
        v58 = *(_DWORD *)(v6 + 6212);
        v59 = *(_DWORD *)(v6 + 6220);
        v61 = sub_100014A0(v68) / 8;
        v8 = (*(int (__stdcall **)(int, int *, _DWORD, _DWORD))(*(_DWORD *)a2 + 36))(a2, &v66, 0, 0);
        if ( v8 >= 0 )
        {
          v11 = *((_DWORD *)v4 + 3);
          v12 = v67 + a4 * v66 + a3 * v61;
          v13 = 0;
          v70 = v67 + a4 * v66 + a3 * v61;
          for ( i = 0; v13 < *(_DWORD *)(v11 + 6192); i = v13 )
          {
            v60 = 0;
            if ( *(_DWORD *)(v11 + 6188) / 2 > 0 )
            {
              v14 = v59;
              v15 = 0;
              v16 = v58 - v59;
              v57 = v59;
              v71 = 0;
              while ( 1 )
              {
                v17 = *(_BYTE *)v7 << 16;
                v63 = v7 + 2;
                v18 = *(_BYTE *)(v16 + v14) - 128;
                result = *(_BYTE *)v14 - 128;
                v19 = *(_BYTE *)(v7 + 1) << 16;
                v65 = v19;
                if ( v68 == 22 )
                {
                  v20 = v18;
                  v21 = 91881 * result;
                  v22 = 116130 * v18;
                  v23 = -46802 * result - 22554 * v20;
                  v24 = v21 + v17;
                  if ( v21 + v17 <= 16777215 )
                    v25 = v24 > 65535 ? v24 & 0xFF0000 : 0;
                  else
                    v25 = 16711680;
                  *(_BYTE *)(v15 + v70 + 2) = v25 >> 16;
                  v26 = v23 + v17;
                  if ( v23 + v17 <= 16777215 )
                    v27 = v26 > 65535 ? v26 & 0xFF0000 : 0;
                  else
                    v27 = 16711680;
                  *(_BYTE *)(v15 + v70 + 1) = v27 >> 16;
                  v28 = v22 + v17;
                  if ( v22 + v17 <= 16777215 )
                    v29 = v28 > 65535 ? v28 & 0xFF0000 : 0;
                  else
                    v29 = 16711680;
                  *(_BYTE *)(v15 + v70) = v29 >> 16;
                  v30 = v65;
                  v31 = v21 + v65;
                  if ( v21 + v65 <= 16777215 )
                    v32 = v31 > 65535 ? v31 & 0xFF0000 : 0;
                  else
                    v32 = 16711680;
                  v33 = v71;
                  v34 = v65 + v23;
                  *(_BYTE *)(v71 + v70 + 6) = v32 >> 16;
                  if ( v34 <= 16777215 )
                    v35 = v34 > 65535 ? v34 & 0xFF0000 : 0;
                  else
                    v35 = 16711680;
                  *(_BYTE *)(v71 + v70 + 5) = v35 >> 16;
                  v36 = v22 + v30;
                  if ( v22 + v30 <= 16777215 )
                    *(_BYTE *)(v71 + v70 + 4) = v36 > 65535 ? (unsigned __int8)((v36 & 0xFF0000) >> 16) : 0;
                  else
                    *(_BYTE *)(v71 + v70 + 4) = -1;
                }
                else
                {
                  if ( v68 != 23 )
                    return result;
                  v37 = v18;
                  v38 = 91881 * result;
                  v39 = 116130 * v18;
                  v40 = -46802 * result - 22554 * v37;
                  v41 = v38 + v17;
                  if ( v38 + v17 <= 16777215 )
                    v42 = v41 > 65535 ? v41 & 0xFF0000 : 0;
                  else
                    v42 = 16711680;
                  v43 = v40 + v17;
                  if ( v40 + v17 <= 16777215 )
                    v44 = v43 > 65535 ? v43 & 0xFF0000 : 0;
                  else
                    v44 = 16711680;
                  v45 = v39 + v17;
                  if ( v45 <= 16777215 )
                    v46 = v45 > 65535 ? v45 & 0xFF0000 : 0;
                  else
                    v46 = 16711680;
                  *(_WORD *)(v70 + v71) = (v46 >> 19) | (v44 >> 13) & 0xFFE0 | (v42 >> 8) & 0xF800;
                  v47 = v38 + v19;
                  if ( v38 + v19 <= 16777215 )
                    v48 = v47 > 65535 ? v47 & 0xFF0000 : 0;
                  else
                    v48 = 16711680;
                  v49 = v19 + v40;
                  if ( v49 <= 16777215 )
                    v50 = v49 > 65535 ? v49 & 0xFF0000 : 0;
                  else
                    v50 = 16711680;
                  v51 = v19 + v39;
                  if ( v51 <= 16777215 )
                    v52 = v51 > 65535 ? v51 & 0xFF0000 : 0;
                  else
                    v52 = 16711680;
                  v33 = v71;
                  *(_WORD *)(v70 + v71 + 2) = (v52 >> 19) | (v50 >> 13) & 0xFFE0 | (v48 >> 8) & 0xF800;
                }
                v7 = v63;
                v53 = *(_DWORD *)(*((_DWORD *)v62 + 3) + 6188);
                LODWORD(v53) = ((signed int)v53 - HIDWORD(v53)) >> 1;
                v55 = __OFSUB__(v60 + 1, (_DWORD)v53);
                v54 = v60++ + 1 - (signed int)v53 < 0;
                ++v57;
                v71 = 2 * v61 + v33;
                if ( !(v54 ^ v55) )
                  break;
                v15 = 2 * v61 + v33;
                v14 = v57;
                v16 = v58 - v59;
              }
              v12 = v70;
              v4 = v62;
              v13 = i;
            }
            if ( v13 & 1 )
            {
              v56 = *(_DWORD *)(*((_DWORD *)v4 + 3) + 6188);
              LODWORD(v56) = ((signed int)v56 - HIDWORD(v56)) >> 1;
              v58 += v56;
              v59 += v56;
            }
            v12 += v66;
            v11 = *((_DWORD *)v4 + 3);
            ++v13;
            v70 = v12;
          }
          result = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 40))(a2);
        }
        else
        {
          v9 = sub_10001020((int)&v65, v8);
          v69 = 0;
          v10 = FString::operator_(v9);
          FOutputDevice::Logf(GLog, "D3D Driver: LockRect failed (%s)", v10);
          v69 = -1;
          result = FString::_FString(&v65);
        }
      }
    }
  }
  return result;
}
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F2EC: using guessed type int __stdcall FRoQMovie__PreRender(_DWORD, _DWORD, _DWORD);

//----- (1002B560) --------------------------------------------------------
void *__thiscall sub_1002B560(void *this, char a2, int a3, int a4, int a5)
{
  void *v5; // esi@1
  int v6; // edi@1
  int v7; // edx@1
  int v8; // eax@1
  int v9; // ebx@1
  int v10; // ecx@1
  int v11; // edx@1
  int v13; // [sp+Ch] [bp-30h]@1
  int v14; // [sp+10h] [bp-2Ch]@1
  int v15; // [sp+14h] [bp-28h]@1
  int v16; // [sp+18h] [bp-24h]@1
  int v17; // [sp+1Ch] [bp-20h]@1
  int v18; // [sp+20h] [bp-1Ch]@1
  int v19; // [sp+24h] [bp-18h]@1
  void *v20; // [sp+2Ch] [bp-10h]@1
  int v21; // [sp+38h] [bp-4h]@1

  v5 = this;
  v20 = this;
  v6 = a4;
  v16 = a4;
  a4 = (int)&v14;
  v21 = 0;
  FString::FString(&v14, &a2, v14, v15, v16);
  FMovie::FMovie(v5);
  v16 = (int)&a2;
  LOBYTE(v21) = 1;
  *(_DWORD *)v5 = &off_10072EE8;
  FString::FString((char *)v5 + 12, v16, v17, v18, v19);
  *((_DWORD *)v5 + 5) = v6;
  *((_DWORD *)v5 + 6) = -1;
  *((_DWORD *)v5 + 7) = -1;
  *((_BYTE *)v5 + 40) = 0;
  v7 = **((_DWORD **)GEngine + 18);
  LOBYTE(v21) = 2;
  v8 = (*(int (**)(void))(v7 + 164))();
  v9 = a5;
  *((_DWORD *)v5 + 8) = v8;
  v10 = *(_DWORD *)(*((_DWORD *)GEngine + 20) + 18100);
  v11 = *(_DWORD *)v8;
  v16 = v9;
  v15 = v10;
  (*(void (__thiscall **)(int, int, int))(v11 + 8))(v8, v10, v9);
  v16 = (int)((char *)v5 + 28);
  a4 = (int)&v13;
  FString::FString(&v13, &a2, v13, v14, (char *)v5 + 24);
  (*(void (**)(void))(**((_DWORD **)v5 + 8) + 4))();
  *((_DWORD *)v5 + 9) = 0;
  v21 = -1;
  FString::_FString(&a2);
  return v5;
}
// 1006F1E0: using guessed type int __thiscall FString__FString(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F2BC: using guessed type int __thiscall FMovie__FMovie(_DWORD);
// 1006F358: using guessed type void *GEngine;
// 10072EE8: using guessed type int (__stdcall *off_10072EE8)(char);

//----- (1002B670) --------------------------------------------------------
int __thiscall sub_1002B670(int this)
{
  int v1; // esi@1
  int v2; // ecx@1

  v1 = this;
  *(_DWORD *)this = &off_10072EE8;
  (*(void (__stdcall **)(signed int, signed int))(**(_DWORD **)(this + 32) + 16))(1, 1);
  v2 = *(_DWORD *)(v1 + 32);
  if ( v2 )
    (**(void (__stdcall ***)(_DWORD))v2)(1);
  *(_DWORD *)(v1 + 36) = 0;
  FString::_FString(v1 + 12);
  return FMovie::_FMovie(v1);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F2C0: using guessed type int __thiscall FMovie___FMovie(_DWORD);
// 10072EE8: using guessed type int (__stdcall *off_10072EE8)(char);

//----- (1002B6F0) --------------------------------------------------------
int __thiscall sub_1002B6F0(int this, int a2, int a3, int a4, int a5, int a6, int a7, int *a8)
{
  int v8; // esi@1
  int v10; // [sp+0h] [bp-14h]@1
  int v11; // [sp+4h] [bp-10h]@1
  int v12; // [sp+8h] [bp-Ch]@1
  int v13; // [sp+10h] [bp-4h]@1

  v13 = this;
  v8 = this;
  v12 = *(_DWORD *)FColor::FColor(&a2, 255, 255, 255, 0, *(_DWORD *)(this + 20), a2, 0, 0, 0, 640, 480, 0);
  a8 = &v10;
  FString::FString(&v10, v8 + 12, v10, v11, v12);
  return (*(int (**)(void))(**(_DWORD **)(v8 + 32) + 12))();
}
// 1006F1E0: using guessed type int __thiscall FString__FString(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F390: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1002B760) --------------------------------------------------------
int __cdecl sub_1002B760()
{
  return 0;
}

//----- (1002B770) --------------------------------------------------------
int __thiscall sub_1002B770(int this)
{
  return (*(int (__stdcall **)(signed int, signed int))(**(_DWORD **)(this + 32) + 16))(1, 1);
}

//----- (1002B790) --------------------------------------------------------
int __thiscall sub_1002B790(int this)
{
  return *(_DWORD *)(this + 24);
}

//----- (1002B7A0) --------------------------------------------------------
int __thiscall sub_1002B7A0(int this)
{
  return *(_DWORD *)(this + 28);
}

//----- (1002B7B0) --------------------------------------------------------
int __thiscall sub_1002B7B0(int this)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = *(_DWORD *)(this + 32);
  if ( v1 )
    result = (*(int (**)(void))(*(_DWORD *)v1 + 20))();
  else
    result = 0;
  return result;
}

//----- (1002B7D0) --------------------------------------------------------
int __thiscall sub_1002B7D0(int this, int a2, int a3, int a4)
{
  return (*(int (__stdcall **)(_DWORD, int))(**(_DWORD **)(this + 32) + 24))(
           *(_DWORD *)(*((_DWORD *)GEngine + 20) + 18100),
           this + 36);
}
// 1006F358: using guessed type void *GEngine;

//----- (1002B800) --------------------------------------------------------
int __thiscall sub_1002B800(void *this, int a2)
{
  int v2; // edi@1
  void *v3; // esi@1
  int result; // eax@1
  int v5; // esi@4
  int v6; // edx@10
  int v7; // eax@10
  int v8; // ecx@10
  int v9; // ebp@10
  int i; // edi@10
  int v11; // esi@12
  int v12; // [sp+30h] [bp-28h]@8
  int v13; // [sp+34h] [bp-24h]@10
  int v14; // [sp+38h] [bp-20h]@5
  int v15; // [sp+50h] [bp-8h]@10
  int v16; // [sp+54h] [bp-4h]@10

  v2 = a2;
  v3 = this;
  (*(void (__stdcall **)(int, _DWORD, _DWORD))(*(_DWORD *)this + 36))(a2, 0, 0);
  result = *((_DWORD *)v3 + 9);
  if ( result )
  {
    result = (*(int (**)(void))(**((_DWORD **)v3 + 8) + 20))();
    if ( result )
    {
      if ( v2 )
      {
        *((_BYTE *)v3 + 40) = 1;
        v5 = *((_DWORD *)v3 + 9);
        a2 = 0;
        result = (*(int (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)v5 + 60))(v5, 0, &a2);
        if ( result >= 0 )
        {
          if ( (*(int (__stdcall **)(int, int *))(*(_DWORD *)a2 + 32))(a2, &v14) < 0 )
            goto LABEL_18;
          if ( v14 != 22 )
            return (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
          if ( (*(int (__stdcall **)(int, int *, _DWORD, signed int))(*(_DWORD *)a2 + 36))(a2, &v12, 0, 16) >= 0 )
          {
            v6 = v16;
            v7 = v13;
            v8 = v2;
            v9 = v15;
            for ( i = v12 - v15; v6; --v6 )
            {
              if ( v9 )
              {
                v11 = v9;
                do
                {
                  *(_BYTE *)v8 = *(_BYTE *)(v7 + 1);
                  *(_BYTE *)(v8 + 1) = *(_BYTE *)(v7 + 2);
                  *(_BYTE *)(v8 + 2) = *(_BYTE *)(v7 + 3);
                  *(_BYTE *)(v8 + 3) = *(_BYTE *)v7;
                  v8 += 4;
                  v7 += 4;
                  --v11;
                }
                while ( v11 );
              }
              v7 += i;
            }
            (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 40))(a2);
            result = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
          }
          else
          {
LABEL_18:
            result = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)a2 + 8))(a2);
          }
        }
      }
    }
  }
  return result;
}

//----- (1002B920) --------------------------------------------------------
int __thiscall sub_1002B920(void *this, int a2, int a3, void *a4)
{
  int v4; // ebp@1
  int v5; // edi@1
  void *v6; // esi@1
  int result; // eax@1
  int v8; // eax@4
  int v9; // eax@5
  int v10; // [sp+28h] [bp-38h]@12
  void *v11; // [sp+2Ch] [bp-34h]@12
  int v12; // [sp+30h] [bp-30h]@12
  int v13; // [sp+34h] [bp-2Ch]@12
  int v14; // [sp+38h] [bp-28h]@12
  int v15; // [sp+3Ch] [bp-24h]@12
  char v16; // [sp+40h] [bp-20h]@10
  int v17; // [sp+50h] [bp-10h]@17
  int v18; // [sp+58h] [bp-8h]@12
  int v19; // [sp+5Ch] [bp-4h]@12

  v4 = a3;
  v5 = a2;
  v6 = this;
  (*(void (__stdcall **)(int, int, void *))(*(_DWORD *)this + 36))(a2, a3, a4);
  result = *((_DWORD *)v6 + 9);
  if ( result && (result = (*(int (**)(void))(**((_DWORD **)v6 + 8) + 20))()) != 0 && v5 )
  {
    v8 = *((_DWORD *)v6 + 9);
    a3 = 0;
    result = (*(int (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)v8 + 60))(v8, 0, &a3);
    if ( result < 0 )
      return result;
    v9 = *((_DWORD *)v6 + 9);
    a2 = 0;
    if ( (*(int (__stdcall **)(int, int *))(*(_DWORD *)v9 + 12))(v9, &a2) < 0 )
      return (*(int (__stdcall **)(int))(*(_DWORD *)a3 + 8))(a3);
    if ( v4 || a4 )
    {
      if ( (*(int (__stdcall **)(int, char *))(*(_DWORD *)a3 + 32))(a3, &v16) < 0 )
        return (*(int (__stdcall **)(int))(*(_DWORD *)a3 + 8))(a3);
      v11 = a4;
      v15 = v19;
      v13 = 0;
      v12 = 0;
      v14 = v18;
      v10 = v4;
      (*(void (__stdcall **)(int, int, int *, signed int, int, int *))(*(_DWORD *)a2 + 112))(a2, a3, &v12, 1, v5, &v10);
    }
    else
    {
      (*(void (__stdcall **)(int, int, _DWORD, _DWORD, int, _DWORD))(*(_DWORD *)a2 + 112))(a2, a3, 0, 0, v5, 0);
    }
    (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
    result = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)a3 + 8))(a3);
    *((_BYTE *)v6 + 40) = 1;
  }
  else
  {
    if ( !*((_BYTE *)v6 + 40) )
    {
      result = (*(int (__stdcall **)(int, char *))(*(_DWORD *)v5 + 32))(v5, &v16);
      if ( result >= 0 )
      {
        result = (*(int (__stdcall **)(int, int *, _DWORD, _DWORD))(*(_DWORD *)v5 + 36))(v5, &v10, 0, 0);
        if ( result >= 0 )
        {
          appMemset(v11, 0, v17);
          result = (*(int (__stdcall **)(int))(*(_DWORD *)v5 + 40))(v5);
        }
      }
    }
  }
  return result;
}
// 1006F268: using guessed type void __fastcall appMemset(void *, int, int);

//----- (1002BAA0) --------------------------------------------------------
int __thiscall sub_1002BAA0(void *this, int a2)
{
  void *v2; // ebx@1
  int v3; // eax@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // eax@1
  int result; // eax@2
  int v8; // ecx@4

  v2 = this;
  v3 = (*(int (**)(void))(*(_DWORD *)a2 + 172))();
  v4 = *((_DWORD *)GEngine + 20);
  v5 = v3;
  v6 = UD3DRenderDevice::GetCachedResource(*((void **)GEngine + 20), *(_DWORD *)(v3 + 4), *(_DWORD *)(v3 + 8));
  if ( v6 )
    result = (*(int (__thiscall **)(int))(*(_DWORD *)v6 + 4))(v6);
  else
    result = sub_1001A420(v4 + 18164, v5);
  a2 = 0;
  v8 = *(_DWORD *)(result + 56);
  if ( v8 )
  {
    result = (*(int (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)v8 + 60))(v8, 0, &a2);
    if ( result >= 0 )
    {
      (*(void (__thiscall **)(void *, int, _DWORD, _DWORD))(*(_DWORD *)v2 + 44))(v2, a2, 0, 0);
      result = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
    }
  }
  return result;
}
// 1006F358: using guessed type void *GEngine;

//----- (1002BBC0) --------------------------------------------------------
int __fastcall sub_1002BBC0(int a1, int a2, int a3)
{
  int v3; // esi@1

  v3 = a1;
  FString::operator_(a2, a1, a3);
  return v3;
}
// 1006F26C: using guessed type int __thiscall FString__operator_(_DWORD, _DWORD, _DWORD);

//----- (1002BE00) --------------------------------------------------------
int __cdecl sub_1002BE00()
{
  return 0;
}

//----- (1002BE10) --------------------------------------------------------
int __cdecl sub_1002BE10()
{
  return 0;
}

//----- (1002BE20) --------------------------------------------------------
int __cdecl sub_1002BE20()
{
  return 0;
}

//----- (1002BE30) --------------------------------------------------------
int __thiscall sub_1002BE30(int this, int a2)
{
  int v2; // ecx@1
  int result; // eax@1

  v2 = *(_DWORD *)(this + 36);
  result = a2;
  *(_DWORD *)a2 = 1;
  *(_DWORD *)(a2 + 8) = v2;
  *(_DWORD *)(a2 + 4) = v2;
  return result;
}

//----- (1002BE50) --------------------------------------------------------
void *__thiscall sub_1002BE50(void *this)
{
  return this;
}

//----- (1002BE80) --------------------------------------------------------
void *__thiscall sub_1002BE80(void *this)
{
  return this;
}

//----- (1002BEB0) --------------------------------------------------------
int __thiscall sub_1002BEB0(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1002A1D0(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002BF90) --------------------------------------------------------
void __usercall sub_1002BF90(int a1<ebp>)
{
  *(_DWORD *)(a1 - 24) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 24, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002BFA4) --------------------------------------------------------
void __cdecl sub_1002BFA4()
{
  appUnwindf("%s", off_10080214[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080214: using guessed type char *off_10080214[18];

//----- (1002BFD0) --------------------------------------------------------
int __thiscall sub_1002BFD0(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // eax@3

  v1 = this;
  *(_DWORD *)this = &off_10072C10;
  v2 = *(_DWORD *)(this + 48);
  if ( v2 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(v2);
    *(_DWORD *)(v1 + 48) = 0;
  }
  v3 = *(_DWORD *)(v1 + 52);
  if ( v3 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(*(_DWORD *)(v1 + 52));
    *(_DWORD *)(v1 + 52) = 0;
  }
  return sub_1002A1D0(v1);
}
// 10072C10: using guessed type int (__stdcall *off_10072C10)(char);

//----- (1002C050) --------------------------------------------------------
int __thiscall sub_1002C050(int this, int a2)
{
  char v2; // al@1
  int v3; // edx@3
  int v4; // edx@5
  int result; // eax@8
  int v6; // [sp+10h] [bp-Ch]@1
  int v7; // [sp+14h] [bp-8h]@1
  int v8; // [sp+18h] [bp-4h]@1

  v2 = *(_BYTE *)(this + 28);
  v8 = 0;
  v7 = 0;
  v6 = 0;
  if ( !v2 )
  {
    if ( *(_DWORD *)(this + 48) )
    {
      v3 = *(_DWORD *)(this + 56);
      v6 = 1;
      v8 = (v3 + 4095) & 0xFFFFF000;
      v7 = v3;
    }
    if ( *(_DWORD *)(this + 52) )
    {
      v4 = *(_DWORD *)(this + 56);
      ++v6;
      v8 += (v4 + 4095) & 0xFFFFF000;
      v7 += v4;
    }
  }
  if ( *(_DWORD *)(this + 36) )
    v8 = *(_DWORD *)(this + 36);
  FMalloc::AddStat(GMalloc, &v6, this, 64, 1);
  result = a2;
  *(_DWORD *)a2 = v6;
  *(_DWORD *)(a2 + 4) = v7;
  *(_DWORD *)(a2 + 8) = v8;
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F264: using guessed type int __thiscall FMalloc__AddStat(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1002C120) --------------------------------------------------------
int __thiscall sub_1002C120(int this, int a2, int a3)
{
  int v3; // esi@1
  int v5; // [sp+0h] [bp-24h]@1
  int v6; // [sp+Ch] [bp-18h]@1
  int *v7; // [sp+14h] [bp-10h]@1
  int v8; // [sp+20h] [bp-4h]@1

  v3 = this;
  v7 = &v5;
  v6 = this;
  sub_1002A140(this, a2, a3);
  *(_DWORD *)(v3 + 48) = 0;
  *(_DWORD *)(v3 + 52) = 0;
  *(_DWORD *)(v3 + 60) = 0;
  *(_DWORD *)(v3 + 56) = 0;
  v8 = 0;
  *(_DWORD *)v3 = &off_10072F68;
  LOBYTE(v8) = 1;
  *(_DWORD *)(v3 + 68) = 0;
  sub_1002A5F0((void *)v3, 131072);
  return v3;
}
// 10072F68: using guessed type int (__stdcall *off_10072F68)(char);

//----- (1002C194) --------------------------------------------------------
void __usercall sub_1002C194(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 + 12);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002C1A8) --------------------------------------------------------
void __cdecl sub_1002C1A8()
{
  appUnwindf("%s", off_10080218[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080218: using guessed type char *off_10080218[17];

//----- (1002C1D0) --------------------------------------------------------
int __thiscall sub_1002C1D0(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1002A800(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002C200) --------------------------------------------------------
int __thiscall sub_1002C200(int this, int a2)
{
  int v2; // eax@1
  int v3; // edx@2
  int result; // eax@9
  int v5; // [sp+10h] [bp-Ch]@9
  int v6; // [sp+14h] [bp-8h]@4
  int v7; // [sp+18h] [bp-4h]@9

  v2 = *(_DWORD *)(this + 36);
  if ( v2 )
  {
    v3 = *(_DWORD *)(this + 52);
    if ( !v3 )
      v3 = *(_DWORD *)(this + 36);
    v6 = v3;
  }
  else
  {
    if ( *(_DWORD *)(this + 48) )
      v2 = *(_DWORD *)(this + 52);
    else
      v2 = 0;
    v6 = v2;
  }
  v7 = v2;
  v5 = 1;
  FMalloc::AddStat(GMalloc, &v5, this, 56, 1);
  result = a2;
  *(_DWORD *)a2 = v5;
  *(_DWORD *)(a2 + 4) = v6;
  *(_DWORD *)(a2 + 8) = v7;
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F264: using guessed type int __thiscall FMalloc__AddStat(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1002C270) --------------------------------------------------------
int __thiscall sub_1002C270(void *this, int a2)
{
  int v2; // ebx@1
  int v3; // eax@1
  int v4; // eax@1
  signed int v5; // edi@1
  int v6; // eax@3
  int v7; // esi@3
  bool v8; // zf@7
  int v9; // eax@7
  signed int v10; // ecx@7
  signed int v11; // eax@9
  int v12; // eax@10
  int v13; // eax@10
  int v14; // eax@13
  signed int v15; // eax@13
  int v16; // eax@14
  int v17; // eax@14
  signed int v18; // eax@15
  int v19; // eax@16
  int v20; // eax@16
  int result; // eax@17
  int v22; // [sp+0h] [bp-30h]@1
  char v23; // [sp+Ch] [bp-24h]@10
  int v24; // [sp+1Ch] [bp-14h]@1
  int *v25; // [sp+20h] [bp-10h]@1
  int v26; // [sp+2Ch] [bp-4h]@1

  v2 = (int)this;
  v3 = *(_DWORD *)a2;
  v25 = &v22;
  v24 = (int)this;
  v26 = 0;
  v4 = (*(int (**)(void))(v3 + 16))();
  v5 = 2;
  if ( v4 > 2 )
    v5 = v4;
  v6 = *(_DWORD *)(v2 + 48);
  v7 = v2 + 48;
  if ( v6 )
  {
    if ( *(_DWORD *)(v2 + 52) == v5 )
      goto LABEL_12;
    if ( v6 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*(_DWORD *)(v2 + 48));
  }
  v8 = (*(int (**)(void))(*(_DWORD *)a2 + 24))() == 4;
  v9 = *(_DWORD *)(v2 + 4);
  v10 = 8;
  if ( !*(_DWORD *)(v9 + 16604) )
    v10 = 24;
  v11 = (*(int (__stdcall **)(_DWORD, signed int, signed int, int, signed int, int))(**(_DWORD **)(v9 + 18100) + 96))(
          *(_DWORD *)(v9 + 18100),
          v5,
          v10,
          v8 + 101,
          1,
          v7);
  if ( v11 < 0 )
  {
    v12 = sub_10001020((int)&v23, v11);
    LOBYTE(v26) = 1;
    v13 = FString::operator_(v12);
    FOutputDevice::Logf(GError, "CreateIndexBuffer failed(%s).", v13);
    LOBYTE(v26) = 0;
    FString::_FString(&v23);
  }
  v2 = v24;
LABEL_12:
  if ( *(_DWORD *)(v2 + 16) != (*(int (**)(void))(*(_DWORD *)a2 + 4))() )
  {
    v14 = *(_DWORD *)v7;
    v24 = 0;
    v15 = (*(int (__stdcall **)(int, _DWORD, signed int, int *, _DWORD))(*(_DWORD *)v14 + 44))(v14, 0, v5, &v24, 0);
    if ( v15 < 0 )
    {
      v16 = sub_10001020((int)&v23, v15);
      LOBYTE(v26) = 2;
      v17 = FString::operator_(v16);
      FOutputDevice::Logf(GError, "IDirect3DIndexBuffer8::Lock failed(%s).", v17);
      LOBYTE(v26) = 0;
      FString::_FString(&v23);
    }
    (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 20))(v24);
    v18 = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)v7 + 48))(*(_DWORD *)v7);
    if ( v18 < 0 )
    {
      v19 = sub_10001020((int)&v23, v18);
      LOBYTE(v26) = 3;
      v20 = FString::operator_(v19);
      FOutputDevice::Logf(GError, "IDirect3DIndexBuffer8::Unlock failed(%s).", v20);
      LOBYTE(v26) = 0;
      FString::_FString(&v23);
    }
  }
  result = (*(int (**)(void))(*(_DWORD *)a2 + 4))();
  *(_DWORD *)(v2 + 52) = v5;
  *(_DWORD *)(v2 + 16) = result;
  return result;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002C426) --------------------------------------------------------
void __usercall sub_1002C426(int a1<ebp>)
{
  *(_DWORD *)(a1 - 24) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 24, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002C43A) --------------------------------------------------------
void __cdecl sub_1002C43A()
{
  appUnwindf("%s", off_1008021C[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 1008021C: using guessed type char *off_1008021C[16];

//----- (1002C460) --------------------------------------------------------
int __thiscall sub_1002C460(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v6; // [sp+0h] [bp-24h]@1
  int v7; // [sp+Ch] [bp-18h]@1
  int *v8; // [sp+14h] [bp-10h]@1
  int v9; // [sp+20h] [bp-4h]@1

  v4 = this;
  v8 = &v6;
  v7 = this;
  sub_1002A140(this, a2, a3);
  *(_DWORD *)(v4 + 48) = 0;
  *(_DWORD *)(v4 + 52) = 0;
  v9 = 0;
  *(_DWORD *)v4 = &off_10073018;
  *(_DWORD *)(v4 + 60) = a4;
  LOBYTE(v9) = 1;
  sub_1002A880((void *)v4, 16384);
  return v4;
}
// 10073018: using guessed type int (__stdcall *off_10073018)(char);

//----- (1002C4D1) --------------------------------------------------------
void __usercall sub_1002C4D1(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 + 12);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002C4E5) --------------------------------------------------------
void __cdecl sub_1002C4E5()
{
  appUnwindf("%s", off_10080220[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080220: using guessed type char *off_10080220[15];

//----- (1002C510) --------------------------------------------------------
void *__thiscall sub_1002C510(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_1002C540();
  if ( a2 & 1 )
    (*(void (__stdcall **)(void *))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1002C540: using guessed type int sub_1002C540(void);
// 1006F014: using guessed type void *GMalloc;

//----- (1002C550) --------------------------------------------------------
void *__thiscall sub_1002C550(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  std::locale::_Locimp::__Locimp();
  if ( a2 & 1 )
    (*(void (__stdcall **)(void *))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1002AD90: using guessed type int std__locale___Locimp____Locimp(void);
// 1006F014: using guessed type void *GMalloc;

//----- (1002C580) --------------------------------------------------------
int __thiscall sub_1002C580(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // eax@2
  int v5; // ecx@4
  int i; // esi@6
  int result; // eax@8
  int v8; // [sp+20h] [bp-Ch]@1
  int v9; // [sp+24h] [bp-8h]@1
  int v10; // [sp+28h] [bp-4h]@1

  v2 = this;
  v3 = *(_DWORD *)(this + 52);
  v10 = 0;
  v9 = 0;
  v8 = 0;
  if ( v3 )
    v4 = (*(int (__stdcall **)(int))(*(_DWORD *)v3 + 16))(v3);
  else
    v4 = 0;
  v5 = *(_DWORD *)(v2 + 36);
  v9 = v4;
  v10 = v5;
  if ( !v5 )
    v10 = v4;
  FMalloc::AddStat(GMalloc, &v8, v2, 56, 1);
  for ( i = *(_DWORD *)(v2 + 48); i; i = *(_DWORD *)(i + 328) )
    FMalloc::AddStat(GMalloc, &v8, i, 332, 1);
  result = a2;
  *(_DWORD *)a2 = v8;
  *(_DWORD *)(a2 + 4) = v9;
  *(_DWORD *)(a2 + 8) = v10;
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F264: using guessed type int __thiscall FMalloc__AddStat(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1002C630) --------------------------------------------------------
signed int __stdcall sub_1002C630(int a1, int a2)
{
  int v2; // eax@1
  const char *v3; // edi@2
  const char *v4; // eax@3
  char *v5; // eax@3
  char *v6; // ebx@3
  signed int result; // eax@4
  int v8; // esi@5
  int v9; // eax@5
  int v10; // edi@5
  char *v11; // eax@5
  int v12; // ebx@6
  int v13; // ST24_4@6
  int v14; // esi@6
  int v15; // eax@6
  int v16; // eax@6
  int v17; // eax@6
  int v18; // esi@6
  char *v19; // ecx@6
  int v20; // ebx@7
  int v21; // esi@7
  int v22; // eax@7
  int v23; // eax@7
  int v24; // eax@7
  int v25; // [sp+20h] [bp-68h]@2
  char v26; // [sp+28h] [bp-60h]@6
  char v27; // [sp+30h] [bp-58h]@6
  char v28; // [sp+38h] [bp-50h]@6
  char v29; // [sp+40h] [bp-48h]@6
  char v30; // [sp+48h] [bp-40h]@6
  char v31; // [sp+50h] [bp-38h]@7
  char v32; // [sp+58h] [bp-30h]@7
  char v33; // [sp+60h] [bp-28h]@7
  char v34; // [sp+68h] [bp-20h]@7
  char v35; // [sp+70h] [bp-18h]@7
  int v36; // [sp+84h] [bp-4h]@6

  v2 = *((_DWORD *)GEngine + 24);
  if ( v2
    && (v25 = v2 + 100, (v3 = (const char *)FString::operator_(v2 + 100)) != 0)
    && (v4 = (const char *)FString::operator_(a1), v5 = appStrstr(v3, v4), (v6 = v5) != 0) )
  {
    v8 = v5 - v3;
    v9 = ((int (__thiscall *)(int))FString::Len)(a1);
    v10 = v9;
    v11 = appStrchr(&v6[v9], 123);
    if ( v11 )
    {
      v12 = v11 - v6;
      v13 = FString::FString("// End Macro\n", 0);
      v36 = 0;
      v14 = FString::Mid(v25, &v29, v8 + 1, v12 - 1);
      LOBYTE(v36) = 1;
      v15 = FString::FString("// Macro: ", 0);
      LOBYTE(v36) = 2;
      v16 = sub_1002BBC0((int)&v27, v15, v14);
      LOBYTE(v36) = 3;
      v17 = FString::operator_(v16, &v26, v13);
      v18 = a2;
      LOBYTE(v36) = 4;
      TArray<char>::operator_(a2, v17);
      LOBYTE(v36) = 3;
      FStringTemp::_FStringTemp(&v26);
      LOBYTE(v36) = 2;
      FStringTemp::_FStringTemp(&v27);
      LOBYTE(v36) = 1;
      FString::_FString(&v28);
      LOBYTE(v36) = 0;
      FStringTemp::_FStringTemp(&v29);
      v19 = &v30;
    }
    else
    {
      v20 = FString::FString("// End Macro\n", 0);
      v36 = 5;
      v21 = FString::Mid(v25, &v34, v8 + 1, 2147483647);
      LOBYTE(v36) = 6;
      v22 = FString::FString("// Macro: ", 0);
      LOBYTE(v36) = 7;
      v23 = sub_1002BBC0((int)&v32, v22, v21);
      LOBYTE(v36) = 8;
      v24 = FString::operator_(v23, &v31, v20);
      v18 = a2;
      LOBYTE(v36) = 9;
      TArray<char>::operator_(a2, v24);
      LOBYTE(v36) = 8;
      FStringTemp::_FStringTemp(&v31);
      LOBYTE(v36) = 7;
      FStringTemp::_FStringTemp(&v32);
      LOBYTE(v36) = 6;
      FString::_FString(&v33);
      LOBYTE(v36) = 5;
      FStringTemp::_FStringTemp(&v34);
      v19 = &v35;
    }
    v36 = -1;
    FString::_FString(v19);
    *(_BYTE *)FString::operator__(v18, v10 + 8) = 46;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 1006F010: using guessed type int __stdcall FString__FString(_DWORD, _DWORD);
// 1006F0D8: using guessed type int __thiscall TArray_char___operator_(_DWORD, _DWORD);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F26C: using guessed type int __thiscall FString__operator_(_DWORD, _DWORD, _DWORD);
// 1006F270: using guessed type int __thiscall FString__operator__(_DWORD, _DWORD);
// 1006F274: using guessed type int __thiscall FString__Mid(_DWORD, _DWORD, _DWORD, _DWORD);
// 1006F278: using guessed type char *__fastcall appStrchr(const char *, int);
// 1006F27C: using guessed type int __thiscall FString__Len(_DWORD, _DWORD, _DWORD);
// 1006F280: using guessed type char *__fastcall appStrstr(const char *, const char *);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F358: using guessed type void *GEngine;

//----- (1002C890) --------------------------------------------------------
int __thiscall sub_1002C890(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@4

  v2 = *(_DWORD *)(this + 48);
  if ( v2 )
  {
    while ( !sub_10016700(v2, a2) )
    {
      v2 = *(_DWORD *)(v2 + 328);
      if ( !v2 )
        goto LABEL_4;
    }
    result = *(_DWORD *)(v2 + 324);
  }
  else
  {
LABEL_4:
    result = 0;
  }
  return result;
}

//----- (1002C8D0) --------------------------------------------------------
int __thiscall sub_1002C8D0(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1002AE70(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002C900) --------------------------------------------------------
int __thiscall sub_1002C900(void *this, int a2)
{
  int v2; // edi@1
  void *v3; // esi@1
  BYTE v4; // bl@1
  char *v5; // eax@1
  signed int v6; // edx@1
  int v7; // edi@3
  int v8; // ecx@3
  const char *v9; // eax@3
  const char *v10; // esi@3
  int v11; // eax@3
  int result; // eax@4
  int v13; // edi@5
  int v14; // ecx@5
  int v15; // esi@5
  int v16; // eax@5
  int v17; // eax@6
  int v18; // eax@8
  signed int v19; // eax@8
  int v20; // eax@9
  int v21; // eax@9
  int v22; // edx@10
  int v23; // [sp+0h] [bp-40h]@1
  int v24; // [sp+4h] [bp-3Ch]@1
  char v25; // [sp+Ch] [bp-34h]@3
  int v26; // [sp+28h] [bp-18h]@1
  struct HKEY__ hKey; // [sp+2Ch] [bp-14h]@1
  int *v28; // [sp+30h] [bp-10h]@1
  int v29; // [sp+3Ch] [bp-4h]@1

  v29 = 0;
  hKey.unused = 0;
  v26 = 0;
  v2 = *(_DWORD *)(a2 + 16);
  v3 = this;
  v28 = &v23;
  LOBYTE(v29) = 1;
  v4 = FString::Len(v2 + 116, v23, v24);
  v5 = (char *)FString::operator_(v2 + 116);
  v6 = sub_10034D27(v2, v5, v4, 0, 0, &hKey, (int)&v26);
  if ( v6 >= 0 )
  {
    *((_DWORD *)v3 + 13) = (*(int (__stdcall **)(int))(*(_DWORD *)hKey.unused + 16))(hKey.unused);
    v17 = *((_DWORD *)v3 + 12);
    v29 = 0;
    LOBYTE(v29) = 5;
    if ( v17 )
      (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(*((_DWORD *)v3 + 1) + 18100) + 360))(
        *(_DWORD *)(*((_DWORD *)v3 + 1) + 18100),
        v17);
    v18 = (*(int (__stdcall **)(int))(*(_DWORD *)hKey.unused + 12))(hKey.unused);
    v19 = (*(int (__stdcall **)(_DWORD, int, char *))(**(_DWORD **)(*((_DWORD *)v3 + 1) + 18100) + 348))(
            *(_DWORD *)(*((_DWORD *)v3 + 1) + 18100),
            v18,
            (char *)v3 + 48);
    if ( v19 < 0 )
    {
      v20 = sub_10001020((int)&v25, v19);
      LOBYTE(v29) = 6;
      v21 = FString::operator_(v20);
      FOutputDevice::Logf(GError, "CreatePixelShader failed(%s).", v21);
      LOBYTE(v29) = 5;
      FString::_FString(&v25);
    }
    v22 = *(_DWORD *)hKey.unused;
    v29 = 0;
    (*(void (__stdcall **)(int))(v22 + 8))(hKey.unused);
    result = (*(int (**)(void))(*(_DWORD *)a2 + 4))();
    *((_DWORD *)v3 + 4) = result;
  }
  else
  {
    if ( v26 )
    {
      v7 = sub_10001020((int)&v25, v6);
      v8 = *(_DWORD *)v26;
      LOBYTE(v29) = 2;
      v9 = (const char *)(*(int (__stdcall **)(int))(v8 + 12))(v26);
      v10 = appFromAnsi(v9, 0);
      v11 = FString::operator_(v7);
      FOutputDevice::Logf(GLog, 760, "DXAssembleShader failed(%s): %s", v11, v10);
    }
    else
    {
      v13 = sub_10001020((int)&v25, v6);
      v14 = *(_DWORD *)(a2 + 16) + 116;
      LOBYTE(v29) = 3;
      v15 = FString::Len(v14, v23, v24);
      v16 = FString::operator_(v13);
      FOutputDevice::Logf(GError, "DXAssembleShader failed(%s).  Len was %d", v16, v15);
    }
    LOBYTE(v29) = 1;
    result = FString::_FString(&v25);
  }
  return result;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1B8: using guessed type int FOutputDevice__Logf(_DWORD, _DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F228: using guessed type const char *__fastcall appFromAnsi(const char *, char *);
// 1006F27C: using guessed type int __thiscall FString__Len(_DWORD, _DWORD, _DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002CACE) --------------------------------------------------------
void __usercall sub_1002CACE(int a1<ebp>)
{
  *(_DWORD *)(a1 - 28) = *(_DWORD *)(a1 - 40);
  JUMPOUT(loc_1002CB2A);
}
// 1002CB2A: using guessed type int loc_1002CB2A();

//----- (1002CADF) --------------------------------------------------------
void __cdecl sub_1002CADF()
{
  JUMPOUT(loc_1002CB17);
}
// 1002CB17: using guessed type int loc_1002CB17();

//----- (1002CAE6) --------------------------------------------------------
void __usercall sub_1002CAE6(int a1<ebp>)
{
  *(_DWORD *)(a1 - 32) = *(_DWORD *)(a1 - 40);
  CxxThrowException(a1 - 32, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002CB30) --------------------------------------------------------
void *__thiscall sub_1002CB30(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_1002AFE0(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(void *))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002CB60) --------------------------------------------------------
int __thiscall sub_1002CB60(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1002B670(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002CB90) --------------------------------------------------------
char __thiscall sub_1002CB90(void *this, int a2)
{
  void *v2; // esi@1
  char result; // al@1
  int v4; // ecx@1

  v2 = this;
  result = (*(int (__thiscall **)(int, void *, signed int))(*(_DWORD *)a2 + 32))(a2, this, 44);
  v4 = *((_DWORD *)v2 + 8);
  if ( v4 )
  {
    result = *(_BYTE *)(a2 + 19);
    if ( result )
      result = (*(int (__stdcall **)(int))(*(_DWORD *)v4 + 36))(a2);
  }
  return result;
}

//----- (1002CC50) --------------------------------------------------------
int __thiscall sub_1002CC50(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // eax@7
  int v10; // eax@10
  void *v11; // eax@13
  int v12; // ecx@14
  int result; // eax@19
  int v14; // [sp+0h] [bp-28h]@1
  int v15; // [sp+14h] [bp-14h]@1
  int *v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+24h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)this;
  v5 = *(_DWORD *)this == 0;
  v16 = &v14;
  v15 = this;
  v17 = 0;
  if ( v5 || (v6 = *(_DWORD *)(this + 4), v6 & 0x20000000) )
  {
    v7 = a2;
    v10 = a3;
    if ( a2 + a3 )
    {
      if ( a2 >= a3 )
        v10 = a2;
      v11 = (void *)(*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(4 * v10);
      if ( *(_DWORD *)v3 )
      {
        v12 = 8 * *(_DWORD *)(v3 + 4) >> 3;
        if ( v12 > a2 )
          v12 = a2;
        memcpy(v11, *(const void **)v3, 4 * v12);
        v3 = v15;
      }
      *(_DWORD *)v3 = v11;
    }
    else
    {
      *(_DWORD *)v3 = 0;
    }
  }
  else
  {
    v7 = a2;
    v8 = 8 * v6 >> 3;
    if ( a2 <= v8 )
    {
      if ( v6 >= 0 && ((4 * a2 + 31) & 0xFFFFFFE0u) < ((4 * v8 + 31) & 0xFFFFFFE0u) )
      {
        v9 = a3;
        if ( a3 < a2 )
          v9 = a2;
        *(_DWORD *)v3 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)GMalloc + 8))(*(_DWORD *)v3, 4 * a2, 4 * v9);
      }
    }
    else
    {
      *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, 4 * a2, 4 * a3);
    }
  }
  result = (v7 ^ *(_DWORD *)(v3 + 4)) & 0x1FFFFFFF ^ *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002CDF0) --------------------------------------------------------
int __thiscall sub_1002CDF0(int this, int a2, int a3)
{
  int v3; // edi@1
  int v4; // edx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int v7; // ebx@3
  int v8; // eax@3
  int v9; // eax@7
  int v10; // eax@10
  void *v11; // eax@13
  int v12; // ecx@14
  int result; // eax@19
  int v14; // [sp+0h] [bp-28h]@1
  int v15; // [sp+14h] [bp-14h]@1
  int *v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+24h] [bp-4h]@1

  v3 = this;
  v4 = *(_DWORD *)this;
  v5 = *(_DWORD *)this == 0;
  v16 = &v14;
  v15 = this;
  v17 = 0;
  if ( v5 || (v6 = *(_DWORD *)(this + 4), v6 & 0x20000000) )
  {
    v7 = a2;
    v10 = a3;
    if ( a2 + a3 )
    {
      if ( a2 >= a3 )
        v10 = a2;
      v11 = (void *)(*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(4 * v10);
      if ( *(_DWORD *)v3 )
      {
        v12 = 8 * *(_DWORD *)(v3 + 4) >> 3;
        if ( v12 > a2 )
          v12 = a2;
        memcpy(v11, *(const void **)v3, 4 * v12);
        v3 = v15;
      }
      *(_DWORD *)v3 = v11;
    }
    else
    {
      *(_DWORD *)v3 = 0;
    }
  }
  else
  {
    v7 = a2;
    v8 = 8 * v6 >> 3;
    if ( a2 <= v8 )
    {
      if ( v6 >= 0 && ((4 * a2 + 31) & 0xFFFFFFE0u) < ((4 * v8 + 31) & 0xFFFFFFE0u) )
      {
        v9 = a3;
        if ( a3 < a2 )
          v9 = a2;
        *(_DWORD *)v3 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)GMalloc + 8))(*(_DWORD *)v3, 4 * a2, 4 * v9);
      }
    }
    else
    {
      *(_DWORD *)v3 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)GMalloc + 8))(v4, 4 * a2, 4 * a3);
    }
  }
  result = (v7 ^ *(_DWORD *)(v3 + 4)) & 0x1FFFFFFF ^ *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002CF90) --------------------------------------------------------
int __thiscall sub_1002CF90(int this, int a2, int a3)
{
  int v3; // esi@1

  v3 = this;
  sub_1002A140(this, a2, a3);
  *(_DWORD *)v3 = &off_10073060;
  *(_DWORD *)(v3 + 84) = 0;
  *(_DWORD *)(v3 + 88) = 0;
  *(_DWORD *)(v3 + 48) = 0;
  *(_DWORD *)(v3 + 52) = 0;
  *(_DWORD *)(v3 + 56) = 0;
  *(_DWORD *)(v3 + 60) = 0;
  return v3;
}
// 10073060: using guessed type int (__stdcall *off_10073060)(char);

//----- (1002CFD0) --------------------------------------------------------
void *__thiscall sub_1002CFD0(void *this)
{
  return this;
}

//----- (1002CFE0) --------------------------------------------------------
int __thiscall sub_1002CFE0(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // eax@3
  int v4; // eax@5
  int v5; // eax@7
  int v6; // eax@12

  v1 = this;
  *(_DWORD *)this = &off_10073060;
  v2 = *(_DWORD *)(this + 48);
  if ( v2 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(v2);
  v3 = *(_DWORD *)(v1 + 52);
  if ( v3 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(*(_DWORD *)(v1 + 52));
  v4 = *(_DWORD *)(v1 + 56);
  if ( v4 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*(_DWORD *)(v1 + 56));
  v5 = *(_DWORD *)(v1 + 60);
  if ( v5 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(v1 + 60));
  if ( !(*(_DWORD *)(v1 + 88) & 0x20000000) && *(_DWORD *)(v1 + 84) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)(v1 + 84));
  v6 = *(_DWORD *)(v1 + 88) & 0xE0000000;
  *(_DWORD *)(v1 + 84) = 0;
  *(_DWORD *)(v1 + 88) = v6;
  return sub_1002A1D0(v1);
}
// 1006F014: using guessed type void *GMalloc;
// 10073060: using guessed type int (__stdcall *off_10073060)(char);

//----- (1002D0A0) --------------------------------------------------------
int __thiscall sub_1002D0A0(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // edi@2
  int v5; // ebp@4
  int v6; // eax@4
  int v7; // ecx@4
  int v8; // eax@4
  int v9; // eax@5
  int result; // eax@7
  int v11; // [sp+18h] [bp-2Ch]@1
  int v12; // [sp+1Ch] [bp-28h]@1
  int v13; // [sp+20h] [bp-24h]@1
  char v14; // [sp+24h] [bp-20h]@3
  int v15; // [sp+34h] [bp-10h]@3

  v2 = this;
  v3 = *(_DWORD *)(this + 52);
  v13 = 0;
  v12 = 0;
  v11 = 0;
  if ( v3 )
  {
    (*(void (__stdcall **)(int, char *))(*(_DWORD *)v3 + 32))(v3, &v14);
    v4 = v15;
  }
  else
  {
    v4 = 0;
  }
  v5 = sub_1002A2D0(*(void **)(v2 + 60));
  v6 = sub_1002A280(*(void **)(v2 + 56));
  v7 = *(_DWORD *)(v2 + 36);
  v8 = v4 + v5 + v6;
  v12 = v8;
  if ( v7 )
    v9 = v7;
  else
    v9 = (v8 + 4095) & 0xFFFFF000;
  v13 += v9;
  FMalloc::AddStat(GMalloc, &v11, v2, 92, 1);
  result = a2;
  *(_DWORD *)a2 = v11;
  *(_DWORD *)(a2 + 4) = v12;
  *(_DWORD *)(a2 + 8) = v13;
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F264: using guessed type int __thiscall FMalloc__AddStat(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1002D150) --------------------------------------------------------
int __thiscall sub_1002D150(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1002BFD0(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002D180) --------------------------------------------------------
void *__thiscall sub_1002D180(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_1002D1B0();
  if ( a2 & 1 )
    (*(void (__stdcall **)(void *))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1002D1B0: using guessed type int sub_1002D1B0(void);
// 1006F014: using guessed type void *GMalloc;

//----- (1002D1C0) --------------------------------------------------------
int __thiscall sub_1002D1C0(int this)
{
  int v1; // esi@1
  int v2; // ecx@1
  int v3; // eax@1
  int v4; // ST00_4@7
  int v5; // ecx@7
  int v6; // ecx@7
  int v7; // eax@8
  int v8; // eax@12
  int result; // eax@12
  int v10; // [sp+0h] [bp-28h]@1
  int v11; // [sp+10h] [bp-18h]@1
  int *v12; // [sp+18h] [bp-10h]@1
  int v13; // [sp+24h] [bp-4h]@1

  v1 = this;
  v12 = &v10;
  v11 = this;
  v2 = *(_DWORD *)(this + 340);
  v3 = *(_DWORD *)(v2 + 16564);
  v13 = 0;
  LOBYTE(v13) = 1;
  if ( v3 == v11 )
  {
    *(_DWORD *)(v2 + 16564) = *(_DWORD *)(v1 + 344);
  }
  else
  {
    while ( v3 )
    {
      if ( *(_DWORD *)(v3 + 344) == v1 )
      {
        *(_DWORD *)(v3 + 344) = *(_DWORD *)(v1 + 344);
        break;
      }
      v3 = *(_DWORD *)(v3 + 344);
    }
  }
  v4 = *(_DWORD *)(v1 + 336);
  v5 = *(_DWORD *)(v1 + 340) + 59376;
  *(_DWORD *)(v1 + 344) = 0;
  sub_100282D0(v5, v4);
  v6 = *(_DWORD *)(v1 + 332);
  v13 = -1;
  if ( !(v6 & 0x20000000) )
  {
    v7 = 0;
    if ( 8 * v6 > 0 )
    {
      do
        ++v7;
      while ( v7 < 8 * *(_DWORD *)(v1 + 332) >> 3 );
    }
    if ( *(_DWORD *)(v1 + 328) )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)(v1 + 328));
  }
  v8 = *(_DWORD *)(v1 + 332);
  *(_DWORD *)(v1 + 328) = 0;
  result = v8 & 0xE0000000;
  *(_DWORD *)(v1 + 332) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002D2C1) --------------------------------------------------------
void __usercall sub_1002D2C1(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002D2D5) --------------------------------------------------------
void __cdecl sub_1002D2D5()
{
  appUnwindf("%s", off_10080238[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080238: using guessed type char *off_10080238[9];

//----- (1002D300) --------------------------------------------------------
int __thiscall sub_1002D300(void *this, int a2)
{
  int v2; // ebx@1
  int v3; // edi@1
  int v4; // esi@1
  int i; // eax@4
  char v6; // cl@5
  int v7; // eax@9
  int v8; // eax@10
  char v9; // al@13
  int v11; // [sp+0h] [bp-4Ch]@1
  char v12; // [sp+Ch] [bp-40h]@10
  char v13; // [sp+14h] [bp-38h]@9
  char v14; // [sp+1Ch] [bp-30h]@9
  char v15; // [sp+24h] [bp-28h]@9
  void *v16; // [sp+34h] [bp-18h]@1
  int v17; // [sp+38h] [bp-14h]@1
  int *v18; // [sp+3Ch] [bp-10h]@1
  int v19; // [sp+48h] [bp-4h]@1
  signed int v20; // [sp+54h] [bp+8h]@1

  v2 = a2;
  v3 = 0;
  v16 = this;
  v18 = &v11;
  v19 = 0;
  v17 = 0;
  v4 = FString::operator_(a2);
  v20 = 0;
LABEL_2:
  while ( !v20 )
  {
    switch ( *(_BYTE *)(v4 + v3) )
    {
      case 123:
        for ( i = v3; ; ++i )
        {
          v6 = *(_BYTE *)(i + v4);
          if ( v6 == 125 )
            break;
          if ( !v6 )
            break;
        }
        if ( *(_BYTE *)(i + v4) )
        {
          v7 = FString::Mid(v2, &v13, v3, i - v3 + 1);
          LOBYTE(v19) = 1;
          TArray<char>::TArray<char>(&v14, v7, 0);
          LOBYTE(v19) = 3;
          FStringTemp::_FStringTemp(&v13);
          FString::FString(&v15);
          LOBYTE(v19) = 4;
          if ( sub_1002C630((int)&v14, (int)&v15) )
          {
            v8 = FString::Substitute(v2, &v12, &v14, &v15);
            LOBYTE(v19) = 5;
            TArray<char>::operator_(v2, v8);
            LOBYTE(v19) = 4;
            FStringTemp::_FStringTemp(&v12);
            v4 = FString::operator_(v2);
            v17 = 1;
          }
          LOBYTE(v19) = 3;
          FString::_FString(&v15);
          LOBYTE(v19) = 0;
          FString::_FString(&v14);
        }
        goto LABEL_12;
      default:
LABEL_12:
        ++v3;
        goto LABEL_2;
      case 47:
      case 59:
        break;
      case 0:
        goto LABEL_15;
    }
    while ( 1 )
    {
      v9 = *(_BYTE *)(v4 + v3);
      if ( v9 == 10 )
        break;
      if ( !v9 )
      {
LABEL_15:
        v20 = 1;
        goto LABEL_2;
      }
      ++v3;
    }
  }
  return v17;
}
// 1006F0D8: using guessed type int __thiscall TArray_char___operator_(_DWORD, _DWORD);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F274: using guessed type int __thiscall FString__Mid(_DWORD, _DWORD, _DWORD, _DWORD);
// 1006F284: using guessed type int __thiscall FString__Substitute(_DWORD, _DWORD, _DWORD, _DWORD);
// 1006F288: using guessed type int __thiscall FString__FString(_DWORD);
// 1006F294: using guessed type int __thiscall TArray_char___TArray_char_(_DWORD, _DWORD, _DWORD);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002D464) --------------------------------------------------------
void __usercall sub_1002D464(int a1<ebp>)
{
  *(_DWORD *)(a1 - 28) = *(_DWORD *)(a1 - 32);
  CxxThrowException(a1 - 28, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002D478) --------------------------------------------------------
void __cdecl sub_1002D478()
{
  appUnwindf("%s", off_1008023C[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 1008023C: using guessed type char *off_1008023C[8];

//----- (1002D5E0) --------------------------------------------------------
int __thiscall sub_1002D5E0(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1002CFE0(this);
  if ( a2 & 1 )
    (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v2);
  return v2;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002D610) --------------------------------------------------------
int __thiscall sub_1002D610(void *this, int a2, int a3)
{
  int v3; // eax@1
  void *v4; // ebx@1
  int v5; // eax@1
  int v6; // edx@3
  int v7; // eax@3
  int v8; // ecx@3
  unsigned int v9; // edi@3
  int v10; // eax@4
  int v11; // ecx@4
  int v12; // ecx@6
  int v13; // eax@8
  int v14; // ecx@8
  int v15; // eax@9
  int v16; // ecx@9
  signed int v17; // esi@9
  unsigned __int64 v18; // qax@9
  unsigned __int64 v19; // qax@9
  int v20; // ST00_4@9
  signed int v21; // eax@9
  int v22; // eax@10
  int v23; // eax@10
  unsigned __int64 v24; // qax@11
  unsigned __int64 v25; // qax@11
  int v26; // eax@11
  const void *v27; // edi@11
  int v28; // eax@13
  int i; // edx@13
  signed int v30; // eax@16
  int v31; // edi@18
  int v32; // edx@18
  char v33; // dl@18
  void *v34; // edi@18
  unsigned int v35; // ecx@18
  int v36; // edi@18
  int j; // ecx@18
  signed int v38; // eax@24
  int v39; // eax@25
  int v40; // eax@25
  int v41; // eax@26
  int v43; // [sp+0h] [bp-44h]@1
  char v44; // [sp+10h] [bp-34h]@25
  void *v45; // [sp+14h] [bp-30h]@9
  int v46; // [sp+1Ch] [bp-28h]@3
  int v47; // [sp+20h] [bp-24h]@9
  char v48; // [sp+24h] [bp-20h]@10
  int v49; // [sp+28h] [bp-1Ch]@3
  int v50; // [sp+2Ch] [bp-18h]@3
  void *v51; // [sp+30h] [bp-14h]@9
  int *v52; // [sp+34h] [bp-10h]@1
  int v53; // [sp+40h] [bp-4h]@1

  v3 = *(_DWORD *)a2;
  v4 = this;
  v52 = &v43;
  v53 = 0;
  v5 = (*(int (__thiscall **)(int))(v3 + 20))(a2);
  if ( v5 < 0 )
    v5 = -v5;
  v6 = *(_DWORD *)a2;
  v50 = v5;
  v7 = (*(int (__thiscall **)(int))(v6 + 16))(a2);
  v8 = *((_DWORD *)v4 + 14);
  v9 = v7;
  v46 = v7;
  v49 = 4096;
  if ( v50 > v8 )
  {
    sub_1002A5F0(v4, v50);
    v10 = *((_DWORD *)v4 + 1);
    v11 = *(_DWORD *)(v10 + 65656) + 1;
    v49 = 8192;
    *(_DWORD *)(v10 + 65656) = v11;
  }
  if ( (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 20))(a2) < 0
    || (v12 = v9 + *((_DWORD *)v4 + 16), v12 + v50 > *((_DWORD *)v4 + 14))
    || (v12 + v50) / v9 > *(_DWORD *)(*((_DWORD *)v4 + 1) + 16908) )
  {
    v13 = *((_DWORD *)v4 + 1) + 65652;
    *((_DWORD *)v4 + 16) = 0;
    v14 = *(_DWORD *)(v13 + 4) + 1;
    v49 = 8192;
    *(_DWORD *)(v13 + 4) = v14;
  }
  v15 = (signed int)(*((_DWORD *)v4 + 16) + v9 - 1) / (signed int)v9;
  v16 = *((_DWORD *)v4 + 1);
  v51 = 0;
  v16 += 65612;
  v17 = v9 * v15;
  v47 = v9 * v15;
  v18 = __rdtsc();
  qword_100845C4 = v18;
  *(_DWORD *)FClock::CurStat += v18 - 12;
  v45 = FClock::CurStat;
  FClock::CurStat = (void *)v16;
  v19 = __rdtsc();
  qword_100845C4 = v19;
  *(_DWORD *)v16 -= v19;
  ++*(_DWORD *)(v16 + 4);
  HIDWORD(v19) = **((_DWORD **)v4 + *((_DWORD *)v4 + 17) + 12);
  v20 = *((_DWORD *)v4 + *((_DWORD *)v4 + 17) + 12);
  LOBYTE(v53) = 1;
  v21 = (*(int (__stdcall **)(int, signed int, int, void **, int))(HIDWORD(v19) + 44))(v20, v17, v50, &v51, v49);
  if ( v21 < 0 )
  {
    v22 = sub_10001020((int)&v48, v21);
    LOBYTE(v53) = 2;
    v23 = FString::operator_(v22);
    FOutputDevice::Logf(GError, "IDirect3DVertexBuffer8::Lock failed(%s).", v23);
    LOBYTE(v53) = 1;
    FString::_FString(&v48);
  }
  LOBYTE(v53) = 0;
  v24 = __rdtsc();
  qword_100845C4 = v24;
  *(_DWORD *)FClock::CurStat += v24 - 12;
  v25 = __rdtsc();
  qword_100845C4 = v25;
  *(_DWORD *)FClock::CurStat -= v25;
  v26 = *((_DWORD *)v4 + 1);
  v27 = v51;
  if ( *(_DWORD *)(v26 + 16660) )
  {
    if ( v50 + 4 > 8 * *(_DWORD *)(v26 + 59372) >> 3 )
    {
      v28 = v26 + 59368;
      for ( i = 0; i < 8 * *(_DWORD *)(v28 + 4) >> 3; ++i )
        ;
      sub_10001DB0(v28, 0, 0);
      v30 = v50;
      if ( v50 < 65535 )
        v30 = 65535;
      v31 = *((_DWORD *)v4 + 1);
      v32 = *(_DWORD *)(v31 + 59372);
      v31 += 59368;
      v49 = 2 * v30;
      sub_10001DB0(v31, 2 * v30 + (8 * v32 >> 3), 0);
      v33 = v49;
      v34 = (void *)((8 * *(_DWORD *)(v31 + 4) >> 3) - v49 + *(_DWORD *)v31);
      v35 = (unsigned int)v49 >> 2;
      memset(v34, 0, 4 * ((unsigned int)v49 >> 2));
      v36 = (int)((char *)v34 + 4 * v35);
      for ( j = v33 & 3; j; --j )
        *(_BYTE *)v36++ = 0;
    }
    *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v4 + 1) + 59368) + v50 + 1) = 52566391;
    v27 = *(const void **)(*((_DWORD *)v4 + 1) + 59368);
  }
  (*(void (__stdcall **)(const void *))(*(_DWORD *)a2 + 36))(v27);
  if ( *(_DWORD *)(*((_DWORD *)v4 + 1) + 16660) )
  {
    memcpy(v51, v27, v50);
    v17 = v47;
  }
  v38 = (*(int (__stdcall **)(_DWORD))(**((_DWORD **)v4 + *((_DWORD *)v4 + 17) + 12) + 48))(*((_DWORD *)v4
                                                                                            + *((_DWORD *)v4 + 17)
                                                                                            + 12));
  if ( v38 < 0 )
  {
    v39 = sub_10001020((int)&v44, v38);
    LOBYTE(v53) = 3;
    v40 = FString::operator_(v39);
    FOutputDevice::Logf(GError, "IDirect3DVertexBuffer8::Unlock failed(%s).", v40);
    LOBYTE(v53) = 0;
    FString::_FString(&v44);
  }
  v41 = *((_DWORD *)v4 + 17);
  *((_DWORD *)v4 + 16) = v17 + v50;
  *(_DWORD *)a3 = v41;
  return v17 / v46;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F1D0: using guessed type void *FClock__CurStat;
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 100845C4: using guessed type __int64 qword_100845C4;

//----- (1002D956) --------------------------------------------------------
void __usercall sub_1002D956(int a1<ebp>)
{
  *(_DWORD *)(a1 - 44) = *(_DWORD *)(a1 - 56);
  CxxThrowException(a1 - 44, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002D96A) --------------------------------------------------------
void __cdecl sub_1002D96A()
{
  appUnwindf("%s", off_10080240[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080240: using guessed type char *off_10080240[7];

//----- (1002D990) --------------------------------------------------------
int __thiscall sub_1002D990(void *this, int a2)
{
  int v2; // eax@1
  void *v3; // ebx@1
  int v4; // eax@1
  int v5; // edx@1
  signed int v6; // edi@1
  signed int v7; // eax@1
  signed int v8; // ecx@1
  int v9; // eax@5
  int v10; // ST04_4@5
  int v11; // esi@5
  signed int v12; // eax@5
  int v13; // eax@6
  int v14; // eax@6
  int v15; // eax@7
  const void *v16; // esi@7
  int v17; // eax@9
  int i; // edx@9
  int v19; // esi@14
  int v20; // edx@14
  unsigned int v21; // edi@14
  char v22; // dl@14
  void *v23; // esi@14
  int v24; // edi@14
  int j; // ecx@14
  signed int v26; // eax@21
  int v27; // eax@22
  int v28; // eax@22
  signed int v29; // eax@23
  int v31; // [sp+0h] [bp-40h]@1
  char v32; // [sp+Ch] [bp-34h]@6
  int v33; // [sp+20h] [bp-20h]@1
  int v34; // [sp+24h] [bp-1Ch]@5
  int v35; // [sp+28h] [bp-18h]@1
  void *v36; // [sp+2Ch] [bp-14h]@5
  int *v37; // [sp+30h] [bp-10h]@1
  int v38; // [sp+3Ch] [bp-4h]@1

  v2 = *(_DWORD *)a2;
  v3 = this;
  v38 = 0;
  v37 = &v31;
  LOBYTE(v38) = 1;
  v4 = (*(int (__thiscall **)(int))(v2 + 16))(a2);
  v5 = *(_DWORD *)a2;
  v6 = v4;
  v35 = v4;
  v33 = (*(int (__thiscall **)(int))(v5 + 24))(a2);
  v7 = *((_DWORD *)v3 + 13);
  v38 = 0;
  v8 = 4096;
  if ( v6 > v7 )
  {
    sub_1002A880(v3, v6);
    v8 = 8192;
  }
  if ( v6 + *((_DWORD *)v3 + 14) > *((_DWORD *)v3 + 13) )
  {
    *((_DWORD *)v3 + 14) = 0;
    v8 = 8192;
  }
  v9 = *((_DWORD *)v3 + 12);
  v10 = *((_DWORD *)v3 + 14);
  v36 = 0;
  v11 = *(_DWORD *)v9;
  v34 = v10;
  v12 = (*(int (__stdcall **)(int, int, signed int, void **, signed int))(v11 + 44))(v9, v10, v6, &v36, v8);
  if ( v12 < 0 )
  {
    v13 = sub_10001020((int)&v32, v12);
    LOBYTE(v38) = 3;
    v14 = FString::operator_(v13);
    FOutputDevice::Logf(GError, "IDirect3DIndexBuffer8::Lock failed(%s).", v14);
    LOBYTE(v38) = 0;
    FString::_FString(&v32);
  }
  v15 = *((_DWORD *)v3 + 1);
  v16 = v36;
  if ( *(_DWORD *)(v15 + 16660) )
  {
    if ( v6 + 4 > 8 * *(_DWORD *)(v15 + 59372) >> 3 )
    {
      v17 = v15 + 59368;
      for ( i = 0; i < 8 * *(_DWORD *)(v17 + 4) >> 3; ++i )
        ;
      sub_10001DB0(v17, 0, 0);
      if ( v6 < 65535 )
        v6 = 65535;
      v19 = *((_DWORD *)v3 + 1);
      v20 = *(_DWORD *)(v19 + 59372);
      v19 += 59368;
      v21 = 2 * v6;
      sub_10001DB0(v19, v21 + (8 * v20 >> 3), 0);
      v22 = v21;
      v23 = (void *)((8 * *(_DWORD *)(v19 + 4) >> 3) - v21 + *(_DWORD *)v19);
      memset(v23, 0, 4 * (v21 >> 2));
      v24 = (int)((char *)v23 + 4 * (v21 >> 2));
      for ( j = v22 & 3; j; --j )
        *(_BYTE *)v24++ = 0;
      v6 = v35;
    }
    *(_DWORD *)(*(_DWORD *)(*((_DWORD *)v3 + 1) + 59368) + v6 + 1) = 52566391;
    v16 = *(const void **)(*((_DWORD *)v3 + 1) + 59368);
  }
  (*(void (__stdcall **)(const void *))(*(_DWORD *)a2 + 20))(v16);
  if ( *(_DWORD *)(*((_DWORD *)v3 + 1) + 16660) )
  {
    memcpy(v36, v16, v6);
    v6 = v35;
  }
  v26 = (*(int (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 12) + 48))(*((_DWORD *)v3 + 12));
  if ( v26 < 0 )
  {
    v27 = sub_10001020((int)&v32, v26);
    LOBYTE(v38) = 4;
    v28 = FString::operator_(v27);
    FOutputDevice::Logf(GError, "IDirect3DIndexBuffer8::Unlock failed(%s).", v28);
    LOBYTE(v38) = 0;
    FString::_FString(&v32);
  }
  v29 = v34;
  *((_DWORD *)v3 + 14) = v34 + v6;
  return v29 / v33;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002DBB1) --------------------------------------------------------
void __usercall sub_1002DBB1(int a1<ebp>)
{
  *(_DWORD *)(a1 - 36) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 36, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002DC80) --------------------------------------------------------
int __thiscall sub_1002DC80(void *this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // eax@1
  int v5; // edx@1
  int v6; // eax@1
  int v7; // edx@1
  int v8; // eax@1
  signed int v9; // edi@2
  int v10; // eax@8
  int v11; // edx@8
  int v12; // ebx@8
  int v13; // eax@8
  int v14; // eax@8
  signed int v15; // edx@8
  signed int v16; // eax@8
  int v17; // ecx@10
  int v18; // eax@15
  int v19; // eax@16
  int v20; // ecx@22
  int v21; // esi@22
  signed int v22; // eax@24
  int v23; // eax@34
  int v24; // eax@34
  int v25; // eax@36
  signed int v26; // edi@42
  int v27; // ecx@60
  int v28; // esi@61
  int v29; // eax@61
  int v30; // edx@62
  signed int v31; // ebx@66
  signed int v32; // ecx@68
  int v33; // eax@74
  int v34; // ebx@74
  int v35; // esi@74
  int v36; // eax@74
  signed int v37; // eax@85
  int v38; // eax@86
  int i; // eax@87
  int k; // eax@92
  int v41; // edi@95
  signed int v42; // eax@95
  int v43; // eax@96
  int v44; // eax@96
  int v45; // ebx@97
  int v46; // esi@97
  int v47; // edx@101
  int v48; // edi@101
  int v49; // eax@102
  int v50; // eax@109
  int v51; // edi@111
  int v52; // esi@111
  int m; // ebx@113
  int v54; // eax@115
  int j; // ebx@119
  int v56; // edx@121
  int v57; // eax@121
  int v58; // esi@121
  int v59; // eax@121
  int v60; // edi@121
  bool v61; // zf@121
  int v62; // edx@122
  int v63; // eax@122
  int v64; // edx@122
  int v65; // eax@122
  signed int v66; // eax@122
  int v67; // eax@123
  int v68; // eax@123
  int v69; // ebx@126
  int v70; // eax@129
  int v71; // ebx@129
  int v72; // eax@129
  signed int v73; // edx@139
  signed int v74; // esi@139
  int v75; // eax@142
  int v76; // ecx@143
  signed int v77; // eax@145
  int v78; // eax@146
  int v79; // eax@146
  signed int ii; // edi@153
  int v81; // ebx@155
  int v82; // esi@156
  signed int v83; // eax@156
  int v84; // eax@157
  int v85; // eax@157
  int v86; // esi@164
  int v87; // eax@164
  int v88; // ebx@164
  int v89; // eax@176
  signed int v90; // eax@183
  int v91; // eax@184
  int v92; // eax@184
  int v93; // esi@187
  int v94; // eax@187
  int v95; // ebx@187
  int v96; // edi@194
  int v97; // eax@197
  int v98; // eax@206
  int v99; // eax@208
  int v100; // eax@210
  int v101; // ebx@213
  int v102; // ecx@214
  int v103; // esi@214
  void *v104; // ecx@221
  int v105; // eax@221
  int v106; // esi@221
  int v107; // eax@223
  int v108; // edx@223
  int v109; // esi@224
  int v110; // eax@224
  int v111; // eax@224
  int v112; // eax@224
  int v113; // ebx@227
  int v114; // eax@227
  int v115; // eax@230
  signed int v116; // eax@238
  int v117; // eax@239
  int v118; // eax@239
  int jj; // ebx@240
  int v120; // edx@242
  int v121; // edi@242
  int v122; // esi@242
  int v123; // ST0C_4@242
  signed int v124; // eax@242
  int v125; // eax@243
  int v126; // eax@243
  int v127; // ebx@253
  int v128; // eax@266
  int v129; // ecx@266
  const void *v130; // esi@267
  const void *v131; // edi@267
  int ll; // ebx@270
  int v133; // eax@272
  __int16 v134; // ax@272
  int v135; // edx@272
  int v136; // eax@278
  int v137; // ebx@283
  int v138; // eax@287
  int v139; // edx@287
  void *v140; // eax@288
  const void *v141; // edx@288
  void *v142; // edi@290
  const void *v143; // esi@290
  char v144; // cl@290
  int v145; // eax@291
  int v146; // eax@293
  int v147; // ecx@296
  int v148; // eax@298
  int v149; // eax@299
  int v150; // eax@299
  int v151; // eax@299
  int v152; // eax@300
  int v153; // eax@301
  int v154; // esi@301
  char v155; // al@301
  int v156; // ecx@301
  int v157; // edx@301
  int v158; // eax@301
  int v159; // ecx@301
  int v160; // edx@301
  int result; // eax@301
  void *v162; // [sp-10h] [bp-B8h]@34
  int v163; // [sp-Ch] [bp-B4h]@34
  int v164; // [sp+0h] [bp-A8h]@1
  char v165; // [sp+10h] [bp-98h]@272
  int v166; // [sp+14h] [bp-94h]@122
  int v167; // [sp+18h] [bp-90h]@122
  int v168; // [sp+1Ch] [bp-8Ch]@122
  int v169; // [sp+20h] [bp-88h]@122
  int v170; // [sp+28h] [bp-80h]@65
  int v171; // [sp+2Ch] [bp-7Ch]@65
  char v172; // [sp+30h] [bp-78h]@96
  char v173; // [sp+34h] [bp-74h]@278
  int v174; // [sp+38h] [bp-70h]@245
  int v175; // [sp+3Ch] [bp-6Ch]@129
  int v176; // [sp+40h] [bp-68h]@1
  int kk; // [sp+44h] [bp-64h]@268
  int v178; // [sp+48h] [bp-60h]@101
  int v179; // [sp+4Ch] [bp-5Ch]@230
  int v180; // [sp+50h] [bp-58h]@8
  int v181; // [sp+54h] [bp-54h]@86
  int v182; // [sp+58h] [bp-50h]@97
  const void *v183; // [sp+5Ch] [bp-4Ch]@214
  int v184; // [sp+60h] [bp-48h]@97
  int v185; // [sp+64h] [bp-44h]@8
  int v186; // [sp+68h] [bp-40h]@1
  int v187; // [sp+6Ch] [bp-3Ch]@2
  int v188; // [sp+70h] [bp-38h]@65
  int v189; // [sp+74h] [bp-34h]@65
  int l; // [sp+78h] [bp-30h]@60
  int v191; // [sp+7Ch] [bp-2Ch]@1
  int v192; // [sp+80h] [bp-28h]@60
  int v193; // [sp+84h] [bp-24h]@8
  int v194; // [sp+88h] [bp-20h]@1
  int n; // [sp+8Ch] [bp-1Ch]@8
  int v196; // [sp+90h] [bp-18h]@1
  int v197; // [sp+94h] [bp-14h]@1
  int *v198; // [sp+98h] [bp-10h]@1
  int v199; // [sp+A4h] [bp-4h]@1

  v2 = a2;
  v3 = *(_DWORD *)a2;
  v197 = (int)this;
  v198 = &v164;
  v199 = 0;
  v176 = 0;
  v4 = (*(int (__thiscall **)(int))(v3 + 44))(a2);
  v5 = *(_DWORD *)a2;
  v194 = v4;
  v191 = (*(int (__thiscall **)(int))(v5 + 36))(a2);
  v6 = (*(int (__thiscall **)(int))(*(_DWORD *)v2 + 40))(v2);
  v7 = *(_DWORD *)a2;
  v196 = v6;
  v186 = (*(int (__thiscall **)(int))(v7 + 48))(a2);
  v8 = (*(int (__thiscall **)(int))(*(_DWORD *)v2 + 52))(v2);
  if ( v8 )
  {
    if ( v8 == 10 )
    {
      v187 = 5;
      v9 = 5;
    }
    else
    {
      v9 = 5;
      if ( v8 != 1 )
        v9 = v8;
      v187 = v9;
    }
  }
  else
  {
    v187 = 5;
    v9 = 5;
  }
  v180 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 28))(a2);
  v10 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 20))(a2);
  v11 = *(_DWORD *)a2;
  v193 = v10;
  v12 = (*(int (__thiscall **)(int))(v11 + 24))(a2);
  v13 = *(_DWORD *)a2;
  n = v12;
  v14 = (*(int (__thiscall **)(int))(v13 + 32))(a2);
  v15 = v196;
  v185 = v14;
  v16 = v191;
  if ( v191 > v196 )
    v16 = v196;
  v17 = 0;
  while ( v16 > 0 )
  {
    v16 >>= 1;
    ++v17;
  }
  if ( v186 > v17 )
    v186 = v17;
  v18 = *(_DWORD *)(*(_DWORD *)(v197 + 4) + 18068);
  if ( v18 )
    v19 = *(_DWORD *)(v18 + 396);
  else
    v19 = 0;
  if ( GIsEditor || v19 || !UTexture::__Client || !*((_DWORD *)UTexture::__Client + 22) )
    goto LABEL_38;
  v20 = v194;
  v21 = 0;
  while ( v20 < v186 )
  {
    v22 = (v191 >> v20) * (v15 >> v20);
    switch ( v9 )
    {
      case 3:
        v15 = v196;
        v21 += v22 / 2;
        ++v20;
        break;
      case 1:
      case 5:
      case 13:
      case 15:
        v15 = v196;
        v21 += 4 * v22;
        ++v20;
        break;
      case 2:
      case 10:
      case 12:
      case 14:
        v15 = v196;
        v21 += 2 * v22;
        ++v20;
        break;
      case 4:
        v15 = v196;
        v21 += 3 * v22;
        ++v20;
        break;
      default:
        v22 = 0;
        goto LABEL_30;
      case 0:
      case 7:
      case 8:
      case 9:
LABEL_30:
        v15 = v196;
        v21 += v22;
        ++v20;
        break;
    }
  }
  if ( v180 )
  {
    ((void (__cdecl *)(void *, _DWORD))FOutputDevice::Logf)(GLog, "Uploading Lightmap!!!");
LABEL_38:
    if ( v193 && !*(_DWORD *)(*(_DWORD *)(v197 + 4) + 72) )
    {
      n = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v193 + 68))(0);
      v193 = 0;
    }
    goto LABEL_41;
  }
  if ( v193 )
  {
    v23 = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v193 + 68))(0);
    v24 = (*(int (__thiscall **)(int))(*(_DWORD *)v23 + 76))(v23);
    UObject::GetPathName(v24, 0, 0);
    v163 = (int)"Uploading Cubemap: Texture=[%s], Size=[%i]";
    v162 = GLog;
LABEL_37:
    ((void (__cdecl *)(void *, int))FOutputDevice::Logf)(v162, v163);
    goto LABEL_38;
  }
  if ( v12 )
  {
    v25 = (*(int (__thiscall **)(int))(*(_DWORD *)v12 + 76))(v12);
    UObject::GetPathName(v25, 0, 0);
    v163 = (int)"Uploading Texture: Texture=[%s], Size=[%i]";
    v162 = GLog;
    goto LABEL_37;
  }
LABEL_41:
  switch ( v9 )
  {
    case 5:
      v26 = (*(int (__stdcall **)(signed int))(**(_DWORD **)(v197 + 4) + 236))(5) != 0 ? 21 : 26;
      break;
    case 3:
      v26 = 827611204;
      break;
    case 7:
      v26 = 861165636;
      break;
    case 8:
      v26 = 894720068;
      break;
    case 9:
      v26 = 50;
      break;
    case 12:
      v26 = 60;
      break;
    case 14:
      v26 = 61;
      break;
    case 15:
      v26 = 62;
      break;
    case 13:
      v26 = (*(int (__stdcall **)(signed int))(**(_DWORD **)(v197 + 4) + 236))(5) != 0 ? 21 : 26;
      break;
    default:
      v26 = 0;
      break;
  }
  v27 = v194;
  v192 = v26;
  l = 0;
  while ( 1 )
  {
    v28 = *(_DWORD *)(v197 + 4);
    v29 = *(_DWORD *)(v28 + 16812);
    if ( v191 >> v27 <= v29 )
      break;
LABEL_303:
    ++v27;
    v194 = v27;
    if ( v27 >= v186 )
      l = 1;
  }
  v30 = *(_DWORD *)(v28 + 16816);
  if ( v196 >> v27 > v30 )
  {
    v27 = v194;
    goto LABEL_303;
  }
  if ( l )
    v194 = 0;
  v189 = v191 >> v194;
  v170 = 1;
  v171 = 1;
  v188 = v196 >> v194;
  if ( l )
  {
    v31 = v189;
    if ( v189 > v29 )
    {
      v31 = v29;
      v189 = v29;
    }
    v32 = v188;
    if ( v188 > v30 )
    {
      v32 = v30;
      v188 = v30;
    }
    v170 = v191 / v31;
    v30 = v196 % v32;
    v171 = v196 / v32;
  }
  if ( !v188 || !v189 )
  {
    if ( (*(int (__fastcall **)(int, int))(*(_DWORD *)a2 + 24))(a2, v30) )
    {
      v148 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 24))(a2);
      if ( (*(int (__thiscall **)(int))(*(_DWORD *)v148 + 76))(v148) )
      {
        v149 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 24))(a2);
        v150 = (*(int (__thiscall **)(int))(*(_DWORD *)v149 + 76))(v149);
        v151 = UObject::GetFullName(v150, 0);
        FOutputDevice::Logf(GLog, "ERROR! ZERO USIZE OR VSIZE ON TEXTURE: %s", v151);
      }
    }
    v152 = v197;
    *(_DWORD *)(v197 + 60) = 0;
    *(_DWORD *)(v152 + 56) = 0;
    goto LABEL_301;
  }
  if ( v180 )
  {
    v33 = (*(int (__fastcall **)(int, int))(*(_DWORD *)v180 + 64))(v180, v30);
    v34 = v197;
    v35 = v197 + 56;
    v193 = v33;
    v36 = *(_DWORD *)(v197 + 56);
    if ( !v36 )
      goto LABEL_82;
    if ( *(_DWORD *)(v197 + 64) != v189
      || *(_DWORD *)(v197 + 68) != v188
      || *(_DWORD *)(v197 + 72)
      || *(_DWORD *)(v197 + 76) != 1
      || *(_DWORD *)(v197 + 80) != v26 )
    {
      if ( v36 )
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v36 + 8))(*(_DWORD *)(v197 + 56));
LABEL_82:
      if ( v187 == 5 && !(*(int (__stdcall **)(signed int))(**(_DWORD **)(v34 + 4) + 236))(5) )
      {
        v26 = 23;
        v192 = 23;
      }
      v37 = (*(int (__stdcall **)(_DWORD, int, int, signed int, _DWORD, signed int, signed int, int))(**(_DWORD **)(*(_DWORD *)(v34 + 4) + 18100) + 80))(
              *(_DWORD *)(*(_DWORD *)(v34 + 4) + 18100),
              v189,
              v188,
              1,
              0,
              v26,
              1,
              v35);
      if ( v37 < 0 )
      {
        v38 = sub_10001020((int)&v181, v37);
        LOBYTE(v199) = 1;
        FString::operator_(v38);
        FOutputDevice::Logf(GError, "CreateTexture failed(%s).");
        LOBYTE(v199) = 0;
        FString::_FString(&v181);
      }
      for ( i = 0; i < 8 * *(_DWORD *)(v34 + 88) >> 3; ++i )
        ;
      sub_1002CC50(v34 + 84, 0, v193);
    }
    if ( 8 * *(_DWORD *)(v34 + 88) >> 3 == v193 )
    {
      for ( j = 0; j < v193; ++j )
      {
        v56 = *(_DWORD *)v180;
        l = 0;
        v185 = 0;
        v57 = (*(int (__stdcall **)(int, int *, int *))(v56 + 68))(j, &l, &v185);
        v58 = v57;
        v59 = (*(int (__thiscall **)(int))(*(_DWORD *)v57 + 4))(v57);
        v60 = v197;
        v61 = *(_DWORD *)(*(_DWORD *)(v197 + 84) + 4 * j) == v59;
        v178 = v59;
        if ( !v61 )
        {
          v166 = l;
          v62 = *(_DWORD *)v58;
          v167 = v185;
          v63 = (*(int (__thiscall **)(int))(v62 + 36))(v58);
          v64 = *(_DWORD *)v58;
          v168 = l + v63;
          v65 = (*(int (__thiscall **)(int))(v64 + 40))(v58);
          v169 = v185 + v65;
          v66 = (*(int (__stdcall **)(_DWORD, _DWORD, int *, int *, _DWORD))(**(_DWORD **)(v60 + 56) + 64))(
                  *(_DWORD *)(v60 + 56),
                  0,
                  &v181,
                  &v166,
                  0);
          if ( v66 < 0 )
          {
            v67 = sub_10001020((int)&v172, v66);
            LOBYTE(v199) = 3;
            v68 = FString::operator_(v67);
            FOutputDevice::Logf(GError, "LockRect failed(%s).", v68);
            LOBYTE(v199) = 0;
            FString::_FString(&v172);
          }
          (*(void (__thiscall **)(int, _DWORD, int, int, int, _DWORD, signed int))(*(_DWORD *)v58 + 68))(
            v58,
            0,
            v182,
            v181,
            v187,
            0,
            1);
          (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v60 + 56) + 68))(*(_DWORD *)(v60 + 56), 0);
          *(_DWORD *)(*(_DWORD *)(v60 + 84) + 4 * j) = v178;
        }
      }
    }
    else
    {
      for ( k = 0; k < 8 * *(_DWORD *)(v34 + 88) >> 3; ++k )
        ;
      v41 = v193;
      sub_1002CC50(v34 + 84, 0, v193);
      sub_1002CC50(v34 + 84, v41 + (8 * *(_DWORD *)(v34 + 88) >> 3), 0);
      memset((void *)(*(_DWORD *)(v34 + 84) + 4 * ((8 * *(_DWORD *)(v34 + 88) >> 3) - v41)), 0, 4 * v41);
      v42 = (*(int (__stdcall **)(_DWORD, _DWORD, int *, _DWORD, _DWORD))(**(_DWORD **)(v34 + 56) + 64))(
              *(_DWORD *)(v34 + 56),
              0,
              &v181,
              0,
              0);
      if ( v42 < 0 )
      {
        v43 = sub_10001020((int)&v172, v42);
        LOBYTE(v199) = 2;
        v44 = FString::operator_(v43);
        FOutputDevice::Logf(GError, "LockRect failed(%s).", v44);
        LOBYTE(v199) = 0;
        FString::_FString(&v172);
      }
      v45 = v182;
      v46 = v181;
      v184 = v182;
      if ( v192 == 23 )
      {
        v46 = 4 * v191;
        v45 = (*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(v196 * 4 * v191);
        v184 = v45;
      }
      for ( l = 0; l < v193; l = v50 + 1 )
      {
        v47 = *(_DWORD *)v180;
        v196 = 0;
        v191 = 0;
        v48 = (*(int (__stdcall **)(int, int *, int *))(v47 + 68))(l, &v196, &v191);
        v178 = (*(int (__thiscall **)(int))(*(_DWORD *)v48 + 4))(v48);
        switch ( v187 )
        {
          case 3:
            v49 = v45 + v46 * v191 / 4 + 2 * v196;
            break;
          case 7:
          case 8:
            v49 = v45 + v46 * v191 / 4 + 4 * v196;
            break;
          case 1:
          case 5:
          case 13:
          case 15:
            v49 = v45 + v46 * v191 + 4 * v196;
            break;
          case 4:
          case 11:
            v49 = v45 + v46 * v191 + 3 * v196;
            break;
          case 2:
          case 10:
          case 12:
          case 14:
            v49 = v45 + v46 * v191 + 2 * v196;
            break;
          case 0:
          case 9:
            v49 = v45 + v196 + v46 * v191;
            break;
          default:
            v49 = v45;
            break;
        }
        (*(void (__thiscall **)(int, _DWORD, int, int, int, _DWORD, signed int))(*(_DWORD *)v48 + 68))(
          v48,
          0,
          v49,
          v46,
          v187,
          0,
          1);
        v50 = l;
        *(_DWORD *)(*(_DWORD *)(v197 + 84) + 4 * l) = v178;
      }
      if ( v192 == 23 )
      {
        v51 = v182;
        v52 = v45;
        for ( l = 0; l < v188; ++l )
        {
          for ( m = 0; m < v189; ++m )
          {
            v54 = FColor::FColor(&v178, *(_DWORD *)v52);
            *(_WORD *)v51 = FColor::HiColor565(v54);
            v51 += 2;
            v52 += 8;
          }
          v45 = v184;
          v52 += 8 * v189;
        }
        (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v45);
      }
      (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v197 + 56) + 68))(*(_DWORD *)(v197 + 56), 0);
    }
    goto LABEL_301;
  }
  v69 = v193;
  if ( v193 && *(_DWORD *)(v28 + 72) && (*(int (__thiscall **)(int, int))(*(_DWORD *)v28 + 236))(v28, v187) )
  {
    v70 = (*(int (__thiscall **)(int))(*(_DWORD *)v69 + 64))(v69);
    v71 = v197;
    v178 = v70;
    v175 = v197 + 60;
    v72 = *(_DWORD *)(v197 + 60);
    if ( !v72 )
      goto LABEL_137;
    if ( *(_DWORD *)(v197 + 64) != v189
      || *(_DWORD *)(v197 + 68) != v188
      || *(_DWORD *)(v197 + 72) != v194
      || *(_DWORD *)(v197 + 76) != v186
      || *(_DWORD *)(v197 + 80) != v26 )
    {
      if ( v72 )
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v72 + 8))(*(_DWORD *)(v197 + 60));
LABEL_137:
      if ( v191 != v196 )
        FOutputDevice::Logf(GError, "Cubemaps must be square");
      v73 = 0;
      v74 = 1;
      if ( v178 && !*(_BYTE *)(v178 + 384) )
      {
        v73 = 1;
        v74 = 0;
      }
      v75 = *(_DWORD *)(v71 + 4);
      if ( *(_DWORD *)(v75 + 16616) )
        v76 = v186 - v194;
      else
        v76 = 1;
      v77 = (*(int (__stdcall **)(_DWORD, int, int, signed int, int, signed int, int))(**(_DWORD **)(v75 + 18100) + 88))(
              *(_DWORD *)(v75 + 18100),
              v189,
              v76,
              v73,
              v192,
              v74,
              v175);
      if ( v77 < 0 )
      {
        v78 = sub_10001020((int)&v181, v77);
        LOBYTE(v199) = 4;
        v79 = FString::operator_(v78);
        FOutputDevice::Logf(GError, "CreateCubeTexture failed(%s).", v79);
        LOBYTE(v199) = 0;
        FString::_FString(&v181);
      }
      v71 = v197;
    }
    if ( *(_DWORD *)(*(_DWORD *)(v71 + 4) + 16616) )
      v184 = v186;
    else
      v184 = v194 + 1;
    for ( n = v194; n < v184; ++n )
    {
      for ( ii = 0; ii < 6; ++ii )
      {
        v81 = (*(int (__stdcall **)(signed int))(*(_DWORD *)v193 + 68))(ii);
        if ( v81 )
        {
          v82 = n - v194;
          v83 = (*(int (__stdcall **)(_DWORD, signed int, int, int *, _DWORD, _DWORD))(**(_DWORD **)(v197 + 60) + 64))(
                  *(_DWORD *)(v197 + 60),
                  ii,
                  n - v194,
                  &v181,
                  0,
                  0);
          if ( v83 )
          {
            v84 = sub_10001020((int)&v172, v83);
            LOBYTE(v199) = 5;
            v85 = FString::operator_(v84);
            FOutputDevice::Logf(GError, "LockRect failed(%s).", v85);
            LOBYTE(v199) = 0;
            FString::_FString(&v172);
          }
          (*(void (__thiscall **)(int, int, int, int, int, _DWORD, signed int))(*(_DWORD *)v81 + 68))(
            v81,
            n,
            v182,
            v181,
            v187,
            0,
            1);
          (*(void (__stdcall **)(_DWORD, signed int, int))(**(_DWORD **)(v197 + 60) + 68))(
            *(_DWORD *)(v197 + 60),
            ii,
            v82);
        }
      }
    }
    goto LABEL_301;
  }
  if ( !v185 )
  {
    v101 = n;
    if ( !n )
    {
      v147 = v197;
      *(_DWORD *)(v197 + 60) = 0;
      *(_DWORD *)(v147 + 56) = 0;
      goto LABEL_301;
    }
    v102 = *(_DWORD *)(v197 + 4);
    v103 = v187;
    v183 = 0;
    v184 = 0;
    v178 = 0;
    if ( !(*(int (__stdcall **)(int))(*(_DWORD *)v102 + 236))(v187)
      && (v103 == 3 || v103 == 7 || v103 == 8 || *(_DWORD *)(*(_DWORD *)(v197 + 4) + 92)) )
    {
      if ( v103 == 5 )
      {
        v26 = 26;
        v192 = 26;
        if ( l )
        {
          v104 = GMalloc;
          v105 = v196;
          v106 = v191;
        }
        else
        {
          v104 = GMalloc;
          v105 = v188;
          v106 = v189;
        }
        v107 = (*(int (__stdcall **)(int))(*(_DWORD *)v104 + 4))(4 * v106 * v105);
        v108 = *(_DWORD *)v101;
        v183 = (const void *)v107;
        (*(void (__thiscall **)(int, int, int, int, signed int, _DWORD, signed int))(v108 + 68))(
          v101,
          v194,
          v107,
          4 * v106,
          5,
          0,
          1);
        v178 = 1;
      }
      else
      {
        v109 = (*(int (__stdcall **)(signed int))(**(_DWORD **)(v197 + 4) + 236))(3);
        v110 = (*(int (__thiscall **)(int))(*(_DWORD *)v101 + 76))(v101);
        v111 = UTexture::ConvertDXT(v110, v194, v109 == 0, 0, &v183);
        v187 = v111;
        v112 = v111 - 3;
        if ( v112 )
        {
          if ( v112 == 2 )
          {
            v113 = v197;
            v114 = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(v197 + 4) + 236))(5) != 0 ? 0xFFFFFFFB : 0;
            v26 = v114 + 26;
            v192 = v114 + 26;
            v184 = 1;
            goto LABEL_230;
          }
          FOutputDevice::Logf(GError, "ConvertDXT returned unknown texture format");
        }
        else
        {
          v26 = 827611204;
          v192 = 827611204;
          v184 = 0;
        }
      }
    }
    v113 = v197;
LABEL_230:
    v115 = *(_DWORD *)(v113 + 56);
    v179 = v113 + 56;
    if ( v115 )
    {
      if ( *(_DWORD *)(v113 + 64) == v189
        && *(_DWORD *)(v113 + 68) == v188
        && *(_DWORD *)(v113 + 72) == v194
        && *(_DWORD *)(v113 + 76) == v186
        && *(_DWORD *)(v113 + 80) == v26 )
      {
LABEL_240:
        for ( jj = v194; ; jj = v137 + 1 )
        {
          v180 = jj;
          if ( jj >= v186 )
          {
            (*(void (__stdcall **)(const void *))(*(_DWORD *)GMalloc + 12))(v183);
            goto LABEL_301;
          }
          v120 = **(_DWORD **)v179;
          v121 = v189 >> (jj - v194);
          v122 = v188 >> (jj - v194);
          v123 = *(_DWORD *)v179;
          v193 = v189 >> (jj - v194);
          v175 = v188 >> (jj - v194);
          v124 = (*(int (__stdcall **)(int, int, int *, _DWORD, _DWORD))(v120 + 64))(v123, jj - v194, &v181, 0, 0);
          if ( v124 < 0 )
          {
            v125 = sub_10001020((int)&v168, v124);
            LOBYTE(v199) = 8;
            v126 = FString::operator_(v125);
            FOutputDevice::Logf(GError, "LockRect failed(%s).", v126);
            LOBYTE(v199) = 0;
            FString::_FString(&v168);
          }
          if ( v183 )
          {
            v174 = v121;
            v185 = v122;
            if ( v187 != 3 && v187 != 7 && v187 != 8 )
            {
              switch ( v187 )
              {
                case 3:
                  v127 = v193 / 2;
                  break;
                case 1:
                case 5:
                case 13:
                case 15:
                  v127 = 4 * v193;
                  break;
                case 0:
                case 7:
                case 8:
                case 9:
                  v127 = v193;
                  break;
                case 2:
                case 10:
                case 12:
                case 14:
                  v127 = 2 * v193;
                  break;
                case 4:
                  v127 = 3 * v193;
                  break;
                default:
                  v127 = 0;
                  break;
              }
            }
            else
            {
              if ( v121 < 4 )
              {
                v121 = 4;
                v174 = 4;
              }
              if ( v122 < 4 )
                v122 = 4;
              v185 = v122 / 4;
              switch ( v187 )
              {
                case 3:
                  v127 = 4 * v121 / 2;
                  break;
                case 1:
                case 5:
                case 13:
                case 15:
                  v127 = 16 * v121;
                  break;
                case 0:
                case 7:
                case 8:
                case 9:
                  v127 = 4 * v121;
                  break;
                case 2:
                case 10:
                case 12:
                case 14:
                  v127 = 8 * v121;
                  break;
                case 4:
                  v127 = 12 * v121;
                  break;
                default:
                  v127 = 0;
                  break;
              }
            }
            v128 = *(_DWORD *)(*(_DWORD *)(v197 + 4) + 92);
            v129 = 0;
            v196 = v127;
            if ( v128 )
            {
              v130 = v183;
              v127 /= 2;
              v196 = v127;
              v131 = v183;
              if ( l )
              {
                for ( kk = 0; kk < v185; ++kk )
                {
                  for ( ll = 0; ll < v174; ++ll )
                  {
                    v133 = FColor::FColor(&v165, *(_DWORD *)v130);
                    v134 = FColor::HiColor4444(v133);
                    v135 = v170;
                    *(_WORD *)v131 = v134;
                    v131 = (char *)v131 + 2;
                    v130 = (char *)v130 + 4 * v135;
                  }
                  v127 = v196;
                  v130 = (char *)v130 + 4 * v191 * (v171 - 1);
                }
                v129 = 0;
              }
              else
              {
                v179 = 0;
                while ( v179 < v185 )
                {
                  for ( kk = v129; kk < v174; ++kk )
                  {
                    v136 = FColor::FColor(&v173, *(_DWORD *)v130);
                    v130 = (char *)v130 + 4;
                    *(_WORD *)v131 = FColor::HiColor4444(v136);
                    v131 = (char *)v131 + 2;
                  }
                  ++v179;
                  v129 = 0;
                }
              }
            }
            if ( v181 == v127 )
            {
              memcpy((void *)v182, v183, v185 * v127);
            }
            else
            {
              v140 = (void *)v182;
              v141 = v183;
              while ( 1 )
              {
                v179 = v129;
                if ( v129 >= v185 )
                  break;
                memcpy(v140, v141, 4 * ((unsigned int)v127 >> 2));
                v143 = (char *)v141 + 4 * ((unsigned int)v127 >> 2);
                v142 = (char *)v140 + 4 * ((unsigned int)v127 >> 2);
                v144 = v127;
                v127 = v196;
                memcpy(v142, v143, v144 & 3);
                v140 = (char *)v140 + v181;
                v141 = (char *)v141 + v127;
                v129 = v179 + 1;
              }
            }
            v137 = v180;
            v121 = v193;
            v122 = v175;
          }
          else
          {
            v145 = *(_DWORD *)(v197 + 4);
            v137 = v180;
            if ( *(_DWORD *)(v145 + 92) )
              goto LABEL_294;
            (*(void (__thiscall **)(int, int, int, int, int, _DWORD, signed int))(*(_DWORD *)n + 68))(
              n,
              v180,
              v182,
              v181,
              v187,
              v180 >= *(_DWORD *)(v145 + 16688),
              1);
          }
          if ( v183 )
          {
            (*(void (__stdcall **)(const void *))(*(_DWORD *)GMalloc + 12))(v183);
            v183 = 0;
            if ( v137 < v186 - 1 )
            {
              if ( v178 )
              {
                v138 = (*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(4 * v121 * v122);
                v139 = *(_DWORD *)n;
                v183 = (const void *)v138;
                (*(void (__stdcall **)(int, int, int, int, _DWORD, signed int))(v139 + 68))(
                  v137 + 1,
                  v138,
                  2 * v121,
                  v187,
                  0,
                  1);
              }
              else
              {
                v146 = (*(int (**)(void))(*(_DWORD *)n + 76))();
                UTexture::ConvertDXT(v146, v137 + 1, v184, 0, &v183);
              }
            }
          }
LABEL_294:
          v179 = v197 + 56;
          (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v197 + 56) + 68))(*(_DWORD *)(v197 + 56), v137 - v194);
        }
      }
      if ( v115 )
        (*(void (__stdcall **)(int))(*(_DWORD *)v115 + 8))(v115);
    }
    v116 = (*(int (__stdcall **)(_DWORD, int, int, int, _DWORD, signed int, signed int, int))(**(_DWORD **)(*(_DWORD *)(v113 + 4) + 18100)
                                                                                            + 80))(
             *(_DWORD *)(*(_DWORD *)(v113 + 4) + 18100),
             v189,
             v188,
             v186 - v194,
             0,
             v26,
             1,
             v113 + 56);
    if ( v116 < 0 )
    {
      v117 = sub_10001020((int)&v181, v116);
      LOBYTE(v199) = 7;
      v118 = FString::operator_(v117);
      FOutputDevice::Logf(GError, "CreateTexture failed(%s).", v118);
      LOBYTE(v199) = 0;
      FString::_FString(&v181);
    }
    goto LABEL_240;
  }
  if ( v26 == 50 )
  {
    v26 = 21;
    v192 = 21;
  }
  v86 = v197;
  v87 = *(_DWORD *)(v197 + 56);
  v88 = v197 + 56;
  if ( !v87 )
    goto LABEL_172;
  v30 = v189;
  if ( *(_DWORD *)(v197 + 64) != v189
    || *(_DWORD *)(v197 + 68) != v188
    || (v30 = *(_DWORD *)(v197 + 72), v30 != v194)
    || *(_DWORD *)(v197 + 76) != v186
    || *(_DWORD *)(v197 + 80) != v26 )
  {
    if ( v87 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v87 + 8))(*(_DWORD *)(v197 + 56));
LABEL_172:
    n = 0;
    v184 = 0;
    if ( (unsigned __int8)(*(int (__fastcall **)(int, int))(*(_DWORD *)v185 + 68))(v185, v30) )
    {
      v26 = 22;
      v192 = 22;
    }
    while ( n < 2 )
    {
      v184 = (*(int (__stdcall **)(_DWORD, int, int, int, signed int, signed int, _DWORD, int))(**(_DWORD **)(*(_DWORD *)(v86 + 4) + 18100)
                                                                                              + 80))(
               *(_DWORD *)(*(_DWORD *)(v86 + 4) + 18100),
               v189,
               v188,
               v186 - v194,
               1,
               v26,
               0,
               v88);
      if ( v184 >= 0 )
        goto LABEL_183;
      v89 = *(_DWORD *)(v86 + 4);
      if ( *(_DWORD *)(v89 + 16672) )
      {
        n += 2;
      }
      else
      {
        if ( (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v89 + 18100) + 20))(*(_DWORD *)(v89 + 18100), 0) < 0 )
          FOutputDevice::Logf(GError, "ResourceManagerDiscardBytes failed.");
        ++n;
      }
    }
    if ( v184 < 0 )
    {
      v176 = 1;
      goto LABEL_205;
    }
LABEL_183:
    v90 = (*(int (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)v88 + 60))(*(_DWORD *)v88, 0, v86 + 48);
    if ( v90 < 0 )
    {
      v91 = sub_10001020((int)&v181, v90);
      LOBYTE(v199) = 6;
      v92 = FString::operator_(v91);
      FOutputDevice::Logf(GError, "GetSurfaceLevel failed(%s).", v92);
      LOBYTE(v199) = 0;
      FString::_FString(&v181);
    }
  }
  if ( v176 )
    goto LABEL_205;
  if ( !(unsigned __int8)(*(int (**)(void))(*(_DWORD *)v185 + 64))() )
    goto LABEL_301;
  v93 = v197;
  v94 = *(_DWORD *)(v197 + 52);
  v95 = v197 + 52;
  if ( v94 )
  {
    if ( *(_DWORD *)(v197 + 64) == v189
      && *(_DWORD *)(v197 + 68) == v188
      && *(_DWORD *)(v197 + 72) == v194
      && *(_DWORD *)(v197 + 76) == v186 )
      goto LABEL_301;
    if ( v94 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v94 + 8))(*(_DWORD *)(v197 + 52));
  }
  v96 = 0;
  n = 0;
  while ( n < 2 )
  {
    v96 = (*(int (__stdcall **)(_DWORD, int, int, _DWORD, _DWORD, int))(**(_DWORD **)(*(_DWORD *)(v93 + 4) + 18100) + 104))(
            *(_DWORD *)(*(_DWORD *)(v93 + 4) + 18100),
            v189,
            v188,
            *(_DWORD *)(*(_DWORD *)(v93 + 4) + 18024),
            0,
            v95);
    if ( v96 >= 0 )
      goto LABEL_204;
    v97 = *(_DWORD *)(v93 + 4);
    if ( *(_DWORD *)(v97 + 16672) )
    {
      n += 2;
    }
    else
    {
      if ( (*(int (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v97 + 18100) + 20))(*(_DWORD *)(v97 + 18100), 0) < 0 )
        FOutputDevice::Logf(GError, "ResourceManagerDiscardBytes failed.");
      ++n;
    }
  }
  if ( v96 < 0 )
  {
    v176 = 1;
    goto LABEL_206;
  }
LABEL_204:
  if ( v176 )
  {
LABEL_205:
    v93 = v197;
LABEL_206:
    v98 = *(_DWORD *)(v93 + 48);
    if ( v98 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v98 + 8))(*(_DWORD *)(v93 + 48));
    v99 = *(_DWORD *)(v93 + 56);
    if ( v99 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v99 + 8))(*(_DWORD *)(v93 + 56));
    v100 = *(_DWORD *)(v93 + 52);
    if ( v100 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v100 + 8))(*(_DWORD *)(v93 + 52));
    *(_DWORD *)(v93 + 56) = 0;
    *(_DWORD *)(v93 + 60) = 0;
    *(_DWORD *)(v93 + 48) = 0;
    *(_DWORD *)(v93 + 52) = 0;
  }
LABEL_301:
  v153 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 4))(a2);
  v154 = v197;
  *(_DWORD *)(v197 + 16) = v153;
  v155 = (*(int (__thiscall **)(int))(*(_DWORD *)a2 + 12))(a2);
  v156 = v189;
  v157 = v188;
  *(_BYTE *)(v154 + 29) = v155;
  v158 = v194;
  *(_DWORD *)(v154 + 64) = v156;
  v159 = v186;
  *(_DWORD *)(v154 + 68) = v157;
  v160 = v192;
  *(_DWORD *)(v154 + 72) = v158;
  result = v176;
  *(_DWORD *)(v154 + 76) = v159;
  *(_DWORD *)(v154 + 80) = v160;
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F0C8: using guessed type int GIsEditor;
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F25C: using guessed type int __thiscall UObject__GetFullName(_DWORD, _DWORD);
// 1006F28C: using guessed type int __thiscall UObject__GetPathName(_DWORD, _DWORD, _DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 1006F2AC: using guessed type void *UTexture____Client;
// 1006F2B0: using guessed type int __thiscall FColor__HiColor565(_DWORD);
// 1006F2B4: using guessed type int __thiscall UTexture__ConvertDXT(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F2B8: using guessed type int __thiscall FColor__HiColor4444(_DWORD);
// 1006F388: using guessed type int __thiscall FColor__FColor(_DWORD, _DWORD);

//----- (1002EEFF) --------------------------------------------------------
void __usercall sub_1002EEFF(int a1<ebp>)
{
  *(_DWORD *)(a1 - 132) = *(_DWORD *)(a1 - 156);
  CxxThrowException(a1 - 132, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002EF1C) --------------------------------------------------------
void __cdecl sub_1002EF1C()
{
  appUnwindf("%s", off_1008024C[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 1008024C: using guessed type char *off_1008024C[4];

//----- (1002F020) --------------------------------------------------------
int __thiscall sub_1002F020(int this, int a2, const void *a3)
{
  int v3; // ebx@1
  void *v4; // edi@1
  int v5; // edi@1
  int v6; // edi@3
  int i; // ecx@5
  int v8; // ecx@7
  int v9; // esi@7
  signed int v10; // ecx@8
  char v11; // al@14
  signed int v12; // eax@15
  int v13; // edi@38
  int v14; // edx@38
  int v15; // edx@42
  int v16; // eax@44
  int v18; // [sp+0h] [bp-28h]@1
  int v19; // [sp+10h] [bp-18h]@1
  int *v20; // [sp+18h] [bp-10h]@1
  int v21; // [sp+24h] [bp-4h]@1
  int v22; // [sp+30h] [bp+8h]@1
  int v23; // [sp+34h] [bp+Ch]@6

  v3 = this;
  v4 = (void *)(this + 4);
  v20 = &v18;
  v19 = this;
  sub_1001B7D0((void *)(this + 4));
  *(_DWORD *)(v3 + 328) = 0;
  *(_DWORD *)(v3 + 332) = 0;
  *(_DWORD *)(v3 + 340) = a2;
  memcpy(v4, a3, 0x144u);
  v5 = 0;
  v21 = 0;
  LOBYTE(v21) = 1;
  v22 = 0;
LABEL_2:
  if ( v5 < *(_DWORD *)(v3 + 324) )
  {
    v6 = v5 | 0x20000000;
    sub_1002CDF0(v3 + 328, (8 * *(_DWORD *)(v3 + 332) >> 3) + 1, 0);
    if ( *(_DWORD *)(v3 + 328) + 4 * (8 * *(_DWORD *)(v3 + 332) >> 3) != 4 )
      *(_DWORD *)(*(_DWORD *)(v3 + 328) + 4 * (8 * *(_DWORD *)(v3 + 332) >> 3) - 4) = v6;
    for ( i = 0; ; i = v23 + 1 )
    {
      v23 = i;
      if ( i >= *(_DWORD *)(v3 + 4 * (5 * v22 + 5)) )
      {
        ++v22;
        v5 = v22;
        goto LABEL_2;
      }
      v8 = i + 10 * v22;
      v9 = v3 + 2 * v8 + 4;
      switch ( *(_BYTE *)(v3 + 2 * v8 + 4) )
      {
        case 0:
          v10 = 3;
          break;
        case 1:
          v10 = 2;
          break;
        case 2:
          v10 = 1;
          break;
        case 4:
          v10 = 4;
          break;
        case 3:
          goto LABEL_13;
        default:
          FOutputDevice::Logf(GError, "Bad EComponentType %d", *(_BYTE *)(v3 + 2 * v8 + 4));
LABEL_13:
          v10 = 0;
          break;
      }
      v11 = *(_BYTE *)(v9 + 1);
      if ( v11 )
      {
        switch ( v11 )
        {
          case 1:
            v12 = 3;
            break;
          case 2:
            v12 = 5;
            break;
          case 3:
            v12 = 6;
            break;
          case 4:
            v12 = 7;
            break;
          case 5:
            v12 = 8;
            break;
          case 6:
            v12 = 9;
            break;
          case 7:
            v12 = 10;
            break;
          case 8:
            v12 = 11;
            break;
          case 9:
            v12 = 12;
            break;
          case 10:
            v12 = 13;
            break;
          default:
            if ( v11 != 11 )
              continue;
            v12 = 14;
            break;
        }
      }
      else
      {
        v12 = 0;
      }
      v13 = v12 | ((v10 | 0x4000) << 16);
      sub_1002CDF0(v3 + 328, (8 * *(_DWORD *)(v3 + 332) >> 3) + 1, 0);
      v14 = 8 * *(_DWORD *)(v3 + 332) >> 3;
      if ( *(_DWORD *)(v3 + 328) + 4 * v14 != 4 )
        *(_DWORD *)(*(_DWORD *)(v3 + 328) + 4 * v14 - 4) = v13;
    }
  }
  sub_1002CDF0(v3 + 328, (8 * *(_DWORD *)(v3 + 332) >> 3) + 1, 0);
  v15 = 8 * *(_DWORD *)(v3 + 332) >> 3;
  if ( *(_DWORD *)(v3 + 328) + 4 * v15 != 4 )
    *(_DWORD *)(*(_DWORD *)(v3 + 328) + 4 * v15 - 4) = -1;
  v16 = *(_DWORD *)(v3 + 340);
  *(_DWORD *)(v3 + 344) = *(_DWORD *)(v16 + 16564);
  *(_DWORD *)(v16 + 16564) = v3;
  return v3;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);

//----- (1002F254) --------------------------------------------------------
void __usercall sub_1002F254(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 - 28);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002F268) --------------------------------------------------------
void __cdecl sub_1002F268()
{
  appUnwindf("%s", off_10080250[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080250: using guessed type char *off_10080250[3];

//----- (1002F2A0) --------------------------------------------------------
int __thiscall sub_1002F2A0(int this, int a2, const void *a3)
{
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // eax@1
  int v6; // edx@1
  int v7; // eax@2
  int v8; // eax@2
  int v10; // [sp+0h] [bp-2Ch]@1
  char v11; // [sp+Ch] [bp-20h]@2
  int v12; // [sp+14h] [bp-18h]@1
  int *v13; // [sp+1Ch] [bp-10h]@1
  int v14; // [sp+28h] [bp-4h]@1

  v13 = &v10;
  v3 = this;
  v12 = this;
  sub_1002F020(this, a2, a3);
  v4 = *(_DWORD *)(v3 + 340);
  *(_DWORD *)v3 = 0;
  v5 = *(_DWORD *)(v4 + 18100);
  v6 = *(_DWORD *)v5;
  LOBYTE(v4) = *(_DWORD *)(a2 + 16604) != 0;
  v14 = 0;
  LOBYTE(v14) = 1;
  if ( (*(int (__stdcall **)(int, _DWORD, _DWORD, int, int))(v6 + 300))(
         v5,
         *(_DWORD *)(v3 + 328),
         0,
         v3 + 336,
         ((_BYTE)v4 - 1) & 0x10) < 0 )
  {
    v7 = sub_10001020((int)&v11, *(_DWORD *)(v3 + 336));
    LOBYTE(v14) = 2;
    v8 = FString::operator_(v7);
    FOutputDevice::Logf(GError, "CreateVertexShader failed(%s).", v8);
    LOBYTE(v14) = 1;
    FString::_FString(&v11);
  }
  return v3;
}
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1002F36D) --------------------------------------------------------
void __usercall sub_1002F36D(int a1<ebp>)
{
  *(_DWORD *)(a1 - 20) = *(_DWORD *)(a1 + 12);
  CxxThrowException(a1 - 20, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002F381) --------------------------------------------------------
void __cdecl sub_1002F381()
{
  appUnwindf("%s", off_10080254[0]);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080254: using guessed type char *off_10080254[2];

//----- (1002F3A0) --------------------------------------------------------
signed int __thiscall sub_1002F3A0(int this, int a2, int a3, int a4, int a5)
{
  int v5; // edi@1
  int v6; // ebx@1
  signed int result; // eax@2
  int v8; // eax@3
  bool v9; // sf@4
  unsigned __int8 v10; // of@4
  int v11; // ecx@5
  int v12; // edi@9
  int v13; // ebx@9
  signed int v14; // eax@9
  int j; // esi@9
  int v16; // edx@10
  signed int v17; // esi@13
  int v18; // edx@19
  signed int v19; // eax@25
  int v20; // ebx@31
  int v21; // esi@31
  int v22; // ecx@31
  int v23; // edx@36
  int v24; // esi@38
  int v25; // eax@40
  int m; // edx@42
  int v27; // edi@48
  int v28; // eax@49
  signed int v29; // esi@50
  int k; // eax@51
  int v31; // eax@54
  int v32; // edx@55
  int l; // eax@59
  int v34; // edi@64
  int v35; // esi@64
  signed int v36; // edx@67
  int v37; // edi@69
  int v38; // ecx@69
  const char *v39; // eax@69
  const char *v40; // esi@69
  int v41; // eax@69
  int v42; // eax@70
  int v43; // eax@70
  int n; // eax@72
  int v45; // ebx@76
  int v46; // eax@76
  int v47; // esi@76
  signed int v48; // eax@76
  int v49; // eax@77
  int v50; // eax@77
  int jj; // eax@78
  void *v52; // eax@84
  void *v53; // esi@84
  void *v54; // eax@85
  int v55; // ecx@87
  bool v56; // zf@87
  int ii; // eax@88
  int v58; // [sp+0h] [bp-50h]@1
  int v59; // [sp+4h] [bp-4Ch]@64
  char v60; // [sp+Ch] [bp-44h]@49
  int v61; // [sp+10h] [bp-40h]@10
  int v62; // [sp+14h] [bp-3Ch]@3
  int v63; // [sp+18h] [bp-38h]@3
  int v64; // [sp+24h] [bp-2Ch]@76
  char v65; // [sp+28h] [bp-28h]@64
  int v66; // [sp+2Ch] [bp-24h]@3
  int v67; // [sp+30h] [bp-20h]@9
  int v68; // [sp+34h] [bp-1Ch]@4
  int v69; // [sp+38h] [bp-18h]@1
  int i; // [sp+3Ch] [bp-14h]@7
  int *v71; // [sp+40h] [bp-10h]@1
  int v72; // [sp+4Ch] [bp-4h]@1

  v5 = a2;
  v71 = &v58;
  v6 = 0;
  v69 = this;
  v72 = 0;
  if ( sub_1002C890(this, a2) )
  {
    result = 1;
  }
  else
  {
    v62 = 0;
    v63 = 0;
    v8 = 8 * *(_DWORD *)(a3 + 104) >> 3;
    LOBYTE(v72) = 1;
    v66 = v8;
    while ( 1 )
    {
      v10 = __OFSUB__(v6, *(_DWORD *)(v5 + 320));
      v9 = v6 - *(_DWORD *)(v5 + 320) < 0;
      v68 = v6;
      if ( !(v9 ^ v10) )
        break;
      sub_1002CDF0((int)&v62, (8 * v63 >> 3) + 1, 0);
      v11 = 8 * v63 >> 3;
      if ( v62 + 4 * v11 != 4 )
        *(_DWORD *)(v62 + 4 * v11 - 4) = v6 | 0x20000000;
      for ( i = 0; i < *(_DWORD *)(v5 + 20 * v6 + 16); ++i )
      {
        v12 = a2 + 2 * (i + 10 * v68);
        v13 = 0;
        v14 = 0;
        v67 = a2 + 2 * (i + 10 * v68);
        for ( j = 0; ; ++j )
        {
          v16 = 8 * *(_DWORD *)(a3 + 104) >> 3;
          v61 = j;
          if ( j >= v16 )
            break;
          if ( *(_BYTE *)(v12 + 1) == *(_BYTE *)(j + *(_DWORD *)(a3 + 100)) )
          {
            switch ( *(_BYTE *)v12 )
            {
              case 0:
                v17 = 3;
                break;
              case 1:
                v17 = 2;
                break;
              case 2:
                v17 = 1;
                break;
              case 4:
                v17 = 4;
                break;
              case 3:
                goto LABEL_18;
              default:
                FOutputDevice::Logf(GError, "Bad EComponentType %d", *(_BYTE *)v12);
LABEL_18:
                v17 = 0;
                break;
            }
            sub_1002CDF0((int)&v62, (8 * v63 >> 3) + 1, 0);
            v18 = 8 * v63 >> 3;
            if ( v62 + 4 * v18 != 4 )
              *(_DWORD *)(v62 + 4 * v18 - 4) = v13 | ((v17 | 0x4000) << 16);
            v12 = v67;
            j = v61;
            v14 = 1;
          }
          ++v13;
        }
        if ( !v14 )
        {
          switch ( *(_BYTE *)v12 )
          {
            case 0:
              v19 = 3;
              break;
            case 1:
              v19 = 2;
              break;
            case 2:
              v19 = 1;
              break;
            case 4:
              v19 = 4;
              break;
            case 3:
              goto LABEL_30;
            default:
              FOutputDevice::Logf(GError, "Bad EComponentType %d", *(_BYTE *)v12);
LABEL_30:
              v19 = 0;
              break;
          }
          v20 = v66;
          v21 = v66 | ((v19 | 0x4000) << 16);
          sub_1002CDF0((int)&v62, (8 * v63 >> 3) + 1, 0);
          v22 = 8 * v63 >> 3;
          if ( v62 + 4 * v22 != 4 )
            *(_DWORD *)(v62 + 4 * v22 - 4) = v21;
          v66 = v20 + 1;
        }
        v5 = a2;
        v6 = v68;
      }
      ++v6;
    }
    sub_1002CDF0((int)&v62, (8 * v63 >> 3) + 1, 0);
    v23 = 8 * v63 >> 3;
    if ( v62 + 4 * v23 != 4 )
      *(_DWORD *)(v62 + 4 * v23 - 4) = -1;
    v24 = 0;
    v68 = 0;
    while ( v24 < 8 * *(_DWORD *)(a3 + 104) >> 3 )
    {
      v25 = 0;
LABEL_41:
      if ( v25 >= *(_DWORD *)(v5 + 320) )
      {
        if ( GIsEditor )
        {
          v27 = a4;
          if ( a4 )
          {
            v28 = FString::Printf(
                    &v60,
                    "Shader requires type %d in vertex register %d, stream unavailible",
                    *(_BYTE *)(*(_DWORD *)(a3 + 100) + v24),
                    v68);
            LOBYTE(v72) = 2;
            TArray<char>::operator_(v27, v28);
            LOBYTE(v72) = 1;
            FStringTemp::_FStringTemp(&v60);
          }
          v29 = 0;
          LOBYTE(v72) = 0;
          if ( !(v63 & 0x20000000) )
          {
            for ( k = 0; k < 8 * v63 >> 3; ++k )
              ;
            goto LABEL_54;
          }
          return v29;
        }
        v29 = 0;
        LOBYTE(v72) = 0;
        if ( v63 & 0x20000000 )
          return v29;
        for ( l = 0; l < 8 * v63 >> 3; ++l )
          ;
LABEL_54:
        v31 = v62;
        if ( !v62 )
          return v29;
        v32 = *(_DWORD *)GMalloc;
LABEL_56:
        (*(void (__stdcall **)(int))(v32 + 12))(v31);
        return v29;
      }
      for ( m = 0; ; ++m )
      {
        if ( m >= *(_DWORD *)(v5 + 20 * v25 + 16) )
        {
          ++v25;
          goto LABEL_41;
        }
        if ( *(_BYTE *)(v5 + 2 * (m + 10 * v25) + 1) == *(_BYTE *)(v24 + *(_DWORD *)(a3 + 100)) )
          break;
      }
      ++v68;
      ++v24;
    }
    if ( !*(_DWORD *)(v69 + 52) )
    {
      a4 = 0;
      v34 = FString::Len(a3 + 108, v58, v59);
      v35 = FString::operator_(a3 + 108);
      FString::FString(v35, 0);
      LOBYTE(v72) = 3;
      if ( sub_1002D300((void *)v69, (int)&v65) )
      {
        v35 = FString::operator_(&v65);
        v34 = FString::Len(&v65, v58, v59);
        if ( byte_100847D0 )
          FStringNoInit::operator_(a3 + 108, &v65);
      }
      v36 = sub_10034D27(v34, (char *)v35, v34, 0, 0, (HKEY)(v69 + 52), (int)&a4);
      if ( v36 < 0 )
      {
        if ( a4 )
        {
          v37 = sub_10001020((int)&v60, v36);
          v38 = *(_DWORD *)a4;
          LOBYTE(v72) = 4;
          v39 = (const char *)(*(int (__stdcall **)(int))(v38 + 12))(a4);
          v40 = appFromAnsi(v39, 0);
          v41 = FString::operator_(v37);
          FOutputDevice::Logf(GLog, 760, "DXAssembleShader failed(%s): %s", v41, v40);
        }
        else
        {
          v42 = sub_10001020((int)&v60, v36);
          LOBYTE(v72) = 5;
          v43 = FString::operator_(v42);
          FOutputDevice::Logf(GError, "DXAssembleShader failed(%s).  Len was %d", v43, v34);
        }
        LOBYTE(v72) = 3;
        FString::_FString(&v60);
        v29 = 0;
        LOBYTE(v72) = 1;
        FString::_FString(&v65);
        LOBYTE(v72) = 0;
        if ( v63 & 0x20000000 )
          return v29;
        for ( n = 0; n < 8 * v63 >> 3; ++n )
          ;
        goto LABEL_54;
      }
      LOBYTE(v72) = 1;
      FString::_FString(&v65);
    }
    v45 = v69;
    v46 = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(v69 + 52) + 12))(*(_DWORD *)(v69 + 52));
    v47 = v62;
    v48 = (*(int (__stdcall **)(_DWORD, int, int, int *, int))(**(_DWORD **)(*(_DWORD *)(v45 + 4) + 18100) + 300))(
            *(_DWORD *)(*(_DWORD *)(v45 + 4) + 18100),
            v62,
            v46,
            &v64,
            ((*(_DWORD *)(*(_DWORD *)(v45 + 4) + 16604) != 0) - 1) & 0x10);
    if ( v48 >= 0 )
    {
      v52 = (void *)(*(int (__stdcall **)(signed int))(*(_DWORD *)GMalloc + 4))(332);
      v53 = v52;
      LOBYTE(v72) = 7;
      if ( v52 )
      {
        sub_1001B7D0(v52);
        *((_DWORD *)v53 + 81) = 0;
        *((_DWORD *)v53 + 82) = 0;
        v54 = v53;
      }
      else
      {
        v54 = 0;
      }
      memcpy(v54, (const void *)a2, 0x144u);
      *((_DWORD *)v54 + 81) = v64;
      v55 = v63;
      v56 = (v63 & 0x20000000) == 0;
      *((_DWORD *)v54 + 82) = *(_DWORD *)(v45 + 48);
      *(_DWORD *)(v45 + 48) = v54;
      v29 = 1;
      LOBYTE(v72) = 0;
      if ( !v56 )
        return v29;
      for ( ii = 0; ii < 8 * v55 >> 3; ++ii )
        ;
      if ( !v62 )
        return v29;
      v32 = *(_DWORD *)GMalloc;
      v31 = v62;
      goto LABEL_56;
    }
    v49 = sub_10001020((int)&v60, v48);
    LOBYTE(v72) = 6;
    v50 = FString::operator_(v49);
    FOutputDevice::Logf(GLog, 760, "CreateVertexShader failed(%s).", v50);
    LOBYTE(v72) = 1;
    FString::_FString(&v60);
    LOBYTE(v72) = 0;
    if ( !(v63 & 0x20000000) )
    {
      for ( jj = 0; jj < 8 * v63 >> 3; ++jj )
        ;
      if ( v47 )
        (*(void (__stdcall **)(int))(*(_DWORD *)GMalloc + 12))(v47);
    }
    result = 0;
  }
  return result;
}
// 1006F010: using guessed type int __stdcall FString__FString(_DWORD, _DWORD);
// 1006F014: using guessed type void *GMalloc;
// 1006F01C: using guessed type void *GError;
// 1006F0BC: using guessed type int FOutputDevice__Logf(_DWORD, const char *, ...);
// 1006F0C8: using guessed type int GIsEditor;
// 1006F0D8: using guessed type int __thiscall TArray_char___operator_(_DWORD, _DWORD);
// 1006F150: using guessed type int FString__Printf(_DWORD, const char *, ...);
// 1006F1B8: using guessed type int FOutputDevice__Logf(_DWORD, _DWORD, const char *, ...);
// 1006F1BC: using guessed type void *GLog;
// 1006F1C0: using guessed type int __thiscall FString__operator_(_DWORD);
// 1006F228: using guessed type const char *__fastcall appFromAnsi(const char *, char *);
// 1006F27C: using guessed type int __thiscall FString__Len(_DWORD, _DWORD, _DWORD);
// 1006F290: using guessed type int __thiscall FStringNoInit__operator_(_DWORD, _DWORD);
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);
// 100847D0: using guessed type char byte_100847D0;

//----- (1002FAFD) --------------------------------------------------------
void __usercall sub_1002FAFD(int a1<ebp>)
{
  *(_DWORD *)(a1 - 48) = *(_DWORD *)(a1 - 52);
  CxxThrowException(a1 - 48, &unk_10077A84);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);

//----- (1002FB11) --------------------------------------------------------
void __cdecl sub_1002FB11()
{
  appUnwindf("%s", off_10080258);
  CxxThrowException(0, 0);
}
// 1006C0E2: using guessed type int __cdecl CxxThrowException(_DWORD, _DWORD);
// 1006F024: using guessed type void appUnwindf(const char *, ...);
// 10080258: using guessed type char *off_10080258;

//----- (1002FC20) --------------------------------------------------------
int __thiscall sub_1002FC20(int this)
{
  int v1; // esi@1
  int v2; // ebx@1
  int result; // eax@2
  int v4; // edi@3
  int v5; // esi@6
  int v6; // [sp+48h] [bp-8h]@3
  int v7; // [sp+4Ch] [bp-4h]@4

  v1 = this;
  v2 = *(_DWORD *)(16 * *(_DWORD *)(this + 28) + *(_DWORD *)(this + 4) + 4);
  if ( v2 )
  {
    v4 = rand();
    result = (*(int (__stdcall **)(_DWORD, int *))(**(_DWORD **)v1 + 128))(*(_DWORD *)v1, &v6);
    if ( result >= 0 )
    {
      result = (*(int (__stdcall **)(_DWORD, int *))(**(_DWORD **)v1 + 132))(*(_DWORD *)v1, &v7);
      if ( result >= 0 )
      {
        result = (*(int (__stdcall **)(_DWORD, int, _DWORD))(**(_DWORD **)v1 + 124))(*(_DWORD *)v1, v2, 0);
        if ( result >= 0 )
        {
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, signed int, int, _DWORD, _DWORD))(**(_DWORD **)v1 + 144))(
            *(_DWORD *)v1,
            0,
            0,
            1,
            v4,
            0,
            0);
          v5 = (*(int (__stdcall **)(_DWORD, int, int))(**(_DWORD **)v1 + 124))(*(_DWORD *)v1, v6, v7);
          if ( v6 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v6 + 8))(v6);
            v6 = 0;
          }
          if ( v7 )
            (*(void (__stdcall **)(int))(*(_DWORD *)v7 + 8))(v7);
          result = v5;
        }
      }
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (1002FCE0) --------------------------------------------------------
int __thiscall sub_1002FCE0(void *this)
{
  int v1; // edx@1
  int v2; // eax@1
  int v3; // esi@1
  int result; // eax@1
  char v5; // [sp+18h] [bp-8h]@2

  v1 = *((_DWORD *)this + 1);
  v2 = 16 * *((_DWORD *)this + 8);
  v3 = *(_DWORD *)(v2 + v1 + 12);
  result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, int, _DWORD))(**(_DWORD **)this + 112))(
             *(_DWORD *)this,
             *(_DWORD *)(v1 + v2 + 4),
             0,
             0,
             v3,
             0);
  if ( result >= 0 )
  {
    result = (*(int (__stdcall **)(int, char *, _DWORD, signed int))(*(_DWORD *)v3 + 36))(v3, &v5, 0, 16);
    if ( result >= 0 )
      result = (*(int (__stdcall **)(int))(*(_DWORD *)v3 + 40))(v3);
  }
  return result;
}

//----- (1002FD30) --------------------------------------------------------
signed int __thiscall sub_1002FD30(int this, int a2)
{
  signed int result; // eax@2

  if ( a2 < *(_DWORD *)(this + 8) )
  {
    *(_DWORD *)(this + 12) = a2;
    *(_DWORD *)(this + 32) = a2;
    *(_DWORD *)(this + 28) = 0;
    result = 0;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (1002FD60) --------------------------------------------------------
int __thiscall sub_1002FD60(int this)
{
  int v1; // esi@1
  int v2; // ebp@1
  int v3; // edi@2
  int v4; // ecx@3
  int v5; // ecx@5
  int v6; // ecx@7
  int v7; // ecx@9

  v1 = this;
  v2 = 0;
  if ( *(_DWORD *)(this + 8) > 0 )
  {
    v3 = 0;
    do
    {
      v4 = *(_DWORD *)(v3 + *(_DWORD *)(v1 + 4) + 12);
      if ( v4 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v4 + 8))(v4);
        *(_DWORD *)(v3 + *(_DWORD *)(v1 + 4) + 12) = 0;
      }
      v5 = *(_DWORD *)(v3 + *(_DWORD *)(v1 + 4) + 8);
      if ( v5 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v5 + 8))(v5);
        *(_DWORD *)(v3 + *(_DWORD *)(v1 + 4) + 8) = 0;
      }
      v6 = *(_DWORD *)(v3 + *(_DWORD *)(v1 + 4) + 4);
      if ( v6 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v6 + 8))(v6);
        *(_DWORD *)(v3 + *(_DWORD *)(v1 + 4) + 4) = 0;
      }
      v7 = *(_DWORD *)(*(_DWORD *)(v1 + 4) + v3);
      if ( v7 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        *(_DWORD *)(v3 + *(_DWORD *)(v1 + 4)) = 0;
      }
      ++v2;
      v3 += 16;
    }
    while ( v2 < *(_DWORD *)(v1 + 8) );
  }
  if ( *(_DWORD *)(v1 + 4) )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)(v1 + 4));
    *(_DWORD *)(v1 + 4) = 0;
  }
  return 0;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1002FE20) --------------------------------------------------------
int __thiscall sub_1002FE20(int this)
{
  int result; // eax@1
  int v2; // edx@2

  result = 0;
  if ( *(_BYTE *)(this + 20) )
  {
    v2 = *(_DWORD *)(this + 16);
    if ( v2 )
    {
      if ( v2 != 3 )
        result = 0;
    }
    else
    {
      result = sub_1002FC20(this);
    }
  }
  return result;
}

//----- (1002FE40) --------------------------------------------------------
int __thiscall sub_1002FE40(int this)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@2
  int v4; // eax@3
  bool v5; // zf@4
  int v6; // eax@4
  signed int v7; // ecx@5
  int v8; // edx@5
  signed int v9; // eax@5
  int result; // eax@6
  int v11; // ecx@7

  v1 = this;
  v2 = 0;
  if ( !*(_BYTE *)(this + 20) )
    return v2;
  v3 = *(_DWORD *)(this + 16);
  if ( v3 )
  {
    if ( v3 == 3 )
      return v2;
    result = 0;
  }
  else
  {
    v2 = sub_1002FCE0((void *)this);
    v4 = *(_DWORD *)(v1 + 12);
    if ( v4 )
    {
      v5 = v4 == 1;
      v6 = *(_DWORD *)(v1 + 28);
      if ( !v5 )
      {
        v7 = *(_DWORD *)(v1 + 8);
        v8 = (v6 + 1) % v7;
        v9 = *(_DWORD *)(v1 + 32) + 1;
        *(_DWORD *)(v1 + 28) = v8;
        *(_DWORD *)(v1 + 32) = v9 % v7;
        return v2;
      }
      v11 = *(_DWORD *)(v1 + 32);
      *(_DWORD *)(v1 + 32) = v6;
      result = v2;
      *(_DWORD *)(v1 + 28) = v11;
    }
    else
    {
      result = v2;
      *(_DWORD *)(v1 + 28) = *(_DWORD *)(v1 + 32);
    }
  }
  return result;
}

//----- (1002FEB0) --------------------------------------------------------
int __thiscall sub_1002FEB0(int this)
{
  int v1; // esi@1

  v1 = this;
  sub_1002FD60(this);
  if ( *(_DWORD *)v1 )
  {
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v1 + 8))(*(_DWORD *)v1);
    *(_DWORD *)v1 = 0;
  }
  *(_DWORD *)(v1 + 16) = 3;
  return 0;
}

//----- (1002FEE0) --------------------------------------------------------
int __thiscall sub_1002FEE0(int this, int a2, signed int a3)
{
  int v3; // esi@1
  int result; // eax@2
  int v5; // ebx@3
  int v6; // eax@8
  int v7; // edi@10
  int v8; // eax@11
  int v9; // ecx@13
  int v10; // edx@17
  signed int v11; // [sp+5Ch] [bp+4h]@9

  v3 = this;
  if ( !a2 )
    return -2147467259;
  result = sub_1002FD60(this);
  v5 = result;
  if ( result >= 0 )
  {
    if ( a3 < 0 )
      return -2147467259;
    if ( !a3 )
      return 0;
    if ( a3 > 5
      || (*(_DWORD *)(v3 + 8) = a3,
          v6 = (*(int (__stdcall **)(int))(*(_DWORD *)GMalloc + 4))(16 * a3),
          (*(_DWORD *)(v3 + 4) = v6) == 0) )
      return -2147467259;
    v11 = 0;
    if ( a3 > 0 )
    {
      v7 = 0;
      while ( 1 )
      {
        v8 = v7 + *(_DWORD *)(v3 + 4);
        *(_DWORD *)v8 = 0;
        *(_DWORD *)(v8 + 4) = 0;
        *(_DWORD *)(v8 + 8) = 0;
        *(_DWORD *)(v8 + 12) = 0;
        if ( (*(int (__stdcall **)(_DWORD, signed int, signed int, signed int, signed int, signed int, _DWORD, int))(**(_DWORD **)v3 + 80))(
               *(_DWORD *)v3,
               16,
               16,
               1,
               1,
               21,
               0,
               v7 + *(_DWORD *)(v3 + 4)) < 0 )
          break;
        result = (*(int (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)(*(_DWORD *)(v3 + 4) + v7) + 60))(
                   *(_DWORD *)(*(_DWORD *)(v3 + 4) + v7),
                   0,
                   v7 + *(_DWORD *)(v3 + 4) + 4);
        if ( result < 0 )
          return result;
        v9 = *(_DWORD *)(v3 + 4) + v7;
        if ( !*(_DWORD *)(v9 + 4) )
          return -2147467259;
        (*(void (__stdcall **)(_DWORD, signed int, signed int, signed int, signed int, signed int, signed int, int))(**(_DWORD **)v3 + 80))(
          *(_DWORD *)v3,
          16,
          16,
          1,
          512,
          21,
          2,
          v9 + 8);
        v5 = (*(int (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)(*(_DWORD *)(v3 + 4) + v7 + 8) + 60))(
               *(_DWORD *)(*(_DWORD *)(v3 + 4) + v7 + 8),
               0,
               v7 + *(_DWORD *)(v3 + 4) + 12);
        if ( v5 < 0 )
          goto LABEL_18;
        if ( !*(_DWORD *)(*(_DWORD *)(v3 + 4) + v7 + 12) )
          return -2147467259;
        v7 += 16;
        ++v11;
        if ( v11 >= a3 )
          goto LABEL_17;
      }
      *(_DWORD *)(16 * v11 + *(_DWORD *)(v3 + 4)) = 0;
      return -2147467259;
    }
LABEL_17:
    v10 = *(_DWORD *)(v3 + 12);
    *(_DWORD *)(v3 + 28) = 0;
    *(_DWORD *)(v3 + 32) = v10;
LABEL_18:
    result = v5;
  }
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (10030040) --------------------------------------------------------
signed int __thiscall sub_10030040(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // ebx@1

  v2 = this;
  v3 = *(_DWORD *)(this + 16);
  v4 = 0;
  if ( a2 != v3 && !v3 )
    sub_1002FD60(this);
  if ( a2 )
  {
    if ( a2 == 1 || a2 == 2 )
    {
      *(_DWORD *)(v2 + 16) = 3;
      return -2147467259;
    }
  }
  else
  {
    v4 = sub_1002FEE0(v2, *(_DWORD *)v2, *(_DWORD *)(v2 + 24) + 1);
    *(_DWORD *)(v2 + 16) = 0;
  }
  return v4;
}

//----- (100300A0) --------------------------------------------------------
signed int __thiscall sub_100300A0(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  signed int result; // eax@2

  v4 = this;
  if ( a2 )
  {
    sub_1002FD60(this);
    if ( *(_DWORD *)v4 )
    {
      (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v4 + 8))(*(_DWORD *)v4);
      *(_DWORD *)v4 = 0;
    }
    *(_DWORD *)(v4 + 16) = 3;
    *(_DWORD *)v4 = a2;
    (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
    *(_DWORD *)(v4 + 24) = a4;
    *(_DWORD *)(v4 + 12) = a4;
    *(_BYTE *)(v4 + 20) = 1;
    result = sub_10030040(v4, a3);
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (100304A0) --------------------------------------------------------
bool __cdecl sub_100304A0(float a1, float a2)
{
  double v2; // st7@1

  v2 = a1 - a2;
  return v2 >= -0.00000011920929 && v2 <= 0.00000011920929;
}

//----- (100304E0) --------------------------------------------------------
int __cdecl sub_100304E0()
{
  sub_10035508(1u);
  return off_10080318();
}
// 10080318: using guessed type int (*off_10080318)(void);

//----- (100304F3) --------------------------------------------------------
int __stdcall sub_100304F3(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_10035508(1u);
  return off_100802A4(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 100802A4: using guessed type int (__stdcall *off_100802A4)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10030523) --------------------------------------------------------
int __stdcall sub_10030523(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8 + v8 - v6 * 3.0 + 1.0;
  v10 = v8 - (v6 + v6) + a6;
  v12 = v6 * 3.0 - (v8 + v8);
  v11 = v8 - v6;
  *(float *)a1 = v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5;
  *(float *)(a1 + 4) = v11 * *(float *)(a5 + 4)
                     + v12 * *(float *)(a4 + 4)
                     + v10 * *(float *)(a3 + 4)
                     + v9 * *(float *)(a2 + 4);
  return result;
}

//----- (100305B1) --------------------------------------------------------
int __stdcall sub_100305B1(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_10035508(1u);
  return off_1008031C(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 1008031C: using guessed type int (__stdcall *off_1008031C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (100305E1) --------------------------------------------------------
int __stdcall sub_100305E1(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  return result;
}

//----- (10030690) --------------------------------------------------------
int __stdcall sub_10030690(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_10035508(1u);
  return off_10080320(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 10080320: using guessed type int (__stdcall *off_10080320)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (100306C5) --------------------------------------------------------
int __stdcall sub_100306C5(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int result; // eax@1

  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(a2 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(a2 + 4)) * a6
                     + *(float *)(a2 + 4);
  return result;
}

//----- (10030708) --------------------------------------------------------
int __cdecl sub_10030708()
{
  sub_10035508(1u);
  return off_10080260();
}
// 10080260: invalid function type has been ignored
// 10080260: using guessed type int (*off_10080260)(void);

//----- (1003071B) --------------------------------------------------------
int __cdecl sub_1003071B()
{
  sub_10035508(1u);
  return off_10080284();
}
// 10080284: using guessed type int (*off_10080284)(void);

//----- (1003072E) --------------------------------------------------------
int __cdecl sub_1003072E()
{
  sub_10035508(1u);
  return off_10080274();
}
// 10080274: using guessed type int (*off_10080274)(void);

//----- (10030741) --------------------------------------------------------
int __cdecl sub_10030741()
{
  sub_10035508(1u);
  return off_1008027C();
}
// 1008027C: using guessed type int (*off_1008027C)(void);

//----- (1003075E) --------------------------------------------------------
int __stdcall sub_1003075E(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_10035508(1u);
  return off_10080324(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 10080324: using guessed type int (__stdcall *off_10080324)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10030799) --------------------------------------------------------
int __stdcall sub_10030799(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8 + v8 - v6 * 3.0 + 1.0;
  v10 = v8 - (v6 + v6) + a6;
  v12 = v6 * 3.0 - (v8 + v8);
  v11 = v8 - v6;
  *(float *)a1 = v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5;
  *(float *)(a1 + 4) = v11 * *(float *)(a5 + 4)
                     + v12 * *(float *)(a4 + 4)
                     + v10 * *(float *)(a3 + 4)
                     + v9 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v11 * *(float *)(a5 + 8)
                     + v12 * *(float *)(a4 + 8)
                     + v10 * *(float *)(a3 + 8)
                     + v9 * *(float *)(a2 + 8);
  return result;
}

//----- (1003084E) --------------------------------------------------------
int __stdcall sub_1003084E(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_10035508(1u);
  return off_10080328(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 10080328: using guessed type int (__stdcall *off_10080328)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1003087E) --------------------------------------------------------
int __stdcall sub_1003087E(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  *(float *)(a1 + 8) = (v11 * *(float *)(a5 + 8)
                      + v12 * *(float *)(a4 + 8)
                      + v10 * *(float *)(a3 + 8)
                      + v9 * *(float *)(a2 + 8))
                     * 0.5;
  return result;
}

//----- (1003095D) --------------------------------------------------------
int __stdcall sub_1003095D(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_10035508(1u);
  return off_1008032C(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 1008032C: using guessed type int (__stdcall *off_1008032C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10030995) --------------------------------------------------------
int __stdcall sub_10030995(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // ecx@1
  int result; // eax@1

  v6 = a2;
  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(v6 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(v6 + 4)) * a6
                     + *(float *)(v6 + 4);
  *(float *)(a1 + 8) = (*(float *)(a3 + 8) - *(float *)(v6 + 8)) * a5
                     + (*(float *)(a4 + 8) - *(float *)(a2 + 8)) * a6
                     + *(float *)(v6 + 8);
  return result;
}

//----- (100309FB) --------------------------------------------------------
int __cdecl sub_100309FB()
{
  sub_10035508(1u);
  return off_10080264();
}
// 10080264: using guessed type int (*off_10080264)(void);

//----- (10030A0E) --------------------------------------------------------
int __stdcall sub_10030A0E(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)a2 * *(float *)a3
     + *(float *)(a3 + 48);
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 52);
  v5 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 56);
  result = a1;
  v7 = *(float *)(a3 + 44) * *(float *)(a2 + 8)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 60);
  *(_DWORD *)a1 = LODWORD(v3);
  *(_DWORD *)(a1 + 4) = LODWORD(v4);
  *(_DWORD *)(a1 + 8) = LODWORD(v5);
  *(_DWORD *)(a1 + 12) = LODWORD(v7);
  return result;
}

//----- (10030A99) --------------------------------------------------------
int __cdecl sub_10030A99()
{
  sub_10035508(1u);
  return off_10080288();
}
// 10080288: using guessed type int (*off_10080288)(void);

//----- (10030AB2) --------------------------------------------------------
int __cdecl sub_10030AB2()
{
  sub_10035508(1u);
  return off_10080278();
}
// 10080278: using guessed type int (*off_10080278)(void);

//----- (10030AD7) --------------------------------------------------------
int __stdcall sub_10030AD7(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  int result; // eax@1
  float v6; // ST10_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8) + *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2;
  result = a1;
  v6 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2;
  *(_DWORD *)a1 = LODWORD(v3);
  *(_DWORD *)(a1 + 4) = LODWORD(v4);
  *(_DWORD *)(a1 + 8) = LODWORD(v6);
  return result;
}

//----- (10030B3D) --------------------------------------------------------
int __cdecl sub_10030B3D()
{
  sub_10035508(1u);
  return off_10080298();
}
// 10080298: using guessed type int (*off_10080298)(void);

//----- (10030B88) --------------------------------------------------------
int __cdecl sub_10030B88()
{
  sub_10035508(1u);
  return off_1008029C();
}
// 1008029C: using guessed type int (*off_1008029C)(void);

//----- (10030BB8) --------------------------------------------------------
int __cdecl sub_10030BB8()
{
  sub_10035508(1u);
  return off_100802A0();
}
// 100802A0: using guessed type int (*off_100802A0)(void);

//----- (10030BEA) --------------------------------------------------------
int __stdcall sub_10030BEA(int a1, int a2, int a3, int a4)
{
  int v4; // ecx@1
  int v5; // eax@1
  double v6; // st7@1
  int v7; // edx@1
  double v8; // st6@1
  float v9; // ST1C_4@1
  float v10; // ST20_4@1
  float v11; // ST08_4@1
  float v12; // ST18_4@1
  float v13; // ST0C_4@1
  double v14; // st7@1
  double v15; // st6@1
  float v16; // ST10_4@1
  int result; // eax@1
  float v18; // ST14_4@1
  float v19; // [sp+30h] [bp+Ch]@1
  float v20; // [sp+34h] [bp+10h]@1
  float v21; // [sp+38h] [bp+14h]@1

  v4 = a4;
  v5 = a3;
  v6 = *(float *)(a4 + 12) * *(float *)(a3 + 8);
  v7 = a2;
  v8 = *(float *)(a3 + 12) * *(float *)(a4 + 8);
  v20 = *(float *)(a4 + 12) * *(float *)(a3 + 4) - *(float *)(a3 + 12) * *(float *)(a4 + 4);
  v9 = *(float *)(v5 + 4) * *(float *)(a4 + 8);
  v10 = *(float *)(v5 + 8) * *(float *)(a4 + 4);
  v11 = (v6 - v8) * *(float *)(a2 + 4) - v20 * *(float *)(a2 + 8) + (v9 - v10) * *(float *)(a2 + 12);
  v19 = *(float *)(v5 + 12) * *(float *)a4;
  v21 = *(float *)(a4 + 12) * *(float *)v5;
  v12 = *(float *)v4 * *(float *)(v5 + 8) - *(float *)v5 * *(float *)(v4 + 8);
  v13 = (v8 - v6) * *(float *)v7 - (v19 - v21) * *(float *)(v7 + 8) + v12 * *(float *)(v7 + 12);
  v14 = *(float *)v5 * *(float *)(v4 + 4);
  v15 = *(float *)v4 * *(float *)(v5 + 4);
  v16 = v20 * *(float *)v7 - (v21 - v19) * *(float *)(v7 + 4) + (v14 - v15) * *(float *)(v7 + 12);
  result = a1;
  v18 = (v10 - v9) * *(float *)v7 - v12 * *(float *)(v7 + 4) + (v15 - v14) * *(float *)(v7 + 8);
  *(_DWORD *)a1 = LODWORD(v11);
  *(_DWORD *)(a1 + 4) = LODWORD(v13);
  *(_DWORD *)(a1 + 8) = LODWORD(v16);
  *(_DWORD *)(a1 + 12) = LODWORD(v18);
  return result;
}

//----- (10030D25) --------------------------------------------------------
int __cdecl sub_10030D25()
{
  sub_10035508(1u);
  return off_10080280();
}
// 10080280: using guessed type int (*off_10080280)(void);

//----- (10030D38) --------------------------------------------------------
int __stdcall sub_10030D38(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_10035508(1u);
  return off_10080330(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 10080330: using guessed type int (__stdcall *off_10080330)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10030D68) --------------------------------------------------------
int __stdcall sub_10030D68(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST10_4@1
  float v10; // ST08_4@1
  float v11; // ST0C_4@1
  double v12; // st6@1
  double v13; // st5@1
  double v14; // st4@1
  double v15; // st3@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8;
  v10 = v8 + v8;
  v11 = 3.0 * v6;
  v12 = v10 - v11 + 1.0;
  v13 = v9 - (v6 + v6) + a6;
  v14 = v11 - v10;
  v15 = v9 - v6;
  *(float *)a1 = v12 * *(float *)a2 + v13 * *(float *)a3 + v14 * *(float *)a4 + v15 * *(float *)a5;
  *(float *)(a1 + 4) = v15 * *(float *)(a5 + 4)
                     + v14 * *(float *)(a4 + 4)
                     + v13 * *(float *)(a3 + 4)
                     + v12 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v15 * *(float *)(a5 + 8)
                     + v14 * *(float *)(a4 + 8)
                     + v13 * *(float *)(a3 + 8)
                     + v12 * *(float *)(a2 + 8);
  *(float *)(a1 + 12) = v15 * *(float *)(a5 + 12)
                      + v14 * *(float *)(a4 + 12)
                      + v13 * *(float *)(a3 + 12)
                      + v12 * *(float *)(a2 + 12);
  return result;
}

//----- (10030E39) --------------------------------------------------------
int __stdcall sub_10030E39(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_10035508(1u);
  return off_10080334(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 10080334: using guessed type int (__stdcall *off_10080334)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10030E69) --------------------------------------------------------
int __stdcall sub_10030E69(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  *(float *)(a1 + 8) = (v11 * *(float *)(a5 + 8)
                      + v12 * *(float *)(a4 + 8)
                      + v10 * *(float *)(a3 + 8)
                      + v9 * *(float *)(a2 + 8))
                     * 0.5;
  *(float *)(a1 + 12) = (v11 * *(float *)(a5 + 12)
                       + v12 * *(float *)(a4 + 12)
                       + v10 * *(float *)(a3 + 12)
                       + v9 * *(float *)(a2 + 12))
                      * 0.5;
  return result;
}

//----- (10030F5C) --------------------------------------------------------
int __stdcall sub_10030F5C(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_10035508(1u);
  return off_10080338(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 10080338: using guessed type int (__stdcall *off_10080338)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10030F91) --------------------------------------------------------
int __stdcall sub_10030F91(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // ecx@1
  int result; // eax@1

  v6 = a2;
  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(v6 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(v6 + 4)) * a6
                     + *(float *)(v6 + 4);
  *(float *)(a1 + 8) = (*(float *)(a3 + 8) - *(float *)(v6 + 8)) * a5
                     + (*(float *)(a4 + 8) - *(float *)(v6 + 8)) * a6
                     + *(float *)(v6 + 8);
  *(float *)(a1 + 12) = (*(float *)(a3 + 12) - *(float *)(v6 + 12)) * a5
                      + (*(float *)(a4 + 12) - *(float *)(a2 + 12)) * a6
                      + *(float *)(v6 + 12);
  return result;
}

//----- (10031035) --------------------------------------------------------
int __cdecl sub_10031035()
{
  sub_10035508(1u);
  return off_10080268();
}
// 10080268: using guessed type int (*off_10080268)(void);

//----- (10031048) --------------------------------------------------------
int __stdcall sub_10031048(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 48) * *(float *)(a2 + 12)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 52) * *(float *)(a2 + 12)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 36) * *(float *)(a2 + 8);
  v5 = *(float *)(a3 + 56) * *(float *)(a2 + 12)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 40) * *(float *)(a2 + 8);
  result = a1;
  v7 = *(float *)(a3 + 60) * *(float *)(a2 + 12)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 44) * *(float *)(a2 + 8);
  *(_DWORD *)a1 = LODWORD(v3);
  *(_DWORD *)(a1 + 4) = LODWORD(v4);
  *(_DWORD *)(a1 + 8) = LODWORD(v5);
  *(_DWORD *)(a1 + 12) = LODWORD(v7);
  return result;
}

//----- (100310E7) --------------------------------------------------------
int __cdecl sub_100310E7()
{
  sub_10035508(1u);
  return off_1008028C();
}
// 1008028C: using guessed type int (*off_1008028C)(void);

//----- (100310FA) --------------------------------------------------------
void __stdcall sub_100310FA(int a1)
{
  _EAX = a1;
  __asm
  {
    fld     dword ptr [eax+28h]
    fmul    dword ptr [eax+3Ch]
    fld     dword ptr [eax+38h]
    fmul    dword ptr [eax+2Ch]
    fsubp   st(1), st
    fld     dword ptr [eax+3Ch]
    fmul    dword ptr [eax+24h]
    fld     dword ptr [eax+34h]
    fmul    dword ptr [eax+2Ch]
    fsubp   st(1), st
    fld     dword ptr [eax+38h]
    fmul    dword ptr [eax+24h]
    fld     dword ptr [eax+28h]
    fmul    dword ptr [eax+34h]
    fsubp   st(1), st
    fld     dword ptr [eax+20h]
    fmul    dword ptr [eax+3Ch]
    fld     dword ptr [eax+30h]
    fmul    dword ptr [eax+2Ch]
    fsubp   st(1), st
    fld     dword ptr [eax+38h]
    fmul    dword ptr [eax+20h]
    fld     dword ptr [eax+30h]
    fmul    dword ptr [eax+28h]
    fsubp   st(1), st
    fld     dword ptr [eax+20h]
    fmul    dword ptr [eax+34h]
    fld     dword ptr [eax+30h]
    fmul    dword ptr [eax+24h]
    fsubp   st(1), st
    fstp    [ebp+arg_0]
    fld     st(4)
    fmul    dword ptr [eax+14h]
    fld     st(4)
    fmul    dword ptr [eax+18h]
    fsubp   st(1), st
    fld     st(3)
    fmul    dword ptr [eax+1Ch]
    faddp   st(1), st
    fmul    dword ptr [eax]
    fld     st(5)
    fmul    dword ptr [eax+10h]
    fld     st(3)
    fmul    dword ptr [eax+18h]
    fsubp   st(1), st
    fld     st(2)
    fmul    dword ptr [eax+1Ch]
    faddp   st(1), st
    fmul    dword ptr [eax+4]
    fsubp   st(1), st
    fld     st(4)
    fmul    dword ptr [eax+10h]
    fld     st(3)
    fmul    dword ptr [eax+14h]
    fsubp   st(1), st
    fld     [ebp+arg_0]
    fmul    dword ptr [eax+1Ch]
    faddp   st(1), st
    fmul    dword ptr [eax+8]
    faddp   st(1), st
    fld     st(3)
    fmul    dword ptr [eax+10h]
    fld     st(2)
    fmul    dword ptr [eax+14h]
    fsubp   st(1), st
    fld     [ebp+arg_0]
    fmul    dword ptr [eax+18h]
    faddp   st(1), st
    fmul    dword ptr [eax+0Ch]
    fsubp   st(1), st
    fstp    st(5)
    fstp    st
    fstp    st
    fstp    st
    fstp    st
  }
}
// 10031100: inconsistent fpu stack

//----- (100311C4) --------------------------------------------------------
int __cdecl sub_100311C4()
{
  sub_10035508(1u);
  return off_1008026C();
}
// 1008026C: using guessed type int (*off_1008026C)(void);

//----- (100311D7) --------------------------------------------------------
void *__stdcall sub_100311D7(void *a1, int a2, int a3)
{
  void *result; // eax@1
  char *v4; // esi@2
  char v5; // [sp+4h] [bp-40h]@3

  result = a1;
  if ( a1 == (void *)a2 || (v4 = (char *)a1, a1 == (void *)a3) )
    v4 = &v5;
  *(float *)v4 = *(float *)(a2 + 12) * *(float *)(a3 + 48)
               + *(float *)a2 * *(float *)a3
               + *(float *)(a2 + 8) * *(float *)(a3 + 32)
               + *(float *)(a3 + 16) * *(float *)(a2 + 4);
  *((float *)v4 + 1) = *(float *)(a2 + 4) * *(float *)(a3 + 20)
                     + *(float *)(a2 + 12) * *(float *)(a3 + 52)
                     + *(float *)(a2 + 8) * *(float *)(a3 + 36)
                     + *(float *)(a3 + 4) * *(float *)a2;
  *((float *)v4 + 2) = *(float *)(a2 + 12) * *(float *)(a3 + 56)
                     + *(float *)(a3 + 8) * *(float *)a2
                     + *(float *)(a2 + 8) * *(float *)(a3 + 40)
                     + *(float *)(a3 + 24) * *(float *)(a2 + 4);
  *((float *)v4 + 3) = *(float *)(a2 + 12) * *(float *)(a3 + 60)
                     + *(float *)(a3 + 44) * *(float *)(a2 + 8)
                     + *(float *)a2 * *(float *)(a3 + 12)
                     + *(float *)(a3 + 28) * *(float *)(a2 + 4);
  *((float *)v4 + 4) = *(float *)(a2 + 28) * *(float *)(a3 + 48)
                     + *(float *)(a2 + 16) * *(float *)a3
                     + *(float *)(a3 + 16) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 32);
  *((float *)v4 + 5) = *(float *)(a2 + 24) * *(float *)(a3 + 36)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 52)
                     + *(float *)(a3 + 20) * *(float *)(a2 + 20)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 16);
  *((float *)v4 + 6) = *(float *)(a3 + 24) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 56)
                     + *(float *)(a3 + 8) * *(float *)(a2 + 16)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 40);
  *((float *)v4 + 7) = *(float *)(a3 + 28) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 60)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 44)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 12);
  *((float *)v4 + 8) = *(float *)(a2 + 44) * *(float *)(a3 + 48)
                     + *(float *)(a2 + 32) * *(float *)a3
                     + *(float *)(a3 + 16) * *(float *)(a2 + 36)
                     + *(float *)(a2 + 40) * *(float *)(a3 + 32);
  *((float *)v4 + 9) = *(float *)(a2 + 44) * *(float *)(a3 + 52)
                     + *(float *)(a2 + 40) * *(float *)(a3 + 36)
                     + *(float *)(a3 + 20) * *(float *)(a2 + 36)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 32);
  *((float *)v4 + 10) = *(float *)(a3 + 24) * *(float *)(a2 + 36)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 32)
                      + *(float *)(a2 + 44) * *(float *)(a3 + 56)
                      + *(float *)(a2 + 40) * *(float *)(a3 + 40);
  *((float *)v4 + 11) = *(float *)(a2 + 44) * *(float *)(a3 + 60)
                      + *(float *)(a2 + 40) * *(float *)(a3 + 44)
                      + *(float *)(a3 + 28) * *(float *)(a2 + 36)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 12);
  *((float *)v4 + 12) = *(float *)(a2 + 60) * *(float *)(a3 + 48)
                      + *(float *)(a2 + 48) * *(float *)a3
                      + *(float *)(a3 + 16) * *(float *)(a2 + 52)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 32);
  *((float *)v4 + 13) = *(float *)(a2 + 60) * *(float *)(a3 + 52)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 36)
                      + *(float *)(a3 + 20) * *(float *)(a2 + 52)
                      + *(float *)(a3 + 4) * *(float *)(a2 + 48);
  *((float *)v4 + 14) = *(float *)(a3 + 24) * *(float *)(a2 + 52)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 48)
                      + *(float *)(a2 + 60) * *(float *)(a3 + 56)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 40);
  *((float *)v4 + 15) = *(float *)(a2 + 60) * *(float *)(a3 + 60)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 44)
                      + *(float *)(a3 + 28) * *(float *)(a2 + 52)
                      + *(float *)(a2 + 48) * *(float *)(a3 + 12);
  if ( v4 != a1 )
    memcpy(a1, v4, 0x40u);
  return result;
}

//----- (1003140D) --------------------------------------------------------
int __cdecl sub_1003140D()
{
  sub_10035508(1u);
  return off_100802F4();
}
// 100802F4: using guessed type int (*off_100802F4)(void);

//----- (10031420) --------------------------------------------------------
int __stdcall sub_10031420(int a1, int a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st7@1
  double v5; // st7@1
  double v6; // st7@1
  double v7; // st7@1
  double v8; // st7@1

  v2 = *(float *)(a2 + 4);
  result = a1;
  *(float *)(a1 + 4) = *(float *)(a2 + 16);
  *(float *)(a1 + 16) = v2;
  v4 = *(float *)(a2 + 8);
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 32);
  *(float *)(a1 + 32) = v4;
  v5 = *(float *)(a2 + 12);
  *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 48);
  *(float *)(a1 + 48) = v5;
  v6 = *(float *)(a2 + 24);
  *(_DWORD *)(a1 + 24) = *(_DWORD *)(a2 + 36);
  *(float *)(a1 + 36) = v6;
  v7 = *(float *)(a2 + 28);
  *(_DWORD *)(a1 + 28) = *(_DWORD *)(a2 + 52);
  *(float *)(a1 + 52) = v7;
  v8 = *(float *)(a2 + 44);
  *(_DWORD *)(a1 + 44) = *(_DWORD *)(a2 + 56);
  *(float *)(a1 + 56) = v8;
  if ( a1 != a2 )
  {
    *(_DWORD *)a1 = *(_DWORD *)a2;
    *(_DWORD *)(a1 + 20) = *(_DWORD *)(a2 + 20);
    *(_DWORD *)(a1 + 40) = *(_DWORD *)(a2 + 40);
    *(_DWORD *)(a1 + 60) = *(_DWORD *)(a2 + 60);
  }
  return result;
}

//----- (1003148D) --------------------------------------------------------
int __cdecl sub_1003148D()
{
  sub_10035508(1u);
  return off_10080270();
}
// 10080270: using guessed type int (*off_10080270)(void);

//----- (100314A0) --------------------------------------------------------
void *__stdcall sub_100314A0(void *a1, int a2, int a3)
{
  void *result; // eax@1
  char *v4; // esi@2
  char v5; // [sp+4h] [bp-40h]@3

  result = a1;
  if ( a1 == (void *)a2 || (v4 = (char *)a1, a1 == (void *)a3) )
    v4 = &v5;
  *(float *)v4 = *(float *)(a2 + 12) * *(float *)(a3 + 48)
               + *(float *)a2 * *(float *)a3
               + *(float *)(a2 + 8) * *(float *)(a3 + 32)
               + *(float *)(a3 + 16) * *(float *)(a2 + 4);
  *((float *)v4 + 1) = *(float *)(a2 + 16) * *(float *)a3
                     + *(float *)(a3 + 48) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 32) * *(float *)(a2 + 24)
                     + *(float *)(a3 + 16) * *(float *)(a2 + 20);
  *((float *)v4 + 2) = *(float *)(a2 + 40) * *(float *)(a3 + 32)
                     + *(float *)(a2 + 36) * *(float *)(a3 + 16)
                     + *(float *)(a3 + 48) * *(float *)(a2 + 44)
                     + *(float *)(a2 + 32) * *(float *)a3;
  *((float *)v4 + 3) = *(float *)(a2 + 52) * *(float *)(a3 + 16)
                     + *(float *)(a2 + 60) * *(float *)(a3 + 48)
                     + *(float *)a3 * *(float *)(a2 + 48)
                     + *(float *)(a2 + 56) * *(float *)(a3 + 32);
  *((float *)v4 + 4) = *(float *)(a3 + 36) * *(float *)(a2 + 8)
                     + *(float *)(a3 + 4) * *(float *)a2
                     + *(float *)(a3 + 52) * *(float *)(a2 + 12)
                     + *(float *)(a2 + 4) * *(float *)(a3 + 20);
  *((float *)v4 + 5) = *(float *)(a3 + 52) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 24)
                     + *(float *)(a2 + 20) * *(float *)(a3 + 20)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 4);
  *((float *)v4 + 6) = *(float *)(a2 + 36) * *(float *)(a3 + 20)
                     + *(float *)(a3 + 52) * *(float *)(a2 + 44)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 40)
                     + *(float *)(a2 + 32) * *(float *)(a3 + 4);
  *((float *)v4 + 7) = *(float *)(a2 + 52) * *(float *)(a3 + 20)
                     + *(float *)(a3 + 52) * *(float *)(a2 + 60)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 56)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 48);
  *((float *)v4 + 8) = *(float *)(a3 + 40) * *(float *)(a2 + 8)
                     + *(float *)(a3 + 8) * *(float *)a2
                     + *(float *)(a2 + 4) * *(float *)(a3 + 24)
                     + *(float *)(a3 + 56) * *(float *)(a2 + 12);
  *((float *)v4 + 9) = *(float *)(a3 + 56) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 40) * *(float *)(a2 + 24)
                     + *(float *)(a2 + 20) * *(float *)(a3 + 24)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 8);
  *((float *)v4 + 10) = *(float *)(a2 + 36) * *(float *)(a3 + 24)
                      + *(float *)(a3 + 56) * *(float *)(a2 + 44)
                      + *(float *)(a3 + 40) * *(float *)(a2 + 40)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 8);
  *((float *)v4 + 11) = *(float *)(a2 + 52) * *(float *)(a3 + 24)
                      + *(float *)(a3 + 56) * *(float *)(a2 + 60)
                      + *(float *)(a3 + 40) * *(float *)(a2 + 56)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 48);
  *((float *)v4 + 12) = *(float *)(a3 + 44) * *(float *)(a2 + 8)
                      + *(float *)(a3 + 12) * *(float *)a2
                      + *(float *)(a2 + 4) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 12);
  *((float *)v4 + 13) = *(float *)(a3 + 60) * *(float *)(a2 + 28)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 24)
                      + *(float *)(a2 + 20) * *(float *)(a3 + 28)
                      + *(float *)(a2 + 16) * *(float *)(a3 + 12);
  *((float *)v4 + 14) = *(float *)(a2 + 36) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 44)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 40)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 12);
  *((float *)v4 + 15) = *(float *)(a2 + 52) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 60)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 56)
                      + *(float *)(a3 + 12) * *(float *)(a2 + 48);
  if ( v4 != a1 )
    memcpy(a1, v4, 0x40u);
  return result;
}

//----- (100316F6) --------------------------------------------------------
int __cdecl sub_100316F6()
{
  sub_10035508(1u);
  return off_100802A8();
}
// 100802A8: using guessed type int (*off_100802A8)(void);

//----- (10031709) --------------------------------------------------------
int __stdcall sub_10031709(int a1, int a2, int a3)
{
  int v4; // ST40_4@1
  int v5; // ST3C_4@1
  int v6; // ST44_4@1
  int v7; // ST58_4@1
  int v8; // ST48_4@1
  int v10; // ST4C_4@1
  int v22; // ST24_4@1
  int v23; // ST40_4@1
  int v24; // ST44_4@1
  int v25; // ST58_4@1
  int v26; // ST48_4@1
  double v28; // ST00_8@3
  int result; // eax@3
  int v46; // [sp+6Ch] [bp+10h]@1
  int v47; // [sp+6Ch] [bp+10h]@1
  int v48; // [sp+6Ch] [bp+10h]@1

  _EAX = a3;
  __asm
  {
    fld     dword ptr [eax]
    fld     dword ptr [eax+4]
  }
  v4 = *(_DWORD *)(a3 + 16);
  v5 = *(_DWORD *)(a3 + 20);
  __asm
  {
    fld     [ebp+var_20]
    fmul    st, st(2)
  }
  v6 = *(_DWORD *)(a3 + 32);
  __asm
  {
    fld     [ebp+var_1C]
    fmul    st, st(2)
  }
  v7 = *(_DWORD *)(a3 + 36);
  v8 = *(_DWORD *)(a3 + 48);
  __asm { fsubp   st(1), st }
  v46 = *(_DWORD *)(a3 + 52);
  __asm { fstp    [ebp+var_C] }
  v10 = *(_DWORD *)(_EAX + 56);
  __asm
  {
    fld     [ebp+var_4]
    fmul    st, st(2)
    fld     [ebp+var_18]
    fmul    st, st(2)
    fsubp   st(1), st
    fstp    [ebp+var_8]
    fld     [ebp+arg_8]
    fmul    st, st(2)
    fld     [ebp+var_14]
    fmul    st, st(2)
    fsubp   st(1), st
    fstp    [ebp+var_2C]
    fstp    st
    fstp    st
    fld     [ebp+var_4]
    fmul    [ebp+var_1C]
    fld     [ebp+var_18]
    fmul    [ebp+var_20]
    fsubp   st(1), st
    fstp    [ebp+var_38]
    fld     [ebp+arg_8]
    fmul    [ebp+var_1C]
    fld     [ebp+var_14]
    fmul    [ebp+var_20]
    fsubp   st(1), st
    fstp    [ebp+var_34]
    fld     [ebp+arg_8]
  }
  v47 = *(_DWORD *)(_EAX + 60);
  __asm
  {
    fmul    [ebp+var_18]
    fld     [ebp+var_14]
    fmul    [ebp+var_4]
    fsubp   st(1), st
    fstp    [ebp+var_30]
    fld     dword ptr [eax+8]
    fld     dword ptr [eax+0Ch]
    fld     dword ptr [eax+18h]
    fst     [ebp+var_28]
    fld     dword ptr [eax+1Ch]
    fst     [ebp+var_20]
    fld     dword ptr [eax+28h]
    fst     [ebp+var_24]
    fld     dword ptr [eax+2Ch]
    fst     [ebp+var_4]
    fld     st(5)
    fmul    [ebp+var_38]
    fld     st(4)
    fmul    [ebp+var_8]
    fsubp   st(1), st
    fld     st(2)
    fmul    [ebp+var_C]
    faddp   st(1), st
    fstp    [ebp+var_54]
    fld     st(3)
    fmul    [ebp+var_2C]
    fld     [ebp+var_10]
    fmul    [ebp+var_C]
    fsubp   st(1), st
    fld     st(6)
    fmul    [ebp+var_34]
    fsubp   st(1), st
    fstp    [ebp+var_50]
    fld     st(5)
    fmul    [ebp+var_30]
    fld     st(2)
    fmul    [ebp+var_2C]
    fsubp   st(1), st
    fld     [ebp+var_10]
    fmul    [ebp+var_8]
    faddp   st(1), st
    fstp    [ebp+var_4C]
    fld     st(1)
    fmul    [ebp+var_34]
    fld     [ebp+var_10]
    fmul    [ebp+var_38]
    fsubp   st(1), st
    fld     st(4)
    fmul    [ebp+var_30]
    fsubp   st(1), st
    fstp    [ebp+var_48]
    fld     [ebp+var_8]
    fmul    st, st(3)
    fld     [ebp+var_C]
    fmul    st, st(2)
    fsubp   st(1), st
    fld     [ebp+var_38]
    fmul    st, st(6)
    fsubp   st(1), st
    fstp    [ebp+var_44]
    fld     [ebp+var_34]
    fmul    st, st(5)
    fld     [ebp+var_2C]
    fmul    st, st(4)
    fsubp   st(1), st
    fld     [ebp+var_C]
    fmul    [ebp+arg_8]
    faddp   st(1), st
    fstp    [ebp+var_40]
    fld     [ebp+var_2C]
    fmul    st, st(1)
    fld     [ebp+var_8]
    fmul    [ebp+arg_8]
    fsubp   st(1), st
    fld     [ebp+var_30]
    fmul    st, st(6)
    fsubp   st(1), st
    fstp    [ebp+var_3C]
    fld     [ebp+var_30]
    fmul    st, st(3)
    fld     [ebp+var_34]
    fmul    st, st(2)
    fsubp   st(1), st
    fld     [ebp+var_38]
    fmul    [ebp+arg_8]
    faddp   st(1), st
    fstp    [ebp+var_2C]
    fstp    st
    fstp    st
    fld     st(3)
    fmul    st, st(1)
    fld     st(2)
    fmul    st, st(4)
    fsubp   st(1), st
    fstp    [ebp+var_C]
    fstp    st
    fstp    st
    fld     st(1)
    fmul    [ebp+var_4]
    fld     [ebp+var_24]
    fmul    st, st(2)
    fsubp   st(1), st
    fstp    [ebp+var_8]
    fld     st(1)
    fmul    [ebp+arg_8]
    fld     [ebp+var_10]
    fmul    st, st(2)
    fsubp   st(1), st
    fstp    st(2)
    fstp    st
    fld     [ebp+var_28]
    fmul    [ebp+var_4]
  }
  v22 = *(_DWORD *)_EAX;
  __asm
  {
    fld     [ebp+var_24]
    fmul    [ebp+var_20]
  }
  v23 = *(_DWORD *)(_EAX + 16);
  v24 = *(_DWORD *)(_EAX + 32);
  __asm
  {
    fsubp   st(1), st
    fld     [ebp+var_28]
    fmul    [ebp+arg_8]
    fld     [ebp+var_10]
    fmul    [ebp+var_20]
    fsubp   st(1), st
    fld     [ebp+var_24]
    fmul    [ebp+arg_8]
    fld     [ebp+var_10]
    fmul    [ebp+var_4]
  }
  v25 = *(_DWORD *)(_EAX + 36);
  v26 = *(_DWORD *)(_EAX + 48);
  __asm
  {
    fsubp   st(1), st
    fld     dword ptr [eax+4]
    fld     dword ptr [eax+14h]
    fld     [ebp+var_8]
  }
  v48 = *(_DWORD *)(_EAX + 52);
  __asm
  {
    fmul    st, st(1)
    fld     [ebp+var_C]
    fmul    [ebp+var_4]
    fsubp   st(1), st
    fld     st(5)
    fmul    st, st(3)
    fsubp   st(1), st
    fstp    [ebp+var_10]
    fld     st(3)
    fmul    st, st(2)
    fld     st(6)
    fmul    st, st(2)
    fsubp   st(1), st
    fld     [ebp+var_C]
    fmul    [ebp+arg_8]
    faddp   st(1), st
    fstp    [ebp+var_24]
    fld     st(5)
    fmul    [ebp+var_4]
    fld     [ebp+var_8]
    fmul    [ebp+arg_8]
    fsubp   st(1), st
    fld     st(3)
    fmul    st, st(3)
    fsubp   st(1), st
    fstp    [ebp+var_28]
    fld     st(2)
    fmul    st, st(1)
    fld     st(4)
    fmul    [ebp+var_4]
    fsubp   st(1), st
    fld     st(5)
    fmul    [ebp+arg_8]
    faddp   st(1), st
    fstp    [ebp+var_34]
    fstp    st
    fstp    st
    fld     st(2)
    fmul    [ebp+var_38]
    fld     [ebp+var_8]
    fmul    [ebp+var_1C]
    fsubp   st(1), st
    fld     [ebp+var_C]
    fmul    [ebp+var_18]
    faddp   st(1), st
    fstp    [ebp+arg_8]
    fld     st(3)
    fmul    [ebp+var_1C]
    fld     [ebp+var_C]
    fmul    [ebp+var_14]
    fsubp   st(1), st
    fld     st(2)
  }
  _EAX = a2;
  __asm
  {
    fmul    [ebp+var_38]
    fsubp   st(1), st
    fstp    [ebp+var_4]
    fld     [ebp+var_38]
    fmul    st, st(1)
    fld     st(4)
    fmul    [ebp+var_18]
    fsubp   st(1), st
    fld     [ebp+var_8]
    fmul    [ebp+var_14]
    faddp   st(1), st
    fstp    [ebp+var_20]
    fld     st(1)
    fmul    [ebp+var_18]
    fld     st(3)
    fmul    [ebp+var_14]
    fsubp   st(1), st
    fld     st(1)
    fmul    [ebp+var_1C]
    fsubp   st(1), st
    fstp    [ebp+var_30]
    fstp    st
    fstp    st
    fstp    st
    fstp    st
    fld     [ebp+var_10]
    fmul    [ebp+var_14]
    fld     [ebp+var_24]
    fmul    [ebp+var_18]
    faddp   st(1), st
    fld     [ebp+var_28]
    fmul    [ebp+var_1C]
    faddp   st(1), st
    fld     [ebp+var_34]
    fmul    [ebp+var_38]
    faddp   st(1), st
  }
  if ( a2 )
    __asm { fst     dword ptr [eax] }
  __asm
  {
    fld1
    fdiv    st, st(1)
    fstp    [ebp+var_8]
    fstp    st
    fld     [ebp+var_8]
    fstp    [esp+5Ch+var_5C]
  }
  result = finite(v28);
  if ( result )
  {
    result = a1;
    __asm
    {
      fld     [ebp+var_8]
      fld     [ebp+var_34]
      fmul    st, st(1)
      fstp    dword ptr [eax]
      fld     [ebp+var_28]
      fmul    st, st(1)
      fstp    dword ptr [eax+4]
      fld     [ebp+var_24]
      fmul    st, st(1)
      fstp    dword ptr [eax+8]
      fld     [ebp+var_10]
      fmul    st, st(1)
      fstp    dword ptr [eax+0Ch]
      fld     [ebp+var_30]
      fmul    st, st(1)
      fstp    dword ptr [eax+10h]
      fld     [ebp+var_20]
      fmul    st, st(1)
      fstp    dword ptr [eax+14h]
      fld     [ebp+var_4]
      fmul    st, st(1)
      fstp    dword ptr [eax+18h]
      fld     [ebp+arg_8]
      fmul    st, st(1)
      fstp    dword ptr [eax+1Ch]
      fld     [ebp+var_2C]
      fmul    st, st(1)
      fstp    dword ptr [eax+20h]
      fld     [ebp+var_3C]
      fmul    st, st(1)
      fstp    dword ptr [eax+24h]
      fld     [ebp+var_40]
      fmul    st, st(1)
      fstp    dword ptr [eax+28h]
      fld     [ebp+var_44]
      fmul    st, st(1)
      fstp    dword ptr [eax+2Ch]
      fld     [ebp+var_48]
      fmul    st, st(1)
      fstp    dword ptr [eax+30h]
      fld     [ebp+var_4C]
      fmul    st, st(1)
      fstp    dword ptr [eax+34h]
      fld     [ebp+var_50]
      fmul    st, st(1)
      fstp    dword ptr [eax+38h]
      fld     [ebp+var_54]
      fmul    st, st(1)
      fstp    dword ptr [eax+3Ch]
      fstp    st
    }
  }
  return result;
}
// 10031715: inconsistent fpu stack

//----- (10031B93) --------------------------------------------------------
int __stdcall sub_10031B93(int a1, float a2, float a3, float a4)
{
  sub_10035508(1u);
  return off_100802E4(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 100802E4: using guessed type int (__stdcall *off_100802E4)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10031BC7) --------------------------------------------------------
int __stdcall sub_10031BC7(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(float *)(a1 + 56) = 0.0;
  *(_DWORD *)a1 = a2;
  *(float *)(a1 + 52) = 0.0;
  *(_DWORD *)(a1 + 20) = a3;
  *(float *)(a1 + 48) = 0.0;
  *(_DWORD *)(a1 + 40) = a4;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (10031C23) --------------------------------------------------------
int __stdcall sub_10031C23(int a1, float a2, float a3, float a4)
{
  sub_10035508(1u);
  return off_100802C8(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 100802C8: using guessed type int (__stdcall *off_100802C8)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10031C77) --------------------------------------------------------
int __stdcall sub_10031C77(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(float *)(a1 + 44) = 0.0;
  *(_DWORD *)(a1 + 48) = a2;
  *(float *)(a1 + 36) = 0.0;
  *(_DWORD *)(a1 + 52) = a3;
  *(float *)(a1 + 32) = 0.0;
  *(_DWORD *)(a1 + 56) = a4;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  *(float *)(a1 + 40) = 1.0;
  *(float *)(a1 + 20) = 1.0;
  *(float *)a1 = 1.0;
  return result;
}

//----- (10031CF8) --------------------------------------------------------
int __stdcall sub_10031CF8(int a1, float a2)
{
  sub_10035508(1u);
  return off_100802D8(a1, LODWORD(a2));
}
// 100802D8: using guessed type int (__stdcall *off_100802D8)(_DWORD, _DWORD);

//----- (10031D1A) --------------------------------------------------------
int __stdcall sub_10031D1A(int a1, float a2)
{
  int result; // eax@1
  float v3; // ecx@1
  double v4; // st7@1
  float v5; // [sp+8h] [bp-8h]@1
  float v6; // [sp+Ch] [bp-4h]@1

  v5 = cos(a2);
  v6 = sin(a2);
  result = a1;
  *(float *)a1 = 1.0;
  v3 = v6;
  *(float *)(a1 + 4) = 0.0;
  *(_DWORD *)(a1 + 24) = LODWORD(v3);
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  v4 = v5;
  *(float *)(a1 + 20) = v5;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 36) = -v6;
  *(float *)(a1 + 40) = v4;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (10031D94) --------------------------------------------------------
int __stdcall sub_10031D94(int a1, float a2)
{
  sub_10035508(1u);
  return off_100802DC(a1, LODWORD(a2));
}
// 100802DC: using guessed type int (__stdcall *off_100802DC)(_DWORD, _DWORD);

//----- (10031DB6) --------------------------------------------------------
int __stdcall sub_10031DB6(int a1, float a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st6@1
  float v5; // [sp+8h] [bp-8h]@1
  float v6; // [sp+Ch] [bp-4h]@1

  v6 = cos(a2);
  v5 = sin(a2);
  v2 = v6;
  result = a1;
  *(float *)a1 = v6;
  *(float *)(a1 + 4) = 0.0;
  v4 = v5;
  *(float *)(a1 + 8) = -v5;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 20) = 1.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = v4;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 40) = v2;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (10031E31) --------------------------------------------------------
int __stdcall sub_10031E31(int a1, float a2)
{
  sub_10035508(1u);
  return off_100802E0(a1, LODWORD(a2));
}
// 100802E0: using guessed type int (__stdcall *off_100802E0)(_DWORD, _DWORD);

//----- (10031E53) --------------------------------------------------------
int __stdcall sub_10031E53(int a1, float a2)
{
  double v2; // st7@1
  int result; // eax@1
  float v4; // [sp+8h] [bp-8h]@1
  float v5; // [sp+Ch] [bp-4h]@1

  v4 = cos(a2);
  v5 = sin(a2);
  v2 = v4;
  result = a1;
  *(float *)a1 = v4;
  *(_DWORD *)(a1 + 4) = LODWORD(v5);
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = -v5;
  *(float *)(a1 + 20) = v2;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 40) = 1.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (10031ECF) --------------------------------------------------------
int __stdcall sub_10031ECF(int a1, int a2, float a3)
{
  sub_10035508(1u);
  return off_10080308(a1, a2, LODWORD(a3));
}
// 10080308: using guessed type int (__stdcall *off_10080308)(_DWORD, _DWORD, _DWORD);

//----- (10031EF5) --------------------------------------------------------
int __stdcall sub_10031EF5(int a1, int a2, float a3)
{
  int result; // eax@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  double v8; // st3@1
  double v9; // st2@1
  double v10; // st3@1
  float v11; // [sp+8h] [bp-1Ch]@1
  float v12; // [sp+Ch] [bp-18h]@1
  float v13; // [sp+10h] [bp-14h]@1
  float *v14; // [sp+14h] [bp-10h]@1
  float *v15; // [sp+18h] [bp-Ch]@1
  float v16; // [sp+1Ch] [bp-8h]@1
  float v17; // [sp+20h] [bp-4h]@1
  float v18; // [sp+30h] [bp+Ch]@1
  float v19; // [sp+34h] [bp+10h]@1
  float v20; // [sp+34h] [bp+10h]@1

  v15 = &v17;
  v14 = &v16;
  v17 = cos(a3);
  v16 = sin(a3);
  LODWORD(v11) = *(_DWORD *)a2;
  v19 = 1.0 - v17;
  LODWORD(v12) = *(_DWORD *)(a2 + 4);
  LODWORD(v13) = *(_DWORD *)(a2 + 8);
  sub_1003074E(&v11, &v11);
  result = a1;
  v4 = v19;
  v20 = v12 * v11 * v19;
  v5 = v13;
  v6 = v12 * v13 * v4;
  v7 = v13 * v11 * v4;
  *(float *)a1 = v11 * v11 * v4 + v17;
  v8 = v5 * v16;
  *(float *)(a1 + 4) = v20 + v8;
  v9 = v12 * v16;
  v18 = v9;
  *(float *)(a1 + 8) = v7 - v9;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v20 - v8;
  *(float *)(a1 + 20) = v12 * v12 * v4 + v17;
  v10 = v11 * v16;
  *(float *)(a1 + 24) = v10 + v6;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = v18 + v7;
  *(float *)(a1 + 36) = v6 - v10;
  *(float *)(a1 + 40) = v5 * v5 * v4 + v17;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}
// 1003074E: using guessed type int __stdcall sub_1003074E(_DWORD, _DWORD);

//----- (10031FF7) --------------------------------------------------------
int __cdecl sub_10031FF7()
{
  sub_10035508(1u);
  return off_100802F8();
}
// 100802F8: using guessed type int (*off_100802F8)(void);

//----- (1003200A) --------------------------------------------------------
int __stdcall sub_1003200A(int a1, int a2)
{
  int v2; // eax@1
  float v3; // ST0C_4@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  float v8; // ST00_4@1
  float v9; // ST0C_4@1
  float v10; // ST08_4@1
  float v11; // ST04_4@1
  double v12; // st3@1
  int result; // eax@1
  double v14; // st2@1
  float v15; // [sp+18h] [bp+8h]@1
  float v16; // [sp+1Ch] [bp+Ch]@1
  float v17; // [sp+1Ch] [bp+Ch]@1

  v2 = a2;
  v3 = *(float *)a2 * 2.0;
  v16 = *(float *)(a2 + 4) * 2.0;
  v4 = 2.0 * *(float *)(v2 + 8);
  v5 = v3 * *(float *)(v2 + 12);
  v6 = v16 * *(float *)(v2 + 12);
  v7 = v4 * *(float *)(v2 + 12);
  v8 = v3 * *(float *)v2;
  v9 = v16 * *(float *)v2;
  v10 = v4 * *(float *)v2;
  v11 = v16 * *(float *)(v2 + 4);
  v17 = v4 * *(float *)(v2 + 4);
  v12 = v4 * *(float *)(v2 + 8);
  result = a1;
  *(float *)a1 = 1.0 - v11 - v12;
  *(float *)(a1 + 4) = v9 + v7;
  *(float *)(a1 + 8) = v10 - v6;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v9 - v7;
  v14 = 1.0 - v8;
  v15 = v14;
  *(float *)(result + 20) = v14 - v12;
  *(float *)(result + 24) = v17 + v5;
  *(float *)(result + 28) = 0.0;
  *(float *)(result + 32) = v10 + v6;
  *(float *)(result + 36) = v17 - v5;
  *(float *)(result + 40) = v15 - v11;
  *(float *)(result + 44) = 0.0;
  *(float *)(result + 48) = 0.0;
  *(float *)(result + 52) = 0.0;
  *(float *)(result + 56) = 0.0;
  *(float *)(result + 60) = 1.0;
  return result;
}

//----- (100320EC) --------------------------------------------------------
int __stdcall sub_100320EC(int a1, float a2, float a3, float a4)
{
  sub_10035508(1u);
  return off_10080300(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 10080300: using guessed type int (__stdcall *off_10080300)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10032120) --------------------------------------------------------
int __cdecl sub_10032120()
{
  sub_10035508(1u);
  return off_100802FC();
}
// 100802FC: using guessed type int (*off_100802FC)(void);

//----- (1003214F) --------------------------------------------------------
int __stdcall sub_1003214F(int a1, float a2, int a3, int a4, int a5)
{
  sub_10035508(1u);
  return off_10080304(a1, LODWORD(a2), a3, a4, a5);
}
// 10080304: using guessed type int (__stdcall *off_10080304)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1003219F) --------------------------------------------------------
int __stdcall sub_1003219F(int a1, float a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-50h]@0
  int v7; // [sp+4h] [bp-4Ch]@0
  int v8; // [sp+8h] [bp-48h]@0
  char v9; // [sp+10h] [bp-40h]@2
  char v10; // [sp+1Ch] [bp-34h]@3

  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)a1 = a2;
  *(float *)(a1 + 20) = a2;
  *(float *)(a1 + 40) = a2;
  *(float *)(a1 + 60) = 1.0;
  if ( a4 )
  {
    sub_10032004(&v9, a4, v6, v7, v8);
    if ( a3 )
    {
      *(float *)(a1 + 48) = *(float *)(a1 + 48) - *(float *)a3;
      *(float *)(a1 + 52) = *(float *)(a1 + 52) - *(float *)(a3 + 4);
      *(float *)(a1 + 56) = *(float *)(a1 + 56) - *(float *)(a3 + 8);
      sub_100311D1(a1, a1, &v10);
      *(float *)(a1 + 48) = *(float *)a3 + *(float *)(a1 + 48);
      *(float *)(a1 + 52) = *(float *)(a1 + 52) + *(float *)(a3 + 4);
      *(float *)(a1 + 56) = *(float *)(a3 + 8) + *(float *)(a1 + 56);
    }
    else
    {
      sub_100311D1(a1, a1, &v10);
    }
  }
  if ( a5 )
  {
    *(float *)(a1 + 48) = *(float *)a5 + *(float *)(a1 + 48);
    *(float *)(a1 + 52) = *(float *)(a5 + 4) + *(float *)(a1 + 52);
    *(float *)(a1 + 56) = *(float *)(a5 + 8) + *(float *)(a1 + 56);
  }
  return a1;
}
// 100311D1: using guessed type int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD);
// 10032004: using guessed type int __stdcall sub_10032004(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10032313) --------------------------------------------------------
int __stdcall sub_10032313(int a1, int a2, int a3, int a4)
{
  int v4; // ebx@1
  float v5; // ST14_4@1
  float v6; // ST18_4@1
  float v7; // ST1C_4@1
  int result; // eax@1
  double v9; // st7@1
  double v10; // st6@1
  double v11; // st7@1
  double v12; // st6@1
  double v13; // st5@1
  float v14; // ecx@1
  double v15; // st4@1
  double v16; // st3@1
  float v17; // [sp+18h] [bp-18h]@1
  float v18; // [sp+1Ch] [bp-14h]@1
  float v19; // [sp+20h] [bp-10h]@1
  float v20; // [sp+24h] [bp-Ch]@1
  float v21; // [sp+28h] [bp-8h]@1
  float v22; // [sp+2Ch] [bp-4h]@1

  v4 = a2;
  v20 = *(float *)a2 - *(float *)a3;
  v21 = *(float *)(a2 + 4) - *(float *)(a3 + 4);
  v22 = *(float *)(a2 + 8) - *(float *)(a3 + 8);
  sub_1003074E(&v20, &v20);
  v5 = v22 * *(float *)(a4 + 4) - v21 * *(float *)(a4 + 8);
  v6 = v20 * *(float *)(a4 + 8) - v22 * *(float *)a4;
  v7 = v21 * *(float *)a4 - v20 * *(float *)(a4 + 4);
  v17 = v5;
  v18 = v6;
  v19 = v7;
  sub_1003074E(&v17, &v17);
  result = a1;
  v9 = v21 * v19;
  *(_DWORD *)(a1 + 16) = LODWORD(v18);
  v10 = v22 * v18;
  *(_DWORD *)(a1 + 32) = LODWORD(v19);
  v11 = v9 - v10;
  v12 = v22 * v17 - v20 * v19;
  v13 = v20 * v18 - v21 * v17;
  *(float *)a1 = v17;
  *(float *)(a1 + 48) = -(v17 * *(float *)v4 + v18 * *(float *)(v4 + 4) + v19 * *(float *)(v4 + 8));
  *(float *)(a1 + 4) = v11;
  v14 = v20;
  *(float *)(a1 + 20) = v12;
  *(float *)(a1 + 36) = v13;
  v15 = v11 * *(float *)v4 + v12 * *(float *)(v4 + 4);
  v16 = v13 * *(float *)(a2 + 8);
  *(_DWORD *)(a1 + 8) = LODWORD(v14);
  *(_DWORD *)(a1 + 24) = LODWORD(v21);
  *(_DWORD *)(a1 + 40) = LODWORD(v22);
  *(float *)(a1 + 52) = -(v15 + v16);
  *(float *)(a1 + 56) = -(v20 * *(float *)v4 + v21 * *(float *)(v4 + 4) + v22 * *(float *)(a2 + 8));
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}
// 1003074E: using guessed type int __stdcall sub_1003074E(_DWORD, _DWORD);

//----- (10032B5A) --------------------------------------------------------
int __thiscall sub_10032B5A(void *this, int a2, float a3, float a4, float a5, float a6, float a7, float a8)
{
  int v8; // eax@1
  double v9; // st6@1
  float v10; // ST00_4@1
  float v12; // [sp+Ch] [bp+8h]@1

  v8 = a2;
  v9 = 1.0 / (a4 - a3);
  v10 = 1.0 / (a6 - a5);
  *(float *)a2 = v9 * 2.0;
  *(float *)(a2 + 4) = 0.0;
  *(float *)(a2 + 8) = 0.0;
  *(float *)(a2 + 12) = 0.0;
  *(float *)(a2 + 16) = 0.0;
  *(float *)(a2 + 20) = v10 * 2.0;
  *(float *)(a2 + 24) = 0.0;
  *(float *)(a2 + 28) = 0.0;
  *(float *)(a2 + 32) = 0.0;
  *(float *)(a2 + 36) = 0.0;
  v12 = 1.0 / (a7 - a8);
  *(float *)(v8 + 40) = v12;
  *(float *)(v8 + 44) = 0.0;
  *(float *)(v8 + 48) = -((a3 + a4) * v9);
  *(float *)(v8 + 52) = -((a5 + a6) * v10);
  *(float *)(v8 + 56) = v12 * a7;
  *(float *)(v8 + 60) = 1.0;
  return ((int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))this)(
           LODWORD(v12),
           LODWORD(a3),
           LODWORD(a4),
           LODWORD(a5),
           LODWORD(a6),
           LODWORD(a7),
           LODWORD(a8));
}

//----- (10032CA0) --------------------------------------------------------
int __cdecl sub_10032CA0()
{
  sub_10035508(1u);
  return off_100802CC();
}
// 100802CC: using guessed type int (*off_100802CC)(void);

//----- (10032CB3) --------------------------------------------------------
int __cdecl sub_10032CB3()
{
  sub_10035508(1u);
  return off_100802D0();
}
// 100802D0: using guessed type int (*off_100802D0)(void);

//----- (10032CC6) --------------------------------------------------------
int __cdecl sub_10032CC6()
{
  sub_10035508(1u);
  return off_100802BC();
}
// 100802BC: using guessed type int (*off_100802BC)(void);

//----- (10032CD9) --------------------------------------------------------
int __stdcall sub_10032CD9(int a1, int a2, int a3)
{
  long double v3; // st3@1
  int result; // eax@1
  long double v5; // st7@3
  long double v6; // st7@5

  v3 = *(float *)a1 * *(float *)a1
     + *(float *)(a1 + 4) * *(float *)(a1 + 4)
     + *(float *)(a1 + 8) * *(float *)(a1 + 8)
     + *(float *)(a1 + 12) * *(float *)(a1 + 12);
  result = a2;
  if ( v3 <= 1.1754944e-38 )
  {
    if ( a2 )
    {
      *(float *)a2 = 1.0;
      *(float *)(a2 + 4) = 0.0;
      *(float *)(a2 + 8) = 0.0;
    }
    result = a3;
    if ( a3 )
      *(float *)a3 = 0.0;
  }
  else
  {
    if ( a2 )
    {
      v5 = 1.0 / sqrt(v3);
      *(float *)a2 = v5 * *(float *)a1;
      *(float *)(a2 + 4) = v5 * *(float *)(a1 + 4);
      *(float *)(a2 + 8) = v5 * *(float *)(a1 + 8);
    }
    if ( a3 )
    {
      v6 = acos(*(float *)(a1 + 12));
      *(float *)a3 = v6 + v6;
    }
  }
  return result;
}

//----- (10032D76) --------------------------------------------------------
int __cdecl sub_10032D76()
{
  sub_10035508(1u);
  return off_100802C0();
}
// 100802C0: using guessed type int (*off_100802C0)(void);

//----- (10032D89) --------------------------------------------------------
int __stdcall sub_10032D89(int a1, int a2)
{
  int v2; // ecx@1
  double v3; // st7@1
  int result; // eax@2
  long double v5; // st7@2
  long double v6; // st7@2
  double v7; // st7@3
  signed int v8; // ebx@3
  double v9; // st6@3
  int v10; // edx@7
  int v11; // edi@7
  int v12; // esi@7
  long double v13; // st7@7
  long double v14; // st7@7
  long double v15; // st7@7
  double v16; // st6@7
  int v17; // ebx@7
  int v18; // edi@7
  int v19; // esi@7
  double v20; // st6@7
  int v21; // edi@7
  int v22; // [sp+0h] [bp-1Ch]@3
  int v23; // [sp+4h] [bp-18h]@3
  int v24; // [sp+8h] [bp-14h]@3
  float v25; // [sp+Ch] [bp-10h]@3
  float v26; // [sp+10h] [bp-Ch]@3
  float v27; // [sp+14h] [bp-8h]@3
  int v28; // [sp+18h] [bp-4h]@7
  int v29; // [sp+24h] [bp+8h]@7
  signed int v30; // [sp+28h] [bp+Ch]@5

  v2 = a2;
  v3 = *(float *)(a2 + 20) + *(float *)a2 + *(float *)(a2 + 40);
  if ( v3 <= 0.0 )
  {
    v24 = 0;
    v7 = *(float *)a2 - *(float *)(a2 + 20) - *(float *)(a2 + 40);
    v8 = 1;
    v25 = v7;
    v22 = 1;
    v9 = *(float *)(a2 + 20);
    v23 = 2;
    v26 = v9 - *(float *)a2 - *(float *)(a2 + 40);
    v27 = *(float *)(a2 + 40) - (*(float *)(a2 + 20) + *(float *)a2);
    if ( v7 >= v26 )
      v8 = 0;
    v30 = v8;
    if ( *(&v25 + v8) < (double)v27 )
    {
      v8 = 2;
      v30 = 2;
    }
    v10 = 4 * v8;
    result = a1;
    v12 = 4 * *(&v22 + v8);
    v13 = sqrt(*(&v25 + v8) + 1.0);
    v28 = *(&v22 + v8);
    v11 = v28;
    v14 = v13 * 0.5;
    *(float *)(4 * v8 + a1) = v14;
    v15 = 0.25 / v14;
    v16 = *(float *)(v2 + 4 * (v12 + v8)) + *(float *)(v2 + 4 * (4 * v8 + v11));
    v17 = 4 * *(int *)((char *)&v22 + v12) + v30;
    v29 = 4 * *(int *)((char *)&v22 + v12);
    v18 = *(int *)((char *)&v22 + v12);
    *(float *)(v12 + result) = v16 * v15;
    v19 = v18 + v12;
    v20 = *(float *)(v2 + 4 * v17) + *(float *)(v2 + 4 * (v18 + v10));
    v21 = v28;
    *(float *)(v29 + result) = v20 * v15;
    *(float *)(result + 12) = (*(float *)(v2 + 4 * v19) - *(float *)(v2 + 4 * (v21 + v29))) * v15;
  }
  else
  {
    result = a1;
    v5 = sqrt(v3 + 1.0) * 0.5;
    *(float *)(a1 + 12) = v5;
    v6 = 0.25 / v5;
    *(float *)a1 = (*(float *)(a2 + 24) - *(float *)(a2 + 36)) * v6;
    *(float *)(a1 + 4) = (*(float *)(a2 + 32) - *(float *)(a2 + 8)) * v6;
    *(float *)(a1 + 8) = (*(float *)(a2 + 4) - *(float *)(a2 + 16)) * v6;
  }
  return result;
}

//----- (10032EBD) --------------------------------------------------------
int __stdcall sub_10032EBD(int a1, int a2, float a3)
{
  sub_10035508(1u);
  return off_100802D4(a1, a2, LODWORD(a3));
}
// 100802D4: using guessed type int (__stdcall *off_100802D4)(_DWORD, _DWORD, _DWORD);

//----- (10032EE3) --------------------------------------------------------
int __stdcall sub_10032EE3(int a1, float a2, float a3)
{
  int v3; // ecx@1
  int result; // eax@1
  float v5; // [sp+0h] [bp-14h]@1
  float v6; // [sp+4h] [bp-10h]@1
  float v7; // [sp+8h] [bp-Ch]@1
  int v8; // [sp+10h] [bp-4h]@1
  float v9; // [sp+1Ch] [bp+8h]@1

  sub_1003074E(&v5, LODWORD(a2));
  v3 = a1;
  v8 = a1 + 12;
  v9 = a3 * 0.5;
  *(float *)v8 = cos(v9);
  a2 = sin(v9);
  result = v3;
  *(float *)v3 = v5 * a2;
  *(float *)(v3 + 4) = v6 * a2;
  *(float *)(v3 + 8) = v7 * a2;
  return result;
}
// 1003074E: using guessed type int __stdcall sub_1003074E(_DWORD, _DWORD);

//----- (10032F3F) --------------------------------------------------------
int __stdcall sub_10032F3F(int a1, float a2, float a3, float a4)
{
  sub_10035508(1u);
  return off_100802C4(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 100802C4: using guessed type int (__stdcall *off_100802C4)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10032F73) --------------------------------------------------------
int __stdcall sub_10032F73(int a1, float a2, float a3, float a4)
{
  float v4; // ST08_4@1
  float v5; // ST0C_4@1
  int result; // eax@1
  double v7; // st7@1
  double v8; // st6@1
  double v9; // st7@1
  double v10; // st6@1
  float v11; // [sp+10h] [bp-10h]@1
  float v12; // [sp+14h] [bp-Ch]@1
  float v13; // [sp+18h] [bp-8h]@1
  float v14; // [sp+1Ch] [bp-4h]@1
  float v15; // [sp+30h] [bp+10h]@1
  float v16; // [sp+30h] [bp+10h]@1
  float v17; // [sp+34h] [bp+14h]@1

  v4 = a4 * 0.5;
  v14 = cos(v4);
  v17 = sin(v4);
  v15 = a3 * 0.5;
  v12 = cos(v15);
  v5 = sin(v15);
  v16 = a2 * 0.5;
  v13 = cos(v16);
  v11 = sin(v16);
  result = a1;
  v7 = v11 * v12;
  v8 = v13 * v5;
  *(float *)a1 = v14 * v8 + v7 * v17;
  *(float *)(a1 + 4) = v7 * v14 - v8 * v17;
  v9 = v13 * v12;
  v10 = v11 * v5;
  *(float *)(a1 + 8) = v9 * v17 - v10 * v14;
  *(float *)(a1 + 12) = v10 * v17 + v9 * v14;
  return result;
}

//----- (1003304C) --------------------------------------------------------
int __cdecl sub_1003304C()
{
  sub_10035508(1u);
  return off_100802AC();
}
// 100802AC: using guessed type int (*off_100802AC)(void);

//----- (1003305F) --------------------------------------------------------
int __stdcall sub_1003305F(int a1, int a2, int a3)
{
  _EAX = a3;
  _EDX = a2;
  _ECX = a1;
  __asm
  {
    fld     dword ptr [eax+0Ch]
    fmul    dword ptr [edx]
    fld     dword ptr [eax+0Ch]
    fmul    dword ptr [edx+8]
    fld     dword ptr [eax+0Ch]
    fmul    dword ptr [edx+4]
    fld     dword ptr [eax+0Ch]
    fmul    dword ptr [edx+0Ch]
    fxch    st(3)
    fld     dword ptr [eax]
    fmul    dword ptr [edx+0Ch]
    fld     dword ptr [eax]
    fmul    dword ptr [edx+4]
    fld     dword ptr [eax]
    fmul    dword ptr [edx+8]
    fld     dword ptr [eax]
    fmul    dword ptr [edx]
    fxch    st(3)
    faddp   st(4), st
    fsubp   st(4), st
    faddp   st(4), st
    fsubp   st(4), st
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+8]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+0Ch]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+4]
    fxch    st(3)
    faddp   st(4), st
    faddp   st(4), st
    fsubp   st(4), st
    fsubp   st(4), st
    fld     dword ptr [eax+8]
    fmul    dword ptr [edx+4]
    fld     dword ptr [eax+8]
    fmul    dword ptr [edx+0Ch]
    fld     dword ptr [eax+8]
    fmul    dword ptr [edx]
    fld     dword ptr [eax+8]
    fmul    dword ptr [edx+8]
    fxch    st(3)
    fsubp   st(4), st
    faddp   st(4), st
    faddp   st(4), st
    fsubp   st(4), st
    fstp    dword ptr [ecx]
    fstp    dword ptr [ecx+4]
    fstp    dword ptr [ecx+8]
    fstp    dword ptr [ecx+0Ch]
  }
  return a1;
}
// 1003306B: inconsistent fpu stack

//----- (100330F5) --------------------------------------------------------
int __cdecl sub_100330F5()
{
  sub_10035508(1u);
  return off_100802B0();
}
// 100802B0: using guessed type int (*off_100802B0)(void);

//----- (10033108) --------------------------------------------------------
int __stdcall sub_10033108(int a1, int a2)
{
  float *v2; // esi@1
  int v3; // eax@1
  int result; // eax@2
  int v5; // esi@3
  long double v6; // st7@5
  long double v7; // st7@5
  float v8; // [sp+10h] [bp-10h]@5
  float v9; // [sp+14h] [bp-Ch]@5
  float v10; // [sp+18h] [bp-8h]@5
  float v11; // [sp+1Ch] [bp-4h]@5
  float v12; // [sp+2Ch] [bp+Ch]@1

  v2 = (float *)a2;
  v12 = *(float *)a2 * *(float *)a2
      + *(float *)(a2 + 4) * *(float *)(a2 + 4)
      + *(float *)(a2 + 8) * *(float *)(a2 + 8)
      + *(float *)(a2 + 12) * *(float *)(a2 + 12);
  LOBYTE(v3) = sub_100304A0(v12, 1.0);
  if ( v3 )
  {
    result = a1;
    if ( (float *)a1 == v2 )
      return result;
    goto LABEL_3;
  }
  result = a1;
  if ( v12 > 1.1754944e-38 )
  {
    v6 = 1.0 / sqrt(v12);
    v8 = v6 * *v2;
    v9 = v6 * v2[1];
    v10 = v6 * v2[2];
    v7 = v6 * v2[3];
    v2 = &v8;
    v11 = v7;
LABEL_3:
    *(_DWORD *)result = *(_DWORD *)v2;
    v5 = (int)(v2 + 1);
    *(_DWORD *)(result + 4) = *(_DWORD *)v5;
    v5 += 4;
    *(_DWORD *)(result + 8) = *(_DWORD *)v5;
    *(_DWORD *)(result + 12) = *(_DWORD *)(v5 + 4);
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  return result;
}

//----- (100331C1) --------------------------------------------------------
int __cdecl sub_100331C1()
{
  sub_10035508(1u);
  return off_10080310();
}
// 10080310: using guessed type int (*off_10080310)(void);

//----- (100331D4) --------------------------------------------------------
float *__stdcall sub_100331D4(float *a1, int a2)
{
  int v2; // edx@1
  float *v3; // ecx@1
  int v4; // eax@2
  double v5; // st7@3
  double v6; // st7@3
  float v8; // [sp+14h] [bp+Ch]@1

  v2 = a2;
  v3 = a1;
  v8 = *(float *)a2 * *(float *)a2
     + *(float *)(a2 + 4) * *(float *)(a2 + 4)
     + *(float *)(a2 + 8) * *(float *)(a2 + 8)
     + *(float *)(a2 + 12) * *(float *)(a2 + 12);
  if ( v8 <= 1.0842022e-19 )
  {
    *a1 = 0.0;
    a1[1] = 0.0;
    a1[2] = 0.0;
    v6 = 0.0;
    goto LABEL_5;
  }
  *a1 = -*(float *)v2;
  a1[1] = -*(float *)(v2 + 4);
  a1[2] = -*(float *)(v2 + 8);
  *((_DWORD *)a1 + 3) = *(_DWORD *)(v2 + 12);
  LOBYTE(v4) = sub_100304A0(v8, 1.0);
  if ( !v4 )
  {
    v5 = 1.0 / v8;
    *v3 = v5 * *v3;
    v3[1] = v5 * v3[1];
    v3[2] = v5 * v3[2];
    v6 = v5 * v3[3];
LABEL_5:
    v3[3] = v6;
  }
  return v3;
}

//----- (1003329B) --------------------------------------------------------
int __stdcall sub_1003329B(int a1, int a2)
{
  int v2; // esi@1
  long double v3; // st7@2
  int v4; // eax@2
  bool v5; // zf@2
  int result; // eax@2
  double v7; // st7@3
  float v8; // [sp+Ch] [bp-4h]@2
  float v9; // [sp+1Ch] [bp+Ch]@3

  v2 = a2;
  if ( *(float *)(a2 + 12) >= 1.0 )
  {
    result = a1;
    goto LABEL_5;
  }
  v3 = acos(*(float *)(a2 + 12));
  v8 = sin(v3);
  LOBYTE(v4) = sub_100304A0(v8, 0.0);
  v5 = v4 == 0;
  result = a1;
  if ( !v5 )
  {
LABEL_5:
    *(float *)result = *(float *)a2;
    *(_DWORD *)(result + 4) = *(_DWORD *)(a2 + 4);
    *(_DWORD *)(result + 8) = *(_DWORD *)(a2 + 8);
    goto LABEL_6;
  }
  v9 = v3;
  v7 = v9 / v8;
  *(float *)a1 = v7 * *(float *)v2;
  *(float *)(a1 + 4) = v7 * *(float *)(v2 + 4);
  *(float *)(a1 + 8) = v7 * *(float *)(v2 + 8);
LABEL_6:
  *(float *)(result + 12) = 0.0;
  return result;
}

//----- (1003332C) --------------------------------------------------------
int __stdcall sub_1003332C(int a1, float a2)
{
  int v2; // eax@1
  int v3; // ecx@1
  double v4; // st7@4
  float v6; // [sp+10h] [bp-4h]@1

  v6 = sqrt(*LODWORD(a2) * *LODWORD(a2) + *(float *)(LODWORD(a2) + 4) * *(float *)(LODWORD(a2) + 4) + *(float *)(LODWORD(a2) + 8) * *(float *)(LODWORD(a2) + 8));
  *(float *)(a1 + 12) = cos(v6);
  a2 = sin(v6);
  LOBYTE(v2) = sub_100304A0(a2, 0.0);
  if ( v2 )
  {
    if ( a1 != v3 )
    {
      *(_DWORD *)a1 = *(_DWORD *)v3;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(a1 + 8) = *(_DWORD *)(v3 + 8);
    }
  }
  else
  {
    v4 = a2 / v6;
    *(float *)a1 = v4 * *(float *)v3;
    *(float *)(a1 + 4) = v4 * *(float *)(v3 + 4);
    *(float *)(a1 + 8) = v4 * *(float *)(v3 + 8);
  }
  return a1;
}

//----- (100333C7) --------------------------------------------------------
int __stdcall sub_100333C7(int a1, int a2, int a3, float a4)
{
  sub_10035508(1u);
  return off_100802EC(a1, a2, a3, LODWORD(a4));
}
// 100802EC: using guessed type int (__stdcall *off_100802EC)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (100333F1) --------------------------------------------------------
int __stdcall sub_100333F1(int a1, int a2, int a3, float a4)
{
  int v4; // ecx@1
  double v5; // st7@1
  int v6; // edx@1
  double v7; // st6@1
  double v8; // st5@4
  long double v9; // st5@5
  float v10; // ST00_4@5
  long double v11; // st6@5
  long double v12; // st6@7
  int result; // eax@7
  float v14; // [sp+10h] [bp+Ch]@2
  float v15; // [sp+14h] [bp+10h]@4
  float v16; // [sp+14h] [bp+10h]@5

  v4 = a2;
  v5 = 1.0 - a4;
  v6 = a3;
  v7 = *(float *)a2 * *(float *)a3
     + *(float *)(a3 + 8) * *(float *)(a2 + 8)
     + *(float *)(a3 + 4) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)(a2 + 12);
  if ( v7 < 0.0 )
    v14 = -1.0;
  else
    v14 = 1.0;
  v8 = v14 * v7;
  v15 = v8;
  if ( 1.0 - v8 <= 0.00000011920929 )
  {
    v11 = a4;
  }
  else
  {
    v9 = sqrt(1.0 - v8 * v8);
    v16 = atan2(v15, v9);
    v10 = 1.0 / v9;
    v5 = sin(v16 * v5) * v10;
    v11 = sin(v16 * a4) * v10;
  }
  v12 = v11 * v14;
  result = a1;
  *(float *)a1 = v5 * *(float *)v4 + v12 * *(float *)v6;
  *(float *)(a1 + 4) = v12 * *(float *)(v6 + 4) + v5 * *(float *)(v4 + 4);
  *(float *)(a1 + 8) = v12 * *(float *)(v6 + 8) + v5 * *(float *)(v4 + 8);
  *(float *)(a1 + 12) = v12 * *(float *)(v6 + 12) + v5 * *(float *)(v4 + 12);
  return result;
}

//----- (100334D4) --------------------------------------------------------
int __stdcall sub_100334D4(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_10035508(1u);
  return off_1008030C(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 1008030C: using guessed type int (__stdcall *off_1008030C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10033504) --------------------------------------------------------
int __stdcall sub_10033504(int a1, int a2, int a3, int a4, int a5, float a6)
{
  float v6; // ST0C_4@1
  char v8; // [sp+4h] [bp-20h]@1
  char v9; // [sp+14h] [bp-10h]@1

  sub_100333EB(&v8, a2, a5, a6);
  sub_100333EB(&v9, a3, a4, a6);
  v6 = (1.0 - a6) * a6 + (1.0 - a6) * a6;
  sub_100333EB(a1, &v8, &v9, v6);
  return a1;
}
// 100333EB: using guessed type _DWORD __stdcall sub_100333EB(_DWORD, _DWORD, _DWORD, float);

//----- (1003355B) --------------------------------------------------------
int __cdecl sub_1003355B()
{
  sub_10035508(1u);
  return off_10080314();
}
// 10080314: using guessed type int (*off_10080314)(void);

//----- (10033572) --------------------------------------------------------
int __stdcall sub_10033572(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_10035508(1u);
  return off_100802F0(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 100802F0: using guessed type int (__stdcall *off_100802F0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (100335A7) --------------------------------------------------------
int __stdcall sub_100335A7(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // eax@1
  float v7; // ST0C_4@4
  char v9; // [sp+Ch] [bp-20h]@4
  char v10; // [sp+1Ch] [bp-10h]@4
  float v11; // [sp+44h] [bp+18h]@1

  v11 = a5 + a6;
  LOBYTE(v6) = sub_100304A0(v11, 0.0);
  if ( v6 )
  {
    if ( a1 != a2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)a2;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
      *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 8);
      *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 12);
    }
  }
  else
  {
    sub_100333EB(&v9, a2, a3, v11);
    sub_100333EB(&v10, a2, a4, v11);
    v7 = a6 / v11;
    sub_100333EB(a1, &v9, &v10, v7);
  }
  return a1;
}
// 100333EB: using guessed type _DWORD __stdcall sub_100333EB(_DWORD, _DWORD, _DWORD, float);

//----- (10033632) --------------------------------------------------------
int __cdecl sub_10033632()
{
  sub_10035508(1u);
  return off_100802B4();
}
// 100802B4: using guessed type int (*off_100802B4)(void);

//----- (10033645) --------------------------------------------------------
int __stdcall sub_10033645(int a1, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int result; // eax@2
  int v5; // esi@3
  long double v6; // st7@5
  long double v7; // st7@5
  float v8; // [sp+18h] [bp+Ch]@1

  v2 = a2;
  v8 = *(float *)a2 * *(float *)a2 + *(float *)(a2 + 4) * *(float *)(a2 + 4) + *(float *)(a2 + 8) * *(float *)(a2 + 8);
  LOBYTE(v3) = sub_100304A0(v8, 1.0);
  if ( v3 )
  {
    result = a1;
    if ( a1 != v2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)v2;
      v5 = v2 + 4;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)v5;
      v5 += 4;
      *(_DWORD *)(a1 + 8) = *(_DWORD *)v5;
      *(_DWORD *)(a1 + 12) = *(_DWORD *)(v5 + 4);
    }
  }
  else
  {
    result = a1;
    if ( v8 <= 1.1754944e-38 )
    {
      *(float *)a1 = 0.0;
      *(float *)(a1 + 4) = 0.0;
      *(float *)(a1 + 8) = 0.0;
      v7 = 0.0;
    }
    else
    {
      v6 = 1.0 / sqrt(v8);
      *(float *)a1 = v6 * *(float *)v2;
      *(float *)(a1 + 4) = v6 * *(float *)(v2 + 4);
      *(float *)(a1 + 8) = v6 * *(float *)(v2 + 8);
      v7 = v6 * *(float *)(v2 + 12);
    }
    *(float *)(a1 + 12) = v7;
  }
  return result;
}

//----- (100336E9) --------------------------------------------------------
int __cdecl sub_100336E9()
{
  sub_10035508(1u);
  return off_100802B8();
}
// 100802B8: using guessed type int (*off_100802B8)(void);

//----- (100336FC) --------------------------------------------------------
int __stdcall sub_100336FC(int a1, double X, int a3)
{
  double v3; // st7@1
  double v4; // st6@1
  int result; // eax@3

  v3 = *LODWORD(X) * *HIDWORD(X)
     + *(float *)(LODWORD(X) + 4) * *(float *)(HIDWORD(X) + 4)
     + *(float *)(HIDWORD(X) + 8) * *(float *)(LODWORD(X) + 8);
  v4 = v3
     - (*LODWORD(X) * *(float *)a3
      + *(float *)(a3 + 8) * *(float *)(LODWORD(X) + 8)
      + *(float *)(LODWORD(X) + 4) * *(float *)(a3 + 4));
  if ( v4 != 0.0 && (*(float *)&X = (v3 + *(float *)(LODWORD(X) + 12)) / v4, finite((float)X)) )
  {
    result = a1;
    *(float *)a1 = (*(float *)a3 - *HIDWORD(X)) * (float)X + *HIDWORD(X);
    *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(HIDWORD(X) + 4)) * (float)X + *(float *)(HIDWORD(X) + 4);
    *(float *)(a1 + 8) = (*(float *)(a3 + 8) - *(float *)(HIDWORD(X) + 8)) * (float)X + *(float *)(HIDWORD(X) + 8);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1003379E) --------------------------------------------------------
int __cdecl sub_1003379E()
{
  sub_10035508(1u);
  return off_10080290();
}
// 10080290: using guessed type int (*off_10080290)(void);

//----- (100337B1) --------------------------------------------------------
int __stdcall sub_100337B1(int a1, int a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(float *)a1 = *(float *)a3;
  *(_DWORD *)(a1 + 4) = *(_DWORD *)(a3 + 4);
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a3 + 8);
  *(float *)(a1 + 12) = -(*(float *)(a2 + 4) * *(float *)(a3 + 4)
                        + *(float *)(a2 + 8) * *(float *)(a3 + 8)
                        + *(float *)a2 * *(float *)a3);
  return result;
}

//----- (100337E9) --------------------------------------------------------
int __cdecl sub_100337E9()
{
  sub_10035508(1u);
  return off_10080294();
}
// 10080294: using guessed type int (*off_10080294)(void);

//----- (100337FC) --------------------------------------------------------
int __stdcall sub_100337FC(int a1, int a2, int a3, int a4)
{
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  float v7; // ST20_4@1
  float v8; // ST24_4@1
  double v9; // st4@1
  float v10; // ST14_4@1
  float v11; // ST18_4@1
  float v12; // ST1C_4@1
  int result; // eax@1

  v4 = *(float *)a2 - *(float *)a3;
  v5 = *(float *)(a2 + 4) - *(float *)(a3 + 4);
  v6 = *(float *)(a2 + 8) - *(float *)(a3 + 8);
  v7 = *(float *)a2 - *(float *)a4;
  v8 = *(float *)(a2 + 4) - *(float *)(a4 + 4);
  v9 = *(float *)(a2 + 8) - *(float *)(a4 + 8);
  v10 = v9 * v5 - v8 * v6;
  v11 = v6 * v7 - v9 * v4;
  v12 = v8 * v4 - v7 * v5;
  *(_DWORD *)a1 = LODWORD(v10);
  *(_DWORD *)(a1 + 4) = LODWORD(v11);
  *(_DWORD *)(a1 + 8) = LODWORD(v12);
  sub_1003074E(a1, a1);
  result = a1;
  *(float *)(a1 + 12) = -(*(float *)(a1 + 8) * *(float *)(a2 + 8)
                        + *(float *)(a1 + 4) * *(float *)(a2 + 4)
                        + *(float *)a1 * *(float *)a2);
  return result;
}
// 1003074E: using guessed type int __stdcall sub_1003074E(_DWORD, _DWORD);

//----- (1003389E) --------------------------------------------------------
int __cdecl sub_1003389E()
{
  sub_10035508(1u);
  return off_100802E8();
}
// 100802E8: using guessed type int (*off_100802E8)(void);

//----- (100338B1) --------------------------------------------------------
int __stdcall sub_100338B1(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)(a3 + 48) * *(float *)(a2 + 12)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 52) * *(float *)(a2 + 12)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4);
  v5 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 56) * *(float *)(a2 + 12)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4);
  result = a1;
  v7 = *(float *)(a3 + 44) * *(float *)(a2 + 8)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 60) * *(float *)(a2 + 12)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4);
  *(_DWORD *)a1 = LODWORD(v3);
  *(_DWORD *)(a1 + 4) = LODWORD(v4);
  *(_DWORD *)(a1 + 8) = LODWORD(v5);
  *(_DWORD *)(a1 + 12) = LODWORD(v7);
  return result;
}

//----- (10033ABF) --------------------------------------------------------
int __stdcall sub_10033ABF(int a1, float *a2)
{
  int v2; // eax@1
  int v3; // ecx@1
  int result; // eax@2
  float v5; // ecx@3
  long double v6; // st7@6
  float v7; // ST08_4@6
  long double v8; // st7@6
  float v9; // ST0C_4@6
  float v10; // [sp+1Ch] [bp+Ch]@1

  v10 = *a2 * *a2 + a2[1] * a2[1];
  LOBYTE(v2) = sub_100304A0(v10, 1.0);
  if ( v2 )
  {
    result = a1;
    if ( a1 == v3 )
      return result;
    *(_DWORD *)a1 = *(_DWORD *)v3;
    LODWORD(v5) = *(_DWORD *)(v3 + 4);
    goto LABEL_4;
  }
  result = a1;
  if ( v10 > 1.1754944e-38 )
  {
    v6 = 1.0 / sqrt(v10);
    v7 = v6 * *(float *)v3;
    v8 = v6 * *(float *)(v3 + 4);
    *(_DWORD *)a1 = LODWORD(v7);
    v9 = v8;
    v5 = v9;
LABEL_4:
    *(_DWORD *)(result + 4) = LODWORD(v5);
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  return result;
}

//----- (10033B4C) --------------------------------------------------------
int __stdcall sub_10033B4C(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3 + *(float *)(a3 + 48);
  v4 = *(float *)(a3 + 4) * *(float *)a2 + *(float *)(a3 + 20) * *(float *)(a2 + 4) + *(float *)(a3 + 52);
  v5 = *(float *)(a3 + 8) * *(float *)a2 + *(float *)(a3 + 24) * *(float *)(a2 + 4) + *(float *)(a3 + 56);
  result = a1;
  v7 = *(float *)(a3 + 12) * *(float *)a2 + *(float *)(a3 + 28) * *(float *)(a2 + 4) + *(float *)(a3 + 60);
  *(_DWORD *)a1 = LODWORD(v3);
  *(_DWORD *)(a1 + 4) = LODWORD(v4);
  *(_DWORD *)(a1 + 8) = LODWORD(v5);
  *(_DWORD *)(a1 + 12) = LODWORD(v7);
  return result;
}

//----- (10033BB7) --------------------------------------------------------
float *__stdcall sub_10033BB7(float *a1, int a2, int a3)
{
  double v3; // st6@1
  double v4; // st7@1
  int v5; // eax@1
  bool v6; // zf@1
  float *result; // eax@1
  double v8; // st7@2
  float v9; // [sp+8h] [bp-4h]@1

  v3 = *(float *)a2 * *(float *)(a3 + 4) + *(float *)(a2 + 4) * *(float *)(a3 + 20) + *(float *)(a3 + 52);
  v4 = *(float *)a2 * *(float *)(a3 + 12) + *(float *)(a2 + 4) * *(float *)(a3 + 28) + *(float *)(a3 + 60);
  *a1 = *(float *)a2 * *(float *)a3 + *(float *)(a2 + 4) * *(float *)(a3 + 16) + *(float *)(a3 + 48);
  a1[1] = v3;
  v9 = v4;
  LOBYTE(v5) = sub_100304A0(v9, 1.0);
  v6 = v5 == 0;
  result = a1;
  if ( v6 )
  {
    v8 = 1.0 / v9;
    *a1 = v8 * *a1;
    a1[1] = v8 * a1[1];
  }
  return result;
}

//----- (10033C37) --------------------------------------------------------
int __stdcall sub_10033C37(int a1, int a2, int a3)
{
  float v3; // ST00_4@1
  double v4; // st7@1
  double v5; // st6@1
  int result; // eax@1
  float v7; // ST04_4@1

  v3 = *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 4) * *(float *)a2;
  v5 = *(float *)(a3 + 20) * *(float *)(a2 + 4);
  result = a1;
  *(_DWORD *)a1 = LODWORD(v3);
  v7 = v4 + v5;
  *(_DWORD *)(a1 + 4) = LODWORD(v7);
  return result;
}

//----- (10033C73) --------------------------------------------------------
int __stdcall sub_10033C73(int a1, int a2)
{
  float *v2; // esi@1
  int v3; // eax@1
  int result; // eax@2
  int v5; // esi@3
  long double v6; // st7@5
  long double v7; // st7@5
  float v8; // [sp+10h] [bp-Ch]@5
  float v9; // [sp+14h] [bp-8h]@5
  float v10; // [sp+18h] [bp-4h]@5
  float v11; // [sp+28h] [bp+Ch]@1

  v2 = (float *)a2;
  v11 = *(float *)a2 * *(float *)a2 + *(float *)(a2 + 4) * *(float *)(a2 + 4) + *(float *)(a2 + 8) * *(float *)(a2 + 8);
  LOBYTE(v3) = sub_100304A0(v11, 1.0);
  if ( v3 )
  {
    result = a1;
    if ( (float *)a1 == v2 )
      return result;
    goto LABEL_3;
  }
  result = a1;
  if ( v11 > 1.1754944e-38 )
  {
    v6 = 1.0 / sqrt(v11);
    v8 = v6 * *v2;
    v9 = v6 * v2[1];
    v7 = v6 * v2[2];
    v2 = &v8;
    v10 = v7;
LABEL_3:
    *(_DWORD *)result = *(_DWORD *)v2;
    v5 = (int)(v2 + 1);
    *(_DWORD *)(result + 4) = *(_DWORD *)v5;
    *(_DWORD *)(result + 8) = *(_DWORD *)(v5 + 4);
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  return result;
}

//----- (10033D13) --------------------------------------------------------
float __stdcall sub_10033D13(float a1, int a2, int a3)
{
  float v6; // ST04_4@1
  float v7; // ST00_4@1
  int v8; // eax@1
  bool v9; // zf@1
  float result; // eax@1

  _EAX = a2;
  _EDX = a3;
  _ECX = a1;
  __asm
  {
    fld     dword ptr [eax]
    fmul    dword ptr [edx]
    fld     dword ptr [eax]
    fmul    dword ptr [edx+8]
    fld     dword ptr [eax]
    fmul    dword ptr [edx+4]
    fld     dword ptr [eax]
    fmul    dword ptr [edx+0Ch]
    fxch    st(3)
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+10h]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+18h]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+14h]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+1Ch]
    fxch    st(3)
    faddp   st(4), st
    faddp   st(4), st
    faddp   st(4), st
    faddp   st(4), st
    fld     dword ptr [eax+8]
    fmul    dword ptr [edx+20h]
    fld     dword ptr [eax+8]
    fmul    dword ptr [edx+28h]
    fld     dword ptr [eax+8]
    fmul    dword ptr [edx+24h]
    fld     dword ptr [eax+8]
    fmul    dword ptr [edx+2Ch]
    fxch    st(3)
    faddp   st(4), st
    faddp   st(4), st
    faddp   st(4), st
    faddp   st(4), st
    fld     dword ptr [edx+30h]
    faddp   st(1), st
    fld     dword ptr [edx+34h]
    faddp   st(2), st
    fld     dword ptr [edx+38h]
    faddp   st(3), st
    fld     dword ptr [edx+3Ch]
    faddp   st(4), st
    fstp    dword ptr [ecx]
    fstp    dword ptr [ecx+4]
    fstp    dword ptr [ecx+8]
    fstp    [ebp+var_4]
    fld1
    fstp    [esp+0Ch+var_8]
    fld     [ebp+var_4]
    fstp    [esp+0Ch+var_C]
  }
  LOBYTE(v8) = sub_100304A0(v7, v6);
  v9 = v8 == 0;
  result = a1;
  if ( v9 )
  {
    __asm
    {
      fld1
      fdiv    [ebp+var_4]
      fld     st
      fmul    dword ptr [eax]
      fstp    dword ptr [eax]
      fld     st
      fmul    dword ptr [eax+4]
      fstp    dword ptr [eax+4]
      fmul    dword ptr [eax+8]
      fstp    dword ptr [eax+8]
    }
  }
  return result;
}
// 10033D20: inconsistent fpu stack

//----- (10033DD2) --------------------------------------------------------
int __stdcall sub_10033DD2(int a1, int a2, int a3, float *a4, float *a5, float *a6)
{
  float *v6; // esi@1
  float *v8; // [sp-8h] [bp-58h]@5
  float *v9; // [sp-4h] [bp-54h]@5
  float v10; // [sp+10h] [bp-40h]@1
  float v11; // [sp+14h] [bp-3Ch]@2
  float v12; // [sp+18h] [bp-38h]@2
  float v13; // [sp+1Ch] [bp-34h]@2
  float v14; // [sp+20h] [bp-30h]@2
  float v15; // [sp+24h] [bp-2Ch]@2
  float v16; // [sp+28h] [bp-28h]@2
  float v17; // [sp+2Ch] [bp-24h]@2
  float v18; // [sp+30h] [bp-20h]@2
  float v19; // [sp+34h] [bp-1Ch]@2
  float v20; // [sp+38h] [bp-18h]@2
  float v21; // [sp+3Ch] [bp-14h]@2
  float v22; // [sp+40h] [bp-10h]@2
  float v23; // [sp+44h] [bp-Ch]@2
  float v24; // [sp+48h] [bp-8h]@2
  float v25; // [sp+4Ch] [bp-4h]@2

  v6 = &v10;
  switch ( a4 != 0 | 2 * (a5 != 0 | 2 * (a6 != 0)) )
  {
    case 0:
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v16 = 0.0;
      v14 = 0.0;
      v13 = 0.0;
      v12 = 0.0;
      v11 = 0.0;
      v25 = 1.0;
      v20 = 1.0;
      v15 = 1.0;
      v10 = 1.0;
      break;
    case 1:
      v6 = a4;
      break;
    case 2:
      v6 = a5;
      break;
    case 3:
      v9 = a4;
      v8 = a5;
      goto LABEL_11;
    case 4:
      v6 = a6;
      break;
    case 5:
      v9 = a4;
      goto LABEL_9;
    case 6:
      v9 = a5;
LABEL_9:
      v8 = a6;
      goto LABEL_11;
    case 7:
      sub_100311D1(&v10, a6, a5);
      v9 = a4;
      v8 = &v10;
LABEL_11:
      sub_100311D1(&v10, v8, v9);
      break;
    default:
      break;
  }
  sub_10030AA6(a1, a2, v6);
  if ( a3 )
  {
    *(float *)a1 = (*(float *)a1 + 1.0) * (double)*(unsigned int *)(a3 + 8) * 0.5 + (double)*(unsigned int *)a3;
    *(float *)(a1 + 4) = (1.0 - *(float *)(a1 + 4)) * (double)*(unsigned int *)(a3 + 12) * 0.5
                       + (double)*(unsigned int *)(a3 + 4);
    *(float *)(a1 + 8) = (*(float *)(a3 + 20) - *(float *)(a3 + 16)) * *(float *)(a1 + 8) + *(float *)(a3 + 16);
  }
  return a1;
}
// 10030AA6: using guessed type int __stdcall sub_10030AA6(_DWORD, _DWORD, _DWORD);
// 100311D1: using guessed type int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD);

//----- (10033F5F) --------------------------------------------------------
int __stdcall sub_10033F5F(int a1, int a2, int a3, float *a4, float *a5, float *a6)
{
  double v6; // st7@14
  int v7; // esi@14
  double v8; // st7@14
  float *v10; // [sp+Ch] [bp-58h]@5
  int v11; // [sp+Ch] [bp-58h]@14
  float *v12; // [sp+10h] [bp-54h]@3
  float *v13; // [sp+10h] [bp-54h]@5
  float *v14; // [sp+10h] [bp-54h]@14
  float v15; // [sp+24h] [bp-40h]@2
  float v16; // [sp+28h] [bp-3Ch]@2
  float v17; // [sp+2Ch] [bp-38h]@2
  float v18; // [sp+30h] [bp-34h]@2
  float v19; // [sp+34h] [bp-30h]@2
  float v20; // [sp+38h] [bp-2Ch]@2
  float v21; // [sp+3Ch] [bp-28h]@2
  float v22; // [sp+40h] [bp-24h]@2
  float v23; // [sp+44h] [bp-20h]@2
  float v24; // [sp+48h] [bp-1Ch]@2
  float v25; // [sp+4Ch] [bp-18h]@2
  float v26; // [sp+50h] [bp-14h]@2
  float v27; // [sp+54h] [bp-10h]@2
  float v28; // [sp+58h] [bp-Ch]@2
  float v29; // [sp+5Ch] [bp-8h]@2
  float v30; // [sp+60h] [bp-4h]@2

  switch ( a4 != 0 | 2 * (a5 != 0 | 2 * (a6 != 0)) )
  {
    case 0:
      v29 = 0.0;
      v28 = 0.0;
      v27 = 0.0;
      v26 = 0.0;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v16 = 0.0;
      v30 = 1.0;
      v25 = 1.0;
      v20 = 1.0;
      v15 = 1.0;
      break;
    case 1:
      v12 = a4;
      goto LABEL_12;
    case 2:
      v12 = a5;
      goto LABEL_12;
    case 3:
      v13 = a4;
      v10 = a5;
      goto LABEL_11;
    case 4:
      v12 = a6;
      goto LABEL_12;
    case 5:
      v13 = a4;
      goto LABEL_9;
    case 6:
      v13 = a5;
LABEL_9:
      v10 = a6;
      goto LABEL_11;
    case 7:
      sub_100311D1(&v15, a6, a5);
      v13 = a4;
      v10 = &v15;
LABEL_11:
      sub_100311D1(&v15, v10, v13);
      v12 = &v15;
LABEL_12:
      sub_10031703(&v15, 0, v12);
      break;
    default:
      break;
  }
  if ( a3 )
  {
    v6 = *(float *)a2 - (double)*(unsigned int *)a3;
    v7 = a1;
    *(float *)a1 = v6 / (double)*(unsigned int *)(a3 + 8) + v6 / (double)*(unsigned int *)(a3 + 8) - 1.0;
    v8 = *(float *)(a2 + 4) - (double)*(unsigned int *)(a3 + 4);
    *(float *)(a1 + 4) = -(v8 / (double)*(unsigned int *)(a3 + 12) + v8 / (double)*(unsigned int *)(a3 + 12) - 1.0);
    v14 = &v15;
    v11 = a1;
    *(float *)(a1 + 8) = (*(float *)(a2 + 8) - *(float *)(a3 + 16)) / (*(float *)(a3 + 20) - *(float *)(a3 + 16));
  }
  else
  {
    v7 = a1;
    v14 = &v15;
    v11 = a2;
  }
  sub_10030AA6(v7, v11, v14);
  return v7;
}
// 10030AA6: using guessed type int __stdcall sub_10030AA6(_DWORD, _DWORD, _DWORD);
// 100311D1: using guessed type int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD);
// 10031703: using guessed type int __stdcall sub_10031703(_DWORD, _DWORD, _DWORD);

//----- (10034105) --------------------------------------------------------
int __stdcall sub_10034105(int a1, int a2)
{
  float *v2; // esi@1
  int v3; // eax@1
  int result; // eax@2
  int v5; // esi@3
  long double v6; // st7@5
  long double v7; // st7@5
  float v8; // [sp+10h] [bp-10h]@5
  float v9; // [sp+14h] [bp-Ch]@5
  float v10; // [sp+18h] [bp-8h]@5
  float v11; // [sp+1Ch] [bp-4h]@5
  float v12; // [sp+2Ch] [bp+Ch]@1

  v2 = (float *)a2;
  v12 = *(float *)a2 * *(float *)a2
      + *(float *)(a2 + 4) * *(float *)(a2 + 4)
      + *(float *)(a2 + 8) * *(float *)(a2 + 8)
      + *(float *)(a2 + 12) * *(float *)(a2 + 12);
  LOBYTE(v3) = sub_100304A0(v12, 1.0);
  if ( v3 )
  {
    result = a1;
    if ( (float *)a1 == v2 )
      return result;
    goto LABEL_3;
  }
  result = a1;
  if ( v12 > 1.1754944e-38 )
  {
    v6 = 1.0 / sqrt(v12);
    v8 = v6 * *v2;
    v9 = v6 * v2[1];
    v10 = v6 * v2[2];
    v7 = v6 * v2[3];
    v2 = &v8;
    v11 = v7;
LABEL_3:
    *(_DWORD *)result = *(_DWORD *)v2;
    v5 = (int)(v2 + 1);
    *(_DWORD *)(result + 4) = *(_DWORD *)v5;
    v5 += 4;
    *(_DWORD *)(result + 8) = *(_DWORD *)v5;
    *(_DWORD *)(result + 12) = *(_DWORD *)(v5 + 4);
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  return result;
}

//----- (100341E5) --------------------------------------------------------
int __stdcall sub_100341E5(int a1, float a2, float a3, float a4)
{
  char v5; // [sp+Ch] [bp-10h]@1
  int v6; // [sp+10h] [bp-Ch]@1
  int v7; // [sp+14h] [bp-8h]@1

  sub_10032F6D(&v5, a2, a3, a4);
  sub_10032004(a1, &v5, *(_DWORD *)&v5, v6, v7);
  return a1;
}
// 10032004: using guessed type int __stdcall sub_10032004(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10032F6D: using guessed type _DWORD __stdcall sub_10032F6D(_DWORD, float, float, float);

//----- (1003421E) --------------------------------------------------------
int __stdcall sub_1003421E(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // ecx@3
  int v8; // ecx@3
  int v9; // esi@4
  int v10; // eax@6
  char *v12; // [sp+Ch] [bp-D0h]@0
  int v13; // [sp+10h] [bp-CCh]@0
  int v14; // [sp+14h] [bp-C8h]@0
  int v15; // [sp+1Ch] [bp-C0h]@3
  float v16; // [sp+20h] [bp-BCh]@3
  float v17; // [sp+24h] [bp-B8h]@3
  float v18; // [sp+28h] [bp-B4h]@3
  float v19; // [sp+2Ch] [bp-B0h]@3
  int v20; // [sp+30h] [bp-ACh]@3
  float v21; // [sp+34h] [bp-A8h]@3
  float v22; // [sp+38h] [bp-A4h]@3
  float v23; // [sp+3Ch] [bp-A0h]@3
  float v24; // [sp+40h] [bp-9Ch]@3
  int v25; // [sp+44h] [bp-98h]@3
  float v26; // [sp+48h] [bp-94h]@3
  float v27; // [sp+4Ch] [bp-90h]@3
  float v28; // [sp+50h] [bp-8Ch]@3
  float v29; // [sp+54h] [bp-88h]@3
  float v30; // [sp+58h] [bp-84h]@3
  char v31; // [sp+5Ch] [bp-80h]@3
  char v32; // [sp+60h] [bp-7Ch]@3
  char v33; // [sp+68h] [bp-74h]@10
  char v34; // [sp+9Ch] [bp-40h]@4
  char v35; // [sp+A0h] [bp-3Ch]@4

  if ( a4 )
  {
    if ( a3 )
    {
      v29 = 0.0;
      v7 = *(_DWORD *)a4;
      v28 = 0.0;
      v15 = v7;
      v8 = *(_DWORD *)(a4 + 4);
      v27 = 0.0;
      v25 = *(_DWORD *)(a4 + 8);
      v26 = 0.0;
      v20 = v8;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v16 = 0.0;
      v30 = 1.0;
      sub_10032004(&v31, a3, v12, v13, v14);
      v12 = &v32;
      if ( a2 )
      {
        sub_1003141A(&v35);
        v9 = a1;
        *(float *)(a1 + 56) = 0.0;
        *(float *)(a1 + 52) = 0.0;
        *(float *)(a1 + 48) = 0.0;
        *(float *)(a1 + 44) = 0.0;
        *(float *)(a1 + 36) = 0.0;
        *(float *)(a1 + 32) = 0.0;
        *(float *)(a1 + 28) = 0.0;
        *(float *)(a1 + 24) = 0.0;
        *(float *)(a1 + 16) = 0.0;
        *(float *)(a1 + 12) = 0.0;
        *(float *)(a1 + 8) = 0.0;
        *(float *)(a1 + 4) = 0.0;
        *(float *)(a1 + 60) = 1.0;
        *(float *)(a1 + 40) = 1.0;
        *(float *)(a1 + 20) = 1.0;
        *(float *)a1 = 1.0;
        *(float *)(a1 + 48) = -*(float *)a2;
        *(float *)(a1 + 52) = -*(float *)(a2 + 4);
        *(float *)(a1 + 56) = -*(float *)(a2 + 8);
        sub_100311D1(a1, a1, &v34);
        sub_100311D1(v9, v9, &v15);
        sub_100311D1(v9, v9, &v31);
        *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a2;
        *(float *)(v9 + 52) = *(float *)(a2 + 4) + *(float *)(v9 + 52);
        *(float *)(v9 + 56) = *(float *)(v9 + 56) + *(float *)(a2 + 8);
      }
      else
      {
        v9 = a1;
        sub_1003141A(a1);
        sub_100311D1(v9, v9, &v15);
        sub_100311D1(v9, v9, &v31);
      }
    }
    else
    {
      v9 = a1;
      *(float *)(a1 + 56) = 0.0;
      *(float *)(a1 + 52) = 0.0;
      *(float *)(a1 + 48) = 0.0;
      *(float *)(a1 + 44) = 0.0;
      *(float *)(a1 + 36) = 0.0;
      *(float *)(a1 + 32) = 0.0;
      *(float *)(a1 + 28) = 0.0;
      *(float *)(a1 + 24) = 0.0;
      *(float *)(a1 + 16) = 0.0;
      *(float *)(a1 + 12) = 0.0;
      *(float *)(a1 + 8) = 0.0;
      *(float *)(a1 + 4) = 0.0;
      *(_DWORD *)a1 = *(_DWORD *)a4;
      *(_DWORD *)(a1 + 20) = *(_DWORD *)(a4 + 4);
      v10 = *(_DWORD *)(a4 + 8);
      *(float *)(a1 + 60) = 1.0;
      *(_DWORD *)(a1 + 40) = v10;
    }
  }
  else
  {
    v9 = a1;
    *(float *)(a1 + 56) = 0.0;
    *(float *)(a1 + 52) = 0.0;
    *(float *)(a1 + 48) = 0.0;
    *(float *)(a1 + 44) = 0.0;
    *(float *)(a1 + 36) = 0.0;
    *(float *)(a1 + 32) = 0.0;
    *(float *)(a1 + 28) = 0.0;
    *(float *)(a1 + 24) = 0.0;
    *(float *)(a1 + 16) = 0.0;
    *(float *)(a1 + 12) = 0.0;
    *(float *)(a1 + 8) = 0.0;
    *(float *)(a1 + 4) = 0.0;
    *(float *)(a1 + 60) = 1.0;
    *(float *)(a1 + 40) = 1.0;
    *(float *)(a1 + 20) = 1.0;
    *(float *)a1 = 1.0;
  }
  if ( a6 )
  {
    sub_10032004(&v31, a6, v12, v13, v14);
    if ( a5 )
    {
      *(float *)(v9 + 48) = *(float *)(v9 + 48) - *(float *)a5;
      *(float *)(v9 + 52) = *(float *)(v9 + 52) - *(float *)(a5 + 4);
      *(float *)(v9 + 56) = *(float *)(v9 + 56) - *(float *)(a5 + 8);
      sub_100311D1(v9, v9, &v33);
      *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a5;
      *(float *)(v9 + 52) = *(float *)(v9 + 52) + *(float *)(a5 + 4);
      *(float *)(v9 + 56) = *(float *)(v9 + 56) + *(float *)(a5 + 8);
    }
    else
    {
      sub_100311D1(v9, v9, &v33);
    }
  }
  if ( a7 )
  {
    *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a7;
    *(float *)(v9 + 52) = *(float *)(a7 + 4) + *(float *)(v9 + 52);
    *(float *)(v9 + 56) = *(float *)(a7 + 8) + *(float *)(v9 + 56);
  }
  return v9;
}
// 100311D1: using guessed type int __cdecl sub_100311D1(_DWORD, _DWORD, _DWORD);
// 1003141A: using guessed type int __stdcall sub_1003141A(_DWORD);
// 10032004: using guessed type int __stdcall sub_10032004(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (100344D2) --------------------------------------------------------
int __stdcall sub_100344D2(int a1, int a2, int a3)
{
  int result; // eax@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  float v8; // ST10_4@1
  double v9; // st3@1
  float v10; // ST14_4@1
  float v11; // [sp+10h] [bp-10h]@1
  float v12; // [sp+14h] [bp-Ch]@1
  float v13; // [sp+18h] [bp-8h]@1
  float v14; // [sp+1Ch] [bp-4h]@1

  sub_1003363F(&v11, a3);
  result = a1;
  v4 = v12 * *(float *)(a2 + 4) + v11 * *(float *)a2 + v14 * *(float *)(a2 + 12) + v13 * *(float *)(a2 + 8);
  v5 = -v11;
  v6 = -v12;
  v7 = -v13;
  v8 = v7;
  v9 = -v14;
  v10 = v9;
  *(float *)a1 = v5 * *(float *)a2 + v4;
  *(float *)(a1 + 16) = v6 * *(float *)a2;
  *(float *)(a1 + 32) = v7 * *(float *)a2;
  *(float *)(a1 + 48) = v9 * *(float *)a2;
  *(float *)(a1 + 4) = v5 * *(float *)(a2 + 4);
  *(float *)(a1 + 20) = v6 * *(float *)(a2 + 4) + v4;
  *(float *)(a1 + 36) = v7 * *(float *)(a2 + 4);
  *(float *)(a1 + 52) = v9 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v5 * *(float *)(a2 + 8);
  *(float *)(a1 + 24) = v6 * *(float *)(a2 + 8);
  *(float *)(a1 + 40) = v7 * *(float *)(a2 + 8) + v4;
  *(float *)(a1 + 56) = v9 * *(float *)(a2 + 8);
  *(float *)(a1 + 12) = v5 * *(float *)(a2 + 12);
  *(float *)(a1 + 28) = v6 * *(float *)(a2 + 12);
  *(float *)(a1 + 44) = v8 * *(float *)(a2 + 12);
  *(float *)(a1 + 60) = v10 * *(float *)(a2 + 12) + v4;
  return result;
}
// 1003363F: using guessed type int __stdcall sub_1003363F(_DWORD, _DWORD);

//----- (100345AC) --------------------------------------------------------
int __stdcall sub_100345AC(int a1, int a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st6@1
  double v5; // st5@1
  float v6; // [sp+0h] [bp-10h]@1
  float v7; // [sp+4h] [bp-Ch]@1
  float v8; // [sp+8h] [bp-8h]@1
  float v9; // [sp+Ch] [bp-4h]@1
  float v10; // [sp+1Ch] [bp+Ch]@1

  sub_1003363F(&v6, a2);
  v2 = v6 * -2.0;
  result = a1;
  v4 = v7 * -2.0;
  v5 = v8 * -2.0;
  v10 = v5;
  *(float *)a1 = v6 * v2 + 1.0;
  *(float *)(a1 + 4) = v4 * v6;
  *(float *)(a1 + 8) = v5 * v6;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v7 * v2;
  *(float *)(a1 + 20) = v7 * v4 + 1.0;
  *(float *)(a1 + 24) = v5 * v7;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = v8 * v2;
  *(float *)(a1 + 36) = v8 * v4;
  *(float *)(a1 + 40) = v8 * v5 + 1.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = v9 * v2;
  *(float *)(a1 + 52) = v9 * v4;
  *(float *)(a1 + 56) = v9 * v10;
  *(float *)(a1 + 60) = 1.0;
  return result;
}
// 1003363F: using guessed type int __stdcall sub_1003363F(_DWORD, _DWORD);

//----- (1003466B) --------------------------------------------------------
int __stdcall sub_1003466B(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax@7
  char v11; // [sp+8h] [bp-44h]@7
  float v12; // [sp+18h] [bp-34h]@7
  float v16; // [sp+28h] [bp-24h]@1
  float v17; // [sp+2Ch] [bp-20h]@1
  float v18; // [sp+30h] [bp-1Ch]@1
  float v19; // [sp+34h] [bp-18h]@1
  float v20; // [sp+38h] [bp-14h]@1
  float v21; // [sp+3Ch] [bp-10h]@1
  float v22; // [sp+40h] [bp-Ch]@1
  float v23; // [sp+44h] [bp-8h]@1
  float v24; // [sp+48h] [bp-4h]@7
  float v25; // [sp+4Ch] [bp+0h]@7
  float v26; // [sp+50h] [bp+4h]@7
  float v27; // [sp+54h] [bp+8h]@7
  float v28; // [sp+58h] [bp+Ch]@1
  float v29; // [sp+5Ch] [bp+10h]@1
  float v30; // [sp+60h] [bp+14h]@1
  float v31; // [sp+64h] [bp+18h]@1
  char v32; // [sp+68h] [bp+1Ch]@7
  float v33; // [sp+6Ch] [bp+20h]@7
  float v34; // [sp+70h] [bp+24h]@7
  float v35; // [sp+74h] [bp+28h]@7
  float v36; // [sp+78h] [bp+2Ch]@2
  float v37; // [sp+7Ch] [bp+30h]@2
  float v38; // [sp+80h] [bp+34h]@2
  float v39; // [sp+84h] [bp+38h]@2
  float v40; // [sp+88h] [bp+3Ch]@1
  float v41; // [sp+8Ch] [bp+40h]@1
  float v42; // [sp+90h] [bp+44h]@1
  float v43; // [sp+94h] [bp+48h]@1
  float v44; // [sp+98h] [bp+4Ch]@7

  LODWORD(v16) = *(_DWORD *)a4;
  LODWORD(v17) = *(_DWORD *)(a4 + 4);
  LODWORD(v18) = *(_DWORD *)(a4 + 8);
  LODWORD(v19) = *(_DWORD *)(a4 + 12);
  LODWORD(v28) = *(_DWORD *)a5;
  LODWORD(v29) = *(_DWORD *)(a5 + 4);
  LODWORD(v30) = *(_DWORD *)(a5 + 8);
  LODWORD(v31) = *(_DWORD *)(a5 + 12);
  __asm
  {
    fld     [ebp+5Ch+var_50]
    fadd    [ebp+5Ch+var_80]
    fld     [ebp+5Ch+var_4C]
    fadd    [ebp+5Ch+var_7C]
    fld     [ebp+5Ch+var_48]
  }
  LODWORD(v40) = *(_DWORD *)a6;
  __asm
  {
    fadd    [ebp+5Ch+var_78]
    fld     [ebp+5Ch+var_44]
    fadd    [ebp+5Ch+var_74]
    fld     [ebp+5Ch+var_80]
  }
  LODWORD(v41) = *(_DWORD *)(a6 + 4);
  __asm
  {
    fsub    [ebp+5Ch+var_50]
    fld     [ebp+5Ch+var_7C]
    fsub    [ebp+5Ch+var_4C]
  }
  LODWORD(v42) = *(_DWORD *)(a6 + 8);
  __asm
  {
    fstp    [ebp+5Ch+var_C]
    fld     [ebp+5Ch+var_78]
    fsub    [ebp+5Ch+var_48]
  }
  LODWORD(v43) = *(_DWORD *)(a6 + 12);
  __asm
  {
    fstp    [ebp+5Ch+var_8]
    fld     [ebp+5Ch+var_74]
  }
  LODWORD(v20) = *(_DWORD *)a7;
  __asm { fsub    [ebp+5Ch+var_44] }
  LODWORD(v21) = *(_DWORD *)(a7 + 4);
  __asm
  {
    fstp    [ebp+5Ch+var_4]
    fld     st(1)
    fmul    st, st(2)
  }
  LODWORD(v22) = *(_DWORD *)(a7 + 8);
  __asm
  {
    fld     st(3)
    fmul    st, st(4)
  }
  LODWORD(v23) = *(_DWORD *)(a7 + 12);
  __asm
  {
    faddp   st(1), st
    fld     st(4)
    fmul    st, st(5)
    faddp   st(1), st
    fld     st(5)
    fmul    st, st(6)
    faddp   st(1), st
    fld     [ebp+5Ch+var_4]
    fmul    [ebp+5Ch+var_4]
    fld     [ebp+5Ch+var_8]
    fmul    [ebp+5Ch+var_8]
    faddp   st(1), st
    fld     [ebp+5Ch+var_C]
    fmul    [ebp+5Ch+var_C]
    faddp   st(1), st
    fld     st(2)
    fmul    st, st(3)
    faddp   st(1), st
    fcompp
    fstp    st
    fstp    st
    fstp    st
    fnstsw  ax
    fstp    st
    fstp    st
  }
  if ( !(HIBYTE(_AX) & 0x41) )
  {
    __asm
    {
      fld     [ebp+5Ch+var_80]
      fchs
      fstp    [ebp+5Ch+var_30]
      fld     [ebp+5Ch+var_7C]
      fchs
      fstp    [ebp+5Ch+var_2C]
      fld     [ebp+5Ch+var_78]
      fchs
      fstp    [ebp+5Ch+var_28]
      fld     [ebp+5Ch+var_74]
      fchs
      fstp    [ebp+5Ch+var_24]
    }
    v16 = v36;
    v17 = v37;
    v18 = v38;
    v19 = v39;
  }
  __asm
  {
    fld     [ebp+5Ch+var_20]
    fadd    [ebp+5Ch+var_50]
    fld     [ebp+5Ch+var_1C]
    fadd    [ebp+5Ch+var_4C]
    fld     [ebp+5Ch+var_18]
    fadd    [ebp+5Ch+var_48]
    fld     [ebp+5Ch+var_14]
    fadd    [ebp+5Ch+var_44]
    fld     [ebp+5Ch+var_50]
    fsub    [ebp+5Ch+var_20]
    fld     [ebp+5Ch+var_4C]
    fsub    [ebp+5Ch+var_1C]
    fstp    [ebp+5Ch+var_C]
    fld     [ebp+5Ch+var_48]
    fsub    [ebp+5Ch+var_18]
    fstp    [ebp+5Ch+var_8]
    fld     [ebp+5Ch+var_44]
    fsub    [ebp+5Ch+var_14]
    fstp    [ebp+5Ch+var_4]
    fld     st(1)
    fmul    st, st(2)
    fld     st(3)
    fmul    st, st(4)
    faddp   st(1), st
    fld     st(4)
    fmul    st, st(5)
    faddp   st(1), st
    fld     st(5)
    fmul    st, st(6)
    faddp   st(1), st
    fld     [ebp+5Ch+var_4]
    fmul    [ebp+5Ch+var_4]
    fld     [ebp+5Ch+var_8]
    fmul    [ebp+5Ch+var_8]
    faddp   st(1), st
    fld     [ebp+5Ch+var_C]
    fmul    [ebp+5Ch+var_C]
    faddp   st(1), st
    fld     st(2)
    fmul    st, st(3)
    faddp   st(1), st
    fcompp
    fstp    st
    fstp    st
    fstp    st
    fnstsw  ax
    fstp    st
    fstp    st
  }
  if ( !(HIBYTE(_AX) & 0x41) )
  {
    __asm
    {
      fld     [ebp+5Ch+var_20]
      fchs
      fstp    [ebp+5Ch+var_30]
      fld     [ebp+5Ch+var_1C]
      fchs
      fstp    [ebp+5Ch+var_2C]
      fld     [ebp+5Ch+var_18]
      fchs
      fstp    [ebp+5Ch+var_28]
      fld     [ebp+5Ch+var_14]
      fchs
      fstp    [ebp+5Ch+var_24]
    }
    v40 = v36;
    v41 = v37;
    v42 = v38;
    v43 = v39;
  }
  __asm
  {
    fld     [ebp+5Ch+var_70]
    fadd    [ebp+5Ch+var_20]
    fld     [ebp+5Ch+var_6C]
    fadd    [ebp+5Ch+var_1C]
    fld     [ebp+5Ch+var_68]
    fadd    [ebp+5Ch+var_18]
    fld     [ebp+5Ch+var_64]
    fadd    [ebp+5Ch+var_14]
    fld     [ebp+5Ch+var_20]
    fsub    [ebp+5Ch+var_70]
    fld     [ebp+5Ch+var_1C]
    fsub    [ebp+5Ch+var_6C]
    fstp    [ebp+5Ch+var_C]
    fld     [ebp+5Ch+var_18]
    fsub    [ebp+5Ch+var_68]
    fstp    [ebp+5Ch+var_8]
    fld     [ebp+5Ch+var_14]
    fsub    [ebp+5Ch+var_64]
    fstp    [ebp+5Ch+var_4]
    fld     st(1)
    fmul    st, st(2)
    fld     st(3)
    fmul    st, st(4)
    faddp   st(1), st
    fld     st(4)
    fmul    st, st(5)
    faddp   st(1), st
    fld     st(5)
    fmul    st, st(6)
    faddp   st(1), st
    fld     [ebp+5Ch+var_4]
    fmul    [ebp+5Ch+var_4]
    fld     [ebp+5Ch+var_8]
    fmul    [ebp+5Ch+var_8]
    faddp   st(1), st
    fld     [ebp+5Ch+var_C]
    fmul    [ebp+5Ch+var_C]
    faddp   st(1), st
    fld     st(2)
    fmul    st, st(3)
    faddp   st(1), st
    fcompp
    fstp    st
    fstp    st
    fstp    st
    fnstsw  ax
    fstp    st
    fstp    st
  }
  if ( !(HIBYTE(_AX) & 0x41) )
  {
    __asm
    {
      fld     [ebp+5Ch+var_70]
      fchs
      fstp    [ebp+5Ch+var_30]
      fld     [ebp+5Ch+var_6C]
      fchs
      fstp    [ebp+5Ch+var_2C]
      fld     [ebp+5Ch+var_68]
      fchs
      fstp    [ebp+5Ch+var_28]
      fld     [ebp+5Ch+var_64]
      fchs
      fstp    [ebp+5Ch+var_24]
    }
    v20 = v36;
    v21 = v37;
    v22 = v38;
    v23 = v39;
  }
  sub_100331CE(&v36, &v28);
  sub_10033059(&v32, &v36, &v16);
  LODWORD(v24) = *(_DWORD *)&v32;
  v25 = v33;
  v26 = v34;
  v27 = v35;
  sub_10033295(&v12, &v24);
  sub_10033059(&v32, &v36, &v40);
  LODWORD(v24) = *(_DWORD *)&v32;
  v25 = v33;
  v26 = v34;
  v27 = v35;
  sub_10033295(&v44, &v24);
  __asm
  {
    fld     [ebp+5Ch+var_90]
    fadd    [ebp+5Ch+var_10]
    fld     [ebp+5Ch+var_8C]
    fadd    [ebp+5Ch+var_C]
    fstp    [ebp+5Ch+var_3C]
    fld     [ebp+5Ch+var_88]
    fadd    [ebp+5Ch+var_8]
    fstp    [ebp+5Ch+var_38]
    fld     [ebp+5Ch+var_84]
    fadd    [ebp+5Ch+var_4]
    fld     ds:flt_100733B0
    fld     st(2)
    fmul    st, st(1)
    fstp    [ebp+5Ch+var_60]
    fld     [ebp+5Ch+var_3C]
    fmul    st, st(1)
    fstp    [ebp+5Ch+var_5C]
    fld     [ebp+5Ch+var_38]
    fmul    st, st(1)
    fstp    [ebp+5Ch+var_58]
    fld     st(1)
    fmul    st, st(1)
    fstp    [ebp+5Ch+var_54]
    fstp    st
    fstp    st
    fstp    st
  }
  sub_10033326(&v11, &v24);
  sub_10033059(&v32, &v28, &v11);
  *(_DWORD *)a1 = *(_DWORD *)&v32;
  *(_DWORD *)(a1 + 4) = LODWORD(v33);
  *(_DWORD *)(a1 + 8) = LODWORD(v34);
  *(_DWORD *)(a1 + 12) = LODWORD(v35);
  sub_100331CE(&v36, &v40);
  sub_10033059(&v32, &v36, &v28);
  LODWORD(v24) = *(_DWORD *)&v32;
  v25 = v33;
  v26 = v34;
  v27 = v35;
  sub_10033295(&v12, &v24);
  sub_10033059(&v32, &v36, &v20);
  LODWORD(v24) = *(_DWORD *)&v32;
  v25 = v33;
  v26 = v34;
  v27 = v35;
  sub_10033295(&v44, &v24);
  __asm
  {
    fld     [ebp+5Ch+var_90]
    fadd    [ebp+5Ch+var_10]
    fld     [ebp+5Ch+var_8C]
    fadd    [ebp+5Ch+var_C]
    fstp    [ebp+5Ch+var_3C]
    fld     [ebp+5Ch+var_88]
    fadd    [ebp+5Ch+var_8]
    fstp    [ebp+5Ch+var_38]
    fld     [ebp+5Ch+var_84]
    fadd    [ebp+5Ch+var_4]
    fld     ds:flt_100733B0
    fld     st(2)
    fmul    st, st(1)
    fstp    [ebp+5Ch+var_60]
    fld     [ebp+5Ch+var_3C]
    fmul    st, st(1)
    fstp    [ebp+5Ch+var_5C]
    fld     [ebp+5Ch+var_38]
    fmul    st, st(1)
    fstp    [ebp+5Ch+var_58]
    fld     st(1)
    fmul    st, st(1)
    fstp    [ebp+5Ch+var_54]
    fstp    st
    fstp    st
    fstp    st
  }
  sub_10033326(&v11, &v24);
  result = sub_10033059(&v32, &v40, &v11);
  *(_DWORD *)a2 = *(_DWORD *)&v32;
  *(_DWORD *)(a2 + 4) = LODWORD(v33);
  *(_DWORD *)(a2 + 8) = LODWORD(v34);
  *(_DWORD *)(a2 + 12) = LODWORD(v35);
  *(_DWORD *)a3 = LODWORD(v40);
  *(_DWORD *)(a3 + 4) = LODWORD(v41);
  *(_DWORD *)(a3 + 8) = LODWORD(v42);
  *(_DWORD *)(a3 + 12) = LODWORD(v43);
  return result;
}
// 1003468C: inconsistent fpu stack
// 10033059: using guessed type int __stdcall sub_10033059(_DWORD, _DWORD, _DWORD);
// 100331CE: using guessed type int __stdcall sub_100331CE(_DWORD, _DWORD);
// 10033295: using guessed type int __stdcall sub_10033295(_DWORD, _DWORD);
// 10033326: using guessed type int __stdcall sub_10033326(_DWORD, _DWORD);

//----- (10034A45) --------------------------------------------------------
int __thiscall sub_10034A45(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_100355E8(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (10034A61) --------------------------------------------------------
int __thiscall sub_10034A61(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_100357F0(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (10034A7D) --------------------------------------------------------
int __thiscall sub_10034A7D(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_100366E7(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (10034A99) --------------------------------------------------------
int __thiscall sub_10034A99(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10036F70(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (10034D27) --------------------------------------------------------
signed int __userpurge sub_10034D27<eax>(int a1<edi>, char *Memory, BYTE Data, DWORD Type, int lpMem, HKEY hKey, int a7)
{
  signed int v7; // esi@1
  signed int v8; // eax@7
  char v10; // [sp+4h] [bp-3E8h]@1

  sub_100388C9((int)&v10);
  v7 = 0;
  if ( lpMem )
    *(_DWORD *)lpMem = 0;
  if ( hKey )
    *(_DWORD *)hKey = 0;
  if ( a7 )
    *(_DWORD *)a7 = 0;
  v8 = sub_1003AD37((int)&v10, a1, Memory, Data, 0, 1, Type, lpMem, hKey, a7);
  if ( v8 < 0 )
    v7 = v8;
  sub_10038972(&v10);
  return v7;
}

//----- (10034D8B) --------------------------------------------------------
int __stdcall sub_10034D8B(signed int a1, char *Dest, size_t Count)
{
  signed int v3; // eax@13
  const char *v5; // [sp-8h] [bp-10h]@71
  signed int v6; // [sp-4h] [bp-Ch]@71

  if ( !Dest || !Count )
    return 0;
  if ( a1 > -2005530522 )
  {
    if ( a1 > -2005529772 )
    {
      if ( a1 == -2005529771 )
      {
        v3 = (signed int)"D3DXERR_INVALIDMESH";
        goto LABEL_71;
      }
      if ( a1 == -2005529770 )
      {
        v3 = (signed int)"D3DXERR_CANNOTATTRSORT";
        goto LABEL_71;
      }
      if ( a1 == -2005529769 )
      {
        v3 = (signed int)"D3DXERR_SKINNINGNOTSUPPORTED";
        goto LABEL_71;
      }
      if ( a1 == -2005529768 )
      {
        v3 = (signed int)"D3DXERR_TOOMANYINFLUENCES";
        goto LABEL_71;
      }
      if ( a1 == -2005529767 )
      {
        v3 = (signed int)"D3DXERR_INVALIDDATA";
        goto LABEL_71;
      }
      if ( a1 == -2005529766 )
      {
        v3 = (signed int)"D3DXERR_LOADEDMESHASNODATA";
        goto LABEL_71;
      }
      if ( !a1 )
      {
        v3 = (signed int)"S_OK";
        goto LABEL_71;
      }
    }
    else
    {
      if ( a1 == -2005529772 )
      {
        v3 = (signed int)"D3DXERR_CANNOTMODIFYINDEXBUFFER";
        goto LABEL_71;
      }
      if ( a1 == -2005530521 )
      {
        v3 = (signed int)"D3DERR_MOREDATA";
        goto LABEL_71;
      }
      if ( a1 == -2005530520 )
      {
        v3 = (signed int)"D3DERR_DEVICELOST";
        goto LABEL_71;
      }
      if ( a1 == -2005530519 )
      {
        v3 = (signed int)"D3DERR_DEVICENOTRESET";
        goto LABEL_71;
      }
      if ( a1 == -2005530518 )
      {
        v3 = (signed int)"D3DERR_NOTAVAILABLE";
        goto LABEL_71;
      }
      if ( a1 == -2005530517 )
      {
        v3 = (signed int)"D3DERR_INVALIDDEVICE";
        goto LABEL_71;
      }
      if ( a1 == -2005530516 )
      {
        v3 = (signed int)"D3DERR_INVALIDCALL";
        goto LABEL_71;
      }
      if ( a1 == -2005530515 )
      {
        v3 = (signed int)"D3DERR_DRIVERINVALIDCALL";
        goto LABEL_71;
      }
    }
    goto LABEL_72;
  }
  if ( a1 == -2005530522 )
  {
    v3 = (signed int)"D3DERR_NOTFOUND";
    goto LABEL_71;
  }
  if ( a1 > -2005530596 )
  {
    if ( a1 == -2005530595 )
    {
      v3 = (signed int)"D3DERR_TOOMANYOPERATIONS";
      goto LABEL_71;
    }
    if ( a1 == -2005530594 )
    {
      v3 = (signed int)"D3DERR_CONFLICTINGTEXTUREFILTER";
      goto LABEL_71;
    }
    if ( a1 == -2005530593 )
    {
      v3 = (signed int)"D3DERR_UNSUPPORTEDFACTORVALUE";
      goto LABEL_71;
    }
    if ( a1 == -2005530591 )
    {
      v3 = (signed int)"D3DERR_CONFLICTINGRENDERSTATE";
      goto LABEL_71;
    }
    if ( a1 == -2005530590 )
    {
      v3 = (signed int)"D3DERR_UNSUPPORTEDTEXTUREFILTER";
      goto LABEL_71;
    }
    if ( a1 == -2005530586 )
    {
      v3 = (signed int)"D3DERR_CONFLICTINGTEXTUREPALETTE";
      goto LABEL_71;
    }
    if ( a1 == -2005530585 )
    {
      v3 = (signed int)"D3DERR_DRIVERINTERNALERROR";
      goto LABEL_71;
    }
    goto LABEL_72;
  }
  if ( a1 == -2005530596 )
  {
    v3 = (signed int)"D3DERR_UNSUPPORTEDALPHAARG";
    goto LABEL_71;
  }
  if ( a1 > -2005530600 )
  {
    if ( a1 == -2005530599 )
    {
      v3 = (signed int)"D3DERR_UNSUPPORTEDCOLOROPERATION";
      goto LABEL_71;
    }
    if ( a1 == -2005530598 )
    {
      v3 = (signed int)"D3DERR_UNSUPPORTEDCOLORARG";
      goto LABEL_71;
    }
    if ( a1 == -2005530597 )
    {
      v3 = (signed int)"D3DERR_UNSUPPORTEDALPHAOPERATION";
      goto LABEL_71;
    }
    goto LABEL_72;
  }
  if ( a1 == -2005530600 )
  {
    v3 = (signed int)"D3DERR_WRONGTEXTUREFORMAT";
    goto LABEL_71;
  }
  if ( a1 == -2147467263 )
  {
    v3 = (signed int)"E_NOTIMPL";
    goto LABEL_71;
  }
  if ( a1 == -2147467259 )
  {
    v3 = (signed int)"E_FAIL";
    goto LABEL_71;
  }
  if ( a1 == -2147024882 )
  {
    v3 = (signed int)"E_OUTOFMEMORY";
    goto LABEL_71;
  }
  if ( a1 != -2005532292 )
  {
LABEL_72:
    v6 = a1;
    v5 = "Unrecognized error: 0x%0.8x";
    goto LABEL_73;
  }
  v3 = (signed int)"D3DERR_OUTOFVIDEOMEMORY";
LABEL_71:
  v6 = v3;
  v5 = "%s";
LABEL_73:
  if ( snprintf(Dest, Count, v5, v6) < 0 && Count )
    Dest[Count - 1] = 0;
  return 0;
}

//----- (10035055) --------------------------------------------------------
signed int __stdcall sub_10035055(int a1, const LOGFONTA *lplf, int a3)
{
  int v3; // eax@4
  int v4; // esi@5
  signed int result; // eax@8
  signed int v6; // edi@9

  if ( a1 && lplf && a3 )
  {
    v3 = sub_100015F0(80);
    if ( v3 )
      v4 = sub_100357D5(v3);
    else
      v4 = 0;
    if ( v4 )
    {
      v6 = sub_1003562F((void *)v4, a1, lplf);
      if ( v6 >= 0 )
      {
        *(_DWORD *)a3 = v4;
        result = 0;
      }
      else
      {
        sub_10034A45(v4, 1);
        result = v6;
      }
    }
    else
    {
      result = -2147024882;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (100350C4) --------------------------------------------------------
signed int __stdcall sub_100350C4(int a1, int a2)
{
  signed int result; // eax@2
  int v3; // eax@5
  int v4; // esi@6
  signed int v5; // edi@10

  if ( a1 )
  {
    if ( a2 )
    {
      v3 = sub_100015F0(32);
      if ( v3 )
        v4 = sub_1003629C(v3);
      else
        v4 = 0;
      if ( v4 )
      {
        v5 = sub_1003583D(v4, a1);
        if ( v5 >= 0 )
        {
          *(_DWORD *)a2 = v4;
          result = 0;
        }
        else
        {
          sub_10034A61(v4, 1);
          result = v5;
        }
      }
      else
      {
        result = -2147024882;
      }
    }
    else
    {
      result = -2005530516;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (1003525D) --------------------------------------------------------
bool __cdecl sub_1003525D(int a1, LPCSTR lpValueName, LPBYTE lpData, DWORD cbData)
{
  LSTATUS v4; // esi@2
  DWORD Type; // [sp+0h] [bp-8h]@2
  HKEY hKey; // [sp+4h] [bp-4h]@1

  hKey = 0;
  return !RegOpenKeyA(HKEY_LOCAL_MACHINE, "Software\\Microsoft\\Direct3D", &hKey)
      && (v4 = RegQueryValueExA(hKey, lpValueName, 0, &Type, lpData, &cbData), RegCloseKey(hKey), !v4)
      && Type == a1;
}

//----- (100352B9) --------------------------------------------------------
bool __cdecl sub_100352B9()
{
  _EAX = 1;
  __asm { cpuid }
  return (_EDX & 0x800000) != 0;
}

//----- (100352DE) --------------------------------------------------------
int __cdecl sub_100352DE()
{
  int v1; // eax@8
  BYTE Data[4]; // [sp+4h] [bp-10h]@2
  DWORD Type; // [sp+8h] [bp-Ch]@2
  DWORD cbData; // [sp+Ch] [bp-8h]@2
  HKEY hKey; // [sp+10h] [bp-4h]@1

  if ( !RegOpenKeyA(HKEY_LOCAL_MACHINE, "Software\\Microsoft\\Direct3D", &hKey) )
  {
    cbData = 4;
    if ( !RegQueryValueExA(hKey, "DisableMMX", 0, &Type, Data, &cbData) && Type == 4 && *(_DWORD *)Data )
    {
      RegCloseKey(hKey);
      dword_1008042C = 0;
      return 0;
    }
    RegCloseKey(hKey);
  }
  if ( dword_1008042C < 0 )
  {
    dword_1008042C = 0;
    LOBYTE(v1) = sub_100352B9();
    if ( v1 )
    {
      _m_femms();
      dword_1008042C = 1;
    }
  }
  return dword_1008042C;
}
// 1008042C: using guessed type int dword_1008042C;

//----- (10035377) --------------------------------------------------------
void __cdecl sub_10035377()
{
  int v10; // [sp+Ch] [bp-4h]@1

  v10 = 0;
  _EAX = -2147483648;
  __asm { cpuid }
  if ( _EAX >= 0x80000001 )
  {
    _EAX = -2147483647;
    __asm { cpuid }
  }
}

//----- (100353AF) --------------------------------------------------------
int __cdecl sub_100353AF()
{
  int result; // eax@2
  int v11; // [sp-Ch] [bp-48h]@1
  int v12; // [sp+4h] [bp-38h]@1
  int v13; // [sp+8h] [bp-34h]@1
  int v14; // [sp+Ch] [bp-30h]@1
  int v15; // [sp+10h] [bp-2Ch]@1
  int v16; // [sp+14h] [bp-28h]@3
  int v17; // [sp+18h] [bp-24h]@1
  int v18; // [sp+1Ch] [bp-20h]@1
  int v19; // [sp+20h] [bp-1Ch]@1
  char v20; // [sp+24h] [bp-18h]@1
  int v21; // [sp+28h] [bp-14h]@1
  int *v22; // [sp+2Ch] [bp-10h]@1
  int v23; // [sp+38h] [bp-4h]@1

  v22 = &v11;
  v21 = 0;
  v17 = *(_DWORD *)"GenuineIntel";
  v18 = *(_DWORD *)"ineIntel";
  v19 = *(_DWORD *)"ntel";
  v20 = aGenuineintel[12];
  _EAX = 0;
  __asm { cpuid }
  v15 = _EAX;
  v12 = _EBX;
  v13 = _EDX;
  v14 = _ECX;
  v23 = -1;
  if ( _EAX )
  {
    _EAX = 1;
    __asm { cpuid }
    v15 = _EAX;
    v16 = _EDX;
    if ( _EDX & 0x2000000 )
      v21 |= 4u;
    if ( v16 & 0x4000000 )
      v21 |= 8u;
    result = v21;
  }
  else
  {
    result = v21;
  }
  return result;
}

//----- (10035454) --------------------------------------------------------
void __cdecl sub_10035454(DWORD ProcessorFeature)
{
  char v1; // bl@1
  int v2; // eax@18
  int v3; // eax@21
  struct _OSVERSIONINFOA VersionInformation; // [sp+8h] [bp-24h]@1
  char v5; // [sp+9Fh] [bp+73h]@1

  memset(&VersionInformation, 0, sizeof(VersionInformation));
  v1 = 0;
  v5 = 0;
  VersionInformation.dwOSVersionInfoSize = 148;
  if ( !GetVersionExA(&VersionInformation) )
  {
    v1 = 1;
    v5 = 1;
  }
  if ( VersionInformation.dwPlatformId == 1 )
  {
    if ( VersionInformation.dwMajorVersion <= 4
      && (VersionInformation.dwMajorVersion != 4
       || VersionInformation.dwMinorVersion < 0xA
       || LOWORD(VersionInformation.dwBuildNumber) < 0x55Du) )
      v5 = 1;
  }
  else
  {
    if ( VersionInformation.dwPlatformId != 2 )
      return;
    if ( !v1 )
    {
      if ( ProcessorFeature != 10 )
      {
        IsProcessorFeaturePresent(ProcessorFeature);
        return;
      }
      goto LABEL_21;
    }
  }
  if ( ProcessorFeature == 6 )
  {
    if ( !v5 )
      v2 = sub_100353AF() & 4;
    return;
  }
  if ( ProcessorFeature == 7 )
  {
    sub_10035377();
    return;
  }
  if ( ProcessorFeature == 10 && !v5 )
LABEL_21:
    v3 = sub_100353AF() & 8;
}

//----- (10035508) --------------------------------------------------------
int __stdcall sub_10035508(BYTE Data)
{
  int v1; // eax@4
  int v2; // eax@7
  int v3; // eax@9
  int v4; // eax@11

  if ( Data )
  {
    if ( dword_10080430 == 65535 )
    {
      dword_10080430 = 0;
      memcpy(&off_10080260, off_10080348, 0xE4u);
      sub_1003BC8C((int)&off_10080260);
      LOBYTE(v1) = sub_1003525D(4, "DisableD3DXPSGP", &Data, 4u);
      if ( !v1 )
        *(_DWORD *)&Data = 0;
      if ( Data != 1 )
      {
        sub_10035454(7u);
        if ( v2 )
        {
          sub_1003B5C5((int)&off_10080260);
          dword_10080430 = 1;
        }
        else
        {
          sub_10035454(0xAu);
          if ( v3 )
          {
            sub_1003B3E0((int)&off_10080260);
            dword_10080430 = 2;
          }
          else
          {
            sub_10035454(6u);
            if ( v4 )
            {
              sub_1003B2D0((int)&off_10080260);
              dword_10080430 = 3;
            }
          }
        }
      }
    }
  }
  else
  {
    dword_10080430 = 65535;
    memcpy(&off_10080260, off_10080348, 0xE4u);
  }
  return dword_10080430;
}
// 10080260: using guessed type int (*off_10080260)(void);
// 10080348: using guessed type int (__stdcall *off_10080348[7])(int, int, int);
// 10080430: using guessed type int dword_10080430;

//----- (100355E8) --------------------------------------------------------
BOOL __thiscall sub_100355E8(int this)
{
  int v1; // esi@1
  int v2; // ecx@1
  BOOL result; // eax@3
  int v4; // esi@5

  v1 = this;
  v2 = *(_DWORD *)(this + 72);
  *(_DWORD *)v1 = &off_100734FC;
  if ( v2 )
  {
    sub_1003C01D(v2);
    sub_1003C040(*(void **)(v1 + 72));
  }
  result = *(_DWORD *)(v1 + 8);
  if ( result )
    result = DeleteObject(*(HGDIOBJ *)(v1 + 8));
  v4 = *(_DWORD *)(v1 + 76);
  if ( v4 )
    result = (*(int (__stdcall **)(int))(*(_DWORD *)v4 + 8))(v4);
  return result;
}
// 100734FC: using guessed type int (__stdcall *off_100734FC)(int, int, int);

//----- (10035622) --------------------------------------------------------
int __stdcall sub_10035622(int a1)
{
  ++*(_DWORD *)(a1 + 4);
  return *(_DWORD *)(a1 + 4);
}

//----- (1003562F) --------------------------------------------------------
signed int __thiscall sub_1003562F(void *this, int a2, const LOGFONTA *lplf)
{
  void *v3; // esi@1
  signed int result; // eax@3
  HFONT v5; // eax@4

  v3 = this;
  if ( a2 && lplf )
  {
    result = sub_1003C6A0(a2, (int)((char *)this + 72));
    if ( result >= 0 )
    {
      v5 = CreateFontIndirectA(lplf);
      *((_DWORD *)v3 + 2) = v5;
      if ( v5 )
      {
        *((_DWORD *)v3 + 19) = a2;
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)a2 + 4))(a2);
        memcpy((char *)v3 + 12, lplf, 0x3Cu);
        result = 0;
      }
      else
      {
        result = -2147024882;
      }
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (100356A4) --------------------------------------------------------
signed int __stdcall sub_100356A4(int a1, int a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    *(_DWORD *)a2 = *(_DWORD *)(a1 + 76);
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 76) + 4))(*(_DWORD *)(a1 + 76));
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (100356CA) --------------------------------------------------------
signed int __stdcall sub_100356CA(int a1, void *a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    memcpy(a2, (const void *)(a1 + 12), 0x3Cu);
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (100356EE) --------------------------------------------------------
signed int __userpurge sub_100356EE<eax>(int a1<ebx>, int a2<edi>, int a3)
{
  return sub_1003BE2B(*(_DWORD *)(a3 + 72), a1, a2);
}

//----- (100356FD) --------------------------------------------------------
signed int __stdcall sub_100356FD(int a1)
{
  return sub_1003BEB8(*(_DWORD *)(a1 + 72));
}

//----- (1003570C) --------------------------------------------------------
HGDIOBJ __stdcall sub_1003570C(int a1, int lpchText, int cchText, LONG a4, UINT format, int a6)
{
  return sub_1003C18D(*(void **)(a1 + 72), *(_DWORD *)(a1 + 8), lpchText, cchText, a4, format, a6, 0);
}

//----- (10035732) --------------------------------------------------------
HGDIOBJ __stdcall sub_10035732(int a1, int lpchText, int cchText, LONG a4, UINT format, int a6)
{
  return sub_1003C18D(*(void **)(a1 + 72), *(_DWORD *)(a1 + 8), lpchText, cchText, a4, format, a6, (LPSTR)1);
}

//----- (10035758) --------------------------------------------------------
int __stdcall sub_10035758(int a1)
{
  return sub_1003BEE8(*(_DWORD *)(a1 + 72));
}

//----- (10035767) --------------------------------------------------------
signed int __stdcall sub_10035767(int a1)
{
  return sub_1003BF63(*(_DWORD *)(a1 + 72));
}

//----- (10035779) --------------------------------------------------------
signed int __stdcall sub_10035779(int a1, const void *a2, int a3)
{
  signed int result; // eax@3

  if ( memcmp(a2, &unk_10073E20, 16) && memcmp(a2, &unk_100777E0, 16) )
  {
    result = -2147467262;
  }
  else
  {
    *(_DWORD *)a3 = a1;
    (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 4))(a1);
    result = 0;
  }
  return result;
}

//----- (100357BD) --------------------------------------------------------
int __stdcall sub_100357BD(int a1)
{
  bool v1; // zf@1
  int result; // eax@1

  v1 = (*(_DWORD *)(a1 + 4))-- == 1;
  result = *(_DWORD *)(a1 + 4);
  if ( v1 )
  {
    sub_10034A45(a1, 1);
    result = 0;
  }
  return result;
}

//----- (100357D5) --------------------------------------------------------
int __thiscall sub_100357D5(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_100734FC;
  *(_DWORD *)(this + 4) = 1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 72) = 0;
  *(_DWORD *)(this + 76) = 0;
  return result;
}
// 100734FC: using guessed type int (__stdcall *off_100734FC)(int, int, int);

//----- (100357F0) --------------------------------------------------------
int __thiscall sub_100357F0(int this)
{
  int v1; // esi@1
  int result; // eax@1

  v1 = this;
  result = *(_DWORD *)(this + 8);
  *(_DWORD *)this = &off_10073528;
  if ( result )
  {
    if ( *(_DWORD *)(this + 20) )
      (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)result + 224))(result, *(_DWORD *)(this + 20));
    if ( *(_DWORD *)(v1 + 16) )
      (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v1 + 8) + 224))(*(_DWORD *)(v1 + 8), *(_DWORD *)(v1 + 16));
    result = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(v1 + 8) + 8))(*(_DWORD *)(v1 + 8));
  }
  return result;
}
// 10073528: using guessed type int (__stdcall *off_10073528)(int, int, int);

//----- (10035830) --------------------------------------------------------
int __stdcall sub_10035830(int a1)
{
  ++*(_DWORD *)(a1 + 4);
  return *(_DWORD *)(a1 + 4);
}

//----- (1003583D) --------------------------------------------------------
signed int __thiscall sub_1003583D(int this, int a2)
{
  int v2; // esi@1
  signed int result; // eax@2
  int v4; // eax@5
  bool v5; // zf@7
  int v6; // eax@9
  char v7; // [sp+4h] [bp-70h]@3
  char v8; // [sp+25h] [bp-4Fh]@3
  char v9; // [sp+30h] [bp-44h]@7
  char v10; // [sp+34h] [bp-40h]@8
  char v11; // [sp+D8h] [bp+64h]@3
  char v12; // [sp+E4h] [bp+70h]@4

  v2 = this;
  if ( a2 )
  {
    *(_DWORD *)(this + 8) = a2;
    (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
    (*(void (__stdcall **)(_DWORD, char *))(**(_DWORD **)(v2 + 8) + 28))(*(_DWORD *)(v2 + 8), &v7);
    (*(void (__stdcall **)(_DWORD, char *))(**(_DWORD **)(v2 + 8) + 36))(*(_DWORD *)(v2 + 8), &v11);
    v4 = v8 & 2 || v12 & 0x10;
    v5 = (v9 & 0x10) == 0;
    *(_DWORD *)(v2 + 28) = v4;
    v6 = !v5 && v10 & 0x20;
    *(_DWORD *)(v2 + 24) = v6;
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (100358B2) --------------------------------------------------------
signed int __stdcall sub_100358B2(int a1, int a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    *(_DWORD *)a2 = *(_DWORD *)(a1 + 8);
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 8) + 4))(*(_DWORD *)(a1 + 8));
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (100358E5) --------------------------------------------------------
signed int __stdcall sub_100358E5(int a1)
{
  signed int result; // eax@2

  if ( *(_DWORD *)(a1 + 12) )
  {
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(a1 + 8) + 216))(*(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 16));
    *(_DWORD *)(a1 + 12) = 0;
    result = 0;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (10035910) --------------------------------------------------------
int __stdcall sub_10035910(int a1)
{
  int v1; // eax@1

  v1 = *(_DWORD *)(a1 + 8);
  if ( v1 )
  {
    if ( *(_DWORD *)(a1 + 20) )
    {
      (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v1 + 224))(v1, *(_DWORD *)(a1 + 20));
      *(_DWORD *)(a1 + 20) = 0;
    }
    if ( *(_DWORD *)(a1 + 16) )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(a1 + 8) + 224))(*(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 16));
      *(_DWORD *)(a1 + 16) = 0;
    }
  }
  return 0;
}

//----- (1003594F) --------------------------------------------------------
int __stdcall sub_1003594F(int a1)
{
  return 0;
}

//----- (1003595A) --------------------------------------------------------
signed int __stdcall sub_1003595A(int a1, const void *a2, int a3)
{
  signed int result; // eax@3

  if ( memcmp(a2, &unk_10073E10, 16) && memcmp(a2, &unk_100777E0, 16) )
  {
    result = -2147467262;
  }
  else
  {
    *(_DWORD *)a3 = a1;
    (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 4))(a1);
    result = 0;
  }
  return result;
}

//----- (1003599E) --------------------------------------------------------
int __stdcall sub_1003599E(int a1)
{
  bool v1; // zf@1
  int result; // eax@1

  v1 = (*(_DWORD *)(a1 + 4))-- == 1;
  result = *(_DWORD *)(a1 + 4);
  if ( v1 )
  {
    sub_10034A61(a1, 1);
    result = 0;
  }
  return result;
}

//----- (100359B6) --------------------------------------------------------
signed int __userpurge sub_100359B6<eax>(int a1<ebx>, int a2)
{
  int v2; // esi@1
  signed int result; // eax@2
  int v4; // eax@6
  int v5; // eax@10
  int v6; // ecx@10
  int v7; // ecx@14
  double v8; // st6@17
  int v9; // ST04_4@17
  int v10; // [sp-4h] [bp-64h]@3
  signed int v11; // [sp+0h] [bp-60h]@0
  signed int v12; // [sp+4h] [bp-5Ch]@0
  float v13; // [sp+8h] [bp-58h]@6
  float v14; // [sp+Ch] [bp-54h]@6
  float v15; // [sp+10h] [bp-50h]@6
  float v16; // [sp+14h] [bp-4Ch]@6
  float v17; // [sp+18h] [bp-48h]@6
  float v18; // [sp+1Ch] [bp-44h]@6
  float v19; // [sp+20h] [bp-40h]@6
  float v20; // [sp+24h] [bp-3Ch]@6
  float v21; // [sp+28h] [bp-38h]@6
  float v22; // [sp+2Ch] [bp-34h]@6
  float v23; // [sp+30h] [bp-30h]@6
  float v24; // [sp+34h] [bp-2Ch]@6
  float v25; // [sp+38h] [bp-28h]@6
  float v26; // [sp+3Ch] [bp-24h]@6
  float v27; // [sp+40h] [bp-20h]@6
  float v28; // [sp+44h] [bp-1Ch]@6
  char v29; // [sp+48h] [bp-18h]@17
  unsigned int v30; // [sp+50h] [bp-10h]@17
  unsigned int v31; // [sp+54h] [bp-Ch]@17
  unsigned int v32; // [sp+68h] [bp+8h]@4
  float v33; // [sp+68h] [bp+8h]@17

  v2 = a2;
  if ( *(_DWORD *)(a2 + 12) )
  {
    result = -2147467259;
  }
  else
  {
    v10 = a1;
    if ( !*(_DWORD *)(a2 + 16) )
    {
      v32 = 0;
      do
      {
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v2 + 8) + 208))(*(_DWORD *)(v2 + 8), v10);
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v2 + 8) + 304))(
          *(_DWORD *)(v2 + 8),
          2 * (*(_DWORD *)(v2 + 28) != 0) + 322);
        if ( !*(_DWORD *)(v2 + 28) )
        {
          v4 = *(_DWORD *)(v2 + 8);
          v27 = 0.0;
          v26 = 0.0;
          v25 = 0.0;
          v24 = 0.0;
          v22 = 0.0;
          v21 = 0.0;
          v20 = 0.0;
          v19 = 0.0;
          v17 = 0.0;
          v16 = 0.0;
          v15 = 0.0;
          v14 = 0.0;
          v28 = 1.0;
          v23 = 1.0;
          v18 = 1.0;
          v13 = 1.0;
          (*(void (__stdcall **)(int, signed int, float *))(*(_DWORD *)v4 + 148))(v4, 2, &v13);
          (*(void (__stdcall **)(_DWORD, signed int, float *))(**(_DWORD **)(v2 + 8) + 148))(
            *(_DWORD *)(v2 + 8),
            3,
            &v13);
          if ( !v32 )
            (*(void (__stdcall **)(_DWORD, signed int, float *))(**(_DWORD **)(v2 + 8) + 148))(
              *(_DWORD *)(v2 + 8),
              256,
              &v13);
        }
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 7, 0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 8, 3);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 200))(
          *(_DWORD *)(v2 + 8),
          22,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 128, 0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 200))(
          *(_DWORD *)(v2 + 8),
          136,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 151, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 152, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 164, 1);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 167, 0);
        if ( !*(_DWORD *)(v2 + 28) )
        {
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 28, 0);
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 29, 0);
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 52, 0);
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 137, 0);
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8), 145, 1);
        }
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int, signed int))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          1,
          4,
          v11);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          2,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          3,
          0);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          4,
          4);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          5,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          6,
          0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int, signed int))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          1,
          1,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, signed int, signed int))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          1,
          4,
          1);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          16,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          17,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          18,
          0);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          11,
          0);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          13,
          3);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          14,
          3);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 252))(
          *(_DWORD *)(v2 + 8),
          0,
          24,
          0);
        v5 = *(_DWORD *)(v2 + 8);
        v6 = *(_DWORD *)v5;
        if ( *(_DWORD *)(v2 + 24) )
        {
          (*(void (__stdcall **)(int, signed int, signed int, signed int))(v6 + 200))(v5, 27, 1, v12);
          (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 200))(
            *(_DWORD *)(v2 + 8),
            19,
            5);
          (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 200))(
            *(_DWORD *)(v2 + 8),
            20,
            6);
          v12 = 1;
          v11 = 171;
        }
        else
        {
          (*(void (__stdcall **)(int, signed int, signed int, signed int))(v6 + 200))(v5, 15, 1, v12);
          (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 200))(
            *(_DWORD *)(v2 + 8),
            25,
            7);
          v12 = 127;
          v11 = 24;
        }
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 8) + 200))(*(_DWORD *)(v2 + 8));
        if ( v32 )
        {
          v7 = v2 + 20;
        }
        else
        {
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 244))(*(_DWORD *)(v2 + 8), 0, 0);
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 332))(
            *(_DWORD *)(v2 + 8),
            0,
            0,
            0);
          v7 = v2 + 16;
        }
        v10 = v7;
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 8) + 212))(*(_DWORD *)(v2 + 8));
        ++v32;
      }
      while ( v32 < 2 );
    }
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 220))(*(_DWORD *)(v2 + 8), *(_DWORD *)(v2 + 16));
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 216))(*(_DWORD *)(v2 + 8), *(_DWORD *)(v2 + 20));
    if ( !*(_DWORD *)(v2 + 28) )
    {
      (*(void (__stdcall **)(_DWORD, char *, int))(**(_DWORD **)(v2 + 8) + 164))(*(_DWORD *)(v2 + 8), &v29, v10);
      v8 = 1.0 / (double)v30;
      memset(&v13, 0, 0x40u);
      v9 = *(_DWORD *)(v2 + 8);
      v33 = 1.0 / (double)v31;
      v13 = v8 + v8;
      v25 = -v8 - 1.0;
      v18 = v33 * -2.0;
      v26 = v33 + 1.0;
      v28 = 1.0;
      (*(void (__stdcall **)(int, signed int))(*(_DWORD *)v9 + 148))(v9, 256);
    }
    *(_DWORD *)(v2 + 12) = 1;
    result = 0;
  }
  return result;
}
// 100359B6: could not find valid save-restore pair for ebx

//----- (10035DF2) --------------------------------------------------------
int __stdcall sub_10035DF2(int a1, int a2, int a3, int a4, int a5, float a6, int a7, int a8)
{
  double v8; // st7@5
  float *v9; // eax@10
  char v11; // [sp+8h] [bp-74h]@12
  float v12; // [sp+48h] [bp-34h]@6
  float v13; // [sp+4Ch] [bp-30h]@6
  float v14; // [sp+50h] [bp-2Ch]@6
  float v15; // [sp+54h] [bp-28h]@6
  int v16; // [sp+58h] [bp-24h]@2
  int v17; // [sp+5Ch] [bp-20h]@2
  float v18; // [sp+60h] [bp-1Ch]@2
  int v19; // [sp+64h] [bp-18h]@4
  int v20; // [sp+68h] [bp-14h]@4
  float v21; // [sp+6Ch] [bp-10h]@4
  int v22; // [sp+70h] [bp-Ch]@8
  int v23; // [sp+74h] [bp-8h]@8
  float v24; // [sp+78h] [bp-4h]@8

  if ( a4 )
  {
    v16 = *(_DWORD *)a4;
    v18 = 1.0;
    v17 = *(_DWORD *)(a4 + 4);
  }
  if ( a5 )
  {
    v19 = *(_DWORD *)a5;
    v21 = 0.0;
    v20 = *(_DWORD *)(a5 + 4);
  }
  v8 = a6;
  if ( a6 != 0.0 )
  {
    v12 = 0.0;
    v13 = 0.0;
    v14 = sin(-0.5 * v8);
    v15 = cos(-0.5 * v8);
  }
  if ( a7 )
  {
    v22 = *(_DWORD *)a7;
    v24 = 0.0;
    v23 = *(_DWORD *)(a7 + 4);
  }
  if ( v8 == 0.0 )
    v9 = 0;
  else
    v9 = &v12;
  sub_10032131(&v11, 0, 0, a4 != 0 ? (int)&v16 : 0, a5 != 0 ? (int)&v19 : 0, v9, a7 != 0 ? (int)&v22 : 0);
  return (*(int (__stdcall **)(int, int, int, char *, int))(*(_DWORD *)a1 + 24))(a1, a2, a3, &v11, a8);
}
// 10032131: using guessed type int __stdcall sub_10032131(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10035EC9) --------------------------------------------------------
int __userpurge sub_10035EC9<eax>(int a1<edi>, int a2<esi>, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax@2
  float v8; // edi@5
  float v9; // esi@8
  int v10; // ebx@28
  double v11; // st7@30
  double v12; // st6@30
  bool v13; // zf@30
  double v14; // st5@30
  double v15; // st4@30
  int *v16; // esi@31
  signed int v17; // edi@31
  int *v18; // esi@37
  signed int v19; // edi@37
  int v20; // [sp-8h] [bp-50h]@3
  int v21; // [sp-4h] [bp-4Ch]@3
  int v22; // [sp+4h] [bp-44h]@3
  unsigned int v23; // [sp+1Ch] [bp-2Ch]@6
  unsigned int v24; // [sp+20h] [bp-28h]@9
  float v25; // [sp+24h] [bp-24h]@31
  float v26; // [sp+28h] [bp-20h]@31
  float v27; // [sp+2Ch] [bp-1Ch]@31
  float v28; // [sp+30h] [bp-18h]@31
  float v29; // [sp+34h] [bp-14h]@31
  float v30; // [sp+38h] [bp-10h]@31
  float v31; // [sp+3Ch] [bp-Ch]@31
  float v32; // [sp+40h] [bp-8h]@31
  float v33; // [sp+44h] [bp-4h]@31
  float v34; // [sp+48h] [bp+0h]@31
  float v35; // [sp+4Ch] [bp+4h]@31
  float v36; // [sp+50h] [bp+8h]@31
  float v37; // [sp+54h] [bp+Ch]@31
  float v38; // [sp+58h] [bp+10h]@31
  float v39; // [sp+5Ch] [bp+14h]@31
  float v40; // [sp+60h] [bp+18h]@31
  float v41; // [sp+64h] [bp+1Ch]@31
  float v42; // [sp+68h] [bp+20h]@31
  float v43; // [sp+6Ch] [bp+24h]@31
  float v44; // [sp+70h] [bp+28h]@31
  float v45; // [sp+74h] [bp+2Ch]@31
  float v46; // [sp+78h] [bp+30h]@31
  float v47; // [sp+7Ch] [bp+34h]@31
  float v48; // [sp+80h] [bp+38h]@31
  float v49; // [sp+84h] [bp+3Ch]@31
  int v50; // [sp+88h] [bp+40h]@31
  float v51; // [sp+8Ch] [bp+44h]@31
  float v52; // [sp+90h] [bp+48h]@31
  int v53; // [sp+94h] [bp+4Ch]@28
  float v54; // [sp+98h] [bp+50h]@30
  float v55; // [sp+9Ch] [bp+54h]@4
  float v56; // [sp+A0h] [bp+58h]@4
  float v57; // [sp+A4h] [bp+5Ch]@4
  float v58; // [sp+A8h] [bp+60h]@4
  float v59; // [sp+B4h] [bp+6Ch]@30
  float v60; // [sp+B8h] [bp+70h]@30
  float v61; // [sp+B8h] [bp+70h]@30
  signed int v62; // [sp+BCh] [bp+74h]@12
  float v63; // [sp+BCh] [bp+74h]@30

  if ( !a4 )
    return -2005530516;
  v21 = a2;
  v20 = a1;
  (*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a4 + 56))(a4, 0, &v22);
  if ( a5 )
  {
    LODWORD(v55) = *(_DWORD *)a5;
    LODWORD(v56) = *(_DWORD *)(a5 + 4);
    LODWORD(v57) = *(_DWORD *)(a5 + 8);
    LODWORD(v58) = *(_DWORD *)(a5 + 12);
    if ( SLODWORD(v55) < 0
      || (v8 = v57, SLODWORD(v55) > SLODWORD(v57))
      || SLODWORD(v55) > (signed int)v23
      || SLODWORD(v56) < 0
      || (v9 = v58, SLODWORD(v56) > SLODWORD(v58))
      || SLODWORD(v56) > (signed int)v24 )
      return -2005530516;
  }
  else
  {
    LODWORD(v8) = v23;
    LODWORD(v9) = v24;
    v55 = 0.0;
    v56 = 0.0;
    LODWORD(v57) = v23;
    LODWORD(v58) = v24;
  }
  v62 = (a7 & 0xFF000000) != -16777216;
  if ( (a7 & 0xFF000000) == -16777216 )
  {
    if ( v22 <= 52 )
    {
      if ( v22 < 51 && v22 != 21 && (v22 <= 24 || v22 > 26 && (v22 <= 27 || v22 > 29 && (v22 <= 39 || v22 > 41))) )
        goto LABEL_28;
LABEL_27:
      v62 = 1;
      goto LABEL_28;
    }
    if ( v22 == 844388420 || v22 == 861165636 || v22 == 877942852 || v22 == 894720068 )
      goto LABEL_27;
  }
LABEL_28:
  v10 = a3;
  v53 = *(_DWORD *)(a3 + 12);
  if ( v53 || (result = (*(int (__stdcall **)(int))(*(_DWORD *)a3 + 16))(a3), result >= 0) )
  {
    (*(void (__stdcall **)(_DWORD, _DWORD, int, int, int))(**(_DWORD **)(a3 + 8) + 244))(
      *(_DWORD *)(a3 + 8),
      0,
      a4,
      v20,
      v21);
    (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(a3 + 8) + 200))(
      *(_DWORD *)(a3 + 8),
      *(_DWORD *)(a3 + 24) != 0 ? 27 : 15,
      v62);
    v11 = (double)(LODWORD(v8) - LODWORD(v55));
    v12 = (double)(LODWORD(v9) - LODWORD(v56));
    v60 = 1.0 / (double)v23;
    v13 = *(_DWORD *)(a3 + 28) == 0;
    v59 = 1.0 / (double)v24;
    v14 = (double)SLODWORD(v55) * v60;
    v63 = (double)SLODWORD(v57) * v60;
    v15 = (double)SLODWORD(v56) * v59;
    v54 = v15;
    v61 = (double)SLODWORD(v58) * v59;
    if ( v13 )
    {
      v29 = 0.0;
      v30 = 0.0;
      v31 = 0.0;
      v57 = v14;
      v58 = v15;
      v33 = v57;
      v34 = v58;
      v57 = v12;
      LODWORD(v32) = a7;
      v35 = 0.0;
      v36 = v57;
      v37 = 0.0;
      v57 = v14;
      v56 = v11;
      v39 = v57;
      v57 = v12;
      LODWORD(v38) = a7;
      v40 = v61;
      v41 = v56;
      v42 = v57;
      v43 = 0.0;
      v56 = v11;
      LODWORD(v44) = a7;
      v45 = v63;
      v46 = v61;
      v47 = v56;
      v48 = 0.0;
      v49 = 0.0;
      v50 = a7;
      v57 = v63;
      v58 = v54;
      v51 = v63;
      v52 = v54;
      if ( a6 )
      {
        v18 = (int *)&v29;
        v19 = 4;
        do
        {
          sub_10030AA6(v18, v18, a6);
          v18 += 6;
          --v19;
        }
        while ( v19 );
      }
    }
    else
    {
      v25 = 0.0;
      v26 = 0.0;
      v27 = 0.0;
      v28 = 1.0;
      v57 = v14;
      v58 = v15;
      v30 = v57;
      v31 = v58;
      v56 = v12;
      LODWORD(v29) = a7;
      v32 = 0.0;
      v33 = v56;
      v34 = 0.0;
      v35 = 1.0;
      v57 = v14;
      v55 = v11;
      v56 = v12;
      v37 = v57;
      v38 = v61;
      LODWORD(v36) = a7;
      v39 = v55;
      v40 = v56;
      v41 = 0.0;
      v42 = 1.0;
      v55 = v11;
      v56 = 0.0;
      v44 = v63;
      LODWORD(v43) = a7;
      v45 = v61;
      v46 = v55;
      v47 = 0.0;
      v48 = 0.0;
      v49 = 1.0;
      v50 = a7;
      v57 = v63;
      v58 = v54;
      v51 = v63;
      v52 = v54;
      v16 = (int *)&v25;
      v17 = 4;
      do
      {
        if ( a6 )
          sub_10030AA6(v16, v16, a6);
        *(float *)v16 = *(float *)v16 - 0.5;
        v16 += 7;
        --v17;
        *((float *)v16 - 6) = *((float *)v16 - 6) - 0.5;
        *((float *)v16 - 5) = 0.0;
        *((float *)v16 - 4) = 1.0;
      }
      while ( v17 );
    }
    (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v10 + 8) + 288))(*(_DWORD *)(v10 + 8), 6, 2);
    if ( v53 || (result = (*(int (__stdcall **)(int))(*(_DWORD *)v10 + 28))(v10), result >= 0) )
      result = 0;
  }
  return result;
}
// 10035EC9: could not find valid save-restore pair for edi
// 10035EC9: could not find valid save-restore pair for esi
// 10030AA6: using guessed type int __stdcall sub_10030AA6(_DWORD, _DWORD, _DWORD);

//----- (1003629C) --------------------------------------------------------
int __thiscall sub_1003629C(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_10073528;
  *(_DWORD *)(this + 4) = 1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 20) = 0;
  return result;
}
// 10073528: using guessed type int (__stdcall *off_10073528)(int, int, int);

//----- (100362BA) --------------------------------------------------------
signed int __thiscall sub_100362BA(int this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // esi@1
  signed int result; // eax@2

  v7 = this;
  if ( a2 )
  {
    if ( *(_DWORD *)(this + 8) )
    {
      result = -2147467259;
    }
    else
    {
      *(_DWORD *)(this + 8) = a2;
      (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
      *(_DWORD *)(v7 + 12) = a3;
      *(_DWORD *)(v7 + 16) = a4;
      *(_DWORD *)(v7 + 20) = a5;
      *(_DWORD *)(v7 + 24) = a6;
      *(_DWORD *)(v7 + 28) = a7;
      result = 0;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (10036309) --------------------------------------------------------
int __stdcall sub_10036309(int a1)
{
  ++*(_DWORD *)(a1 + 4);
  return *(_DWORD *)(a1 + 4);
}

//----- (1003632D) --------------------------------------------------------
signed int __stdcall sub_1003632D(int a1, int a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    *(_DWORD *)a2 = *(_DWORD *)(a1 + 8);
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 8) + 4))(*(_DWORD *)(a1 + 8));
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (10036353) --------------------------------------------------------
signed int __stdcall sub_10036353(int a1, void *a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    memcpy(a2, (const void *)(a1 + 12), 0x14u);
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (10036377) --------------------------------------------------------
int __userpurge sub_10036377<eax>(int a1<ebx>, int a2, int a3, const void *a4)
{
  int v4; // edi@1
  int result; // eax@2
  int v6; // ebx@3
  unsigned int v7; // edx@5
  int v8; // ecx@6
  int v9; // eax@7
  int v10; // esi@21
  int v11; // eax@21
  int v12; // edi@23
  int v13; // eax@23
  int v14; // eax@25
  int v15; // [sp-4h] [bp-2Ch]@3
  int v16; // [sp-4h] [bp-2Ch]@27
  int v17; // [sp+8h] [bp-20h]@4
  int v18; // [sp+10h] [bp-18h]@7
  int v19; // [sp+20h] [bp-8h]@5
  int v20; // [sp+24h] [bp-4h]@6
  int v21; // [sp+30h] [bp+8h]@28
  int v22; // [sp+38h] [bp+10h]@19

  v4 = 0;
  if ( !a3 )
    return -2005530516;
  v15 = a1;
  v6 = a2;
  if ( *(_DWORD *)(a2 + 48)
    || ((*(void (__stdcall **)(int, int *))(*(_DWORD *)a3 + 32))(a3, &v17), v17 != *(_DWORD *)(a2 + 20))
    || (v7 = *(_DWORD *)(a2 + 12), v19 != v7)
    || (v8 = *(_DWORD *)(a2 + 16), v20 != v8) )
  {
    result = -2147467259;
  }
  else
  {
    v9 = v18 & 1;
    *(_DWORD *)(a2 + 52) = v9;
    if ( a4 )
    {
      memcpy((void *)(a2 + 60), a4, 0x18u);
      if ( *(_DWORD *)(a2 + 60) + *(_DWORD *)(a2 + 68) > v7
        || (unsigned int)(*(_DWORD *)(a2 + 64) + *(_DWORD *)(a2 + 72)) > *(_DWORD *)(a2 + 16) )
        return -2005530516;
      v4 = 0;
    }
    else
    {
      *(_DWORD *)(a2 + 60) = 0;
      *(float *)(a2 + 76) = 0.0;
      *(_DWORD *)(a2 + 64) = 0;
      *(_DWORD *)(a2 + 68) = v7;
      *(float *)(a2 + 80) = 1.0;
      *(_DWORD *)(a2 + 72) = v8;
    }
    if ( *(_DWORD *)(a2 + 32) != v4
      || v9 != v4
      || (result = (*(int (__stdcall **)(_DWORD, unsigned int, _DWORD, _DWORD, int, signed int, int))(**(_DWORD **)(a2 + 8) + 100))(
                     *(_DWORD *)(a2 + 8),
                     v7,
                     *(_DWORD *)(a2 + 16),
                     *(_DWORD *)(a2 + 20),
                     v4,
                     1,
                     a2 + 32),
          result >= v4) )
    {
      if ( *(_DWORD *)(a2 + 40) != v4
        || *(_DWORD *)(a2 + 24) == v4
        || (result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, int, int))(**(_DWORD **)(a2 + 8) + 104))(
                       *(_DWORD *)(a2 + 8),
                       *(_DWORD *)(a2 + 12),
                       *(_DWORD *)(a2 + 16),
                       *(_DWORD *)(a2 + 28),
                       v4,
                       a2 + 40),
            result >= v4) )
      {
        v22 = a2 + 56;
        if ( *(_DWORD *)(a2 + 56) == v4 )
        {
          (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a2 + 8) + 208))(*(_DWORD *)(a2 + 8));
          (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(a2 + 8) + 160))(*(_DWORD *)(a2 + 8), a2 + 60);
          (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(a2 + 8) + 212))(*(_DWORD *)(a2 + 8), a2 + 56);
        }
        v10 = a2 + 36;
        v11 = *(_DWORD *)(a2 + 36);
        if ( v11 != v4 )
        {
          (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v11 + 8))(*(_DWORD *)(a2 + 36));
          *(_DWORD *)v10 = v4;
        }
        v12 = a2 + 44;
        v13 = *(_DWORD *)(a2 + 44);
        if ( v13 )
        {
          (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v13 + 8))(*(_DWORD *)(a2 + 44));
          *(_DWORD *)v12 = 0;
        }
        (*(void (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)(a2 + 8) + 220))(
          *(_DWORD *)(a2 + 8),
          *(_DWORD *)v22,
          v15);
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(a2 + 8) + 128))(*(_DWORD *)(a2 + 8), a2 + 36);
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(a2 + 8) + 132))(*(_DWORD *)(a2 + 8), a2 + 44);
        v14 = a3;
        if ( !*(_DWORD *)(a2 + 52) )
          v14 = *(_DWORD *)(a2 + 32);
        v16 = *(_DWORD *)(a2 + 40);
        result = (*(int (__stdcall **)(_DWORD, int))(**(_DWORD **)(a2 + 8) + 124))(*(_DWORD *)(a2 + 8), v14);
        if ( result >= 0 )
        {
          v21 = (*(int (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(a2 + 8) + 160))(
                  *(_DWORD *)(a2 + 8),
                  a2 + 60,
                  v16);
          if ( v21 >= 0 )
          {
            v21 = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(v6 + 8) + 136))(*(_DWORD *)(v6 + 8));
            if ( v21 >= 0 )
            {
              *(_DWORD *)(v6 + 48) = a3;
              (*(void (__cdecl **)(int))(*(_DWORD *)a3 + 4))(a3);
              return 0;
            }
            (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v6 + 8) + 124))(*(_DWORD *)(v6 + 8), *(_DWORD *)v10);
            (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v6 + 8) + 216))(*(_DWORD *)(v6 + 8), *(_DWORD *)v22);
          }
          else
          {
            (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v6 + 8) + 124))(*(_DWORD *)(v6 + 8), *(_DWORD *)v10);
          }
          if ( *(_DWORD *)v10 )
          {
            (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v10 + 8))(*(_DWORD *)v10);
            *(_DWORD *)v10 = 0;
          }
          if ( *(_DWORD *)v12 )
          {
            (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v12 + 8))(*(_DWORD *)v12);
            *(_DWORD *)v12 = 0;
          }
          result = v21;
        }
      }
    }
  }
  return result;
}
// 10036377: could not find valid save-restore pair for ebx

//----- (100365B1) --------------------------------------------------------
signed int __stdcall sub_100365B1(int a1)
{
  signed int result; // eax@2
  int v2; // eax@4
  int v3; // ecx@4
  int v4; // ST10_4@4
  int v5; // ST04_4@4
  int v6; // eax@4
  int v7; // eax@5
  int v8; // eax@7
  int v9; // eax@9
  int v10; // [sp+8h] [bp-10h]@4
  int v11; // [sp+Ch] [bp-Ch]@4
  int v12; // [sp+10h] [bp-8h]@4
  int v13; // [sp+14h] [bp-4h]@4

  if ( *(_DWORD *)(a1 + 48) )
  {
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 8) + 140))(*(_DWORD *)(a1 + 8));
    if ( !*(_DWORD *)(a1 + 52) )
    {
      v2 = *(_DWORD *)(a1 + 60);
      v3 = *(_DWORD *)(a1 + 64);
      v12 = v2 + *(_DWORD *)(a1 + 68);
      v4 = *(_DWORD *)(a1 + 48);
      v10 = v2;
      v5 = *(_DWORD *)(a1 + 32);
      v13 = v3 + *(_DWORD *)(a1 + 72);
      v6 = *(_DWORD *)(a1 + 8);
      v11 = v3;
      (*(void (__stdcall **)(int, int, int *, signed int, int, int *))(*(_DWORD *)v6 + 112))(v6, v5, &v10, 1, v4, &v10);
    }
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(a1 + 8) + 124))(
      *(_DWORD *)(a1 + 8),
      *(_DWORD *)(a1 + 36),
      *(_DWORD *)(a1 + 44));
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(a1 + 8) + 216))(*(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 56));
    v7 = *(_DWORD *)(a1 + 36);
    if ( v7 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v7 + 8))(*(_DWORD *)(a1 + 36));
      *(_DWORD *)(a1 + 36) = 0;
    }
    v8 = *(_DWORD *)(a1 + 44);
    if ( v8 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v8 + 8))(*(_DWORD *)(a1 + 44));
      *(_DWORD *)(a1 + 44) = 0;
    }
    v9 = *(_DWORD *)(a1 + 48);
    if ( v9 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v9 + 8))(*(_DWORD *)(a1 + 48));
      *(_DWORD *)(a1 + 48) = 0;
    }
    result = 0;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (10036669) --------------------------------------------------------
int __stdcall sub_10036669(int a1)
{
  int v1; // eax@1
  int v2; // eax@3
  int v3; // eax@5
  int v4; // eax@7
  int v5; // eax@9

  v1 = *(_DWORD *)(a1 + 32);
  if ( v1 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v1 + 8))(*(_DWORD *)(a1 + 32));
    *(_DWORD *)(a1 + 32) = 0;
  }
  v2 = *(_DWORD *)(a1 + 36);
  if ( v2 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v2 + 8))(*(_DWORD *)(a1 + 36));
    *(_DWORD *)(a1 + 36) = 0;
  }
  v3 = *(_DWORD *)(a1 + 40);
  if ( v3 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(*(_DWORD *)(a1 + 40));
    *(_DWORD *)(a1 + 40) = 0;
  }
  v4 = *(_DWORD *)(a1 + 44);
  if ( v4 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*(_DWORD *)(a1 + 44));
    *(_DWORD *)(a1 + 44) = 0;
  }
  v5 = *(_DWORD *)(a1 + 48);
  if ( v5 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(a1 + 48));
    *(_DWORD *)(a1 + 48) = 0;
  }
  if ( *(_DWORD *)(a1 + 56) )
  {
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(a1 + 8) + 224))(*(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 56));
    *(_DWORD *)(a1 + 56) = 0;
  }
  return 0;
}

//----- (100366DF) --------------------------------------------------------
int __stdcall sub_100366DF(int a1)
{
  return 0;
}

//----- (100366E7) --------------------------------------------------------
int __thiscall sub_100366E7(void *this)
{
  void *v1; // esi@1
  int result; // eax@1

  v1 = this;
  *(_DWORD *)this = &off_10073550;
  sub_10036669((int)this);
  result = *((_DWORD *)v1 + 2);
  if ( result )
  {
    result = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)result + 8))(*((_DWORD *)v1 + 2));
    *((_DWORD *)v1 + 2) = 0;
  }
  return result;
}
// 10073550: using guessed type int (__stdcall *off_10073550)(int, int, int);

//----- (10036709) --------------------------------------------------------
signed int __stdcall sub_10036709(int a1, const void *a2, int a3)
{
  int v3; // edx@1
  signed int result; // eax@3

  *(_DWORD *)a3 = 0;
  v3 = 0;
  if ( memcmp(a2, &unk_100777E0, 16) && (v3 = 0, memcmp(a2, &unk_10073E00, 16)) )
  {
    result = -2147467262;
  }
  else
  {
    *(_DWORD *)a3 = a1;
    (*(void (__fastcall **)(int, int, int))(*(_DWORD *)a1 + 4))(a1, v3, a1);
    result = 0;
  }
  return result;
}

//----- (10036750) --------------------------------------------------------
int __thiscall sub_10036750(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_10073550;
  *(_DWORD *)(this + 4) = 1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 0;
  *(_DWORD *)(this + 40) = 0;
  *(_DWORD *)(this + 44) = 0;
  *(_DWORD *)(this + 48) = 0;
  *(_DWORD *)(this + 56) = 0;
  return result;
}
// 10073550: using guessed type int (__stdcall *off_10073550)(int, int, int);

//----- (10036777) --------------------------------------------------------
int __stdcall sub_10036777(int a1)
{
  int v1; // eax@1
  int v2; // esi@1

  v1 = *(_DWORD *)(a1 + 4);
  v2 = v1 - 1;
  *(_DWORD *)(a1 + 4) = v1 - 1;
  if ( v1 == 1 )
    sub_10034A7D((void *)a1, 1);
  return v2;
}

//----- (10036796) --------------------------------------------------------
signed int __thiscall sub_10036796(int this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // esi@1
  signed int result; // eax@2
  int v9; // ST00_4@3
  int v10; // edi@3

  v7 = this;
  if ( a2 )
  {
    *(_DWORD *)(this + 8) = a2;
    (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
    *(_DWORD *)(v7 + 12) = a3;
    *(_DWORD *)(v7 + 28) = a4;
    *(_DWORD *)(v7 + 16) = a5;
    v9 = *(_DWORD *)(v7 + 8);
    *(_DWORD *)(v7 + 20) = a6;
    *(_DWORD *)(v7 + 24) = a7;
    sub_1003D026(v7 + 16, v9, (int *)(v7 + 12), (int *)(v7 + 12), (signed int *)(v7 + 28), 0, v7 + 16, 0);
    v10 = *(_DWORD *)(v7 + 12);
    *(float *)(v7 + 1156) = 0.0;
    *(_DWORD *)(v7 + 1140) = 0;
    *(_DWORD *)(v7 + 1144) = 0;
    *(float *)(v7 + 1160) = 1.0;
    *(_DWORD *)(v7 + 1148) = v10;
    *(_DWORD *)(v7 + 1152) = v10;
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (1003681C) --------------------------------------------------------
int __thiscall sub_1003681C(int this)
{
  int v1; // esi@1
  int v2; // edi@1

  v1 = this;
  v2 = this + 1136;
  if ( !*(_DWORD *)(this + 1136) )
  {
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(this + 8) + 208))(*(_DWORD *)(this + 8));
    (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v1 + 8) + 160))(*(_DWORD *)(v1 + 8), v1 + 1140);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v1 + 8) + 200))(
      *(_DWORD *)(v1 + 8),
      7,
      *(_DWORD *)(v1 + 20));
    (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v1 + 8) + 212))(*(_DWORD *)(v1 + 8), v2);
  }
  (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v1 + 8) + 220))(*(_DWORD *)(v1 + 8), *(_DWORD *)v2);
  (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v1 + 8) + 128))(*(_DWORD *)(v1 + 8), v1 + 40);
  (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v1 + 8) + 132))(*(_DWORD *)(v1 + 8), v1 + 44);
  return 0;
}

//----- (1003689B) --------------------------------------------------------
int __thiscall sub_1003689B(int this, int a2)
{
  int v2; // esi@1
  bool v3; // zf@1
  int v4; // ebx@3
  int result; // eax@5
  char v6; // [sp+Ch] [bp-24h]@2
  int v7; // [sp+14h] [bp-1Ch]@7
  int v8; // [sp+2Ch] [bp-4h]@1

  v2 = this;
  v3 = *(_DWORD *)(this + 1120) == 1;
  v8 = 0;
  if ( v3 )
  {
    (*(void (__stdcall **)(_DWORD, _DWORD, char *))(**(_DWORD **)(this + 52) + 56))(*(_DWORD *)(this + 52), 0, &v6);
  }
  else
  {
    v4 = this + 48;
    if ( !*(_DWORD *)(this + 48) )
    {
      if ( (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, signed int, _DWORD, _DWORD, int))(**(_DWORD **)(this + 8)
                                                                                                 + 80))(
             *(_DWORD *)(this + 8),
             *(_DWORD *)(this + 12),
             *(_DWORD *)(this + 12),
             *(_DWORD *)(this + 28),
             1,
             *(_DWORD *)(this + 16),
             0,
             this + 48) < 0 )
      {
        result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, int))(**(_DWORD **)(v2 + 8) + 80))(
                   *(_DWORD *)(v2 + 8),
                   *(_DWORD *)(v2 + 12),
                   *(_DWORD *)(v2 + 12),
                   *(_DWORD *)(v2 + 28),
                   0,
                   *(_DWORD *)(v2 + 16),
                   0,
                   v2 + 48);
        if ( result < 0 )
          return result;
      }
    }
    (*(void (__stdcall **)(_DWORD, _DWORD, char *))(**(_DWORD **)v4 + 56))(*(_DWORD *)v4, 0, &v6);
  }
  v3 = (v7 & 1) == 0;
  *(_DWORD *)(v2 + 1132) = v7 & 1;
  if ( v3 )
  {
    if ( !*(_DWORD *)(v2 + 32) )
    {
      result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, signed int, int))(**(_DWORD **)(v2 + 8)
                                                                                             + 100))(
                 *(_DWORD *)(v2 + 8),
                 *(_DWORD *)(v2 + 12),
                 *(_DWORD *)(v2 + 12),
                 *(_DWORD *)(v2 + 16),
                 0,
                 1,
                 v2 + 32);
      if ( result < 0 )
        return result;
    }
    v8 = *(_DWORD *)(v2 + 32);
  }
  else
  {
    if ( *(_DWORD *)(v2 + 1120) == 1 )
      (*(void (__stdcall **)(_DWORD, int, _DWORD, int *))(**(_DWORD **)(v2 + 52) + 60))(
        *(_DWORD *)(v2 + 52),
        a2,
        0,
        &v8);
    else
      (*(void (__stdcall **)(_DWORD, _DWORD, int *))(**(_DWORD **)(v2 + 48) + 60))(*(_DWORD *)(v2 + 48), 0, &v8);
  }
  if ( *(_DWORD *)(v2 + 36)
    || !*(_DWORD *)(v2 + 20)
    || (result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, int))(**(_DWORD **)(v2 + 8) + 104))(
                   *(_DWORD *)(v2 + 8),
                   *(_DWORD *)(v2 + 12),
                   *(_DWORD *)(v2 + 12),
                   *(_DWORD *)(v2 + 24),
                   0,
                   v2 + 36),
        result >= 0) )
  {
    (*(void (__stdcall **)(_DWORD, int, _DWORD))(**(_DWORD **)(v2 + 8) + 124))(
      *(_DWORD *)(v2 + 8),
      v8,
      *(_DWORD *)(v2 + 36));
    (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v2 + 8) + 160))(*(_DWORD *)(v2 + 8), v2 + 1140);
    if ( *(_DWORD *)(v2 + 1132) )
      (*(void (__stdcall **)(int))(*(_DWORD *)v8 + 8))(v8);
    result = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 8) + 136))(*(_DWORD *)(v2 + 8));
    if ( result >= 0 )
    {
      *(_DWORD *)(v2 + 1124) = a2;
      *(_DWORD *)(v2 + 1128) = 1;
      result = 0;
    }
  }
  return result;
}

//----- (100369F2) --------------------------------------------------------
signed int __stdcall sub_100369F2(int a1, const void *a2, int a3)
{
  int v3; // edx@1
  signed int result; // eax@3

  *(_DWORD *)a3 = 0;
  v3 = 0;
  if ( memcmp(a2, &unk_100777E0, 16) && (v3 = 0, memcmp(a2, &unk_10073DF0, 16)) )
  {
    result = -2147467262;
  }
  else
  {
    *(_DWORD *)a3 = a1;
    (*(void (__fastcall **)(int, int, int))(*(_DWORD *)a1 + 4))(a1, v3, a1);
    result = 0;
  }
  return result;
}

//----- (10036A39) --------------------------------------------------------
int __stdcall sub_10036A39(int a1)
{
  ++*(_DWORD *)(a1 + 4);
  return *(_DWORD *)(a1 + 4);
}

//----- (10036A46) --------------------------------------------------------
signed int __stdcall sub_10036A46(int a1, int a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    *(_DWORD *)a2 = *(_DWORD *)(a1 + 8);
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 8) + 4))(*(_DWORD *)(a1 + 8));
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (10036A6C) --------------------------------------------------------
signed int __stdcall sub_10036A6C(int a1, int a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    *(_DWORD *)a2 = *(_DWORD *)(a1 + 12);
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 16);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(a1 + 20);
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(a1 + 24);
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (10036A8F) --------------------------------------------------------
int __stdcall sub_10036A8F(int a1, int a2)
{
  int result; // eax@2
  int v3; // eax@5
  int v4; // [sp+4h] [bp-20h]@4
  int v5; // [sp+1Ch] [bp-8h]@5
  int v6; // [sp+20h] [bp-4h]@6

  if ( a2 )
  {
    if ( *(_DWORD *)(a1 + 1120)
      || ((*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a2 + 56))(a2, 0, &v4), v4 != *(_DWORD *)(a1 + 16))
      || (v3 = *(_DWORD *)(a1 + 12), v5 != v3)
      || v6 != v3 )
    {
      result = -2005530516;
    }
    else
    {
      result = sub_1003681C(a1);
      if ( result >= 0 )
      {
        *(_DWORD *)(a1 + 52) = a2;
        (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
        *(_DWORD *)(a1 + 1120) = 1;
        result = 0;
      }
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (10036AFF) --------------------------------------------------------
int __stdcall sub_10036AFF(int a1, int a2)
{
  int result; // eax@2
  int v3; // eax@6
  int v4; // [sp+4h] [bp-20h]@5
  int v5; // [sp+Ch] [bp-18h]@8
  int v6; // [sp+1Ch] [bp-8h]@6
  int v7; // [sp+20h] [bp-4h]@7

  if ( a2 )
  {
    if ( *(_DWORD *)(a1 + 1120) )
    {
      result = -2147467259;
    }
    else
    {
      (*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a2 + 56))(a2, 0, &v4);
      if ( v4 != *(_DWORD *)(a1 + 16) || (v3 = *(_DWORD *)(a1 + 12), v6 != v3) || v7 != v3 )
      {
        result = -2005530516;
      }
      else
      {
        *(_DWORD *)(a1 + 72) = v5 & 1;
        result = sub_1003681C(a1);
        if ( result >= 0 )
        {
          *(_DWORD *)(a1 + 56) = a2;
          (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
          *(_DWORD *)(a1 + 60) = 0;
          *(_DWORD *)(a1 + 1120) = 2;
          result = 0;
        }
      }
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (10036B83) --------------------------------------------------------
int __stdcall sub_10036B83(int a1, int a2, int a3)
{
  int result; // eax@3
  int v4; // eax@9
  int v5; // eax@14
  int v6; // eax@20
  int v7; // [sp+8h] [bp-20h]@7
  int v8; // [sp+10h] [bp-18h]@11
  int v9; // [sp+20h] [bp-8h]@9
  int v10; // [sp+24h] [bp-4h]@10

  if ( !a2 && !a3 )
    return -2005530516;
  if ( *(_DWORD *)(a1 + 1120) )
    return -2147467259;
  if ( a2 )
  {
    (*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a2 + 56))(a2, 0, &v7);
    if ( v7 != *(_DWORD *)(a1 + 16) || (v4 = *(_DWORD *)(a1 + 12), v9 != v4) || v10 != v4 )
      return -2005530516;
    *(_DWORD *)(a1 + 72) = v8 & 1;
  }
  if ( !a3 )
    goto LABEL_17;
  (*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a3 + 56))(a3, 0, &v7);
  if ( v7 != *(_DWORD *)(a1 + 16) || (v5 = *(_DWORD *)(a1 + 12), v9 != v5) || v10 != v5 )
    return -2005530516;
  *(_DWORD *)(a1 + 76) = v8 & 1;
LABEL_17:
  result = sub_1003681C(a1);
  if ( result >= 0 )
  {
    *(_DWORD *)(a1 + 56) = a2;
    *(_DWORD *)(a1 + 60) = a3;
    if ( a2 )
      (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
    v6 = *(_DWORD *)(a1 + 60);
    if ( v6 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 4))(*(_DWORD *)(a1 + 60));
    *(_DWORD *)(a1 + 1120) = 3;
    result = 0;
  }
  return result;
}

//----- (10036C58) --------------------------------------------------------
int __stdcall sub_10036C58(int a1, int a2, int a3)
{
  int result; // eax@3
  int v4; // eax@9
  int v5; // eax@14
  int v6; // eax@20
  int v7; // [sp+8h] [bp-20h]@7
  int v8; // [sp+10h] [bp-18h]@11
  int v9; // [sp+20h] [bp-8h]@9
  int v10; // [sp+24h] [bp-4h]@10

  if ( !a2 && !a3 )
    return -2005530516;
  if ( *(_DWORD *)(a1 + 1120) )
    return -2147467259;
  if ( a2 )
  {
    (*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a2 + 56))(a2, 0, &v7);
    if ( v7 != *(_DWORD *)(a1 + 16) || (v4 = *(_DWORD *)(a1 + 12), v9 != v4) || v10 != v4 )
      return -2005530516;
    *(_DWORD *)(a1 + 72) = v8 & 1;
  }
  if ( !a3 )
    goto LABEL_17;
  (*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a3 + 56))(a3, 0, &v7);
  if ( v7 != *(_DWORD *)(a1 + 16) || (v5 = *(_DWORD *)(a1 + 12), v9 != v5) || v10 != v5 )
    return -2005530516;
  *(_DWORD *)(a1 + 76) = v8 & 1;
LABEL_17:
  result = sub_1003681C(a1);
  if ( result >= 0 )
  {
    *(_DWORD *)(a1 + 56) = a2;
    *(_DWORD *)(a1 + 60) = a3;
    if ( a2 )
      (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
    v6 = *(_DWORD *)(a1 + 60);
    if ( v6 )
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 4))(*(_DWORD *)(a1 + 60));
    *(_DWORD *)(a1 + 1120) = 4;
    result = 0;
  }
  return result;
}

//----- (10036D2D) --------------------------------------------------------
int __stdcall sub_10036D2D(int a1)
{
  int v1; // eax@1
  int v2; // eax@8
  int v3; // eax@10
  int v4; // eax@12
  int v5; // eax@14
  int v6; // eax@16
  int v7; // eax@18
  int v8; // edi@20
  signed int v9; // ebp@20
  int v10; // eax@21
  int v11; // esi@26
  signed int v12; // ebp@26
  signed int v13; // edi@27
  int v14; // eax@28

  v1 = *(_DWORD *)(a1 + 8);
  if ( v1 )
  {
    if ( *(_DWORD *)(a1 + 1136) )
    {
      (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v1 + 224))(v1, *(_DWORD *)(a1 + 1136));
      *(_DWORD *)(a1 + 1136) = 0;
    }
    if ( *(_DWORD *)(a1 + 1164) )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(a1 + 8) + 224))(*(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 1164));
      *(_DWORD *)(a1 + 1164) = 0;
    }
    if ( *(_DWORD *)(a1 + 1168) )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(a1 + 8) + 224))(*(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 1168));
      *(_DWORD *)(a1 + 1168) = 0;
    }
  }
  v2 = *(_DWORD *)(a1 + 32);
  if ( v2 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v2 + 8))(*(_DWORD *)(a1 + 32));
    *(_DWORD *)(a1 + 32) = 0;
  }
  v3 = *(_DWORD *)(a1 + 36);
  if ( v3 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(*(_DWORD *)(a1 + 36));
    *(_DWORD *)(a1 + 36) = 0;
  }
  v4 = *(_DWORD *)(a1 + 40);
  if ( v4 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*(_DWORD *)(a1 + 40));
    *(_DWORD *)(a1 + 40) = 0;
  }
  v5 = *(_DWORD *)(a1 + 44);
  if ( v5 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(a1 + 44));
    *(_DWORD *)(a1 + 44) = 0;
  }
  v6 = *(_DWORD *)(a1 + 52);
  if ( v6 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*(_DWORD *)(a1 + 52));
    *(_DWORD *)(a1 + 52) = 0;
  }
  v7 = *(_DWORD *)(a1 + 48);
  if ( v7 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v7 + 8))(*(_DWORD *)(a1 + 48));
    *(_DWORD *)(a1 + 48) = 0;
  }
  v8 = a1 + 64;
  v9 = 2;
  do
  {
    v10 = *(_DWORD *)(v8 - 8);
    if ( v10 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v10 + 8))(*(_DWORD *)(v8 - 8));
      *(_DWORD *)(v8 - 8) = 0;
    }
    if ( *(_DWORD *)v8 )
    {
      (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v8 + 8))(*(_DWORD *)v8);
      *(_DWORD *)v8 = 0;
    }
    v8 += 4;
    --v9;
  }
  while ( v9 );
  v11 = a1 + 84;
  v12 = 5;
  do
  {
    v13 = 2;
    do
    {
      v14 = *(_DWORD *)(v11 - 4);
      if ( v14 )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v14 + 8))(*(_DWORD *)(v11 - 4));
        *(_DWORD *)(v11 - 4) = 0;
      }
      if ( *(_DWORD *)v11 )
      {
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v11 + 8))(*(_DWORD *)v11);
        *(_DWORD *)v11 = 0;
      }
      v11 += 104;
      --v13;
    }
    while ( v13 );
    --v12;
  }
  while ( v12 );
  return 0;
}

//----- (10036E4F) --------------------------------------------------------
int __stdcall sub_10036E4F(int a1)
{
  return 0;
}

//----- (10036E98) --------------------------------------------------------
int __stdcall sub_10036E98(int a1, int a2, int a3, int a4)
{
  int result; // eax@3
  int v5; // ecx@4
  double v6; // st6@4
  double v7; // st7@5
  double v8; // st7@6
  long double v9; // st6@10
  long double v10; // st7@10

  if ( a3 != 2 )
  {
    if ( a3 == 3 )
    {
      result = a2;
      v5 = a1;
      *(float *)a1 = *(float *)a2;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
      if ( !a4 )
        goto LABEL_9;
    }
    else
    {
      result = a3 - 4;
      if ( a3 != 4 )
        return result;
      result = a2;
      v5 = a1;
      v6 = *(float *)(a2 + 8);
      if ( !a4 )
      {
        v7 = 0.5 / ((v6 + 1.0) * 0.5);
        *(float *)a1 = v7 * *(float *)a2;
        *(float *)(a1 + 4) = v7 * *(float *)(a2 + 4);
LABEL_9:
        result = *(_DWORD *)(result + 8);
        *(_DWORD *)(v5 + 8) = result;
        return result;
      }
      v8 = 0.5 / (0.5 - v6 * 0.5);
      *(float *)a1 = v8 * *(float *)a2;
      *(float *)(a1 + 4) = v8 * *(float *)(a2 + 4);
    }
    *(float *)(v5 + 8) = -*(float *)(result + 8);
    return result;
  }
  result = a2;
  v9 = sqrt(*(float *)(a2 + 8) * 0.5 + 0.5);
  *(float *)(a1 + 8) = v9;
  v10 = 0.5 / v9;
  *(float *)a1 = v10 * *(float *)a2;
  *(float *)(a1 + 4) = v10 * *(float *)(a2 + 4);
  return result;
}

//----- (10036F70) --------------------------------------------------------
int __thiscall sub_10036F70(void *this)
{
  void *v1; // esi@1
  int result; // eax@1

  v1 = this;
  *(_DWORD *)this = &off_10073574;
  sub_10036D2D((int)this);
  result = *((_DWORD *)v1 + 2);
  if ( result )
  {
    result = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)result + 8))(*((_DWORD *)v1 + 2));
    *((_DWORD *)v1 + 2) = 0;
  }
  return result;
}
// 10073574: using guessed type int (__stdcall *off_10073574)(int, int, int);

//----- (10036F92) --------------------------------------------------------
int __thiscall sub_10036F92(int this)
{
  double v1; // st7@2
  double v2; // st6@2
  unsigned int v3; // edx@4
  unsigned int v4; // ebx@6
  int v5; // ecx@7
  int v6; // eax@7
  float *v7; // esi@14
  int v8; // esi@20
  float v9; // eax@74
  unsigned int v10; // ebx@79
  double v11; // st6@80
  unsigned int v12; // esi@80
  double v13; // st7@82
  double v14; // st6@82
  double v15; // st5@82
  double v16; // st7@82
  int v17; // edi@84
  float v18; // ST30_4@84
  unsigned int v19; // esi@85
  unsigned int v20; // edx@86
  int v21; // eax@87
  unsigned int v22; // edi@94
  double v23; // st6@96
  unsigned int v24; // esi@96
  double v25; // st7@98
  float v26; // ST44_4@98
  float v27; // ST24_4@98
  double v28; // st7@98
  int v29; // eax@105
  unsigned int v30; // edi@109
  unsigned int v31; // esi@110
  unsigned int v32; // edx@111
  __int16 v33; // ax@112
  int v34; // ecx@117
  int v35; // eax@117
  int v36; // ecx@117
  int v37; // esi@121
  int v38; // ebx@122
  int v39; // esi@122
  int result; // eax@122
  int v41; // esi@124
  char v42; // [sp+30h] [bp-270h]@82
  float v43; // [sp+3Ch] [bp-264h]@16
  float v44; // [sp+40h] [bp-260h]@16
  float v45; // [sp+44h] [bp-25Ch]@16
  float v46; // [sp+48h] [bp-258h]@17
  float v47; // [sp+4Ch] [bp-254h]@17
  float v48; // [sp+50h] [bp-250h]@17
  float v49; // [sp+54h] [bp-24Ch]@15
  float v50; // [sp+58h] [bp-248h]@15
  float v51; // [sp+5Ch] [bp-244h]@15
  float v52; // [sp+60h] [bp-240h]@15
  float v53; // [sp+64h] [bp-23Ch]@15
  float v54; // [sp+68h] [bp-238h]@15
  char v55; // [sp+6Ch] [bp-234h]@98
  float v56; // [sp+74h] [bp-22Ch]@98
  float v57; // [sp+78h] [bp-228h]@14
  float v58; // [sp+7Ch] [bp-224h]@14
  float v59; // [sp+80h] [bp-220h]@14
  float v60; // [sp+84h] [bp-21Ch]@98
  float v61; // [sp+88h] [bp-218h]@98
  float v62; // [sp+8Ch] [bp-214h]@98
  float v63; // [sp+90h] [bp-210h]@17
  float v64; // [sp+94h] [bp-20Ch]@17
  float v65; // [sp+98h] [bp-208h]@17
  float v66; // [sp+9Ch] [bp-204h]@84
  float v67; // [sp+A0h] [bp-200h]@84
  float v68; // [sp+A4h] [bp-1FCh]@84
  float v69; // [sp+A8h] [bp-1F8h]@16
  float v70; // [sp+ACh] [bp-1F4h]@16
  float v71; // [sp+B0h] [bp-1F0h]@16
  float v72; // [sp+B4h] [bp-1ECh]@82
  float v73; // [sp+B8h] [bp-1E8h]@82
  float v74; // [sp+BCh] [bp-1E4h]@82
  float v75; // [sp+C0h] [bp-1E0h]@15
  float v76; // [sp+C4h] [bp-1DCh]@15
  float v77; // [sp+C8h] [bp-1D8h]@15
  float v78; // [sp+CCh] [bp-1D4h]@82
  float v79; // [sp+D0h] [bp-1D0h]@82
  float v80; // [sp+D8h] [bp-1C8h]@14
  float v81; // [sp+DCh] [bp-1C4h]@14
  float v82; // [sp+E0h] [bp-1C0h]@14
  float v83; // [sp+E4h] [bp-1BCh]@19
  float v84; // [sp+E8h] [bp-1B8h]@19
  float v85; // [sp+ECh] [bp-1B4h]@19
  float v86; // [sp+F0h] [bp-1B0h]@17
  float v87; // [sp+F4h] [bp-1ACh]@17
  float v88; // [sp+F8h] [bp-1A8h]@17
  float v89; // [sp+FCh] [bp-1A4h]@19
  float v90; // [sp+100h] [bp-1A0h]@19
  float v91; // [sp+104h] [bp-19Ch]@19
  float v92; // [sp+108h] [bp-198h]@17
  float v93; // [sp+10Ch] [bp-194h]@17
  float v94; // [sp+110h] [bp-190h]@17
  float v95; // [sp+114h] [bp-18Ch]@19
  float v96; // [sp+118h] [bp-188h]@19
  float v97; // [sp+11Ch] [bp-184h]@19
  float v98; // [sp+120h] [bp-180h]@16
  float v99; // [sp+124h] [bp-17Ch]@16
  float v100; // [sp+128h] [bp-178h]@16
  float v101; // [sp+12Ch] [bp-174h]@19
  float v102; // [sp+130h] [bp-170h]@19
  float v103; // [sp+134h] [bp-16Ch]@19
  float v104; // [sp+138h] [bp-168h]@16
  float v105; // [sp+13Ch] [bp-164h]@16
  float v106; // [sp+140h] [bp-160h]@16
  float v107; // [sp+144h] [bp-15Ch]@19
  float v108; // [sp+148h] [bp-158h]@19
  float v109; // [sp+14Ch] [bp-154h]@19
  float v110; // [sp+150h] [bp-150h]@16
  float v111; // [sp+154h] [bp-14Ch]@16
  float v112; // [sp+158h] [bp-148h]@16
  float v113; // [sp+15Ch] [bp-144h]@18
  float v114; // [sp+160h] [bp-140h]@18
  float v115; // [sp+164h] [bp-13Ch]@18
  float v116; // [sp+168h] [bp-138h]@15
  float v117; // [sp+16Ch] [bp-134h]@15
  float v118; // [sp+170h] [bp-130h]@15
  float v119; // [sp+174h] [bp-12Ch]@18
  float v120; // [sp+178h] [bp-128h]@18
  float v121; // [sp+17Ch] [bp-124h]@18
  float v122; // [sp+180h] [bp-120h]@15
  float v123; // [sp+184h] [bp-11Ch]@15
  float v124; // [sp+188h] [bp-118h]@15
  float v125; // [sp+18Ch] [bp-114h]@18
  float v126; // [sp+190h] [bp-110h]@18
  float v127; // [sp+194h] [bp-10Ch]@18
  float v128; // [sp+198h] [bp-108h]@14
  float v129; // [sp+19Ch] [bp-104h]@14
  float v130; // [sp+1A0h] [bp-100h]@14
  float v131; // [sp+1A4h] [bp-FCh]@18
  float v132; // [sp+1A8h] [bp-F8h]@18
  float v133; // [sp+1ACh] [bp-F4h]@18
  float v134; // [sp+1B0h] [bp-F0h]@14
  float v135; // [sp+1B4h] [bp-ECh]@14
  float v136; // [sp+1B8h] [bp-E8h]@14
  float v137; // [sp+1BCh] [bp-E4h]@18
  float v138; // [sp+1C0h] [bp-E0h]@18
  float v139; // [sp+1C4h] [bp-DCh]@18
  float v140; // [sp+1C8h] [bp-D8h]@17
  float v141; // [sp+1CCh] [bp-D4h]@17
  float v142; // [sp+1D0h] [bp-D0h]@17
  float v143; // [sp+1D4h] [bp-CCh]@14
  float v144; // [sp+1D8h] [bp-C8h]@14
  float v145; // [sp+1DCh] [bp-C4h]@14
  float v146; // [sp+1E0h] [bp-C0h]@96
  float v147; // [sp+1E4h] [bp-BCh]@96
  float v148; // [sp+1E8h] [bp-B8h]@96
  float v149; // [sp+1ECh] [bp-B4h]@82
  float v150; // [sp+1F0h] [bp-B0h]@82
  float v151; // [sp+1F4h] [bp-ACh]@76
  float v152; // [sp+1F8h] [bp-A8h]@76
  float v153; // [sp+1FCh] [bp-A4h]@79
  float v154; // [sp+200h] [bp-A0h]@76
  float v155; // [sp+204h] [bp-9Ch]@76
  float v156; // [sp+208h] [bp-98h]@77
  float v157; // [sp+20Ch] [bp-94h]@77
  int v158; // [sp+210h] [bp-90h]@1
  float v159; // [sp+214h] [bp-8Ch]@98
  float v160; // [sp+218h] [bp-88h]@96
  float v161; // [sp+21Ch] [bp-84h]@75
  float v162; // [sp+220h] [bp-80h]@75
  float v163; // [sp+224h] [bp-7Ch]@77
  float v164; // [sp+228h] [bp-78h]@77
  float v165; // [sp+22Ch] [bp-74h]@74
  float v166; // [sp+230h] [bp-70h]@74
  float v167; // [sp+234h] [bp-6Ch]@74
  float v168; // [sp+238h] [bp-68h]@74
  float v169; // [sp+23Ch] [bp-64h]@75
  float v170; // [sp+240h] [bp-60h]@75
  float v171; // [sp+244h] [bp-5Ch]@82
  float v172; // [sp+248h] [bp-58h]@82
  float v173; // [sp+24Ch] [bp-54h]@84
  float v174; // [sp+250h] [bp-50h]@82
  float v175; // [sp+254h] [bp-4Ch]@82
  float v176; // [sp+258h] [bp-48h]@82
  unsigned int v177; // [sp+25Ch] [bp-44h]@79
  float v178; // [sp+260h] [bp-40h]@81
  float v179; // [sp+264h] [bp-3Ch]@81
  float v180; // [sp+268h] [bp-38h]@82
  unsigned int v181; // [sp+26Ch] [bp-34h]@24
  float v182; // [sp+270h] [bp-30h]@69
  float v183; // [sp+274h] [bp-2Ch]@20
  float v184; // [sp+278h] [bp-28h]@20
  float v185; // [sp+27Ch] [bp-24h]@20
  float v186; // [sp+280h] [bp-20h]@69
  float v187; // [sp+284h] [bp-1Ch]@69
  float v188; // [sp+288h] [bp-18h]@69
  float v189; // [sp+28Ch] [bp-14h]@69
  float v190; // [sp+290h] [bp-10h]@74
  float v191; // [sp+294h] [bp-Ch]@78
  float v192; // [sp+298h] [bp-8h]@69
  float v193; // [sp+29Ch] [bp-4h]@14
  float v194; // [sp+2A0h] [bp+0h]@14
  float v195; // [sp+2A4h] [bp+4h]@14
  float v196; // [sp+2A8h] [bp+8h]@14
  float v197; // [sp+2ACh] [bp+Ch]@14
  float v198; // [sp+2B0h] [bp+10h]@14
  unsigned int v199; // [sp+2B4h] [bp+14h]@69
  float v200; // [sp+2B8h] [bp+18h]@74
  float v201; // [sp+2BCh] [bp+1Ch]@74
  unsigned int v202; // [sp+2C0h] [bp+20h]@4
  int v203; // [sp+2C4h] [bp+24h]@1
  float v204; // [sp+2C8h] [bp+28h]@80
  float v205; // [sp+2CCh] [bp+2Ch]@80
  float v206; // [sp+2D0h] [bp+30h]@80
  int v207; // [sp+2D4h] [bp+34h]@4
  float v208; // [sp+2D8h] [bp+38h]@14
  float v209; // [sp+2DCh] [bp+3Ch]@14
  float v210; // [sp+2E0h] [bp+40h]@14
  float v211; // [sp+2E4h] [bp+44h]@14
  float v212; // [sp+2E8h] [bp+48h]@14
  float v213; // [sp+2ECh] [bp+4Ch]@14
  unsigned int v214; // [sp+2F0h] [bp+50h]@3
  int v215; // [sp+2F4h] [bp+54h]@4
  int v216; // [sp+2F8h] [bp+58h]@1
  int v217; // [sp+2FCh] [bp+5Ch]@1
  unsigned int v218; // [sp+300h] [bp+60h]@31
  unsigned int v219; // [sp+304h] [bp+64h]@27
  int v220; // [sp+308h] [bp+68h]@3
  int v221; // [sp+30Ch] [bp+6Ch]@3
  unsigned int v222; // [sp+310h] [bp+70h]@36
  unsigned int v223; // [sp+314h] [bp+74h]@29

  v203 = this;
  v216 = *(_DWORD *)(this + 1120);
  v217 = 0;
  v158 = (v216 != 2) + 1;
  if ( (v216 != 2) == -1 )
    return 0;
  v1 = -1.0;
  v2 = 0.0;
  while ( 2 )
  {
    v221 = 0;
    v220 = 0;
    v214 = 0;
LABEL_4:
    v215 = 0;
    v207 = 0;
    v202 = 0;
    v3 = 0;
    while ( 1 )
    {
      v4 = v202;
      if ( v214 > v3 )
      {
        v5 = v203;
        v6 = 104 * (v217 + 2 * v216);
        *(_DWORD *)(v6 + 16 * v202 + v203 + 88) = v215;
        *(_DWORD *)(v6 + 16 * (v4 + 6) + v5) = v207;
      }
      if ( v4 == v3 )
      {
        v107 = 1.0;
        v108 = 0.0;
        v109 = 1.0;
        v208 = 1.0;
        v101 = 1.0;
        v209 = 0.0;
        v102 = 0.0;
        v103 = v1;
        v210 = 1.0;
        v95 = 1.0;
        v96 = v1;
        v193 = 1.0;
        v97 = 0.0;
        v194 = 0.0;
        v89 = 1.0;
        v195 = v103;
        v90 = 1.0;
        v91 = 0.0;
        v211 = 1.0;
        v83 = 1.0;
        v84 = 0.0;
        v212 = v96;
        v85 = 0.0;
        v213 = 0.0;
        v196 = 1.0;
        v197 = 1.0;
        v198 = 0.0;
        v7 = &v83;
      }
      else
      {
        switch ( v4 - v3 )
        {
          case 1u:
            v137 = v1;
            v138 = 0.0;
            v139 = v1;
            v208 = v137;
            v131 = v1;
            v209 = 0.0;
            v132 = 0.0;
            v133 = 1.0;
            v210 = v139;
            v125 = v1;
            v126 = v1;
            v193 = v131;
            v127 = 0.0;
            v119 = v1;
            v194 = 0.0;
            v120 = 1.0;
            v195 = 1.0;
            v121 = 0.0;
            v113 = v1;
            v211 = v125;
            v114 = 0.0;
            v115 = 0.0;
            v212 = v126;
            v213 = 0.0;
            v196 = v119;
            v197 = 1.0;
            v198 = 0.0;
            v7 = &v113;
            break;
          case 2u:
            v63 = 1.0;
            v64 = 1.0;
            v65 = 0.0;
            v92 = v1;
            v208 = 1.0;
            v209 = 1.0;
            v93 = 1.0;
            v94 = 0.0;
            v210 = 0.0;
            v46 = 0.0;
            v193 = v92;
            v47 = 1.0;
            v48 = v1;
            v194 = 1.0;
            v86 = 0.0;
            v195 = 0.0;
            v87 = 1.0;
            v88 = 1.0;
            v211 = 0.0;
            v140 = 0.0;
            v141 = 1.0;
            v212 = 1.0;
            v142 = 0.0;
            v213 = v48;
            v196 = 0.0;
            v197 = 1.0;
            v198 = 1.0;
            v7 = &v140;
            break;
          case 3u:
            v110 = 1.0;
            v111 = v1;
            v112 = 0.0;
            v69 = v1;
            v208 = 1.0;
            v70 = v1;
            v209 = v111;
            v71 = 0.0;
            v210 = 0.0;
            v104 = 0.0;
            v105 = v1;
            v193 = v69;
            v106 = 1.0;
            v194 = v70;
            v43 = 0.0;
            v44 = v1;
            v195 = 0.0;
            v45 = v1;
            v98 = 0.0;
            v99 = v1;
            v211 = 0.0;
            v100 = 0.0;
            v212 = v105;
            v213 = 1.0;
            v196 = 0.0;
            v197 = v44;
            v198 = v45;
            v7 = &v98;
            break;
          case 4u:
            v49 = 1.0;
            v50 = 0.0;
            v51 = v1;
            v122 = v1;
            v208 = 1.0;
            v209 = 0.0;
            v123 = 0.0;
            v124 = v1;
            v210 = v51;
            v75 = 0.0;
            v76 = v1;
            v193 = v122;
            v77 = v1;
            v116 = 0.0;
            v194 = 0.0;
            v117 = 1.0;
            v195 = v124;
            v118 = v1;
            v52 = 0.0;
            v211 = 0.0;
            v53 = 0.0;
            v54 = v1;
            v212 = v76;
            v213 = v77;
            v196 = 0.0;
            v197 = 1.0;
            v198 = v118;
            v7 = &v52;
            break;
          default:
            if ( v4 - v3 != 5 )
              goto LABEL_21;
            v128 = v1;
            v129 = 0.0;
            v130 = 1.0;
            v208 = v128;
            v57 = 1.0;
            v209 = 0.0;
            v58 = 0.0;
            v210 = 1.0;
            v59 = 1.0;
            v134 = 0.0;
            v193 = 1.0;
            v135 = v1;
            v136 = 1.0;
            v194 = 0.0;
            v80 = 0.0;
            v195 = 1.0;
            v81 = 1.0;
            v82 = 1.0;
            v211 = 0.0;
            v143 = 0.0;
            v212 = v135;
            v144 = 0.0;
            v145 = 1.0;
            v213 = 1.0;
            v196 = 0.0;
            v197 = 1.0;
            v198 = 1.0;
            v7 = &v143;
            break;
        }
      }
      LODWORD(v183) = *(_DWORD *)v7;
      v8 = (int)(v7 + 1);
      LODWORD(v184) = *(_DWORD *)v8;
      LODWORD(v185) = *(_DWORD *)(v8 + 4);
LABEL_21:
      if ( v216 == 2 )
      {
        v219 = v3;
        v218 = v3;
        v181 = v4 == 4;
        v223 = 16;
        v222 = 16;
        goto LABEL_64;
      }
      if ( v216 == 3 )
      {
        v181 = v3;
        if ( v217 == v3 )
        {
          v219 = 7;
          if ( v210 >= v2 )
            v219 = v3;
          v223 = 9;
          if ( v195 >= v2 )
            v223 = 16;
          v218 = 7;
          if ( v213 >= v2 )
            v218 = v3;
          if ( v198 < v2 )
          {
LABEL_62:
            v222 = 9;
            goto LABEL_64;
          }
        }
        else
        {
          if ( v217 - v3 != 1 )
            goto LABEL_64;
          v219 = 7;
          if ( v210 <= v2 )
            v219 = v3;
          v223 = 9;
          if ( v195 <= v2 )
            v223 = 16;
          v218 = 7;
          if ( v213 <= v2 )
            v218 = v3;
          if ( v198 > v2 )
            goto LABEL_62;
        }
LABEL_54:
        v222 = 16;
        goto LABEL_64;
      }
      if ( v216 == 4 )
      {
        v181 = v3;
        if ( v217 == v3 )
        {
          if ( v4 == 4 )
          {
LABEL_36:
            v219 = v3;
            v223 = v3;
            v218 = v3;
            v222 = v3;
            goto LABEL_116;
          }
          v219 = 4;
          if ( v210 >= v2 )
            v219 = v3;
          v223 = 12;
          if ( v195 >= v2 )
            v223 = 16;
          v218 = 4;
          if ( v213 >= v2 )
            v218 = v3;
          if ( v198 >= v2 )
            goto LABEL_54;
          goto LABEL_44;
        }
        if ( v217 - v3 == 1 )
        {
          if ( v4 == 5 )
            goto LABEL_36;
          v219 = 4;
          if ( v210 <= v2 )
            v219 = v3;
          v223 = 12;
          if ( v195 <= v2 )
            v223 = 16;
          v218 = 4;
          if ( v213 <= v2 )
            v218 = v3;
          if ( v198 <= v2 )
            goto LABEL_54;
LABEL_44:
          v222 = 12;
          goto LABEL_64;
        }
      }
LABEL_64:
      if ( v218 != v222 && v219 != v223 )
      {
        if ( v181 == v3 )
        {
          if ( v214 > v3 )
          {
            v22 = v218;
            if ( v218 <= v222 )
            {
              v187 = v196 - v211;
              v189 = v197 - v212;
              v192 = v198 - v213;
              do
              {
                LODWORD(v206) = v22;
                v23 = (double)v22 * 0.0625;
                v24 = v219;
                v160 = v23;
                v146 = v187 * v23 + v211;
                v147 = v189 * v23 + v212;
                v148 = v192 * v23 + v213;
                if ( v219 <= v223 )
                {
                  v188 = v193 - v208;
                  v186 = v194 - v209;
                  v182 = v195 - v210;
                  v206 = 1.0 - v160;
                  do
                  {
                    v177 = v24;
                    v25 = (double)v24 * 0.0625;
                    v159 = v25;
                    v26 = v182 * v25 + v210;
                    v27 = v188 * v25 + v208 + v146;
                    v60 = v27 - v183;
                    v61 = v186 * v25 + v209 + v147 - v184;
                    v62 = v26 + v148 - v185;
                    sub_1003074E(&v55, &v60);
                    sub_10036E98(v221, (int)&v55, v216, v217);
                    v28 = 1.0 - v159;
                    *(_DWORD *)(v221 + 12) = -1;
                    *(float *)(v221 + 16) = v28;
                    *(float *)(v221 + 20) = v206;
                    if ( v56 < 0.0 && !v217 || v56 > 0.0 && v217 == 1 )
                    {
                      if ( v216 == 4 )
                        *(_DWORD *)(v221 + 12) = 16777215;
                      if ( v216 == 3 )
                      {
                        v29 = v221;
                        *(float *)v221 = *(float *)v221 * 2.0;
                        *(float *)(v29 + 4) = *(float *)(v29 + 4) * 2.0;
                        *(float *)(v29 + 8) = *(float *)(v29 + 8) * 2.0;
                      }
                    }
                    v221 += 24;
                    ++v24;
                  }
                  while ( v24 <= v223 );
                  v1 = -1.0;
                }
                ++v22;
              }
              while ( v22 <= v222 );
            }
            v30 = v218;
            if ( v218 < v222 )
            {
              v31 = v223;
              do
              {
                v32 = v219;
                if ( v219 < v31 )
                {
                  v33 = (v30 - (_WORD)v218) * (v31 - (_WORD)v219 + 1) - v219;
                  do
                  {
                    *(_WORD *)v220 = v215 + v32 + v33;
                    *(_WORD *)(v220 + 2) = *(_WORD *)v220 - v219 + (_WORD)v31 + 1;
                    *(_WORD *)(v220 + 4) = *(_WORD *)v220 + 1;
                    *(_WORD *)(v220 + 6) = *(_WORD *)(v220 + 4);
                    *(_WORD *)(v220 + 8) = *(_WORD *)(v220 + 2);
                    *(_WORD *)(v220 + 10) = *(_WORD *)(v220 + 2) + 1;
                    v220 += 12;
                    ++v32;
                  }
                  while ( v32 < v31 );
                }
                ++v30;
              }
              while ( v30 < v222 );
            }
          }
          v207 += (v223 - v219) * (6 * v222 - 6 * v218);
          v215 += (v223 - v219 + 1) * (v222 - v218 + 1);
          v3 = 0;
        }
        else
        {
          if ( v181 - v3 == 1 )
          {
            if ( v214 > v3 )
            {
              v223 >>= 1;
              v199 = v3;
              v188 = v193 - v208;
              v186 = v194 - v209;
              v182 = v195 - v210;
              v187 = v196 - v211;
              v189 = v197 - v212;
              v192 = v198 - v213;
              do
              {
                if ( v199 == v3 )
                {
                  v156 = 0.0;
                  v157 = 0.0;
                  v200 = 0.0;
                  v163 = 1.0;
                  v201 = 0.0;
                  v164 = 0.0;
                  v190 = 1.0;
                  v9 = 0.0;
                }
                else
                {
                  if ( v199 - v3 == 1 )
                  {
                    v154 = 1.0;
                    v155 = 0.0;
                    v200 = 1.0;
                    v151 = 1.0;
                    v201 = 0.0;
                    v152 = 1.0;
                    v190 = 1.0;
                    v9 = 1.0;
                  }
                  else
                  {
                    if ( v199 - v3 == 2 )
                    {
                      v161 = 1.0;
                      v162 = 1.0;
                      v200 = 1.0;
                      v169 = 0.0;
                      v201 = 1.0;
                      v170 = 1.0;
                      v190 = 0.0;
                      v9 = 1.0;
                    }
                    else
                    {
                      if ( v199 - v3 != 3 )
                        goto LABEL_79;
                      v167 = 0.0;
                      v168 = 1.0;
                      v200 = 0.0;
                      v165 = 0.0;
                      v201 = 1.0;
                      v166 = 0.0;
                      v190 = 0.0;
                      v9 = 0.0;
                    }
                  }
                }
                v191 = v9;
LABEL_79:
                v10 = 0;
                v153 = v190 - v200;
                *(float *)&v177 = v191 - v201;
                do
                {
                  LODWORD(v206) = v10;
                  v11 = (double)v10 * 0.0625;
                  v12 = 0;
                  v204 = v153 * v11 + v200;
                  v205 = *(float *)&v177 * v11 + v201;
                  if ( v223 > v3 )
                  {
                    v206 = (double)(v223 - 1);
                    v179 = 0.5 - v204;
                    v178 = 0.5 - v205;
                    do
                    {
                      v13 = (double)v12 / v206;
                      v180 = 0.99000001 * v13;
                      v14 = 0.99000001 * v13 * v179 + v204;
                      v15 = v180 * v178 + v205;
                      v174 = v188 * v14 + v208;
                      v175 = v186 * v14 + v209;
                      v176 = v182 * v14 + v210;
                      v171 = v187 * v15 + v211;
                      v172 = v189 * v15 + v212;
                      v149 = v13 * v179 + v204;
                      v150 = v13 * v178 + v205;
                      v78 = v171 + v174;
                      v79 = v172 + v175;
                      v72 = v78 - v183;
                      v73 = v79 - v184;
                      v74 = v192 * v15 + v213 + v176 - v185;
                      sub_1003074E(&v42, &v72);
                      sub_10036E98(v221, (int)&v42, v216, v217);
                      v16 = 1.0 - v149;
                      *(_DWORD *)(v221 + 12) = -1;
                      *(float *)(v221 + 16) = v16;
                      *(float *)(v221 + 20) = 1.0 - v150;
                      v221 += 24;
                      ++v12;
                    }
                    while ( v12 < v223 );
                    v1 = -1.0;
                    v3 = 0;
                  }
                  v17 = v221;
                  v176 = v182 * v204 + v210;
                  v172 = v189 * v205 + v212;
                  v173 = v192 * v205 + v213;
                  v18 = v187 * v205 + v211 + v188 * v204 + v208;
                  v66 = v18 - v183;
                  v67 = v172 + v186 * v204 + v209 - v184;
                  v68 = v173 + v176 - v185;
                  *(_DWORD *)v221 = LODWORD(v66);
                  v17 += 4;
                  *(_DWORD *)v17 = LODWORD(v67);
                  *(_DWORD *)(v17 + 4) = LODWORD(v68);
                  *(_DWORD *)(v221 + 12) = -1;
                  *(float *)(v221 + 16) = 0.5;
                  *(float *)(v221 + 20) = 0.5;
                  v221 += 24;
                  ++v10;
                }
                while ( v10 <= v222 );
                v19 = 0;
                if ( v222 > v3 )
                {
                  do
                  {
                    v20 = 0;
                    if ( v223 )
                    {
                      v21 = (v223 + 1) * (v19 + v199 * (v222 + 1));
                      do
                      {
                        *(_WORD *)v220 = v215 + v20 + (_WORD)v21;
                        *(_WORD *)(v220 + 2) = v223 + *(_WORD *)v220 + 1;
                        *(_WORD *)(v220 + 4) = *(_WORD *)v220 + 1;
                        *(_WORD *)(v220 + 6) = *(_WORD *)(v220 + 4);
                        *(_WORD *)(v220 + 8) = *(_WORD *)(v220 + 2);
                        *(_WORD *)(v220 + 10) = *(_WORD *)(v220 + 2) + 1;
                        v220 += 12;
                        ++v20;
                      }
                      while ( v20 < v223 );
                    }
                    ++v19;
                  }
                  while ( v19 < v222 );
                  v3 = 0;
                }
                ++v199;
              }
              while ( v199 < 4 );
            }
            v215 += (v223 + 1) * (4 * v222 + 4);
            v207 += 24 * v223 * v222;
          }
        }
      }
LABEL_116:
      if ( v214 > v3 )
      {
        v34 = 104 * (v217 + 2 * v216);
        v35 = v203 + v34 + 16 * v202;
        v36 = v207 - *(_DWORD *)(v34 + 16 * (v202 + 6) + v203);
        *(_DWORD *)(v35 + 92) = v215 - *(_DWORD *)(v35 + 88);
        *(_DWORD *)(v35 + 100) = v36;
        v3 = 0;
      }
      ++v202;
      if ( v202 >= 6 )
        break;
      v2 = 0.0;
    }
    if ( v214 != v3 )
    {
      if ( v214 - v3 == 1 )
      {
        v37 = 104 * (v217 + 2 * v216) + v203;
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v37 + 80) + 48))(*(_DWORD *)(v37 + 80));
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v37 + 84) + 48))(*(_DWORD *)(v37 + 84));
        goto LABEL_126;
      }
LABEL_127:
      ++v214;
      v2 = 0.0;
      if ( v214 >= 2 )
      {
        ++v217;
        if ( v217 >= (unsigned int)v158 )
          return 0;
        continue;
      }
      goto LABEL_4;
    }
    break;
  }
  v38 = v203;
  v39 = 104 * (v217 + 2 * v216) + v203;
  result = (*(int (__stdcall **)(_DWORD, int, signed int, signed int, signed int, int))(**(_DWORD **)(v203 + 8) + 92))(
             *(_DWORD *)(v203 + 8),
             24 * v215,
             8,
             322,
             1,
             v39 + 80);
  if ( result >= 0 )
  {
    result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, int *, _DWORD))(**(_DWORD **)(v39 + 80) + 44))(
               *(_DWORD *)(v39 + 80),
               0,
               0,
               &v221,
               0);
    if ( result >= 0 )
    {
      v41 = v39 + 84;
      result = (*(int (__stdcall **)(_DWORD, int, signed int, signed int, signed int, int))(**(_DWORD **)(v38 + 8) + 96))(
                 *(_DWORD *)(v38 + 8),
                 2 * v207,
                 8,
                 101,
                 1,
                 v41);
      if ( result >= 0 )
      {
        result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, int *, _DWORD))(**(_DWORD **)v41 + 44))(
                   *(_DWORD *)v41,
                   0,
                   0,
                   &v220,
                   0);
        if ( result >= 0 )
        {
LABEL_126:
          v1 = -1.0;
          goto LABEL_127;
        }
      }
    }
  }
  return result;
}
// 1003074E: using guessed type int __stdcall sub_1003074E(_DWORD, _DWORD);

//----- (10037EC6) --------------------------------------------------------
int __thiscall sub_10037EC6(int this)
{
  int v1; // edx@1
  int v2; // eax@1
  signed int v3; // ecx@1

  v1 = this;
  *(_DWORD *)this = &off_10073574;
  *(_DWORD *)(this + 4) = 1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 36) = 0;
  *(_DWORD *)(this + 40) = 0;
  *(_DWORD *)(this + 44) = 0;
  *(_DWORD *)(this + 52) = 0;
  *(_DWORD *)(this + 48) = 0;
  v2 = this + 64;
  v3 = 2;
  do
  {
    *(_DWORD *)(v2 - 8) = 0;
    *(_DWORD *)v2 = 0;
    v2 += 4;
    --v3;
  }
  while ( v3 );
  memset((void *)(v1 + 80), 0, 0x410u);
  *(_DWORD *)(v1 + 1120) = 0;
  *(_DWORD *)(v1 + 1136) = 0;
  *(_DWORD *)(v1 + 1164) = 0;
  *(_DWORD *)(v1 + 1168) = 0;
  *(_DWORD *)(v1 + 1128) = 0;
  return v1;
}
// 10073574: using guessed type int (__stdcall *off_10073574)(int, int, int);

//----- (10037F2E) --------------------------------------------------------
int __stdcall sub_10037F2E(int a1)
{
  int v1; // eax@1
  int v2; // esi@1

  v1 = *(_DWORD *)(a1 + 4);
  v2 = v1 - 1;
  *(_DWORD *)(a1 + 4) = v1 - 1;
  if ( v1 == 1 )
    sub_10034A99((void *)a1, 1);
  return v2;
}

//----- (10037F4D) --------------------------------------------------------
int __userpurge sub_10037F4D<eax>(int a1<ecx>, int a2<ebx>, int a3)
{
  int v3; // esi@1
  int result; // eax@2
  int v5; // ecx@3
  signed int v6; // ebx@3
  bool v7; // zf@3
  double v8; // st6@6
  float v9; // ST2C_4@6
  float v10; // ST28_4@6
  float v11; // ST24_4@6
  float v12; // ST20_4@6
  void *v13; // ecx@6
  int v14; // eax@6
  int v15; // ecx@7
  int v16; // eax@10
  int v17; // ecx@12
  int v18; // ecx@12
  int v19; // ecx@17
  int v20; // ebx@18
  unsigned int v21; // ebx@21
  int v22; // [sp+34h] [bp-1Ch]@3
  int v23; // [sp+40h] [bp-10h]@6
  float v24; // [sp+44h] [bp-Ch]@6
  float v25; // [sp+48h] [bp-8h]@6
  float v26; // [sp+4Ch] [bp-4h]@6
  float v27; // [sp+50h] [bp+0h]@6
  float v28; // [sp+54h] [bp+4h]@6
  float v29; // [sp+58h] [bp+8h]@6
  float v30; // [sp+5Ch] [bp+Ch]@6
  float v31; // [sp+60h] [bp+10h]@6
  float v32; // [sp+64h] [bp+14h]@6
  float v33; // [sp+68h] [bp+18h]@6
  float v34; // [sp+6Ch] [bp+1Ch]@6
  float v35; // [sp+70h] [bp+20h]@6
  float v36; // [sp+74h] [bp+24h]@6
  float v37; // [sp+78h] [bp+28h]@6
  float v38; // [sp+7Ch] [bp+2Ch]@6
  float v39; // [sp+80h] [bp+30h]@6
  float v40; // [sp+84h] [bp+34h]@6
  float v41; // [sp+88h] [bp+38h]@6
  float v42; // [sp+8Ch] [bp+3Ch]@6
  float v43; // [sp+90h] [bp+40h]@6
  float v44; // [sp+94h] [bp+44h]@6
  float v45; // [sp+98h] [bp+48h]@6
  float v46; // [sp+9Ch] [bp+4Ch]@6
  float v47; // [sp+A0h] [bp+50h]@6
  int v48; // [sp+A4h] [bp+54h]@1
  int v49; // [sp+A8h] [bp+58h]@10
  unsigned int v50; // [sp+ACh] [bp+5Ch]@6
  int v51; // [sp+B0h] [bp+60h]@12
  int v52; // [sp+B4h] [bp+64h]@11
  int v53; // [sp+B8h] [bp+68h]@3
  int v54; // [sp+BCh] [bp+6Ch]@14
  unsigned int v55; // [sp+C0h] [bp+70h]@5

  v3 = a1;
  v48 = *(_DWORD *)(a1 + 1120);
  if ( *(_DWORD *)(208 * v48 + a1 + 80) || (result = sub_10036F92(a1), result >= 0) )
  {
    v22 = a2;
    v5 = v3 + 1164;
    v6 = 1;
    v7 = *(_DWORD *)(v3 + 1164) == 0;
    v53 = v3 + 1164;
    if ( v7 || !*(_DWORD *)(v3 + 1168) )
    {
      v55 = 0;
      do
      {
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v3 + 8) + 208))(*(_DWORD *)(v3 + 8), v22);
        (*(void (__stdcall **)(_DWORD, signed int))(**(_DWORD **)(v3 + 8) + 304))(*(_DWORD *)(v3 + 8), 322);
        (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v3 + 8) + 352))(*(_DWORD *)(v3 + 8), 0);
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v3 + 8) + 160))(*(_DWORD *)(v3 + 8), v3 + 1140);
        v50 = *(_DWORD *)(v3 + 12);
        v8 = 1.0 / (double)v50;
        v9 = 1.0 - v8;
        v10 = -1.0 - v8;
        v11 = v8 + 1.0;
        v12 = v8 - 1.0;
        sub_10032B5A(v13, (int)&v23, v12, v11, v10, v9, 0.0, 2.0);
        (*(void (__stdcall **)(_DWORD, signed int, int *))(**(_DWORD **)(v3 + 8) + 148))(*(_DWORD *)(v3 + 8), 3, &v23);
        v39 = 0.0;
        v40 = 1.0;
        v41 = 0.0;
        v45 = 0.0;
        v46 = 0.0;
        v47 = 0.0;
        v42 = 0.0;
        v43 = 0.0;
        v44 = 1.0;
        sub_10032313((int)&v23, (int)&v42, (int)&v45, (int)&v39);
        (*(void (__stdcall **)(_DWORD, signed int, int *))(**(_DWORD **)(v3 + 8) + 148))(*(_DWORD *)(v3 + 8), 2, &v23);
        v37 = 0.0;
        v36 = 0.0;
        v35 = 0.0;
        v34 = 0.0;
        v32 = 0.0;
        v31 = 0.0;
        v30 = 0.0;
        v29 = 0.0;
        v27 = 0.0;
        v26 = 0.0;
        v14 = *(_DWORD *)(v3 + 8);
        v25 = 0.0;
        v24 = 0.0;
        v38 = 1.0;
        v33 = 1.0;
        v28 = 1.0;
        *(float *)&v23 = 1.0;
        (*(void (__stdcall **)(int, signed int, int *))(*(_DWORD *)v14 + 148))(v14, 256, &v23);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 7, 0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 8, 3);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 200))(
          *(_DWORD *)(v3 + 8),
          22,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 128, 0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 200))(
          *(_DWORD *)(v3 + 8),
          136,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 151, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 152, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 164, 1);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 167, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 27, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 28, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 29, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 52, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 137, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 200))(*(_DWORD *)(v3 + 8), 145, 1);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          1,
          4);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          2,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          3,
          0);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          4,
          4);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          5,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          6,
          0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int, signed int))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          1,
          1,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, signed int, signed int))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          1,
          4,
          1);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          16,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          17,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          18,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          11,
          0);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          13,
          3);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          14,
          3);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 8) + 252))(
          *(_DWORD *)(v3 + 8),
          0,
          24,
          0);
        if ( v55 )
        {
          v15 = v3 + 1168;
        }
        else
        {
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(v3 + 8) + 244))(*(_DWORD *)(v3 + 8), 0, 0);
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(v3 + 8) + 332))(
            *(_DWORD *)(v3 + 8),
            0,
            0,
            0);
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(v3 + 8) + 340))(*(_DWORD *)(v3 + 8), 0, 0);
          v15 = v53;
        }
        v22 = v15;
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v3 + 8) + 212))(*(_DWORD *)(v3 + 8));
        ++v55;
      }
      while ( v55 < 2 );
      v5 = v53;
    }
    (*(void (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)(v3 + 8) + 220))(*(_DWORD *)(v3 + 8), *(_DWORD *)v5, v22);
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v3 + 8) + 216))(*(_DWORD *)(v3 + 8), *(_DWORD *)(v3 + 1168));
    v16 = v3 + 56;
    v55 = 0;
    v49 = v3 + 56;
    do
    {
      v52 = *(_DWORD *)v16;
      if ( v52 )
      {
        v17 = 104 * (v55 + 2 * v48) + v3 + 80;
        v50 = v17;
        v18 = 16 * a3 + v17 + 8;
        v7 = *(_DWORD *)(v18 + 12) == 0;
        v51 = v18;
        if ( !v7 )
        {
          if ( *(_DWORD *)(v16 + 16) )
          {
            (*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)v52 + 60))(v52, 0, &v54);
            (*(void (__stdcall **)(_DWORD, int, _DWORD))(**(_DWORD **)(v3 + 8) + 124))(*(_DWORD *)(v3 + 8), v54, 0);
            if ( v54 )
            {
              (*(void (__stdcall **)(int))(*(_DWORD *)v54 + 8))(v54);
              v54 = 0;
            }
          }
          else
          {
            v19 = v16 + 8;
            v7 = *(_DWORD *)(v16 + 8) == 0;
            v52 = v16 + 8;
            if ( v7 )
            {
              v20 = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, signed int, int))(**(_DWORD **)(v3 + 8)
                                                                                                  + 100))(
                      *(_DWORD *)(v3 + 8),
                      *(_DWORD *)(v3 + 12),
                      *(_DWORD *)(v3 + 12),
                      *(_DWORD *)(v3 + 16),
                      0,
                      v6,
                      v19);
              if ( v20 < 0 )
                goto LABEL_24;
              v19 = v52;
            }
            (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(v3 + 8) + 124))(
              *(_DWORD *)(v3 + 8),
              *(_DWORD *)v19,
              0);
          }
          (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v3 + 8) + 160))(*(_DWORD *)(v3 + 8), v3 + 1140);
          v21 = v50;
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, signed int))(**(_DWORD **)(v3 + 8) + 332))(
            *(_DWORD *)(v3 + 8),
            0,
            *(_DWORD *)v50,
            24);
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(v3 + 8) + 340))(
            *(_DWORD *)(v3 + 8),
            *(_DWORD *)(v21 + 4),
            0);
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(v3 + 8) + 244))(
            *(_DWORD *)(v3 + 8),
            0,
            *(_DWORD *)(v3 + 48));
          (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v3 + 8) + 136))(*(_DWORD *)(v3 + 8));
          (*(void (__fastcall **)(_DWORD, unsigned int, _DWORD, signed int, _DWORD, _DWORD, _DWORD, unsigned int))(**(_DWORD **)(v3 + 8) + 284))(
            **(_DWORD **)(v3 + 8),
            *(_DWORD *)(v51 + 12) % 3u,
            *(_DWORD *)(v3 + 8),
            4,
            *(_DWORD *)v51,
            *(_DWORD *)(v51 + 4),
            *(_DWORD *)(v51 + 8),
            *(_DWORD *)(v51 + 12) / 3u);
          (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v3 + 8) + 140))(*(_DWORD *)(v3 + 8));
          v16 = v49;
          v6 = 1;
        }
      }
      ++v55;
      v16 += 4;
      v49 = v16;
    }
    while ( v55 < 2 );
    v20 = 0;
LABEL_24:
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v3 + 8) + 216))(*(_DWORD *)(v3 + 8));
    result = v20;
  }
  return result;
}
// 10037F4D: could not find valid save-restore pair for ebx

//----- (100384DA) --------------------------------------------------------
int __usercall sub_100384DA<eax>(int a1<ecx>, int a2<ebx>)
{
  int v2; // esi@1
  int result; // eax@2
  int v4; // [sp+8h] [bp-4h]@5

  v2 = a1;
  if ( !*(_DWORD *)(a1 + 1128) )
    goto LABEL_14;
  result = (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 8) + 140))(*(_DWORD *)(a1 + 8));
  if ( result < 0 )
    return result;
  if ( !*(_DWORD *)(v2 + 1132) )
  {
    if ( *(_DWORD *)(v2 + 1120) == 1 )
      result = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, int *))(**(_DWORD **)(v2 + 52) + 60))(
                 *(_DWORD *)(v2 + 52),
                 *(_DWORD *)(v2 + 1124),
                 0,
                 &v4);
    else
      result = (*(int (__stdcall **)(_DWORD, _DWORD, int *))(**(_DWORD **)(v2 + 48) + 60))(*(_DWORD *)(v2 + 48), 0, &v4);
    if ( result < 0 )
      return result;
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, int, _DWORD))(**(_DWORD **)(v2 + 8) + 112))(
      *(_DWORD *)(v2 + 8),
      *(_DWORD *)(v2 + 32),
      0,
      0,
      v4,
      0);
    (*(void (__stdcall **)(int))(*(_DWORD *)v4 + 8))(v4);
  }
  if ( *(_DWORD *)(v2 + 1120) == 1 )
    goto LABEL_17;
  if ( *(_DWORD *)(v2 + 28) > 1u )
    sub_1003EC6F(*(_DWORD *)(v2 + 48), 0, 0, -1);
  result = sub_10037F4D(v2, a2, *(_DWORD *)(v2 + 1124));
  if ( result >= 0 )
  {
LABEL_17:
    *(_DWORD *)(v2 + 1128) = 0;
LABEL_14:
    result = 0;
  }
  return result;
}

//----- (1003858B) --------------------------------------------------------
int __userpurge sub_1003858B<eax>(int a1<ebx>, int a2, int a3)
{
  int result; // eax@1

  result = sub_100384DA(a2, a1);
  if ( result >= 0 )
  {
    result = sub_1003689B(a2, a3);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (100385AE) --------------------------------------------------------
int __userpurge sub_100385AE<eax>(int a1<ebx>, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  int v4; // eax@2
  int v5; // eax@4
  int v6; // eax@7
  int v7; // edi@9
  signed int v8; // [sp+8h] [bp-4h]@9

  v2 = a2;
  result = sub_100384DA(a2, a1);
  if ( result >= 0 )
  {
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 124))(
      *(_DWORD *)(v2 + 8),
      *(_DWORD *)(v2 + 40),
      *(_DWORD *)(v2 + 44));
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 216))(*(_DWORD *)(v2 + 8), *(_DWORD *)(v2 + 1136));
    v4 = *(_DWORD *)(v2 + 40);
    if ( v4 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*(_DWORD *)(v2 + 40));
      *(_DWORD *)(v2 + 40) = 0;
    }
    v5 = *(_DWORD *)(v2 + 44);
    if ( v5 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(v2 + 44));
      *(_DWORD *)(v2 + 44) = 0;
    }
    if ( *(_DWORD *)(v2 + 1120) == 1 )
    {
      v6 = *(_DWORD *)(v2 + 52);
      if ( v6 )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*(_DWORD *)(v2 + 52));
        *(_DWORD *)(v2 + 52) = 0;
      }
    }
    else
    {
      v7 = v2 + 56;
      v8 = 2;
      do
      {
        if ( *(_DWORD *)v7 )
        {
          if ( !*(_DWORD *)(v7 + 16) )
          {
            if ( *(_DWORD *)(v7 + 8) )
            {
              (*(void (__stdcall **)(_DWORD, _DWORD, int *))(**(_DWORD **)v7 + 60))(*(_DWORD *)v7, 0, &a2);
              (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, int, _DWORD))(**(_DWORD **)(v2 + 8) + 112))(
                *(_DWORD *)(v2 + 8),
                *(_DWORD *)(v7 + 8),
                0,
                0,
                a2,
                0);
              if ( a2 )
              {
                (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
                a2 = 0;
              }
            }
          }
          if ( *(_DWORD *)v7 )
          {
            (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v7 + 8))(*(_DWORD *)v7);
            *(_DWORD *)v7 = 0;
          }
        }
        v7 += 4;
        --v8;
      }
      while ( v8 );
    }
    *(_DWORD *)(v2 + 1120) = 0;
    result = 0;
  }
  return result;
}

//----- (10038691) --------------------------------------------------------
int __thiscall sub_10038691(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = -1;
  *(_DWORD *)(this + 4) = -1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  return result;
}

//----- (100386A3) --------------------------------------------------------
signed int __thiscall sub_100386A3(void *this, LPCWSTR lpFileName, LPSTR lpMultiByteStr)
{
  void *v3; // edi@1
  signed int result; // eax@2
  void *v5; // esp@5
  HANDLE v6; // eax@7
  HANDLE v7; // eax@10
  LPVOID v8; // eax@11
  DWORD v9; // eax@12
  int v10; // [sp+0h] [bp-34h]@5
  struct _OSVERSIONINFOA VersionInformation; // [sp+Ch] [bp-28h]@4
  int cbMultiByte; // [sp+A0h] [bp+6Ch]@5

  v3 = this;
  if ( lpFileName )
  {
    if ( !lpMultiByteStr )
      goto LABEL_17;
    VersionInformation.dwOSVersionInfoSize = 148;
    GetVersionExA(&VersionInformation);
    if ( VersionInformation.dwPlatformId != 2 )
    {
      cbMultiByte = WideCharToMultiByte(0, 0, lpFileName, -1, 0, 0, 0, 0);
      v5 = alloca(cbMultiByte);
      WideCharToMultiByte(0, 0, lpFileName, -1, (LPSTR)&v10, cbMultiByte, 0, 0);
      lpFileName = (LPCWSTR)&v10;
      lpMultiByteStr = 0;
    }
    if ( lpMultiByteStr )
      v6 = CreateFileW(lpFileName, 0x80000000u, 1u, 0, 3u, 0x10000000u, 0);
    else
LABEL_17:
      v6 = CreateFileA((LPCSTR)lpFileName, 0x80000000u, 1u, 0, 3u, 0x10000000u, 0);
    *(_DWORD *)v3 = v6;
    if ( v6 != (HANDLE)-1
      && (v7 = CreateFileMappingA(v6, 0, 2u, 0, 0, 0), *((_DWORD *)v3 + 1) = v7, v7 != (HANDLE)-1)
      && (v8 = MapViewOfFile(v7, 4u, 0, 0, 0), (*((_DWORD *)v3 + 2) = v8) != 0)
      && (v9 = GetFileSize(*(HANDLE *)v3, 0), *((_DWORD *)v3 + 3) = v9, v9 != -1) )
    {
      result = 0;
    }
    else
    {
      GetLastError();
      result = -2005529767;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (100387B3) --------------------------------------------------------
signed int __thiscall sub_100387B3(void *this, LPCWSTR cbMultiByte, LPSTR lpMultiByteStr)
{
  const WCHAR *v3; // ebx@1
  int v4; // edi@1
  signed int result; // eax@2
  void *v6; // esp@5
  HANDLE v7; // eax@7
  int v8; // [sp+0h] [bp-34h]@5
  struct _OSVERSIONINFOA VersionInformation; // [sp+Ch] [bp-28h]@4
  int v10; // [sp+A0h] [bp+6Ch]@1
  int cbMultiBytea; // [sp+ACh] [bp+78h]@5

  v3 = cbMultiByte;
  v4 = (int)this;
  v10 = (int)this;
  if ( cbMultiByte )
  {
    if ( !lpMultiByteStr )
      goto LABEL_14;
    VersionInformation.dwOSVersionInfoSize = 148;
    GetVersionExA(&VersionInformation);
    if ( VersionInformation.dwPlatformId != 2 )
    {
      cbMultiBytea = WideCharToMultiByte(0, 0, cbMultiByte, -1, 0, 0, 0, 0);
      v6 = alloca(cbMultiBytea);
      WideCharToMultiByte(0, 0, v3, -1, (LPSTR)&v8, cbMultiBytea, 0, 0);
      v3 = (const WCHAR *)&v8;
      v4 = v10;
      lpMultiByteStr = 0;
    }
    if ( lpMultiByteStr )
      v7 = CreateFileW(v3, 0x40000000u, 0, 0, 2u, 0, 0);
    else
LABEL_14:
      v7 = CreateFileA((LPCSTR)v3, 0x40000000u, 0, 0, 2u, 0, 0);
    *(_DWORD *)v4 = v7;
    if ( v7 == (HANDLE)-1 )
    {
      GetLastError();
      result = -2005529767;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (100388BE) --------------------------------------------------------
void __thiscall sub_100388BE(int this)
{
  int v1; // esi@2
  const void *v2; // eax@2

  if ( *(_DWORD *)this != -1 )
  {
    v1 = this;
    v2 = *(const void **)(this + 8);
    if ( v2 )
    {
      UnmapViewOfFile(v2);
      *(_DWORD *)(v1 + 8) = 0;
      *(_DWORD *)(v1 + 12) = 0;
    }
    if ( *(_DWORD *)(v1 + 4) != -1 )
    {
      CloseHandle(*(HANDLE *)(v1 + 4));
      *(_DWORD *)(v1 + 4) = -1;
    }
    if ( *(_DWORD *)v1 != -1 )
    {
      CloseHandle(*(HANDLE *)v1);
      *(_DWORD *)v1 = -1;
    }
  }
}

//----- (100388C9) --------------------------------------------------------
int __thiscall sub_100388C9(int this)
{
  int v1; // esi@1

  v1 = this;
  sub_10040323(this);
  CRect::CRect(v1 + 20);
  CRect::CRect(v1 + 36);
  CRect::CRect(v1 + 52);
  CRect::CRect(v1 + 68);
  CRect::CRect(v1 + 84);
  CRect::CRect(v1 + 100);
  CRect::CRect(v1 + 116);
  sub_10040323(v1 + 132);
  dword_100853B0 = v1;
  *(_DWORD *)(v1 + 152) = 0;
  *(_DWORD *)(v1 + 156) = 0;
  *(_DWORD *)(v1 + 160) = 0;
  *(_DWORD *)(v1 + 164) = 0;
  return v1;
}
// 1004025B: using guessed type int __thiscall CRect__CRect(_DWORD);

//----- (10038972) --------------------------------------------------------
int __thiscall sub_10038972(void *this)
{
  int v1; // esi@1

  v1 = (int)this;
  sub_10040336((int)((char *)this + 132));
  ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(v1 + 116);
  ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(v1 + 100);
  ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(v1 + 84);
  ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(v1 + 68);
  ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(v1 + 52);
  ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(v1 + 36);
  ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(v1 + 20);
  return sub_10040336(v1);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (10038A01) --------------------------------------------------------
signed int sub_10038A01(int a1, const char *Format, ...)
{
  size_t v2; // esi@1
  int v3; // edi@2
  char *v4; // esi@2
  signed int v5; // ecx@2
  bool v6; // zf@2
  char v7[4]; // edi@9
  int v8; // esi@9
  signed int v9; // ecx@9
  bool v10; // zf@9
  signed int v11; // eax@18
  signed int result; // eax@23
  const char *v13; // [sp-Ch] [bp-218h]@7
  int v14; // [sp-8h] [bp-214h]@7
  int v15; // [sp-4h] [bp-210h]@7
  char DstBuf; // [sp+Ch] [bp-200h]@1
  char v17; // [sp+10Bh] [bp-101h]@1
  char Dest; // [sp+10Ch] [bp-100h]@14
  char v19; // [sp+20Bh] [bp-1h]@23
  va_list va; // [sp+21Ch] [bp+10h]@1

  va_start(va, Format);
  v2 = 256;
  vsnprintf(&DstBuf, 0x100u, Format, va);
  v17 = 0;
  if ( *(_DWORD *)(a1 + 984) )
  {
    v3 = (int)"syntax error";
    v4 = &DstBuf;
    v5 = 13;
    v6 = 1;
    do
    {
      if ( !v5 )
        break;
      v6 = *v4++ == *(_BYTE *)v3++;
      --v5;
    }
    while ( v6 );
    if ( v6 )
    {
      if ( *(_DWORD *)(a1 + 988) )
      {
        if ( !*(_DWORD *)(a1 + 160) )
          goto LABEL_26;
        *(_DWORD *)v7 = "def";
        v8 = a1 + 200;
        v9 = 4;
        v10 = 1;
        do
        {
          if ( !v9 )
            break;
          v10 = *(_BYTE *)v8++ == **(_BYTE **)v7;
          ++*(_DWORD *)v7;
          --v9;
        }
        while ( v10 );
        if ( v10 )
        {
          v15 = *(_DWORD *)(a1 + 464);
          v14 = a1 + 468;
          v13 = "%s(%d) : (Assembly Error) constant definition in shader body";
        }
        else
        {
LABEL_26:
          v15 = *(_DWORD *)(a1 + 988);
          v14 = a1 + 468;
          v13 = "%s(%d) : (Assembly Error) statement incomplete";
        }
      }
      else
      {
        v15 = *(_DWORD *)(a1 + 464);
        v14 = a1 + 468;
        v13 = "%s(%d) : (Assembly Error) shader version expected";
      }
      snprintf(&Dest, 0x100u, v13, v14, v15);
      goto LABEL_23;
    }
    v2 = 256;
  }
  if ( *(_DWORD *)(a1 + 992) )
    v11 = *(_DWORD *)(a1 + 996);
  else
    v11 = *(_DWORD *)(a1 + 464);
  if ( !v11 )
    v11 = 1;
  snprintf(&Dest, v2, "%s(%d) : (Assembly Error) %s", a1 + 468, v11, &DstBuf);
LABEL_23:
  v19 = 0;
  result = sub_10040367(a1 + 132, &Dest);
  ++*(_DWORD *)(a1 + 164);
  *(_DWORD *)(a1 + 152) = 1;
  return result;
}

//----- (10038B37) --------------------------------------------------------
signed int __thiscall sub_10038B37(void *this)
{
  int v1; // eax@1
  const void *v2; // esi@1
  int v3; // edx@5
  int v4; // eax@6
  int v5; // eax@11
  unsigned int v6; // edx@15
  unsigned int v7; // eax@15
  signed int result; // eax@16
  void *v9; // edi@17
  const void *v10; // esi@17
  signed int v11; // edx@17
  char v12[4]; // edi@17
  int v13; // esi@17
  signed int v14; // ecx@17
  bool v15; // zf@17
  char v16[4]; // edi@22
  int v17; // esi@22
  signed int v18; // ecx@22
  bool v19; // zf@22
  char v20[4]; // edi@27
  int v21; // esi@27
  signed int v22; // ecx@27
  bool v23; // zf@27
  char v24[4]; // edi@32
  int v25; // esi@32
  signed int v26; // ecx@32
  bool v27; // zf@32
  char v28[4]; // edi@36
  int v29; // esi@36
  signed int v30; // ecx@36
  bool v31; // zf@36
  char v32[4]; // edi@41
  int v33; // esi@41
  signed int v34; // ecx@41
  bool v35; // zf@41
  char v36[4]; // edi@46
  int v37; // esi@46
  signed int v38; // ecx@46
  bool v39; // zf@46
  char v40[4]; // edi@51
  int v41; // esi@51
  signed int v42; // ecx@51
  bool v43; // zf@51
  char v44[4]; // edi@56
  int v45; // esi@56
  signed int v46; // ecx@56
  bool v47; // zf@56
  int v48; // eax@61
  char v49[4]; // edi@62
  int v50; // esi@62
  signed int v51; // ecx@62
  bool v52; // zf@62
  char v53[4]; // edi@67
  int v54; // esi@67
  signed int v55; // ecx@67
  bool v56; // zf@67
  const void *v57; // esi@76
  int v58; // ebx@77
  unsigned int v59; // ecx@77
  int v60; // edi@77
  int v61; // esi@77
  signed int v62; // ecx@77
  bool v63; // zf@77
  char v64[4]; // edi@82
  int v65; // esi@82
  signed int v66; // ecx@82
  bool v67; // zf@82
  int v68; // esi@87
  int v69; // edi@88
  signed int v70; // ecx@88
  bool v71; // zf@88
  int v72; // edi@93
  int v73; // esi@93
  signed int v74; // ecx@93
  bool v75; // zf@93
  char v76[4]; // edi@98
  int v77; // esi@98
  signed int v78; // ecx@98
  bool v79; // zf@98
  int v80; // edi@103
  int v81; // esi@103
  signed int v82; // ecx@103
  bool v83; // zf@103
  int v84; // edi@108
  int v85; // esi@108
  signed int v86; // ecx@108
  bool v87; // zf@108
  int v88; // edi@113
  int v89; // esi@113
  signed int v90; // ecx@113
  bool v91; // zf@113
  int v92; // edi@118
  int v93; // esi@118
  signed int v94; // ecx@118
  bool v95; // zf@118
  int v96; // edi@123
  int v97; // esi@123
  signed int v98; // ecx@123
  bool v99; // zf@123
  int v100; // edi@128
  int v101; // esi@128
  signed int v102; // ecx@128
  bool v103; // zf@128
  int v104; // edi@133
  int v105; // esi@133
  signed int v106; // ecx@133
  bool v107; // zf@133
  int v108; // edi@138
  int v109; // esi@138
  signed int v110; // ecx@138
  bool v111; // zf@138
  int v112; // edi@143
  int v113; // esi@143
  signed int v114; // ecx@143
  bool v115; // zf@143
  int v116; // edi@148
  int v117; // esi@148
  signed int v118; // ecx@148
  bool v119; // zf@148
  int v120; // edi@153
  int v121; // esi@153
  signed int v122; // ecx@153
  bool v123; // zf@153
  int v124; // edi@158
  int v125; // esi@158
  signed int v126; // ecx@158
  bool v127; // zf@158
  int v128; // edi@163
  int v129; // esi@163
  signed int v130; // ecx@163
  bool v131; // zf@163
  int v132; // edi@168
  int v133; // esi@168
  signed int v134; // ecx@168
  bool v135; // zf@168
  int v136; // edi@173
  int v137; // esi@173
  signed int v138; // ecx@173
  bool v139; // zf@173
  int v140; // edi@178
  signed int v141; // ecx@178
  bool v142; // zf@178
  int v143; // edi@184
  int v144; // esi@184
  signed int v145; // ecx@184
  bool v146; // zf@184
  int v147; // edi@189
  int v148; // esi@189
  signed int v149; // ecx@189
  bool v150; // zf@189
  int v151; // edi@193
  int v152; // esi@193
  signed int v153; // ecx@193
  bool v154; // zf@193
  int v155; // edi@199
  int v156; // esi@199
  signed int v157; // ecx@199
  bool v158; // zf@199
  char v159[4]; // edi@204
  int v160; // esi@204
  signed int v161; // ecx@204
  bool v162; // zf@204
  char v163[4]; // edi@210
  int v164; // esi@210
  signed int v165; // ecx@210
  bool v166; // zf@210
  char v167[4]; // edi@215
  int v168; // esi@215
  signed int v169; // ecx@215
  bool v170; // zf@215
  char v171[4]; // edi@220
  int v172; // esi@220
  signed int v173; // ecx@220
  bool v174; // zf@220
  char v175[4]; // edi@225
  int v176; // esi@225
  signed int v177; // ecx@225
  bool v178; // zf@225
  char v179[4]; // edi@230
  int v180; // esi@230
  signed int v181; // ecx@230
  bool v182; // zf@230
  char v183[4]; // edi@235
  int v184; // esi@235
  signed int v185; // ecx@235
  bool v186; // zf@235
  char v187[4]; // edi@240
  int v188; // esi@240
  signed int v189; // ecx@240
  bool v190; // zf@240
  char v191[4]; // edi@245
  int v192; // esi@245
  signed int v193; // ecx@245
  bool v194; // zf@245
  char v195[4]; // edi@250
  int v196; // esi@250
  signed int v197; // ecx@250
  bool v198; // zf@250
  char v199[4]; // edi@255
  int v200; // esi@255
  signed int v201; // ecx@255
  bool v202; // zf@255
  int v203; // edi@260
  int v204; // esi@260
  signed int v205; // ecx@260
  bool v206; // zf@260
  int v207; // edi@265
  int v208; // esi@265
  signed int v209; // ecx@265
  bool v210; // zf@265
  int v211; // edi@270
  int v212; // esi@270
  signed int v213; // ecx@270
  bool v214; // zf@270
  int v215; // edi@275
  int v216; // esi@275
  signed int v217; // ecx@275
  bool v218; // zf@275
  int v219; // edi@280
  int v220; // esi@280
  signed int v221; // ecx@280
  bool v222; // zf@280
  int v223; // edi@287
  int v224; // esi@287
  signed int v225; // ecx@287
  bool v226; // zf@287
  signed int v227; // ecx@294
  int v228; // edi@294
  int v229; // esi@294
  bool v230; // zf@294
  int v231; // edi@300
  int v232; // esi@300
  signed int v233; // ecx@300
  bool v234; // zf@300
  int v235; // edi@305
  int v236; // esi@305
  signed int v237; // ecx@305
  bool v238; // zf@305
  int v239; // edi@310
  int v240; // esi@310
  signed int v241; // ecx@310
  bool v242; // zf@310
  int v243; // edi@315
  int v244; // esi@315
  signed int v245; // ecx@315
  bool v246; // zf@315
  int v247; // edi@320
  int v248; // esi@320
  signed int v249; // ecx@320
  bool v250; // zf@320
  const void *v251; // esi@327
  int v252; // ebx@330
  unsigned int v253; // ecx@330
  char v254[4]; // edi@330
  int v255; // esi@330
  signed int v256; // ecx@330
  bool v257; // zf@330
  int v258; // ecx@335
  signed int v259; // [sp-Ch] [bp-3Ch]@31
  signed int v260; // [sp-Ch] [bp-3Ch]@60
  signed int v261; // [sp-Ch] [bp-3Ch]@66
  signed int v262; // [sp-Ch] [bp-3Ch]@92
  char v263[16]; // [sp+4h] [bp-2Ch]@17
  int v264; // [sp+14h] [bp-1Ch]@76
  int v265; // [sp+18h] [bp-18h]@1
  int v266; // [sp+1Ch] [bp-14h]@1
  const void *v267; // [sp+20h] [bp-10h]@1
  const void *v268; // [sp+24h] [bp-Ch]@1
  int v269; // [sp+28h] [bp-8h]@1
  int v270; // [sp+2Ch] [bp-4h]@1

  v269 = (int)this;
  v1 = (int)((char *)this + 200);
  v270 = 0;
  v268 = 0;
  v266 = 0;
  v267 = 0;
  v265 = 0;
  v2 = (char *)this + 200;
  while ( *(_BYTE *)v1 && *(_BYTE *)v1 != 95 )
    ++v1;
  v3 = v1;
  if ( *(_BYTE *)v1 )
  {
    v4 = v1 + 1;
    v268 = (const void *)v4;
    while ( *(_BYTE *)v4 && *(_BYTE *)v4 != 95 )
      ++v4;
    v15 = *(_BYTE *)v4 == 0;
    v266 = v4;
    if ( !v15 )
    {
      v5 = v4 + 1;
      v267 = (const void *)v5;
      while ( *(_BYTE *)v5 )
        ++v5;
      v265 = v5;
    }
  }
  v6 = v3 - (_DWORD)v2;
  v7 = v6;
  if ( v6 > 0xF )
    return 265;
  memcpy(v263, v2, 4 * (v6 >> 2));
  v10 = (char *)v2 + 4 * (v6 >> 2);
  v9 = &v263[4 * (v6 >> 2)];
  v11 = 3;
  memcpy(v9, v10, v7 & 3);
  v263[v7] = 0;
  *(_DWORD *)v12 = "nop";
  v13 = (int)v263;
  v14 = 4;
  v15 = 1;
  do
  {
    if ( !v14 )
      break;
    v15 = *(_BYTE *)v13++ == **(_BYTE **)v12;
    ++*(_DWORD *)v12;
    --v14;
  }
  while ( v15 );
  if ( v15 )
  {
    v11 = 0;
LABEL_183:
    result = 260;
    goto LABEL_74;
  }
  *(_DWORD *)v16 = "mov";
  v17 = (int)v263;
  v18 = 4;
  v19 = 1;
  do
  {
    if ( !v18 )
      break;
    v19 = *(_BYTE *)v17++ == **(_BYTE **)v16;
    ++*(_DWORD *)v16;
    --v18;
  }
  while ( v19 );
  if ( !v19 )
  {
    *(_DWORD *)v20 = "add";
    v21 = (int)v263;
    v22 = 4;
    v23 = 1;
    do
    {
      if ( !v22 )
        break;
      v23 = *(_BYTE *)v21++ == **(_BYTE **)v20;
      ++*(_DWORD *)v20;
      --v22;
    }
    while ( v23 );
    if ( v23 )
    {
      v259 = 2;
LABEL_285:
      v11 = v259;
LABEL_286:
      result = 263;
      goto LABEL_74;
    }
    *(_DWORD *)v24 = "sub";
    v25 = (int)v263;
    v26 = 4;
    v27 = 1;
    do
    {
      if ( !v26 )
        break;
      v27 = *(_BYTE *)v25++ == **(_BYTE **)v24;
      ++*(_DWORD *)v24;
      --v26;
    }
    while ( v27 );
    if ( v27 )
      goto LABEL_286;
    *(_DWORD *)v28 = "mad";
    v29 = (int)v263;
    v30 = 4;
    v31 = 1;
    do
    {
      if ( !v30 )
        break;
      v31 = *(_BYTE *)v29++ == **(_BYTE **)v28;
      ++*(_DWORD *)v28;
      --v30;
    }
    while ( v31 );
    if ( v31 )
    {
      v11 = 4;
LABEL_73:
      result = 264;
      goto LABEL_74;
    }
    *(_DWORD *)v32 = "mul";
    v33 = (int)v263;
    v34 = 4;
    v35 = 1;
    do
    {
      if ( !v34 )
        break;
      v35 = *(_BYTE *)v33++ == **(_BYTE **)v32;
      ++*(_DWORD *)v32;
      --v34;
    }
    while ( v35 );
    if ( v35 )
    {
      v259 = 5;
      goto LABEL_285;
    }
    *(_DWORD *)v36 = "dp3";
    v37 = (int)v263;
    v38 = 4;
    v39 = 1;
    do
    {
      if ( !v38 )
        break;
      v39 = *(_BYTE *)v37++ == **(_BYTE **)v36;
      ++*(_DWORD *)v36;
      --v38;
    }
    while ( v39 );
    if ( v39 )
    {
      v259 = 8;
      goto LABEL_285;
    }
    *(_DWORD *)v40 = "dp4";
    v41 = (int)v263;
    v42 = 4;
    v43 = 1;
    do
    {
      if ( !v42 )
        break;
      v43 = *(_BYTE *)v41++ == **(_BYTE **)v40;
      ++*(_DWORD *)v40;
      --v42;
    }
    while ( v43 );
    if ( v43 )
    {
      v259 = 9;
      goto LABEL_285;
    }
    *(_DWORD *)v44 = "frc";
    v45 = (int)v263;
    v46 = 4;
    v47 = 1;
    do
    {
      if ( !v46 )
        break;
      v47 = *(_BYTE *)v45++ == **(_BYTE **)v44;
      ++*(_DWORD *)v44;
      --v46;
    }
    while ( v47 );
    if ( v47 )
    {
      v260 = 19;
      goto LABEL_292;
    }
    v48 = *(_DWORD *)(v269 + 172);
    if ( v48 )
    {
      *(_DWORD *)v49 = "lrp";
      v50 = (int)v263;
      v51 = 4;
      v52 = 1;
      do
      {
        if ( !v51 )
          break;
        v52 = *(_BYTE *)v50++ == **(_BYTE **)v49;
        ++*(_DWORD *)v49;
        --v51;
      }
      while ( v52 );
      if ( v52 )
      {
        v261 = 18;
LABEL_72:
        v11 = v261;
        goto LABEL_73;
      }
      *(_DWORD *)v53 = "cnd";
      v54 = (int)v263;
      v55 = 4;
      v56 = 1;
      do
      {
        if ( !v55 )
          break;
        v56 = *(_BYTE *)v54++ == **(_BYTE **)v53;
        ++*(_DWORD *)v53;
        --v55;
      }
      while ( v56 );
      if ( v56 )
      {
        v261 = 80;
        goto LABEL_72;
      }
      *(_DWORD *)v64 = "cmp";
      v65 = (int)v263;
      v66 = 4;
      v67 = 1;
      do
      {
        if ( !v66 )
          break;
        v67 = *(_BYTE *)v65++ == **(_BYTE **)v64;
        ++*(_DWORD *)v64;
        --v66;
      }
      while ( v67 );
      if ( v67 )
      {
        v261 = 88;
        goto LABEL_72;
      }
      v68 = (int)v263;
      if ( *(_DWORD *)(v269 + 180) >= 0xFFFF0104u )
      {
        v140 = (int)"phase";
        v141 = 6;
        v142 = 1;
        do
        {
          if ( !v141 )
            break;
          v142 = *(_BYTE *)v68++ == *(_BYTE *)v140++;
          --v141;
        }
        while ( v142 );
        if ( v142 )
        {
          v11 = 65533;
          goto LABEL_183;
        }
        v143 = (int)"texcrd";
        v144 = (int)v263;
        v145 = 7;
        v146 = 1;
        do
        {
          if ( !v145 )
            break;
          v146 = *(_BYTE *)v144++ == *(_BYTE *)v143++;
          --v145;
        }
        while ( v146 );
        if ( v146 )
        {
          v260 = 64;
          goto LABEL_292;
        }
        v147 = (int)"texkill";
        v148 = (int)v263;
        v149 = 8;
        v150 = 1;
        do
        {
          if ( !v149 )
            break;
          v150 = *(_BYTE *)v148++ == *(_BYTE *)v147++;
          --v149;
        }
        while ( v150 );
        if ( v150 )
          goto LABEL_97;
        v151 = (int)"texdepth";
        v152 = (int)v263;
        v153 = 9;
        v154 = 1;
        do
        {
          if ( !v153 )
            break;
          v154 = *(_BYTE *)v152++ == *(_BYTE *)v151++;
          --v153;
        }
        while ( v154 );
        if ( v154 )
        {
          v262 = 87;
          goto LABEL_198;
        }
        v155 = (int)"texld";
        v156 = (int)v263;
        v157 = 6;
        v158 = 1;
        do
        {
          if ( !v157 )
            break;
          v158 = *(_BYTE *)v156++ == *(_BYTE *)v155++;
          --v157;
        }
        while ( v158 );
        if ( v158 )
        {
          v260 = 66;
          goto LABEL_292;
        }
        *(_DWORD *)v159 = "bem";
        v160 = (int)v263;
        v161 = 4;
        v162 = 1;
        do
        {
          if ( !v161 )
            break;
          v162 = *(_BYTE *)v160++ == **(_BYTE **)v159;
          ++*(_DWORD *)v159;
          --v161;
        }
        while ( v162 );
        if ( v162 )
        {
          v259 = 89;
          goto LABEL_285;
        }
      }
      else
      {
        v69 = (int)"texcoord";
        v70 = 9;
        v71 = 1;
        do
        {
          if ( !v70 )
            break;
          v71 = *(_BYTE *)v68++ == *(_BYTE *)v69++;
          --v70;
        }
        while ( v71 );
        if ( v71 )
        {
          v262 = 64;
LABEL_198:
          v11 = v262;
          result = 261;
          goto LABEL_74;
        }
        v72 = (int)"texkill";
        v73 = (int)v263;
        v74 = 8;
        v75 = 1;
        do
        {
          if ( !v74 )
            break;
          v75 = *(_BYTE *)v73++ == *(_BYTE *)v72++;
          --v74;
        }
        while ( v75 );
        if ( v75 )
        {
LABEL_97:
          v262 = 65;
          goto LABEL_198;
        }
        *(_DWORD *)v76 = "tex";
        v77 = (int)v263;
        v78 = 4;
        v79 = 1;
        do
        {
          if ( !v78 )
            break;
          v79 = *(_BYTE *)v77++ == **(_BYTE **)v76;
          ++*(_DWORD *)v76;
          --v78;
        }
        while ( v79 );
        if ( v79 )
        {
          v262 = 66;
          goto LABEL_198;
        }
        v80 = (int)"texbem";
        v81 = (int)v263;
        v82 = 7;
        v83 = 1;
        do
        {
          if ( !v82 )
            break;
          v83 = *(_BYTE *)v81++ == *(_BYTE *)v80++;
          --v82;
        }
        while ( v83 );
        if ( v83 )
        {
          v260 = 67;
          goto LABEL_292;
        }
        v84 = (int)"texbeml";
        v85 = (int)v263;
        v86 = 8;
        v87 = 1;
        do
        {
          if ( !v86 )
            break;
          v87 = *(_BYTE *)v85++ == *(_BYTE *)v84++;
          --v86;
        }
        while ( v87 );
        if ( v87 )
        {
          v260 = 68;
          goto LABEL_292;
        }
        v88 = (int)"texreg2ar";
        v89 = (int)v263;
        v90 = 10;
        v91 = 1;
        do
        {
          if ( !v90 )
            break;
          v91 = *(_BYTE *)v89++ == *(_BYTE *)v88++;
          --v90;
        }
        while ( v91 );
        if ( v91 )
        {
          v260 = 69;
          goto LABEL_292;
        }
        v92 = (int)"texreg2gb";
        v93 = (int)v263;
        v94 = 10;
        v95 = 1;
        do
        {
          if ( !v94 )
            break;
          v95 = *(_BYTE *)v93++ == *(_BYTE *)v92++;
          --v94;
        }
        while ( v95 );
        if ( v95 )
        {
          v260 = 70;
          goto LABEL_292;
        }
        v96 = (int)"texm3x2pad";
        v97 = (int)v263;
        v98 = 11;
        v99 = 1;
        do
        {
          if ( !v98 )
            break;
          v99 = *(_BYTE *)v97++ == *(_BYTE *)v96++;
          --v98;
        }
        while ( v99 );
        if ( v99 )
        {
          v260 = 71;
          goto LABEL_292;
        }
        v100 = (int)"texm3x2tex";
        v101 = (int)v263;
        v102 = 11;
        v103 = 1;
        do
        {
          if ( !v102 )
            break;
          v103 = *(_BYTE *)v101++ == *(_BYTE *)v100++;
          --v102;
        }
        while ( v103 );
        if ( v103 )
        {
          v260 = 72;
          goto LABEL_292;
        }
        v104 = (int)"texm3x3pad";
        v105 = (int)v263;
        v106 = 11;
        v107 = 1;
        do
        {
          if ( !v106 )
            break;
          v107 = *(_BYTE *)v105++ == *(_BYTE *)v104++;
          --v106;
        }
        while ( v107 );
        if ( v107 )
        {
          v260 = 73;
          goto LABEL_292;
        }
        v108 = (int)"texm3x3tex";
        v109 = (int)v263;
        v110 = 11;
        v111 = 1;
        do
        {
          if ( !v110 )
            break;
          v111 = *(_BYTE *)v109++ == *(_BYTE *)v108++;
          --v110;
        }
        while ( v111 );
        if ( v111 )
        {
          v260 = 74;
          goto LABEL_292;
        }
        v112 = (int)"texm3x3spec";
        v113 = (int)v263;
        v114 = 12;
        v115 = 1;
        do
        {
          if ( !v114 )
            break;
          v115 = *(_BYTE *)v113++ == *(_BYTE *)v112++;
          --v114;
        }
        while ( v115 );
        if ( v115 )
        {
          v259 = 76;
          goto LABEL_285;
        }
        v116 = (int)"texm3x3vspec";
        v117 = (int)v263;
        v118 = 13;
        v119 = 1;
        do
        {
          if ( !v118 )
            break;
          v119 = *(_BYTE *)v117++ == *(_BYTE *)v116++;
          --v118;
        }
        while ( v119 );
        if ( v119 )
        {
          v260 = 77;
          goto LABEL_292;
        }
        v120 = (int)"texm3x2depth";
        v121 = (int)v263;
        v122 = 13;
        v123 = 1;
        do
        {
          if ( !v122 )
            break;
          v123 = *(_BYTE *)v121++ == *(_BYTE *)v120++;
          --v122;
        }
        while ( v123 );
        if ( v123 )
        {
          v260 = 84;
          goto LABEL_292;
        }
        v124 = (int)"texdp3";
        v125 = (int)v263;
        v126 = 7;
        v127 = 1;
        do
        {
          if ( !v126 )
            break;
          v127 = *(_BYTE *)v125++ == *(_BYTE *)v124++;
          --v126;
        }
        while ( v127 );
        if ( v127 )
        {
          v260 = 85;
          goto LABEL_292;
        }
        v128 = (int)"texreg2rgb";
        v129 = (int)v263;
        v130 = 11;
        v131 = 1;
        do
        {
          if ( !v130 )
            break;
          v131 = *(_BYTE *)v129++ == *(_BYTE *)v128++;
          --v130;
        }
        while ( v131 );
        if ( v131 )
        {
          v260 = 82;
          goto LABEL_292;
        }
        v132 = (int)"texm3x3";
        v133 = (int)v263;
        v134 = 8;
        v135 = 1;
        do
        {
          if ( !v134 )
            break;
          v135 = *(_BYTE *)v133++ == *(_BYTE *)v132++;
          --v134;
        }
        while ( v135 );
        if ( v135 )
        {
          v260 = 86;
          goto LABEL_292;
        }
        v136 = (int)"texdp3tex";
        v137 = (int)v263;
        v138 = 10;
        v139 = 1;
        do
        {
          if ( !v138 )
            break;
          v139 = *(_BYTE *)v137++ == *(_BYTE *)v136++;
          --v138;
        }
        while ( v139 );
        if ( v139 )
        {
          v260 = 83;
          goto LABEL_292;
        }
      }
      if ( v48 )
        return 265;
    }
    *(_DWORD *)v163 = "rcp";
    v164 = (int)v263;
    v165 = 4;
    v166 = 1;
    do
    {
      if ( !v165 )
        break;
      v166 = *(_BYTE *)v164++ == **(_BYTE **)v163;
      ++*(_DWORD *)v163;
      --v165;
    }
    while ( v166 );
    if ( v166 )
    {
      v260 = 6;
    }
    else
    {
      *(_DWORD *)v167 = "rsq";
      v168 = (int)v263;
      v169 = 4;
      v170 = 1;
      do
      {
        if ( !v169 )
          break;
        v170 = *(_BYTE *)v168++ == **(_BYTE **)v167;
        ++*(_DWORD *)v167;
        --v169;
      }
      while ( v170 );
      if ( v170 )
      {
        v260 = 7;
      }
      else
      {
        *(_DWORD *)v171 = "min";
        v172 = (int)v263;
        v173 = 4;
        v174 = 1;
        do
        {
          if ( !v173 )
            break;
          v174 = *(_BYTE *)v172++ == **(_BYTE **)v171;
          ++*(_DWORD *)v171;
          --v173;
        }
        while ( v174 );
        if ( v174 )
        {
          v259 = 10;
          goto LABEL_285;
        }
        *(_DWORD *)v175 = "max";
        v176 = (int)v263;
        v177 = 4;
        v178 = 1;
        do
        {
          if ( !v177 )
            break;
          v178 = *(_BYTE *)v176++ == **(_BYTE **)v175;
          ++*(_DWORD *)v175;
          --v177;
        }
        while ( v178 );
        if ( v178 )
        {
          v259 = 11;
          goto LABEL_285;
        }
        *(_DWORD *)v179 = "slt";
        v180 = (int)v263;
        v181 = 4;
        v182 = 1;
        do
        {
          if ( !v181 )
            break;
          v182 = *(_BYTE *)v180++ == **(_BYTE **)v179;
          ++*(_DWORD *)v179;
          --v181;
        }
        while ( v182 );
        if ( v182 )
        {
          v259 = 12;
          goto LABEL_285;
        }
        *(_DWORD *)v183 = "sge";
        v184 = (int)v263;
        v185 = 4;
        v186 = 1;
        do
        {
          if ( !v185 )
            break;
          v186 = *(_BYTE *)v184++ == **(_BYTE **)v183;
          ++*(_DWORD *)v183;
          --v185;
        }
        while ( v186 );
        if ( v186 )
        {
          v259 = 13;
          goto LABEL_285;
        }
        *(_DWORD *)v187 = "exp";
        v188 = (int)v263;
        v189 = 4;
        v190 = 1;
        do
        {
          if ( !v189 )
            break;
          v190 = *(_BYTE *)v188++ == **(_BYTE **)v187;
          ++*(_DWORD *)v187;
          --v189;
        }
        while ( v190 );
        if ( v190 )
        {
          v260 = 14;
        }
        else
        {
          *(_DWORD *)v191 = "log";
          v192 = (int)v263;
          v193 = 4;
          v194 = 1;
          do
          {
            if ( !v193 )
              break;
            v194 = *(_BYTE *)v192++ == **(_BYTE **)v191;
            ++*(_DWORD *)v191;
            --v193;
          }
          while ( v194 );
          if ( v194 )
          {
            v260 = 15;
          }
          else
          {
            *(_DWORD *)v195 = "lit";
            v196 = (int)v263;
            v197 = 4;
            v198 = 1;
            do
            {
              if ( !v197 )
                break;
              v198 = *(_BYTE *)v196++ == **(_BYTE **)v195;
              ++*(_DWORD *)v195;
              --v197;
            }
            while ( v198 );
            if ( v198 )
            {
              v260 = 16;
            }
            else
            {
              *(_DWORD *)v199 = "dst";
              v200 = (int)v263;
              v201 = 4;
              v202 = 1;
              do
              {
                if ( !v201 )
                  break;
                v202 = *(_BYTE *)v200++ == **(_BYTE **)v199;
                ++*(_DWORD *)v199;
                --v201;
              }
              while ( v202 );
              if ( v202 )
              {
                v259 = 17;
                goto LABEL_285;
              }
              v203 = (int)"m4x4";
              v204 = (int)v263;
              v205 = 5;
              v206 = 1;
              do
              {
                if ( !v205 )
                  break;
                v206 = *(_BYTE *)v204++ == *(_BYTE *)v203++;
                --v205;
              }
              while ( v206 );
              if ( v206 )
              {
                v259 = 20;
                goto LABEL_285;
              }
              v207 = (int)"m4x3";
              v208 = (int)v263;
              v209 = 5;
              v210 = 1;
              do
              {
                if ( !v209 )
                  break;
                v210 = *(_BYTE *)v208++ == *(_BYTE *)v207++;
                --v209;
              }
              while ( v210 );
              if ( v210 )
              {
                v259 = 21;
                goto LABEL_285;
              }
              v211 = (int)"m3x4";
              v212 = (int)v263;
              v213 = 5;
              v214 = 1;
              do
              {
                if ( !v213 )
                  break;
                v214 = *(_BYTE *)v212++ == *(_BYTE *)v211++;
                --v213;
              }
              while ( v214 );
              if ( v214 )
              {
                v259 = 22;
                goto LABEL_285;
              }
              v215 = (int)"m3x3";
              v216 = (int)v263;
              v217 = 5;
              v218 = 1;
              do
              {
                if ( !v217 )
                  break;
                v218 = *(_BYTE *)v216++ == *(_BYTE *)v215++;
                --v217;
              }
              while ( v218 );
              if ( v218 )
              {
                v259 = 23;
                goto LABEL_285;
              }
              v219 = (int)"m3x2";
              v220 = (int)v263;
              v221 = 5;
              v222 = 1;
              do
              {
                if ( !v221 )
                  break;
                v222 = *(_BYTE *)v220++ == *(_BYTE *)v219++;
                --v221;
              }
              while ( v222 );
              if ( v222 )
              {
                v259 = 24;
                goto LABEL_285;
              }
              v223 = (int)"expp";
              v224 = (int)v263;
              v225 = 5;
              v226 = 1;
              do
              {
                if ( !v225 )
                  break;
                v226 = *(_BYTE *)v224++ == *(_BYTE *)v223++;
                --v225;
              }
              while ( v226 );
              if ( v226 )
              {
                v260 = 78;
              }
              else
              {
                v227 = 5;
                v228 = (int)"logp";
                v229 = (int)v263;
                v230 = 1;
                do
                {
                  if ( !v227 )
                    break;
                  v230 = *(_BYTE *)v229++ == *(_BYTE *)v228++;
                  --v227;
                }
                while ( v230 );
                if ( !v230 )
                  return 265;
                v260 = 79;
              }
            }
          }
        }
      }
    }
LABEL_292:
    v11 = v260;
    goto LABEL_293;
  }
  v11 = 1;
LABEL_293:
  result = 262;
LABEL_74:
  if ( v268 )
  {
    if ( !*(_DWORD *)(v269 + 172) || (v57 = v268, v264 = v266 - (_DWORD)v268, (unsigned int)(v266 - (_DWORD)v268) > 0xF) )
      return 265;
    v58 = v266 - (_DWORD)v268;
    v59 = (unsigned int)(v266 - (_DWORD)v268) >> 2;
    memcpy(v263, v268, 4 * v59);
    memcpy(&v263[4 * v59], (char *)v57 + 4 * v59, v58 & 3);
    v263[v58] = 0;
    v60 = (int)"x8";
    v61 = (int)v263;
    v62 = 3;
    v63 = 1;
    do
    {
      if ( !v62 )
        break;
      v63 = *(_BYTE *)v61++ == *(_BYTE *)v60++;
      --v62;
    }
    while ( v63 );
    if ( v63 )
    {
      v270 = 50331648;
    }
    else
    {
      v231 = (int)"x4";
      v232 = (int)v263;
      v233 = 3;
      v234 = 1;
      do
      {
        if ( !v233 )
          break;
        v234 = *(_BYTE *)v232++ == *(_BYTE *)v231++;
        --v233;
      }
      while ( v234 );
      if ( v234 )
      {
        v270 = 33554432;
      }
      else
      {
        v235 = (int)"x2";
        v236 = (int)v263;
        v237 = 3;
        v238 = 1;
        do
        {
          if ( !v237 )
            break;
          v238 = *(_BYTE *)v236++ == *(_BYTE *)v235++;
          --v237;
        }
        while ( v238 );
        if ( v238 )
        {
          v270 = 16777216;
        }
        else
        {
          v239 = (int)"d2";
          v240 = (int)v263;
          v241 = 3;
          v242 = 1;
          do
          {
            if ( !v241 )
              break;
            v242 = *(_BYTE *)v240++ == *(_BYTE *)v239++;
            --v241;
          }
          while ( v242 );
          if ( v242 )
          {
            v270 = 251658240;
          }
          else
          {
            v243 = (int)"d4";
            v244 = (int)v263;
            v245 = 3;
            v246 = 1;
            do
            {
              if ( !v245 )
                break;
              v246 = *(_BYTE *)v244++ == *(_BYTE *)v243++;
              --v245;
            }
            while ( v246 );
            if ( v246 )
            {
              v270 = 234881024;
            }
            else
            {
              v247 = (int)"d8";
              v248 = (int)v263;
              v249 = 3;
              v250 = 1;
              do
              {
                if ( !v249 )
                  break;
                v250 = *(_BYTE *)v248++ == *(_BYTE *)v247++;
                --v249;
              }
              while ( v250 );
              if ( v250 )
              {
                v270 = 218103808;
              }
              else
              {
                if ( v267 )
                  return 265;
                v267 = v268;
                v265 = v266;
              }
            }
          }
        }
      }
    }
  }
  v251 = v267;
  if ( v267 )
  {
    if ( *(_DWORD *)(v269 + 172) )
    {
      v264 = v265 - (_DWORD)v267;
      if ( (unsigned int)(v265 - (_DWORD)v267) <= 0xF )
      {
        v252 = v265 - (_DWORD)v267;
        v253 = (unsigned int)(v265 - (_DWORD)v267) >> 2;
        memcpy(v263, v267, 4 * v253);
        memcpy(&v263[4 * v253], (char *)v251 + 4 * v253, v252 & 3);
        v263[v252] = 0;
        *(_DWORD *)v254 = "sat";
        v255 = (int)v263;
        v256 = 4;
        v257 = 1;
        do
        {
          if ( !v256 )
            break;
          v257 = *(_BYTE *)v255++ == **(_BYTE **)v254;
          ++*(_DWORD *)v254;
          --v256;
        }
        while ( v257 );
        if ( v257 )
        {
          BYTE2(v270) |= 0x10u;
          goto LABEL_335;
        }
      }
    }
    return 265;
  }
LABEL_335:
  v258 = v269;
  *(_DWORD *)(v269 + 456) = v11;
  *(_DWORD *)(v258 + 460) = v270;
  return result;
}
// 10038B37: using guessed type char var_2C[16];

//----- (1003924E) --------------------------------------------------------
signed int __thiscall sub_1003924E(void *this, unsigned int ArgList)
{
  unsigned int v2; // esi@1
  signed int result; // eax@1
  int v4; // ebx@1
  unsigned int v5; // ecx@2
  unsigned int v6; // edx@3
  int v7; // ecx@6
  int v8; // ecx@7
  int v9; // ecx@8
  signed int v10; // ecx@10
  int v11; // ecx@16
  int v12; // ecx@17

  v2 = ArgList;
  result = 0;
  v4 = (int)this;
  if ( ArgList )
  {
    LOBYTE(v5) = *(_BYTE *)ArgList;
    if ( *(_BYTE *)ArgList )
    {
      v6 = ArgList;
      while ( 1 )
      {
        v5 = (char)v5;
        if ( (char)v5 > 119 )
        {
          v11 = v5 - 120;
          if ( v11 )
          {
            v12 = v11 - 1;
            if ( !v12 )
            {
LABEL_20:
              v10 = 1;
              result |= 0x20000u;
              goto LABEL_11;
            }
            if ( v12 != 1 )
              goto LABEL_21;
LABEL_19:
            v10 = 2;
            result |= 0x40000u;
            goto LABEL_11;
          }
        }
        else
        {
          if ( (char)v5 == 119 || (v7 = v5 - 97) == 0 )
          {
            v10 = 3;
            result |= 0x80000u;
            goto LABEL_11;
          }
          v8 = v7 - 1;
          if ( !v8 )
            goto LABEL_19;
          v9 = v8 - 5;
          if ( !v9 )
            goto LABEL_20;
          if ( v9 != 11 )
            goto LABEL_21;
        }
        v10 = 0;
        result |= 0x10000u;
LABEL_11:
        if ( v6 != v2 && v10 <= ArgList )
        {
LABEL_21:
          sub_10038A01(v4, "invalid mask '%s'", v2);
          *(_DWORD *)(v4 + 152) = 1;
          return 0;
        }
        ++v6;
        ArgList = v5;
        LOBYTE(v5) = *(_BYTE *)v6;
        if ( !*(_BYTE *)v6 )
          return result;
      }
    }
  }
  return 983040;
}

//----- (100392F7) --------------------------------------------------------
signed int __thiscall sub_100392F7(void *this, int ArgList)
{
  signed int v2; // esi@1
  int v3; // edi@1
  signed int v4; // ecx@3
  int v5; // edx@4
  int v6; // edx@7
  int v7; // edx@8
  int v8; // edx@9
  int v10; // edx@18
  int v11; // edx@19
  signed int v12; // [sp-4h] [bp-14h]@16
  int v13; // [sp+8h] [bp-8h]@1
  int v14; // [sp+Ch] [bp-4h]@1

  v2 = 0;
  v14 = 0;
  v13 = (int)this;
  v3 = ArgList;
  if ( !ArgList || !*(_BYTE *)ArgList )
    return 14942208;
  v4 = 16;
  do
  {
    LOBYTE(v5) = *(_BYTE *)v3;
    if ( !*(_BYTE *)v3 )
      goto LABEL_13;
    v5 = (char)v5;
    if ( (char)v5 > 119 )
    {
      v10 = v5 - 120;
      if ( !v10 )
        goto LABEL_11;
      v11 = v10 - 1;
      if ( !v11 )
      {
LABEL_22:
        v2 = 1;
        goto LABEL_12;
      }
      if ( v11 != 1 )
        goto LABEL_15;
LABEL_21:
      v12 = 2;
LABEL_17:
      v2 = v12;
      goto LABEL_12;
    }
    if ( (char)v5 == 119 || (v6 = v5 - 97) == 0 )
    {
      v12 = 3;
      goto LABEL_17;
    }
    v7 = v6 - 1;
    if ( !v7 )
      goto LABEL_21;
    v8 = v7 - 5;
    if ( !v8 )
      goto LABEL_22;
    if ( v8 != 11 )
      goto LABEL_15;
LABEL_11:
    v2 = 0;
LABEL_12:
    ++v3;
LABEL_13:
    v14 |= v2 << v4;
    v4 += 2;
  }
  while ( (unsigned int)v4 < 0x18 );
  if ( *(_BYTE *)v3 )
  {
LABEL_15:
    sub_10038A01(v13, "invalid swizzle '%s'", ArgList);
    *(_DWORD *)(v13 + 152) = 1;
    return 0;
  }
  return v14;
}

//----- (10039398) --------------------------------------------------------
signed int __thiscall sub_10039398(void *this, int *ArgList, int a3, int a4)
{
  int *v4; // esi@1
  void *v5; // edi@1
  int *i; // ebx@5
  int v7; // edi@10
  int *v8; // esi@10
  signed int v9; // ecx@10
  bool v10; // zf@10
  int v11; // edi@15
  int *v12; // esi@15
  signed int v13; // ecx@15
  bool v14; // zf@15
  char v15[4]; // edi@20
  int *v16; // esi@20
  signed int v17; // ecx@20
  bool v18; // zf@20
  char v19[4]; // edi@25
  int *v20; // esi@25
  signed int v21; // ecx@25
  bool v22; // zf@25
  char v23[4]; // edi@29
  int *v24; // esi@29
  signed int v25; // ecx@29
  bool v26; // zf@29
  char v27[4]; // edi@33
  int *v28; // esi@33
  signed int v29; // ecx@33
  bool v30; // zf@33
  signed int v31; // ecx@37
  char v32[4]; // edi@37
  int *v33; // esi@37
  bool v34; // zf@37
  const char v35; // cl@50
  int *v36; // esi@50
  int v37; // edi@51
  signed int v38; // ecx@51
  bool v39; // zf@51
  int v40; // eax@56
  int *v41; // esi@57
  int v42; // edi@57
  signed int v43; // ecx@57
  bool v44; // zf@57
  int *v46; // esi@63
  int v47; // edi@63
  signed int v48; // ecx@63
  bool v49; // zf@63
  int v50; // eax@68
  int *v51; // esi@69
  signed int v52; // ecx@69
  int v53; // edi@69
  bool v54; // zf@69
  int v55; // eax@74
  int v56; // edi@75
  signed int v57; // ecx@75
  bool v58; // zf@75
  int *v59; // esi@81
  int v60; // edi@81
  signed int v61; // ecx@81
  bool v62; // zf@81
  int *v63; // esi@87
  int v64; // edi@87
  signed int v65; // ecx@87
  bool v66; // zf@87
  int *v67; // esi@93
  int v68; // edi@93
  signed int v69; // ecx@93
  bool v70; // zf@93
  int *v71; // esi@100
  int v72; // edi@100
  signed int v73; // ecx@100
  bool v74; // zf@100
  int *v75; // esi@106
  int v76; // edi@106
  signed int v77; // ecx@106
  bool v78; // zf@106
  int *v79; // esi@112
  signed int v80; // ecx@112
  int v81; // edi@112
  bool v82; // zf@112
  int *v83; // esi@119
  int v84; // edi@119
  signed int v85; // ecx@119
  bool v86; // zf@119
  int *v87; // esi@125
  int v88; // edi@125
  signed int v89; // ecx@125
  bool v90; // zf@125
  int *v91; // esi@132
  int v92; // edi@132
  signed int v93; // ecx@132
  bool v94; // zf@132
  const char *v95; // [sp-Ch] [bp-30h]@142
  int *v96; // [sp-8h] [bp-2Ch]@142
  int v97; // [sp-4h] [bp-28h]@142
  signed int v98; // [sp+Ch] [bp-18h]@8
  const char *Str; // [sp+10h] [bp-14h]@4
  int v100; // [sp+14h] [bp-10h]@1
  int v101; // [sp+18h] [bp-Ch]@8
  signed int v102; // [sp+1Ch] [bp-8h]@8
  int v103; // [sp+20h] [bp-4h]@8
  const char v104; // [sp+37h] [bp+13h]@50

  v4 = ArgList;
  v5 = this;
  v100 = (int)this;
  while ( 1 )
  {
    Str = (const char *)v4;
    if ( !*(_BYTE *)v4 )
      break;
    if ( !isalpha(*(_BYTE *)v4) )
      break;
    v4 = (int *)((char *)v4 + 1);
  }
  for ( i = v4; *(_BYTE *)i; i = (int *)((char *)i + 1) )
  {
    if ( !isdigit(*(_BYTE *)i) )
      break;
  }
  v98 = 1;
  v101 = *(_BYTE *)v4 != 0;
  v103 = 0;
  v102 = 0;
  if ( *((_DWORD *)v5 + 43) && *(_BYTE *)i == 95 )
  {
    v7 = (int)"_bias";
    v8 = i;
    v9 = 6;
    v10 = 1;
    do
    {
      if ( !v9 )
        break;
      v10 = *(_BYTE *)v8 == *(_BYTE *)v7;
      v8 = (int *)((char *)v8 + 1);
      ++v7;
      --v9;
    }
    while ( v10 );
    if ( v10 )
    {
      v102 = 33554432;
      i = (int *)((char *)i + 5);
      goto LABEL_44;
    }
    v11 = (int)"_bx2";
    v12 = i;
    v13 = 5;
    v14 = 1;
    do
    {
      if ( !v13 )
        break;
      v14 = *(_BYTE *)v12 == *(_BYTE *)v11;
      v12 = (int *)((char *)v12 + 1);
      ++v11;
      --v13;
    }
    while ( v14 );
    if ( v14 )
    {
      v102 = 67108864;
      ++i;
      goto LABEL_44;
    }
    *(_DWORD *)v15 = "_x2";
    v16 = i;
    v17 = 4;
    v18 = 1;
    do
    {
      if ( !v17 )
        break;
      v18 = *(_BYTE *)v16 == **(_BYTE **)v15;
      v16 = (int *)((char *)v16 + 1);
      ++*(_DWORD *)v15;
      --v17;
    }
    while ( v18 );
    if ( v18 )
    {
      v102 = 117440512;
LABEL_43:
      i = (int *)((char *)i + 3);
      goto LABEL_44;
    }
    *(_DWORD *)v19 = "_dz";
    v20 = i;
    v21 = 4;
    v22 = 1;
    do
    {
      if ( !v21 )
        break;
      v22 = *(_BYTE *)v20 == **(_BYTE **)v19;
      v20 = (int *)((char *)v20 + 1);
      ++*(_DWORD *)v19;
      --v21;
    }
    while ( v22 );
    if ( v22 )
      goto LABEL_148;
    *(_DWORD *)v23 = "_db";
    v24 = i;
    v25 = 4;
    v26 = 1;
    do
    {
      if ( !v25 )
        break;
      v26 = *(_BYTE *)v24 == **(_BYTE **)v23;
      v24 = (int *)((char *)v24 + 1);
      ++*(_DWORD *)v23;
      --v25;
    }
    while ( v26 );
    if ( v26 )
    {
LABEL_148:
      v102 = 150994944;
      goto LABEL_43;
    }
    *(_DWORD *)v27 = "_dw";
    v28 = i;
    v29 = 4;
    v30 = 1;
    do
    {
      if ( !v29 )
        break;
      v30 = *(_BYTE *)v28 == **(_BYTE **)v27;
      v28 = (int *)((char *)v28 + 1);
      ++*(_DWORD *)v27;
      --v29;
    }
    while ( v30 );
    if ( v30 )
      goto LABEL_149;
    v31 = 4;
    *(_DWORD *)v32 = "_da";
    v33 = i;
    v34 = 1;
    do
    {
      if ( !v31 )
        break;
      v34 = *(_BYTE *)v33 == **(_BYTE **)v32;
      v33 = (int *)((char *)v33 + 1);
      ++*(_DWORD *)v32;
      --v31;
    }
    while ( v34 );
    if ( v34 )
    {
LABEL_149:
      v102 = 167772160;
      goto LABEL_43;
    }
  }
LABEL_44:
  if ( v101 )
  {
    v103 = atoi(Str);
    if ( v103 & 0xFFFFE000 )
      v98 = 0;
  }
  if ( !*(_BYTE *)i && v98 )
  {
    if ( !a4 )
    {
      v35 = *Str;
      *Str = 0;
      v36 = ArgList;
      v104 = v35;
      if ( *(_DWORD *)(v100 + 172) )
      {
        v37 = (int)"v";
        v38 = 2;
        v39 = 1;
        do
        {
          if ( !v38 )
            break;
          v39 = *(_BYTE *)v36 == *(_BYTE *)v37;
          v36 = (int *)((char *)v36 + 1);
          ++v37;
          --v38;
        }
        while ( v39 );
        if ( v39 && v101 )
        {
          v40 = v103 | v102;
          return v40 | 0x10000000;
        }
        v41 = ArgList;
        v42 = (int)"r";
        v43 = 2;
        v44 = 1;
        do
        {
          if ( !v43 )
            break;
          v44 = *(_BYTE *)v41 == *(_BYTE *)v42;
          v41 = (int *)((char *)v41 + 1);
          ++v42;
          --v43;
        }
        while ( v44 );
        if ( v44 && v101 )
          return v103 | v102;
        v46 = ArgList;
        v47 = (int)"c";
        v48 = 2;
        v49 = 1;
        do
        {
          if ( !v48 )
            break;
          v49 = *(_BYTE *)v46 == *(_BYTE *)v47;
          v46 = (int *)((char *)v46 + 1);
          ++v47;
          --v48;
        }
        while ( v49 );
        if ( v49 && v101 )
        {
          v50 = v103 | v102;
          return v50 | 0x20000000;
        }
        v51 = ArgList;
        v52 = 2;
        v53 = (int)"t";
        v54 = 1;
        do
        {
          if ( !v52 )
            break;
          v54 = *(_BYTE *)v51 == *(_BYTE *)v53;
          v51 = (int *)((char *)v51 + 1);
          ++v53;
          --v52;
        }
        while ( v54 );
        if ( v54 && v101 )
        {
          v55 = v103 | v102;
          return v55 | 0x30000000;
        }
      }
      else
      {
        v56 = (int)"oPos";
        v57 = 5;
        v58 = 1;
        do
        {
          if ( !v57 )
            break;
          v58 = *(_BYTE *)v36 == *(_BYTE *)v56;
          v36 = (int *)((char *)v36 + 1);
          ++v56;
          --v57;
        }
        while ( v58 );
        if ( v58 && !v101 )
          return 1073741824;
        v59 = ArgList;
        v60 = (int)"oPts";
        v61 = 5;
        v62 = 1;
        do
        {
          if ( !v61 )
            break;
          v62 = *(_BYTE *)v59 == *(_BYTE *)v60;
          v59 = (int *)((char *)v59 + 1);
          ++v60;
          --v61;
        }
        while ( v62 );
        if ( v62 && !v101 )
          return 1073741826;
        v63 = ArgList;
        v64 = (int)"oFog";
        v65 = 5;
        v66 = 1;
        do
        {
          if ( !v65 )
            break;
          v66 = *(_BYTE *)v63 == *(_BYTE *)v64;
          v63 = (int *)((char *)v63 + 1);
          ++v64;
          --v65;
        }
        while ( v66 );
        if ( v66 && !v101 )
          return 1073741825;
        v67 = ArgList;
        v68 = (int)"v";
        v69 = 2;
        v70 = 1;
        do
        {
          if ( !v69 )
            break;
          v70 = *(_BYTE *)v67 == *(_BYTE *)v68;
          v67 = (int *)((char *)v67 + 1);
          ++v68;
          --v69;
        }
        while ( v70 );
        if ( v70 && v101 )
        {
          v40 = v103;
          return v40 | 0x10000000;
        }
        v71 = ArgList;
        v72 = (int)"r";
        v73 = 2;
        v74 = 1;
        do
        {
          if ( !v73 )
            break;
          v74 = *(_BYTE *)v71 == *(_BYTE *)v72;
          v71 = (int *)((char *)v71 + 1);
          ++v72;
          --v73;
        }
        while ( v74 );
        if ( v74 && v101 )
          return v103;
        v75 = ArgList;
        v76 = (int)"c";
        v77 = 2;
        v78 = 1;
        do
        {
          if ( !v77 )
            break;
          v78 = *(_BYTE *)v75 == *(_BYTE *)v76;
          v75 = (int *)((char *)v75 + 1);
          ++v76;
          --v77;
        }
        while ( v78 );
        if ( v78 && v101 )
        {
          v50 = v103;
          return v50 | 0x20000000;
        }
        v79 = ArgList;
        v80 = 2;
        v81 = (int)"a";
        v82 = 1;
        do
        {
          if ( !v80 )
            break;
          v82 = *(_BYTE *)v79 == *(_BYTE *)v81;
          v79 = (int *)((char *)v79 + 1);
          ++v81;
          --v80;
        }
        while ( v82 );
        if ( v82 && v101 )
        {
          v55 = v103;
          return v55 | 0x30000000;
        }
        v83 = ArgList;
        v84 = (int)"oD";
        v85 = 3;
        v86 = 1;
        do
        {
          if ( !v85 )
            break;
          v86 = *(_BYTE *)v83 == *(_BYTE *)v84;
          v83 = (int *)((char *)v83 + 1);
          ++v84;
          --v85;
        }
        while ( v86 );
        if ( v86 && v101 )
          return v103 | 0x50000000;
        v87 = ArgList;
        v88 = (int)"oT";
        v89 = 3;
        v90 = 1;
        do
        {
          if ( !v89 )
            break;
          v90 = *(_BYTE *)v87 == *(_BYTE *)v88;
          v87 = (int *)((char *)v87 + 1);
          ++v88;
          --v89;
        }
        while ( v90 );
        if ( v90 && v101 )
          return v103 | 0x60000000;
      }
      *Str = v104;
      goto LABEL_140;
    }
    v91 = ArgList;
    v92 = (int)"c";
    v93 = 2;
    v94 = 1;
    do
    {
      if ( !v93 )
        break;
      v94 = *(_BYTE *)v91 == *(_BYTE *)v92;
      v91 = (int *)((char *)v91 + 1);
      ++v92;
      --v93;
    }
    while ( v94 );
    if ( v94 && !v101 )
    {
      v50 = a3 | v102;
      return v50 | 0x20000000;
    }
  }
  if ( a4 )
  {
    if ( BYTE1(a3) & 0x20 )
    {
      v97 = a3 & 0x1FFF;
      v96 = ArgList;
      v95 = "invalid register '%s[a0.x + %d]'";
    }
    else
    {
      v97 = a3 & 0x1FFF;
      v96 = ArgList;
      v95 = "invalid register '%s[%d]'";
    }
    sub_10038A01(v100, v95, v96, v97);
    goto LABEL_145;
  }
LABEL_140:
  sub_10038A01(v100, "invalid register '%s'", ArgList);
LABEL_145:
  *(_DWORD *)(v100 + 152) = 1;
  return 0;
}

//----- (10039739) --------------------------------------------------------
signed int __thiscall sub_10039739(int this, int a2, int a3)
{
  int v3; // esi@1
  signed int result; // eax@3
  int v5; // esi@5
  int v6; // edi@5

  v3 = this;
  if ( (a2 & 0x70000000) != 536870912 || a2 & 0x2000 )
  {
    result = sub_10038A01(this, "invalid constant");
    *(_DWORD *)(v3 + 152) = 1;
  }
  else
  {
    if ( *(_DWORD *)(this + 172) )
    {
      *(_DWORD *)(this + 156) += 24;
      v5 = this + 100;
      sub_10040279(this + 100, 81);
      v6 = a2 | 0xF0000;
    }
    else
    {
      *(_DWORD *)(this + 156) += 20;
      v5 = this + 100;
      v6 = a2 & 0x1FFF | 0x82000000;
    }
    sub_10040279(v5, v6);
    sub_10040279(v5, *(_DWORD *)a3);
    sub_10040279(v5, *(_DWORD *)(a3 + 4));
    sub_10040279(v5, *(_DWORD *)(a3 + 8));
    result = sub_10040279(v5, *(_DWORD *)(a3 + 12));
  }
  return result;
}

//----- (100397E2) --------------------------------------------------------
void __thiscall sub_100397E2(int this)
{
  int v1; // ebx@1
  int *v2; // esi@2
  int v3; // edi@2
  int v4; // [sp+4h] [bp-8h]@2
  unsigned int v5; // [sp+8h] [bp-4h]@3

  v1 = this;
  if ( *(_DWORD *)(this + 176) )
  {
    v2 = *(int **)(this + 184);
    v3 = *(_DWORD *)(this + 196) - (_DWORD)v2;
    v4 = v3;
    sub_10040279(this + 116, ((((v3 + 3) << 14) & 0xFFFF0000) + 65536) & 0x7FFF0000 | 0xFFFE);
    sub_10040279(v1 + 116, 1415071060);
    *(_DWORD *)(v1 + 160) += 8;
    if ( (unsigned int)v3 >= 4 )
    {
      v5 = (unsigned int)v3 >> 2;
      do
      {
        sub_10040279(v1 + 116, *v2);
        *(_DWORD *)(v1 + 160) += 4;
        ++v2;
        v3 -= 4;
        --v5;
      }
      while ( v5 );
      v4 = v3;
    }
    if ( v3 )
    {
      v5 = 0;
      memcpy(&v5, v2, v3);
      sub_10040279(v1 + 116, v5);
      *(_DWORD *)(v1 + 160) += 4;
      v3 = v4;
    }
    if ( v3 == 4 )
    {
      sub_10040279(v1 + 116, 0);
      *(_DWORD *)(v1 + 160) += 4;
    }
  }
}

//----- (100398B8) --------------------------------------------------------
int __thiscall sub_100398B8(int this)
{
  int v1; // ebx@1
  bool v2; // zf@1
  int result; // eax@1
  int v4; // eax@4
  int v5; // esi@4
  char v6; // cl@5
  int v7; // edi@6
  int v8; // eax@11
  char v9; // cl@12
  unsigned int v10; // [sp+4h] [bp-8h]@7
  int *v11; // [sp+8h] [bp-4h]@4

  v1 = this;
  v2 = *(_DWORD *)(this + 176) == 0;
  result = *(_DWORD *)(this + 464);
  *(_DWORD *)(this + 988) = result;
  if ( v2 )
  {
    *(_DWORD *)(this + 724) = result;
  }
  else
  {
    if ( strcmp((const char *)(this + 728), (const char *)(this + 468)) )
    {
      v4 = v1 + 468;
      v11 = (int *)(v1 + 468);
      v5 = v1 + 469;
      do
        v6 = *(_BYTE *)v4++;
      while ( v6 );
      v7 = v4 - v5 + 1;
      sub_10040279(v1 + 116, ((((v4 - v5 + 4) << 14) & 0xFFFF0000) + 65536) & 0x7FFF0000 | 0xFFFE);
      sub_10040279(v1 + 116, 1162627398);
      *(_DWORD *)(v1 + 160) += 8;
      if ( (unsigned int)v7 >= 4 )
      {
        v10 = (unsigned int)v7 >> 2;
        do
        {
          sub_10040279(v1 + 116, *v11);
          *(_DWORD *)(v1 + 160) += 4;
          ++v11;
          v7 -= 4;
          --v10;
        }
        while ( v10 );
      }
      if ( v7 )
      {
        v10 = 0;
        memcpy(&v10, v11, v7);
        sub_10040279(v1 + 116, v10);
        *(_DWORD *)(v1 + 160) += 4;
      }
      v8 = v1 + 468;
      do
      {
        v9 = *(_BYTE *)v8;
        *(_BYTE *)(v1 + 728 - (v1 + 468) + v8) = *(_BYTE *)v8;
        ++v8;
      }
      while ( v9 );
    }
    result = *(_DWORD *)(v1 + 724);
    if ( result != *(_DWORD *)(v1 + 464) )
    {
      sub_10040279(v1 + 116, 196606);
      sub_10040279(v1 + 116, 1162758476);
      sub_10040279(v1 + 116, *(_DWORD *)(v1 + 464));
      result = *(_DWORD *)(v1 + 464);
      *(_DWORD *)(v1 + 160) += 12;
      *(_DWORD *)(v1 + 724) = result;
    }
  }
  return result;
}

//----- (10039A2F) --------------------------------------------------------
signed int __thiscall sub_10039A2F(int this)
{
  int v1; // ebx@1
  char *v2; // eax@2
  char v3; // cl@2
  int v4; // eax@3
  int v5; // eax@7
  int v6; // eax@8
  bool v7; // cf@8
  int v8; // esi@12
  signed int v9; // ecx@12
  int v10; // edi@12
  bool v11; // zf@12
  int v12; // eax@23
  const void *v13; // esi@23
  int v14; // eax@27
  unsigned int v15; // edx@27
  int v16; // ecx@34
  unsigned int v17; // edx@34
  int v18; // esi@41
  int v19; // eax@41
  char v20; // cl@42
  int v21; // eax@52
  unsigned int v22; // esi@52
  int v23; // ecx@52
  int v24; // eax@56
  int v25; // eax@57
  int v26; // eax@62
  unsigned int i; // eax@66
  unsigned int v28; // eax@69
  signed int result; // eax@71
  int v30; // esi@72
  const void *v31; // esi@73
  int *v32; // eax@73
  unsigned int v33; // eax@77
  int v34; // edi@79
  int v35; // esi@79
  signed int v36; // ecx@79
  bool v37; // zf@79
  int v38; // edi@84
  int v39; // esi@84
  signed int v40; // ecx@84
  bool v41; // zf@84
  int v42; // esi@89
  char v43[4]; // edi@89
  signed int v44; // ecx@89
  bool v45; // zf@89
  int v46; // eax@96
  const void *v47; // esi@97
  int *v48; // eax@97
  char v49; // al@100
  int v50; // eax@102
  unsigned int v51; // eax@107
  unsigned int v52; // eax@110
  const char *v53; // [sp-4h] [bp-120h]@49
  char Str[256]; // [sp+Ch] [bp-110h]@39
  int v55; // [sp+10Ch] [bp-10h]@30
  char v56; // [sp+113h] [bp-9h]@2
  unsigned int v57; // [sp+114h] [bp-8h]@34
  unsigned int v58; // [sp+118h] [bp-4h]@8

  v1 = this;
  *(_DWORD *)(this + 984) = 0;
  while ( 1 )
  {
    while ( 1 )
    {
      while ( 1 )
      {
        while ( 1 )
        {
          while ( 1 )
          {
            v28 = *(_DWORD *)(v1 + 192);
            if ( v28 >= *(_DWORD *)(v1 + 196) )
            {
              if ( v28 == *(_DWORD *)(v1 + 196) )
              {
                *(_DWORD *)(v1 + 192) = v28 + 1;
                *(_DWORD *)(v1 + 984) = 1;
                result = 268;
              }
              else
              {
                result = -1;
              }
              return result;
            }
            v2 = *(char **)(v1 + 192);
            v3 = *v2;
            v11 = *v2 == 10;
            v56 = *v2;
            if ( !v11 )
              break;
            v4 = (int)(v2 + 1);
            ++*(_DWORD *)(v1 + 464);
            *(_DWORD *)(v1 + 192) = v4;
            *(_DWORD *)(v1 + 188) = v4;
          }
          if ( !isspace(v3) )
            break;
          ++*(_DWORD *)(v1 + 192);
        }
        if ( v56 != 35 )
          break;
        v5 = *(_DWORD *)(v1 + 192);
        if ( v5 != *(_DWORD *)(v1 + 188) )
          goto LABEL_72;
        v58 = *(_DWORD *)(v1 + 192);
        v6 = v5 + 1;
        v7 = (unsigned int)v6 < *(_DWORD *)(v1 + 196);
        *(_DWORD *)(v1 + 192) = v6;
        if ( v7 )
        {
          do
          {
            if ( *(_BYTE *)v6 == 10 )
              break;
            ++v6;
            *(_DWORD *)(v1 + 192) = v6;
          }
          while ( (unsigned int)v6 < *(_DWORD *)(v1 + 196) );
        }
        if ( (signed int)(v6 - v58) <= 5 )
          goto LABEL_120;
        v8 = v58;
        v9 = 5;
        v10 = (int)"#line";
        v11 = 1;
        do
        {
          if ( !v9 )
            break;
          v11 = *(_BYTE *)v8++ == *(_BYTE *)v10++;
          --v9;
        }
        while ( v11 );
        if ( !v11 )
        {
LABEL_120:
          v53 = "preprocessor directives are not supported";
          goto LABEL_64;
        }
        if ( v58 < v6 )
        {
          do
          {
            if ( isspace(*(_BYTE *)v58) )
              break;
            ++v58;
          }
          while ( v58 < *(_DWORD *)(v1 + 192) );
        }
        while ( v58 < *(_DWORD *)(v1 + 192) && isspace(*(_BYTE *)v58) )
          ++v58;
        v12 = v58;
        v13 = (const void *)v58;
        while ( (unsigned int)v12 < *(_DWORD *)(v1 + 192) && !isspace(*(_BYTE *)v58) )
        {
          ++v58;
          v12 = v58;
        }
        v14 = v58;
        v15 = *(_DWORD *)(v1 + 192);
        if ( v58 < v15 )
        {
          do
          {
            if ( *(_BYTE *)v14 == 34 )
              break;
            ++v14;
          }
          while ( (unsigned int)v14 < *(_DWORD *)(v1 + 192) );
        }
        v55 = v14;
        if ( v14 < v15 )
        {
          ++v14;
          if ( v14 < v15 )
          {
            do
            {
              if ( *(_BYTE *)v14 == 34 )
                break;
              ++v14;
            }
            while ( (unsigned int)v14 < *(_DWORD *)(v1 + 192) );
          }
        }
        v57 = v14;
        v16 = v58 - (_DWORD)v13;
        v58 = v14 - v55;
        v17 = v16;
        if ( (unsigned int)v16 >= 0x100 )
          v17 = 255;
        if ( v58 >= 0x100 )
          v58 = 255;
        if ( v17 )
        {
          memcpy(Str, v13, v17);
          Str[v17] = 0;
          *(_DWORD *)(v1 + 464) = atoi(Str) - 1;
        }
        if ( v58 > 1 )
        {
          v18 = v55 + 1;
          v19 = v1 + 468;
          while ( v18 < v57 )
          {
            v20 = *(_BYTE *)v18++;
            *(_BYTE *)v19 = v20;
            if ( v20 == 92 && v18 < v57 && *(_BYTE *)v18 == 92 )
              ++v18;
            ++v19;
          }
          *(_BYTE *)v19 = 0;
        }
      }
      if ( v56 != 59 )
        break;
LABEL_66:
      ++*(_DWORD *)(v1 + 192);
      for ( i = *(_DWORD *)(v1 + 192); i < *(_DWORD *)(v1 + 196); *(_DWORD *)(v1 + 192) = i )
      {
        if ( *(_BYTE *)i == 10 )
          break;
        ++i;
      }
    }
    if ( v56 != 47 )
      break;
    v21 = *(_DWORD *)(v1 + 192);
    v22 = *(_DWORD *)(v1 + 196);
    v23 = v21 + 1;
    if ( v21 + 1 >= v22 )
      break;
    if ( *(_BYTE *)v23 == v56 )
      goto LABEL_66;
    if ( v23 >= v22 || *(_BYTE *)v23 != 42 )
      break;
    v24 = v21 + 2;
    *(_DWORD *)(v1 + 192) = v24;
    if ( v24 >= v22 )
    {
LABEL_63:
      v53 = "comment extends past end-of-file";
LABEL_64:
      sub_10038A01(v1, v53);
    }
    else
    {
      while ( 1 )
      {
        v25 = *(_DWORD *)(v1 + 192);
        if ( *(_BYTE *)v25 == 42 )
        {
          if ( v25 + 1 < v22 && *(_BYTE *)(v25 + 1) == 47 )
            break;
        }
        if ( *(_BYTE *)v25 == 10 )
        {
          ++*(_DWORD *)(v1 + 464);
          *(_DWORD *)(v1 + 188) = v25 + 1;
        }
        v26 = v25 + 1;
        *(_DWORD *)(v1 + 192) = v26;
        if ( (unsigned int)v26 >= *(_DWORD *)(v1 + 196) )
          goto LABEL_63;
      }
      *(_DWORD *)(v1 + 192) += 2;
    }
  }
LABEL_72:
  v30 = v56;
  if ( isalpha(v56) )
  {
    v31 = *(const void **)(v1 + 192);
    v32 = (int *)((char *)v31 + 1);
    v7 = (unsigned int)((char *)v31 + 1) < *(_DWORD *)(v1 + 196);
    *(_DWORD *)(v1 + 192) = (char *)v31 + 1;
    if ( v7 )
    {
      do
      {
        if ( !isalnum(*(_BYTE *)v32) && **(_BYTE **)(v1 + 192) != 95 )
          break;
        ++*(_DWORD *)(v1 + 192);
        v32 = *(int **)(v1 + 192);
      }
      while ( *(_DWORD *)(v1 + 192) < *(_DWORD *)(v1 + 196) );
    }
    v33 = *(_DWORD *)(v1 + 192) - (_DWORD)v31;
    if ( v33 >= 0x100 )
      v33 = 255;
    memcpy((void *)(v1 + 200), v31, v33);
    *(_BYTE *)(v33 + v1 + 200) = 0;
    v34 = (int)"vs";
    v35 = v1 + 200;
    v36 = 3;
    v37 = 1;
    *(_DWORD *)(v1 + 984) = 1;
    do
    {
      if ( !v36 )
        break;
      v37 = *(_BYTE *)v35++ == *(_BYTE *)v34++;
      --v36;
    }
    while ( v37 );
    if ( v37 )
    {
      result = 257;
    }
    else
    {
      v38 = (int)"ps";
      v39 = v1 + 200;
      v40 = 3;
      v41 = 1;
      do
      {
        if ( !v40 )
          break;
        v41 = *(_BYTE *)v39++ == *(_BYTE *)v38++;
        --v40;
      }
      while ( v41 );
      if ( v41 )
      {
        result = 258;
      }
      else
      {
        v42 = v1 + 200;
        *(_DWORD *)v43 = "def";
        v44 = 4;
        v45 = 1;
        do
        {
          if ( !v44 )
            break;
          v45 = *(_BYTE *)v42++ == **(_BYTE **)v43;
          ++*(_DWORD *)v43;
          --v44;
        }
        while ( v45 );
        if ( v45 )
        {
          result = 259;
        }
        else
        {
          result = sub_10038B37((void *)v1);
          if ( result == 265 )
            *(_DWORD *)(v1 + 984) = 0;
        }
      }
    }
  }
  else
  {
    v11 = isdigit(v30) == 0;
    v46 = *(_DWORD *)(v1 + 192);
    if ( v11 )
    {
      if ( *(_BYTE *)v46 == 43 )
        *(_DWORD *)(v1 + 984) = 1;
      *(_DWORD *)(v1 + 192) = v46 + 1;
      result = v30;
    }
    else
    {
      v47 = *(const void **)(v1 + 192);
      v48 = (int *)(v46 + 1);
      v7 = (unsigned int)v48 < *(_DWORD *)(v1 + 196);
      v57 = 266;
      *(_DWORD *)(v1 + 192) = v48;
      if ( v7 )
      {
        do
        {
          if ( !isdigit(*(_BYTE *)v48) )
          {
            if ( !*(_DWORD *)(v1 + 180) || (v49 = **(_BYTE **)(v1 + 192), v49 != 46) && v49 != 101 )
            {
              if ( (v50 = *(_DWORD *)(v1 + 192), *(_BYTE *)v50 != 43) && *(_BYTE *)v50 != 45
                || *(_BYTE *)(v50 - 1) != 101 )
                break;
            }
            v57 = 267;
          }
          ++*(_DWORD *)(v1 + 192);
          v48 = *(int **)(v1 + 192);
        }
        while ( *(_DWORD *)(v1 + 192) < *(_DWORD *)(v1 + 196) );
      }
      v51 = *(_DWORD *)(v1 + 192) - (_DWORD)v47;
      if ( v51 >= 0x100 )
        v51 = 255;
      memcpy((void *)(v1 + 200), v47, v51);
      *(_BYTE *)(v51 + v1 + 200) = 0;
      if ( *(_DWORD *)(v1 + 180) )
      {
        v52 = *(_DWORD *)(v1 + 192);
        if ( v52 < *(_DWORD *)(v1 + 196) )
        {
          if ( *(_BYTE *)v52 == 102 )
          {
            v57 = 267;
            *(_DWORD *)(v1 + 192) = v52 + 1;
          }
        }
      }
      result = v57;
    }
  }
  return result;
}
// 10039A2F: using guessed type char Str[256];

//----- (10039F47) --------------------------------------------------------
signed int __thiscall sub_10039F47(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  int v4; // eax@5
  int v5; // eax@8
  int v6; // edi@19
  int v7; // edi@21
  signed int v8; // eax@21
  int v9; // eax@21
  int v10; // eax@31
  int v11; // ecx@38
  int v12; // eax@51
  signed int v13; // eax@54
  int *v14; // ST00_4@55
  signed int v15; // eax@55
  int v16; // ecx@63
  int v17; // ebx@67
  double v18; // st7@84
  signed int result; // eax@99
  const char *v20; // [sp-8h] [bp-40h]@3
  signed int v21; // [sp-8h] [bp-40h]@20
  const char *v22; // [sp-8h] [bp-40h]@29
  const char *v23; // [sp-8h] [bp-40h]@44
  const char *v24; // [sp-8h] [bp-40h]@58
  const char *v25; // [sp-8h] [bp-40h]@68
  int v26; // [sp-8h] [bp-40h]@79
  int v27; // [sp+8h] [bp-30h]@10
  char v28; // [sp+Ch] [bp-2Ch]@10
  char v29; // [sp+10h] [bp-28h]@10
  char v30; // [sp+14h] [bp-24h]@10
  int v31; // [sp+18h] [bp-20h]@18
  int v32; // [sp+1Ch] [bp-1Ch]@14
  int v33; // [sp+20h] [bp-18h]@11
  signed int v34; // [sp+24h] [bp-14h]@86
  char ArgList[4]; // [sp+28h] [bp-10h]@21
  int v36; // [sp+2Ch] [bp-Ch]@2
  int v37; // [sp+30h] [bp-8h]@11
  int v38; // [sp+34h] [bp-4h]@43

  v2 = this;
  switch ( a2 )
  {
    case 4:
      sub_100402E7(this + 36, (int)&v36);
      sub_100402E7(v2 + 36, (int)&a2);
      v3 = a2;
      if ( (v36 | a2) & 0xFFFFFF00 )
        goto LABEL_3;
      *(_DWORD *)(v2 + 172) = 0;
      v4 = v3 | 0xFFFFFE00;
      goto LABEL_6;
    case 31:
      goto LABEL_7;
    case 5:
      sub_100402E7(this + 36, (int)&v36);
      sub_100402E7(v2 + 36, (int)&a2);
      v5 = a2;
      if ( (v36 | a2) & 0xFFFFFF00 )
      {
LABEL_3:
        v20 = "invalid version";
LABEL_4:
        sub_10038A01(v2, v20);
      }
      else
      {
        *(_DWORD *)(v2 + 172) = 1;
        v4 = v5 | 0xFFFFFF00;
LABEL_6:
        *(_DWORD *)(v2 + 180) = v36 | (v4 << 8);
LABEL_7:
        *(_DWORD *)(v2 + 988) = *(_DWORD *)(v2 + 464);
      }
      goto LABEL_94;
    case 10:
      sub_100402E7(this + 68, (int)&a2);
      sub_100402E7(v2 + 52, (int)&v30);
      sub_100402E7(v2 + 52, (int)&v29);
      sub_100402E7(v2 + 52, (int)&v28);
      sub_100402E7(v2 + 52, (int)&v27);
      sub_10039739(v2, a2, (int)&v27);
      goto LABEL_94;
    case 13:
      sub_100402E7(this + 84, (int)&v33);
      sub_100402E7(v2 + 84, (int)&v37);
      sub_10040279(v2 + 116, v37);
      *(_DWORD *)(v2 + 160) += 4;
      goto LABEL_94;
    case 14:
      sub_100402E7(this + 68, (int)&a2);
      sub_100402E7(v2 + 84, (int)&v33);
      sub_100402E7(v2 + 84, (int)&v37);
      sub_10040279(v2 + 116, v37);
      sub_10040279(v2 + 116, a2 | v33);
      *(_DWORD *)(v2 + 160) += 8;
      goto LABEL_94;
    case 15:
      sub_100402E7(this + 68, (int)&v36);
      sub_100402E7(v2 + 68, (int)&a2);
      sub_100402E7(v2 + 84, (int)&v33);
      sub_100402E7(v2 + 84, (int)&v37);
      sub_10040279(v2 + 116, v37);
      sub_10040279(v2 + 116, a2 | v33);
      sub_10040279(v2 + 116, v36);
      *(_DWORD *)(v2 + 160) += 12;
      goto LABEL_94;
    case 16:
      sub_100402E7(this + 68, (int)&v32);
      sub_100402E7(v2 + 68, (int)&v36);
      sub_100402E7(v2 + 68, (int)&a2);
      sub_100402E7(v2 + 84, (int)&v33);
      sub_100402E7(v2 + 84, (int)&v37);
      if ( !*(_DWORD *)(v2 + 172) && (unsigned __int16)v37 == 3 )
      {
        v32 ^= 0x1000000u;
        v37 = v37 & 0xFFFF0002 | 2;
      }
      sub_10040279(v2 + 116, v37);
      sub_10040279(v2 + 116, a2 | v33);
      sub_10040279(v2 + 116, v36);
      sub_10040279(v2 + 116, v32);
      *(_DWORD *)(v2 + 160) += 16;
      goto LABEL_94;
    case 17:
      sub_100402E7(this + 68, (int)&v31);
      sub_100402E7(v2 + 68, (int)&v32);
      sub_100402E7(v2 + 68, (int)&v36);
      sub_100402E7(v2 + 68, (int)&a2);
      sub_100402E7(v2 + 84, (int)&v33);
      sub_100402E7(v2 + 84, (int)&v37);
      sub_10040279(v2 + 116, v37);
      sub_10040279(v2 + 116, a2 | v33);
      sub_10040279(v2 + 116, v36);
      sub_10040279(v2 + 116, v32);
      sub_10040279(v2 + 116, v31);
      *(_DWORD *)(v2 + 160) += 20;
      goto LABEL_94;
    case 18:
      v6 = this + 68;
      sub_100402E7(this + 68, (int)&a2);
      BYTE2(a2) |= 0xFu;
      goto LABEL_20;
    case 19:
      sub_1004041A(this, (int)ArgList);
      sub_100402E7(v2 + 20, v2 + 996);
      v7 = v2 + 68;
      *(_DWORD *)(v2 + 992) = 1;
      sub_100402E7(v2 + 68, (int)&a2);
      v8 = sub_1003924E((void *)v2, *(unsigned int *)ArgList);
      v9 = a2 & 0xFFF0FFFF | v8;
      a2 = v9;
      goto LABEL_22;
    case 20:
      sub_100402E7(this + 68, (int)&a2);
      sub_10040279(v2 + 68, a2);
      if ( *(_DWORD *)(v2 + 180) != -65276 || (a2 & 0x70000000) != 536870912 || !(BYTE3(a2) & 0xF) )
        goto LABEL_94;
      v20 = "constant modifiers not supported in ps.1.4";
      goto LABEL_4;
    case 21:
      v6 = this + 68;
      sub_100402E7(this + 68, (int)&a2);
      if ( *(_DWORD *)(v2 + 180) == -65276 && (a2 & 0x70000000) == 536870912 )
      {
        v22 = "constant modifiers not supported in ps.1.4";
LABEL_30:
        sub_10038A01(v2, v22);
        goto LABEL_20;
      }
      v10 = a2 & 0xF000000;
      if ( !(a2 & 0xF000000) )
      {
        v11 = a2 & 0xF1FFFFFF | 0x1000000;
        goto LABEL_42;
      }
      if ( v10 == 33554432 )
      {
        v11 = a2 & 0xF3FFFFFF | 0x3000000;
        goto LABEL_42;
      }
      if ( v10 == 67108864 )
      {
        v11 = a2 & 0xF5FFFFFF | 0x5000000;
        goto LABEL_42;
      }
      if ( v10 == 117440512 )
      {
        v11 = a2 & 0xF8FFFFFF | 0x8000000;
LABEL_42:
        a2 = v11;
        goto LABEL_20;
      }
      if ( v10 == 150994944 || v10 == 167772160 )
      {
        v22 = "negate and divide modifiers cannot be combined";
        goto LABEL_30;
      }
LABEL_20:
      v21 = a2;
LABEL_63:
      v16 = v6;
LABEL_93:
      sub_10040279(v16, v21);
LABEL_94:
      if ( sub_1004044E(v2) < 0
        || sub_1004031B(v2 + 20) < 0
        || sub_1004031B(v2 + 36) < 0
        || sub_1004031B(v2 + 68) < 0
        || sub_1004031B(v2 + 116) < 0
        || (result = sub_1004031B(v2 + 52), result < 0) )
        result = sub_10038A01(v2, "Internal assembler error! %d", 955);
      return result;
    case 22:
      sub_100402E7(this + 36, (int)&v38);
      v6 = v2 + 68;
      sub_100402E7(v2 + 68, (int)&a2);
      if ( *(_DWORD *)(v2 + 172) )
      {
        if ( *(_DWORD *)(v2 + 180) != -65276 || (a2 & 0x70000000) != 536870912 )
        {
          if ( !(BYTE3(a2) & 0xF) )
            goto LABEL_51;
          v23 = "complement cannot be used with other modifiers";
        }
        else
        {
          v23 = "constant modifiers not supported in ps.1.4";
        }
      }
      else
      {
        v23 = "complement not supported in vertex shaders";
      }
      sub_10038A01(v2, v23);
LABEL_51:
      v12 = a2 & 0xF6FFFFFF | 0x6000000;
      a2 = a2 & 0xF6FFFFFF | 0x6000000;
LABEL_52:
      v21 = v12;
      goto LABEL_63;
    case 23:
      v6 = this + 68;
      sub_100402E7(this + 68, (int)&a2);
      v12 = a2 & 0xFFE4FFFF | 0xE40000;
      goto LABEL_52;
    case 24:
      sub_1004041A(this, (int)ArgList);
      sub_100402E7(v2 + 20, v2 + 996);
      v7 = v2 + 68;
      *(_DWORD *)(v2 + 992) = 1;
      sub_100402E7(v2 + 68, (int)&a2);
      v13 = sub_100392F7((void *)v2, *(int *)ArgList);
      v9 = a2 & 0xFF00FFFF | v13;
      goto LABEL_22;
    case 25:
      sub_1004041A(this, (int)ArgList);
      sub_100402E7(v2 + 20, v2 + 996);
      v14 = *(int **)ArgList;
      *(_DWORD *)(v2 + 992) = 1;
      v15 = sub_10039398((void *)v2, v14, 0, 0);
      sub_10040279(v2 + 68, v15 | 0x80000000);
      sub_10001610(*(int *)ArgList);
      *(_DWORD *)(v2 + 992) = 0;
      goto LABEL_94;
    case 26:
      sub_1004041A(this, (int)ArgList);
      sub_100402E7(v2 + 20, v2 + 996);
      v7 = v2 + 68;
      *(_DWORD *)(v2 + 992) = 1;
      sub_100402E7(v2 + 68, (int)&v38);
      v9 = sub_10039398((void *)v2, *(int **)ArgList, v38, 1) | 0x80000000;
LABEL_22:
      sub_10040279(v7, v9);
      sub_10001610(*(int *)ArgList);
      *(_DWORD *)(v2 + 992) = 0;
      goto LABEL_94;
    case 27:
      v6 = this + 68;
      sub_100402E7(this + 68, (int)&v38);
      if ( *(_DWORD *)(v2 + 172) )
      {
        v24 = "syntax error";
      }
      else
      {
        if ( v38 == -1342177280 )
          goto LABEL_62;
        v24 = "illegal register in index expression";
      }
      sub_10038A01(v2, v24);
LABEL_62:
      v21 = 8192;
      goto LABEL_63;
    case 28:
      sub_100402E7(this + 36, (int)&v38);
      if ( v38 & 0xFFFFE000 )
        sub_10038A01(v2, "illegal register number");
      v21 = v38;
      v16 = v2 + 68;
      goto LABEL_93;
    case 29:
      v17 = this + 68;
      sub_100402E7(this + 68, (int)&a2);
      sub_100402E7(v2 + 68, (int)&v38);
      if ( *(_DWORD *)(v2 + 172) )
      {
        v25 = "syntax error";
      }
      else
      {
        if ( v38 == -1342177280 )
        {
          if ( !(a2 & 0x2000) )
            goto LABEL_74;
          v25 = "a0.x can only appear once in an index expression";
        }
        else
        {
          v25 = "illegal register in index expression";
        }
      }
      sub_10038A01(v2, v25);
LABEL_74:
      v21 = a2 | 0x2000;
LABEL_78:
      v16 = v17;
      goto LABEL_93;
    case 30:
      sub_100402E7(this + 36, (int)&v38);
      v17 = v2 + 68;
      sub_100402E7(v2 + 68, (int)&a2);
      if ( (v38 + (a2 & 0x1FFF)) & 0xFFFFE000 )
        sub_10038A01(v2, "illegal register number");
      v21 = a2 ^ (a2 ^ (a2 + v38)) & 0x1FFF;
      goto LABEL_78;
    case 32:
    case 34:
    case 36:
    case 38:
    case 40:
      v26 = *(_DWORD *)(this + 456);
      goto LABEL_80;
    case 33:
    case 35:
    case 37:
    case 39:
    case 41:
      if ( !*(_DWORD *)(this + 172) )
        sub_10038A01(this, "coissue not supported in vertex shaders");
      v26 = *(_DWORD *)(v2 + 456) | 0x40000000;
LABEL_80:
      sub_10040279(v2 + 84, v26);
      sub_10040279(v2 + 84, *(_DWORD *)(v2 + 460));
      sub_100398B8(v2);
      goto LABEL_94;
    case 42:
    case 43:
      sub_100402E7(this + 36, (int)&v38);
      v18 = (double)(unsigned int)v38;
      goto LABEL_86;
    case 44:
      sub_100402E7(this + 36, (int)&v38);
      v18 = -(double)(unsigned int)v38;
LABEL_86:
      *(float *)&v34 = v18;
      goto LABEL_91;
    case 47:
      sub_100402E7(this + 52, (int)&v34);
      v16 = v2 + 52;
      *(float *)&v34 = -*(float *)&v34;
      goto LABEL_92;
    case 48:
      sub_10040367(this, (const char *)(this + 200));
      v21 = *(_DWORD *)(v2 + 464);
      v16 = v2 + 20;
      goto LABEL_93;
    case 49:
      v21 = atoi((const char *)(this + 200));
      v16 = v2 + 36;
      goto LABEL_93;
    case 50:
      sscanf((const char *)(this + 200), "%f", &v34);
LABEL_91:
      v16 = v2 + 52;
LABEL_92:
      v21 = v34;
      goto LABEL_93;
    default:
      goto LABEL_94;
  }
}

//----- (1003A87E) --------------------------------------------------------
signed int __cdecl sub_1003A87E()
{
  signed int v0; // esi@1
  signed int v1; // eax@2
  int v2; // ecx@3
  int v3; // ecx@8
  signed int v4; // edi@9
  int v5; // ecx@10
  int v6; // eax@12
  int v7; // ecx@16
  int v8; // ecx@18
  int v9; // edi@20
  int v10; // esi@20
  int v11; // ebx@20
  int v12; // edx@71
  int v13; // eax@71
  int v14; // ecx@71
  int v15; // eax@73
  bool v16; // zf@73
  int v18; // esi@78
  int v19; // edx@78
  int v20; // edx@79
  int v21; // edx@81
  int v22; // eax@85
  int v23; // eax@85
  unsigned int i; // ecx@89
  int v25; // eax@91
  int v26; // [sp-4h] [bp-14h]@21

  v0 = 0;
  dword_100853A8 = 0;
  dword_100853A4 = 0;
  dword_1008539C = (int)&word_10084FA8;
  dword_10085398 = (int)&unk_100847D8;
  word_10084FA8 = 0;
  while ( 2 )
  {
    v1 = -1;
    dword_100853A0 = -1;
    while ( 1 )
    {
      while ( 1 )
      {
        v2 = word_10080508[v0];
        if ( !word_10080508[v0] )
          break;
LABEL_20:
        v9 = v2;
        v10 = word_100804A0[v2];
        v11 = 4 * word_100804A0[v2];
        dword_10085394 = *(_DWORD *)(dword_10085398 - v11 + 4);
        switch ( v2 )
        {
          case 1:
            v26 = 0;
            goto LABEL_70;
          case 2:
            v26 = 1;
            goto LABEL_70;
          case 3:
            v26 = 4;
            goto LABEL_70;
          case 4:
            v26 = 5;
            goto LABEL_70;
          case 5:
            v26 = 6;
            goto LABEL_70;
          case 6:
            v26 = 7;
            goto LABEL_70;
          case 7:
            v26 = 8;
            goto LABEL_70;
          case 8:
            v26 = 9;
            goto LABEL_70;
          case 9:
            v26 = 10;
            goto LABEL_70;
          case 10:
            v26 = 11;
            goto LABEL_70;
          case 11:
            v26 = 12;
            goto LABEL_70;
          case 12:
            v26 = 13;
            goto LABEL_70;
          case 13:
            v26 = 14;
            goto LABEL_70;
          case 14:
            v26 = 15;
            goto LABEL_70;
          case 15:
            v26 = 16;
            goto LABEL_70;
          case 16:
            v26 = 17;
            goto LABEL_70;
          case 17:
            v26 = 18;
            goto LABEL_70;
          case 18:
            v26 = 19;
            goto LABEL_70;
          case 19:
            v26 = 20;
            goto LABEL_70;
          case 20:
            v26 = 21;
            goto LABEL_70;
          case 21:
            v26 = 22;
            goto LABEL_70;
          case 22:
            v26 = 23;
            goto LABEL_70;
          case 23:
            v26 = 24;
            goto LABEL_70;
          case 24:
            v26 = 25;
            goto LABEL_70;
          case 25:
            v26 = 26;
            goto LABEL_70;
          case 26:
            v26 = 27;
            goto LABEL_70;
          case 27:
            v26 = 28;
            goto LABEL_70;
          case 28:
            v26 = 29;
            goto LABEL_70;
          case 29:
            v26 = 30;
            goto LABEL_70;
          case 30:
            v26 = 31;
            goto LABEL_70;
          case 31:
            v26 = 32;
            goto LABEL_70;
          case 32:
            v26 = 33;
            goto LABEL_70;
          case 33:
            v26 = 34;
            goto LABEL_70;
          case 34:
            v26 = 35;
            goto LABEL_70;
          case 35:
            v26 = 36;
            goto LABEL_70;
          case 36:
            v26 = 37;
            goto LABEL_70;
          case 37:
            v26 = 38;
            goto LABEL_70;
          case 38:
            v26 = 39;
            goto LABEL_70;
          case 39:
            v26 = 40;
            goto LABEL_70;
          case 40:
            v26 = 41;
            goto LABEL_70;
          case 41:
            v26 = 42;
            goto LABEL_70;
          case 42:
            v26 = 43;
            goto LABEL_70;
          case 43:
            v26 = 44;
            goto LABEL_70;
          case 44:
            v26 = 45;
            goto LABEL_70;
          case 45:
            v26 = 46;
            goto LABEL_70;
          case 46:
            v26 = 47;
            goto LABEL_70;
          case 47:
            v26 = 48;
            goto LABEL_70;
          case 48:
            v26 = 49;
            goto LABEL_70;
          case 49:
            v26 = 50;
LABEL_70:
            sub_10039F47(dword_100853B0, v26);
            break;
          default:
            break;
        }
        v12 = word_10080438[v9];
        v13 = dword_1008539C + -2 * v10;
        dword_1008539C = v13;
        v14 = *(_WORD *)v13;
        dword_10085398 -= v11;
        if ( v14 || v12 )
        {
          v18 = v12;
          v19 = word_10080790[v12];
          if ( v19 && (v20 = v14 + v19, v20 >= 0) && v20 <= 263 && (v21 = v20, word_100809D0[v21] == v14) )
            v0 = word_100807C0[v21];
          else
            v0 = word_100805D0[v18];
          if ( v13 >= (unsigned int)&unk_1008538E )
            goto LABEL_101;
          v22 = v13 + 2;
          dword_1008539C = v22;
          *(_WORD *)v22 = v0;
          v23 = dword_10085394;
LABEL_98:
          dword_10085398 += 4;
          *(_DWORD *)dword_10085398 = v23;
          v1 = dword_100853A0;
        }
        else
        {
          v15 = v13 + 2;
          dword_1008539C = v15;
          v0 = 3;
          *(_WORD *)v15 = 3;
          dword_10085398 += 4;
          *(_DWORD *)dword_10085398 = dword_10085394;
          v1 = dword_100853A0;
          v16 = dword_100853A0 == 0;
          if ( dword_100853A0 < 0 )
          {
            v1 = sub_10039A2F(dword_100853B0);
            v16 = v1 == 0;
            dword_100853A0 = v1;
            if ( v1 < 0 )
            {
              v1 = 0;
              dword_100853A0 = 0;
              v16 = 1;
            }
          }
          if ( v16 )
            return 0;
        }
      }
      if ( v1 < 0 )
      {
        v1 = sub_10039A2F(dword_100853B0);
        dword_100853A0 = v1;
        if ( v1 < 0 )
        {
          v1 = 0;
          dword_100853A0 = 0;
        }
      }
      if ( !word_10080600[v0] )
        break;
      v3 = v1 + word_10080600[v0];
      if ( v3 < 0 )
        break;
      v4 = 263;
      if ( v3 > 263 || (v5 = v3, word_100809D0[v5] != v1) )
        goto LABEL_15;
      if ( dword_1008539C >= (unsigned int)&unk_1008538E )
        goto LABEL_101;
      v0 = word_100807C0[v5];
      v6 = dword_1008539C + 2;
      dword_1008539C = v6;
      *(_WORD *)v6 = v0;
      dword_10085398 += 4;
      *(_DWORD *)dword_10085398 = dword_10085390;
      v1 = -1;
      dword_100853A0 = -1;
      if ( dword_100853A4 > 0 )
        --dword_100853A4;
    }
    v4 = 263;
LABEL_15:
    if ( word_100806C8[v0] )
    {
      v7 = v1 + word_100806C8[v0];
      if ( v7 >= 0 )
      {
        if ( v7 <= v4 )
        {
          v8 = v7;
          if ( word_100809D0[v8] == v1 )
          {
            v2 = word_100807C0[v8];
            goto LABEL_20;
          }
        }
      }
    }
    if ( !dword_100853A4 )
    {
      sub_10038A01(dword_100853B0, "syntax error");
      ++dword_100853A8;
      v1 = dword_100853A0;
    }
    if ( dword_100853A4 >= 3 )
    {
      if ( !v1 )
        return 1;
      continue;
    }
    break;
  }
  dword_100853A4 = 3;
  for ( i = dword_1008539C; ; dword_1008539C = i )
  {
    if ( word_10080600[*(_WORD *)i] )
    {
      v25 = word_10080600[*(_WORD *)i] + 256;
      if ( v25 >= 0 )
      {
        if ( v25 <= v4 && word_100809D0[v25] == 256 )
          break;
      }
    }
    if ( i <= (unsigned int)&word_10084FA8 )
      return 1;
    i -= 2;
    dword_10085398 -= 4;
  }
  if ( i < (unsigned int)&unk_1008538E )
  {
    v0 = word_100807C0[v25];
    dword_1008539C = i + 2;
    *(_WORD *)(i + 2) = v0;
    v23 = dword_10085390;
    goto LABEL_98;
  }
LABEL_101:
  sub_10038A01(dword_100853B0, "yacc stack overflow");
  return 1;
}
// 10080438: using guessed type __int16 word_10080438[];
// 100804A0: using guessed type __int16 word_100804A0[];
// 10080508: using guessed type __int16 word_10080508[];
// 100805D0: using guessed type __int16 word_100805D0[];
// 10080600: using guessed type __int16 word_10080600[];
// 100806C8: using guessed type __int16 word_100806C8[];
// 10080790: using guessed type __int16 word_10080790[];
// 100807C0: using guessed type __int16 word_100807C0[];
// 100809D0: using guessed type __int16 word_100809D0[];
// 10084FA8: using guessed type __int16 word_10084FA8;
// 10085390: using guessed type int dword_10085390;
// 10085394: using guessed type int dword_10085394;
// 10085398: using guessed type int dword_10085398;
// 1008539C: using guessed type int dword_1008539C;
// 100853A0: using guessed type int dword_100853A0;
// 100853A4: using guessed type int dword_100853A4;
// 100853A8: using guessed type int dword_100853A8;

//----- (1003AD37) --------------------------------------------------------
signed int __userpurge sub_1003AD37<eax>(int a1<ecx>, int a2<edi>, char *Memory, BYTE Data, int a5, int a6, DWORD Type, int lpMem, HKEY hKey, int a10)
{
  DWORD v10; // esi@1
  int v11; // ebx@1
  int v12; // ecx@8
  signed int v13; // eax@9
  int v14; // eax@11
  int v15; // edx@12
  char v16; // cl@13
  char *v17; // eax@16
  char *v18; // eax@16
  char *v19; // esi@17
  signed int v20; // ecx@17
  bool v21; // zf@17
  const char *v22; // esi@27
  signed int v23; // ecx@27
  bool v24; // zf@27
  int v25; // eax@36
  int v26; // eax@40
  bool v27; // sf@40
  unsigned __int8 v28; // of@40
  int v29; // eax@40
  int v30; // ecx@41
  int v31; // eax@50
  int v32; // esi@51
  signed int result; // eax@57
  int v34; // edx@58
  void *v35; // edi@58
  DWORD v36; // edx@58
  int i; // esi@61
  LSTATUS v38; // edi@68
  LSTATUS v39; // eax@69
  HMODULE v40; // eax@74
  int v41; // eax@80
  int v42; // eax@80
  int v43; // eax@82
  DWORD v44; // ST14_4@87
  HANDLE v45; // eax@87
  signed int v46; // [sp-4h] [bp-40h]@41
  char v47; // [sp+Ch] [bp-30h]@48
  DWORD v48; // [sp+38h] [bp-4h]@36
  const char *Memorya; // [sp+44h] [bp+8h]@16

  v10 = 0;
  v11 = a1;
  if ( lpMem )
    *(_DWORD *)lpMem = 0;
  if ( hKey )
    *(_DWORD *)hKey = 0;
  if ( a10 )
    *(_DWORD *)a10 = 0;
  if ( !Memory || (v12 = Data) == 0 )
    return -2005530516;
  *(_DWORD *)(v11 + 184) = Memory;
  *(_DWORD *)(v11 + 188) = Memory;
  *(_DWORD *)(v11 + 192) = Memory;
  *(_DWORD *)(v11 + 196) = &Memory[v12];
  v13 = a6;
  if ( !a6 )
    v13 = 1;
  *(_DWORD *)(v11 + 464) = v13;
  *(_DWORD *)(v11 + 176) = Type & 1;
  v14 = a5;
  v21 = a5 == 0;
  *(_DWORD *)(v11 + 984) = 0;
  *(_DWORD *)(v11 + 988) = 0;
  *(_DWORD *)(v11 + 992) = 0;
  *(_DWORD *)(v11 + 996) = 0;
  *(_DWORD *)(v11 + 172) = 0;
  *(_DWORD *)(v11 + 180) = 0;
  if ( v21 )
  {
    *(_BYTE *)(v11 + 468) = 0;
    sub_100397E2(v11);
  }
  else
  {
    v15 = v11 + 468 - v14;
    do
    {
      v16 = *(_BYTE *)v14;
      *(_BYTE *)(v15 + v14) = *(_BYTE *)v14;
      ++v14;
    }
    while ( v16 );
  }
  *(_BYTE *)(v11 + 728) = 0;
  *(_DWORD *)(v11 + 724) = 0;
  v17 = setlocale(4, 0);
  v18 = strdup(v17);
  Memorya = v18;
  if ( v18 )
  {
    v19 = v18;
    a2 = (int)"C";
    v20 = 2;
    v21 = 1;
    do
    {
      if ( !v20 )
        break;
      v21 = *v19++ == *(_BYTE *)a2++;
      --v20;
    }
    while ( v21 );
    if ( v21 )
    {
      v10 = 0;
      goto LABEL_24;
    }
    v10 = 0;
  }
  setlocale(4, "C");
LABEL_24:
  if ( sub_1003A87E() )
    *(_DWORD *)(v11 + 152) = 1;
  if ( Memorya != (const char *)v10 )
  {
    v22 = Memorya;
    a2 = (int)"C";
    v23 = 2;
    v24 = 1;
    do
    {
      if ( !v23 )
        break;
      v24 = *v22++ == *(_BYTE *)a2++;
      --v23;
    }
    while ( v24 );
    if ( !v24 )
      setlocale(4, Memorya);
    free((void *)Memorya);
    v10 = 0;
  }
  if ( *(_DWORD *)(v11 + 152) != v10 )
    goto LABEL_89;
  if ( lpMem != v10 && *(_DWORD *)(v11 + 172) == v10 )
  {
    v25 = sub_100015F0(16);
    v48 = v10;
    if ( v25 == v10 )
      a2 = 0;
    else
      a2 = sub_1004080E(v25);
    v48 = -1;
    if ( a2 == v10 )
      return -2147024882;
    v26 = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)a2 + 24))(a2, *(_DWORD *)(v11 + 156));
    Memorya = (const char *)v26;
    v28 = __OFSUB__(v26, v10);
    v27 = ((v26 - v10) & 0x80000000u) != 0;
    v29 = *(_DWORD *)a2;
    if ( v27 ^ v28 )
    {
      v46 = 1;
      v30 = a2;
LABEL_56:
      (*(void (__thiscall **)(int, signed int))(v29 + 20))(v30, v46);
      return -2147024882;
    }
    *(_DWORD *)&Data = (*(int (__stdcall **)(int))(v29 + 12))(a2);
    while ( *(_DWORD *)(v11 + 156) != v10 )
    {
      *(_DWORD *)(v11 + 156) -= 4;
      sub_100402E7(v11 + 100, Data + *(_DWORD *)(v11 + 156));
    }
    *(_DWORD *)lpMem = a2;
  }
  if ( *(_DWORD *)(v11 + 152) != v10 )
    goto LABEL_89;
  if ( hKey != (HKEY)v10 )
  {
    *(_DWORD *)&Data = *(_DWORD *)(v11 + 160);
    v21 = *(_DWORD *)(v11 + 172) == 0;
    memcpy(&v47, "D3DX8 Shader Assembler Version 0.91", 0x24u);
    lpMem = Data + 48;
    if ( !v21 )
      lpMem = *(_DWORD *)(v11 + 156) + Data + 48;
    v31 = sub_100015F0(16);
    v48 = 1;
    if ( v31 )
      v32 = sub_1004080E(v31);
    else
      v32 = 0;
    v48 = -1;
    a6 = v32;
    a5 = v32;
    if ( !v32 )
      return -2147024882;
    Memorya = (const char *)(*(int (__thiscall **)(int, int))(*(_DWORD *)v32 + 24))(v32, lpMem);
    if ( (signed int)Memorya < 0 )
    {
      v29 = *(_DWORD *)v32;
      v46 = 1;
      v30 = v32;
      goto LABEL_56;
    }
    v34 = (*(int (__stdcall **)(int))(*(_DWORD *)a6 + 12))(a6);
    *(_DWORD *)v34 = *(_DWORD *)(v11 + 180);
    *(_DWORD *)(v34 + 4) = 655358;
    memset((void *)(v34 + 8), 0, 0x24u);
    v35 = (void *)(v34 + 8);
    v36 = lpMem + v34;
    v21 = Data == 0;
    memcpy(v35, &v47, 0x24u);
    *(_DWORD *)(v36 - 4) = 65535;
    a2 = v36 - 8;
    if ( !v21 )
    {
      do
      {
        sub_100402E7(v11 + 116, a2);
        a2 -= 4;
        *(_DWORD *)&Data = Data - 4;
      }
      while ( Data );
    }
    if ( *(_DWORD *)(v11 + 172) )
    {
      for ( i = v11 + 156; *(_DWORD *)i; *(_DWORD *)i -= 4 )
      {
        sub_100402E7(v11 + 100, a2);
        a2 -= 4;
      }
    }
    *(_DWORD *)hKey = a6;
    v10 = 0;
  }
  if ( *(_DWORD *)(v11 + 152) != v10 || Type & 2 )
    goto LABEL_89;
  if ( *(_DWORD *)(v11 + 160) != v10 )
  {
    v38 = 0;
    if ( RegOpenKeyA(HKEY_LOCAL_MACHINE, "SOFTWARE\\Microsoft\\Direct3D", &hKey) )
      goto LABEL_96;
    lpMem = 4;
    v39 = RegQueryValueExA(hKey, "LoadDebugRuntime", (LPDWORD)v10, &Type, &Data, (LPDWORD)&lpMem);
    if ( !v39 && Type == 4 && lpMem == 4 )
    {
      LOBYTE(v39) = Data != v10;
      v38 = v39;
    }
    RegCloseKey(hKey);
    if ( v38 == v10
      || (v40 = GetModuleHandleA("d3d8d.dll"), v40 == (HMODULE)v10)
      && (v40 = LoadLibraryA("d3d8d.dll"), v40 == (HMODULE)v10) )
    {
LABEL_96:
      a2 = (int)"d3d8.dll";
      v40 = GetModuleHandleA("d3d8.dll");
      if ( v40 == (HMODULE)v10 )
      {
        v40 = LoadLibraryA("d3d8.dll");
        if ( v40 == (HMODULE)v10 )
          goto LABEL_89;
      }
    }
    a2 = a10 != 0 ? (int)&lpMem : 0;
    lpMem = v10;
    v21 = *(_DWORD *)(v11 + 172) == v10;
    Type = a10 != v10;
    if ( v21 )
    {
      *(_DWORD *)&Data = GetProcAddress(v40, "ValidateVertexShader");
      if ( Data != v10 )
      {
        v43 = (*(int (__stdcall **)(int, DWORD, DWORD, DWORD, int))(*(_DWORD *)a5 + 12))(a5, v10, v10, Type, a2);
        v42 = ((int (__stdcall *)(int))Data)(v43);
        goto LABEL_83;
      }
    }
    else
    {
      *(_DWORD *)&Data = GetProcAddress(v40, "ValidatePixelShader");
      if ( Data != v10 )
      {
        v41 = (*(int (__stdcall **)(int, DWORD, DWORD, int))(*(_DWORD *)a5 + 12))(a5, v10, Type, a2);
        v42 = ((int (__stdcall *)(int))Data)(v41);
LABEL_83:
        Memorya = (const char *)v42;
        goto LABEL_84;
      }
    }
LABEL_84:
    if ( (signed int)Memorya < (signed int)v10 )
      *(_DWORD *)(v11 + 152) = 1;
    if ( lpMem != v10 )
    {
      sub_10040367(v11 + 132, (const char *)lpMem);
      v44 = lpMem;
      ++*(_DWORD *)(v11 + 164);
      v45 = GetProcessHeap();
      HeapFree(v45, v10, (LPVOID)v44);
    }
    goto LABEL_89;
  }
  sub_10038A01(v11, "statement expected");
LABEL_89:
  if ( *(_DWORD *)(v11 + 164) == v10
    || a10 == v10
    || (result = sub_10040456(v11 + 132, a2, a10), result >= (signed int)v10) )
    result = *(_DWORD *)(v11 + 152) != 0 ? 0x88760B59 : 0;
  return result;
}

//----- (1003B215) --------------------------------------------------------
int __thiscall sub_1003B215(HGDIOBJ *this)
{
  HGDIOBJ *v1; // esi@1

  v1 = this;
  if ( *this )
    DeleteObject(*this);
  *v1 = 0;
  v1[1] = 0;
  v1[2] = 0;
  return 0;
}

//----- (1003B234) --------------------------------------------------------
signed int __thiscall sub_1003B234(HGDIOBJ *this, HMODULE hModule, LPCWSTR lpName, int a4, int a5)
{
  HGDIOBJ *v5; // ebx@1
  void *v6; // edi@3
  HRSRC v7; // esi@6
  DWORD v8; // eax@8
  HGLOBAL v9; // eax@9
  LPVOID v10; // eax@10
  signed int result; // eax@11

  v5 = this;
  if ( *this )
    sub_1003B215(this);
  v6 = FindResourceW;
  if ( !a5 )
    v6 = FindResourceA;
  if ( (a4 && (v7 = ((HRSRC (__stdcall *)(HMODULE, LPCWSTR, LPCWSTR))v6)(hModule, lpName, (LPCWSTR)2)) != 0
     || (v7 = ((HRSRC (__stdcall *)(HMODULE, LPCWSTR, LPCWSTR))v6)(hModule, lpName, (LPCWSTR)0xA)) != 0)
    && (v8 = SizeofResource(hModule, v7), (v5[2] = (HGDIOBJ)v8) != 0)
    && (v9 = LoadResource(hModule, v7), (*v5 = v9) != 0)
    && (v10 = LockResource(v9), (v5[1] = v10) != 0) )
  {
    result = 0;
  }
  else
  {
    GetLastError();
    result = -2005529767;
  }
  return result;
}

//----- (1003B2D0) --------------------------------------------------------
int __cdecl sub_1003B2D0(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 112) = sub_10042100;
  *(_DWORD *)a1 = sub_10040920;
  *(_DWORD *)(a1 + 52) = sub_10041E80;
  *(_DWORD *)(a1 + 108) = sub_10041F70;
  *(_DWORD *)(a1 + 44) = sub_10041DB0;
  *(_DWORD *)(a1 + 192) = sub_10041C00;
  *(_DWORD *)(a1 + 188) = sub_10041820;
  *(_DWORD *)(a1 + 68) = sub_10041AC0;
  *(_DWORD *)(a1 + 216) = sub_10041BB0;
  *(_DWORD *)(a1 + 212) = sub_100418B0;
  *(_DWORD *)(a1 + 208) = sub_10041A20;
  *(_DWORD *)(a1 + 204) = sub_10041B50;
  *(_DWORD *)(a1 + 200) = sub_10041760;
  *(_DWORD *)(a1 + 196) = sub_10041960;
  *(_DWORD *)(a1 + 72) = sub_100410E0;
  *(_DWORD *)(a1 + 88) = sub_10041C60;
  *(_DWORD *)(a1 + 100) = sub_100424A0;
  *(_DWORD *)(a1 + 96) = sub_10042380;
  *(_DWORD *)(a1 + 76) = sub_100421E0;
  *(_DWORD *)(a1 + 176) = sub_10042310;
  *(_DWORD *)(a1 + 80) = sub_10042270;
  *(_DWORD *)(a1 + 64) = sub_10041500;
  *(_DWORD *)(a1 + 84) = sub_10040F60;
  *(_DWORD *)(a1 + 32) = sub_100415B0;
  *(_DWORD *)(a1 + 28) = sub_10040E90;
  *(_DWORD *)(a1 + 40) = sub_10040B80;
  *(_DWORD *)(a1 + 36) = sub_10040960;
  *(_DWORD *)(a1 + 24) = sub_10040A00;
  *(_DWORD *)(a1 + 20) = sub_100409C0;
  *(_DWORD *)(a1 + 16) = sub_100413A0;
  *(_DWORD *)(a1 + 12) = sub_10040D40;
  *(_DWORD *)(a1 + 8) = sub_10040C80;
  *(_DWORD *)(a1 + 4) = sub_10040AC0;
  return result;
}
// 10042380: using guessed type int __stdcall sub_10042380(int, int);

//----- (1003B3E0) --------------------------------------------------------
int __cdecl sub_1003B3E0(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 112) = sub_10043580;
  *(_DWORD *)a1 = sub_10040920;
  *(_DWORD *)(a1 + 52) = sub_10043300;
  *(_DWORD *)(a1 + 108) = sub_100433F0;
  *(_DWORD *)(a1 + 44) = sub_10043230;
  *(_DWORD *)(a1 + 192) = sub_10041C00;
  *(_DWORD *)(a1 + 188) = sub_10041820;
  *(_DWORD *)(a1 + 68) = sub_10041AC0;
  *(_DWORD *)(a1 + 216) = sub_10041BB0;
  *(_DWORD *)(a1 + 212) = sub_100418B0;
  *(_DWORD *)(a1 + 208) = sub_10041A20;
  *(_DWORD *)(a1 + 204) = sub_10041B50;
  *(_DWORD *)(a1 + 200) = sub_10041760;
  *(_DWORD *)(a1 + 196) = sub_10041960;
  *(_DWORD *)(a1 + 72) = sub_10042C50;
  *(_DWORD *)(a1 + 88) = sub_10041C60;
  *(_DWORD *)(a1 + 100) = sub_10043940;
  *(_DWORD *)(a1 + 96) = sub_10043820;
  *(_DWORD *)(a1 + 124) = sub_100431A0;
  *(_DWORD *)(a1 + 120) = sub_10043120;
  *(_DWORD *)(a1 + 76) = sub_100421E0;
  *(_DWORD *)(a1 + 80) = sub_10042270;
  *(_DWORD *)(a1 + 64) = sub_10043070;
  *(_DWORD *)(a1 + 84) = sub_10042AD0;
  *(_DWORD *)(a1 + 32) = sub_100415B0;
  *(_DWORD *)(a1 + 28) = sub_10042A00;
  *(_DWORD *)(a1 + 40) = sub_100426F0;
  *(_DWORD *)(a1 + 36) = sub_10040960;
  *(_DWORD *)(a1 + 24) = sub_10042570;
  *(_DWORD *)(a1 + 20) = sub_100409C0;
  *(_DWORD *)(a1 + 16) = sub_10042F10;
  *(_DWORD *)(a1 + 12) = sub_100428B0;
  *(_DWORD *)(a1 + 8) = sub_100427F0;
  *(_DWORD *)(a1 + 4) = sub_10042630;
  return result;
}
// 10043820: using guessed type int __stdcall sub_10043820(int, int);

//----- (1003B4F0) --------------------------------------------------------
int __cdecl sub_1003B4F0()
{
  int v25; // ecx@3
  bool v26; // zf@3
  int *v27; // esi@3
  int *v28; // edi@3
  signed int v29; // ecx@3
  int v31; // [sp+Ch] [bp-28h]@1
  int v32; // [sp+10h] [bp-24h]@1
  int v33; // [sp+14h] [bp-20h]@1
  char v34; // [sp+18h] [bp-1Ch]@1
  int v35; // [sp+1Ch] [bp-18h]@1
  int v36; // [sp+20h] [bp-14h]@1
  int v37; // [sp+24h] [bp-10h]@1
  char v38; // [sp+28h] [bp-Ch]@1
  int v39; // [sp+2Ch] [bp-8h]@2
  int v40; // [sp+30h] [bp-4h]@1

  v35 = *(_DWORD *)"UnknownVendr";
  v36 = *(_DWORD *)"ownVendr";
  v37 = *(_DWORD *)"endr";
  v38 = aUnknownvendr[12];
  v31 = *(_DWORD *)"AuthenticAMD";
  v32 = *(_DWORD *)"enticAMD";
  v33 = *(_DWORD *)"cAMD";
  v34 = aAuthenticamd[12];
  _EAX = 0;
  __asm { cpuid }
  v40 = 1;
  _EAX = 0;
  __asm { cpuid }
  v35 = _EBX;
  v36 = _EDX;
  v37 = _ECX;
  if ( _EAX )
  {
    _EAX = 1;
    __asm { cpuid }
    v39 = _EAX;
    v40 |= ((_EDX & 0x800000) != 0 ? 0x20 : 0) | 2;
    _EAX = -2147483648;
    __asm { cpuid }
    if ( _EAX > 0x80000000 )
    {
      v40 |= 4u;
      _EAX = -2147483647;
      __asm { cpuid }
      v25 = (_EDX & 0x80000000) != 0 ? 0x80 : 0;
      v26 = (v25 | v40) == 0;
      v40 |= v25;
      v27 = &v31;
      v28 = &v35;
      v29 = 12;
      do
      {
        if ( !v29 )
          break;
        v26 = *(_BYTE *)v27 == *(_BYTE *)v28;
        v27 = (int *)((char *)v27 + 1);
        v28 = (int *)((char *)v28 + 1);
        --v29;
      }
      while ( v26 );
      if ( v26 )
      {
        v40 |= (_EDX & 0x40000000) != 0 ? 0x100 : 0;
        v40 |= (_EDX & 0x400000) != 0 ? 0x200 : 0;
      }
    }
  }
  return v40;
}

//----- (1003B5C5) --------------------------------------------------------
int __cdecl sub_1003B5C5(int a1)
{
  int result; // eax@1

  result = sub_1003B4F0();
  if ( result & 0x20 )
  {
    if ( (char)result < 0 )
    {
      *(_DWORD *)a1 = sub_10049C68;
      *(_DWORD *)(a1 + 4) = sub_100491AA;
      *(_DWORD *)(a1 + 8) = sub_10049F29;
      *(_DWORD *)(a1 + 12) = sub_1004501C;
      *(_DWORD *)(a1 + 20) = sub_10049CBD;
      *(_DWORD *)(a1 + 24) = sub_1004921B;
      *(_DWORD *)(a1 + 28) = sub_10049282;
      *(_DWORD *)(a1 + 32) = sub_10049FAB;
      *(_DWORD *)(a1 + 36) = sub_10049CF6;
      *(_DWORD *)(a1 + 40) = sub_10049762;
      *(_DWORD *)(a1 + 44) = sub_1004524E;
      *(_DWORD *)(a1 + 48) = sub_1004A353;
      *(_DWORD *)(a1 + 52) = sub_1004A396;
      *(_DWORD *)(a1 + 56) = sub_10049767;
      *(_DWORD *)(a1 + 60) = sub_100498EF;
      *(_DWORD *)(a1 + 64) = sub_1004A00A;
      *(_DWORD *)(a1 + 68) = sub_10049D5A;
      *(_DWORD *)(a1 + 72) = sub_1004918E;
      *(_DWORD *)(a1 + 76) = sub_10043A10;
      *(_DWORD *)(a1 + 80) = sub_10043AA9;
      *(_DWORD *)(a1 + 84) = sub_1004A538;
      *(_DWORD *)(a1 + 88) = sub_1004A47A;
      *(_DWORD *)(a1 + 92) = sub_10043B06;
      *(_DWORD *)(a1 + 96) = sub_10043BB9;
      *(_DWORD *)(a1 + 100) = sub_10043FEA;
      *(_DWORD *)(a1 + 104) = sub_1004531D;
      *(_DWORD *)(a1 + 108) = sub_1004536D;
      *(_DWORD *)(a1 + 112) = sub_10045458;
      *(_DWORD *)(a1 + 116) = sub_100440AF;
      *(_DWORD *)(a1 + 120) = sub_10045534;
      *(_DWORD *)(a1 + 124) = sub_10045597;
      *(_DWORD *)(a1 + 128) = sub_100455F5;
      *(_DWORD *)(a1 + 132) = sub_1004564E;
      *(_DWORD *)(a1 + 136) = sub_1004A59C;
      *(_DWORD *)(a1 + 140) = sub_1004411B;
      *(_DWORD *)(a1 + 144) = sub_10044252;
      *(_DWORD *)(a1 + 148) = sub_10045695;
      *(_DWORD *)(a1 + 152) = sub_1004573D;
      *(_DWORD *)(a1 + 156) = sub_100458C4;
      *(_DWORD *)(a1 + 160) = sub_10046A5C;
      *(_DWORD *)(a1 + 164) = sub_10046C01;
      *(_DWORD *)(a1 + 168) = sub_10047135;
      *(_DWORD *)(a1 + 172) = sub_100442DF;
      *(_DWORD *)(a1 + 176) = sub_10044371;
      *(_DWORD *)(a1 + 216) = sub_1004A13C;
      *(_DWORD *)(a1 + 204) = sub_100492E1;
      *(_DWORD *)(a1 + 192) = sub_10049DF2;
      *(_DWORD *)(a1 + 184) = sub_10049E3B;
      *(_DWORD *)(a1 + 208) = sub_1004A1AD;
      *(_DWORD *)(a1 + 196) = sub_10049352;
      *(_DWORD *)(a1 + 220) = sub_100443D5;
      *(_DWORD *)(a1 + 224) = sub_1004447C;
      *(_DWORD *)(a1 + 212) = sub_1004A275;
      *(_DWORD *)(a1 + 188) = sub_10049E7E;
      *(_DWORD *)(a1 + 200) = sub_10049426;
      *(_DWORD *)(a1 + 16) = sub_10048A62;
      *(_DWORD *)(a1 + 180) = sub_100445C3;
      if ( BYTE1(result) & 1 )
      {
        if ( BYTE1(result) & 2 )
        {
          *(_DWORD *)(a1 + 60) = sub_10049B15;
          *(_DWORD *)(a1 + 72) = sub_10048780;
          *(_DWORD *)(a1 + 152) = sub_1004580F;
          *(_DWORD *)(a1 + 156) = sub_1004762C;
          *(_DWORD *)(a1 + 96) = sub_10043DD5;
        }
      }
    }
  }
  return result;
}
// 10043A10: using guessed type int __stdcall sub_10043A10(int, int, int);
// 10043AA9: using guessed type int __stdcall sub_10043AA9(int, int);
// 10043FEA: using guessed type int __stdcall sub_10043FEA(int, int, int, int);
// 100491AA: using guessed type int __stdcall sub_100491AA(int, int, int);
// 1004921B: using guessed type int __stdcall sub_1004921B(int, int, int);
// 10049762: using guessed type int __stdcall sub_10049762(int, int, int);
// 10049C68: using guessed type int __stdcall sub_10049C68(int, int, int);
// 10049CBD: using guessed type int __stdcall sub_10049CBD(int, int, int);
// 10049CF6: using guessed type int __stdcall sub_10049CF6(int, int, int);
// 10049D5A: using guessed type int __stdcall sub_10049D5A(int, int, int, int, int, int);
// 10049DF2: using guessed type int __stdcall sub_10049DF2(int, int, int, int, int, int);
// 10049E3B: using guessed type int __stdcall sub_10049E3B(int, int);
// 10049E7E: using guessed type int __stdcall sub_10049E7E(int, int, int, int, int, int);
// 10049F29: using guessed type int __stdcall sub_10049F29(int, int, int);
// 10049FAB: using guessed type int __stdcall sub_10049FAB(int, int);
// 1004A353: using guessed type int __stdcall sub_1004A353(int, int, int);
// 1004A396: using guessed type int __stdcall sub_1004A396(int, int, int, int);
// 1004A47A: using guessed type int __stdcall sub_1004A47A(int, int, int, int);

//----- (1003B7EB) --------------------------------------------------------
int __stdcall sub_1003B7EB(int a1, int a2, int a3)
{
  _EAX = a2;
  _EDX = a3;
  _ECX = a1;
  __asm
  {
    fld     dword ptr [eax]
    fmul    dword ptr [edx]
    fld     dword ptr [eax]
    fmul    dword ptr [edx+8]
    fld     dword ptr [eax]
    fmul    dword ptr [edx+4]
    fld     dword ptr [eax]
    fmul    dword ptr [edx+0Ch]
    fxch    st(3)
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+10h]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+18h]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+14h]
    fld     dword ptr [eax+4]
    fmul    dword ptr [edx+1Ch]
    fxch    st(3)
    faddp   st(4), st
    faddp   st(4), st
    faddp   st(4), st
    faddp   st(4), st
    fld     dword ptr [edx+30h]
    faddp   st(1), st
    fld     dword ptr [edx+34h]
    faddp   st(2), st
    fld     dword ptr [edx+38h]
    faddp   st(3), st
    fld     dword ptr [edx+3Ch]
    faddp   st(4), st
    fstp    dword ptr [ecx]
    fstp    dword ptr [ecx+4]
    fstp    dword ptr [ecx+8]
    fstp    dword ptr [ecx+0Ch]
  }
  return a1;
}
// 1003B7F7: inconsistent fpu stack

//----- (1003B854) --------------------------------------------------------
int __stdcall sub_1003B854(int a1, int a2, int a3)
{
  double v3; // st7@1

  v3 = *(float *)a2 * *(float *)(a3 + 4) + *(float *)(a2 + 4) * *(float *)(a3 + 20);
  *(float *)a1 = *(float *)a2 * *(float *)a3 + *(float *)(a2 + 4) * *(float *)(a3 + 16);
  *(float *)(a1 + 4) = v3;
  return a1;
}

//----- (1003BA51) --------------------------------------------------------
int __stdcall sub_1003BA51(int a1, int a2)
{
  int v4; // ST08_4@3
  unsigned int v5; // eax@6
  int v7; // ST08_4@6
  unsigned int v8; // ST08_4@6
  unsigned int v10; // [sp+4h] [bp-8h]@1

  _ECX = a1;
  _EDX = a2;
  __asm
  {
    fld     dword ptr [edx]
    fmul    dword ptr [edx]
    fld     dword ptr [edx+4]
    fmul    dword ptr [edx+4]
    fld     dword ptr [edx+8]
    fmul    dword ptr [edx+8]
    fxch    st(2)
    faddp   st(1), st
    faddp   st(1), st
    fst     [ebp+var_8]
  }
  if ( v10 )
  {
    __asm
    {
      fld1
      fsubp   st(1), st
      fstp    [ebp+var_4]
    }
    if ( (v4 & 0x7FFFFFFF) > 925353388 )
    {
      v5 = v10;
      _EDI = (v10 >> 12) & 0xFF8;
      v7 = v5 & 0xFFFFFF | 0x3F000000;
      __asm
      {
        fld     [ebp+var_4]
        fmul    flt_10080BE0[edi]
        fadd    flt_10080BE4[edi]
      }
      v8 = ((-1090519041 - v10) >> 1) & 0xFF800000;
      __asm
      {
        fmul    [ebp+var_4]
        fld     dword ptr [edx]
        fmul    st, st(1)
        fld     dword ptr [edx+4]
        fmul    st, st(2)
        fld     dword ptr [edx+8]
        fmul    st, st(3)
        fxch    st(2)
        fstp    dword ptr [ecx]
        fstp    dword ptr [ecx+4]
        fstp    dword ptr [ecx+8]
        fstp    st
      }
    }
    else
    {
      if ( a1 != a2 )
      {
        *(_DWORD *)a1 = *(_DWORD *)a2;
        *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
        *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 8);
      }
    }
  }
  else
  {
    __asm { ffree   st }
    *(_DWORD *)a1 = v10;
    *(_DWORD *)(a1 + 4) = v10;
    *(_DWORD *)(a1 + 8) = v10;
  }
  return a1;
}
// 1003BA5D: inconsistent fpu stack

//----- (1003BB1B) --------------------------------------------------------
const void *__stdcall sub_1003BB1B(const void *a1, const void *a2, const void *a3)
{
  const void *result; // eax@1
  signed int v12; // edi@9
  char v14; // [sp+Ch] [bp-40h]@8

  result = a1;
  if ( a3 == a1 )
  {
    if ( a2 != a1 )
    {
      _EBX = a1;
      _ECX = a2;
      _EDX = a3;
      _EDI = -4;
      do
      {
        _ESI = -16;
        __asm
        {
          fld     dword ptr [edx+edi*4+10h]
          fld     dword ptr [edx+edi*4+20h]
          fld     dword ptr [edx+edi*4+30h]
          fld     dword ptr [edx+edi*4+40h]
        }
        do
        {
          __asm
          {
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+40h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+44h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+48h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+4Ch]
            fxch    st(3)
            faddp   st(1), st
            fxch    st(2)
            faddp   st(1), st
            faddp   st(1), st
            fstp    dword ptr [ebx+esi*4+40h]
          }
          _ESI += 4;
        }
        while ( _ESI );
        __asm
        {
          ffree   st(3)
          ffree   st(2)
          ffree   st(1)
          ffree   st
        }
        _EBX = (char *)_EBX + 4;
        ++_EDI;
      }
      while ( _EDI );
      return result;
    }
    memcpy(&v14, a3, 0x40u);
    a3 = &v14;
  }
  _EBX = a1;
  _ECX = a2;
  _EDX = a3;
  v12 = -4;
  do
  {
    _ESI = -4;
    __asm
    {
      fld     dword ptr [ecx]
      fld     dword ptr [ecx+4]
      fld     dword ptr [ecx+8]
      fld     dword ptr [ecx+0Ch]
    }
    do
    {
      __asm
      {
        fld     st(3)
        fmul    dword ptr [edx+esi*4+10h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+20h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+30h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+40h]
        fxch    st(3)
        faddp   st(1), st
        fxch    st(2)
        faddp   st(1), st
        faddp   st(1), st
        fstp    dword ptr [ebx+esi*4+10h]
      }
      ++_ESI;
    }
    while ( _ESI );
    __asm
    {
      ffree   st(3)
      ffree   st(2)
      ffree   st(1)
      ffree   st
    }
    _ECX = (char *)_ECX + 16;
    _EBX = (char *)_EBX + 16;
    ++v12;
  }
  while ( v12 );
  return result;
}
// 1003BB46: inconsistent fpu stack

//----- (1003BBFE) --------------------------------------------------------
void *__stdcall sub_1003BBFE(void *a1, void *a2, void *a3)
{
  char *v3; // eax@1
  signed int v6; // edi@4
  void *result; // eax@8
  char v10; // [sp+0h] [bp-44h]@3
  const void *v11; // [sp+40h] [bp-4h]@4

  v3 = (char *)a1;
  if ( a1 == a2 || a1 == a3 )
    v3 = &v10;
  v11 = v3;
  _ECX = a2;
  _EDX = a3;
  v6 = -4;
  do
  {
    _ESI = -4;
    _EBX = (int)&v3[4 * v6 + 16];
    __asm
    {
      fld     dword ptr [ecx]
      fld     dword ptr [ecx+4]
      fld     dword ptr [ecx+8]
      fld     dword ptr [ecx+0Ch]
    }
    do
    {
      __asm
      {
        fld     st(3)
        fmul    dword ptr [edx+esi*4+10h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+20h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+30h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+40h]
        fxch    st(3)
        faddp   st(1), st
        fxch    st(2)
        faddp   st(1), st
        faddp   st(1), st
        fstp    dword ptr [ebx]
      }
      _EBX += 16;
      ++_ESI;
    }
    while ( _ESI );
    __asm
    {
      ffree   st(3)
      ffree   st(2)
      ffree   st(1)
      ffree   st
    }
    _ECX = (char *)_ECX + 16;
    ++v6;
  }
  while ( v6 );
  result = a1;
  if ( v11 != a1 )
    memcpy(a1, v11, 0x40u);
  return result;
}
// 1003BC31: inconsistent fpu stack

//----- (1003BC8C) --------------------------------------------------------
int __cdecl sub_1003BC8C(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)a1 = sub_1003B7EB;
  *(_DWORD *)(a1 + 4) = sub_1003B889;
  *(_DWORD *)(a1 + 8) = sub_1003B973;
  *(_DWORD *)(a1 + 12) = sub_1003BB1B;
  *(_DWORD *)(a1 + 16) = sub_1003BBFE;
  *(_DWORD *)(a1 + 20) = sub_1003B854;
  *(_DWORD *)(a1 + 24) = sub_1003B914;
  *(_DWORD *)(a1 + 28) = sub_1003BA51;
  return result;
}
// 1003B889: using guessed type int __stdcall sub_1003B889(int, int, int);
// 1003B914: using guessed type int __stdcall sub_1003B914(int, int, int);
// 1003B973: using guessed type int __stdcall sub_1003B973(int, int, int);

//----- (1003BCC8) --------------------------------------------------------
int __thiscall sub_1003BCC8(int this)
{
  int result; // eax@1
  int v2; // ecx@1
  signed int v3; // esi@1

  result = this;
  *(_DWORD *)this = 1;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  v2 = this + 48;
  v3 = 8;
  do
  {
    *(_DWORD *)(v2 - 32) = 0;
    *(_DWORD *)v2 = 0;
    v2 += 4;
    --v3;
  }
  while ( v3 );
  *(_DWORD *)(result + 96) = 0;
  *(_DWORD *)(result + 100) = 0;
  *(_DWORD *)(result + 104) = 0;
  *(_DWORD *)(result + 152) = 0;
  *(_DWORD *)(result + 156) = 0;
  *(_DWORD *)(result + 168) = 0;
  *(_DWORD *)(result + 108) = 0;
  *(_DWORD *)(result + 172) = 0;
  return result;
}

//----- (1003BD13) --------------------------------------------------------
int __thiscall sub_1003BD13(int this)
{
  int v1; // esi@1
  int v2; // ecx@1
  int v3; // edi@5
  signed int v4; // ebx@5
  int v5; // eax@6
  int v6; // eax@11
  int v7; // eax@13
  HDC v8; // eax@15
  HDC v9; // ecx@18
  int result; // eax@25
  int v11; // ecx@26

  v1 = this;
  v2 = *(_DWORD *)(this + 100);
  if ( v2 )
    (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v1 + 4) + 224))(*(_DWORD *)(v1 + 4), v2);
  if ( *(_DWORD *)(v1 + 104) )
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v1 + 4) + 224))(*(_DWORD *)(v1 + 4), *(_DWORD *)(v1 + 104));
  v3 = v1 + 16;
  v4 = 8;
  do
  {
    v5 = *(_DWORD *)(v3 + 32);
    if ( v5 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(v3 + 32));
      *(_DWORD *)(v3 + 32) = 0;
    }
    if ( *(_DWORD *)v3 )
    {
      (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v3 + 8))(*(_DWORD *)v3);
      *(_DWORD *)v3 = 0;
    }
    v3 += 4;
    --v4;
  }
  while ( v4 );
  v6 = *(_DWORD *)(v1 + 12);
  if ( v6 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*(_DWORD *)(v1 + 12));
    *(_DWORD *)(v1 + 12) = 0;
  }
  v7 = *(_DWORD *)(v1 + 4);
  if ( v7 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v7 + 8))(*(_DWORD *)(v1 + 4));
    *(_DWORD *)(v1 + 4) = 0;
  }
  v8 = *(HDC *)(v1 + 108);
  if ( v8 && *(_DWORD *)(v1 + 168) )
    SelectObject(v8, *(HGDIOBJ *)(v1 + 168));
  v9 = *(HDC *)(v1 + 108);
  if ( v9 && *(_DWORD *)(v1 + 156) )
    SelectObject(v9, *(HGDIOBJ *)(v1 + 156));
  if ( *(_DWORD *)(v1 + 152) )
    DeleteObject(*(HGDIOBJ *)(v1 + 152));
  if ( *(_DWORD *)(v1 + 108) )
    DeleteDC(*(HDC *)(v1 + 108));
  result = (int)&dword_100853C0;
  if ( dword_100853C0 )
  {
    do
    {
      v11 = *(_DWORD *)result;
      if ( *(_DWORD *)result == v1 )
        break;
      result = v11 + 172;
    }
    while ( *(_DWORD *)(v11 + 172) );
    if ( *(_DWORD *)result )
      *(_DWORD *)result = *(_DWORD *)(*(_DWORD *)result + 172);
  }
  return result;
}
// 100853C0: using guessed type int dword_100853C0;

//----- (1003BE0F) --------------------------------------------------------
int __thiscall sub_1003BE0F(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1003BD13(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (1003BE2B) --------------------------------------------------------
signed int __usercall sub_1003BE2B<eax>(int a1<ecx>, int a2<ebx>, int a3<edi>)
{
  int v3; // esi@1
  signed int result; // eax@2
  int v5; // edi@3
  unsigned int v6; // ebx@5
  int v7; // ecx@6
  int v8; // [sp-8h] [bp-Ch]@5
  int v9; // [sp-4h] [bp-8h]@3

  v3 = a1;
  if ( *(_DWORD *)(a1 + 96) )
  {
    result = -2005530516;
  }
  else
  {
    v9 = a3;
    v5 = a1 + 100;
    if ( !*(_DWORD *)(a1 + 100) || !*(_DWORD *)(a1 + 104) )
    {
      v8 = a2;
      v6 = 0;
      do
      {
        (*(void (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(v3 + 4) + 208))(*(_DWORD *)(v3 + 4), v8, v9);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 4) + 200))(*(_DWORD *)(v3 + 4), 7, 0);
        v7 = v3 + 100;
        if ( v6 )
          v7 = v3 + 104;
        v9 = v7;
        v8 = *(_DWORD *)(v3 + 4);
        (*(void (**)(void))(**(_DWORD **)(v3 + 4) + 212))();
        ++v6;
      }
      while ( v6 < 2 );
    }
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v3 + 12) + 16))(*(_DWORD *)(v3 + 12));
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v3 + 4) + 220))(*(_DWORD *)(v3 + 4), *(_DWORD *)v5);
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v3 + 4) + 216))(*(_DWORD *)(v3 + 4), *(_DWORD *)(v3 + 104));
    *(_DWORD *)(v3 + 96) = 1;
    result = 0;
  }
  return result;
}
// 1003BE2B: could not find valid save-restore pair for ebx
// 1003BE2B: could not find valid save-restore pair for edi

//----- (1003BEB8) --------------------------------------------------------
signed int __thiscall sub_1003BEB8(int this)
{
  int v1; // esi@1
  signed int result; // eax@2

  v1 = this;
  if ( *(_DWORD *)(this + 96) )
  {
    (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(this + 4) + 216))(
      *(_DWORD *)(this + 4),
      *(_DWORD *)(this + 100));
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v1 + 12) + 28))(*(_DWORD *)(v1 + 12));
    *(_DWORD *)(v1 + 96) = 0;
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (1003BEE8) --------------------------------------------------------
int __thiscall sub_1003BEE8(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // eax@6
  int v4; // esi@9
  signed int v5; // ebx@9
  int v6; // eax@10

  v1 = this;
  v2 = *(_DWORD *)(this + 4);
  if ( v2 )
  {
    if ( *(_DWORD *)(this + 100) )
    {
      (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)v2 + 224))(v2, *(_DWORD *)(this + 100));
      *(_DWORD *)(v1 + 100) = 0;
    }
    if ( *(_DWORD *)(v1 + 104) )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v1 + 4) + 224))(*(_DWORD *)(v1 + 4), *(_DWORD *)(v1 + 104));
      *(_DWORD *)(v1 + 104) = 0;
    }
  }
  v3 = *(_DWORD *)(v1 + 12);
  if ( v3 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 32))(*(_DWORD *)(v1 + 12));
  if ( *(_DWORD *)(v1 + 80) )
  {
    v4 = v1 + 16;
    v5 = 8;
    do
    {
      v6 = *(_DWORD *)(v4 + 32);
      if ( v6 )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*(_DWORD *)(v4 + 32));
        *(_DWORD *)(v4 + 32) = 0;
      }
      if ( *(_DWORD *)v4 )
      {
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v4 + 8))(*(_DWORD *)v4);
        *(_DWORD *)v4 = 0;
      }
      v4 += 4;
      --v5;
    }
    while ( v5 );
  }
  return 0;
}

//----- (1003BF63) --------------------------------------------------------
signed int __thiscall sub_1003BF63(int this)
{
  int v1; // esi@1
  signed int result; // eax@2
  int v3; // ecx@6
  signed int v4; // [sp+4h] [bp-14h]@4
  unsigned int v5; // [sp+8h] [bp-10h]@7
  int v6; // [sp+Ch] [bp-Ch]@4
  int v7; // [sp+10h] [bp-8h]@4
  int v8; // [sp+14h] [bp-4h]@8

  v1 = this;
  if ( *(_DWORD *)(this + 16) )
  {
    result = 0;
  }
  else
  {
    if ( *(_DWORD *)(this + 80) )
    {
      v6 = 512;
      v7 = 0;
      v4 = 1;
    }
    else
    {
      v6 = 0;
      v7 = 1;
      v4 = 8;
    }
    result = sub_1003D026(0, *(_DWORD *)(this + 4), (int *)(this + 88), (int *)(this + 92), 0, v6, this + 84, v7);
    if ( result >= 0 )
    {
      v5 = 0;
      if ( v4 )
      {
        v8 = v1 + 16;
        while ( 1 )
        {
          result = sub_1003D09F(
                     v3,
                     *(_DWORD *)(v1 + 4),
                     *(_DWORD *)(v1 + 88),
                     *(_DWORD *)(v1 + 92),
                     1,
                     v6,
                     *(_DWORD *)(v1 + 84),
                     v7,
                     v8);
          if ( result < 0 )
            break;
          result = (*(int (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)v8 + 60))(*(_DWORD *)v8, 0, v8 + 32);
          if ( result < 0 )
            break;
          ++v5;
          v8 += 4;
          if ( v5 >= v4 )
            goto LABEL_12;
        }
      }
      else
      {
LABEL_12:
        result = 0;
      }
    }
  }
  return result;
}

//----- (1003C01D) --------------------------------------------------------
int __thiscall sub_1003C01D(int this)
{
  HDC v1; // edx@1
  int v2; // esi@2

  v1 = *(HDC *)(this + 108);
  if ( v1 )
  {
    v2 = this + 168;
    if ( *(_DWORD *)(this + 168) )
    {
      SelectObject(v1, *(HGDIOBJ *)(this + 168));
      *(_DWORD *)v2 = 0;
    }
  }
  return 0;
}

//----- (1003C040) --------------------------------------------------------
int __thiscall sub_1003C040(void *this)
{
  bool v1; // zf@1
  int result; // eax@2

  v1 = (*(_DWORD *)this)-- == 1;
  if ( v1 )
    result = sub_1003BE0F((int)this, 1);
  return result;
}

//----- (1003C04C) --------------------------------------------------------
signed int __thiscall sub_1003C04C(int this, int a2)
{
  int v2; // esi@1
  signed int result; // eax@1
  HDC v4; // eax@3
  HBITMAP v5; // eax@5
  char v6; // [sp+4h] [bp-E4h]@1
  int v7; // [sp+10h] [bp-D8h]@1
  char v8; // [sp+D8h] [bp-10h]@1

  v2 = this;
  *(_DWORD *)(this + 172) = dword_100853C0;
  dword_100853C0 = this;
  *(_DWORD *)(this + 4) = a2;
  (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
  (*(void (__stdcall **)(_DWORD, char *))(**(_DWORD **)(v2 + 4) + 28))(*(_DWORD *)(v2 + 4), &v6);
  (*(void (__stdcall **)(_DWORD, char *))(**(_DWORD **)(v2 + 4) + 36))(*(_DWORD *)(v2 + 4), &v8);
  *(_DWORD *)(v2 + 80) = v7 & 0x20000000;
  *(_DWORD *)(v2 + 88) = 64;
  *(_DWORD *)(v2 + 92) = 16;
  *(_DWORD *)(v2 + 84) = 21;
  result = sub_1003BF63(v2);
  if ( result >= 0 )
  {
    result = sub_100350C4(*(_DWORD *)(v2 + 4), v2 + 12);
    if ( result >= 0 )
    {
      memset((void *)(v2 + 112), 0, 0x28u);
      *(_DWORD *)(v2 + 112) = 40;
      *(_DWORD *)(v2 + 116) = 256;
      *(_DWORD *)(v2 + 120) = 256;
      *(_WORD *)(v2 + 124) = 1;
      *(_DWORD *)(v2 + 128) = 0;
      *(_WORD *)(v2 + 126) = 32;
      *(_DWORD *)(v2 + 164) = 21;
      v4 = CreateCompatibleDC(0);
      *(_DWORD *)(v2 + 108) = v4;
      if ( v4
        && (*(_DWORD *)(v2 + 120) = -*(_DWORD *)(v2 + 120),
            v5 = CreateDIBSection(v4, (const BITMAPINFO *)(v2 + 112), 0, (void **)(v2 + 160), 0, 0),
            (*(_DWORD *)(v2 + 152) = v5) != 0) )
      {
        *(_DWORD *)(v2 + 120) = -*(_DWORD *)(v2 + 120);
        SetBkMode(*(HDC *)(v2 + 108), 2);
        SetBkColor(*(HDC *)(v2 + 108), 0);
        SetTextColor(*(HDC *)(v2 + 108), 0xFFFFFFu);
        *(_DWORD *)(v2 + 156) = SelectObject(*(HDC *)(v2 + 108), *(HGDIOBJ *)(v2 + 152));
        result = 0;
      }
      else
      {
        result = -2147024882;
      }
    }
  }
  return result;
}
// 100853C0: using guessed type int dword_100853C0;

//----- (1003C18D) --------------------------------------------------------
HGDIOBJ __thiscall sub_1003C18D(void *this, unsigned int ppvBits, int lpchText, int cchText, LONG a5, UINT format, int a7, LPSTR lpMultiByteStr)
{
  int v8; // ebx@1
  LONG v9; // edi@2
  LONG v10; // esi@3
  void *v11; // esp@5
  const WCHAR *v12; // eax@5
  HDC v13; // ST20_4@6
  HGDIOBJ v14; // eax@6
  int v15; // eax@9
  LONG v16; // edx@11
  LONG v17; // eax@11
  int v18; // esi@21
  int v19; // ecx@22
  int v20; // edx@26
  int v21; // ecx@27
  int v22; // edi@31
  HBITMAP v23; // eax@40
  HBITMAP v24; // edi@40
  LONG v26; // eax@42
  unsigned int v27; // eax@43
  unsigned int v28; // edi@43
  int v29; // esi@43
  bool i; // cf@43
  char v31; // dl@44
  unsigned int v32; // ecx@44
  int v33; // edi@44
  int j; // ecx@44
  int v35; // eax@50
  bool v36; // zf@52
  unsigned int v37; // eax@53
  unsigned int v38; // edx@54
  int v39; // ecx@55
  CHAR *v40; // edi@61
  LONG v41; // ecx@62
  int v42; // esi@64
  int v43; // eax@67
  int v44; // eax@75
  const WCHAR *v45; // edx@76
  int v46; // ecx@76
  int v47; // eax@76
  int v48; // edi@80
  HDC v49; // [sp-8h] [bp-DCh]@8
  HDC v50; // [sp-8h] [bp-DCh]@49
  char *v51; // [sp+4h] [bp-D0h]@73
  unsigned int v52; // [sp+8h] [bp-CCh]@8
  signed int v53; // [sp+8h] [bp-CCh]@73
  int v54; // [sp+Ch] [bp-C8h]@5
  struct _OSVERSIONINFOA VersionInformation; // [sp+18h] [bp-BCh]@4
  int v56; // [sp+ACh] [bp-28h]@69
  CHAR *v57; // [sp+B0h] [bp-24h]@69
  int v58; // [sp+B4h] [bp-20h]@69
  LONG v59; // [sp+B8h] [bp-1Ch]@69
  float v60; // [sp+BCh] [bp-18h]@83
  float v61; // [sp+C0h] [bp-14h]@83
  BITMAPINFO bmi; // [sp+C4h] [bp-10h]@34
  int v63; // [sp+F0h] [bp+1Ch]@69
  int v64; // [sp+F4h] [bp+20h]@69
  UINT v65; // [sp+F8h] [bp+24h]@69
  int v66; // [sp+FCh] [bp+28h]@75
  const WCHAR *v67; // [sp+100h] [bp+2Ch]@76
  int v68; // [sp+104h] [bp+30h]@21
  int v69; // [sp+108h] [bp+34h]@26
  int v70; // [sp+10Ch] [bp+38h]@21
  int v71; // [sp+110h] [bp+3Ch]@26
  struct tagRECT rc; // [sp+114h] [bp+40h]@6
  unsigned int v73; // [sp+124h] [bp+50h]@11
  int cbMultiByte; // [sp+128h] [bp+54h]@5
  LONG v75; // [sp+12Ch] [bp+58h]@3

  v8 = (int)this;
  if ( !lpchText || (v9 = a5) == 0 )
    return 0;
  v10 = *(_DWORD *)(a5 + 12) - *(_DWORD *)(a5 + 4);
  a5 = *(_DWORD *)(a5 + 8) - *(_DWORD *)a5;
  v75 = v10;
  if ( lpMultiByteStr )
  {
    VersionInformation.dwOSVersionInfoSize = 148;
    GetVersionExA(&VersionInformation);
    if ( VersionInformation.dwPlatformId != 2 )
    {
      cbMultiByte = WideCharToMultiByte(0, 0, (LPCWSTR)lpchText, cchText, 0, 0, 0, 0);
      v11 = alloca(cbMultiByte);
      lpMultiByteStr = (LPSTR)&v54;
      WideCharToMultiByte(0, 0, (LPCWSTR)lpchText, cchText, (LPSTR)&v54, cbMultiByte, 0, 0);
      v12 = (const WCHAR *)lpMultiByteStr;
      lpMultiByteStr = 0;
      v10 = v75;
      lpchText = (int)v12;
      cchText = cbMultiByte;
    }
  }
  v13 = *(HDC *)(v8 + 108);
  rc.left = 0;
  rc.top = 0;
  rc.right = a5;
  rc.bottom = v10;
  v14 = SelectObject(v13, (HGDIOBJ)ppvBits);
  if ( !*(_DWORD *)(v8 + 168) )
    *(_DWORD *)(v8 + 168) = v14;
  v52 = format | 0x400;
  v49 = *(HDC *)(v8 + 108);
  if ( lpMultiByteStr )
    v15 = DrawTextW(v49, (LPCWSTR)lpchText, cchText, &rc, v52);
  else
    v15 = DrawTextA(v49, (LPCSTR)lpchText, cchText, &rc, v52);
  v16 = rc.right - rc.left;
  rc.left = 0;
  ppvBits = v15;
  v17 = rc.bottom - rc.top;
  rc.top = 0;
  rc.right = v16;
  rc.bottom = v17;
  v73 = format & 0x400;
  if ( !(format & 0x400) )
  {
    if ( format & 0x100 || v16 < (unsigned int)a5 )
    {
      a5 = v16;
    }
    else
    {
      v16 = a5;
      rc.right = a5;
    }
    if ( format & 0x100 || v17 < (unsigned int)v75 )
    {
      v75 = v17;
    }
    else
    {
      v17 = v75;
      rc.bottom = v75;
    }
  }
  if ( format & 2 )
  {
    v18 = *(_DWORD *)(v9 + 8);
    v68 = *(_DWORD *)(v9 + 8) - v16;
    v70 = v18;
  }
  else
  {
    v19 = *(_DWORD *)v9;
    if ( format & 1 )
      v19 = (*(_DWORD *)(v9 + 8) + v19 - v16) >> 1;
    v68 = v19;
    v70 = v16 + v19;
  }
  if ( format & 8 )
  {
    v20 = *(_DWORD *)(v9 + 12);
    v69 = *(_DWORD *)(v9 + 12) - v17;
    v71 = v20;
  }
  else
  {
    v21 = *(_DWORD *)(v9 + 4);
    if ( format & 4 )
      v21 = (*(_DWORD *)(v9 + 12) + v21 - v17) >> 1;
    v69 = v21;
    v71 = v17 + v21;
  }
  if ( !v73 )
  {
    if ( (unsigned int)a5 > *(_DWORD *)(v8 + 116) || (unsigned int)v75 > *(_DWORD *)(v8 + 120) )
    {
      memcpy(&bmi, (const void *)(v8 + 112), 0x28u);
      while ( bmi.bmiHeader.biWidth < (unsigned int)a5 )
        bmi.bmiHeader.biWidth += bmi.bmiHeader.biWidth >> 1;
      while ( bmi.bmiHeader.biHeight < (unsigned int)v75 )
        bmi.bmiHeader.biHeight += bmi.bmiHeader.biHeight >> 1;
      bmi.bmiHeader.biHeight = -bmi.bmiHeader.biHeight;
      v23 = CreateDIBSection(*(HDC *)(v8 + 108), &bmi, 0, (void **)&ppvBits, 0, 0);
      v24 = v23;
      if ( !v23 )
        return 0;
      bmi.bmiHeader.biHeight = -bmi.bmiHeader.biHeight;
      SelectObject(*(HDC *)(v8 + 108), v23);
      DeleteObject(*(HGDIOBJ *)(v8 + 152));
      *(_DWORD *)(v8 + 160) = ppvBits;
      *(_DWORD *)(v8 + 116) = bmi.bmiHeader.biWidth;
      v26 = bmi.bmiHeader.biHeight;
      *(_DWORD *)(v8 + 152) = v24;
      *(_DWORD *)(v8 + 120) = v26;
    }
    v27 = (unsigned int)*(_WORD *)(v8 + 126) >> 3;
    v28 = *(_DWORD *)(v8 + 160);
    v29 = (v27 * *(_DWORD *)(v8 + 116) + 3) & 0xFFFFFFFC;
    v73 = a5 * v27;
    cbMultiByte = v28 + v75 * v29;
    for ( i = v28 < cbMultiByte; ; i = v29 + ppvBits < cbMultiByte )
    {
      ppvBits = v28;
      if ( !i )
        break;
      v31 = v73;
      v32 = v73 >> 2;
      memset((void *)v28, 0, 4 * (v73 >> 2));
      v33 = v28 + 4 * v32;
      for ( j = v31 & 3; j; --j )
        *(_BYTE *)v33++ = 0;
      v28 = v29 + ppvBits;
    }
    v50 = *(HDC *)(v8 + 108);
    if ( lpMultiByteStr )
      v35 = DrawTextW(v50, (LPCWSTR)lpchText, cchText, &rc, format);
    else
      v35 = DrawTextA(v50, (LPCSTR)lpchText, cchText, &rc, format);
    v36 = *(_DWORD *)(v8 + 84) == 21;
    ppvBits = v35;
    if ( !v36 )
    {
      v37 = *(_DWORD *)(v8 + 160);
      if ( v37 < cbMultiByte )
      {
        v38 = v73;
        do
        {
          v39 = v37 + v38;
          while ( v37 < v39 )
          {
            v28 = (*(_DWORD *)v37 << 24) | 0xFFFFFF;
            *(_DWORD *)v37 = v28;
            v37 += 4;
          }
          v37 += v29 - v38;
        }
        while ( v37 < cbMultiByte );
      }
    }
    cbMultiByte = *(_DWORD *)(v8 + 96);
    if ( !cbMultiByte )
      sub_1003BE2B(v8, v8, v28);
    v40 = 0;
    lpMultiByteStr = 0;
    if ( v75 )
    {
      do
      {
        cchText = (int)&v40[*(_DWORD *)(v8 + 92)];
        v41 = cchText;
        if ( cchText > (unsigned int)v75 )
        {
          v41 = v75;
          cchText = v75;
        }
        v42 = 0;
        if ( a5 )
        {
          format = v41 - (_DWORD)v40;
          while ( 1 )
          {
            v43 = v42 + *(_DWORD *)(v8 + 88);
            if ( v43 > (unsigned int)a5 )
              v43 = a5;
            v58 = v43;
            v59 = v41;
            v36 = *(_DWORD *)(v8 + 84) == 21;
            v64 = v43 - v42;
            v56 = v42;
            v57 = v40;
            *(_DWORD *)&bmi.bmiColors[0].rgbBlue = 0;
            v63 = 0;
            v65 = format;
            if ( v36 )
            {
              if ( *(_DWORD *)(v8 + 80) )
              {
                v53 = 10240;
                v51 = 0;
              }
              else
              {
                v53 = 2048;
                v51 = (char *)bmi.bmiColors;
              }
              v44 = *(_DWORD *)(v8 + 4 * *(_DWORD *)(v8 + 8) + 48);
              if ( (*(int (__stdcall **)(int, int *, char *, signed int))(*(_DWORD *)v44 + 36))(v44, &v66, v51, v53) < 0 )
                goto LABEL_88;
              v45 = v67;
              v46 = *(_DWORD *)(v8 + 160) + 4 * (v42 + (_DWORD)v40 * *(_DWORD *)(v8 + 116));
              v47 = (int)((char *)v67 + v65 * v66);
              lpchText = (int)v67;
              if ( (unsigned int)v67 < v47 )
              {
                do
                {
                  v73 = (unsigned int)&v45[2 * v64];
                  if ( v45 < &v45[2 * v64] )
                  {
                    do
                    {
                      *(_DWORD *)v45 = (*(_DWORD *)v46 << 24) | 0xFFFFFF;
                      v45 += 2;
                      v46 += 4;
                    }
                    while ( (unsigned int)v45 < v73 );
                    lpchText = (int)v45;
                  }
                  v46 += 4 * (*(_DWORD *)(v8 + 116) - v64);
                  v48 = v66 - 4 * v64;
                  v45 = (const WCHAR *)(v48 + lpchText);
                  lpchText += v48;
                }
                while ( lpchText < (unsigned int)v47 );
                v40 = lpMultiByteStr;
              }
              (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v8 + 4 * *(_DWORD *)(v8 + 8) + 48) + 40))(*(_DWORD *)(v8 + 4 * *(_DWORD *)(v8 + 8) + 48));
            }
            else
            {
              if ( sub_1003C967(
                     *(_DWORD *)(v8 + 4 * *(_DWORD *)(v8 + 8) + 48),
                     0,
                     (int)bmi.bmiColors,
                     *(_DWORD *)(v8 + 160),
                     *(_DWORD *)(v8 + 164),
                     *(_DWORD *)(v8 + 116) * ((unsigned int)*(_WORD *)(v8 + 126) >> 3),
                     0,
                     (int)&v56,
                     2,
                     0) < 0 )
                goto LABEL_88;
            }
            v60 = (double)(unsigned int)(v42 + v68);
            lpchText = (int)&v40[v69];
            v61 = (double)(unsigned int)&v40[v69];
            if ( (*(int (__stdcall **)(_DWORD, _DWORD, RGBQUAD *, _DWORD, _DWORD, _DWORD, float *, int))(**(_DWORD **)(v8 + 12) + 20))(
                   *(_DWORD *)(v8 + 12),
                   *(_DWORD *)(v8 + 4 * *(_DWORD *)(v8 + 8) + 16),
                   bmi.bmiColors,
                   0,
                   0,
                   0.0,
                   &v60,
                   a7) < 0 )
              goto LABEL_88;
            if ( !*(_DWORD *)(v8 + 80) )
              *(_DWORD *)(v8 + 8) = ((unsigned __int8)*(_DWORD *)(v8 + 8) + 1) & 7;
            v42 += *(_DWORD *)(v8 + 88);
            if ( v42 >= (unsigned int)a5 )
              break;
            v41 = cchText;
          }
        }
        v40 += *(_DWORD *)(v8 + 92);
        lpMultiByteStr = v40;
      }
      while ( (unsigned int)v40 < v75 );
    }
LABEL_88:
    if ( !cbMultiByte )
      sub_1003BEB8(v8);
    return (HGDIOBJ)ppvBits;
  }
  *(_DWORD *)v9 = v68;
  v22 = v9 + 4;
  *(_DWORD *)v22 = v69;
  v22 += 4;
  *(_DWORD *)v22 = v70;
  *(_DWORD *)(v22 + 4) = v71;
  return (HGDIOBJ)ppvBits;
}

//----- (1003C6A0) --------------------------------------------------------
signed int __cdecl sub_1003C6A0(int a1, int a2)
{
  int i; // eax@1
  int v3; // eax@5
  int v4; // esi@6
  signed int result; // eax@7
  signed int v6; // edi@11

  for ( i = dword_100853C0; i; i = *(_DWORD *)(i + 172) )
  {
    if ( *(_DWORD *)(i + 4) == a1 )
    {
      ++*(_DWORD *)i;
      *(_DWORD *)a2 = i;
      return 0;
    }
  }
  v3 = sub_100015F0(176);
  if ( v3 )
    v4 = sub_1003BCC8(v3);
  else
    v4 = 0;
  if ( v4 )
  {
    v6 = sub_1003C04C(v4, a1);
    if ( v6 >= 0 )
    {
      *(_DWORD *)a2 = v4;
      result = 0;
    }
    else
    {
      sub_1003BE0F(v4, 1);
      result = v6;
    }
  }
  else
  {
    result = -2147024882;
  }
  return result;
}
// 100853C0: using guessed type int dword_100853C0;

//----- (1003C715) --------------------------------------------------------
unsigned int __cdecl sub_1003C715(int a1)
{
  unsigned int result; // eax@1

  result = (unsigned int)&unk_10073F38;
  if ( off_10081BE8 <= &unk_10073F38 )
  {
LABEL_4:
    result = (unsigned int)&unk_10073F10;
  }
  else
  {
    while ( a1 != *(_DWORD *)result )
    {
      result += 36;
      if ( result >= (unsigned int)off_10081BE8 )
        goto LABEL_4;
    }
  }
  return result;
}
// 10081BE8: using guessed type void *off_10081BE8;

//----- (1003C739) --------------------------------------------------------
unsigned int __fastcall sub_1003C739(int a1, int a2)
{
  unsigned int result; // eax@1
  int v3; // esi@2
  int v4; // edi@2
  signed int v5; // ebx@2
  unsigned int v6; // ecx@3
  unsigned int v7; // edx@5
  int v8; // [sp+4h] [bp-4h]@2

  result = 0;
  if ( !dword_10074548[*(_DWORD *)(a2 + 4) + 5 * *(_DWORD *)(a1 + 4)] )
    goto LABEL_18;
  v8 = 0;
  v3 = a1 + 12;
  v4 = a2 - a1;
  v5 = 5;
  do
  {
    v6 = *(_DWORD *)v3;
    if ( *(_DWORD *)v3 )
      ++v8;
    v7 = *(_DWORD *)(v4 + v3);
    if ( v6 >= v7 )
    {
      if ( v6 > v7 )
      {
        if ( v7 )
          result += (v6 - v7) << 16;
        else
          result += 16777216;
      }
    }
    else
    {
      if ( v6 )
        result += v7 - v6;
      else
        result += 256;
    }
    v3 += 4;
    --v5;
  }
  while ( v5 );
  if ( v8 == result >> 24 )
LABEL_18:
    result = -1;
  return result;
}
// 10074548: using guessed type int dword_10074548[];

//----- (1003C7AE) --------------------------------------------------------
int __cdecl sub_1003C7AE(int *a1, int a2, int a3)
{
  int *v3; // eax@1
  signed int v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // eax@2
  int v7; // esi@2
  int v8; // eax@2
  unsigned int v9; // eax@6
  int v10; // eax@12

  v3 = a1;
  v4 = -1;
  v5 = (int)&unk_10073F10;
  while ( 1 )
  {
    v10 = *v3;
    if ( !v10 )
      return *(_DWORD *)v5;
    v6 = sub_1003C715(v10);
    v7 = v6;
    v8 = *(_DWORD *)v6;
    if ( v8 )
    {
      if ( *(_DWORD *)(v7 + 4) != 1 || a2 )
        break;
    }
LABEL_11:
    ++a1;
    v3 = a1;
  }
  if ( *(_DWORD *)a3 != v8 )
  {
    v9 = sub_1003C739(a3, v7);
    if ( v9 != -1 && v9 <= v4 && (v9 != v4 || *(_DWORD *)(v7 + 8) < *(_DWORD *)(v5 + 8)) )
    {
      v4 = v9;
      v5 = v7;
    }
    goto LABEL_11;
  }
  return *(_DWORD *)a3;
}

//----- (1003C81C) --------------------------------------------------------
int __cdecl sub_1003C81C(int a1, int a2, int a3, int a4)
{
  signed int v4; // ebx@3
  int v5; // edi@3
  int v6; // esi@3
  unsigned int v7; // eax@9
  int v9; // [sp+Ch] [bp-E8h]@2
  int v10; // [sp+10h] [bp-E4h]@6
  char v11; // [sp+E0h] [bp-14h]@2
  int v12; // [sp+ECh] [bp-8h]@6
  int v13; // [sp+F0h] [bp-4h]@1

  v13 = 0;
  sub_1004A6DB(1);
  if ( a1 )
  {
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)a1 + 24))(a1, &v13);
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)a1 + 28))(a1, &v9);
    (*(void (__stdcall **)(int, char *))(*(_DWORD *)a1 + 32))(a1, &v11);
  }
  v4 = -1;
  v5 = (int)&unk_10073F10;
  v6 = (int)&unk_10073F38;
  if ( off_10081BE8 > &unk_10073F38 )
  {
    do
    {
      if ( *(_DWORD *)v6
        && (!a1
         || (*(int (__stdcall **)(int, int, int, int, int, int, _DWORD))(*(_DWORD *)v13 + 40))(
              v13,
              v10,
              v9,
              v12,
              a2,
              a3,
              *(_DWORD *)v6) >= 0) )
      {
        if ( *(_DWORD *)a4 == *(_DWORD *)v6 )
        {
          v5 = v6;
          break;
        }
        if ( *(_DWORD *)(v6 + 32) )
        {
          v7 = sub_1003C739(a4, v6);
          if ( v7 != -1 )
          {
            if ( v7 <= v4 && (v7 != v4 || *(_DWORD *)(v6 + 8) < *(_DWORD *)(v5 + 8)) )
            {
              v4 = v7;
              v5 = v6;
            }
          }
        }
      }
      v6 += 36;
    }
    while ( v6 < (unsigned int)off_10081BE8 );
  }
  if ( v13 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v13 + 8))(v13);
    v13 = 0;
  }
  sub_1004A6DB(0);
  return *(_DWORD *)v5;
}
// 10081BE8: using guessed type void *off_10081BE8;

//----- (1003C8FE) --------------------------------------------------------
signed int __cdecl sub_1003C8FE(signed int a1)
{
  signed int result; // eax@5

  switch ( a1 )
  {
    case 909200416:
      result = 50;
      break;
    case 909200449:
      result = 51;
      break;
    case 909201952:
      result = 20;
      break;
    case 909201985:
      result = 21;
      break;
    default:
      result = a1;
      break;
  }
  return result;
}

//----- (1003C92F) --------------------------------------------------------
signed int __stdcall sub_1003C92F(int a1, unsigned int a2, int a3)
{
  signed int v3; // esi@1
  signed int v4; // eax@1
  char v6; // [sp+4h] [bp-54h]@1

  sub_1004A76B((int)&v6);
  v3 = 0;
  v4 = sub_1004CB7D(&v6, a1, a2, a3, 0);
  if ( v4 < 0 )
    v3 = v4;
  sub_1004A784(&v6);
  return v3;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1003C967) --------------------------------------------------------
signed int __stdcall sub_1003C967(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  signed int v10; // ebx@1
  int v11; // eax@8
  char v13; // [sp+4h] [bp-64h]@8
  int v14; // [sp+50h] [bp-18h]@9
  int v15; // [sp+54h] [bp-14h]@9
  int v16; // [sp+58h] [bp-10h]@9
  int v17; // [sp+5Ch] [bp-Ch]@9
  int v18; // [sp+60h] [bp-8h]@9
  int v19; // [sp+64h] [bp-4h]@9
  int v20; // [sp+68h] [bp+0h]@9
  int v21; // [sp+6Ch] [bp+4h]@9
  int v22; // [sp+70h] [bp+8h]@9
  int v23; // [sp+74h] [bp+Ch]@9
  char v24; // [sp+78h] [bp+10h]@9
  int v25; // [sp+90h] [bp+28h]@9
  int v26; // [sp+94h] [bp+2Ch]@9
  int v27; // [sp+98h] [bp+30h]@9
  char v28; // [sp+9Ch] [bp+34h]@1
  char v29; // [sp+ACh] [bp+44h]@1

  sub_1004CD52((int)&v29);
  CRect::CRect(&v28);
  v10 = 0;
  if ( a1 )
  {
    if ( a4 && a8 )
    {
      if ( a9 == -1 )
        a9 = 524292;
      v11 = sub_1005079E((int)&v28, (int)&v13, a1, a2, a3, 0, 0);
      if ( v11 < 0
        || (v15 = a5,
            v14 = a4,
            v16 = a6,
            v17 = 0,
            v18 = *(_DWORD *)a8,
            v19 = *(_DWORD *)(a8 + 4),
            v20 = *(_DWORD *)(a8 + 8),
            v21 = *(_DWORD *)(a8 + 12),
            v22 = 0,
            v23 = 1,
            memcpy(&v24, &v18, 0x18u),
            v26 = a10,
            v27 = a7,
            v11 = sub_100505EA((int)&v29, (unsigned int)&v25, (int)&v13, (int)&v14, a9),
            v11 < 0) )
        v10 = v11;
    }
    else
    {
      v10 = -2005530516;
    }
  }
  else
  {
    v10 = -2005530516;
  }
  sub_10050799(&v28);
  sub_1004CD5C((int)&v29);
  return v10;
}
// 10050704: using guessed type int __thiscall CRect__CRect(_DWORD);

//----- (1003CA46) --------------------------------------------------------
signed int __cdecl sub_1003CA46(LPCWSTR cbMultiByte, signed int a2, int a3, int a4, int a5, LPSTR lpMultiByteStr)
{
  signed int v6; // esi@2
  int v7; // eax@4
  char v9; // [sp+8h] [bp-BCh]@4
  char v10; // [sp+54h] [bp-70h]@1
  char v11; // [sp+A8h] [bp-1Ch]@1
  int v12; // [sp+C0h] [bp-4h]@1

  sub_1004A76B((int)&v10);
  v12 = 0;
  CRect::CRect(&v11);
  LOBYTE(v12) = 1;
  if ( cbMultiByte && a3 )
  {
    v7 = sub_1005079E((int)&v11, (int)&v9, a3, a4, a5, 0, 1);
    if ( v7 < 0
      || (v7 = sub_1004A7F9((int)&v10, (int)&v9), v7 < 0)
      || (v7 = sub_1004C884(&v10, cbMultiByte, a2, lpMultiByteStr), v7 < 0) )
      v6 = v7;
    else
      v6 = 0;
  }
  else
  {
    v6 = -2005530516;
  }
  LOBYTE(v12) = 0;
  sub_10050799(&v11);
  v12 = -1;
  sub_1004A784(&v10);
  return v6;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);
// 10050704: using guessed type int __thiscall CRect__CRect(_DWORD);

//----- (1003CAF6) --------------------------------------------------------
void *__thiscall sub_1003CAF6(void *this)
{
  return this;
}

//----- (1003CB39) --------------------------------------------------------
signed int __stdcall sub_1003CB39(int a1, int a2, const void *a3, int a4, int a5, int a6, int a7, int a8, const void *a9, int a10, int a11)
{
  signed int v11; // esi@2
  int v12; // eax@7
  char v14; // [sp+4h] [bp-5Ch]@7
  int v15; // [sp+50h] [bp-10h]@9
  int v16; // [sp+54h] [bp-Ch]@9
  int v17; // [sp+58h] [bp-8h]@9
  int v18; // [sp+5Ch] [bp-4h]@9
  char v19; // [sp+60h] [bp+0h]@9
  char v20; // [sp+78h] [bp+18h]@9
  int v21; // [sp+90h] [bp+30h]@9
  int v22; // [sp+94h] [bp+34h]@9
  int v23; // [sp+98h] [bp+38h]@9
  char v24; // [sp+9Ch] [bp+3Ch]@1
  char v25; // [sp+A8h] [bp+48h]@1

  sub_1004CD52((int)&v24);
  sub_1005077D(&v25);
  if ( a1 && a4 && a9 )
  {
    if ( a10 == -1 )
      a10 = 524292;
    v12 = sub_10050BB6(&v25, (int)&v14, a1, a2, a3, 0, 0);
    if ( v12 < 0
      || (v16 = a5,
          v17 = a6,
          v15 = a4,
          v18 = a7,
          memcpy(&v19, a9, 0x18u),
          memcpy(&v20, a9, 0x18u),
          v22 = a11,
          v23 = a8,
          v12 = sub_100505EA((int)&v24, (unsigned int)&v21, (int)&v14, (int)&v15, a10),
          v12 < 0) )
      v11 = v12;
    else
      v11 = 0;
  }
  else
  {
    v11 = -2005530516;
  }
  sub_10050BB1(&v25);
  sub_1004CD5C((int)&v24);
  return v11;
}

//----- (1003CC0C) --------------------------------------------------------
signed int __cdecl sub_1003CC0C(LPCWSTR cbMultiByte, signed int a2, int a3, int a4, const void *a5, LPSTR lpMultiByteStr)
{
  signed int v6; // esi@2
  int v7; // eax@4
  char v9; // [sp+8h] [bp-B0h]@4
  char v10; // [sp+54h] [bp-64h]@1
  char v11; // [sp+A8h] [bp-10h]@1
  int v12; // [sp+B4h] [bp-4h]@1

  sub_1004A76B((int)&v10);
  v12 = 0;
  sub_1005077D(&v11);
  LOBYTE(v12) = 1;
  if ( cbMultiByte && a3 )
  {
    v7 = sub_10050BB6(&v11, (int)&v9, a3, a4, a5, 0, 1);
    if ( v7 < 0
      || (v7 = sub_1004A7F9((int)&v10, (int)&v9), v7 < 0)
      || (v7 = sub_1004C884(&v10, cbMultiByte, a2, lpMultiByteStr), v7 < 0) )
      v6 = v7;
    else
      v6 = 0;
  }
  else
  {
    v6 = -2005530516;
  }
  LOBYTE(v12) = 0;
  sub_10050BB1(&v11);
  v12 = -1;
  sub_1004A784(&v10);
  return v6;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1003CCFC) --------------------------------------------------------
signed int __fastcall sub_1003CCFC(int a1, int a2, int a3, int *a4, int *a5, unsigned int *a6, signed int *a7, int a8, int a9, int a10)
{
  int v10; // edi@1
  int v11; // esi@1
  int v13; // eax@14
  int v14; // ebx@22
  int v15; // eax@46
  signed int v16; // eax@56
  signed int v17; // eax@67
  int v18; // eax@72
  bool v19; // cf@72
  bool v20; // zf@72
  int v21; // eax@74
  unsigned int v22; // eax@76
  int v23; // edx@83
  signed int v24; // eax@88
  signed int v25; // edi@93
  unsigned int v26; // eax@102
  signed int v27; // esi@102
  signed int v28; // ecx@105
  unsigned int i; // eax@105
  unsigned int v30; // eax@107
  signed int j; // edx@107
  signed int v32; // eax@109
  char v33; // [sp+Ch] [bp-DCh]@45
  int v34; // [sp+48h] [bp-A0h]@55
  unsigned int v35; // [sp+64h] [bp-84h]@50
  unsigned int v36; // [sp+68h] [bp-80h]@52
  unsigned int v37; // [sp+6Ch] [bp-7Ch]@46
  int v38; // [sp+74h] [bp-74h]@57
  int v39; // [sp+E0h] [bp-8h]@11
  unsigned int v40; // [sp+E4h] [bp-4h]@25
  int v41; // [sp+F0h] [bp+8h]@19

  v10 = a3;
  v11 = a2;
  if ( !a3 )
    return -2005530516;
  if ( a2 == -1 )
    v11 = 0;
  if ( v11 != (v11 & 0x20B) || a9 && a9 != 1 && a9 != 2 && a9 != 3 )
    return -2005530516;
  if ( a8 )
    v39 = *(_DWORD *)a8;
  else
    v39 = 0;
  if ( a9 == 3 )
  {
    if ( !v39 )
      v39 = 21;
  }
  else
  {
    v13 = sub_1003C715(v39);
    v39 = sub_1003C81C(a3, v11, a10, v13);
    if ( !v39 )
      return -2005530518;
  }
  if ( a4 )
    v41 = *a4;
  else
    v41 = -1;
  if ( a5 )
    v14 = *a5;
  else
    v14 = -1;
  if ( a6 )
    v40 = *a6;
  else
    v40 = -1;
  if ( v41 == -1 )
  {
    if ( v14 == -1 )
    {
      v14 = 256;
      v41 = 256;
      goto LABEL_37;
    }
    v41 = v14;
  }
  else
  {
    if ( v14 == -1 )
      v14 = v41;
  }
  if ( !v41 )
    v41 = 1;
  if ( !v14 )
    v14 = 1;
LABEL_37:
  if ( a10 == 5 )
  {
    if ( v41 > (unsigned int)v14 )
      v14 = v41;
    v41 = v14;
  }
  if ( v40 == -1 || !v40 )
    v40 = 1;
  if ( a9 == 3 )
    goto LABEL_78;
  (*(void (__stdcall **)(int, char *))(*(_DWORD *)v10 + 28))(v10, &v33);
  if ( a10 == 4 )
  {
    v15 = v37;
    if ( v40 > v37 )
      v40 = v37;
    if ( v41 > v37 )
      v41 = v37;
  }
  else
  {
    if ( v41 > v35 )
      v41 = v35;
    if ( v14 > v36 )
      v14 = v36;
    if ( a10 != 3 || (!(v34 & 0x20) ? (v16 = v38) : (v16 = 1), !v16) )
      goto LABEL_64;
    if ( v41 > (unsigned int)(v14 * v16) )
      v41 = v14 * v16;
    v15 = v41 * v16;
  }
  if ( v14 > (unsigned int)v15 )
    v14 = v15;
LABEL_64:
  switch ( a10 )
  {
    case 3:
      v17 = 2;
      break;
    case 4:
      v17 = 262144;
      break;
    case 5:
      v17 = 131072;
      break;
    default:
      v17 = v41;
      break;
  }
  if ( v17 & v34 )
  {
    v18 = v41;
    v19 = (unsigned int)v41 < 1;
    v20 = v41 == 1;
    v41 = 1;
    if ( !(v19 | v20) )
    {
      do
        v41 *= 2;
      while ( v41 < (unsigned int)v18 );
    }
    v21 = v14;
    v19 = (unsigned int)v14 < 1;
    v20 = v14 == 1;
    v14 = 1;
    if ( !(v19 | v20) )
    {
      do
        v14 *= 2;
      while ( v14 < (unsigned int)v21 );
    }
    v22 = v40;
    v19 = v40 < 1;
    v20 = v40 == 1;
    v40 = 1;
    if ( !(v19 | v20) )
    {
      do
        v40 *= 2;
      while ( v40 < v22 );
    }
  }
LABEL_78:
  if ( v39 != 827611204 && v39 != 844388420 && v39 != 861165636 && v39 != 877942852 && v39 != 894720068 )
  {
    v23 = v41;
  }
  else
  {
    v23 = (v41 + 3) & 0xFFFFFFFC;
    v41 = (v41 + 3) & 0xFFFFFFFC;
    v14 = (v14 + 3) & 0xFFFFFFFC;
  }
  switch ( a10 )
  {
    case 3:
      v24 = 16384;
      break;
    case 4:
      v24 = 32768;
      break;
    case 5:
      v24 = 65536;
      break;
    default:
      v24 = v41;
      break;
  }
  if ( a7 )
    v25 = *a7;
  else
    v25 = -1;
  if ( a9 != 3 && (!(v24 & v34) || BYTE1(v34) & 1 && ((v23 - 1) & v23 || (v14 - 1) & v14 || (v40 - 1) & v40)) )
  {
    v25 = 1;
  }
  else
  {
    v26 = v41;
    v27 = 0;
    while ( v26 )
    {
      v26 >>= 1;
      ++v27;
    }
    v28 = 0;
    for ( i = v14; i; ++v28 )
      i >>= 1;
    v30 = v40;
    for ( j = 0; v30; ++j )
      v30 >>= 1;
    v32 = v27;
    if ( v27 <= (unsigned int)v28 )
      v32 = v28;
    if ( a10 == 4 && j > (unsigned int)v32 )
      v32 = j;
    if ( v25 > (unsigned int)v32 || !v25 )
      v25 = v32;
  }
  if ( a4 )
    *a4 = v41;
  if ( a5 )
    *a5 = v14;
  if ( a6 )
    *a6 = v40;
  if ( a7 )
    *a7 = v25;
  if ( a8 )
    *(_DWORD *)a8 = v39;
  return 0;
}

//----- (1003D026) --------------------------------------------------------
signed int __thiscall sub_1003D026(int this, int a2, int *a3, int *a4, signed int *a5, int a6, int a7, int a8)
{
  return sub_1003CCFC(this, a6, a2, a3, a4, 0, a5, a7, a8, 3);
}

//----- (1003D04E) --------------------------------------------------------
signed int __thiscall sub_1003D04E(int this, int a2, int *a3, signed int *a4, int a5, int a6, int a7)
{
  return sub_1003CCFC(this, a5, a2, a3, a3, 0, a4, a6, a7, 5);
}

//----- (1003D076) --------------------------------------------------------
signed int __thiscall sub_1003D076(int this, int a2, int *a3, int *a4, unsigned int *a5, signed int *a6, int a7, int a8, int a9)
{
  return sub_1003CCFC(this, a7, a2, a3, a4, a5, a6, a8, a9, 4);
}

//----- (1003D09F) --------------------------------------------------------
signed int __thiscall sub_1003D09F(int this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  signed int result; // eax@3
  int v10; // edi@4

  if ( a2 && a9 )
  {
    v10 = a6;
    if ( a6 == -1 )
      v10 = 0;
    result = sub_1003D026(this, a2, &a3, &a4, &a5, v10, (int)&a7, a8);
    if ( result >= 0 )
    {
      result = (*(int (__stdcall **)(int, int, int, int, int, int, int, int))(*(_DWORD *)a2 + 80))(
                 a2,
                 a3,
                 a4,
                 a5,
                 v10,
                 a7,
                 a8,
                 a9);
      if ( result >= 0 )
        result = 0;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (1003D21C) --------------------------------------------------------
int __thiscall sub_1003D21C(int this, char a2)
{
  int v2; // esi@1
  int result; // eax@4

  v2 = this;
  if ( a2 & 2 )
  {
    unknown_libname_4((void *)this, 4u, *(_DWORD *)(this - 4), sub_10050BB1);
    if ( a2 & 1 )
      sub_10001610(v2 - 4);
    result = v2 - 4;
  }
  else
  {
    sub_10050BB1((void *)this);
    if ( a2 & 1 )
      sub_10001610(v2);
    result = v2;
  }
  return result;
}

//----- (1003DB88) --------------------------------------------------------
double __usercall sub_1003DB88<st0>(int a1<eax>, int a2<ecx>)
{
  int v2; // ecx@1
  int v3; // ecx@2
  int v4; // ecx@3
  int v5; // ecx@4
  double result; // st7@6

  v2 = a2 - 1;
  if ( v2 )
  {
    v3 = v2 - 1;
    if ( v3 )
    {
      v4 = v3 - 2;
      if ( v4 )
      {
        v5 = v4 - 4;
        if ( v5 )
        {
          if ( v5 == 8 )
            result = *(float *)(a1 + 8) * 0.072099999 + *(float *)(a1 + 4) * 0.71539998 + *(float *)a1 * 0.21250001;
          else
            result = 0.0;
        }
        else
        {
          result = *(float *)(a1 + 12);
        }
      }
      else
      {
        result = *(float *)(a1 + 4);
      }
    }
    else
    {
      result = *(float *)(a1 + 8);
    }
  }
  else
  {
    result = *(float *)a1;
  }
  return result;
}

//----- (1003E4D5) --------------------------------------------------------
signed int __stdcall sub_1003E4D5(int a1, int a2, int a3, int a4, unsigned int a5, int a6, int a7, int a8, int a9)
{
  signed int v9; // eax@4
  signed int v10; // esi@5
  int v12; // [sp+Ch] [bp-64h]@1
  int v13; // [sp+10h] [bp-60h]@16
  int v14; // [sp+14h] [bp-5Ch]@16
  int v15; // [sp+18h] [bp-58h]@8
  int v16; // [sp+1Ch] [bp-54h]@11
  int v17; // [sp+24h] [bp-4Ch]@15
  int v18; // [sp+28h] [bp-48h]@15
  int v19; // [sp+2Ch] [bp-44h]@15
  int v20; // [sp+30h] [bp-40h]@15
  int v21; // [sp+3Ch] [bp-34h]@16
  int v22; // [sp+60h] [bp-10h]@7
  int v23; // [sp+64h] [bp-Ch]@7
  int v24; // [sp+68h] [bp-8h]@7
  int v25; // [sp+6Ch] [bp-4h]@7

  sub_1004A76B((int)&v12);
  if ( !a1 || !a4 || !a5 )
    goto LABEL_13;
  v9 = sub_1004CB7D(&v12, a4, a5, a9, 1);
  if ( v9 >= 0 )
  {
    if ( a6 )
    {
      v22 = *(_DWORD *)a6;
      v23 = *(_DWORD *)(a6 + 4);
      v24 = *(_DWORD *)(a6 + 8);
      v25 = *(_DWORD *)(a6 + 12);
      if ( v22 < 0 || v24 > v15 || v22 > v24 || v23 < 0 || v25 > v16 || v23 > v25 )
      {
LABEL_13:
        v10 = -2005530516;
        goto LABEL_14;
      }
    }
    else
    {
      v22 = v17;
      v23 = v18;
      v24 = v19;
      v25 = v20;
    }
    v9 = sub_1003C967(a1, a2, a3, v13, v12, v21, v14, (int)&v22, a7, a8);
    if ( v9 >= 0 )
    {
      v10 = 0;
      goto LABEL_14;
    }
  }
  v10 = v9;
LABEL_14:
  sub_1004A784(&v12);
  return v10;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1003E58D) --------------------------------------------------------
signed int __stdcall sub_1003E58D(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  signed int v8; // esi@2
  int v9; // ebx@3
  int v10; // edx@12
  int v11; // ecx@15
  int v12; // eax@15
  int v13; // esi@19
  int v14; // eax@20
  int v15; // eax@22
  int v17; // [sp+4h] [bp-44h]@22
  int v18; // [sp+8h] [bp-40h]@24
  int v19; // [sp+Ch] [bp-3Ch]@24
  char v20; // [sp+2Ch] [bp-1Ch]@24
  char v21; // [sp+50h] [bp+8h]@13
  int v22; // [sp+68h] [bp+20h]@13
  int v23; // [sp+6Ch] [bp+24h]@13
  char v24; // [sp+70h] [bp+28h]@1
  int v25; // [sp+80h] [bp+38h]@15
  int v26; // [sp+84h] [bp+3Ch]@15
  int v27; // [sp+88h] [bp+40h]@15
  int v28; // [sp+8Ch] [bp+44h]@15
  int v29; // [sp+90h] [bp+48h]@12
  int v30; // [sp+94h] [bp+4Ch]@12
  int v31; // [sp+98h] [bp+50h]@12
  int v32; // [sp+9Ch] [bp+54h]@12

  CRect::CRect(&v24);
  if ( a1 )
  {
    v9 = a4;
    if ( a4 )
    {
      if ( (unsigned __int16)a7 != 5
        && !a8
        && (a2 == a5 || a2 && a5 && !memcmp((const void *)a2, (const void *)a5, 1024)) )
      {
        if ( a3 )
        {
          v29 = *(_DWORD *)a3;
          v30 = *(_DWORD *)(a3 + 4);
          v31 = *(_DWORD *)(a3 + 8);
          v32 = *(_DWORD *)(a3 + 12);
          v10 = v31;
        }
        else
        {
          (*(void (__stdcall **)(int, char *))(*(_DWORD *)a1 + 32))(a1, &v21);
          v10 = v22;
          v29 = 0;
          v30 = 0;
          v31 = v22;
          v32 = v23;
        }
        if ( a6 )
        {
          v25 = *(_DWORD *)a6;
          v26 = *(_DWORD *)(a6 + 4);
          v27 = *(_DWORD *)(a6 + 8);
          v28 = *(_DWORD *)(a6 + 12);
          v11 = v28;
          v12 = v27;
        }
        else
        {
          (*(void (__fastcall **)(char *, int, int, char *))(*(_DWORD *)v9 + 32))(&v21, v10, v9, &v21);
          v12 = v22;
          v11 = v23;
          v25 = 0;
          v26 = 0;
          v10 = v31;
          v27 = v22;
          v28 = v23;
        }
        if ( v10 - v29 == v12 - v25 )
        {
          if ( v32 - v30 == v11 - v26 )
          {
            (*(void (__stdcall **)(int, int *))(*(_DWORD *)v9 + 12))(v9, &a4);
            sub_1004A6DB(1);
            v13 = (*(int (__stdcall **)(int, int, int *, signed int, int, int *))(*(_DWORD *)a4 + 112))(
                    a4,
                    v9,
                    &v25,
                    1,
                    a1,
                    &v29);
            sub_1004A6DB(0);
            (*(void (__stdcall **)(int))(*(_DWORD *)a4 + 8))(a4);
            if ( v13 >= 0 )
              goto LABEL_29;
          }
        }
      }
      v14 = 1;
      if ( a1 == v9 )
        v14 = 65537;
      v15 = sub_1005079E((int)&v24, (int)&v17, v9, a5, a6, 0, v14);
      if ( v15 < 0 || (v15 = sub_1003C967(a1, a2, a3, v17, v18, v19, a5, (int)&v20, a7, a8), v15 < 0) )
        v8 = v15;
      else
LABEL_29:
        v8 = 0;
    }
    else
    {
      v8 = -2005530516;
    }
  }
  else
  {
    v8 = -2005530516;
  }
  sub_10050799(&v24);
  return v8;
}
// 10050704: using guessed type int __thiscall CRect__CRect(_DWORD);

//----- (1003E733) --------------------------------------------------------
signed int __stdcall sub_1003E733(int a1, int a2, const void *a3, int a4, unsigned int a5, const void *a6, int a7, int a8, int a9)
{
  signed int v9; // eax@4
  signed int v10; // esi@5
  int v12; // [sp+8h] [bp-6Ch]@1
  int v13; // [sp+Ch] [bp-68h]@16
  int v14; // [sp+10h] [bp-64h]@16
  unsigned int v15; // [sp+14h] [bp-60h]@7
  unsigned int v16; // [sp+18h] [bp-5Ch]@9
  unsigned int v17; // [sp+1Ch] [bp-58h]@11
  char v18; // [sp+20h] [bp-54h]@15
  int v19; // [sp+38h] [bp-3Ch]@16
  int v20; // [sp+3Ch] [bp-38h]@16
  unsigned int v21; // [sp+5Ch] [bp-18h]@7
  unsigned int v22; // [sp+60h] [bp-14h]@10
  unsigned int v23; // [sp+64h] [bp-10h]@7
  unsigned int v24; // [sp+68h] [bp-Ch]@9
  unsigned int v25; // [sp+6Ch] [bp-8h]@12
  unsigned int v26; // [sp+70h] [bp-4h]@11

  sub_1004A76B((int)&v12);
  if ( !a1 || !a4 || !a5 )
    goto LABEL_13;
  v9 = sub_1004CB7D(&v12, a4, a5, a9, 1);
  if ( v9 >= 0 )
  {
    if ( a6 )
    {
      memcpy(&v21, a6, 0x18u);
      if ( v23 > v15 || v21 > v23 || v24 > v16 || v22 > v24 || v26 > v17 || v25 > v26 )
      {
LABEL_13:
        v10 = -2005530516;
        goto LABEL_14;
      }
    }
    else
    {
      memcpy(&v21, &v18, 0x18u);
    }
    v9 = sub_1003CB39(a1, a2, a3, v13, v12, v19, v20, v14, &v21, a7, a8);
    if ( v9 >= 0 )
    {
      v10 = 0;
      goto LABEL_14;
    }
  }
  v10 = v9;
LABEL_14:
  sub_1004A784(&v12);
  return v10;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1003E7EF) --------------------------------------------------------
signed int __stdcall sub_1003E7EF(int a1, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8)
{
  signed int v8; // esi@1
  int v9; // eax@4
  int v10; // eax@6
  int v12; // [sp+4h] [bp-50h]@6
  int v13; // [sp+8h] [bp-4Ch]@7
  int v14; // [sp+Ch] [bp-48h]@7
  int v15; // [sp+10h] [bp-44h]@7
  char v16; // [sp+2Ch] [bp-28h]@7
  char v17; // [sp+50h] [bp-4h]@1

  sub_1005077D(&v17);
  v8 = 0;
  if ( a1 && a4 )
  {
    v9 = 1;
    if ( a1 == a4 )
      v9 = 65537;
    v10 = sub_10050BB6(&v17, (int)&v12, a4, a5, a6, 0, v9);
    if ( v10 < 0 || (v10 = sub_1003CB39(a1, a2, a3, v12, v13, v14, v15, a5, &v16, a7, a8), v10 < 0) )
      v8 = v10;
  }
  else
  {
    v8 = -2005530516;
  }
  sub_10050BB1(&v17);
  return v8;
}

//----- (1003E875) --------------------------------------------------------
signed int __thiscall sub_1003E875(void *this, LPCWSTR cbMultiByte, signed int a3, int a4, LPSTR lpMultiByteStr)
{
  int v5; // esi@1
  signed int v6; // esi@2
  int v7; // eax@4
  int v8; // edi@4
  int v9; // eax@4
  int v10; // eax@5
  int v11; // eax@9
  int v12; // ebx@11
  void *v13; // esi@11
  int v14; // eax@14
  int v15; // eax@17
  unsigned int v16; // ecx@18
  void *v17; // edi@18
  char v18; // dl@19
  unsigned int v19; // ecx@19
  int v20; // edi@19
  int i; // ecx@19
  unsigned int v22; // edi@24
  int v23; // ecx@25
  int v24; // eax@26
  int v25; // eax@27
  void *v26; // esi@28
  int v27; // eax@31
  int v28; // ecx@38
  int v29; // eax@39
  int v30; // esi@43
  int v31; // eax@46
  int v32; // edx@47
  int v33; // eax@55
  unsigned int v34; // esi@63
  int v35; // edi@69
  unsigned int v36; // esi@73
  int v37; // edi@75
  char v39; // [sp+4h] [bp-E4h]@55
  char v40; // [sp+50h] [bp-98h]@1
  int v41; // [sp+A4h] [bp-44h]@38
  int v42; // [sp+A8h] [bp-40h]@4
  int v43; // [sp+ACh] [bp-3Ch]@23
  char *v44; // [sp+B0h] [bp-38h]@22
  void *v45; // [sp+B4h] [bp-34h]@11
  unsigned int v46; // [sp+B8h] [bp-30h]@9
  void *v47; // [sp+BCh] [bp-2Ch]@11
  char *v48; // [sp+C0h] [bp-28h]@25
  int v49; // [sp+C4h] [bp-24h]@8
  unsigned int v50; // [sp+C8h] [bp-20h]@11
  unsigned int v51; // [sp+CCh] [bp-1Ch]@22
  int v52; // [sp+D0h] [bp-18h]@11
  int v53; // [sp+D4h] [bp-14h]@11
  int v54; // [sp+D8h] [bp-10h]@50
  int v55; // [sp+E4h] [bp-4h]@1

  v5 = (int)this;
  sub_1004A76B((int)&v40);
  v55 = 0;
  if ( !cbMultiByte || !v5 )
  {
    v6 = -2005530516;
    goto LABEL_80;
  }
  v7 = (*(int (__stdcall **)(int))(*(_DWORD *)v5 + 40))(v5);
  v8 = v7;
  v9 = v7 - 3;
  v42 = v8;
  if ( v9 )
  {
    v10 = v9 - 1;
    if ( v10 )
    {
      if ( v10 != 1 )
      {
        v6 = -2005530516;
        goto LABEL_80;
      }
    }
  }
  v49 = v5;
  if ( a3 == 4 )
  {
    v46 = (((v8 != 5) - 1) & 5) + 1;
    v11 = (*(int (__stdcall **)(int))(*(_DWORD *)v5 + 52))(v5);
  }
  else
  {
    v11 = 1;
    v46 = 1;
  }
  v12 = v46 * v11;
  v13 = 0;
  v50 = v11;
  v53 = 0;
  v52 = 0;
  v47 = 0;
  v45 = 0;
  if ( v8 == 3 )
    goto LABEL_14;
  if ( v8 != 4 )
  {
    if ( v8 != 5 )
    {
LABEL_22:
      v44 = &v40;
      v51 = 0;
      if ( v46 )
      {
        v43 = 0;
        do
        {
          v22 = 0;
          if ( v51 )
          {
            v23 = sub_100015F0(84);
            v48 = (char *)v23;
            LOBYTE(v55) = 3;
            if ( v23 )
              v24 = sub_1004A76B(v23);
            else
              v24 = 0;
            LOBYTE(v55) = 0;
            if ( !v24 )
              goto LABEL_82;
            *((_DWORD *)v44 + 20) = v24;
            v44 = (char *)v24;
          }
          v48 = v44;
          if ( v50 )
          {
            while ( 1 )
            {
              if ( v22 )
              {
                v28 = sub_100015F0(84);
                v41 = v28;
                LOBYTE(v55) = 4;
                if ( v28 )
                  v29 = sub_1004A76B(v28);
                else
                  v29 = 0;
                LOBYTE(v55) = 0;
                if ( !v29 )
                  goto LABEL_82;
                *((_DWORD *)v48 + 19) = v29;
                v48 = (char *)v29;
              }
              v30 = v43 + v22;
              if ( v42 == 3 )
                break;
              if ( v42 == 4 )
              {
                v32 = v52;
LABEL_49:
                v31 = (*(int (__stdcall **)(int, unsigned int, int))(*(_DWORD *)v49 + 60))(v49, v22, v32 + 4 * v30);
                goto LABEL_50;
              }
              if ( v42 != 5 )
                goto LABEL_51;
              v31 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int))(*(_DWORD *)v49 + 60))(
                      v49,
                      v51,
                      v22,
                      v53 + 4 * v30);
LABEL_50:
              v54 = v31;
LABEL_51:
              if ( v54 < 0 )
                goto LABEL_63;
              if ( v42 == 3 )
              {
LABEL_55:
                v33 = sub_1005079E((int)((char *)v47 + 16 * v30), (int)&v39, *(_DWORD *)(v53 + 4 * v30), a4, 0, 0, 1);
LABEL_56:
                v54 = v33;
                goto LABEL_57;
              }
              if ( v42 == 4 )
              {
                v33 = sub_10050BB6((char *)v45 + 4 * v30, (int)&v39, *(_DWORD *)(4 * v30 + v52), a4, 0, 0, 1);
                goto LABEL_56;
              }
              if ( v42 == 5 )
                goto LABEL_55;
LABEL_57:
              if ( v54 < 0 || (v54 = sub_1004A7F9((int)v48, (int)&v39), v54 < 0) )
                goto LABEL_63;
              ++v22;
              if ( v22 >= v50 )
                goto LABEL_60;
            }
            v32 = v53;
            goto LABEL_49;
          }
LABEL_60:
          ++v51;
          v43 += v50;
        }
        while ( v51 < v46 );
      }
      v54 = sub_1004C884(&v40, cbMultiByte, a3, lpMultiByteStr);
      if ( v54 >= 0 )
        v54 = 0;
      goto LABEL_63;
    }
LABEL_14:
    v14 = sub_100015F0(16 * v12 + 4);
    v47 = (void *)v14;
    LOBYTE(v55) = 1;
    if ( v14 )
    {
      v13 = (void *)(v14 + 4);
      *(_DWORD *)v14 = v12;
      unknown_libname_5((void *)(v14 + 4), 0x10u, v12, (int)CRect::CRect, sub_10050799);
    }
    LOBYTE(v55) = 0;
    v47 = v13;
    if ( v13 )
    {
      v15 = sub_100015F0(4 * v12);
      v53 = v15;
      if ( v15 )
      {
        v16 = 4 * v12;
        v17 = (void *)v15;
        goto LABEL_19;
      }
    }
    goto LABEL_82;
  }
  v25 = sub_100015F0(4 * v12 + 4);
  v45 = (void *)v25;
  LOBYTE(v55) = 2;
  if ( v25 )
  {
    v26 = (void *)(v25 + 4);
    *(_DWORD *)v25 = v12;
    unknown_libname_5((void *)(v25 + 4), 4u, v12, (int)sub_1005077D, sub_10050BB1);
  }
  else
  {
    v26 = 0;
  }
  LOBYTE(v55) = 0;
  v45 = v26;
  if ( v26 )
  {
    v27 = sub_100015F0(4 * v12);
    v52 = v27;
    if ( v27 )
    {
      v16 = 4 * v12;
      v17 = (void *)v27;
LABEL_19:
      v18 = v16;
      v19 = v16 >> 2;
      memset(v17, 0, 4 * v19);
      v20 = (int)((char *)v17 + 4 * v19);
      for ( i = v18 & 3; i; --i )
        *(_BYTE *)v20++ = 0;
      goto LABEL_22;
    }
  }
LABEL_82:
  v54 = -2147024882;
LABEL_63:
  v34 = 0;
  if ( v47 )
    CODBCFieldInfo::_vector_deleting_destructor_(v47, 3);
  if ( v45 )
    sub_1003D21C((int)v45, 3);
  if ( v53 )
  {
    if ( v12 )
    {
      do
      {
        v35 = v53 + 4 * v34;
        if ( *(_DWORD *)v35 )
        {
          (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v35 + 8))(*(_DWORD *)v35);
          *(_DWORD *)v35 = 0;
        }
        ++v34;
      }
      while ( v34 < v12 );
    }
    sub_10001610(v53);
  }
  v36 = 0;
  if ( v52 )
  {
    if ( v12 )
    {
      do
      {
        v37 = v52 + 4 * v36;
        if ( *(_DWORD *)v37 )
        {
          (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v37 + 8))(*(_DWORD *)v37);
          *(_DWORD *)v37 = 0;
        }
        ++v36;
      }
      while ( v36 < v12 );
    }
    sub_10001610(v52);
  }
  v6 = v54;
LABEL_80:
  v55 = -1;
  sub_1004A784(&v40);
  return v6;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);
// 10050704: using guessed type int __thiscall CRect__CRect(_DWORD);

//----- (1003EC6F) --------------------------------------------------------
signed int __stdcall sub_1003EC6F(int a1, int a2, unsigned int a3, int a4)
{
  int v4; // esi@1
  int v5; // eax@2
  int v6; // eax@2
  int v7; // eax@3
  int v9; // eax@11
  int v10; // eax@19
  int v11; // esi@32
  int v12; // eax@36
  int *v13; // edx@37
  unsigned int v14; // edi@42
  int v15; // eax@46
  int *v16; // edx@47
  signed int v17; // eax@55
  char v18; // [sp+8h] [bp-64h]@12
  int v19; // [sp+1Ch] [bp-50h]@12
  int v20; // [sp+20h] [bp-4Ch]@13
  int v21; // [sp+24h] [bp-48h]@14
  char v22; // [sp+28h] [bp-44h]@10
  int v23; // [sp+40h] [bp-2Ch]@10
  int v24; // [sp+44h] [bp-28h]@11
  unsigned int v25; // [sp+48h] [bp-24h]@28
  unsigned int v26; // [sp+4Ch] [bp-20h]@19
  int v27; // [sp+50h] [bp-1Ch]@29
  int v28; // [sp+54h] [bp-18h]@6
  unsigned int v29; // [sp+58h] [bp-14h]@31
  int v30; // [sp+5Ch] [bp-10h]@2
  int v31; // [sp+60h] [bp-Ch]@28
  int v32; // [sp+64h] [bp-8h]@28
  int v33; // [sp+68h] [bp-4h]@28

  v4 = a1;
  if ( !a1
    || (v5 = (*(int (__stdcall **)(int))(*(_DWORD *)a1 + 40))(a1), v30 = v5, (v6 = v5 - 3) != 0)
    && (v7 = v6 - 1) != 0
    && v7 != 1 )
    return -2005530516;
  v28 = v4;
  if ( a4 == -1 )
  {
    if ( v30 == 3 )
    {
      (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 56))(v28, 0, &v22);
      if ( !((v23 - 1) & v23) && !((v24 - 1) & v24) )
      {
LABEL_27:
        a4 = 5;
        goto LABEL_17;
      }
      a4 = 0;
    }
    else
    {
      if ( v30 == 4 )
      {
        (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 56))(v28, 0, &v18);
        if ( (v19 - 1) & v19 || (v20 - 1) & v20 )
          goto LABEL_16;
        v9 = v21;
LABEL_15:
        if ( (v9 - 1) & v9 )
          goto LABEL_16;
        goto LABEL_27;
      }
      if ( v30 == 5 )
      {
        (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 56))(v28, 0, &v22);
        if ( (v23 - 1) & v23 )
        {
LABEL_16:
          a4 = 524292;
          goto LABEL_17;
        }
        v9 = v24;
        goto LABEL_15;
      }
    }
    if ( !a4 )
      goto LABEL_16;
    goto LABEL_27;
  }
LABEL_17:
  if ( v30 == 5 )
    BYTE2(a4) |= 7u;
  v10 = (*(int (__stdcall **)(int))(*(_DWORD *)v4 + 52))(v4);
  v26 = v10;
  if ( a3 == -1 )
    a3 = 0;
  if ( a3 >= v10 )
    return -2005530516;
  a1 = 0;
  v32 = 0;
  v33 = 0;
  v31 = 0;
  v25 = (((v30 != 5) - 1) & 5) + 1;
  if ( (unsigned __int8)a4 == 2 || (v27 = 0, (unsigned __int8)a4 == 5) )
    v27 = 1;
  v29 = 0;
  if ( v25 > 0 )
  {
    v11 = a4;
    while ( v30 != 3 )
    {
      if ( v30 == 4 )
      {
        v13 = &v32;
LABEL_39:
        v12 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v28 + 60))(v28, a3, v13);
        goto LABEL_40;
      }
      if ( v30 == 5 )
      {
        v12 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int *))(*(_DWORD *)v28 + 60))(v28, v29, a3, &a1);
LABEL_40:
        v11 = v12;
      }
      if ( v11 < 0 )
        goto LABEL_77;
      v14 = a3;
      while ( 1 )
      {
        ++v14;
        if ( v14 >= v26 )
          break;
        if ( v30 == 3 )
        {
          v16 = &v33;
          goto LABEL_49;
        }
        if ( v30 == 4 )
        {
          v16 = &v31;
LABEL_49:
          v15 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v28 + 60))(v28, v14, v16);
          goto LABEL_50;
        }
        if ( v30 != 5 )
          goto LABEL_51;
        v15 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int *))(*(_DWORD *)v28 + 60))(v28, v29, v14, &v33);
LABEL_50:
        v11 = v15;
LABEL_51:
        if ( v11 < 0 )
          goto LABEL_77;
        if ( v30 == 3 )
        {
LABEL_55:
          v17 = sub_1003E58D(v33, a2, 0, a1, a2, 0, a4, 0);
LABEL_56:
          v11 = v17;
          goto LABEL_57;
        }
        if ( v30 == 4 )
        {
          v17 = sub_1003E7EF(v31, a2, 0, v32, a2, 0, a4, 0);
          goto LABEL_56;
        }
        if ( v30 == 5 )
          goto LABEL_55;
LABEL_57:
        if ( v11 < 0 )
          goto LABEL_77;
        if ( v27 )
        {
          if ( a1 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 8))(a1);
            a1 = 0;
          }
          if ( v32 )
            (*(void (__stdcall **)(int))(*(_DWORD *)v32 + 8))(v32);
          a1 = v33;
          v33 = 0;
          v32 = v31;
LABEL_69:
          v31 = 0;
        }
        else
        {
          if ( v33 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v33 + 8))(v33);
            v33 = 0;
          }
          if ( v31 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v31 + 8))(v31);
            goto LABEL_69;
          }
        }
      }
      if ( a1 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 8))(a1);
        a1 = 0;
      }
      if ( v32 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v32 + 8))(v32);
        v32 = 0;
      }
      ++v29;
      if ( v29 >= v25 )
        goto LABEL_76;
    }
    v13 = &a1;
    goto LABEL_39;
  }
LABEL_76:
  v11 = 0;
LABEL_77:
  if ( a1 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)a1 + 8))(a1);
    a1 = 0;
  }
  if ( v32 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v32 + 8))(v32);
    v32 = 0;
  }
  if ( v33 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v33 + 8))(v33);
    v33 = 0;
  }
  if ( v31 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v31 + 8))(v31);
  return v11;
}

//----- (1003F402) --------------------------------------------------------
signed int __cdecl sub_1003F402(int a1, int a2, unsigned int a3, int a4, int a5, int a6, unsigned int a7, int a8, signed int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17)
{
  int v17; // esi@1
  int v18; // ebx@1
  signed int v19; // edi@2
  signed int v20; // eax@9
  int v21; // eax@13
  int v22; // eax@17
  int v23; // esi@41
  unsigned int v24; // eax@42
  int v25; // ecx@42
  signed int v26; // eax@48
  int v27; // eax@52
  int v28; // ecx@52
  int v29; // esi@52
  signed int v30; // edx@52
  unsigned int v31; // eax@60
  signed int v32; // esi@69
  int v33; // ebx@69
  int v34; // eax@72
  int v35; // eax@81
  int v36; // ebx@86
  int *v37; // esi@88
  int v38; // eax@94
  int *v39; // ecx@95
  signed int v40; // eax@103
  int v41; // eax@118
  int *v42; // ecx@119
  signed int v43; // eax@127
  int v44; // ecx@141
  int v46[256]; // [sp+Ch] [bp-4CCh]@52
  char v47; // [sp+40Ch] [bp-CCh]@8
  int v48; // [sp+428h] [bp-B0h]@46
  int v49; // [sp+438h] [bp-A0h]@46
  int v50; // [sp+44Ch] [bp-8Ch]@1
  int v51; // [sp+454h] [bp-84h]@51
  int v52; // [sp+458h] [bp-80h]@23
  int v53; // [sp+45Ch] [bp-7Ch]@26
  int v54; // [sp+460h] [bp-78h]@29
  int v55; // [sp+498h] [bp-40h]@13
  int v56; // [sp+49Ch] [bp-3Ch]@17
  int *v57; // [sp+4A0h] [bp-38h]@88
  int v58; // [sp+4A4h] [bp-34h]@66
  int v59; // [sp+4A8h] [bp-30h]@38
  unsigned int v60; // [sp+4ACh] [bp-2Ch]@88
  unsigned int v61; // [sp+4B0h] [bp-28h]@16
  unsigned int v62; // [sp+4B4h] [bp-24h]@13
  int v63; // [sp+4B8h] [bp-20h]@1
  int v64; // [sp+4BCh] [bp-1Ch]@1
  int v65; // [sp+4C0h] [bp-18h]@1
  int v66; // [sp+4C4h] [bp-14h]@1
  unsigned int v67; // [sp+4C8h] [bp-10h]@89
  int v68; // [sp+4D4h] [bp-4h]@1

  v17 = a14;
  sub_1004A76B((int)&v50);
  v18 = 0;
  v68 = 0;
  v65 = 0;
  v66 = 0;
  v64 = 0;
  v63 = 0;
  if ( !a1 || !a2 || !a3 || !a17 )
  {
    v19 = -2005530516;
    goto LABEL_150;
  }
  if ( !v17 && a16 == -1 )
    v17 = (int)&v47;
  v20 = sub_1004CB7D(&v50, a2, a3, v17, 1);
  if ( v20 < 0 )
  {
    v19 = v20;
    goto LABEL_150;
  }
  if ( a16 == -1 )
    a16 = *(_DWORD *)(v17 + 20);
  v21 = v55;
  v62 = 1;
  while ( v21 )
  {
    ++v62;
    v21 = *(_DWORD *)(v21 + 76);
  }
  v61 = 1;
  if ( a16 == 5 )
  {
    v22 = v56;
    if ( !v56 )
      goto LABEL_154;
    do
    {
      v22 = *(_DWORD *)(v22 + 80);
      ++v61;
    }
    while ( v22 );
    if ( v61 != 6 )
    {
LABEL_154:
      v19 = -2147467259;
      goto LABEL_150;
    }
  }
  if ( !a4 || a4 == -1 )
    a4 = v52;
  if ( !a5 || a5 == -1 )
    a5 = v53;
  if ( !a6 || a6 == -1 )
    a6 = v54;
  if ( a11 == -1 )
    a11 = 524292;
  if ( a12 == -1 )
    a12 = 5;
  if ( a16 == 5 )
  {
    a11 |= 0x70000u;
    a12 |= 0x70000u;
  }
  if ( (_BYTE)a11 == 1 || (unsigned __int8)a12 == 2 || (v59 = 0, (unsigned __int8)a12 == 5) )
    v59 = 1;
  if ( !a9 )
  {
    v23 = v50;
    if ( a13 )
    {
      v24 = sub_1003C715(v50);
      v25 = *(_DWORD *)(v24 + 4);
      if ( !v25 || v25 == 1 || v25 == 2 )
      {
        if ( !*(_DWORD *)(v24 + 16) )
        {
          memcpy(&v48, (const void *)v24, 0x24u);
          v48 = 0;
          v49 = 1;
          v23 = sub_1003C81C(0, a8, a16, (int)&v48);
          if ( !v23 )
            v23 = v50;
        }
      }
    }
    v26 = sub_1003C8FE(v23);
    a9 = v26;
    if ( a10 != 3 && v26 == 20 )
      a9 = 22;
  }
  if ( v51 )
  {
    v27 = a13 & 0xFF00FF00 | ((unsigned __int8)a13 << 16) | BYTE2(a13);
    v28 = 0;
    v29 = v51 - (_DWORD)v46;
    v30 = 256;
    do
    {
      v46[v28] = *(int *)((char *)&v46[v28] + v29) != v27 ? *(int *)((char *)&v46[v28] + v29) : 0;
      ++v28;
    }
    while ( (unsigned int)v28 < 0x100 );
    v18 = 0;
    a13 = 0;
  }
  else
  {
    v30 = 256;
    memset(v46, -1, sizeof(v46));
    v28 = 0;
  }
  if ( a15 == v18 )
  {
    if ( a9 != 40 )
    {
      if ( a9 != 41 )
        goto LABEL_65;
      a9 = 22;
      v31 = 0;
      while ( BYTE3(v46[v31]) == -1 )
      {
        ++v31;
        if ( v31 >= v30 )
          goto LABEL_65;
      }
    }
    a9 = 21;
    goto LABEL_65;
  }
  memcpy((void *)a15, v46, 4 * v30);
LABEL_65:
  if ( a10 != v18 || (v58 = 1, BYTE1(a8) & 2) )
    v58 = v18;
  v19 = sub_1003CCFC(v28, a8, a1, &a4, &a5, (unsigned int *)&a6, (signed int *)&a7, (int)&a9, a10, a16);
  if ( v19 < v18 )
    goto LABEL_142;
  v32 = a9;
  v33 = a4;
  if ( a16 == 3 )
  {
    v34 = (*(int (__stdcall **)(int, int, int, unsigned int, int, signed int, int, int *))(*(_DWORD *)a1 + 80))(
            a1,
            a4,
            a5,
            a7,
            a8,
            a9,
            a10,
            &v64);
  }
  else
  {
    if ( a16 == 4 )
    {
      v34 = (*(int (__stdcall **)(int, int, int, int, unsigned int, int, signed int, int, int *))(*(_DWORD *)a1 + 84))(
              a1,
              a4,
              a5,
              a6,
              a7,
              a8,
              a9,
              a10,
              &v64);
    }
    else
    {
      if ( a16 != 5 )
        goto LABEL_76;
      v34 = (*(int (__stdcall **)(int, int, unsigned int, int, signed int, int, int *))(*(_DWORD *)a1 + 88))(
              a1,
              a4,
              a7,
              a8,
              a9,
              a10,
              &v64);
    }
  }
  v19 = v34;
LABEL_76:
  if ( v19 < 0 )
    goto LABEL_142;
  if ( !v58 )
  {
    v36 = v64;
    goto LABEL_88;
  }
  if ( a16 == 3 )
  {
    v35 = (*(int (__stdcall **)(int, int, int, unsigned int, _DWORD, signed int, signed int, int *))(*(_DWORD *)a1 + 80))(
            a1,
            v33,
            a5,
            a7,
            0,
            v32,
            2,
            &v63);
  }
  else
  {
    if ( a16 == 4 )
    {
      v35 = (*(int (__stdcall **)(int, int, int, int, unsigned int, _DWORD, signed int, signed int, int *))(*(_DWORD *)a1 + 84))(
              a1,
              v33,
              a5,
              a6,
              a7,
              0,
              v32,
              2,
              &v63);
    }
    else
    {
      if ( a16 != 5 )
        goto LABEL_85;
      v35 = (*(int (__stdcall **)(int, int, unsigned int, _DWORD, signed int, signed int, int *))(*(_DWORD *)a1 + 88))(
              a1,
              v33,
              a7,
              0,
              v32,
              2,
              &v63);
    }
  }
  v19 = v35;
LABEL_85:
  if ( v19 >= 0 )
  {
    v36 = v63;
LABEL_88:
    v60 = 0;
    v37 = &v50;
    v57 = &v50;
    if ( v61 )
    {
      while ( 1 )
      {
        v67 = 0;
        if ( v62 )
        {
          while ( 1 )
          {
            if ( v67 >= a7 )
              goto LABEL_113;
            if ( a16 == 3 )
              break;
            if ( a16 == 4 )
            {
              v39 = &v65;
LABEL_97:
              v38 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v36 + 60))(v36, v67, v39);
              goto LABEL_98;
            }
            if ( a16 != 5 )
              goto LABEL_99;
            v38 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int *))(*(_DWORD *)v36 + 60))(
                    v36,
                    v60,
                    v67,
                    &v66);
LABEL_98:
            v19 = v38;
LABEL_99:
            if ( v19 < 0 )
              goto LABEL_142;
            if ( a16 != 3 )
            {
              if ( a16 == 4 )
              {
                v40 = sub_1003CB39(v65, a15, 0, v37[1], *v37, v37[12], v37[13], (int)v46, v37 + 6, a11, a13);
                goto LABEL_104;
              }
              if ( a16 != 5 )
                goto LABEL_105;
            }
            v40 = sub_1003C967(v66, a15, 0, v37[1], *v37, v37[12], (int)v46, (int)(v37 + 6), a11, a13);
LABEL_104:
            v19 = v40;
LABEL_105:
            if ( v19 < 0 )
              goto LABEL_142;
            if ( v65 )
            {
              (*(void (__stdcall **)(int))(*(_DWORD *)v65 + 8))(v65);
              v65 = 0;
            }
            if ( v66 )
            {
              (*(void (__stdcall **)(int))(*(_DWORD *)v66 + 8))(v66);
              v66 = 0;
            }
            ++v67;
            if ( v67 >= v62 )
              goto LABEL_113;
            v37 = (int *)v37[19];
          }
          v39 = &v66;
          goto LABEL_97;
        }
LABEL_113:
        if ( !v59 && v67 < a7 )
          break;
LABEL_135:
        ++v60;
        v37 = (int *)v57[20];
        v57 = (int *)v57[20];
        if ( v60 >= v61 )
          goto LABEL_136;
      }
      while ( a16 != 3 )
      {
        if ( a16 == 4 )
        {
          v42 = &v65;
LABEL_121:
          v41 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v36 + 60))(v36, v67, v42);
          goto LABEL_122;
        }
        if ( a16 != 5 )
          goto LABEL_123;
        v41 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int *))(*(_DWORD *)v36 + 60))(v36, v60, v67, &v66);
LABEL_122:
        v19 = v41;
LABEL_123:
        if ( v19 < 0 )
          goto LABEL_142;
        if ( a16 == 3 )
        {
LABEL_127:
          v43 = sub_1003C967(v66, a15, 0, v37[1], *v37, v37[12], (int)v46, (int)(v37 + 6), a11, a13);
LABEL_128:
          v19 = v43;
          goto LABEL_129;
        }
        if ( a16 == 4 )
        {
          v43 = sub_1003CB39(v65, a15, 0, v37[1], *v37, v37[12], v37[13], (int)v46, v37 + 6, a11, a13);
          goto LABEL_128;
        }
        if ( a16 == 5 )
          goto LABEL_127;
LABEL_129:
        if ( v19 < 0 )
          goto LABEL_142;
        if ( v65 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)v65 + 8))(v65);
          v65 = 0;
        }
        if ( v66 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)v66 + 8))(v66);
          v66 = 0;
        }
        ++v67;
        if ( v67 >= a7 )
          goto LABEL_135;
      }
      v42 = &v66;
      goto LABEL_121;
    }
LABEL_136:
    if ( !v59 || v62 >= a7 || (v19 = sub_1003EC6F(v36, (int)v46, v62 - 1, a12), v19 >= 0) )
    {
      if ( !v58 || (v19 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)a1 + 116))(a1, v63, v64), v19 >= 0) )
      {
        v44 = v64;
        v64 = 0;
        *(_DWORD *)a17 = v44;
        v19 = 0;
      }
    }
  }
LABEL_142:
  if ( v65 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v65 + 8))(v65);
    v65 = 0;
  }
  if ( v66 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v66 + 8))(v66);
    v66 = 0;
  }
  if ( v64 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v64 + 8))(v64);
    v64 = 0;
  }
  if ( v63 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v63 + 8))(v63);
    v63 = 0;
  }
LABEL_150:
  v68 = -1;
  sub_1004A784(&v50);
  return v19;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);
// 1003F402: using guessed type int var_4CC[256];

//----- (1003FA75) --------------------------------------------------------
signed int __stdcall sub_1003FA75(int a1, int a2, unsigned int a3, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15)
{
  return sub_1003F402(a1, a2, a3, a4, a5, 1, a6, a7, a8, a9, a10, a11, a12, a13, a14, 3, a15);
}

//----- (1003FAB5) --------------------------------------------------------
signed int __stdcall sub_1003FAB5(int a1, int a2, unsigned int a3, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  return sub_1003F402(a1, a2, a3, a4, a4, 1, a5, a6, a7, a8, a9, a10, a11, a12, a13, 5, a14);
}

//----- (1003FAF5) --------------------------------------------------------
signed int __stdcall sub_1003FAF5(int a1, int a2, unsigned int a3, int a4, int a5, int a6, unsigned int a7, int a8, signed int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16)
{
  return sub_1003F402(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, 4, a16);
}

//----- (1003FB36) --------------------------------------------------------
signed int __stdcall sub_1003FB36(int a1, LPCWSTR lpFileName, int a3, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  signed int v14; // eax@1
  signed int v15; // esi@3
  char v17; // [sp+4h] [bp-10h]@1
  int v18; // [sp+Ch] [bp-8h]@2
  unsigned int v19; // [sp+10h] [bp-4h]@2

  sub_10038691((int)&v17);
  v14 = sub_100386A3(&v17, lpFileName, 0);
  if ( v14 >= 0 )
    v14 = sub_1003FA75(a1, v18, v19, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14);
  v15 = v14;
  sub_100388BE((int)&v17);
  return v15;
}

//----- (1003FB99) --------------------------------------------------------
signed int __stdcall sub_1003FB99(int a1, LPCWSTR lpFileName, int a3, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  signed int v14; // eax@1
  signed int v15; // esi@3
  char v17; // [sp+4h] [bp-10h]@1
  int v18; // [sp+Ch] [bp-8h]@2
  unsigned int v19; // [sp+10h] [bp-4h]@2

  sub_10038691((int)&v17);
  v14 = sub_100386A3(&v17, lpFileName, (LPSTR)1);
  if ( v14 >= 0 )
    v14 = sub_1003FA75(a1, v18, v19, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14);
  v15 = v14;
  sub_100388BE((int)&v17);
  return v15;
}

//----- (1003FBFC) --------------------------------------------------------
signed int __stdcall sub_1003FBFC(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15)
{
  signed int v15; // eax@1
  signed int v16; // esi@3
  char v18; // [sp+4h] [bp-Ch]@1
  int v19; // [sp+8h] [bp-8h]@2
  unsigned int v20; // [sp+Ch] [bp-4h]@2

  unknown_libname_14(&v18);
  v15 = sub_1003B234((HGDIOBJ *)&v18, hModule, lpName, 1, 0);
  if ( v15 >= 0 )
    v15 = sub_1003FA75(a1, v19, v20, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15);
  v16 = v15;
  Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::_InitialThreadParam(&v18);
  return v16;
}
// 1003B1FA: using guessed type int __thiscall unknown_libname_14(_DWORD);
// 1003B207: using guessed type int __thiscall Concurrency__details__UMSFreeVirtualProcessorRoot__InitialThreadParam___InitialThreadParam(_DWORD);

//----- (1003FC64) --------------------------------------------------------
signed int __stdcall sub_1003FC64(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15)
{
  signed int v15; // eax@1
  signed int v16; // esi@3
  char v18; // [sp+4h] [bp-Ch]@1
  int v19; // [sp+8h] [bp-8h]@2
  unsigned int v20; // [sp+Ch] [bp-4h]@2

  unknown_libname_14(&v18);
  v15 = sub_1003B234((HGDIOBJ *)&v18, hModule, lpName, 1, 1);
  if ( v15 >= 0 )
    v15 = sub_1003FA75(a1, v19, v20, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15);
  v16 = v15;
  Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::_InitialThreadParam(&v18);
  return v16;
}
// 1003B1FA: using guessed type int __thiscall unknown_libname_14(_DWORD);
// 1003B207: using guessed type int __thiscall Concurrency__details__UMSFreeVirtualProcessorRoot__InitialThreadParam___InitialThreadParam(_DWORD);

//----- (1003FCFC) --------------------------------------------------------
signed int __stdcall sub_1003FCFC(int a1, LPCWSTR lpFileName, int a3, unsigned int a4, int a5, signed int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13)
{
  signed int v13; // eax@1
  signed int v14; // esi@3
  char v16; // [sp+4h] [bp-10h]@1
  int v17; // [sp+Ch] [bp-8h]@2
  unsigned int v18; // [sp+10h] [bp-4h]@2

  sub_10038691((int)&v16);
  v13 = sub_100386A3(&v16, lpFileName, 0);
  if ( v13 >= 0 )
    v13 = sub_1003FAB5(a1, v17, v18, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13);
  v14 = v13;
  sub_100388BE((int)&v16);
  return v14;
}

//----- (1003FD5C) --------------------------------------------------------
signed int __stdcall sub_1003FD5C(int a1, LPCWSTR lpFileName, int a3, unsigned int a4, int a5, signed int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13)
{
  signed int v13; // eax@1
  signed int v14; // esi@3
  char v16; // [sp+4h] [bp-10h]@1
  int v17; // [sp+Ch] [bp-8h]@2
  unsigned int v18; // [sp+10h] [bp-4h]@2

  sub_10038691((int)&v16);
  v13 = sub_100386A3(&v16, lpFileName, (LPSTR)1);
  if ( v13 >= 0 )
    v13 = sub_1003FAB5(a1, v17, v18, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13);
  v14 = v13;
  sub_100388BE((int)&v16);
  return v14;
}

//----- (1003FDBC) --------------------------------------------------------
signed int __stdcall sub_1003FDBC(int a1, HMODULE hModule, LPCWSTR lpName, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  signed int v14; // eax@1
  signed int v15; // esi@3
  char v17; // [sp+4h] [bp-Ch]@1
  int v18; // [sp+8h] [bp-8h]@2
  unsigned int v19; // [sp+Ch] [bp-4h]@2

  unknown_libname_14(&v17);
  v14 = sub_1003B234((HGDIOBJ *)&v17, hModule, lpName, 1, 0);
  if ( v14 >= 0 )
    v14 = sub_1003FAB5(a1, v18, v19, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14);
  v15 = v14;
  Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::_InitialThreadParam(&v17);
  return v15;
}
// 1003B1FA: using guessed type int __thiscall unknown_libname_14(_DWORD);
// 1003B207: using guessed type int __thiscall Concurrency__details__UMSFreeVirtualProcessorRoot__InitialThreadParam___InitialThreadParam(_DWORD);

//----- (1003FE21) --------------------------------------------------------
signed int __stdcall sub_1003FE21(int a1, HMODULE hModule, LPCWSTR lpName, int a4, unsigned int a5, int a6, signed int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  signed int v14; // eax@1
  signed int v15; // esi@3
  char v17; // [sp+4h] [bp-Ch]@1
  int v18; // [sp+8h] [bp-8h]@2
  unsigned int v19; // [sp+Ch] [bp-4h]@2

  unknown_libname_14(&v17);
  v14 = sub_1003B234((HGDIOBJ *)&v17, hModule, lpName, 1, 1);
  if ( v14 >= 0 )
    v14 = sub_1003FAB5(a1, v18, v19, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14);
  v15 = v14;
  Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::_InitialThreadParam(&v17);
  return v15;
}
// 1003B1FA: using guessed type int __thiscall unknown_libname_14(_DWORD);
// 1003B207: using guessed type int __thiscall Concurrency__details__UMSFreeVirtualProcessorRoot__InitialThreadParam___InitialThreadParam(_DWORD);

//----- (1003FEB6) --------------------------------------------------------
signed int __stdcall sub_1003FEB6(int a1, LPCWSTR lpFileName, int a3, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15)
{
  signed int v15; // eax@1
  signed int v16; // esi@3
  char v18; // [sp+4h] [bp-10h]@1
  int v19; // [sp+Ch] [bp-8h]@2
  unsigned int v20; // [sp+10h] [bp-4h]@2

  sub_10038691((int)&v18);
  v15 = sub_100386A3(&v18, lpFileName, 0);
  if ( v15 >= 0 )
    v15 = sub_1003FAF5(a1, v19, v20, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15);
  v16 = v15;
  sub_100388BE((int)&v18);
  return v16;
}

//----- (1003FF1C) --------------------------------------------------------
signed int __stdcall sub_1003FF1C(int a1, LPCWSTR lpFileName, int a3, int a4, int a5, unsigned int a6, int a7, signed int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15)
{
  signed int v15; // eax@1
  signed int v16; // esi@3
  char v18; // [sp+4h] [bp-10h]@1
  int v19; // [sp+Ch] [bp-8h]@2
  unsigned int v20; // [sp+10h] [bp-4h]@2

  sub_10038691((int)&v18);
  v15 = sub_100386A3(&v18, lpFileName, (LPSTR)1);
  if ( v15 >= 0 )
    v15 = sub_1003FAF5(a1, v19, v20, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15);
  v16 = v15;
  sub_100388BE((int)&v18);
  return v16;
}

//----- (1003FF82) --------------------------------------------------------
signed int __stdcall sub_1003FF82(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, int a6, unsigned int a7, int a8, signed int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16)
{
  signed int v16; // eax@1
  signed int v17; // esi@3
  char v19; // [sp+4h] [bp-Ch]@1
  int v20; // [sp+8h] [bp-8h]@2
  unsigned int v21; // [sp+Ch] [bp-4h]@2

  unknown_libname_14(&v19);
  v16 = sub_1003B234((HGDIOBJ *)&v19, hModule, lpName, 1, 0);
  if ( v16 >= 0 )
    v16 = sub_1003FAF5(a1, v20, v21, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16);
  v17 = v16;
  Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::_InitialThreadParam(&v19);
  return v17;
}
// 1003B1FA: using guessed type int __thiscall unknown_libname_14(_DWORD);
// 1003B207: using guessed type int __thiscall Concurrency__details__UMSFreeVirtualProcessorRoot__InitialThreadParam___InitialThreadParam(_DWORD);

//----- (1003FFED) --------------------------------------------------------
signed int __stdcall sub_1003FFED(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, int a6, unsigned int a7, int a8, signed int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16)
{
  signed int v16; // eax@1
  signed int v17; // esi@3
  char v19; // [sp+4h] [bp-Ch]@1
  int v20; // [sp+8h] [bp-8h]@2
  unsigned int v21; // [sp+Ch] [bp-4h]@2

  unknown_libname_14(&v19);
  v16 = sub_1003B234((HGDIOBJ *)&v19, hModule, lpName, 1, 1);
  if ( v16 >= 0 )
    v16 = sub_1003FAF5(a1, v20, v21, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16);
  v17 = v16;
  Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::_InitialThreadParam(&v19);
  return v17;
}
// 1003B1FA: using guessed type int __thiscall unknown_libname_14(_DWORD);
// 1003B207: using guessed type int __thiscall Concurrency__details__UMSFreeVirtualProcessorRoot__InitialThreadParam___InitialThreadParam(_DWORD);

//----- (10040279) --------------------------------------------------------
signed int __thiscall sub_10040279(int this, int a2)
{
  int v2; // ebx@1
  int v3; // eax@1
  int v4; // ebp@2
  signed int result; // eax@3

  v2 = this;
  v3 = *(_DWORD *)(this + 8);
  if ( *(_DWORD *)(this + 4) == v3 )
  {
    v4 = sub_100015F0(4 * v3 + 64);
    if ( !v4 )
    {
      result = -2147024882;
      *(_DWORD *)(v2 + 12) = -2147024882;
      return result;
    }
    if ( *(_DWORD *)v2 )
    {
      memcpy((void *)v4, *(const void **)v2, 4 * *(_DWORD *)(v2 + 4));
      sub_10001610(*(_DWORD *)v2);
    }
    *(_DWORD *)(v2 + 8) += 16;
    *(_DWORD *)v2 = v4;
  }
  *(_DWORD *)(*(_DWORD *)v2 + 4 * (*(_DWORD *)(v2 + 4))++) = a2;
  return 0;
}

//----- (100402E7) --------------------------------------------------------
signed int __thiscall sub_100402E7(int this, int a2)
{
  int v2; // eax@1
  signed int result; // eax@4
  int v4; // eax@5

  v2 = *(_DWORD *)(this + 4);
  if ( v2 )
  {
    v4 = v2 - 1;
    *(_DWORD *)(this + 4) = v4;
    if ( a2 )
      *(_DWORD *)a2 = *(_DWORD *)(*(_DWORD *)this + 4 * v4);
    result = 0;
  }
  else
  {
    if ( a2 )
      *(_DWORD *)a2 = 0;
    result = -2147467259;
    *(_DWORD *)(this + 12) = -2147467259;
  }
  return result;
}

//----- (1004031B) --------------------------------------------------------
int __thiscall sub_1004031B(int this)
{
  int result; // eax@1

  result = *(_DWORD *)(this + 12);
  *(_DWORD *)(this + 12) = 0;
  return result;
}

//----- (10040323) --------------------------------------------------------
int __thiscall sub_10040323(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  return result;
}

//----- (10040336) --------------------------------------------------------
int __thiscall sub_10040336(int this)
{
  int v1; // esi@1
  unsigned int v2; // edi@2
  int result; // eax@6

  v1 = this;
  if ( *(_DWORD *)this )
  {
    v2 = 0;
    if ( *(_DWORD *)(this + 4) )
    {
      do
      {
        if ( *(_DWORD *)(*(_DWORD *)v1 + 4 * v2) )
          sub_10001610(*(_DWORD *)(*(_DWORD *)v1 + 4 * v2));
        ++v2;
      }
      while ( v2 < *(_DWORD *)(v1 + 4) );
    }
    result = sub_10001610(*(_DWORD *)v1);
  }
  return result;
}

//----- (10040367) --------------------------------------------------------
signed int __thiscall sub_10040367(int this, const char *a2)
{
  int v2; // ebx@1
  int v3; // eax@1
  int v4; // ebp@2
  unsigned int v5; // ebp@7
  int v6; // eax@7
  signed int result; // eax@8
  int v8; // ecx@9
  const void *v9; // edx@9

  v2 = this;
  v3 = *(_DWORD *)(this + 8);
  if ( *(_DWORD *)(this + 4) == v3 )
  {
    v4 = sub_100015F0(4 * v3 + 64);
    if ( !v4 )
    {
LABEL_8:
      result = -2147024882;
      *(_DWORD *)(v2 + 12) = -2147024882;
      return result;
    }
    if ( *(_DWORD *)v2 )
    {
      memcpy((void *)v4, *(const void **)v2, 4 * *(_DWORD *)(v2 + 4));
      sub_10001610(*(_DWORD *)v2);
    }
    *(_DWORD *)(v2 + 8) += 16;
    *(_DWORD *)v2 = v4;
  }
  if ( a2 )
  {
    v5 = strlen(a2);
    v6 = sub_100015F0(v5 + 1);
    if ( !v6 )
      goto LABEL_8;
    memcpy((void *)v6, a2, v5);
    *(_BYTE *)(v6 + v5) = 0;
    v8 = *(_DWORD *)(v2 + 4);
    v9 = *(const void **)v2;
    *(_DWORD *)(v2 + 16) += v5;
    *((_DWORD *)v9 + v8) = v6;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)v2 + 4 * *(_DWORD *)(v2 + 4)) = 0;
  }
  ++*(_DWORD *)(v2 + 4);
  return 0;
}

//----- (1004041A) --------------------------------------------------------
signed int __thiscall sub_1004041A(int this, int a2)
{
  int v2; // eax@1
  signed int result; // eax@4
  int v4; // eax@5

  v2 = *(_DWORD *)(this + 4);
  if ( v2 )
  {
    v4 = v2 - 1;
    *(_DWORD *)(this + 4) = v4;
    if ( a2 )
      *(_DWORD *)a2 = *(_DWORD *)(*(_DWORD *)this + 4 * v4);
    result = 0;
  }
  else
  {
    if ( a2 )
      *(_DWORD *)a2 = 0;
    result = -2147467259;
    *(_DWORD *)(this + 12) = -2147467259;
  }
  return result;
}

//----- (1004044E) --------------------------------------------------------
int __thiscall sub_1004044E(int this)
{
  int result; // eax@1

  result = *(_DWORD *)(this + 12);
  *(_DWORD *)(this + 12) = 0;
  return result;
}

//----- (10040456) --------------------------------------------------------
signed int __userpurge sub_10040456<eax>(int a1<ecx>, int a2<edi>, int a3)
{
  int v3; // ebx@1
  signed int result; // eax@2
  int v5; // eax@3
  int v6; // edi@4
  int v7; // eax@8
  bool v8; // sf@8
  int v9; // eax@8
  int v10; // eax@10
  const void *v11; // esi@11
  int v12; // ecx@12
  char v13; // dl@13
  unsigned int v14; // edx@14
  void *v15; // edi@14
  int v16; // eax@14
  int v17; // [sp-4h] [bp-24h]@3
  int v18; // [sp+Ch] [bp-14h]@4
  int v19; // [sp+10h] [bp-10h]@8
  unsigned int v20; // [sp+10h] [bp-10h]@10

  v3 = a1;
  *(_DWORD *)a3 = 0;
  if ( *(_DWORD *)(a1 + 16) )
  {
    v17 = a2;
    v5 = sub_100015F0(16);
    if ( v5 )
    {
      v6 = sub_1004080E(v5);
      v18 = v6;
    }
    else
    {
      v18 = 0;
      v6 = 0;
    }
    if ( v6 )
    {
      v7 = (*(int (__thiscall **)(int, int, int))(*(_DWORD *)v6 + 24))(
             v6,
             *(_DWORD *)(v3 + 4) + *(_DWORD *)(v3 + 16) + 1,
             v17);
      v19 = v7;
      v8 = v7 < 0;
      v9 = *(_DWORD *)v6;
      if ( v8 )
      {
        (*(void (__thiscall **)(int))(v9 + 20))(v6);
        result = v19;
      }
      else
      {
        v10 = (*(int (**)(void))(v9 + 12))();
        v20 = 0;
        if ( *(_DWORD *)(v3 + 4) )
        {
          do
          {
            v11 = *(const void **)(*(_DWORD *)v3 + 4 * v20);
            if ( v11 )
            {
              v12 = *(_DWORD *)(*(_DWORD *)v3 + 4 * v20);
              do
                v13 = *(_BYTE *)v12++;
              while ( v13 );
              v14 = v12 - (_DWORD)((char *)v11 + 1);
              memcpy((void *)v10, v11, 4 * (v14 >> 2));
              v15 = (void *)(v10 + 4 * (v14 >> 2));
              v16 = v14 + v10;
              memcpy(v15, (char *)v11 + 4 * (v14 >> 2), v14 & 3);
              v6 = v18;
              *(_BYTE *)v16 = 10;
              v10 = v16 + 1;
            }
            ++v20;
          }
          while ( v20 < *(_DWORD *)(v3 + 4) );
        }
        *(_BYTE *)v10 = 0;
        *(_DWORD *)a3 = v6;
        result = 0;
      }
    }
    else
    {
      result = -2147024882;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10040456: could not find valid save-restore pair for edi

//----- (1004053E) --------------------------------------------------------
int __thiscall sub_1004053E(int this)
{
  int v1; // ecx@1
  int result; // eax@2

  *(_DWORD *)this = &off_100745B0;
  v1 = *(_DWORD *)(this + 12);
  if ( v1 )
    result = sub_10001610(v1);
  return result;
}
// 100745B0: using guessed type int (__stdcall *off_100745B0)(int, int, int);

//----- (10040553) --------------------------------------------------------
signed int __thiscall sub_10040553(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@1

  v2 = this;
  *(_DWORD *)(this + 8) = a2;
  v3 = sub_100015F0(a2);
  *(_DWORD *)(v2 + 12) = v3;
  return v3 != 0 ? 0 : -2147024882;
}

//----- (10040579) --------------------------------------------------------
int __stdcall sub_10040579(int a1)
{
  ++*(_DWORD *)(a1 + 4);
  return *(_DWORD *)(a1 + 4);
}

//----- (10040586) --------------------------------------------------------
int __stdcall sub_10040586(int a1)
{
  int v1; // eax@1
  int v2; // esi@1

  v1 = *(_DWORD *)(a1 + 4);
  v2 = v1 - 1;
  *(_DWORD *)(a1 + 4) = v1 - 1;
  if ( v1 == 1 )
    (*(void (__stdcall **)(signed int))(*(_DWORD *)a1 + 20))(1);
  return v2;
}

//----- (100405A6) --------------------------------------------------------
int __stdcall sub_100405A6(int a1)
{
  return *(_DWORD *)(a1 + 12);
}

//----- (100405B0) --------------------------------------------------------
int __stdcall sub_100405B0(int a1)
{
  return *(_DWORD *)(a1 + 8);
}

//----- (1004060F) --------------------------------------------------------
int __thiscall sub_1004060F(int this)
{
  int v1; // eax@1

  v1 = *(_DWORD *)(this + 12);
  *(_DWORD *)this = &off_100745CC;
  if ( v1 )
    *(_DWORD *)(this + 12) = v1 - *(_BYTE *)(v1 - 1);
  return sub_1004053E(this);
}
// 100745CC: using guessed type int (__stdcall *off_100745CC)(int, int, int);

//----- (1004062A) --------------------------------------------------------
int __thiscall sub_1004062A(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1004060F(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (10040646) --------------------------------------------------------
signed int __thiscall sub_10040646(int this, int a2)
{
  int v2; // esi@1
  signed int result; // eax@1
  unsigned __int8 v4; // cl@2

  v2 = this;
  *(_DWORD *)(this + 8) = a2;
  result = sub_10040553(this, a2 + 16);
  if ( result >= 0 )
  {
    v4 = 16 - (*(_BYTE *)(v2 + 12) & 0xF);
    *(_DWORD *)(v2 + 12) += v4;
    *(_BYTE *)(*(_DWORD *)(v2 + 12) - 1) = v4;
  }
  return result;
}

//----- (10040677) --------------------------------------------------------
signed int __thiscall sub_10040677(int this, int a2)
{
  int v2; // esi@1
  signed int result; // eax@1
  int v4; // eax@2
  int v5; // ecx@2

  v2 = this;
  result = sub_10040553(this, a2);
  if ( result >= 0 )
  {
    v4 = *(_DWORD *)(v2 + 12);
    v5 = v4 + *(_DWORD *)(v2 + 8);
    *(_DWORD *)(v2 + 16) = v4;
    *(_DWORD *)(v2 + 20) = v5;
    result = 0;
  }
  return result;
}

//----- (100407A8) --------------------------------------------------------
int __thiscall sub_100407A8(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_1004053E(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (100407C7) --------------------------------------------------------
signed int __stdcall sub_100407C7(int a1, const void *a2, int a3)
{
  int v3; // edx@1
  signed int result; // eax@3

  *(_DWORD *)a3 = 0;
  v3 = 0;
  if ( memcmp(a2, &unk_100777E0, 16) && (v3 = 0, memcmp(a2, &unk_10073E30, 16)) )
  {
    result = -2147467262;
  }
  else
  {
    *(_DWORD *)a3 = a1;
    (*(void (__fastcall **)(int, int, int))(*(_DWORD *)a1 + 4))(a1, v3, a1);
    result = 0;
  }
  return result;
}

//----- (1004080E) --------------------------------------------------------
int __thiscall sub_1004080E(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)this = &off_100745B0;
  *(_DWORD *)(this + 4) = 1;
  return result;
}
// 100745B0: using guessed type int (__stdcall *off_100745B0)(int, int, int);

//----- (10040834) --------------------------------------------------------
int __thiscall sub_10040834(int this)
{
  int v1; // ecx@1

  sub_1004080E(this);
  *(_DWORD *)(v1 + 16) = 0;
  *(_DWORD *)(v1 + 20) = 0;
  *(_DWORD *)v1 = &off_100745EC;
  return v1;
}
// 100745EC: using guessed type int (__stdcall *off_100745EC)(int, int, int);

//----- (1004084A) --------------------------------------------------------
int __thiscall sub_1004084A(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10040866();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10040866: using guessed type int sub_10040866(void);

//----- (10040920) --------------------------------------------------------
int __stdcall sub_10040920(int a1, int a2, int a3)
{
  *(_OWORD *)a1 = _mm_add_ps(
                    _mm_add_ps(
                      _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
                      *(__m128 *)(a3 + 48)),
                    _mm_mul_ps(
                      _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0),
                      *(__m128 *)(a3 + 16)));
  return a1;
}

//----- (10040960) --------------------------------------------------------
double *__stdcall sub_10040960(double *a1, int a2, int a3)
{
  __m128 v3; // xmm2@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm1@1

  v3 = _mm_add_ps(
         _mm_add_ps(
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
           *(__m128 *)(a3 + 48)),
         _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), *(__m128 *)(a3 + 16)));
  v4 = _mm_rcp_ps(v3);
  v5 = _mm_mul_ps(_mm_mul_ps(v4, v4), v3);
  _mm_storel_ps(a1, _mm_mul_ps(v3, _mm_shuffle_ps(v5, v5, -1)));
  return a1;
}

//----- (100409C0) --------------------------------------------------------
double *__stdcall sub_100409C0(double *a1, int a2, int a3)
{
  _mm_storel_ps(
    a1,
    _mm_add_ps(
      _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
      _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), *(__m128 *)(a3 + 16))));
  return a1;
}

//----- (10040A00) --------------------------------------------------------
int __stdcall sub_10040A00(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@2
  __m128 v4; // xmm0@2
  int result; // eax@2
  __m128 v6; // xmm1@3
  __m128 v7; // xmm3@3

  if ( a3 & 0xF )
  {
    v6 = _mm_loadl_ps((const double *)a2);
    v7 = _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v6, v6, 0)),
             _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v6, v6, 85))),
           _mm_mul_ps(
             _mm_loadh_ps((const double *)(a3 + 40)),
             _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0)));
    _mm_storel_ps((double *)a1, v7);
    *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v7, v7);
    result = a1;
  }
  else
  {
    v3 = _mm_loadl_ps((const double *)a2);
    v4 = _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3),
             _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16))),
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0), *(__m128 *)(a3 + 32)));
    _mm_storel_ps((double *)a1, v4);
    *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v4, v4);
    result = a1;
  }
  return result;
}

//----- (10040AC0) --------------------------------------------------------
int __stdcall sub_10040AC0(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@2
  int result; // eax@2
  __m128 v5; // xmm2@3

  if ( a3 & 0xF )
  {
    v5 = _mm_loadl_ps((const double *)a2);
    *(_OWORD *)a1 = _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v5, v5, 0)),
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v5, v5, 85))),
                      _mm_add_ps(
                        _mm_mul_ps(
                          _mm_loadh_ps((const double *)(a3 + 40)),
                          _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0)),
                        _mm_loadh_ps((const double *)(a3 + 56))));
    result = a1;
  }
  else
  {
    v3 = _mm_loadl_ps((const double *)a2);
    *(_OWORD *)a1 = _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3),
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16))),
                      _mm_add_ps(
                        _mm_mul_ps(
                          _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0),
                          *(__m128 *)(a3 + 32)),
                        *(__m128 *)(a3 + 48)));
    result = a1;
  }
  return result;
}

//----- (10040B80) --------------------------------------------------------
int __stdcall sub_10040B80(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@2
  __m128 v4; // xmm0@2
  __m128 v5; // xmm1@2
  __m128 v6; // xmm2@2
  __m128 v7; // xmm0@2
  int result; // eax@2
  __m128 v9; // xmm2@3
  __m128 v10; // xmm4@3
  __m128 v11; // xmm0@3
  __m128 v12; // xmm1@3
  __m128 v13; // xmm4@3

  if ( a3 & 0xF )
  {
    v9 = _mm_loadl_ps((const double *)a2);
    v10 = _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v9, v9, 0)),
              _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v9, v9, 85))),
            _mm_add_ps(
              _mm_mul_ps(
                _mm_loadh_ps((const double *)(a3 + 40)),
                _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0)),
              _mm_loadh_ps((const double *)(a3 + 56))));
    v11 = _mm_rcp_ps(v10);
    v12 = _mm_sub_ps(_mm_add_ps(v11, v11), _mm_mul_ps(_mm_mul_ps(v11, v10), v11));
    v13 = _mm_mul_ps(v10, _mm_shuffle_ps(v12, v12, -1));
    _mm_storel_ps((double *)a1, v13);
    *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v13, v13);
    result = a1;
  }
  else
  {
    v3 = _mm_loadl_ps((const double *)a2);
    v4 = _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3),
             _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16))),
           _mm_add_ps(
             _mm_mul_ps(
               _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0),
               *(__m128 *)(a3 + 32)),
             *(__m128 *)(a3 + 48)));
    v5 = _mm_rcp_ps(v4);
    v6 = _mm_sub_ps(_mm_add_ps(v5, v5), _mm_mul_ps(_mm_mul_ps(v5, v4), v5));
    v7 = _mm_mul_ps(v4, _mm_shuffle_ps(v6, v6, -1));
    _mm_storel_ps((double *)a1, v7);
    *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v7, v7);
    result = a1;
  }
  return result;
}

//----- (10040C80) --------------------------------------------------------
int __stdcall sub_10040C80(int a1, __m128 *a2, int a3)
{
  __m128 v3; // xmm2@2
  int result; // eax@2
  __m128 v5; // xmm5@3

  if ( a3 & 0xF )
  {
    v5 = *(__m128 *)&a2->m128_f32[0];
    *(_OWORD *)a1 = _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v5, v5, 0)),
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v5, v5, 85))),
                      _mm_add_ps(
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 40)), _mm_shuffle_ps(v5, v5, -86)),
                        _mm_mul_ps(
                          _mm_loadh_ps((const double *)(a3 + 56)),
                          _mm_shuffle_ps(COERCE__M128(a2->m128_f32[0]), COERCE__M128(a2->m128_f32[0]), -1))));
    result = a1;
  }
  else
  {
    v3 = *(__m128 *)&a2->m128_f32[0];
    *(_OWORD *)a1 = _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3),
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16))),
                      _mm_add_ps(
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, -86), *(__m128 *)(a3 + 32)),
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, -1), *(__m128 *)(a3 + 48))));
    result = a1;
  }
  return result;
}

//----- (10040D40) --------------------------------------------------------
int __stdcall sub_10040D40(int a1, int a2, int a3)
{
  int v3; // edx@1
  int result; // eax@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm1@1
  __m128 v8; // xmm0@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm6@1
  __m128 v12; // xmm7@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm1@1
  __m128 v15; // xmm7@1

  v3 = a2;
  result = a1;
  v5 = _mm_loadh_ps((const double *)(a3 + 8));
  v6 = _mm_loadh_ps((const double *)(a3 + 24));
  v7 = _mm_loadh_ps((const double *)(a3 + 40));
  v8 = _mm_loadh_ps((const double *)(a3 + 56));
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)v3, (__m128)*(_DWORD *)v3, 0), v5),
             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 4), (__m128)*(_DWORD *)(v3 + 4), 0), v6)),
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 8), (__m128)*(_DWORD *)(v3 + 8), 0), v7)),
         _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 12), (__m128)*(_DWORD *)(v3 + 12), 0), v8));
  v10 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 16), (__m128)*(_DWORD *)(v3 + 16), 0), v5),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 20), (__m128)*(_DWORD *)(v3 + 20), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 24), (__m128)*(_DWORD *)(v3 + 24), 0), v7)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 28), (__m128)*(_DWORD *)(v3 + 28), 0), v8));
  v11 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 32), (__m128)*(_DWORD *)(v3 + 32), 0), v5),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 36), (__m128)*(_DWORD *)(v3 + 36), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 40), (__m128)*(_DWORD *)(v3 + 40), 0), v7)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 44), (__m128)*(_DWORD *)(v3 + 44), 0), v8));
  v12 = _mm_add_ps(
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 48), (__m128)*(_DWORD *)(v3 + 48), 0), v5),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 52), (__m128)*(_DWORD *)(v3 + 52), 0), v6));
  v13 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 56), (__m128)*(_DWORD *)(v3 + 56), 0), v7);
  v14 = (__m128)*(_DWORD *)(a2 + 60);
  _mm_storel_ps((double *)a1, v9);
  _mm_storeh_ps((double *)(a1 + 8), v9);
  _mm_storel_ps((double *)(a1 + 16), v10);
  _mm_storeh_ps((double *)(a1 + 24), v10);
  _mm_storel_ps((double *)(a1 + 32), v11);
  _mm_storeh_ps((double *)(a1 + 40), v11);
  v15 = _mm_add_ps(_mm_add_ps(v12, v13), _mm_mul_ps(_mm_shuffle_ps(v14, v14, 0), v8));
  _mm_storel_ps((double *)(a1 + 48), v15);
  _mm_storeh_ps((double *)(a1 + 56), v15);
  return result;
}

//----- (10040E90) --------------------------------------------------------
int __stdcall sub_10040E90(int a1, int a2)
{
  int result; // eax@1
  __int128 v3; // xmm0@1
  __int128 v4; // xmm6@1
  __int128 v5; // xmm5@1
  __int128 v6; // xmm2@1
  __int128 v7; // xmm3@1
  __int128 v8; // xmm4@1
  __int128 v9; // xmm3@1
  __int128 v10; // xmm2@3
  __int128 v11; // xmm4@3
  float v12; // xmm3_4@3
  __int128 v13; // xmm3@3
  __int128 v14; // xmm0@3
  __int128 v15; // xmm1@3
  __int128 v16; // xmm1@3

  result = a1;
  v3 = *(_DWORD *)a2;
  v4 = *(_DWORD *)(a2 + 4);
  v5 = *(_DWORD *)(a2 + 8);
  v6 = *(_DWORD *)a2;
  *(float *)&v6 = (float)(*(float *)&v6 * *(float *)&v6) + (float)(*(float *)(a2 + 4) * *(float *)(a2 + 4));
  v7 = *(_DWORD *)(a2 + 8);
  *(float *)&v7 = *(float *)&v7 * *(float *)&v7;
  v8 = v7;
  v9 = v6;
  *(float *)&v9 = *(float *)&v9 + *(float *)&v8;
  if ( *(float *)&dword_10086000 <= *(float *)&v9 )
  {
    v10 = (unsigned int)dword_10086004;
    v11 = v9;
    v12 = 1.0 / fsqrt(*(float *)&v9);
    *(float *)&v10 = *(float *)&dword_10086004 * v12;
    *(float *)&v11 = (float)(*(float *)&v11 * v12) * v12;
    v13 = v3;
    v14 = v10;
    *(float *)&v14 = *(float *)&v14 * (float)(*(float *)&dword_10086008 - *(float *)&v11);
    v15 = v14;
    *(float *)a1 = *(float *)&v15 * *(float *)&v13;
    v16 = v14;
    *(float *)(a1 + 4) = *(float *)&v16 * *(float *)&v4;
    *(float *)(a1 + 8) = *(float *)&v14 * *(float *)&v5;
  }
  else
  {
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
  }
  return result;
}
// 10086000: using guessed type int dword_10086000;
// 10086004: using guessed type int dword_10086004;
// 10086008: using guessed type int dword_10086008;

//----- (10040F60) --------------------------------------------------------
int __stdcall sub_10040F60(int a1, int a2)
{
  int result; // eax@1
  __int128 v3; // xmm0@1
  __int128 v4; // xmm4@1
  __int128 v5; // xmm6@1
  __int128 v6; // xmm2@1
  __int128 v7; // xmm3@1
  __int128 v8; // xmm5@1
  __int128 v9; // xmm3@1
  __int128 v10; // xmm2@3
  __int128 v11; // xmm5@3
  float v12; // xmm3_4@3
  __int128 v13; // xmm3@3
  __int128 v14; // xmm0@3
  __int128 v15; // xmm1@3
  __int128 v16; // xmm1@3
  __int128 v17; // xmm1@3

  result = a1;
  v3 = *(_DWORD *)a2;
  v4 = *(_DWORD *)(a2 + 4);
  v5 = *(_DWORD *)(a2 + 8);
  v6 = *(_DWORD *)a2;
  *(float *)&v6 = (float)(*(float *)&v6 * *(float *)&v6) + (float)(*(float *)(a2 + 4) * *(float *)(a2 + 4));
  v7 = *(_DWORD *)(a2 + 8);
  *(float *)&v7 = *(float *)&v7 * *(float *)&v7;
  v8 = v7;
  v9 = v6;
  *(float *)&v9 = *(float *)&v9 + *(float *)&v8;
  if ( *(float *)&dword_1008600C <= *(float *)&v9 )
  {
    v10 = (unsigned int)dword_10086010;
    v11 = v9;
    v12 = 1.0 / fsqrt(*(float *)&v9);
    *(float *)&v10 = *(float *)&dword_10086010 * v12;
    *(float *)&v11 = (float)(*(float *)&v11 * v12) * v12;
    v13 = v3;
    v14 = v10;
    *(float *)&v14 = *(float *)&v14 * (float)(*(float *)&dword_10086014 - *(float *)&v11);
    v15 = v14;
    *(float *)a1 = *(float *)&v15 * *(float *)&v13;
    v16 = v14;
    *(float *)(a1 + 4) = *(float *)&v16 * *(float *)&v4;
    v17 = v14;
    *(float *)(a1 + 8) = *(float *)&v17 * *(float *)&v5;
    *(float *)(a1 + 12) = *(float *)&v14 * *(float *)(a2 + 12);
  }
  else
  {
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 12) = 0;
  }
  return result;
}
// 1008600C: using guessed type int dword_1008600C;
// 10086010: using guessed type int dword_10086010;
// 10086014: using guessed type int dword_10086014;

//----- (100410E0) --------------------------------------------------------
int __stdcall sub_100410E0(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm4@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm1@1
  __m128 v7; // xmm5@1
  __m128 v8; // xmm0@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm5@1
  __m128 v12; // xmm6@1
  __m128 v13; // xmm5@1
  __m128 v14; // xmm7@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm1@1
  __m128 v17; // xmm7@1
  __m128 v18; // xmm3@1
  __m128 v19; // ST30_16@1
  __m128 v20; // xmm5@1
  __m128 v21; // xmm0@1
  __m128 v22; // xmm5@1
  __m128 v23; // ST40_16@1
  __m128 v24; // xmm6@1
  __m128 v25; // xmm3@1
  __m128 v26; // xmm5@1
  __m128 v27; // ST50_16@1
  __m128 v28; // xmm6@1
  __m128 v29; // xmm3@1
  __m128 v30; // xmm7@1
  __m128 v31; // xmm7@1
  __m128 v32; // ST60_16@1
  __m128 v33; // xmm5@1
  __m128 v34; // xmm0@1
  __m128 v35; // xmm6@1
  __m128 v36; // xmm7@1
  __m128 v37; // ST70_16@1
  __m128 v38; // xmm4@1
  __m128 v39; // xmm0@1
  __m128 v40; // xmm7@1
  __m128 v41; // xmm5@1
  __m128 v42; // xmm1@1
  __m128 v43; // xmm1@1
  __m128 v44; // xmm0@1
  __m128 v45; // xmm1@1
  __m128 v46; // xmm0@1
  __m128 v47; // xmm5@1
  __m128 v48; // xmm5@1
  __m128 v49; // xmm6@1
  __m128 v50; // xmm5@1
  __m128 v51; // ST80_16@1
  __m128 v52; // ST90_16@1
  __m128 v53; // xmm3@1
  __m128 v54; // xmm3@1
  __m128 v55; // STA0_16@1
  __m128 v56; // STB0_16@1
  __m128 v57; // xmm5@1
  __m128 v58; // xmm7@1
  __m128 v59; // xmm3@1
  __m128 v60; // xmm6@1
  __m128 v61; // xmm4@1
  __m128 v62; // xmm0@1
  __m128 v63; // xmm4@1
  __m128 v64; // xmm0@1
  __m128 v65; // xmm3@1
  __m128 v66; // xmm0@1
  __m128 v67; // xmm4@1
  __m128 v68; // xmm6@1
  __m128 v69; // xmm2@1
  __m128 v70; // xmm0@3
  __m128 v71; // xmm0@4
  int result; // eax@4
  __m128 v73; // xmm3@4
  __m128 v74; // xmm5@4
  __m128 v75; // xmm5@4
  __m128 v76; // xmm1@4
  __m128 v77; // xmm4@4
  __m128 v78; // xmm6@4
  __m128 v79; // xmm5@4
  __m128 v80; // [sp+10h] [bp-FCh]@1
  __m128 v81; // [sp+D0h] [bp-3Ch]@1

  v3 = _mm_loadh_ps((const double *)(a3 + 24));
  v4 = _mm_loadh_ps((const double *)(a3 + 56));
  v5 = _mm_loadh_ps((const double *)(a3 + 48));
  v6 = _mm_loadh_ps((const double *)(a3 + 16));
  v7 = v3;
  v8 = _mm_shuffle_ps(v3, v4, -120);
  v9 = _mm_shuffle_ps(v4, v7, -35);
  v10 = _mm_mul_ps(v9, v8);
  v11 = _mm_shuffle_ps(v10, v10, -79);
  v12 = v11;
  v13 = _mm_shuffle_ps(v11, v11, 78);
  v14 = v5;
  v15 = _mm_shuffle_ps(v5, v6, -35);
  v16 = _mm_shuffle_ps(v6, v14, -120);
  v17 = v15;
  v18 = _mm_mul_ps(v15, v13);
  v19 = _mm_mul_ps(v13, v16);
  v20 = _mm_mul_ps(v17, v8);
  v21 = _mm_shuffle_ps(v8, v8, 78);
  v22 = _mm_shuffle_ps(v20, v20, -79);
  v23 = _mm_mul_ps(v12, v16);
  v24 = _mm_add_ps(_mm_mul_ps(v9, v22), _mm_sub_ps(v18, _mm_mul_ps(v17, v12)));
  v25 = v22;
  v26 = _mm_shuffle_ps(v22, v22, 78);
  v27 = _mm_mul_ps(v25, v16);
  v28 = _mm_sub_ps(v24, _mm_mul_ps(v9, v26));
  v29 = v17;
  v30 = _mm_mul_ps(_mm_shuffle_ps(v17, v17, 78), v9);
  v31 = _mm_shuffle_ps(v30, v30, -79);
  v32 = _mm_mul_ps(v26, v16);
  v33 = v21;
  v34 = _mm_add_ps(_mm_mul_ps(v21, v31), v28);
  v35 = v31;
  v36 = _mm_shuffle_ps(v31, v31, 78);
  v37 = v9;
  v38 = v33;
  v39 = _mm_sub_ps(v34, _mm_mul_ps(v33, v36));
  v40 = _mm_sub_ps(_mm_mul_ps(v36, v16), _mm_mul_ps(v35, v16));
  v41 = v16;
  v42 = _mm_mul_ps(v16, v39);
  v80 = v39;
  v43 = _mm_add_ps(_mm_shuffle_ps(v42, v42, 78), v42);
  v44 = v43;
  v45 = _mm_shuffle_ps(v43, v43, -79);
  v45.m128_f32[0] = v45.m128_f32[0] + v44.m128_f32[0];
  v46 = v41;
  v47 = _mm_mul_ps(v41, v29);
  v48 = _mm_shuffle_ps(v47, v47, -79);
  v49 = v48;
  v50 = _mm_shuffle_ps(v48, v48, 78);
  v51 = v38;
  v52 = v29;
  v53 = _mm_mul_ps(v37, v46);
  v54 = _mm_shuffle_ps(v53, v53, -79);
  v55 = v50;
  v56 = v49;
  v57 = _mm_add_ps(
          _mm_mul_ps(v52, v54),
          _mm_sub_ps(_mm_mul_ps(v37, v50), _mm_add_ps(_mm_mul_ps(v37, v49), _mm_shuffle_ps(v40, v40, 78))));
  v58 = v54;
  v59 = _mm_shuffle_ps(v54, v54, 78);
  v60 = _mm_sub_ps(v57, _mm_mul_ps(v52, v59));
  v61 = _mm_sub_ps(v19, v23);
  v62 = _mm_mul_ps(v46, v51);
  v63 = _mm_add_ps(_mm_sub_ps(_mm_shuffle_ps(v61, v61, 78), _mm_mul_ps(v58, v51)), _mm_mul_ps(v59, v51));
  v64 = _mm_shuffle_ps(v62, v62, -79);
  v65 = v64;
  v66 = _mm_shuffle_ps(v64, v64, 78);
  v81 = v60;
  v67 = _mm_sub_ps(_mm_add_ps(v63, _mm_mul_ps(v37, v65)), _mm_mul_ps(v37, v66));
  v68 = _mm_sub_ps(v32, v27);
  v69 = _mm_add_ps(
          _mm_mul_ps(v52, v66),
          _mm_sub_ps(
            _mm_sub_ps(_mm_sub_ps(_mm_mul_ps(v56, v51), _mm_shuffle_ps(v68, v68, 78)), _mm_mul_ps(v51, v55)),
            _mm_mul_ps(v65, v52)));
  if ( v45.m128_f32[0] == 0.0 )
  {
    result = 0;
  }
  else
  {
    if ( a2 )
    {
      v70 = v45;
      *(_DWORD *)a2 = (_DWORD)v70.m128_f32[0];
    }
    v71 = v45;
    result = a1;
    v73 = v45;
    v71.m128_f32[0] = 1.0 / v73.m128_f32[0];
    v74 = v71;
    v74.m128_f32[0] = (float)(v74.m128_f32[0] + v74.m128_f32[0])
                    - (float)(v73.m128_f32[0] * (float)(v71.m128_f32[0] * v71.m128_f32[0]));
    v75 = _mm_shuffle_ps(v74, v74, 0);
    v76 = _mm_mul_ps(v80, v75);
    _mm_storel_ps((double *)a1, v76);
    _mm_storeh_ps((double *)(a1 + 8), v76);
    v77 = _mm_mul_ps(v67, v75);
    _mm_storel_ps((double *)(a1 + 16), v77);
    _mm_storeh_ps((double *)(a1 + 24), v77);
    v78 = _mm_mul_ps(v81, v75);
    _mm_storel_ps((double *)(a1 + 32), v78);
    _mm_storeh_ps((double *)(a1 + 40), v78);
    v79 = _mm_mul_ps(v75, v69);
    _mm_storel_ps((double *)(a1 + 48), v79);
    _mm_storeh_ps((double *)(a1 + 56), v79);
  }
  return result;
}

//----- (100413A0) --------------------------------------------------------
int __stdcall sub_100413A0(int a1, int a2, int a3)
{
  int v3; // edx@1
  int result; // eax@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm1@1
  __m128 v8; // xmm0@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm7@1
  __m128 v12; // xmm4@1
  __m128 v13; // xmm7@1
  __m128 v14; // xmm6@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm2@1
  __m128 v17; // xmm1@1
  __m128 v18; // xmm5@1
  __m128 v19; // xmm0@1
  __m128 v20; // xmm6@1
  __m128 v21; // xmm0@1

  v3 = a2;
  result = a1;
  v5 = _mm_loadh_ps((const double *)(a3 + 8));
  v6 = _mm_loadh_ps((const double *)(a3 + 24));
  v7 = _mm_loadh_ps((const double *)(a3 + 40));
  v8 = _mm_loadh_ps((const double *)(a3 + 56));
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)v3, (__m128)*(_DWORD *)v3, 0), v5),
             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 4), (__m128)*(_DWORD *)(v3 + 4), 0), v6)),
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 8), (__m128)*(_DWORD *)(v3 + 8), 0), v7)),
         _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 12), (__m128)*(_DWORD *)(v3 + 12), 0), v8));
  v10 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 16), (__m128)*(_DWORD *)(v3 + 16), 0), v5),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 20), (__m128)*(_DWORD *)(v3 + 20), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 24), (__m128)*(_DWORD *)(v3 + 24), 0), v7)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 28), (__m128)*(_DWORD *)(v3 + 28), 0), v8));
  v11 = v9;
  v12 = _mm_unpacklo_ps(v9, v10);
  v13 = _mm_unpackhi_ps(v11, v10);
  v14 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 32), (__m128)*(_DWORD *)(v3 + 32), 0), v5),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 36), (__m128)*(_DWORD *)(v3 + 36), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 40), (__m128)*(_DWORD *)(v3 + 40), 0), v7)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 44), (__m128)*(_DWORD *)(v3 + 44), 0), v8));
  v15 = _mm_add_ps(
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 48), (__m128)*(_DWORD *)(v3 + 48), 0), v5),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 52), (__m128)*(_DWORD *)(v3 + 52), 0), v6));
  v16 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 56), (__m128)*(_DWORD *)(v3 + 56), 0), v7);
  v17 = (__m128)*(_DWORD *)(a2 + 60);
  _mm_storel_ps((double *)a1, v12);
  v18 = _mm_add_ps(_mm_add_ps(v15, v16), _mm_mul_ps(_mm_shuffle_ps(v17, v17, 0), v8));
  _mm_storeh_ps((double *)(a1 + 16), v12);
  _mm_storel_ps((double *)(a1 + 32), v13);
  _mm_storeh_ps((double *)(a1 + 48), v13);
  v19 = v14;
  v20 = _mm_unpacklo_ps(v14, v18);
  _mm_storel_ps((double *)(a1 + 8), v20);
  _mm_storeh_ps((double *)(a1 + 24), v20);
  v21 = _mm_unpackhi_ps(v19, v18);
  _mm_storel_ps((double *)(a1 + 40), v21);
  _mm_storeh_ps((double *)(a1 + 56), v21);
  return result;
}

//----- (10041500) --------------------------------------------------------
int __stdcall sub_10041500(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm2@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm1@1
  __m128 v10; // xmm3@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm4@1
  __m128 v13; // xmm0@1
  __m128 v14; // xmm4@1
  __m128 v15; // xmm2@1
  __m128 v16; // xmm3@1
  __m128 v17; // xmm1@1

  result = a1;
  v5 = _mm_loadh_ps((const double *)(a4 + 8));
  v6 = _mm_loadh_ps((const double *)(a3 + 8));
  v7 = _mm_shuffle_ps(v6, v6, 57);
  v8 = _mm_loadh_ps((const double *)(a2 + 8));
  v9 = _mm_shuffle_ps(v8, v8, 57);
  v10 = v5;
  v11 = _mm_shuffle_ps(v5, v5, 78);
  v12 = v11;
  v13 = _mm_mul_ps(_mm_shuffle_ps(v11, v11, 57), v7);
  v14 = _mm_mul_ps(v12, v7);
  v15 = _mm_mul_ps(v7, v10);
  v16 = v9;
  v17 = _mm_shuffle_ps(v9, v9, 57);
  *(_OWORD *)a1 = _mm_xor_ps(
                    _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(v16, _mm_sub_ps(_mm_shuffle_ps(v14, v14, 57), _mm_shuffle_ps(v15, v15, 78))),
                        _mm_mul_ps(_mm_sub_ps(_mm_shuffle_ps(v13, v13, 78), v13), v17)),
                      _mm_mul_ps(_mm_shuffle_ps(v17, v17, 57), _mm_sub_ps(v14, _mm_shuffle_ps(v15, v15, 57)))),
                    (__m128)xmmword_10081C00);
  return result;
}
// 10081C00: using guessed type __int128 xmmword_10081C00;

//----- (100415B0) --------------------------------------------------------
int __stdcall sub_100415B0(int a1, int a2)
{
  __int128 v2; // xmm0@1
  __int128 v3; // xmm1@1
  __int128 v4; // xmm2@1
  __int128 v5; // xmm3@1
  float v6; // xmm4_4@1
  float v7; // xmm6_4@1
  float v8; // xmm5_4@1

  v2 = *(_DWORD *)a2;
  v3 = *(_DWORD *)(a2 + 4);
  v4 = *(_DWORD *)(a2 + 8);
  v5 = *(_DWORD *)(a2 + 12);
  v6 = (float)((float)(*(float *)&v2 * *(float *)&v2) + (float)(*(float *)&v3 * *(float *)&v3))
     + (float)((float)(*(float *)&v4 * *(float *)&v4) + (float)(*(float *)&v5 * *(float *)&v5));
  v7 = 1.0 / fsqrt(v6);
  v8 = (float)((float)(*(float *)&dword_10081C20 - (float)(v6 * (float)(v7 * v7))) * *(float *)&dword_10081C10) * v7;
  *(float *)a1 = *(float *)&v2 * v8;
  *(float *)(a1 + 4) = *(float *)&v3 * v8;
  *(float *)(a1 + 8) = *(float *)&v4 * v8;
  *(float *)(a1 + 12) = *(float *)&v5 * v8;
  return a1;
}
// 10081C10: using guessed type int dword_10081C10;
// 10081C20: using guessed type int dword_10081C20;

//----- (10041760) --------------------------------------------------------
int __userpurge sub_10041760<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, int a3, const double *a4, const double *a5, const double *a6, const double *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_10081C60), (__m128)xmmword_10081C40),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_10081C50)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_10081C30));
  v10 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_loadh_ps(a4), _mm_shuffle_ps(v9, v9, 0)),
              _mm_mul_ps(_mm_loadh_ps(a5), _mm_shuffle_ps(v9, v9, 85))),
            _mm_mul_ps(_mm_loadh_ps(a6), _mm_shuffle_ps(v9, v9, -86))),
          _mm_mul_ps(_mm_loadh_ps(a7), _mm_shuffle_ps(v9, v9, -1)));
  _mm_storeh_ps((double *)a3, v10);
  *(_DWORD *)(a3 + 8) = (_DWORD)v10.m128_f32[0];
  return a3;
}
// 10081C30: using guessed type __int128 xmmword_10081C30;
// 10081C40: using guessed type __int128 xmmword_10081C40;
// 10081C50: using guessed type __int128 xmmword_10081C50;
// 10081C60: using guessed type __int128 xmmword_10081C60;

//----- (10041820) --------------------------------------------------------
double *__userpurge sub_10041820<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, double *a3, int a4, const double *a5, int a6, const double *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm6@1
  __m128 v11; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_10081C60), (__m128)xmmword_10081C40),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_10081C50)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_10081C30));
  v10 = _mm_mul_ps(_mm_loadh_ps(a7), _mm_shuffle_ps(v9, v9, -6));
  v11 = _mm_add_ps(_mm_mul_ps(_mm_loadh_ps(a5), _mm_shuffle_ps(v9, v9, 80)), v10);
  _mm_storel_ps(a3, _mm_add_ps(v11, _mm_movehl_ps(v10, v11)));
  return a3;
}
// 10081C30: using guessed type __int128 xmmword_10081C30;
// 10081C40: using guessed type __int128 xmmword_10081C40;
// 10081C50: using guessed type __int128 xmmword_10081C50;
// 10081C60: using guessed type __int128 xmmword_10081C60;

//----- (100418B0) --------------------------------------------------------
int __userpurge sub_100418B0<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, int a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_10081C60), (__m128)xmmword_10081C40),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_10081C50)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_10081C30));
  *(_OWORD *)a3 = _mm_add_ps(
                    _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(COERCE__M128(a4->m128_f32[0]), _mm_shuffle_ps(v9, v9, 0)),
                        _mm_mul_ps(COERCE__M128(a5->m128_f32[0]), _mm_shuffle_ps(v9, v9, 85))),
                      _mm_mul_ps(COERCE__M128(a6->m128_f32[0]), _mm_shuffle_ps(v9, v9, -86))),
                    _mm_mul_ps(COERCE__M128(a7->m128_f32[0]), _mm_shuffle_ps(v9, v9, -1)));
  return a3;
}
// 10081C30: using guessed type __int128 xmmword_10081C30;
// 10081C40: using guessed type __int128 xmmword_10081C40;
// 10081C50: using guessed type __int128 xmmword_10081C50;
// 10081C60: using guessed type __int128 xmmword_10081C60;

//----- (10041960) --------------------------------------------------------
int __userpurge sub_10041960<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, int a3, const double *a4, const double *a5, const double *a6, const double *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1
  __m128 v11; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_10081CA0);
  v9.m128_f32[0] = v9.m128_f32[0] + *(float *)&dword_10081C80;
  v10 = _mm_add_ps(
          _mm_add_ps(v9, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_10081C90)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_10081C70));
  v11 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_loadh_ps(a4), _mm_shuffle_ps(v10, v10, 0)),
              _mm_mul_ps(_mm_loadh_ps(a5), _mm_shuffle_ps(v10, v10, 85))),
            _mm_mul_ps(_mm_loadh_ps(a6), _mm_shuffle_ps(v10, v10, -86))),
          _mm_mul_ps(_mm_loadh_ps(a7), _mm_shuffle_ps(v10, v10, -1)));
  _mm_storeh_ps((double *)a3, v11);
  *(_DWORD *)(a3 + 8) = (_DWORD)v11.m128_f32[0];
  return a3;
}
// 10081C70: using guessed type __int128 xmmword_10081C70;
// 10081C80: using guessed type int dword_10081C80;
// 10081C90: using guessed type __int128 xmmword_10081C90;
// 10081CA0: using guessed type __int128 xmmword_10081CA0;

//----- (10041A20) --------------------------------------------------------
int __userpurge sub_10041A20<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, int a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_10081CA0);
  v9.m128_f32[0] = v9.m128_f32[0] + *(float *)&dword_10081C80;
  v10 = _mm_add_ps(
          _mm_add_ps(v9, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_10081C90)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_10081C70));
  *(_OWORD *)a3 = _mm_add_ps(
                    _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(COERCE__M128(a4->m128_f32[0]), _mm_shuffle_ps(v10, v10, 0)),
                        _mm_mul_ps(COERCE__M128(a5->m128_f32[0]), _mm_shuffle_ps(v10, v10, 85))),
                      _mm_mul_ps(COERCE__M128(a6->m128_f32[0]), _mm_shuffle_ps(v10, v10, -86))),
                    _mm_mul_ps(COERCE__M128(a7->m128_f32[0]), _mm_shuffle_ps(v10, v10, -1)));
  return a3;
}
// 10081C70: using guessed type __int128 xmmword_10081C70;
// 10081C80: using guessed type int dword_10081C80;
// 10081C90: using guessed type __int128 xmmword_10081C90;
// 10081CA0: using guessed type __int128 xmmword_10081CA0;

//----- (10041AC0) --------------------------------------------------------
double *__userpurge sub_10041AC0<eax>(__m128 a1<xmm1>, __m128 a2<xmm2>, __m128 a3<xmm3>, double *a4, int a5, const double *a6, int a7, const double *a8, float a9)
{
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm4@1

  v9 = (__m128)LODWORD(a9);
  a1.m128_f32[0] = v9.m128_f32[0] * v9.m128_f32[0];
  a2.m128_f32[0] = a9 * (float)(v9.m128_f32[0] * v9.m128_f32[0]);
  v10 = _mm_mul_ps(_mm_shuffle_ps(v9, v9, 0), (__m128)xmmword_10081CA0);
  v10.m128_f32[0] = v10.m128_f32[0] + *(float *)&dword_10081C80;
  v11 = _mm_add_ps(
          _mm_add_ps(v10, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_10081C90)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_10081C70));
  v12 = _mm_add_ps(
          _mm_mul_ps(_mm_loadh_ps(a6), _mm_shuffle_ps(v11, v11, 80)),
          _mm_mul_ps(_mm_loadh_ps(a8), _mm_shuffle_ps(v11, v11, -6)));
  _mm_storel_ps(a4, _mm_add_ps(v12, _mm_movehl_ps(a3, v12)));
  return a4;
}
// 10081C70: using guessed type __int128 xmmword_10081C70;
// 10081C80: using guessed type int dword_10081C80;
// 10081C90: using guessed type __int128 xmmword_10081C90;
// 10081CA0: using guessed type __int128 xmmword_10081CA0;

//----- (10041B50) --------------------------------------------------------
int __stdcall sub_10041B50(int a1, const double *a2, const double *a3, const double *a4, unsigned int a5, unsigned int a6)
{
  __m128 v6; // xmm2@1
  __m128 v7; // xmm3@1

  v6 = _mm_loadh_ps(a2);
  v7 = _mm_add_ps(
         _mm_add_ps(_mm_mul_ps(_mm_sub_ps(_mm_loadh_ps(a3), v6), _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)), v6),
         _mm_mul_ps(_mm_sub_ps(_mm_loadh_ps(a4), v6), _mm_shuffle_ps((__m128)a6, (__m128)a6, 0)));
  *(_DWORD *)(a1 + 8) = (_DWORD)v7.m128_f32[0];
  _mm_storeh_ps((double *)a1, v7);
  return a1;
}

//----- (10041BB0) --------------------------------------------------------
int __stdcall sub_10041BB0(int a1, __m128 *a2, __m128 *a3, __m128 *a4, unsigned int a5, unsigned int a6)
{
  *(_OWORD *)a1 = _mm_add_ps(
                    _mm_add_ps(
                      _mm_mul_ps(
                        _mm_sub_ps(COERCE__M128(a3->m128_f32[0]), COERCE__M128(a2->m128_f32[0])),
                        _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)),
                      COERCE__M128(a2->m128_f32[0])),
                    _mm_mul_ps(
                      _mm_sub_ps(COERCE__M128(a4->m128_f32[0]), COERCE__M128(a2->m128_f32[0])),
                      _mm_shuffle_ps((__m128)a6, (__m128)a6, 0)));
  return a1;
}

//----- (10041C00) --------------------------------------------------------
double *__stdcall sub_10041C00(double *a1, const double *a2, const double *a3, const double *a4, unsigned int a5, unsigned int a6)
{
  __m128 v6; // xmm2@1

  v6 = _mm_loadh_ps(a2);
  _mm_storeh_ps(
    a1,
    _mm_add_ps(
      _mm_add_ps(_mm_mul_ps(_mm_sub_ps(_mm_loadh_ps(a3), v6), _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)), v6),
      _mm_mul_ps(_mm_sub_ps(_mm_loadh_ps(a4), v6), _mm_shuffle_ps((__m128)a6, (__m128)a6, 0))));
  return a1;
}

//----- (10041C60) --------------------------------------------------------
int __userpurge sub_10041C60<eax>(__m128 a1<xmm5>, __m128 a2<xmm6>, int a3, __m128 *a4, const double *a5, const double *a6)
{
  __m128 v6; // xmm0@1
  __m128 v7; // xmm1@1
  __m128 v8; // xmm4@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm2@1
  __m128 v11; // xmm3@1
  __m128 v12; // xmm0@1
  __m128 v13; // xmm5@1
  __m128 v14; // xmm6@1
  __m128 v15; // xmm0@1
  float v16; // xmm5_4@1
  __m128 v17; // xmm3@1
  __m128 v18; // xmm1@2
  int v20; // [sp+0h] [bp-4h]@1

  v20 = a3;
  v6 = *(__m128 *)&a4->m128_f32[0];
  v7 = _mm_loadh_ps(a5);
  v8 = v6;
  v9 = _mm_shuffle_ps(v6, v6, 78);
  v10 = _mm_loadh_ps(a6);
  v11 = _mm_mul_ps(v7, v9);
  v12 = _mm_mul_ps(v9, v10);
  v13 = _mm_movehl_ps(a1, v11);
  v14 = _mm_movehl_ps(a2, v12);
  v17 = _mm_add_ps(v11, v13);
  v15 = _mm_add_ps(v12, v14);
  v17.m128_f32[0] = v17.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v13, v17, 85));
  v16 = v17.m128_f32[0] - (float)(v15.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v14, v15, 85)));
  v17.m128_f32[0] = v17.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v8, v8, -1));
  if ( v16 == *(float *)&dword_100853E0 )
  {
    v20 = 0;
  }
  else
  {
    v17.m128_f32[0] = v17.m128_f32[0]
                    * (float)((float)((float)(1.0 / v16) + (float)(1.0 / v16))
                            - (float)((float)(v16 * (float)(1.0 / v16)) * (float)(1.0 / v16)));
    v18 = _mm_add_ps(v7, _mm_mul_ps(_mm_shuffle_ps(v17, v17, 0), _mm_sub_ps(v10, v7)));
    _mm_storeh_ps((double *)a3, v18);
    *(_DWORD *)(a3 + 8) = (_DWORD)v18.m128_f32[0];
  }
  return v20;
}
// 100853E0: using guessed type int dword_100853E0;

//----- (10041DB0) --------------------------------------------------------
double __stdcall sub_10041DB0(int a1)
{
  __m128 v1; // xmm7@2
  __m128 v2; // xmm1@2
  __m128 v3; // xmm2@2
  __m128 v4; // xmm0@2
  __m128 v5; // xmm2@4
  __m128 v6; // xmm1@4
  __m128 v7; // xmm3@4
  __m128 v8; // xmm0@4
  __m128 v9; // xmm3@4
  __m128 v10; // xmm4@4
  __m128 v11; // xmm2@4
  __m128 v12; // xmm0@4
  __m128 v13; // xmm1@4
  __m128 v14; // xmm0@4
  __m128 v15; // xmm0@4

  if ( a1 & 0xF )
  {
    v2 = _mm_loadh_ps((const double *)(a1 + 24));
    v1 = _mm_loadh_ps((const double *)(a1 + 8));
    v3 = _mm_loadh_ps((const double *)(a1 + 40));
    v4 = _mm_loadh_ps((const double *)(a1 + 56));
  }
  else
  {
    v1 = *(__m128 *)a1;
    v2 = *(__m128 *)(a1 + 16);
    v3 = *(__m128 *)(a1 + 32);
    v4 = *(__m128 *)(a1 + 48);
  }
  v5 = _mm_shuffle_ps(v3, v3, 57);
  v6 = _mm_shuffle_ps(v2, v2, 57);
  v7 = v4;
  v8 = _mm_shuffle_ps(v4, v4, 78);
  v9 = _mm_mul_ps(v7, v5);
  v10 = _mm_mul_ps(v8, v5);
  v11 = _mm_mul_ps(v5, _mm_shuffle_ps(v8, v8, 57));
  v12 = v6;
  v13 = _mm_shuffle_ps(v6, v6, 57);
  v14 = _mm_mul_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(v12, _mm_sub_ps(_mm_shuffle_ps(v10, v10, 57), _mm_shuffle_ps(v9, v9, 78))),
              _mm_mul_ps(_mm_sub_ps(_mm_shuffle_ps(v11, v11, 78), v11), v13)),
            _mm_mul_ps(_mm_shuffle_ps(v13, v13, 57), _mm_sub_ps(v10, _mm_shuffle_ps(v9, v9, 57)))),
          v1);
  v15 = _mm_add_ps(v14, _mm_movehl_ps(v14, v14));
  return (float)(v15.m128_f32[0] - COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v15, v15, 1)));
}

//----- (10041E80) --------------------------------------------------------
int __stdcall sub_10041E80(int a1, const double *a2, const double *a3, const double *a4)
{
  int result; // eax@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm3@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm4@1
  __m128 v9; // xmm3@1
  __m128 v10; // xmm1@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm3@1
  __m128 v13; // xmm0@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm3@1
  __m128 v17; // xmm0@1

  result = a1;
  v5 = _mm_loadh_ps(a2);
  v6 = v5;
  v7 = _mm_sub_ps(v5, _mm_loadh_ps(a4));
  v8 = v6;
  v9 = _mm_sub_ps(v6, _mm_loadh_ps(a3));
  v10 = (__m128)xmmword_10081CD0;
  v11 = _mm_sub_ps(
          _mm_mul_ps(_mm_shuffle_ps(v7, v7, 120), _mm_shuffle_ps(v9, v9, 99)),
          _mm_mul_ps(_mm_shuffle_ps(v9, v9, 120), _mm_shuffle_ps(v7, v7, 99)));
  v12 = v11;
  v13 = _mm_mul_ps(v11, v11);
  v14 = _mm_add_ps(v13, _mm_movehl_ps(v13, v13));
  v14.m128_f32[0] = v14.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v14, v14, 1));
  v15 = v14;
  v14.m128_f32[0] = fsqrt(v14.m128_f32[0]);
  v10.m128_f32[0] = (float)(*(float *)&xmmword_10081CD0 * (float)(1.0 / v14.m128_f32[0]))
                  * (float)(*(float *)&xmmword_10081CC0
                          - (float)((float)(v15.m128_f32[0] * (float)(1.0 / v14.m128_f32[0]))
                                  * (float)(1.0 / v14.m128_f32[0])));
  v16 = _mm_mul_ps(v12, _mm_shuffle_ps(v10, v10, 0));
  *(_OWORD *)a1 = v16;
  v17 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 14), v16);
  v17.m128_f32[0] = v17.m128_f32[0]
                  + (float)(COERCE_FLOAT(*(_OWORD *)&_mm_movehl_ps(v15, v17))
                          + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v17, v17, 85)));
  *(_DWORD *)(a1 + 12) = (unsigned __int128)_mm_xor_ps(v17, (__m128)xmmword_10081CB0);
  return result;
}
// 10081CB0: using guessed type __int128 xmmword_10081CB0;
// 10081CC0: using guessed type __int128 xmmword_10081CC0;
// 10081CD0: using guessed type __int128 xmmword_10081CD0;

//----- (10041F70) --------------------------------------------------------
int __stdcall sub_10041F70(int a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm2@1
  __m128 v4; // xmm3@1
  __m128 v5; // xmm3@1
  signed int v6; // ecx@1
  __m128 v7; // xmm1@1
  __m128 v8; // xmm0@1
  char v9; // al@4
  __m128 v10; // xmm4@5
  __int128 v11; // xmm3@8
  __m128 v12; // xmm5@10
  int result; // eax@11
  __m128 v14; // xmm4@11
  __m128 v15; // xmm0@11
  __m128 v16; // xmm0@11
  __m128 v17; // xmm0@11
  __m128 v18; // xmm5@11
  __m128 v19; // xmm6@11
  __m128 v20; // xmm7@11
  __m128 v21; // xmm0@11
  __m128 v22; // xmm1@11
  __m128 v23; // xmm2@11
  __m128 v24; // xmm3@11

  v3 = *(__m128 *)&a3->m128_f32[0];
  v4 = _mm_and_ps((__m128)xmmword_10081D20, COERCE__M128(a3->m128_f32[0]));
  v5 = _mm_mul_ps(v4, v4);
  v6 = 0;
  v7 = _mm_add_ps(v5, _mm_movehl_ps(0, v5));
  v8 = _mm_shuffle_ps(v7, v7, 1);
  v8.m128_f32[0] = v8.m128_f32[0] + v7.m128_f32[0];
  if ( v8.m128_f32[0] == 0.0 )
    v6 = 1;
  if ( v6 != 1 )
  {
    v9 = byte_10085490;
    if ( byte_10085490 & 1 )
    {
      v10 = (__m128)xmmword_10085470;
    }
    else
    {
      v9 = byte_10085490 | 1;
      v10 = (__m128)(unsigned int)dword_100860C0;
      byte_10085490 |= 1u;
      xmmword_10085470 = (unsigned int)dword_100860C0;
    }
    if ( v9 & 2 )
    {
      v11 = xmmword_10085480;
    }
    else
    {
      v11 = (unsigned int)dword_100860C4;
      byte_10085490 = v9 | 2;
      xmmword_10085480 = (unsigned int)dword_100860C4;
    }
    v12 = v8;
    v12.m128_f32[0] = 1.0 / fsqrt(v12.m128_f32[0]);
    v10.m128_f32[0] = (float)(v10.m128_f32[0] * v12.m128_f32[0])
                    * (float)(*(float *)&v11 - (float)((float)(v8.m128_f32[0] * v12.m128_f32[0]) * v12.m128_f32[0]));
    v8 = _mm_mul_ps(v3, _mm_shuffle_ps(v10, v10, 0));
  }
  result = a1;
  v14 = _mm_xor_ps((__m128)xmmword_10081CE0, v8);
  v15 = _mm_mul_ps(v8, COERCE__M128(a2->m128_f32[0]));
  v16 = _mm_add_ps(v15, _mm_movehl_ps(v7, v15));
  v16.m128_f32[0] = v16.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v16, v16, 1));
  v17 = _mm_shuffle_ps(v16, v16, 0);
  v18 = _mm_and_ps((__m128)xmmword_10081D00, v17);
  v19 = _mm_and_ps((__m128)xmmword_10081D10, v17);
  v20 = v17;
  v21 = _mm_add_ps(
          _mm_mul_ps(_mm_shuffle_ps(v14, v14, 85), COERCE__M128(a2->m128_f32[0])),
          _mm_and_ps((__m128)xmmword_10081CF0, v17));
  v22 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v14, v14, -86), COERCE__M128(a2->m128_f32[0])), v18);
  v24 = _mm_mul_ps(_mm_shuffle_ps(v14, v14, 0), COERCE__M128(a2->m128_f32[0]));
  v23 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v14, v14, -1), COERCE__M128(a2->m128_f32[0])), v19);
  v24.m128_f32[0] = v24.m128_f32[0] + v20.m128_f32[0];
  if ( a1 & 0xF )
  {
    _mm_storel_ps((double *)a1, v24);
    _mm_storeh_ps((double *)(a1 + 8), v24);
    _mm_storel_ps((double *)(a1 + 16), v21);
    _mm_storeh_ps((double *)(a1 + 24), v21);
    _mm_storel_ps((double *)(a1 + 32), v22);
    _mm_storeh_ps((double *)(a1 + 40), v22);
    _mm_storel_ps((double *)(a1 + 48), v23);
    _mm_storeh_ps((double *)(a1 + 56), v23);
  }
  else
  {
    *(_OWORD *)a1 = v24;
    *(_OWORD *)(a1 + 16) = v21;
    *(_OWORD *)(a1 + 32) = v22;
    *(_OWORD *)(a1 + 48) = v23;
  }
  return result;
}
// 10081CE0: using guessed type __int128 xmmword_10081CE0;
// 10081CF0: using guessed type __int128 xmmword_10081CF0;
// 10081D00: using guessed type __int128 xmmword_10081D00;
// 10081D10: using guessed type __int128 xmmword_10081D10;
// 10081D20: using guessed type __int128 xmmword_10081D20;
// 10085470: using guessed type __int128 xmmword_10085470;
// 10085480: using guessed type __int128 xmmword_10085480;
// 10085490: using guessed type char byte_10085490;
// 100860C0: using guessed type int dword_100860C0;
// 100860C4: using guessed type int dword_100860C4;

//----- (10042100) --------------------------------------------------------
int __stdcall sub_10042100(int a1, const double *a2)
{
  int result; // eax@1
  __m128 v3; // xmm1@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm3@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm5@1
  __m128 v9; // xmm1@1
  __m128 v10; // xmm4@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm2@1
  __m128 v17; // xmm4@1

  result = a1;
  v3 = _mm_loadl_ps(a2);
  v4 = _mm_and_ps((__m128)xmmword_10081DA0, v3);
  v5 = _mm_mul_ps(v4, v4);
  v6 = (__m128)(unsigned int)dword_10081D90;
  v7 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v7.m128_f32[0] = v7.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v7, v7, 1));
  v8 = v7;
  v7.m128_f32[0] = fsqrt(v7.m128_f32[0]);
  v6.m128_f32[0] = (float)(*(float *)&dword_10081D90 * (float)(1.0 / v7.m128_f32[0]))
                 * (float)(*(float *)&dword_10081D80
                         - (float)((float)(v8.m128_f32[0] * (float)(1.0 / v7.m128_f32[0]))
                                 * (float)(1.0 / v7.m128_f32[0])));
  v9 = _mm_mul_ps(v3, _mm_shuffle_ps(v6, v6, 0));
  v10 = _mm_mul_ps((__m128)xmmword_10081D70, v9);
  v11 = v9;
  v12 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v9, v9, 0), v10), (__m128)xmmword_10081D60);
  v13 = v11;
  v14 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v11, v11, -1), v10), (__m128)xmmword_10081D30);
  v15 = v13;
  v16 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v13, v13, -86), v10), (__m128)xmmword_10081D40);
  v17 = _mm_add_ps(_mm_mul_ps(v10, _mm_shuffle_ps(v15, v15, 85)), (__m128)xmmword_10081D50);
  *(_OWORD *)a1 = v12;
  *(_OWORD *)(a1 + 16) = v17;
  *(_OWORD *)(a1 + 32) = v16;
  *(_OWORD *)(a1 + 48) = v14;
  return result;
}
// 10081D30: using guessed type __int128 xmmword_10081D30;
// 10081D40: using guessed type __int128 xmmword_10081D40;
// 10081D50: using guessed type __int128 xmmword_10081D50;
// 10081D60: using guessed type __int128 xmmword_10081D60;
// 10081D70: using guessed type __int128 xmmword_10081D70;
// 10081D80: using guessed type int dword_10081D80;
// 10081D90: using guessed type int dword_10081D90;
// 10081DA0: using guessed type __int128 xmmword_10081DA0;

//----- (100421E0) --------------------------------------------------------
int __stdcall sub_100421E0(int a1, int a2, int a3)
{
  __m128 v3; // xmm1@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm2@1
  __m128 v6; // xmm1@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm1@1

  v3 = _mm_loadh_ps((const double *)(a3 + 8));
  v4 = _mm_loadh_ps((const double *)(a2 + 8));
  v5 = v3;
  v6 = _mm_mul_ps(_mm_shuffle_ps(v3, v3, -1), v4);
  v7 = _mm_shuffle_ps(v4, v4, 27);
  v8 = _mm_add_ps(v6, _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v5, v5, 0), (__m128)xmmword_10086100), v7));
  v9 = _mm_shuffle_ps(v7, v7, -79);
  v10 = _mm_add_ps(
          _mm_add_ps(v8, _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v5, v5, 85), (__m128)xmmword_100860F0), v9)),
          _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v5, v5, -86), (__m128)xmmword_100860E0), _mm_shuffle_ps(v9, v9, 27)));
  _mm_storel_ps((double *)a1, v10);
  _mm_storeh_ps((double *)(a1 + 8), v10);
  return a1;
}
// 100860E0: using guessed type __int128 xmmword_100860E0;
// 100860F0: using guessed type __int128 xmmword_100860F0;
// 10086100: using guessed type __int128 xmmword_10086100;

//----- (10042270) --------------------------------------------------------
int __stdcall sub_10042270(int a1, int a2)
{
  __int128 v2; // xmm0@1
  __int128 v3; // xmm1@1
  __int128 v4; // xmm2@1
  __int128 v5; // xmm3@1
  float v6; // xmm4_4@1
  float v7; // xmm6_4@1
  float v8; // xmm5_4@1

  v2 = *(_DWORD *)a2;
  v3 = *(_DWORD *)(a2 + 4);
  v4 = *(_DWORD *)(a2 + 8);
  v5 = *(_DWORD *)(a2 + 12);
  v6 = (float)((float)(*(float *)&v2 * *(float *)&v2) + (float)(*(float *)&v3 * *(float *)&v3))
     + (float)((float)(*(float *)&v4 * *(float *)&v4) + (float)(*(float *)&v5 * *(float *)&v5));
  v7 = 1.0 / fsqrt(v6);
  v8 = (float)((float)(*(float *)&dword_10081DD0 - (float)(v6 * (float)(v7 * v7))) * *(float *)&dword_10081DC0) * v7;
  *(float *)a1 = *(float *)&v2 * v8;
  *(float *)(a1 + 4) = *(float *)&v3 * v8;
  *(float *)(a1 + 8) = *(float *)&v4 * v8;
  *(float *)(a1 + 12) = *(float *)&v5 * v8;
  return a1;
}
// 10081DC0: using guessed type int dword_10081DC0;
// 10081DD0: using guessed type int dword_10081DD0;

//----- (10042310) --------------------------------------------------------
int __stdcall sub_10042310(int a1, int a2)
{
  int result; // eax@1
  __m128 v3; // xmm0@1
  __m128 v4; // xmm1@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm0@1
  __m128 v7; // xmm2@1
  __m128 v8; // xmm3@1

  result = a1;
  v3 = _mm_loadh_ps((const double *)(a2 + 8));
  v4 = v3;
  v5 = _mm_mul_ps(v3, v3);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v6.m128_f32[0] = v6.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v6, v6, 85));
  v7 = v6;
  v6.m128_f32[0] = 1.0 / v6.m128_f32[0];
  v8 = v6;
  v8.m128_f32[0] = (float)(v8.m128_f32[0] + v8.m128_f32[0])
                 - (float)((float)(v6.m128_f32[0] * v7.m128_f32[0]) * v8.m128_f32[0]);
  *(_OWORD *)a1 = _mm_mul_ps(_mm_mul_ps(v4, (__m128)xmmword_10081DE0), _mm_shuffle_ps(v8, v8, 0));
  return result;
}
// 10081DE0: using guessed type __int128 xmmword_10081DE0;

//----- (100424A0) --------------------------------------------------------
int __stdcall sub_100424A0(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  __m128 v4; // xmm0@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm3@1
  __m128 v8; // xmm2@1
  __m128 v9; // xmm3@1
  int result; // eax@1
  __m128 v11; // [sp+10h] [bp-4Ch]@1
  __m128 v12; // [sp+20h] [bp-3Ch]@1

  v11 = _mm_mul_ps(
          _mm_shuffle_ps(
            _mm_unpacklo_ps((__m128)a3, (__m128)a4),
            _mm_unpacklo_ps((__m128)(unsigned int)dword_10086160, (__m128)a2),
            17),
          (__m128)xmmword_10086150);
  sub_10056E10(&v11, (int)&v11, (int)&v12);
  v4 = _mm_shuffle_ps(v11, v12, 0);
  v5 = _mm_shuffle_ps(v4, v4, -118);
  v6 = _mm_shuffle_ps(v11, v12, -103);
  v7 = v6;
  v8 = _mm_shuffle_ps(v6, v6, -9);
  v9 = _mm_shuffle_ps(v7, v7, -88);
  v11 = _mm_add_ps(
          _mm_mul_ps(_mm_mul_ps(v5, v8), v9),
          _mm_xor_ps(
            _mm_mul_ps(_mm_mul_ps(_mm_shuffle_ps(v5, v5, -118), _mm_shuffle_ps(v8, v8, 81)), _mm_shuffle_ps(v9, v9, 1)),
            (__m128)xmmword_10086140));
  result = a1;
  *(_OWORD *)a1 = v11;
  return result;
}
// 10086140: using guessed type __int128 xmmword_10086140;
// 10086150: using guessed type __int128 xmmword_10086150;
// 10086160: using guessed type int dword_10086160;

//----- (10042570) --------------------------------------------------------
int __stdcall sub_10042570(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@2
  __m128 v4; // xmm0@2
  int result; // eax@2
  __m128 v6; // xmm1@3
  __m128 v7; // xmm3@3

  if ( a3 & 0xF )
  {
    v6 = _mm_loadl_ps((const double *)a2);
    v7 = _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v6, v6, 0)),
             _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v6, v6, 85))),
           _mm_mul_ps(
             _mm_loadh_ps((const double *)(a3 + 40)),
             _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0)));
    _mm_storel_ps((double *)a1, v7);
    *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v7, v7);
    result = a1;
  }
  else
  {
    v3 = _mm_loadl_ps((const double *)a2);
    v4 = _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3),
             _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16))),
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0), *(__m128 *)(a3 + 32)));
    _mm_storel_ps((double *)a1, v4);
    *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v4, v4);
    result = a1;
  }
  return result;
}

//----- (10042630) --------------------------------------------------------
int __stdcall sub_10042630(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@2
  int result; // eax@2
  __m128 v5; // xmm2@3

  if ( a3 & 0xF )
  {
    v5 = _mm_loadl_ps((const double *)a2);
    *(_OWORD *)a1 = _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v5, v5, 0)),
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v5, v5, 85))),
                      _mm_add_ps(
                        _mm_mul_ps(
                          _mm_loadh_ps((const double *)(a3 + 40)),
                          _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0)),
                        _mm_loadh_ps((const double *)(a3 + 56))));
    result = a1;
  }
  else
  {
    v3 = _mm_loadl_ps((const double *)a2);
    *(_OWORD *)a1 = _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3),
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16))),
                      _mm_add_ps(
                        _mm_mul_ps(
                          _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0),
                          *(__m128 *)(a3 + 32)),
                        *(__m128 *)(a3 + 48)));
    result = a1;
  }
  return result;
}

//----- (100426F0) --------------------------------------------------------
int __stdcall sub_100426F0(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@2
  __m128 v4; // xmm0@2
  __m128 v5; // xmm1@2
  __m128 v6; // xmm2@2
  __m128 v7; // xmm0@2
  int result; // eax@2
  __m128 v9; // xmm2@3
  __m128 v10; // xmm4@3
  __m128 v11; // xmm0@3
  __m128 v12; // xmm1@3
  __m128 v13; // xmm4@3

  if ( a3 & 0xF )
  {
    v9 = _mm_loadl_ps((const double *)a2);
    v10 = _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v9, v9, 0)),
              _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v9, v9, 85))),
            _mm_add_ps(
              _mm_mul_ps(
                _mm_loadh_ps((const double *)(a3 + 40)),
                _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0)),
              _mm_loadh_ps((const double *)(a3 + 56))));
    v11 = _mm_rcp_ps(v10);
    v12 = _mm_sub_ps(_mm_add_ps(v11, v11), _mm_mul_ps(_mm_mul_ps(v11, v10), v11));
    v13 = _mm_mul_ps(v10, _mm_shuffle_ps(v12, v12, -1));
    _mm_storel_ps((double *)a1, v13);
    *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v13, v13);
    result = a1;
  }
  else
  {
    v3 = _mm_loadl_ps((const double *)a2);
    v4 = _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3),
             _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16))),
           _mm_add_ps(
             _mm_mul_ps(
               _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0),
               *(__m128 *)(a3 + 32)),
             *(__m128 *)(a3 + 48)));
    v5 = _mm_rcp_ps(v4);
    v6 = _mm_sub_ps(_mm_add_ps(v5, v5), _mm_mul_ps(_mm_mul_ps(v5, v4), v5));
    v7 = _mm_mul_ps(v4, _mm_shuffle_ps(v6, v6, -1));
    _mm_storel_ps((double *)a1, v7);
    *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v7, v7);
    result = a1;
  }
  return result;
}

//----- (100427F0) --------------------------------------------------------
int __stdcall sub_100427F0(int a1, __m128 *a2, int a3)
{
  __m128 v3; // xmm2@2
  int result; // eax@2
  __m128 v5; // xmm5@3

  if ( a3 & 0xF )
  {
    v5 = *(__m128 *)&a2->m128_f32[0];
    *(_OWORD *)a1 = _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v5, v5, 0)),
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v5, v5, 85))),
                      _mm_add_ps(
                        _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 40)), _mm_shuffle_ps(v5, v5, -86)),
                        _mm_mul_ps(
                          _mm_loadh_ps((const double *)(a3 + 56)),
                          _mm_shuffle_ps(COERCE__M128(a2->m128_f32[0]), COERCE__M128(a2->m128_f32[0]), -1))));
    result = a1;
  }
  else
  {
    v3 = *(__m128 *)&a2->m128_f32[0];
    *(_OWORD *)a1 = _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3),
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16))),
                      _mm_add_ps(
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, -86), *(__m128 *)(a3 + 32)),
                        _mm_mul_ps(_mm_shuffle_ps(v3, v3, -1), *(__m128 *)(a3 + 48))));
    result = a1;
  }
  return result;
}

//----- (100428B0) --------------------------------------------------------
int __stdcall sub_100428B0(int a1, int a2, int a3)
{
  int v3; // edx@1
  int result; // eax@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm1@1
  __m128 v8; // xmm0@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm6@1
  __m128 v12; // xmm7@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm1@1
  __m128 v15; // xmm7@1

  v3 = a2;
  result = a1;
  v5 = _mm_loadh_ps((const double *)(a3 + 8));
  v6 = _mm_loadh_ps((const double *)(a3 + 24));
  v7 = _mm_loadh_ps((const double *)(a3 + 40));
  v8 = _mm_loadh_ps((const double *)(a3 + 56));
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)v3, (__m128)*(_DWORD *)v3, 0), v5),
             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 4), (__m128)*(_DWORD *)(v3 + 4), 0), v6)),
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 8), (__m128)*(_DWORD *)(v3 + 8), 0), v7)),
         _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 12), (__m128)*(_DWORD *)(v3 + 12), 0), v8));
  v10 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 16), (__m128)*(_DWORD *)(v3 + 16), 0), v5),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 20), (__m128)*(_DWORD *)(v3 + 20), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 24), (__m128)*(_DWORD *)(v3 + 24), 0), v7)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 28), (__m128)*(_DWORD *)(v3 + 28), 0), v8));
  v11 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 32), (__m128)*(_DWORD *)(v3 + 32), 0), v5),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 36), (__m128)*(_DWORD *)(v3 + 36), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 40), (__m128)*(_DWORD *)(v3 + 40), 0), v7)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 44), (__m128)*(_DWORD *)(v3 + 44), 0), v8));
  v12 = _mm_add_ps(
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 48), (__m128)*(_DWORD *)(v3 + 48), 0), v5),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 52), (__m128)*(_DWORD *)(v3 + 52), 0), v6));
  v13 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 56), (__m128)*(_DWORD *)(v3 + 56), 0), v7);
  v14 = (__m128)*(_DWORD *)(a2 + 60);
  _mm_storel_ps((double *)a1, v9);
  _mm_storeh_ps((double *)(a1 + 8), v9);
  _mm_storel_ps((double *)(a1 + 16), v10);
  _mm_storeh_ps((double *)(a1 + 24), v10);
  _mm_storel_ps((double *)(a1 + 32), v11);
  _mm_storeh_ps((double *)(a1 + 40), v11);
  v15 = _mm_add_ps(_mm_add_ps(v12, v13), _mm_mul_ps(_mm_shuffle_ps(v14, v14, 0), v8));
  _mm_storel_ps((double *)(a1 + 48), v15);
  _mm_storeh_ps((double *)(a1 + 56), v15);
  return result;
}

//----- (10042A00) --------------------------------------------------------
int __stdcall sub_10042A00(int a1, int a2)
{
  int result; // eax@1
  __int128 v3; // xmm0@1
  __int128 v4; // xmm6@1
  __int128 v5; // xmm5@1
  __int128 v6; // xmm2@1
  __int128 v7; // xmm3@1
  __int128 v8; // xmm4@1
  __int128 v9; // xmm3@1
  __int128 v10; // xmm2@3
  __int128 v11; // xmm4@3
  float v12; // xmm3_4@3
  __int128 v13; // xmm3@3
  __int128 v14; // xmm0@3
  __int128 v15; // xmm1@3
  __int128 v16; // xmm1@3

  result = a1;
  v3 = *(_DWORD *)a2;
  v4 = *(_DWORD *)(a2 + 4);
  v5 = *(_DWORD *)(a2 + 8);
  v6 = *(_DWORD *)a2;
  *(float *)&v6 = (float)(*(float *)&v6 * *(float *)&v6) + (float)(*(float *)(a2 + 4) * *(float *)(a2 + 4));
  v7 = *(_DWORD *)(a2 + 8);
  *(float *)&v7 = *(float *)&v7 * *(float *)&v7;
  v8 = v7;
  v9 = v6;
  *(float *)&v9 = *(float *)&v9 + *(float *)&v8;
  if ( *(float *)&dword_10086180 <= *(float *)&v9 )
  {
    v10 = (unsigned int)dword_10086184;
    v11 = v9;
    v12 = 1.0 / fsqrt(*(float *)&v9);
    *(float *)&v10 = *(float *)&dword_10086184 * v12;
    *(float *)&v11 = (float)(*(float *)&v11 * v12) * v12;
    v13 = v3;
    v14 = v10;
    *(float *)&v14 = *(float *)&v14 * (float)(*(float *)&dword_10086188 - *(float *)&v11);
    v15 = v14;
    *(float *)a1 = *(float *)&v15 * *(float *)&v13;
    v16 = v14;
    *(float *)(a1 + 4) = *(float *)&v16 * *(float *)&v4;
    *(float *)(a1 + 8) = *(float *)&v14 * *(float *)&v5;
  }
  else
  {
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
  }
  return result;
}
// 10086180: using guessed type int dword_10086180;
// 10086184: using guessed type int dword_10086184;
// 10086188: using guessed type int dword_10086188;

//----- (10042AD0) --------------------------------------------------------
int __stdcall sub_10042AD0(int a1, int a2)
{
  int result; // eax@1
  __int128 v3; // xmm0@1
  __int128 v4; // xmm4@1
  __int128 v5; // xmm6@1
  __int128 v6; // xmm2@1
  __int128 v7; // xmm3@1
  __int128 v8; // xmm5@1
  __int128 v9; // xmm3@1
  __int128 v10; // xmm2@3
  __int128 v11; // xmm5@3
  float v12; // xmm3_4@3
  __int128 v13; // xmm3@3
  __int128 v14; // xmm0@3
  __int128 v15; // xmm1@3
  __int128 v16; // xmm1@3
  __int128 v17; // xmm1@3

  result = a1;
  v3 = *(_DWORD *)a2;
  v4 = *(_DWORD *)(a2 + 4);
  v5 = *(_DWORD *)(a2 + 8);
  v6 = *(_DWORD *)a2;
  *(float *)&v6 = (float)(*(float *)&v6 * *(float *)&v6) + (float)(*(float *)(a2 + 4) * *(float *)(a2 + 4));
  v7 = *(_DWORD *)(a2 + 8);
  *(float *)&v7 = *(float *)&v7 * *(float *)&v7;
  v8 = v7;
  v9 = v6;
  *(float *)&v9 = *(float *)&v9 + *(float *)&v8;
  if ( *(float *)&dword_1008618C <= *(float *)&v9 )
  {
    v10 = (unsigned int)dword_10086190;
    v11 = v9;
    v12 = 1.0 / fsqrt(*(float *)&v9);
    *(float *)&v10 = *(float *)&dword_10086190 * v12;
    *(float *)&v11 = (float)(*(float *)&v11 * v12) * v12;
    v13 = v3;
    v14 = v10;
    *(float *)&v14 = *(float *)&v14 * (float)(*(float *)&dword_10086194 - *(float *)&v11);
    v15 = v14;
    *(float *)a1 = *(float *)&v15 * *(float *)&v13;
    v16 = v14;
    *(float *)(a1 + 4) = *(float *)&v16 * *(float *)&v4;
    v17 = v14;
    *(float *)(a1 + 8) = *(float *)&v17 * *(float *)&v5;
    *(float *)(a1 + 12) = *(float *)&v14 * *(float *)(a2 + 12);
  }
  else
  {
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 12) = 0;
  }
  return result;
}
// 1008618C: using guessed type int dword_1008618C;
// 10086190: using guessed type int dword_10086190;
// 10086194: using guessed type int dword_10086194;

//----- (10042C50) --------------------------------------------------------
int __stdcall sub_10042C50(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm4@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm1@1
  __m128 v7; // xmm5@1
  __m128 v8; // xmm0@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm5@1
  __m128 v12; // xmm6@1
  __m128 v13; // xmm5@1
  __m128 v14; // xmm7@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm1@1
  __m128 v17; // xmm7@1
  __m128 v18; // xmm3@1
  __m128 v19; // ST30_16@1
  __m128 v20; // xmm5@1
  __m128 v21; // xmm0@1
  __m128 v22; // xmm5@1
  __m128 v23; // ST40_16@1
  __m128 v24; // xmm6@1
  __m128 v25; // xmm3@1
  __m128 v26; // xmm5@1
  __m128 v27; // ST50_16@1
  __m128 v28; // xmm6@1
  __m128 v29; // xmm3@1
  __m128 v30; // xmm7@1
  __m128 v31; // xmm7@1
  __m128 v32; // ST60_16@1
  __m128 v33; // xmm5@1
  __m128 v34; // xmm0@1
  __m128 v35; // xmm6@1
  __m128 v36; // xmm7@1
  __m128 v37; // ST70_16@1
  __m128 v38; // xmm4@1
  __m128 v39; // xmm0@1
  __m128 v40; // xmm7@1
  __m128 v41; // xmm5@1
  __m128 v42; // xmm1@1
  __m128 v43; // xmm1@1
  __m128 v44; // xmm0@1
  __m128 v45; // xmm1@1
  __m128 v46; // xmm0@1
  __m128 v47; // xmm5@1
  __m128 v48; // xmm5@1
  __m128 v49; // xmm6@1
  __m128 v50; // xmm5@1
  __m128 v51; // ST80_16@1
  __m128 v52; // ST90_16@1
  __m128 v53; // xmm3@1
  __m128 v54; // xmm3@1
  __m128 v55; // STA0_16@1
  __m128 v56; // STB0_16@1
  __m128 v57; // xmm5@1
  __m128 v58; // xmm7@1
  __m128 v59; // xmm3@1
  __m128 v60; // xmm6@1
  __m128 v61; // xmm4@1
  __m128 v62; // xmm0@1
  __m128 v63; // xmm4@1
  __m128 v64; // xmm0@1
  __m128 v65; // xmm3@1
  __m128 v66; // xmm0@1
  __m128 v67; // xmm4@1
  __m128 v68; // xmm6@1
  __m128 v69; // xmm2@1
  __m128 v70; // xmm0@3
  __m128 v71; // xmm0@4
  int result; // eax@4
  __m128 v73; // xmm3@4
  __m128 v74; // xmm5@4
  __m128 v75; // xmm5@4
  __m128 v76; // xmm1@4
  __m128 v77; // xmm4@4
  __m128 v78; // xmm6@4
  __m128 v79; // xmm5@4
  __m128 v80; // [sp+10h] [bp-FCh]@1
  __m128 v81; // [sp+D0h] [bp-3Ch]@1

  v3 = _mm_loadh_ps((const double *)(a3 + 24));
  v4 = _mm_loadh_ps((const double *)(a3 + 56));
  v5 = _mm_loadh_ps((const double *)(a3 + 48));
  v6 = _mm_loadh_ps((const double *)(a3 + 16));
  v7 = v3;
  v8 = _mm_shuffle_ps(v3, v4, -120);
  v9 = _mm_shuffle_ps(v4, v7, -35);
  v10 = _mm_mul_ps(v9, v8);
  v11 = _mm_shuffle_ps(v10, v10, -79);
  v12 = v11;
  v13 = _mm_shuffle_ps(v11, v11, 78);
  v14 = v5;
  v15 = _mm_shuffle_ps(v5, v6, -35);
  v16 = _mm_shuffle_ps(v6, v14, -120);
  v17 = v15;
  v18 = _mm_mul_ps(v15, v13);
  v19 = _mm_mul_ps(v13, v16);
  v20 = _mm_mul_ps(v17, v8);
  v21 = _mm_shuffle_ps(v8, v8, 78);
  v22 = _mm_shuffle_ps(v20, v20, -79);
  v23 = _mm_mul_ps(v12, v16);
  v24 = _mm_add_ps(_mm_mul_ps(v9, v22), _mm_sub_ps(v18, _mm_mul_ps(v17, v12)));
  v25 = v22;
  v26 = _mm_shuffle_ps(v22, v22, 78);
  v27 = _mm_mul_ps(v25, v16);
  v28 = _mm_sub_ps(v24, _mm_mul_ps(v9, v26));
  v29 = v17;
  v30 = _mm_mul_ps(_mm_shuffle_ps(v17, v17, 78), v9);
  v31 = _mm_shuffle_ps(v30, v30, -79);
  v32 = _mm_mul_ps(v26, v16);
  v33 = v21;
  v34 = _mm_add_ps(_mm_mul_ps(v21, v31), v28);
  v35 = v31;
  v36 = _mm_shuffle_ps(v31, v31, 78);
  v37 = v9;
  v38 = v33;
  v39 = _mm_sub_ps(v34, _mm_mul_ps(v33, v36));
  v40 = _mm_sub_ps(_mm_mul_ps(v36, v16), _mm_mul_ps(v35, v16));
  v41 = v16;
  v42 = _mm_mul_ps(v16, v39);
  v80 = v39;
  v43 = _mm_add_ps(_mm_shuffle_ps(v42, v42, 78), v42);
  v44 = v43;
  v45 = _mm_shuffle_ps(v43, v43, -79);
  v45.m128_f32[0] = v45.m128_f32[0] + v44.m128_f32[0];
  v46 = v41;
  v47 = _mm_mul_ps(v41, v29);
  v48 = _mm_shuffle_ps(v47, v47, -79);
  v49 = v48;
  v50 = _mm_shuffle_ps(v48, v48, 78);
  v51 = v38;
  v52 = v29;
  v53 = _mm_mul_ps(v37, v46);
  v54 = _mm_shuffle_ps(v53, v53, -79);
  v55 = v50;
  v56 = v49;
  v57 = _mm_add_ps(
          _mm_mul_ps(v52, v54),
          _mm_sub_ps(_mm_mul_ps(v37, v50), _mm_add_ps(_mm_mul_ps(v37, v49), _mm_shuffle_ps(v40, v40, 78))));
  v58 = v54;
  v59 = _mm_shuffle_ps(v54, v54, 78);
  v60 = _mm_sub_ps(v57, _mm_mul_ps(v52, v59));
  v61 = _mm_sub_ps(v19, v23);
  v62 = _mm_mul_ps(v46, v51);
  v63 = _mm_add_ps(_mm_sub_ps(_mm_shuffle_ps(v61, v61, 78), _mm_mul_ps(v58, v51)), _mm_mul_ps(v59, v51));
  v64 = _mm_shuffle_ps(v62, v62, -79);
  v65 = v64;
  v66 = _mm_shuffle_ps(v64, v64, 78);
  v81 = v60;
  v67 = _mm_sub_ps(_mm_add_ps(v63, _mm_mul_ps(v37, v65)), _mm_mul_ps(v37, v66));
  v68 = _mm_sub_ps(v32, v27);
  v69 = _mm_add_ps(
          _mm_mul_ps(v52, v66),
          _mm_sub_ps(
            _mm_sub_ps(_mm_sub_ps(_mm_mul_ps(v56, v51), _mm_shuffle_ps(v68, v68, 78)), _mm_mul_ps(v51, v55)),
            _mm_mul_ps(v65, v52)));
  if ( v45.m128_f32[0] == 0.0 )
  {
    result = 0;
  }
  else
  {
    if ( a2 )
    {
      v70 = v45;
      *(_DWORD *)a2 = (_DWORD)v70.m128_f32[0];
    }
    v71 = v45;
    result = a1;
    v73 = v45;
    v71.m128_f32[0] = 1.0 / v73.m128_f32[0];
    v74 = v71;
    v74.m128_f32[0] = (float)(v74.m128_f32[0] + v74.m128_f32[0])
                    - (float)(v73.m128_f32[0] * (float)(v71.m128_f32[0] * v71.m128_f32[0]));
    v75 = _mm_shuffle_ps(v74, v74, 0);
    v76 = _mm_mul_ps(v80, v75);
    _mm_storel_ps((double *)a1, v76);
    _mm_storeh_ps((double *)(a1 + 8), v76);
    v77 = _mm_mul_ps(v67, v75);
    _mm_storel_ps((double *)(a1 + 16), v77);
    _mm_storeh_ps((double *)(a1 + 24), v77);
    v78 = _mm_mul_ps(v81, v75);
    _mm_storel_ps((double *)(a1 + 32), v78);
    _mm_storeh_ps((double *)(a1 + 40), v78);
    v79 = _mm_mul_ps(v75, v69);
    _mm_storel_ps((double *)(a1 + 48), v79);
    _mm_storeh_ps((double *)(a1 + 56), v79);
  }
  return result;
}

//----- (10042F10) --------------------------------------------------------
int __stdcall sub_10042F10(int a1, int a2, int a3)
{
  int v3; // edx@1
  int result; // eax@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm1@1
  __m128 v8; // xmm0@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm7@1
  __m128 v12; // xmm4@1
  __m128 v13; // xmm7@1
  __m128 v14; // xmm6@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm2@1
  __m128 v17; // xmm1@1
  __m128 v18; // xmm5@1
  __m128 v19; // xmm0@1
  __m128 v20; // xmm6@1
  __m128 v21; // xmm0@1

  v3 = a2;
  result = a1;
  v5 = _mm_loadh_ps((const double *)(a3 + 8));
  v6 = _mm_loadh_ps((const double *)(a3 + 24));
  v7 = _mm_loadh_ps((const double *)(a3 + 40));
  v8 = _mm_loadh_ps((const double *)(a3 + 56));
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(
             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)v3, (__m128)*(_DWORD *)v3, 0), v5),
             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 4), (__m128)*(_DWORD *)(v3 + 4), 0), v6)),
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 8), (__m128)*(_DWORD *)(v3 + 8), 0), v7)),
         _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 12), (__m128)*(_DWORD *)(v3 + 12), 0), v8));
  v10 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 16), (__m128)*(_DWORD *)(v3 + 16), 0), v5),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 20), (__m128)*(_DWORD *)(v3 + 20), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 24), (__m128)*(_DWORD *)(v3 + 24), 0), v7)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 28), (__m128)*(_DWORD *)(v3 + 28), 0), v8));
  v11 = v9;
  v12 = _mm_unpacklo_ps(v9, v10);
  v13 = _mm_unpackhi_ps(v11, v10);
  v14 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 32), (__m128)*(_DWORD *)(v3 + 32), 0), v5),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 36), (__m128)*(_DWORD *)(v3 + 36), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 40), (__m128)*(_DWORD *)(v3 + 40), 0), v7)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 44), (__m128)*(_DWORD *)(v3 + 44), 0), v8));
  v15 = _mm_add_ps(
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 48), (__m128)*(_DWORD *)(v3 + 48), 0), v5),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 52), (__m128)*(_DWORD *)(v3 + 52), 0), v6));
  v16 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(v3 + 56), (__m128)*(_DWORD *)(v3 + 56), 0), v7);
  v17 = (__m128)*(_DWORD *)(a2 + 60);
  _mm_storel_ps((double *)a1, v12);
  v18 = _mm_add_ps(_mm_add_ps(v15, v16), _mm_mul_ps(_mm_shuffle_ps(v17, v17, 0), v8));
  _mm_storeh_ps((double *)(a1 + 16), v12);
  _mm_storel_ps((double *)(a1 + 32), v13);
  _mm_storeh_ps((double *)(a1 + 48), v13);
  v19 = v14;
  v20 = _mm_unpacklo_ps(v14, v18);
  _mm_storel_ps((double *)(a1 + 8), v20);
  _mm_storeh_ps((double *)(a1 + 24), v20);
  v21 = _mm_unpackhi_ps(v19, v18);
  _mm_storel_ps((double *)(a1 + 40), v21);
  _mm_storeh_ps((double *)(a1 + 56), v21);
  return result;
}

//----- (10043070) --------------------------------------------------------
int __stdcall sub_10043070(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm2@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm1@1
  __m128 v10; // xmm3@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm4@1
  __m128 v13; // xmm0@1
  __m128 v14; // xmm4@1
  __m128 v15; // xmm2@1
  __m128 v16; // xmm3@1
  __m128 v17; // xmm1@1

  result = a1;
  v5 = _mm_loadh_ps((const double *)(a4 + 8));
  v6 = _mm_loadh_ps((const double *)(a3 + 8));
  v7 = _mm_shuffle_ps(v6, v6, 57);
  v8 = _mm_loadh_ps((const double *)(a2 + 8));
  v9 = _mm_shuffle_ps(v8, v8, 57);
  v10 = v5;
  v11 = _mm_shuffle_ps(v5, v5, 78);
  v12 = v11;
  v13 = _mm_mul_ps(_mm_shuffle_ps(v11, v11, 57), v7);
  v14 = _mm_mul_ps(v12, v7);
  v15 = _mm_mul_ps(v7, v10);
  v16 = v9;
  v17 = _mm_shuffle_ps(v9, v9, 57);
  *(_OWORD *)a1 = _mm_xor_ps(
                    _mm_add_ps(
                      _mm_add_ps(
                        _mm_mul_ps(v16, _mm_sub_ps(_mm_shuffle_ps(v14, v14, 57), _mm_shuffle_ps(v15, v15, 78))),
                        _mm_mul_ps(_mm_sub_ps(_mm_shuffle_ps(v13, v13, 78), v13), v17)),
                      _mm_mul_ps(_mm_shuffle_ps(v17, v17, 57), _mm_sub_ps(v14, _mm_shuffle_ps(v15, v15, 57)))),
                    (__m128)xmmword_10081E00);
  return result;
}
// 10081E00: using guessed type __int128 xmmword_10081E00;

//----- (10043120) --------------------------------------------------------
int __stdcall sub_10043120(int a1, unsigned int a2)
{
  __m128 v2; // xmm2@1
  int result; // eax@1
  __m128 v4; // xmm3@1
  __m128 v5; // xmm0@1
  int v6; // [sp-44h] [bp-4Ch]@0
  int v7; // [sp-40h] [bp-48h]@0
  int v8; // [sp-3Ch] [bp-44h]@0
  int v9; // [sp-38h] [bp-40h]@0

  sub_100574F0(v6, v7, v8, v9);
  v2 = (__m128)xmmword_100861B0;
  result = a1;
  v4 = _mm_shuffle_ps((__m128)a2, (__m128)a2, 0);
  v5 = (__m128)xmmword_100861C0;
  *(_OWORD *)a1 = xmmword_100861D0;
  *(_DWORD *)(a1 + 16) = (_DWORD)v5.m128_f32[0];
  _mm_storel_ps((double *)(a1 + 20), v4);
  _mm_storel_ps((double *)(a1 + 28), v5);
  *(_DWORD *)(a1 + 44) = (_DWORD)v5.m128_f32[0];
  _mm_storel_ps((double *)(a1 + 36), _mm_xor_ps(_mm_shuffle_ps(v4, v4, 17), v2));
  *(_OWORD *)(a1 + 48) = v5;
  return result;
}
// 10043120: could not find valid save-restore pair for ebp
// 100861B0: using guessed type __int128 xmmword_100861B0;
// 100861C0: using guessed type __int128 xmmword_100861C0;
// 100861D0: using guessed type __int128 xmmword_100861D0;

//----- (100431A0) --------------------------------------------------------
int __stdcall sub_100431A0(int a1, unsigned int a2)
{
  __m128 v2; // xmm0@1
  __m128 v3; // ST40_16@1
  __m128 v4; // ST30_16@1
  __m128 v5; // xmm0@1
  int result; // eax@1
  __int128 v7; // xmm1@1
  int v8; // [sp-64h] [bp-6Ch]@0
  int v9; // [sp-60h] [bp-68h]@0
  int v10; // [sp-5Ch] [bp-64h]@0
  int v11; // [sp-58h] [bp-60h]@0

  v2 = _mm_shuffle_ps((__m128)a2, (__m128)a2, 0);
  v3 = (__m128)xmmword_10086210;
  v4 = (__m128)xmmword_10086200;
  sub_100574F0(v8, v9, v10, v11);
  v5 = _mm_and_ps(_mm_shuffle_ps(v2, v2, 80), v3);
  result = a1;
  *(_OWORD *)a1 = _mm_xor_ps(v4, v5);
  *(_OWORD *)(a1 + 16) = xmmword_100861F0;
  v7 = xmmword_100861E0;
  *(_OWORD *)(a1 + 32) = _mm_shuffle_ps(v5, v5, 70);
  *(_OWORD *)(a1 + 48) = v7;
  return result;
}
// 100431A0: could not find valid save-restore pair for ebp
// 100861E0: using guessed type __int128 xmmword_100861E0;
// 100861F0: using guessed type __int128 xmmword_100861F0;
// 10086200: using guessed type __int128 xmmword_10086200;
// 10086210: using guessed type __int128 xmmword_10086210;

//----- (10043230) --------------------------------------------------------
double __stdcall sub_10043230(int a1)
{
  __m128 v1; // xmm7@2
  __m128 v2; // xmm1@2
  __m128 v3; // xmm2@2
  __m128 v4; // xmm0@2
  __m128 v5; // xmm2@4
  __m128 v6; // xmm1@4
  __m128 v7; // xmm3@4
  __m128 v8; // xmm0@4
  __m128 v9; // xmm3@4
  __m128 v10; // xmm4@4
  __m128 v11; // xmm2@4
  __m128 v12; // xmm0@4
  __m128 v13; // xmm1@4
  __m128 v14; // xmm0@4
  __m128 v15; // xmm0@4

  if ( a1 & 0xF )
  {
    v2 = _mm_loadh_ps((const double *)(a1 + 24));
    v1 = _mm_loadh_ps((const double *)(a1 + 8));
    v3 = _mm_loadh_ps((const double *)(a1 + 40));
    v4 = _mm_loadh_ps((const double *)(a1 + 56));
  }
  else
  {
    v1 = *(__m128 *)a1;
    v2 = *(__m128 *)(a1 + 16);
    v3 = *(__m128 *)(a1 + 32);
    v4 = *(__m128 *)(a1 + 48);
  }
  v5 = _mm_shuffle_ps(v3, v3, 57);
  v6 = _mm_shuffle_ps(v2, v2, 57);
  v7 = v4;
  v8 = _mm_shuffle_ps(v4, v4, 78);
  v9 = _mm_mul_ps(v7, v5);
  v10 = _mm_mul_ps(v8, v5);
  v11 = _mm_mul_ps(v5, _mm_shuffle_ps(v8, v8, 57));
  v12 = v6;
  v13 = _mm_shuffle_ps(v6, v6, 57);
  v14 = _mm_mul_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(v12, _mm_sub_ps(_mm_shuffle_ps(v10, v10, 57), _mm_shuffle_ps(v9, v9, 78))),
              _mm_mul_ps(_mm_sub_ps(_mm_shuffle_ps(v11, v11, 78), v11), v13)),
            _mm_mul_ps(_mm_shuffle_ps(v13, v13, 57), _mm_sub_ps(v10, _mm_shuffle_ps(v9, v9, 57)))),
          v1);
  v15 = _mm_add_ps(v14, _mm_movehl_ps(v14, v14));
  return (float)(v15.m128_f32[0] - COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v15, v15, 1)));
}

//----- (10043300) --------------------------------------------------------
int __stdcall sub_10043300(int a1, const double *a2, const double *a3, const double *a4)
{
  int result; // eax@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm3@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm4@1
  __m128 v9; // xmm3@1
  __m128 v10; // xmm1@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm3@1
  __m128 v13; // xmm0@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm3@1
  __m128 v17; // xmm0@1

  result = a1;
  v5 = _mm_loadh_ps(a2);
  v6 = v5;
  v7 = _mm_sub_ps(v5, _mm_loadh_ps(a4));
  v8 = v6;
  v9 = _mm_sub_ps(v6, _mm_loadh_ps(a3));
  v10 = (__m128)xmmword_10081E30;
  v11 = _mm_sub_ps(
          _mm_mul_ps(_mm_shuffle_ps(v7, v7, 120), _mm_shuffle_ps(v9, v9, 99)),
          _mm_mul_ps(_mm_shuffle_ps(v9, v9, 120), _mm_shuffle_ps(v7, v7, 99)));
  v12 = v11;
  v13 = _mm_mul_ps(v11, v11);
  v14 = _mm_add_ps(v13, _mm_movehl_ps(v13, v13));
  v14.m128_f32[0] = v14.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v14, v14, 1));
  v15 = v14;
  v14.m128_f32[0] = fsqrt(v14.m128_f32[0]);
  v10.m128_f32[0] = (float)(*(float *)&xmmword_10081E30 * (float)(1.0 / v14.m128_f32[0]))
                  * (float)(*(float *)&xmmword_10081E20
                          - (float)((float)(v15.m128_f32[0] * (float)(1.0 / v14.m128_f32[0]))
                                  * (float)(1.0 / v14.m128_f32[0])));
  v16 = _mm_mul_ps(v12, _mm_shuffle_ps(v10, v10, 0));
  *(_OWORD *)a1 = v16;
  v17 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 14), v16);
  v17.m128_f32[0] = v17.m128_f32[0]
                  + (float)(COERCE_FLOAT(*(_OWORD *)&_mm_movehl_ps(v15, v17))
                          + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v17, v17, 85)));
  *(_DWORD *)(a1 + 12) = (unsigned __int128)_mm_xor_ps(v17, (__m128)xmmword_10081E10);
  return result;
}
// 10081E10: using guessed type __int128 xmmword_10081E10;
// 10081E20: using guessed type __int128 xmmword_10081E20;
// 10081E30: using guessed type __int128 xmmword_10081E30;

//----- (100433F0) --------------------------------------------------------
int __stdcall sub_100433F0(int a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm2@1
  __m128 v4; // xmm3@1
  __m128 v5; // xmm3@1
  signed int v6; // ecx@1
  __m128 v7; // xmm1@1
  __m128 v8; // xmm0@1
  char v9; // al@4
  __m128 v10; // xmm4@5
  __int128 v11; // xmm3@8
  __m128 v12; // xmm5@10
  int result; // eax@11
  __m128 v14; // xmm4@11
  __m128 v15; // xmm0@11
  __m128 v16; // xmm0@11
  __m128 v17; // xmm0@11
  __m128 v18; // xmm5@11
  __m128 v19; // xmm6@11
  __m128 v20; // xmm7@11
  __m128 v21; // xmm0@11
  __m128 v22; // xmm1@11
  __m128 v23; // xmm2@11
  __m128 v24; // xmm3@11

  v3 = *(__m128 *)&a3->m128_f32[0];
  v4 = _mm_and_ps((__m128)xmmword_10081E80, COERCE__M128(a3->m128_f32[0]));
  v5 = _mm_mul_ps(v4, v4);
  v6 = 0;
  v7 = _mm_add_ps(v5, _mm_movehl_ps(0, v5));
  v8 = _mm_shuffle_ps(v7, v7, 1);
  v8.m128_f32[0] = v8.m128_f32[0] + v7.m128_f32[0];
  if ( v8.m128_f32[0] == 0.0 )
    v6 = 1;
  if ( v6 != 1 )
  {
    v9 = byte_10085490;
    if ( byte_10085490 & 1 )
    {
      v10 = (__m128)xmmword_10085470;
    }
    else
    {
      v9 = byte_10085490 | 1;
      v10 = (__m128)(unsigned int)dword_10086220;
      byte_10085490 |= 1u;
      xmmword_10085470 = (unsigned int)dword_10086220;
    }
    if ( v9 & 2 )
    {
      v11 = xmmword_10085480;
    }
    else
    {
      v11 = (unsigned int)dword_10086224;
      byte_10085490 = v9 | 2;
      xmmword_10085480 = (unsigned int)dword_10086224;
    }
    v12 = v8;
    v12.m128_f32[0] = 1.0 / fsqrt(v12.m128_f32[0]);
    v10.m128_f32[0] = (float)(v10.m128_f32[0] * v12.m128_f32[0])
                    * (float)(*(float *)&v11 - (float)((float)(v8.m128_f32[0] * v12.m128_f32[0]) * v12.m128_f32[0]));
    v8 = _mm_mul_ps(v3, _mm_shuffle_ps(v10, v10, 0));
  }
  result = a1;
  v14 = _mm_xor_ps((__m128)xmmword_10081E40, v8);
  v15 = _mm_mul_ps(v8, COERCE__M128(a2->m128_f32[0]));
  v16 = _mm_add_ps(v15, _mm_movehl_ps(v7, v15));
  v16.m128_f32[0] = v16.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v16, v16, 1));
  v17 = _mm_shuffle_ps(v16, v16, 0);
  v18 = _mm_and_ps((__m128)xmmword_10081E60, v17);
  v19 = _mm_and_ps((__m128)xmmword_10081E70, v17);
  v20 = v17;
  v21 = _mm_add_ps(
          _mm_mul_ps(_mm_shuffle_ps(v14, v14, 85), COERCE__M128(a2->m128_f32[0])),
          _mm_and_ps((__m128)xmmword_10081E50, v17));
  v22 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v14, v14, -86), COERCE__M128(a2->m128_f32[0])), v18);
  v24 = _mm_mul_ps(_mm_shuffle_ps(v14, v14, 0), COERCE__M128(a2->m128_f32[0]));
  v23 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v14, v14, -1), COERCE__M128(a2->m128_f32[0])), v19);
  v24.m128_f32[0] = v24.m128_f32[0] + v20.m128_f32[0];
  if ( a1 & 0xF )
  {
    _mm_storel_ps((double *)a1, v24);
    _mm_storeh_ps((double *)(a1 + 8), v24);
    _mm_storel_ps((double *)(a1 + 16), v21);
    _mm_storeh_ps((double *)(a1 + 24), v21);
    _mm_storel_ps((double *)(a1 + 32), v22);
    _mm_storeh_ps((double *)(a1 + 40), v22);
    _mm_storel_ps((double *)(a1 + 48), v23);
    _mm_storeh_ps((double *)(a1 + 56), v23);
  }
  else
  {
    *(_OWORD *)a1 = v24;
    *(_OWORD *)(a1 + 16) = v21;
    *(_OWORD *)(a1 + 32) = v22;
    *(_OWORD *)(a1 + 48) = v23;
  }
  return result;
}
// 10081E40: using guessed type __int128 xmmword_10081E40;
// 10081E50: using guessed type __int128 xmmword_10081E50;
// 10081E60: using guessed type __int128 xmmword_10081E60;
// 10081E70: using guessed type __int128 xmmword_10081E70;
// 10081E80: using guessed type __int128 xmmword_10081E80;
// 10085470: using guessed type __int128 xmmword_10085470;
// 10085480: using guessed type __int128 xmmword_10085480;
// 10085490: using guessed type char byte_10085490;
// 10086220: using guessed type int dword_10086220;
// 10086224: using guessed type int dword_10086224;

//----- (10043580) --------------------------------------------------------
int __stdcall sub_10043580(int a1, const double *a2)
{
  int result; // eax@1
  __m128 v3; // xmm1@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm3@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm5@1
  __m128 v9; // xmm1@1
  __m128 v10; // xmm4@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm2@1
  __m128 v17; // xmm4@1

  result = a1;
  v3 = _mm_loadl_ps(a2);
  v4 = _mm_and_ps((__m128)xmmword_10081F00, v3);
  v5 = _mm_mul_ps(v4, v4);
  v6 = (__m128)(unsigned int)dword_10081EF0;
  v7 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v7.m128_f32[0] = v7.m128_f32[0] + COERCE_FLOAT(*(_OWORD *)&_mm_shuffle_ps(v7, v7, 1));
  v8 = v7;
  v7.m128_f32[0] = fsqrt(v7.m128_f32[0]);
  v6.m128_f32[0] = (float)(*(float *)&dword_10081EF0 * (float)(1.0 / v7.m128_f32[0]))
                 * (float)(*(float *)&dword_10081EE0
                         - (float)((float)(v8.m128_f32[0] * (float)(1.0 / v7.m128_f32[0]))
                                 * (float)(1.0 / v7.m128_f32[0])));
  v9 = _mm_mul_ps(v3, _mm_shuffle_ps(v6, v6, 0));
  v10 = _mm_mul_ps((__m128)xmmword_10081ED0, v9);
  v11 = v9;
  v12 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v9, v9, 0), v10), (__m128)xmmword_10081EC0);
  v13 = v11;
  v14 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v11, v11, -1), v10), (__m128)xmmword_10081E90);
  v15 = v13;
  v16 = _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v13, v13, -86), v10), (__m128)xmmword_10081EA0);
  v17 = _mm_add_ps(_mm_mul_ps(v10, _mm_shuffle_ps(v15, v15, 85)), (__m128)xmmword_10081EB0);
  *(_OWORD *)a1 = v12;
  *(_OWORD *)(a1 + 16) = v17;
  *(_OWORD *)(a1 + 32) = v16;
  *(_OWORD *)(a1 + 48) = v14;
  return result;
}
// 10081E90: using guessed type __int128 xmmword_10081E90;
// 10081EA0: using guessed type __int128 xmmword_10081EA0;
// 10081EB0: using guessed type __int128 xmmword_10081EB0;
// 10081EC0: using guessed type __int128 xmmword_10081EC0;
// 10081ED0: using guessed type __int128 xmmword_10081ED0;
// 10081EE0: using guessed type int dword_10081EE0;
// 10081EF0: using guessed type int dword_10081EF0;
// 10081F00: using guessed type __int128 xmmword_10081F00;

//----- (10043940) --------------------------------------------------------
int __stdcall sub_10043940(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  __m128 v4; // xmm0@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm3@1
  __m128 v8; // xmm2@1
  __m128 v9; // xmm3@1
  int result; // eax@1
  __m128 v11; // [sp+10h] [bp-4Ch]@1
  __m128 v12; // [sp+20h] [bp-3Ch]@1

  v11 = _mm_mul_ps(
          _mm_shuffle_ps(
            _mm_unpacklo_ps((__m128)a3, (__m128)a4),
            _mm_unpacklo_ps((__m128)(unsigned int)dword_100862C0, (__m128)a2),
            17),
          (__m128)xmmword_100862B0);
  sub_100575E0((__m128i *)&v11, (int)&v11, (int)&v12);
  v4 = _mm_shuffle_ps(v11, v12, 0);
  v5 = _mm_shuffle_ps(v4, v4, -118);
  v6 = _mm_shuffle_ps(v11, v12, -103);
  v7 = v6;
  v8 = _mm_shuffle_ps(v6, v6, -9);
  v9 = _mm_shuffle_ps(v7, v7, -88);
  v11 = _mm_add_ps(
          _mm_mul_ps(_mm_mul_ps(v5, v8), v9),
          _mm_xor_ps(
            _mm_mul_ps(_mm_mul_ps(_mm_shuffle_ps(v5, v5, -118), _mm_shuffle_ps(v8, v8, 81)), _mm_shuffle_ps(v9, v9, 1)),
            (__m128)xmmword_100862A0));
  result = a1;
  *(_OWORD *)a1 = v11;
  return result;
}
// 100862A0: using guessed type __int128 xmmword_100862A0;
// 100862B0: using guessed type __int128 xmmword_100862B0;
// 100862C0: using guessed type int dword_100862C0;

//----- (10043B06) --------------------------------------------------------
void __stdcall sub_10043B06(int a1, int a2, int a3)
{
  __m64 v3; // mm5@1
  __m64 v4; // mm1@1
  __m64 v5; // mm2@1
  __m64 v6; // mm0@1
  __m64 v7; // mm5@1
  __m64 v8; // mm5@1
  __m64 v9; // mm1@1
  __m64 v10; // mm4@1
  __m64 v11; // mm1@2
  __m64 v12; // mm1@3
  __m64 v13; // mm0@7

  v3 = *(__m64 *)a1;
  v4 = *(__m64 *)(a1 + 8);
  v5 = v3;
  v6 = v4;
  v7 = _m_pfadd(_m_pfmul(v3, v3), _m_pfmul(v4, v4));
  v8 = _m_pfacc(v7, v7);
  v9 = _m_pfrsqrt(v8);
  v10 = v9;
  if ( _mm_cvtsi64_si32(_m_pfcmpge((__m64)qword_10073C50, v8)) )
  {
    if ( a2 )
    {
      v13 = (__m64)qword_10073BD0;
      *(_QWORD *)(a2 + 4) = 0i64;
      *(_DWORD *)a2 = _mm_cvtsi64_si32(v13);
    }
    if ( a3 )
      *(_DWORD *)a3 = _mm_cvtsi64_si32(0i64);
  }
  else
  {
    v11 = _m_pfmul(v9, v9);
    if ( a2 )
    {
      v12 = _m_pfrcpit2(_m_pfrsqit1(v11, v8), v10);
      *(_QWORD *)a2 = _m_pfmul(v5, v12);
      *(_DWORD *)(a2 + 8) = _mm_cvtsi64_si32(_m_pfmul(v12, v6));
    }
    if ( a3 )
    {
      sub_10057900();
      *(_DWORD *)a3 = _mm_cvtsi64_si32(_m_pfmul(_m_punpckhdq(v6, v6), (__m64)qword_10073BE8));
    }
  }
  _m_femms();
}
// 10073BD0: using guessed type __int64 qword_10073BD0;
// 10073BE8: using guessed type __int64 qword_10073BE8;
// 10073C50: using guessed type __int64 qword_10073C50;

//----- (10043BB9) --------------------------------------------------------
int __stdcall sub_10043BB9(int a1, int a2)
{
  __m64 v2; // mm4@1
  __m64 v3; // mm5@1
  __m64 v4; // mm3@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm5@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm6@1
  int v13; // ecx@1
  __m64 v14; // mm6@1
  __m64 v15; // mm0@2
  __m64 v16; // mm7@2
  __m64 v17; // mm4@2
  __m64 v18; // mm0@2
  __m64 v19; // mm4@2
  int result; // eax@2
  __m64 v21; // mm1@2
  __m64 v22; // mm1@4
  __m64 v23; // mm4@4
  __m64 v24; // mm1@4
  __m64 v25; // mm4@4
  __m64 v26; // mm1@4
  __m64 v27; // mm2@6
  __m64 v28; // mm4@6
  __m64 v29; // mm2@6
  __m64 v30; // mm4@6
  __m64 v31; // mm1@6
  __m64 v32; // mm3@7
  __m64 v33; // mm2@7
  __m64 v34; // mm3@7
  __m64 v35; // mm2@7
  __m64 v36; // mm3@7

  v2 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 20));
  v3 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 40));
  v4 = _m_pfsubr(*(__m64 *)a2, v3);
  v5 = _m_pfadd(_m_pfadd(*(__m64 *)a2, v2), v3);
  v6 = _m_pfsub(_m_pfsub(*(__m64 *)a2, v2), v3);
  v7 = _m_pfsub(_m_pfsubr(*(__m64 *)a2, v2), v3);
  v8 = *(__m64 *)(a2 + 32);
  v9 = _m_pfsub(v4, v2);
  v10 = _m_punpckldq(v5, v7);
  v11 = _m_punpckldq(v9, v9);
  v12 = _m_packssdw(_m_pfcmpge(_m_punpckldq(0i64, v6), v10), _m_pfcmpge(_m_punpckldq(v7, v6), v11));
  v13 = _mm_cvtsi64_si32(_m_packsswb(v12, v12));
  v14 = *(__m64 *)(a2 + 32);
  if ( v13 & 1 )
  {
    if ( (v13 & 0xFF00FF00) == -16711936 )
    {
      v22 = _m_pfadd(v6, (__m64)qword_10073BD0);
      v23 = _m_pfrsqrt(v22);
      v24 = _m_punpckldq(v22, v22);
      v25 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v23, v23), v24), v23), (__m64)qword_10073C48);
      result = a1;
      v26 = _m_punpckldq(
              _m_pfmul(v24, v25),
              _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 16)), _m_punpckhdq(v7, v7)), v25));
      *(_QWORD *)(a1 + 8) = _m_pfmul(
                              _m_pfadd(
                                _m_punpckldq(v8, *(__m64 *)(a2 + 24)),
                                _m_pxor(
                                  _m_punpckldq(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 8)), _m_punpckhdq(v14, v14)),
                                  (__m64)qword_10073C00)),
                              v25);
      *(_QWORD *)a1 = v26;
      _m_femms();
    }
    else
    {
      result = a1;
      if ( v13 & 0x10000 )
      {
        v27 = _m_pfadd(v7, (__m64)qword_10073BD0);
        v28 = _m_pfrsqrt(v27);
        v29 = _m_punpckldq(v27, v27);
        v30 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v28, v28), v29), v28), (__m64)qword_10073C48);
        v31 = _m_punpckldq(
                _m_pfmul(_m_pfadd(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(*(_DWORD *)(a2 + 16))), v30),
                _m_pfmul(v29, v30));
        *(_QWORD *)(a1 + 8) = _m_pfmul(
                                _m_pfadd(
                                  _m_punpckldq(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 24)), v8),
                                  _m_pxor(_m_punpckldq(_m_punpckhdq(v8, v8), *(__m64 *)(a2 + 8)), (__m64)qword_10073C00)),
                                v30);
        *(_QWORD *)a1 = v31;
        _m_femms();
      }
      else
      {
        v32 = _m_pfadd(v11, (__m64)qword_10073BD0);
        v33 = _m_pfrsqrt(v32);
        v34 = _m_punpckldq(v32, v32);
        v35 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v33, v33), v34), v33), (__m64)qword_10073C48);
        v36 = _m_punpckldq(
                _m_pfmul(v34, v35),
                _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(*(_DWORD *)(a2 + 16))), v35));
        *(_QWORD *)a1 = _m_pfmul(
                          _m_pfadd(
                            _m_punpckldq(v8, *(__m64 *)(a2 + 24)),
                            _m_punpckldq(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 8)), _m_punpckhdq(v14, v14))),
                          v35);
        *(_QWORD *)(a1 + 8) = v36;
        _m_femms();
      }
    }
  }
  else
  {
    v15 = _m_pfadd(v10, (__m64)qword_10073BD0);
    v16 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8));
    v17 = _m_pfrsqrt(v15);
    v18 = _m_punpckldq(v15, v15);
    v19 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v17, v17), v18), v17), (__m64)qword_10073C48);
    result = a1;
    v21 = _m_punpckldq(
            _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(*(_DWORD *)(a2 + 16))), v19),
            _m_pfmul(v18, v19));
    *(_QWORD *)a1 = _m_pfmul(
                      _m_pfsub(
                        _m_punpckldq(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 24)), v8),
                        _m_punpckhdq(v8, _m_punpckldq(v16, v16))),
                      v19);
    *(_QWORD *)(a1 + 8) = v21;
    _m_femms();
  }
  return result;
}
// 10073BD0: using guessed type __int64 qword_10073BD0;
// 10073C00: using guessed type __int64 qword_10073C00;
// 10073C48: using guessed type __int64 qword_10073C48;

//----- (10043DD5) --------------------------------------------------------
int __stdcall sub_10043DD5(int a1, int a2)
{
  __m64 v2; // mm4@1
  __m64 v3; // mm5@1
  __m64 v4; // mm3@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm5@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  char v12; // cl@1
  __m64 v13; // mm6@1
  __m64 v14; // mm0@2
  __m64 v15; // mm7@2
  __m64 v16; // mm4@2
  __m64 v17; // mm0@2
  __m64 v18; // mm4@2
  int result; // eax@2
  __m64 v20; // mm1@2
  __m64 v21; // mm1@4
  __m64 v22; // mm4@4
  __m64 v23; // mm1@4
  __m64 v24; // mm4@4
  __m64 v25; // mm1@4
  __m64 v26; // mm2@6
  __m64 v27; // mm4@6
  __m64 v28; // mm2@6
  __m64 v29; // mm4@6
  __m64 v30; // mm1@6
  __m64 v31; // mm3@7
  __m64 v32; // mm2@7
  __m64 v33; // mm3@7
  __m64 v34; // mm2@7
  __m64 v35; // mm3@7

  v2 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 20));
  v3 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 40));
  v4 = _m_pfsubr(*(__m64 *)a2, v3);
  v5 = _m_pfadd(_m_pfadd(*(__m64 *)a2, v2), v3);
  v6 = _m_pfsub(_m_pfsub(*(__m64 *)a2, v2), v3);
  v7 = _m_pfsub(_m_pfsubr(*(__m64 *)a2, v2), v3);
  v8 = *(__m64 *)(a2 + 32);
  v9 = _m_pfsub(v4, v2);
  v10 = _m_punpckldq(v5, v7);
  v11 = _m_punpckldq(v9, v9);
  v12 = _m_pmovmskb(_m_packssdw(_m_pfcmpge(_m_punpckldq(0i64, v6), v10), _m_pfcmpge(_m_punpckldq(v7, v6), v11)));
  v13 = *(__m64 *)(a2 + 32);
  if ( v12 & 1 )
  {
    if ( (v12 & 0xCC) == 204 )
    {
      v21 = _m_pfadd(v6, (__m64)qword_10073BD0);
      v22 = _m_pfrsqrt(v21);
      v23 = _m_punpckldq(v21, v21);
      v24 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v22, v22), v23), v22), (__m64)qword_10073C48);
      result = a1;
      v25 = _m_punpckldq(
              _m_pfmul(v23, v24),
              _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 16)), _m_punpckhdq(v7, v7)), v24));
      *(_QWORD *)(a1 + 8) = _m_pfmul(
                              _m_pfadd(
                                _m_punpckldq(v8, *(__m64 *)(a2 + 24)),
                                _m_pxor(
                                  _m_punpckldq(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 8)), _m_punpckhdq(v13, v13)),
                                  (__m64)qword_10073C00)),
                              v24);
      *(_QWORD *)a1 = v25;
      _m_femms();
    }
    else
    {
      result = a1;
      if ( v12 & 0x10 )
      {
        v26 = _m_pfadd(v7, (__m64)qword_10073BD0);
        v27 = _m_pfrsqrt(v26);
        v28 = _m_punpckldq(v26, v26);
        v29 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v27, v27), v28), v27), (__m64)qword_10073C48);
        v30 = _m_punpckldq(
                _m_pfmul(_m_pfadd(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(*(_DWORD *)(a2 + 16))), v29),
                _m_pfmul(v28, v29));
        *(_QWORD *)(a1 + 8) = _m_pfmul(
                                _m_pfadd(
                                  _m_punpckldq(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 24)), v8),
                                  _m_pxor(_m_punpckldq(_m_punpckhdq(v8, v8), *(__m64 *)(a2 + 8)), (__m64)qword_10073C00)),
                                v29);
        *(_QWORD *)a1 = v30;
        _m_femms();
      }
      else
      {
        v31 = _m_pfadd(v11, (__m64)qword_10073BD0);
        v32 = _m_pfrsqrt(v31);
        v33 = _m_punpckldq(v31, v31);
        v34 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v32, v32), v33), v32), (__m64)qword_10073C48);
        v35 = _m_punpckldq(
                _m_pfmul(v33, v34),
                _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(*(_DWORD *)(a2 + 16))), v34));
        *(_QWORD *)a1 = _m_pfmul(
                          _m_pfadd(
                            _m_punpckldq(v8, *(__m64 *)(a2 + 24)),
                            _m_punpckldq(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 8)), _m_punpckhdq(v13, v13))),
                          v34);
        *(_QWORD *)(a1 + 8) = v35;
        _m_femms();
      }
    }
  }
  else
  {
    v14 = _m_pfadd(v10, (__m64)qword_10073BD0);
    v15 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8));
    v16 = _m_pfrsqrt(v14);
    v17 = _m_punpckldq(v14, v14);
    v18 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v16, v16), v17), v16), (__m64)qword_10073C48);
    result = a1;
    v20 = _m_punpckldq(
            _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(*(_DWORD *)(a2 + 16))), v18),
            _m_pfmul(v17, v18));
    *(_QWORD *)a1 = _m_pfmul(
                      _m_pfsub(
                        _m_punpckldq(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 24)), v8),
                        _m_punpckhdq(v8, _m_punpckldq(v15, v15))),
                      v18);
    *(_QWORD *)(a1 + 8) = v20;
    _m_femms();
  }
  return result;
}
// 10073BD0: using guessed type __int64 qword_10073BD0;
// 10073C00: using guessed type __int64 qword_10073C00;
// 10073C48: using guessed type __int64 qword_10073C48;

//----- (100440AF) --------------------------------------------------------
int __stdcall sub_100440AF(int a1, int a2, unsigned int a3)
{
  __m64 v3; // mm0@1
  int result; // eax@1
  __m64 v5; // mm3@1
  __m64 v6; // mm2@1
  __m64 v7; // [sp+0h] [bp-18h]@1
  unsigned int v8; // [sp+8h] [bp-10h]@1

  _m_femms();
  sub_10049282((int)&v7, a2);
  v3 = _m_pfmul(_mm_cvtsi32_si64(a3), (__m64)qword_10073C70);
  sub_10057EE0(v3);
  result = a1;
  v5 = _m_punpckhdq(v3, v3);
  v6 = _m_punpckldq(_m_pfmul(_mm_cvtsi32_si64(v8), v5), v3);
  *(_QWORD *)a1 = _m_pfmul(v7, v5);
  *(_QWORD *)(a1 + 8) = v6;
  _m_femms();
  return result;
}
// 10073C70: using guessed type __int64 qword_10073C70;

//----- (1004411B) --------------------------------------------------------
int __stdcall sub_1004411B(int a1, int a2, int a3, unsigned int a4)
{
  __m64 v4; // mm1@1
  __m64 v5; // mm4@1
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm7@1
  __m64 v9; // mm1@1
  __m64 v10; // mm3@1
  __m64 v11; // mm4@2
  unsigned int v12; // ST00_4@2
  __m64 v13; // mm0@2
  __m64 v14; // mm0@2
  __m64 v15; // mm1@2
  int result; // eax@3
  __m64 v17; // mm4@3
  __m64 v18; // mm0@3
  __m64 v19; // mm4@3
  __m64 v20; // mm5@3
  unsigned int v21; // [sp+28h] [bp+10h]@2

  _m_femms();
  v4 = _m_pfadd(_m_pfmul(*(__m64 *)a2, *(__m64 *)a3), _m_pfmul(*(__m64 *)(a2 + 8), *(__m64 *)(a3 + 8)));
  v5 = _mm_cvtsi32_si64(a4);
  v6 = _m_pfsub(_mm_cvtsi32_si64(qword_10073C68), v5);
  v7 = _m_pfacc(v4, v4);
  v8 = _m_pand(_m_pfcmpge(0i64, v7), (__m64)qword_10073CB0);
  v9 = _m_pxor(v7, v8);
  v10 = _m_pfsubr(_m_pfmul(v9, v9), (__m64)qword_10073C68);
  if ( _mm_cvtsi64_si32(_m_pfcmpge((__m64)qword_10073CC8, v9)) )
  {
    v11 = _m_pfrsqrt(v10);
    v12 = _mm_cvtsi64_si32(v6);
    sub_10057800();
    v13 = _m_pfmul(v9, _mm_cvtsi32_si64(a4));
    sub_10058000(v13);
    v21 = _mm_cvtsi64_si32(v13);
    v14 = _m_pfmul(_mm_cvtsi32_si64(_mm_cvtsi64_si32(v9)), _mm_cvtsi32_si64(v12));
    sub_10058000(v14);
    v15 = _mm_cvtsi32_si64(_mm_cvtsi64_si32(_m_pfrcpit2(_m_pfrsqit1(v10, _m_pfmul(v11, v11)), v11)));
    v8 = _mm_cvtsi32_si64(_mm_cvtsi64_si32(v8));
    v6 = _m_pfmul(v14, v15);
    v5 = _m_pfmul(_mm_cvtsi32_si64(v21), v15);
  }
  result = a1;
  v17 = _m_pxor(v5, v8);
  v18 = _m_punpckldq(v6, v6);
  v19 = _m_punpckldq(v17, v17);
  v20 = _m_pfadd(_m_pfmul(v18, *(__m64 *)(a2 + 8)), _m_pfmul(v19, *(__m64 *)(a3 + 8)));
  *(_QWORD *)a1 = _m_pfadd(_m_pfmul(v18, *(__m64 *)a2), _m_pfmul(v19, *(__m64 *)a3));
  *(_QWORD *)(a1 + 8) = v20;
  _m_femms();
  return result;
}
// 10073C68: using guessed type __int64 qword_10073C68;
// 10073CB0: using guessed type __int64 qword_10073CB0;
// 10073CC8: using guessed type __int64 qword_10073CC8;

//----- (10044252) --------------------------------------------------------
int __stdcall sub_10044252(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm2@1
  int result; // eax@1
  char v9; // [sp+Ch] [bp-24h]@1
  char v10; // [sp+1Ch] [bp-14h]@1
  unsigned int v11; // [sp+44h] [bp+14h]@1

  _m_femms();
  v11 = _mm_cvtsi64_si32(_m_pfadd(_mm_cvtsi32_si64(a5), _mm_cvtsi32_si64(a6)));
  sub_1004411B((int)&v9, a2, a3, v11);
  sub_1004411B((int)&v10, a2, a4, v11);
  v6 = _mm_cvtsi32_si64(v11);
  v7 = _m_pfrcp(v6);
  sub_1004411B(
    a1,
    (int)&v9,
    (int)&v10,
    _mm_cvtsi64_si32(_m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v6, v7), v7), _mm_cvtsi32_si64(a6))));
  result = a1;
  _m_femms();
  return result;
}

//----- (100442DF) --------------------------------------------------------
int __stdcall sub_100442DF(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  int result; // eax@1
  char v8; // [sp+10h] [bp-20h]@1
  char v9; // [sp+20h] [bp-10h]@1

  sub_1004411B((int)&v8, a2, a5, a6);
  sub_1004411B((int)&v9, a3, a4, a6);
  v6 = _mm_cvtsi32_si64(a6);
  result = sub_1004411B(
             a1,
             (int)&v8,
             (int)&v9,
             _mm_cvtsi64_si32(_m_pfmul(_m_pfsub(v6, _m_pfmul(v6, v6)), (__m64)qword_10073BE8)));
  _m_femms();
  return result;
}
// 10073BE8: using guessed type __int64 qword_10073BE8;

//----- (10044371) --------------------------------------------------------
int __stdcall sub_10044371(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm0@1
  int result; // eax@1
  __m64 v8; // mm4@1
  __m64 v9; // mm5@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1

  v2 = *(__m64 *)a2;
  v3 = v2;
  v4 = *(__m64 *)(a2 + 8);
  v5 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v4, v4));
  v6 = _m_pfacc(v5, v5);
  result = a1;
  v8 = _m_pfrcp(v6);
  v9 = _m_pfcmpgt(v6, (__m64)qword_10073C50);
  v10 = _m_pfrcpit2(_m_pfrcpit1(v6, v8), v8);
  v11 = _m_pfmul(_m_pand(_m_pxor(v4, (__m64)qword_10073BF8), v9), v10);
  *(_QWORD *)a1 = _m_pfmul(_m_pand(_m_pxor(v3, (__m64)qword_10073CB0), v9), v10);
  *(_QWORD *)(a1 + 8) = v11;
  _m_femms();
  return result;
}
// 10073BF8: using guessed type __int64 qword_10073BF8;
// 10073C50: using guessed type __int64 qword_10073C50;
// 10073CB0: using guessed type __int64 qword_10073CB0;

//----- (100443D5) --------------------------------------------------------
int __stdcall sub_100443D5(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm3@3
  __m64 v7; // mm4@3
  __m64 v8; // mm3@3
  __m64 v9; // mm2@4
  unsigned int v10; // [sp+0h] [bp-Ch]@2

  _m_femms();
  result = a1;
  v3 = *(__m64 *)a2;
  v4 = *(__m64 *)(a2 + 8);
  v5 = _m_punpckhdq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8));
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v5, (__m64)qword_10073C68)) )
  {
    sub_10057900();
    v10 = _mm_cvtsi64_si32(v5);
    sub_10058000(v5);
    result = a1;
    v3 = *(__m64 *)a2;
    v4 = *(__m64 *)(a2 + 8);
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v5, (__m64)qword_10073C20), (__m64)qword_10073C28)) )
    {
      v6 = _mm_cvtsi32_si64(v10);
      v7 = _m_pfrcp(v5);
      v8 = _m_pfmul(_m_punpckldq(v6, v6), _m_pfrcpit2(_m_pfrcpit1(v5, v7), v7));
      v3 = _m_pfmul(v3, v8);
      v4 = _m_pfmul(v4, v8);
    }
  }
  v9 = _m_pand(v4, (__m64)qword_10073C30);
  *(_QWORD *)result = v3;
  *(_QWORD *)(result + 8) = v9;
  _m_femms();
  return result;
}
// 10073C20: using guessed type __int64 qword_10073C20;
// 10073C28: using guessed type __int64 qword_10073C28;
// 10073C30: using guessed type __int64 qword_10073C30;
// 10073C68: using guessed type __int64 qword_10073C68;

//----- (1004447C) --------------------------------------------------------
int __userpurge sub_1004447C<eax>(unsigned int a1<esi>, int a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm0@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm1@1
  __m64 v8; // ST00_8@1
  __m64 v9; // mm0@1
  __m64 v10; // mm1@1
  __m64 v11; // mm0@1
  int result; // eax@1
  char v13; // cl@1
  __m64 v14; // mm2@1
  __m64 v15; // mm0@1
  __m64 v16; // mm1@1
  __m64 v17; // mm3@1
  __m64 v18; // mm1@2

  v3 = _mm_cvtsi32_si64(*(_DWORD *)(a3 + 8));
  v4 = _m_pfadd(_m_pfmul(*(__m64 *)a3, *(__m64 *)a3), _m_pfmul(v3, v3));
  v5 = _m_pfacc(v4, v4);
  v6 = _m_pfrsqrt(v5);
  v7 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v6, v6), v5), v6);
  v8 = (__m64)__PAIR__(a1, _mm_cvtsi64_si32(v7));
  v9 = _m_pfmul(v5, v7);
  sub_10057EE0(v9);
  v10 = v9;
  v11 = _m_pfcmpge(_m_pand(v9, (__m64)qword_10073C18), (__m64)qword_10073C28);
  result = a2;
  v13 = _mm_cvtsi64_si32(_m_punpckhdq(v11, v11));
  v14 = *(__m64 *)a3;
  v15 = v10;
  v16 = _m_pfmul(_m_punpckhdq(v10, v10), v8);
  v17 = _mm_cvtsi32_si64(*(_DWORD *)(a3 + 8));
  if ( v13 & 1 )
  {
    v18 = _m_punpckldq(v16, v16);
    v17 = _m_pfmul(v17, v18);
    v14 = _m_pfmul(v14, v18);
  }
  *(_QWORD *)a2 = v14;
  *(_QWORD *)(a2 + 8) = _m_punpckldq(v17, v15);
  _m_femms();
  return result;
}
// 1004447C: could not find valid save-restore pair for esi
// 10073C18: using guessed type __int64 qword_10073C18;
// 10073C28: using guessed type __int64 qword_10073C28;

//----- (100445C3) --------------------------------------------------------
int __userpurge sub_100445C3<eax>(unsigned int a1<esi>, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm2@1
  __m64 v11; // mm3@1
  __m64 v12; // mm0@1
  __m64 v13; // mm2@1
  __m64 v14; // mm4@1
  __m64 v15; // mm5@1
  __m64 v16; // mm1@1
  __m64 v17; // mm3@1
  __m64 v18; // mm2@1
  int v19; // eax@1
  __m64 v20; // mm4@5
  __m64 v21; // mm6@5
  __m64 v22; // mm7@5
  __m64 v23; // mm3@5
  __m64 v24; // mm5@5
  __m64 v25; // mm6@5
  __m64 v26; // mm3@5
  __m64 v27; // mm0@7
  __m64 v28; // mm0@7
  __m64 v29; // mm4@7
  __m64 v30; // mm5@7
  __m64 v31; // mm0@7
  __m64 v32; // mm1@7
  __m64 v33; // ST54_8@7
  __m64 v34; // mm4@7
  __m64 v35; // mm5@7
  __m64 v36; // mm4@7
  __m64 v37; // mm5@7
  __m64 v38; // mm1@7
  __m64 v39; // mm2@7
  __m64 v40; // mm0@7
  __m64 v41; // mm3@9
  __m64 v42; // mm4@9
  __m64 v43; // mm3@9
  __m64 v44; // mm1@10
  __m64 v45; // mm2@10
  __m64 v46; // mm0@10
  __m64 v47; // mm3@12
  __m64 v48; // mm4@12
  __m64 v49; // mm3@12
  __m64 v50; // mm0@13
  __m64 v51; // mm1@13
  __m64 v52; // ST94_8@13
  __m64 v53; // mm1@13
  __m64 v54; // mm0@13
  __m64 v55; // mm0@13
  __m64 v56; // mm1@13
  __m64 v57; // mm1@13
  __m64 v58; // ST00_8@13
  __m64 v59; // mm0@13
  __m64 v60; // mm1@13
  __m64 v61; // mm0@13
  char v62; // cl@13
  __m64 v63; // mm2@13
  __m64 v64; // mm0@13
  __m64 v65; // mm1@13
  __m64 v66; // mm3@13
  __m64 v67; // mm1@14
  __m64 v68; // ST84_8@15
  __m64 v69; // mm4@15
  __m64 v70; // mm5@15
  __m64 v71; // mm6@15
  __m64 v72; // mm7@15
  __m64 v73; // mm4@15
  __m64 v74; // mm6@15
  __m64 v75; // mm5@15
  __m64 v76; // mm0@15
  __m64 v77; // mm0@15
  __m64 v78; // mm4@15
  __m64 v79; // mm5@15
  __m64 v80; // mm0@15
  __m64 v81; // mm1@15
  __m64 v82; // ST54_8@15
  __m64 v83; // mm4@15
  __m64 v84; // mm5@15
  __m64 v85; // mm4@15
  __m64 v86; // mm5@15
  __m64 v87; // mm1@15
  __m64 v88; // mm2@15
  __m64 v89; // mm0@15
  __m64 v90; // mm3@17
  __m64 v91; // mm4@17
  __m64 v92; // mm3@17
  __m64 v93; // mm1@18
  __m64 v94; // mm2@18
  __m64 v95; // mm0@18
  __m64 v96; // mm3@20
  __m64 v97; // mm4@20
  __m64 v98; // mm3@20
  __m64 v99; // mm0@21
  __m64 v100; // mm1@21
  __m64 v101; // ST94_8@21
  __m64 v102; // mm1@21
  __m64 v103; // mm0@21
  __m64 v104; // mm0@21
  __m64 v105; // mm1@21
  __m64 v106; // mm1@21
  __m64 v107; // ST00_8@21
  __m64 v108; // mm0@21
  __m64 v109; // mm1@21
  __m64 v110; // mm0@21
  char v111; // cl@21
  __m64 v112; // mm2@21
  __m64 v113; // mm0@21
  __m64 v114; // mm1@21
  __m64 v115; // mm3@21
  __m64 v116; // mm1@22
  __m64 v117; // ST84_8@23
  __m64 v118; // mm4@23
  __m64 v119; // mm5@23
  __m64 v120; // mm6@23
  __m64 v121; // mm7@23
  __m64 v122; // mm4@23
  __m64 v123; // mm6@23
  __m64 v124; // mm5@23
  int result; // eax@23
  unsigned int v126; // [sp+0h] [bp-ACh]@8
  unsigned int v127; // [sp+0h] [bp-ACh]@11
  unsigned int v128; // [sp+0h] [bp-ACh]@16
  unsigned int v129; // [sp+0h] [bp-ACh]@19
  __m64 v130; // [sp+Ch] [bp-A0h]@1
  __m64 v131; // [sp+14h] [bp-98h]@1
  __m64 v132; // [sp+1Ch] [bp-90h]@1
  __m64 v133; // [sp+24h] [bp-88h]@1
  __m64 v134; // [sp+2Ch] [bp-80h]@1
  __m64 v135; // [sp+34h] [bp-78h]@1
  __m64 v136; // [sp+3Ch] [bp-70h]@5
  __m64 v137; // [sp+44h] [bp-68h]@5
  __m64 v138; // [sp+5Ch] [bp-50h]@10
  __m64 v139; // [sp+5Ch] [bp-50h]@18
  __m64 v140; // [sp+64h] [bp-48h]@10
  __m64 v141; // [sp+64h] [bp-48h]@18
  __m64 v142; // [sp+8Ch] [bp-20h]@7
  __m64 v143; // [sp+8Ch] [bp-20h]@13
  __m64 v144; // [sp+8Ch] [bp-20h]@15
  __m64 v145; // [sp+8Ch] [bp-20h]@21
  __m64 v146; // [sp+94h] [bp-18h]@7
  __m64 v147; // [sp+94h] [bp-18h]@15
  __m64 v148; // [sp+9Ch] [bp-10h]@7
  __m64 v149; // [sp+9Ch] [bp-10h]@15
  __m64 v150; // [sp+A4h] [bp-8h]@7
  __m64 v151; // [sp+A4h] [bp-8h]@15

  v130 = *(__m64 *)a5;
  v131 = *(__m64 *)(a5 + 8);
  v132 = *(__m64 *)a6;
  v8 = _m_pfadd(*(__m64 *)a5, *(__m64 *)a6);
  v133 = *(__m64 *)(a6 + 8);
  v9 = _m_pfadd(v131, v133);
  v10 = _m_pfsub(*(__m64 *)a5, *(__m64 *)a6);
  v11 = _m_pfsub(v131, v133);
  v12 = _m_pfadd(_m_pfmul(v8, v8), _m_pfmul(v9, v9));
  v13 = _m_pfadd(_m_pfmul(v10, v10), _m_pfmul(v11, v11));
  v134 = *(__m64 *)a7;
  v135 = *(__m64 *)(a7 + 8);
  v14 = _m_pfadd(*(__m64 *)a6, *(__m64 *)a7);
  v15 = _m_pfadd(v133, v135);
  v16 = _m_pfsub(*(__m64 *)a6, *(__m64 *)a7);
  v17 = _m_pfsub(*(__m64 *)(a6 + 8), v135);
  v18 = _m_pfcmpgt(
          _m_pfacc(v13, _m_pfadd(_m_pfmul(v16, v16), _m_pfmul(v17, v17))),
          _m_pfacc(v12, _m_pfadd(_m_pfmul(v14, v14), _m_pfmul(v15, v15))));
  v19 = _mm_cvtsi64_si32(_m_packsswb(v18, v18));
  if ( v19 & 1 )
  {
    v130 = _m_pxor((__m64)qword_10073C08, *(__m64 *)a5);
    v131 = _m_pxor((__m64)qword_10073C08, *(__m64 *)(a5 + 8));
  }
  if ( v19 & 0x10000 )
  {
    v134 = _m_pxor((__m64)qword_10073C08, *(__m64 *)a7);
    v135 = _m_pxor((__m64)qword_10073C08, *(__m64 *)(a7 + 8));
  }
  v20 = *(__m64 *)(a8 + 8);
  v21 = _m_pfadd(v134, *(__m64 *)a8);
  v136 = *(__m64 *)a8;
  v22 = _m_pfadd(v135, v20);
  v137 = *(__m64 *)(a8 + 8);
  v23 = _m_pfsub(v134, *(__m64 *)a8);
  v24 = _m_pfsub(v135, v20);
  v25 = _m_pfadd(_m_pfmul(v21, v21), _m_pfmul(v22, v22));
  v26 = _m_pfadd(_m_pfmul(v23, v23), _m_pfmul(v24, v24));
  if ( _mm_cvtsi64_si32(_m_pfcmpgt(_m_pfacc(v26, v26), _m_pfacc(v25, v25))) & 1 )
  {
    v136 = _m_pxor((__m64)qword_10073C08, *(__m64 *)a8);
    v137 = _m_pxor((__m64)qword_10073C08, *(__m64 *)(a8 + 8));
  }
  v27 = _m_pfadd(_m_pfmul(v132, v132), _m_pfmul(v133, v133));
  v28 = _m_pfacc(v27, v27);
  v29 = _m_pfrcp(v28);
  v30 = _m_pfcmpgt(v28, (__m64)qword_10073C50);
  v31 = _m_pfrcpit2(_m_pfrcpit1(v28, v29), v29);
  v32 = _m_pfmul(_m_pand(_m_pxor(v132, (__m64)qword_10073CB0), v30), v31);
  v33 = _m_pfmul(_m_pand(_m_pxor(v133, (__m64)qword_10073BF8), v30), v31);
  v34 = _m_punpckldq(_m_punpckhdq(v130, v130), v130);
  v35 = _m_punpckldq(_m_punpckhdq(v131, v131), v131);
  v142 = _m_pfacc(
           _m_pfsub(_m_pfmul(v34, v33), _m_pfmul(_m_pxor(v35, (__m64)qword_10073BF8), v32)),
           _m_pfadd(_m_pxor(_m_pfmul(v130, v33), (__m64)qword_10073BF8), _m_pfmul(v131, v32)));
  v146 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v34, (__m64)qword_10073BF8), v32), _m_pfmul(v35, v33)),
           _m_pfsub(_m_pfmul(_m_pxor(v131, (__m64)qword_10073BF8), v33), _m_pfmul(v130, v32)));
  v36 = _m_punpckldq(_m_punpckhdq(v134, v134), v134);
  v37 = _m_punpckldq(_m_punpckhdq(v135, v135), v135);
  v148 = _m_pfacc(
           _m_pfsub(_m_pfmul(v36, v33), _m_pfmul(_m_pxor(v37, (__m64)qword_10073BF8), v32)),
           _m_pfadd(_m_pxor(_m_pfmul(v134, v33), (__m64)qword_10073BF8), _m_pfmul(v135, v32)));
  v150 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v36, (__m64)qword_10073BF8), v32), _m_pfmul(v37, v33)),
           _m_pfsub(_m_pfmul(_m_pxor(v135, (__m64)qword_10073BF8), v33), _m_pfmul(v134, v32)));
  v38 = v142;
  v39 = v146;
  v40 = _m_punpckhdq(v146, v146);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v40, (__m64)qword_10073C68)) )
  {
    sub_10057900();
    v126 = _mm_cvtsi64_si32(v40);
    sub_10058000(v40);
    v38 = v142;
    v39 = v146;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v40, (__m64)qword_10073C20), (__m64)qword_10073C28)) )
    {
      v41 = _mm_cvtsi32_si64(v126);
      v42 = _m_pfrcp(v40);
      v43 = _m_pfmul(_m_punpckldq(v41, v41), _m_pfrcpit2(_m_pfrcpit1(v40, v42), v42));
      v38 = _m_pfmul(v142, v43);
      v39 = _m_pfmul(v146, v43);
    }
  }
  v138 = v38;
  v140 = _m_pand(v39, (__m64)qword_10073C30);
  v44 = v148;
  v45 = v150;
  v46 = _m_punpckhdq(v150, v150);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v46, (__m64)qword_10073C68)) )
  {
    sub_10057900();
    v127 = _mm_cvtsi64_si32(v46);
    sub_10058000(v46);
    v44 = v148;
    v45 = v150;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v46, (__m64)qword_10073C20), (__m64)qword_10073C28)) )
    {
      v47 = _mm_cvtsi32_si64(v127);
      v48 = _m_pfrcp(v46);
      v49 = _m_pfmul(_m_punpckldq(v47, v47), _m_pfrcpit2(_m_pfrcpit1(v46, v48), v48));
      v44 = _m_pfmul(v148, v49);
      v45 = _m_pfmul(v150, v49);
    }
  }
  v50 = _m_pfmul(_m_pfadd(v138, v44), (__m64)qword_10074620);
  v51 = _m_pfmul(_m_pfadd(v140, _m_pand(v45, (__m64)qword_10073C30)), (__m64)qword_10074620);
  v143 = v50;
  v52 = v51;
  v53 = _mm_cvtsi32_si64(v51.m64_u64);
  v54 = _m_pfadd(_m_pfmul(v50, v50), _m_pfmul(v53, v53));
  v55 = _m_pfacc(v54, v54);
  v56 = _m_pfrsqrt(v55);
  v57 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v56, v56), v55), v56);
  v58 = (__m64)__PAIR__(a1, _mm_cvtsi64_si32(v57));
  v59 = _m_pfmul(v55, v57);
  sub_10057EE0(v59);
  v60 = v59;
  v61 = _m_pfcmpge(_m_pand(v59, (__m64)qword_10073C18), (__m64)qword_10073C28);
  v62 = _mm_cvtsi64_si32(_m_punpckhdq(v61, v61));
  v63 = v143;
  v64 = v60;
  v65 = _m_pfmul(_m_punpckhdq(v60, v60), v58);
  v66 = _mm_cvtsi32_si64(v52.m64_u64);
  if ( v62 & 1 )
  {
    v67 = _m_punpckldq(v65, v65);
    v66 = _m_pfmul(v66, v67);
    v63 = _m_pfmul(v143, v67);
  }
  v68 = _m_punpckldq(v66, v64);
  v69 = _m_punpckldq(_m_punpckhdq(v63, v63), v63);
  v70 = _m_punpckldq(_m_punpckhdq(v68, v68), v68);
  v71 = v69;
  v72 = _m_pfmul(v70, v133);
  v73 = _m_pfacc(
          _m_pfsub(_m_pfmul(v69, v133), _m_pfmul(_m_pxor(v70, (__m64)qword_10073BF8), v132)),
          _m_pfadd(_m_pxor(_m_pfmul(v63, v133), (__m64)qword_10073BF8), _m_pfmul(v68, v132)));
  v74 = _m_pfmul(_m_pxor(v71, (__m64)qword_10073BF8), v132);
  v75 = _m_pxor(v68, (__m64)qword_10073BF8);
  *(_QWORD *)a2 = v73;
  *(_QWORD *)(a2 + 8) = _m_pfacc(_m_pfadd(v74, v72), _m_pfsub(_m_pfmul(v75, v133), _m_pfmul(v63, v132)));
  v76 = _m_pfadd(_m_pfmul(v134, v134), _m_pfmul(v135, v135));
  v77 = _m_pfacc(v76, v76);
  v78 = _m_pfrcp(v77);
  v79 = _m_pfcmpgt(v77, (__m64)qword_10073C50);
  v80 = _m_pfrcpit2(_m_pfrcpit1(v77, v78), v78);
  v81 = _m_pfmul(_m_pand(_m_pxor(v134, (__m64)qword_10073CB0), v79), v80);
  v82 = _m_pfmul(_m_pand(_m_pxor(v135, (__m64)qword_10073BF8), v79), v80);
  v83 = _m_punpckldq(_m_punpckhdq(v132, v132), v132);
  v84 = _m_punpckldq(_m_punpckhdq(v133, v133), v133);
  v144 = _m_pfacc(
           _m_pfsub(_m_pfmul(v83, v82), _m_pfmul(_m_pxor(v84, (__m64)qword_10073BF8), v81)),
           _m_pfadd(_m_pxor(_m_pfmul(v132, v82), (__m64)qword_10073BF8), _m_pfmul(v133, v81)));
  v147 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v83, (__m64)qword_10073BF8), v81), _m_pfmul(v84, v82)),
           _m_pfsub(_m_pfmul(_m_pxor(v133, (__m64)qword_10073BF8), v82), _m_pfmul(v132, v81)));
  v85 = _m_punpckldq(_m_punpckhdq(v136, v136), v136);
  v86 = _m_punpckldq(_m_punpckhdq(v137, v137), v137);
  v149 = _m_pfacc(
           _m_pfsub(_m_pfmul(v85, v82), _m_pfmul(_m_pxor(v86, (__m64)qword_10073BF8), v81)),
           _m_pfadd(_m_pxor(_m_pfmul(v136, v82), (__m64)qword_10073BF8), _m_pfmul(v137, v81)));
  v151 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v85, (__m64)qword_10073BF8), v81), _m_pfmul(v86, v82)),
           _m_pfsub(_m_pfmul(_m_pxor(v137, (__m64)qword_10073BF8), v82), _m_pfmul(v136, v81)));
  v87 = v144;
  v88 = v147;
  v89 = _m_punpckhdq(v147, v147);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v89, (__m64)qword_10073C68)) )
  {
    sub_10057900();
    v128 = _mm_cvtsi64_si32(v89);
    sub_10058000(v89);
    v87 = v144;
    v88 = v147;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v89, (__m64)qword_10073C20), (__m64)qword_10073C28)) )
    {
      v90 = _mm_cvtsi32_si64(v128);
      v91 = _m_pfrcp(v89);
      v92 = _m_pfmul(_m_punpckldq(v90, v90), _m_pfrcpit2(_m_pfrcpit1(v89, v91), v91));
      v87 = _m_pfmul(v144, v92);
      v88 = _m_pfmul(v147, v92);
    }
  }
  v139 = v87;
  v141 = _m_pand(v88, (__m64)qword_10073C30);
  v93 = v149;
  v94 = v151;
  v95 = _m_punpckhdq(v151, v151);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v95, (__m64)qword_10073C68)) )
  {
    sub_10057900();
    v129 = _mm_cvtsi64_si32(v95);
    sub_10058000(v95);
    v93 = v149;
    v94 = v151;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v95, (__m64)qword_10073C20), (__m64)qword_10073C28)) )
    {
      v96 = _mm_cvtsi32_si64(v129);
      v97 = _m_pfrcp(v95);
      v98 = _m_pfmul(_m_punpckldq(v96, v96), _m_pfrcpit2(_m_pfrcpit1(v95, v97), v97));
      v93 = _m_pfmul(v149, v98);
      v94 = _m_pfmul(v151, v98);
    }
  }
  v99 = _m_pfmul(_m_pfadd(v139, v93), (__m64)qword_10074620);
  v100 = _m_pfmul(_m_pfadd(v141, _m_pand(v94, (__m64)qword_10073C30)), (__m64)qword_10074620);
  v145 = v99;
  v101 = v100;
  v102 = _mm_cvtsi32_si64(v100.m64_u64);
  v103 = _m_pfadd(_m_pfmul(v99, v99), _m_pfmul(v102, v102));
  v104 = _m_pfacc(v103, v103);
  v105 = _m_pfrsqrt(v104);
  v106 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v105, v105), v104), v105);
  v107 = (__m64)__PAIR__(a1, _mm_cvtsi64_si32(v106));
  v108 = _m_pfmul(v104, v106);
  sub_10057EE0(v108);
  v109 = v108;
  v110 = _m_pfcmpge(_m_pand(v108, (__m64)qword_10073C18), (__m64)qword_10073C28);
  v111 = _mm_cvtsi64_si32(_m_punpckhdq(v110, v110));
  v112 = v145;
  v113 = v109;
  v114 = _m_pfmul(_m_punpckhdq(v109, v109), v107);
  v115 = _mm_cvtsi32_si64(v101.m64_u64);
  if ( v111 & 1 )
  {
    v116 = _m_punpckldq(v114, v114);
    v115 = _m_pfmul(v115, v116);
    v112 = _m_pfmul(v145, v116);
  }
  v117 = _m_punpckldq(v115, v113);
  v118 = _m_punpckldq(_m_punpckhdq(v112, v112), v112);
  v119 = _m_punpckldq(_m_punpckhdq(v117, v117), v117);
  v120 = v118;
  v121 = _m_pfmul(v119, v135);
  v122 = _m_pfacc(
           _m_pfsub(_m_pfmul(v118, v135), _m_pfmul(_m_pxor(v119, (__m64)qword_10073BF8), v134)),
           _m_pfadd(_m_pxor(_m_pfmul(v112, v135), (__m64)qword_10073BF8), _m_pfmul(v117, v134)));
  v123 = _m_pfmul(_m_pxor(v120, (__m64)qword_10073BF8), v134);
  v124 = _m_pxor(v117, (__m64)qword_10073BF8);
  *(_QWORD *)a3 = v122;
  *(_QWORD *)(a3 + 8) = _m_pfacc(_m_pfadd(v123, v121), _m_pfsub(_m_pfmul(v124, v135), _m_pfmul(v112, v134)));
  result = a4;
  *(_QWORD *)a4 = v134;
  *(_QWORD *)(a4 + 8) = v135;
  _m_femms();
  return result;
}
// 100445C3: could not find valid save-restore pair for ebx
// 100445C3: could not find valid save-restore pair for esi
// 10073BF8: using guessed type __int64 qword_10073BF8;
// 10073C08: using guessed type __int64 qword_10073C08;
// 10073C18: using guessed type __int64 qword_10073C18;
// 10073C20: using guessed type __int64 qword_10073C20;
// 10073C28: using guessed type __int64 qword_10073C28;
// 10073C30: using guessed type __int64 qword_10073C30;
// 10073C50: using guessed type __int64 qword_10073C50;
// 10073C68: using guessed type __int64 qword_10073C68;
// 10073CB0: using guessed type __int64 qword_10073CB0;
// 10074620: using guessed type __int64 qword_10074620;

//----- (1004501C) --------------------------------------------------------
int __stdcall sub_1004501C(int a1, int a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm3@1
  __m64 v5; // mm4@1
  __m64 v6; // ST00_8@1
  __m64 v7; // ST10_8@1
  __m64 v8; // mm6@1
  __m64 v9; // mm7@1
  __m64 v10; // mm0@1
  __m64 v11; // ST28_8@1
  __m64 v12; // ST38_8@1
  __m64 v13; // mm4@1
  __m64 v14; // ST20_8@1
  __m64 v15; // ST30_8@1
  __m64 v16; // ST18_8@1
  __m64 v17; // ST08_8@1
  int result; // eax@1
  __m64 v19; // mm1@1
  __m64 v20; // mm4@1
  __m64 v21; // mm1@1
  __m64 v22; // mm2@1
  __m64 v23; // mm4@1
  __m64 v24; // mm1@1
  __m64 v25; // mm2@1
  __m64 v26; // mm4@1
  __m64 v27; // mm1@1
  __m64 v28; // mm2@1
  __m64 v29; // mm4@1

  _m_femms();
  v3 = *(__m64 *)(a3 + 16);
  v4 = *(__m64 *)(a3 + 40);
  v5 = *(__m64 *)(a3 + 56);
  v6 = _m_punpckldq(*(__m64 *)a3, v3);
  v7 = _m_punpckhdq(*(__m64 *)a3, v3);
  v8 = *(__m64 *)(a3 + 8);
  v9 = *(__m64 *)(a3 + 24);
  v10 = *(__m64 *)(a3 + 32);
  v11 = _m_punpckldq(v4, v5);
  v12 = _m_punpckhdq(v4, v5);
  v13 = *(__m64 *)(a3 + 48);
  v14 = _m_punpckldq(v8, v9);
  v15 = _m_punpckhdq(v8, v9);
  v16 = _m_punpckhdq(v10, v13);
  v17 = _m_punpckldq(v10, v13);
  result = a1;
  v19 = *(__m64 *)(a2 + 8);
  v20 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)a2, v14), _m_pfmul(*(__m64 *)a2, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 8), v11), _m_pfmul(v19, v12)));
  *(_QWORD *)a1 = _m_pfadd(
                    _m_pfacc(_m_pfmul(*(__m64 *)a2, v6), _m_pfmul(*(__m64 *)a2, v7)),
                    _m_pfacc(_m_pfmul(v19, v17), _m_pfmul(v19, v16)));
  *(_QWORD *)(a1 + 8) = v20;
  v21 = *(__m64 *)(a2 + 24);
  v22 = *(__m64 *)(a2 + 16);
  v23 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 16), v14), _m_pfmul(v22, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 24), v11), _m_pfmul(v21, v12)));
  *(_QWORD *)(a1 + 16) = _m_pfadd(
                           _m_pfacc(_m_pfmul(v22, v6), _m_pfmul(v22, v7)),
                           _m_pfacc(_m_pfmul(v21, v17), _m_pfmul(v21, v16)));
  *(_QWORD *)(a1 + 24) = v23;
  v24 = *(__m64 *)(a2 + 40);
  v25 = *(__m64 *)(a2 + 32);
  v26 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 32), v14), _m_pfmul(v25, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 40), v11), _m_pfmul(v24, v12)));
  *(_QWORD *)(a1 + 32) = _m_pfadd(
                           _m_pfacc(_m_pfmul(v25, v6), _m_pfmul(v25, v7)),
                           _m_pfacc(_m_pfmul(v24, v17), _m_pfmul(v24, v16)));
  *(_QWORD *)(a1 + 40) = v26;
  v27 = *(__m64 *)(a2 + 56);
  v28 = *(__m64 *)(a2 + 48);
  v29 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 48), v14), _m_pfmul(v28, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 56), v11), _m_pfmul(v27, v12)));
  *(_QWORD *)(a1 + 48) = _m_pfadd(
                           _m_pfacc(_m_pfmul(v28, v6), _m_pfmul(v28, v7)),
                           _m_pfacc(_m_pfmul(v27, v17), _m_pfmul(v27, v16)));
  *(_QWORD *)(a1 + 56) = v29;
  _m_femms();
  return result;
}

//----- (1004524E) --------------------------------------------------------
double __stdcall sub_1004524E(int a1)
{
  __m64 v1; // mm0@1
  __m64 v2; // mm3@1
  __m64 v3; // mm4@1
  __m64 v4; // mm2@1
  __m64 v5; // mm3@1
  __m64 v6; // mm4@1

  v1 = *(__m64 *)(a1 + 36);
  v2 = *(__m64 *)(a1 + 52);
  v3 = _m_pfsub(
         _m_pfmul(_m_punpckhdq(*(__m64 *)(a1 + 56), *(__m64 *)(a1 + 56)), v1),
         _m_pfmul(_m_punpckhdq(*(__m64 *)(a1 + 40), *(__m64 *)(a1 + 40)), v2));
  v4 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)(a1 + 32), *(__m64 *)(a1 + 32)), *(__m64 *)(a1 + 56)),
         _m_pfmul(_m_punpckldq(*(__m64 *)(a1 + 48), *(__m64 *)(a1 + 48)), *(__m64 *)(a1 + 40)));
  v5 = _m_pfsub(_m_pfmul(v2, *(__m64 *)(a1 + 32)), _m_pfmul(v1, *(__m64 *)(a1 + 48)));
  v6 = _m_pfsub(
         _m_pfmul(
           _m_pfsub(
             _m_pfadd(
               _m_pfmul(v3, *(__m64 *)(a1 + 16)),
               _m_pfmul(v5, _m_punpckhdq(*(__m64 *)(a1 + 24), *(__m64 *)(a1 + 24)))),
             _m_pfmul(_m_punpckldq(_m_punpckhdq(v4, v4), v3), *(__m64 *)(a1 + 20))),
           _m_punpckldq(*(__m64 *)(a1 + 8), *(__m64 *)a1)),
         _m_pfmul(
           _m_pfsub(
             _m_pfadd(
               _m_pfmul(_m_punpckhdq(v5, v3), _m_punpckldq(*(__m64 *)(a1 + 16), *(__m64 *)(a1 + 16))),
               _m_pfmul(_m_punpckldq(v5, v4), *(__m64 *)(a1 + 24))),
             _m_pfmul(v4, *(__m64 *)(a1 + 20))),
           _m_punpckhdq(*(__m64 *)(a1 + 8), *(__m64 *)a1)));
  _m_femms();
  return COERCE_FLOAT(_mm_cvtsi64_si32(_m_pfacc(v6, v6)));
}

//----- (1004531D) --------------------------------------------------------
int __stdcall sub_1004531D(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  int result; // eax@1
  __int64 v5; // mm1@1
  __int64 v6; // mm2@1
  __m64 v7; // mm4@1

  result = a1;
  _m_femms();
  v5 = qword_10073CA0;
  v6 = qword_10073CA8;
  v7 = _m_punpckldq(_mm_cvtsi32_si64(a4), (__m64)qword_10073CA8);
  *(_QWORD *)a1 = qword_10073CA8;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 16) = v5;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 40) = v6;
  *(_QWORD *)(a1 + 48) = _m_punpckldq(_mm_cvtsi32_si64(a2), _mm_cvtsi32_si64(a3));
  *(_QWORD *)(a1 + 56) = v7;
  _m_femms();
  return result;
}
// 10073CA0: using guessed type __int64 qword_10073CA0;
// 10073CA8: using guessed type __int64 qword_10073CA8;

//----- (1004536D) --------------------------------------------------------
int __stdcall sub_1004536D(int a1, int a2, int a3)
{
  int result; // eax@1
  __m64 v4; // mm6@1
  __m64 v5; // mm3@1
  __m64 v6; // mm7@1
  __m64 v7; // mm3@1
  __m64 v8; // mm1@1
  __m64 v9; // mm0@1
  __m64 v10; // mm2@1
  __m64 v11; // mm1@1
  __m64 v12; // mm3@1
  __m64 v13; // mm1@1
  __m64 v14; // mm3@1
  __m64 v15; // [sp+0h] [bp-14h]@1
  __m64 v16; // [sp+8h] [bp-Ch]@1

  _m_femms();
  sub_1004A538((int)&v15, a3);
  result = a1;
  v4 = *(__m64 *)a2;
  v5 = *(__m64 *)(a2 + 8);
  v6 = v5;
  v7 = _m_pfmul(v5, v16);
  v8 = _m_pfadd(_m_pfmul(*(__m64 *)a2, v15), v7);
  v9 = _m_pxor(v15, (__m64)qword_10073CB0);
  v10 = _m_pxor(v16, (__m64)qword_10073CB0);
  v11 = _m_pfacc(v8, v8);
  v12 = _m_punpckldq(v7, v11);
  v13 = _m_psllq(v11, 0x20u);
  v14 = _m_psrlq(v12, 0x20u);
  *(_QWORD *)a1 = _m_pfadd(_m_pfmul(_m_punpckldq(v9, v9), *(__m64 *)a2), v14);
  *(_QWORD *)(a1 + 8) = _m_pfmul(_m_punpckldq(v9, v9), v6);
  *(_QWORD *)(a1 + 16) = _m_pfadd(_m_pfmul(_m_punpckhdq(v9, v9), v4), v13);
  *(_QWORD *)(a1 + 24) = _m_pfmul(_m_punpckhdq(v9, v9), v6);
  *(_QWORD *)(a1 + 32) = _m_pfmul(_m_punpckldq(v10, v10), v4);
  *(_QWORD *)(a1 + 40) = _m_pfadd(_m_pfmul(_m_punpckldq(v10, v10), v6), v14);
  *(_QWORD *)(a1 + 48) = _m_pfmul(_m_punpckhdq(v10, v10), v4);
  *(_QWORD *)(a1 + 56) = _m_pfadd(_m_pfmul(_m_punpckhdq(v10, v10), v6), v13);
  _m_femms();
  return result;
}
// 10073CB0: using guessed type __int64 qword_10073CB0;

//----- (10045458) --------------------------------------------------------
int __stdcall sub_10045458(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm3@1
  __m64 v4; // mm0@1
  __m64 v5; // mm1@1
  __m64 v6; // mm6@1
  __m64 v7; // mm4@1
  __m64 v8; // mm6@1
  __m64 v9; // mm7@1
  __m64 v10; // mm6@1
  __m64 v11; // mm4@1
  __m64 v12; // mm6@1
  __m64 v13; // mm5@1
  __m64 v14; // mm7@1
  __m64 v15; // [sp+0h] [bp-14h]@1
  __m64 v16; // [sp+8h] [bp-Ch]@1

  _m_femms();
  sub_1004A538((int)&v15, a2);
  result = a1;
  v3 = v16;
  v4 = _m_pfmul(v15, (__m64)qword_10073CB8);
  v5 = _m_pfmul(v16, (__m64)qword_10073CC0);
  v6 = v15;
  v7 = _m_punpckldq(v6, v6);
  v8 = _m_punpckhdq(v6, v6);
  v9 = _m_psrlq(v8, 0x20u);
  v10 = _m_pfadd(_m_pfmul(v8, v4), (__m64)qword_10073CA0);
  *(_QWORD *)a1 = _m_pfadd(_m_pfmul(v7, v4), (__m64)qword_10073CA8);
  *(_QWORD *)(a1 + 8) = _m_pfmul(_m_psrlq(v7, 0x20u), v5);
  *(_QWORD *)(a1 + 16) = v10;
  *(_QWORD *)(a1 + 24) = _m_pfmul(v9, v5);
  v11 = _m_punpckldq(v3, v3);
  v12 = _m_punpckhdq(v3, v3);
  v13 = _m_pfadd(_m_pfmul(_m_psrlq(v11, 0x20u), v5), (__m64)qword_10073CA8);
  v14 = _m_pfadd(_m_pfmul(_m_psrlq(v12, 0x20u), v5), (__m64)qword_10073CA0);
  *(_QWORD *)(a1 + 32) = _m_pfmul(v11, v4);
  *(_QWORD *)(a1 + 40) = v13;
  *(_QWORD *)(a1 + 48) = _m_pfmul(v12, v4);
  *(_QWORD *)(a1 + 56) = v14;
  _m_femms();
  return result;
}
// 10073CA0: using guessed type __int64 qword_10073CA0;
// 10073CA8: using guessed type __int64 qword_10073CA8;
// 10073CB8: using guessed type __int64 qword_10073CB8;
// 10073CC0: using guessed type __int64 qword_10073CC0;

//----- (10045534) --------------------------------------------------------
int __stdcall sub_10045534(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1
  __int64 v4; // mm3@1
  __m64 v5; // mm4@1
  __m64 v6; // mm4@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_10057EE0(v2);
  result = a1;
  v4 = qword_10073CA0;
  v5 = _m_psrlq(v2, 0x20u);
  *(_QWORD *)a1 = qword_10073CA8;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_DWORD *)(a1 + 16) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 20) = _mm_cvtsi64_si32(v2);
  *(_QWORD *)(a1 + 24) = v5;
  v6 = _m_pxor(v5, (__m64)qword_10073C58);
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = v4;
  *(_DWORD *)(a1 + 32) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 36) = _mm_cvtsi64_si32(v6);
  *(_DWORD *)(a1 + 40) = _mm_cvtsi64_si32(v2);
  *(_DWORD *)(a1 + 44) = _mm_cvtsi64_si32(0i64);
  _m_femms();
  return result;
}
// 10073C58: using guessed type __int64 qword_10073C58;
// 10073CA0: using guessed type __int64 qword_10073CA0;
// 10073CA8: using guessed type __int64 qword_10073CA8;

//----- (10045597) --------------------------------------------------------
int __stdcall sub_10045597(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1
  __m64 v4; // mm4@1
  __m64 v5; // mm0@1
  __int64 v6; // mm3@1
  __m64 v7; // mm4@1
  __m64 v8; // mm4@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_10057EE0(v2);
  result = a1;
  v4 = v2;
  v5 = _m_pand(v2, (__m64)qword_10073C30);
  v6 = qword_10073CA0;
  v7 = _m_psrlq(v4, 0x20u);
  *(_QWORD *)(a1 + 16) = qword_10073CA0;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = v6;
  *(_QWORD *)(a1 + 32) = v7;
  v8 = _m_pxor(v7, (__m64)qword_10073C58);
  *(_QWORD *)a1 = v5;
  *(_QWORD *)(a1 + 40) = v5;
  *(_QWORD *)(a1 + 8) = v8;
  _m_femms();
  return result;
}
// 10073C30: using guessed type __int64 qword_10073C30;
// 10073C58: using guessed type __int64 qword_10073C58;
// 10073CA0: using guessed type __int64 qword_10073CA0;

//----- (100455F5) --------------------------------------------------------
int __stdcall sub_100455F5(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1
  __int64 v4; // mm2@1
  __int64 v5; // mm3@1
  __m64 v6; // mm4@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_10057EE0(v2);
  result = a1;
  v4 = qword_10073CA8;
  v5 = qword_10073CA0;
  v6 = _m_pxor(_m_punpckldq(_m_punpckhdq(v2, v2), v2), (__m64)qword_10073C58);
  *(_QWORD *)a1 = v2;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 40) = v4;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = v5;
  *(_QWORD *)(a1 + 16) = v6;
  _m_femms();
  return result;
}
// 10073C58: using guessed type __int64 qword_10073C58;
// 10073CA0: using guessed type __int64 qword_10073CA0;
// 10073CA8: using guessed type __int64 qword_10073CA8;

//----- (1004564E) --------------------------------------------------------
int __stdcall sub_1004564E(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  int result; // eax@1
  __int64 v5; // mm1@1

  _m_femms();
  result = a1;
  v5 = qword_10073CA0;
  *(_QWORD *)a1 = _mm_cvtsi32_si64(a2);
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 16) = _m_psllq(_mm_cvtsi32_si64(a3), 0x20u);
  *(_QWORD *)(a1 + 40) = _mm_cvtsi32_si64(a4);
  *(_QWORD *)(a1 + 56) = v5;
  _m_femms();
  return result;
}
// 10073CA0: using guessed type __int64 qword_10073CA0;

//----- (10045695) --------------------------------------------------------
int __stdcall sub_10045695(int a1, int a2)
{
  __m64 v2; // mm1@1
  __m64 v3; // mm3@1
  __m64 v4; // mm4@1
  int result; // eax@1
  __m64 v6; // mm2@1
  __m64 v7; // mm6@1
  __m64 v8; // mm7@1
  __m64 v9; // mm0@1
  __m64 v10; // mm4@1

  v2 = *(__m64 *)(a2 + 16);
  v3 = *(__m64 *)(a2 + 40);
  v4 = *(__m64 *)(a2 + 56);
  result = a1;
  v6 = _m_punpckhdq(*(__m64 *)a2, v2);
  *(_QWORD *)a1 = _m_punpckldq(*(__m64 *)a2, v2);
  *(_QWORD *)(a1 + 16) = v6;
  v7 = *(__m64 *)(a2 + 8);
  v8 = *(__m64 *)(a2 + 24);
  v9 = *(__m64 *)(a2 + 32);
  *(_QWORD *)(a1 + 40) = _m_punpckldq(v3, v4);
  *(_QWORD *)(a1 + 56) = _m_punpckhdq(v3, v4);
  v10 = *(__m64 *)(a2 + 48);
  *(_QWORD *)(a1 + 32) = _m_punpckldq(v7, v8);
  *(_QWORD *)(a1 + 48) = _m_punpckhdq(v7, v8);
  *(_QWORD *)(a1 + 24) = _m_punpckhdq(v9, v10);
  *(_QWORD *)(a1 + 8) = _m_punpckldq(v9, v10);
  _m_femms();
  return result;
}

//----- (10045704) --------------------------------------------------------
int __cdecl sub_10045704(int a1)
{
  __m64 v1; // mm1@1
  int result; // eax@1
  __m64 v3; // mm2@1

  v1 = _mm_cvtsi32_si64(qword_10073BD0);
  result = a1;
  *(_QWORD *)a1 = v1;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 40) = v1;
  v3 = _m_punpckldq(_m_punpckhdq(v1, v1), v1);
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 16) = v3;
  *(_QWORD *)(a1 + 56) = v3;
  _m_femms();
  return result;
}
// 10073BD0: using guessed type __int64 qword_10073BD0;

//----- (1004573D) --------------------------------------------------------
int __stdcall sub_1004573D(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm0@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm4@1
  __m64 v7; // mm3@1
  __m64 v8; // mm5@1
  __m64 v9; // mm6@1
  __m64 v10; // mm7@1
  __m64 v11; // mm1@1
  __m64 v12; // mm6@1
  __m64 v13; // mm2@1
  __m64 v14; // mm1@1
  __m64 v15; // mm4@1
  __m64 v16; // mm6@1
  __m64 v17; // mm7@1
  __m64 v18; // mm1@1
  __m64 v19; // mm3@1
  __m64 v20; // mm2@1
  __m64 v21; // mm3@1
  __m64 v22; // mm5@1
  __m64 v23; // mm0@1

  result = a1;
  v3 = *(__m64 *)a2;
  v4 = v3;
  v5 = _m_pfadd(v3, v3);
  v6 = _m_punpckhdq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8));
  v7 = _m_pfmul(*(__m64 *)a2, v5);
  v8 = _m_pfmul(v5, v6);
  v9 = _m_punpckldq(_m_pfadd(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8)), v5);
  v10 = _m_pfmul(_m_punpckldq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8)), v9);
  v11 = _m_pfmul(v9, _m_punpckhdq(v4, v4));
  v12 = _m_pfmul(v9, v6);
  v13 = v11;
  v14 = _m_punpckhdq(v11, v10);
  *(_QWORD *)(a1 + 48) = 0i64;
  v15 = v14;
  v16 = _m_punpckhdq(_m_punpckldq(v12, v12), v8);
  v17 = _m_pfsubr(_m_pfadd(_m_punpckldq(v10, v10), v7), (__m64)qword_10073BE0);
  v18 = _m_pfadd(v14, v16);
  *(_QWORD *)(a1 + 40) = _m_punpckldq(_m_pfsubr(_m_pfacc(v7, v7), (__m64)qword_10073BE0), 0i64);
  v19 = v13;
  v20 = _m_pfadd(v13, v8);
  v21 = _m_pfsub(v19, v8);
  v22 = _m_pfsub(v15, v16);
  *(_QWORD *)(a1 + 24) = _m_punpckldq(v20, 0i64);
  v23 = _m_punpckldq(0i64, (__m64)qword_10073BE0);
  *(_QWORD *)(a1 + 8) = _m_punpckhdq(v22, 0i64);
  *(_QWORD *)(a1 + 16) = _m_punpckldq(v22, v17);
  *(_QWORD *)a1 = _m_punpckhdq(v17, _m_punpckldq(v18, v18));
  *(_QWORD *)(a1 + 32) = _m_punpckldq(_m_punpckhdq(v18, v18), v21);
  *(_QWORD *)(a1 + 56) = v23;
  _m_femms();
  return result;
}
// 10073BE0: using guessed type __int64 qword_10073BE0;

//----- (1004580F) --------------------------------------------------------
int __stdcall sub_1004580F(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm0@1
  __m64 v4; // mm6@1
  __m64 v5; // mm0@1
  __m64 v6; // mm4@1
  __m64 v7; // mm1@1
  __m64 v8; // mm5@1
  __m64 v9; // mm0@1
  __m64 v10; // mm5@1
  __m64 v11; // mm2@1
  __m64 v12; // mm3@1
  __m64 v13; // mm1@1
  __m64 v14; // mm6@1
  __m64 v15; // mm4@1
  __m64 v16; // mm3@1
  __m64 v17; // mm6@1
  __m64 v18; // mm2@1
  __m64 v19; // mm0@1
  __m64 v20; // mm4@1
  __m64 v21; // mm7@1

  result = a1;
  v3 = *(__m64 *)a2;
  v4 = v3;
  v5 = _m_pfadd(v3, v3);
  v6 = *(__m64 *)(a2 + 8);
  v7 = _m_pfadd(v6, v6);
  v8 = v5;
  v9 = _m_pfmul(v5, *(__m64 *)a2);
  v10 = _m_punpckldq(v8, v7);
  v11 = _m_pfmul(*(__m64 *)a2, v7);
  v12 = _m_pfmul(_m_pswapd(*(__m64 *)a2), v7);
  v13 = _m_pfmul(v7, v6);
  v14 = _m_pfmul(_m_punpckhdq(v4, v6), v10);
  v15 = v9;
  v16 = _m_pfpnacc(v12, v12);
  v17 = _m_pfpnacc(v14, v14);
  v18 = _m_pfpnacc(v11, v11);
  v19 = _m_pfsub(_m_pfsubr(v9, (__m64)qword_10073BE0), _m_punpckldq(v13, v13));
  v20 = _m_pfsubr(_m_pfacc(v15, v15), (__m64)qword_10073BE0);
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 32) = _m_punpckldq(_m_pswapd(v18), v16);
  *(_QWORD *)(a1 + 8) = _m_punpckldq(v18, 0i64);
  *(_QWORD *)(a1 + 40) = _m_punpckhdq(v20, 0i64);
  v21 = _m_punpckldq(0i64, (__m64)qword_10073BE0);
  *(_QWORD *)a1 = _m_punpckhdq(v19, v17);
  *(_QWORD *)(a1 + 16) = _m_punpckldq(v17, v19);
  *(_QWORD *)(a1 + 24) = _m_punpckhdq(v16, 0i64);
  *(_QWORD *)(a1 + 56) = v21;
  _m_femms();
  return result;
}
// 10073BE0: using guessed type __int64 qword_10073BE0;

//----- (100458C4) --------------------------------------------------------
int __stdcall sub_100458C4(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax@1
  __m64 v8; // mm0@3
  __m64 v9; // mm2@3
  __m64 v10; // mm0@3
  __m64 v11; // mm4@3
  __m64 v12; // mm3@3
  __m64 v13; // mm5@3
  __m64 v14; // mm6@3
  __m64 v15; // mm7@3
  __m64 v16; // mm1@3
  __m64 v17; // mm6@3
  __m64 v18; // mm2@3
  __m64 v19; // mm1@3
  __m64 v20; // mm4@3
  __m64 v21; // mm6@3
  __m64 v22; // mm7@3
  __m64 v23; // mm1@3
  __m64 v24; // mm3@3
  __m64 v25; // mm2@3
  __m64 v26; // mm3@3
  __m64 v27; // mm5@3
  __m64 v28; // ST80_8@4
  __m64 v29; // ST90_8@4
  __m64 v30; // STA8_8@4
  __m64 v31; // STB8_8@4
  __m64 v32; // STA0_8@4
  __m64 v33; // STB0_8@4
  __m64 v34; // ST98_8@4
  __m64 v35; // ST88_8@4
  __m64 v36; // mm3@4
  __m64 v37; // mm4@4
  __m64 v38; // mm1@4
  __m64 v39; // mm2@4
  __m64 v40; // mm2@4
  __m64 v41; // mm1@4
  __m64 v42; // mm2@4
  __m64 v43; // mm3@4
  __m64 v44; // mm0@4
  __m64 v45; // mm1@4
  __m64 v46; // mm2@4
  __m64 v47; // mm5@4
  __m64 v48; // mm3@4
  __m64 v49; // mm2@4
  __m64 v50; // mm7@4
  __m64 v51; // mm0@4
  __m64 v52; // mm3@4
  __m64 v53; // mm1@4
  __m64 v54; // mm2@4
  __m64 v55; // mm3@4
  __m64 v56; // mm0@4
  __m64 v57; // mm1@4
  __m64 v58; // mm2@4
  __m64 v59; // mm5@4
  __m64 v60; // mm3@4
  __m64 v61; // mm2@4
  __m64 v62; // mm7@4
  __m64 v63; // mm0@4
  __m64 v64; // mm3@4
  __m64 v65; // mm1@4
  __m64 v66; // mm2@4
  __m64 v67; // mm3@4
  __m64 v68; // mm0@4
  __m64 v69; // mm1@4
  __m64 v70; // mm2@4
  __m64 v71; // mm5@4
  __m64 v72; // mm3@4
  __m64 v73; // mm2@4
  __m64 v74; // mm7@4
  __m64 v75; // mm0@4
  __m64 v76; // mm3@4
  __m64 v77; // mm1@4
  __m64 v78; // mm2@4
  __m64 v79; // mm3@4
  __m64 v80; // mm0@4
  __m64 v81; // mm1@4
  __m64 v82; // mm2@4
  __m64 v83; // mm5@4
  __m64 v84; // mm3@4
  __m64 v85; // mm7@4
  __m64 v86; // mm2@4
  __m64 v87; // mm3@4
  __m64 v88; // mm1@4
  __m64 v89; // mm2@4
  __m64 v90; // mm3@4
  __m64 v91; // mm0@4
  __m64 v92; // mm1@4
  __m64 v93; // mm2@4
  __m64 v94; // mm5@4
  __m64 v95; // mm3@4
  __m64 v96; // mm2@4
  __m64 v97; // mm7@4
  __m64 v98; // mm0@4
  __m64 v99; // mm3@4
  __m64 v100; // mm1@4
  __m64 v101; // mm2@4
  __m64 v102; // mm3@4
  __m64 v103; // mm0@4
  __m64 v104; // mm1@4
  __m64 v105; // mm2@4
  __m64 v106; // mm5@4
  __m64 v107; // mm3@4
  __m64 v108; // mm2@4
  __m64 v109; // mm7@4
  __m64 v110; // mm0@4
  __m64 v111; // mm3@4
  __m64 v112; // mm1@4
  __m64 v113; // mm2@4
  __m64 v114; // mm3@4
  __m64 v115; // mm0@4
  __m64 v116; // mm1@4
  __m64 v117; // mm2@4
  __m64 v118; // mm5@4
  __m64 v119; // mm3@4
  __m64 v120; // mm2@4
  __m64 v121; // mm7@4
  __m64 v122; // mm0@4
  __m64 v123; // mm3@4
  __m64 v124; // mm1@4
  __m64 v125; // mm2@4
  __m64 v126; // mm3@4
  __m64 v127; // mm0@4
  __m64 v128; // mm1@4
  __m64 v129; // mm2@4
  __m64 v130; // mm5@4
  __m64 v131; // mm3@4
  __m64 v132; // mm7@4
  __m64 v133; // mm2@4
  __m64 v134; // mm3@4
  __m64 v135; // mm1@4
  __m64 v136; // mm2@4
  __m64 v137; // mm3@4
  __m64 v138; // mm0@4
  __m64 v139; // mm1@4
  __m64 v140; // mm2@4
  __m64 v141; // mm5@4
  __m64 v142; // mm3@4
  __m64 v143; // mm2@4
  __m64 v144; // mm7@4
  __m64 v145; // mm0@4
  __m64 v146; // mm3@4
  __m64 v147; // mm1@4
  __m64 v148; // mm2@4
  __m64 v149; // mm3@4
  __m64 v150; // mm0@4
  __m64 v151; // mm1@4
  __m64 v152; // mm2@4
  __m64 v153; // mm5@4
  __m64 v154; // mm3@4
  __m64 v155; // mm2@4
  __m64 v156; // mm7@4
  __m64 v157; // mm0@4
  __m64 v158; // mm3@4
  __m64 v159; // mm1@4
  __m64 v160; // mm2@4
  __m64 v161; // mm3@4
  __m64 v162; // mm0@4
  __m64 v163; // mm1@4
  __m64 v164; // mm2@4
  __m64 v165; // mm5@4
  __m64 v166; // mm3@4
  __m64 v167; // mm2@4
  __m64 v168; // mm7@4
  __m64 v169; // mm0@4
  __m64 v170; // mm3@4
  __m64 v171; // mm1@4
  __m64 v172; // mm2@4
  __m64 v173; // mm3@4
  __m64 v174; // mm0@4
  __m64 v175; // mm1@4
  __m64 v176; // mm2@4
  __m64 v177; // mm3@4
  __m64 v178; // mm2@4
  __m64 v179; // mm3@5
  __m64 v180; // mm2@5
  __m64 v181; // mm1@5
  __m64 v182; // mm2@5
  __m64 v183; // mm3@5
  __m64 v184; // mm0@5
  __m64 v185; // mm1@5
  __m64 v186; // mm2@5
  __m64 v187; // mm5@5
  __m64 v188; // mm3@5
  __m64 v189; // mm2@5
  __m64 v190; // mm7@5
  __m64 v191; // mm0@5
  __m64 v192; // mm3@5
  __m64 v193; // mm1@5
  __m64 v194; // mm2@5
  __m64 v195; // mm3@5
  __m64 v196; // mm0@5
  __m64 v197; // mm1@5
  __m64 v198; // mm2@5
  __m64 v199; // mm5@5
  __m64 v200; // mm3@5
  __m64 v201; // mm2@5
  __m64 v202; // mm7@5
  __m64 v203; // mm0@5
  __m64 v204; // mm3@5
  __m64 v205; // mm1@5
  __m64 v206; // mm2@5
  __m64 v207; // mm3@5
  __m64 v208; // mm0@5
  __m64 v209; // mm1@5
  __m64 v210; // mm2@5
  __m64 v211; // mm5@5
  __m64 v212; // mm3@5
  __m64 v213; // mm2@5
  __m64 v214; // mm7@5
  __m64 v215; // mm0@5
  __m64 v216; // mm3@5
  __m64 v217; // mm1@5
  __m64 v218; // mm2@5
  __m64 v219; // mm3@5
  __m64 v220; // mm0@5
  __m64 v221; // mm1@5
  __m64 v222; // mm2@5
  __m64 v223; // mm5@5
  __m64 v224; // mm3@5
  __m64 v225; // mm7@5
  __m64 v226; // mm2@5
  __m64 v227; // mm3@5
  __m64 v228; // mm1@5
  __m64 v229; // mm2@5
  __m64 v230; // mm3@5
  __m64 v231; // mm0@5
  __m64 v232; // mm1@5
  __m64 v233; // mm2@5
  __m64 v234; // mm5@5
  __m64 v235; // mm3@5
  __m64 v236; // mm2@5
  __m64 v237; // mm7@5
  __m64 v238; // mm0@5
  __m64 v239; // mm3@5
  __m64 v240; // mm1@5
  __m64 v241; // mm2@5
  __m64 v242; // mm3@5
  __m64 v243; // mm0@5
  __m64 v244; // mm1@5
  __m64 v245; // mm2@5
  __m64 v246; // mm5@5
  __m64 v247; // mm3@5
  __m64 v248; // mm2@5
  __m64 v249; // mm7@5
  __m64 v250; // mm0@5
  __m64 v251; // mm3@5
  __m64 v252; // mm1@5
  __m64 v253; // mm2@5
  __m64 v254; // mm3@5
  __m64 v255; // mm0@5
  __m64 v256; // mm1@5
  __m64 v257; // mm2@5
  __m64 v258; // mm5@5
  __m64 v259; // mm3@5
  __m64 v260; // mm2@5
  __m64 v261; // mm7@5
  __m64 v262; // mm0@5
  __m64 v263; // mm3@5
  __m64 v264; // mm1@5
  __m64 v265; // mm2@5
  __m64 v266; // mm3@5
  __m64 v267; // mm0@5
  __m64 v268; // mm1@5
  __m64 v269; // mm2@5
  __m64 v270; // mm3@5
  __int64 v271; // mm1@6
  __m64 v272; // mm4@6
  __m64 v273; // mm5@6
  __m64 v274; // mm1@7
  __m64 v275; // mm2@7
  __m64 v276; // mm0@9
  __m64 v277; // mm2@9
  __m64 v278; // mm0@9
  __m64 v279; // mm4@9
  __m64 v280; // mm3@9
  __m64 v281; // mm5@9
  __m64 v282; // mm6@9
  __m64 v283; // mm7@9
  __m64 v284; // mm1@9
  __m64 v285; // mm6@9
  __m64 v286; // mm2@9
  __m64 v287; // mm1@9
  __m64 v288; // mm4@9
  __m64 v289; // mm6@9
  __m64 v290; // mm7@9
  __m64 v291; // mm1@9
  __m64 v292; // mm3@9
  __m64 v293; // mm2@9
  __m64 v294; // mm3@9
  __m64 v295; // mm5@9
  __m64 v296; // mm2@9
  __m64 v297; // mm2@10
  __m64 v298; // mm3@10
  __m64 v299; // mm1@10
  __m64 v300; // mm1@10
  __m64 v301; // mm2@10
  __m64 v302; // mm3@10
  __m64 v303; // mm0@10
  __m64 v304; // mm1@10
  __m64 v305; // mm2@10
  __m64 v306; // mm5@10
  __m64 v307; // mm3@10
  __m64 v308; // mm2@10
  __m64 v309; // mm7@10
  __m64 v310; // mm0@10
  __m64 v311; // mm3@10
  __m64 v312; // mm1@10
  __m64 v313; // mm2@10
  __m64 v314; // mm3@10
  __m64 v315; // mm0@10
  __m64 v316; // mm1@10
  __m64 v317; // mm2@10
  __m64 v318; // mm5@10
  __m64 v319; // mm3@10
  __m64 v320; // mm2@10
  __m64 v321; // mm7@10
  __m64 v322; // mm0@10
  __m64 v323; // mm3@10
  __m64 v324; // mm1@10
  __m64 v325; // mm2@10
  __m64 v326; // mm3@10
  __m64 v327; // mm0@10
  __m64 v328; // mm1@10
  __m64 v329; // mm2@10
  __m64 v330; // mm5@10
  __m64 v331; // mm3@10
  __m64 v332; // mm2@10
  __m64 v333; // mm7@10
  __m64 v334; // mm0@10
  __m64 v335; // mm3@10
  __m64 v336; // mm1@10
  __m64 v337; // mm2@10
  __m64 v338; // mm3@10
  __m64 v339; // mm0@10
  __m64 v340; // mm1@10
  __m64 v341; // mm2@10
  __m64 v342; // mm3@10
  __m64 v343; // mm1@10
  __m64 v344; // mm1@11
  __m64 v345; // mm2@11
  __m64 v346; // mm3@11
  __m64 v347; // mm0@11
  __m64 v348; // mm1@11
  __m64 v349; // mm2@11
  __m64 v350; // mm5@11
  __m64 v351; // mm3@11
  __m64 v352; // mm2@11
  __m64 v353; // mm7@11
  __m64 v354; // mm0@11
  __m64 v355; // mm3@11
  __m64 v356; // mm1@11
  __m64 v357; // mm2@11
  __m64 v358; // mm3@11
  __m64 v359; // mm0@11
  __m64 v360; // mm1@11
  __m64 v361; // mm2@11
  __m64 v362; // mm5@11
  __m64 v363; // mm3@11
  __m64 v364; // mm2@11
  __m64 v365; // mm7@11
  __m64 v366; // mm0@11
  __m64 v367; // mm3@11
  __m64 v368; // mm1@11
  __m64 v369; // mm2@11
  __m64 v370; // mm3@11
  __m64 v371; // mm0@11
  __m64 v372; // mm1@11
  __m64 v373; // mm2@11
  __m64 v374; // mm5@11
  __m64 v375; // mm3@11
  __m64 v376; // mm2@11
  __m64 v377; // mm7@11
  __m64 v378; // mm0@11
  __m64 v379; // mm3@11
  __m64 v380; // mm1@11
  __m64 v381; // mm2@11
  __m64 v382; // mm3@11
  __m64 v383; // mm0@11
  __m64 v384; // mm1@11
  __m64 v385; // mm2@11
  __m64 v386; // mm3@11
  __m64 v387; // mm1@13
  __m64 v388; // [sp+0h] [bp-C0h]@3
  __m64 v389; // [sp+10h] [bp-B0h]@3
  __m64 v390; // [sp+28h] [bp-98h]@3
  __m64 v391; // [sp+38h] [bp-88h]@3
  __m64 v392; // [sp+40h] [bp-80h]@3
  __m64 v393; // [sp+40h] [bp-80h]@9
  __m64 v394; // [sp+48h] [bp-78h]@3
  __m64 v395; // [sp+48h] [bp-78h]@9
  __m64 v396; // [sp+50h] [bp-70h]@3
  __m64 v397; // [sp+50h] [bp-70h]@9
  __m64 v398; // [sp+58h] [bp-68h]@3
  __m64 v399; // [sp+58h] [bp-68h]@9
  __m64 v400; // [sp+60h] [bp-60h]@3
  __m64 v401; // [sp+60h] [bp-60h]@9
  __m64 v402; // [sp+68h] [bp-58h]@3
  __m64 v403; // [sp+68h] [bp-58h]@9
  __m64 v404; // [sp+78h] [bp-48h]@3
  __m64 v405; // [sp+78h] [bp-48h]@9

  result = a1;
  if ( a4 )
  {
    if ( a3 )
    {
      v388 = _m_punpckldq(*(__m64 *)a4, 0i64);
      v389 = _m_punpckhdq(0i64, *(__m64 *)a4);
      v390 = _mm_cvtsi32_si64(*(_DWORD *)(a4 + 8));
      v391 = (__m64)qword_10073BC0;
      v8 = *(__m64 *)a3;
      v9 = v8;
      v10 = _m_pfadd(v8, v8);
      v11 = _m_punpckhdq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8));
      v12 = _m_pfmul(*(__m64 *)a3, v10);
      v13 = _m_pfmul(v10, v11);
      v14 = _m_punpckldq(_m_pfadd(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), v10);
      v15 = _m_pfmul(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), v14);
      v16 = _m_pfmul(v14, _m_punpckhdq(v9, v9));
      v17 = _m_pfmul(v14, v11);
      v18 = v16;
      v19 = _m_punpckhdq(v16, v15);
      v20 = v19;
      v21 = _m_punpckhdq(_m_punpckldq(v17, v17), v13);
      v22 = _m_pfsubr(_m_pfadd(_m_punpckldq(v15, v15), v12), (__m64)qword_10073BE0);
      v23 = _m_pfadd(v19, v21);
      v402 = _m_punpckldq(_m_pfsubr(_m_pfacc(v12, v12), (__m64)qword_10073BE0), 0i64);
      v24 = v18;
      v25 = _m_pfadd(v18, v13);
      v26 = _m_pfsub(v24, v13);
      v27 = _m_pfsub(v20, v21);
      v398 = _m_punpckldq(v25, 0i64);
      v394 = _m_punpckhdq(v27, 0i64);
      v396 = _m_punpckldq(v27, v22);
      v392 = _m_punpckhdq(v22, _m_punpckldq(v23, v23));
      v400 = _m_punpckldq(_m_punpckhdq(v23, v23), v26);
      v404 = _m_punpckldq(0i64, (__m64)qword_10073BE0);
      if ( a2 )
      {
        v28 = _m_punpckldq(v392, v396);
        v29 = _m_punpckhdq(v392, v396);
        v30 = _m_punpckldq(v402, v404);
        v31 = _m_punpckhdq(v402, v404);
        v32 = _m_punpckldq(v394, v398);
        v33 = _m_punpckhdq(v394, v398);
        v34 = _m_punpckhdq(v400, 0i64);
        v35 = _m_punpckldq(v400, 0i64);
        result = a1;
        v36 = *(__m64 *)a2;
        v37 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8));
        v38 = _mm_cvtsi32_si64(qword_10073BD0);
        v39 = _m_punpckldq(_m_punpckhdq(v38, v38), v38);
        *(_QWORD *)a1 = v38;
        *(_QWORD *)(a1 + 8) = 0i64;
        *(_QWORD *)(a1 + 16) = v39;
        *(_QWORD *)(a1 + 24) = 0i64;
        *(_QWORD *)(a1 + 32) = 0i64;
        *(_QWORD *)(a1 + 40) = v38;
        v40 = _m_pfsub(v39, v37);
        *(_QWORD *)(a1 + 56) = v40;
        *(_QWORD *)(a1 + 48) = _m_pfsub(0i64, v36);
        v41 = *(__m64 *)(a1 + 8);
        v42 = _m_punpckhdq(v40, *(__m64 *)a1);
        v43 = _m_punpckhdq(v36, v41);
        v44 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v45 = _m_punpckldq(v41, v41);
        v46 = _m_punpckhdq(v42, v42);
        v47 = _m_pfmul(v29, v46);
        v48 = _m_punpckhdq(v43, v43);
        v49 = _m_pfadd(_m_pfadd(_m_pfmul(v46, v34), _m_pfmul(v44, v35)), _m_pfmul(v45, v30));
        v50 = _m_pfadd(_m_pfmul(v33, v48), _m_pfadd(_m_pfmul(v32, v45), _m_pfadd(v47, _m_pfmul(v28, v44))));
        v51 = *(__m64 *)(a1 + 16);
        v52 = _m_pfadd(_m_pfmul(v48, v31), v49);
        v53 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v50;
        *(_QWORD *)(a1 + 8) = v52;
        v54 = _m_punpckhdq(v49, v51);
        v55 = _m_punpckhdq(v52, v53);
        v56 = _m_punpckldq(v51, v51);
        v57 = _m_punpckldq(v53, v53);
        v58 = _m_punpckhdq(v54, v54);
        v59 = _m_pfmul(v29, v58);
        v60 = _m_punpckhdq(v55, v55);
        v61 = _m_pfadd(_m_pfadd(_m_pfmul(v58, v34), _m_pfmul(v56, v35)), _m_pfmul(v57, v30));
        v62 = _m_pfadd(_m_pfmul(v33, v60), _m_pfadd(_m_pfmul(v32, v57), _m_pfadd(v59, _m_pfmul(v28, v56))));
        v63 = *(__m64 *)(a1 + 32);
        v64 = _m_pfadd(_m_pfmul(v60, v31), v61);
        v65 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v62;
        *(_QWORD *)(a1 + 24) = v64;
        v66 = _m_punpckhdq(v61, v63);
        v67 = _m_punpckhdq(v64, v65);
        v68 = _m_punpckldq(v63, v63);
        v69 = _m_punpckldq(v65, v65);
        v70 = _m_punpckhdq(v66, v66);
        v71 = _m_pfmul(v29, v70);
        v72 = _m_punpckhdq(v67, v67);
        v73 = _m_pfadd(_m_pfadd(_m_pfmul(v70, v34), _m_pfmul(v68, v35)), _m_pfmul(v69, v30));
        v74 = _m_pfadd(_m_pfmul(v33, v72), _m_pfadd(_m_pfmul(v32, v69), _m_pfadd(v71, _m_pfmul(v28, v68))));
        v75 = *(__m64 *)(a1 + 48);
        v76 = _m_pfadd(_m_pfmul(v72, v31), v73);
        v77 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v74;
        *(_QWORD *)(a1 + 40) = v76;
        v78 = _m_punpckhdq(v73, v75);
        v79 = _m_punpckhdq(v76, v77);
        v80 = _m_punpckldq(v75, v75);
        v81 = _m_punpckldq(v77, v77);
        v82 = _m_punpckhdq(v78, v78);
        v83 = _m_pfmul(v29, v82);
        v84 = _m_punpckhdq(v79, v79);
        v85 = _m_pfmul(v33, v84);
        v86 = _m_pfadd(_m_pfadd(_m_pfmul(v82, v34), _m_pfmul(v80, v35)), _m_pfmul(v81, v30));
        v87 = _m_pfadd(_m_pfmul(v84, v31), v86);
        *(_QWORD *)(a1 + 48) = _m_pfadd(v85, _m_pfadd(_m_pfmul(v32, v81), _m_pfadd(v83, _m_pfmul(v28, v80))));
        *(_QWORD *)(a1 + 56) = v87;
        v88 = *(__m64 *)(a1 + 8);
        v89 = _m_punpckhdq(v86, *(__m64 *)a1);
        v90 = _m_punpckhdq(v87, v88);
        v91 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v92 = _m_punpckldq(v88, v88);
        v93 = _m_punpckhdq(v89, v89);
        v94 = _m_pfmul(v389, v93);
        v95 = _m_punpckhdq(v90, v90);
        v96 = _m_pfadd(_m_pfadd(_m_pfmul(v93, 0i64), _m_pfmul(v91, 0i64)), _m_pfmul(v92, v390));
        v97 = _m_pfadd(_m_pfmul(0i64, v95), _m_pfadd(_m_pfmul(0i64, v92), _m_pfadd(v94, _m_pfmul(v388, v91))));
        v98 = *(__m64 *)(a1 + 16);
        v99 = _m_pfadd(_m_pfmul(v95, v391), v96);
        v100 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v97;
        *(_QWORD *)(a1 + 8) = v99;
        v101 = _m_punpckhdq(v96, v98);
        v102 = _m_punpckhdq(v99, v100);
        v103 = _m_punpckldq(v98, v98);
        v104 = _m_punpckldq(v100, v100);
        v105 = _m_punpckhdq(v101, v101);
        v106 = _m_pfmul(v389, v105);
        v107 = _m_punpckhdq(v102, v102);
        v108 = _m_pfadd(_m_pfadd(_m_pfmul(v105, 0i64), _m_pfmul(v103, 0i64)), _m_pfmul(v104, v390));
        v109 = _m_pfadd(_m_pfmul(0i64, v107), _m_pfadd(_m_pfmul(0i64, v104), _m_pfadd(v106, _m_pfmul(v388, v103))));
        v110 = *(__m64 *)(a1 + 32);
        v111 = _m_pfadd(_m_pfmul(v107, v391), v108);
        v112 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v109;
        *(_QWORD *)(a1 + 24) = v111;
        v113 = _m_punpckhdq(v108, v110);
        v114 = _m_punpckhdq(v111, v112);
        v115 = _m_punpckldq(v110, v110);
        v116 = _m_punpckldq(v112, v112);
        v117 = _m_punpckhdq(v113, v113);
        v118 = _m_pfmul(v389, v117);
        v119 = _m_punpckhdq(v114, v114);
        v120 = _m_pfadd(_m_pfadd(_m_pfmul(v117, 0i64), _m_pfmul(v115, 0i64)), _m_pfmul(v116, v390));
        v121 = _m_pfadd(_m_pfmul(0i64, v119), _m_pfadd(_m_pfmul(0i64, v116), _m_pfadd(v118, _m_pfmul(v388, v115))));
        v122 = *(__m64 *)(a1 + 48);
        v123 = _m_pfadd(_m_pfmul(v119, v391), v120);
        v124 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v121;
        *(_QWORD *)(a1 + 40) = v123;
        v125 = _m_punpckhdq(v120, v122);
        v126 = _m_punpckhdq(v123, v124);
        v127 = _m_punpckldq(v122, v122);
        v128 = _m_punpckldq(v124, v124);
        v129 = _m_punpckhdq(v125, v125);
        v130 = _m_pfmul(v389, v129);
        v131 = _m_punpckhdq(v126, v126);
        v132 = _m_pfmul(0i64, v131);
        v133 = _m_pfadd(_m_pfadd(_m_pfmul(v129, 0i64), _m_pfmul(v127, 0i64)), _m_pfmul(v128, v390));
        v134 = _m_pfadd(_m_pfmul(v131, v391), v133);
        *(_QWORD *)(a1 + 48) = _m_pfadd(v132, _m_pfadd(_m_pfmul(0i64, v128), _m_pfadd(v130, _m_pfmul(v388, v127))));
        *(_QWORD *)(a1 + 56) = v134;
        v135 = *(__m64 *)(a1 + 8);
        v136 = _m_punpckhdq(v133, *(__m64 *)a1);
        v137 = _m_punpckhdq(v134, v135);
        v138 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v139 = _m_punpckldq(v135, v135);
        v140 = _m_punpckhdq(v136, v136);
        v141 = _m_pfmul(v396, v140);
        v142 = _m_punpckhdq(v137, v137);
        v143 = _m_pfadd(_m_pfadd(_m_pfmul(v140, v398), _m_pfmul(v138, v394)), _m_pfmul(v139, v402));
        v144 = _m_pfadd(_m_pfmul(0i64, v142), _m_pfadd(_m_pfmul(v400, v139), _m_pfadd(v141, _m_pfmul(v392, v138))));
        v145 = *(__m64 *)(a1 + 16);
        v146 = _m_pfadd(_m_pfmul(v142, v404), v143);
        v147 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v144;
        *(_QWORD *)(a1 + 8) = v146;
        v148 = _m_punpckhdq(v143, v145);
        v149 = _m_punpckhdq(v146, v147);
        v150 = _m_punpckldq(v145, v145);
        v151 = _m_punpckldq(v147, v147);
        v152 = _m_punpckhdq(v148, v148);
        v153 = _m_pfmul(v396, v152);
        v154 = _m_punpckhdq(v149, v149);
        v155 = _m_pfadd(_m_pfadd(_m_pfmul(v152, v398), _m_pfmul(v150, v394)), _m_pfmul(v151, v402));
        v156 = _m_pfadd(_m_pfmul(0i64, v154), _m_pfadd(_m_pfmul(v400, v151), _m_pfadd(v153, _m_pfmul(v392, v150))));
        v157 = *(__m64 *)(a1 + 32);
        v158 = _m_pfadd(_m_pfmul(v154, v404), v155);
        v159 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v156;
        *(_QWORD *)(a1 + 24) = v158;
        v160 = _m_punpckhdq(v155, v157);
        v161 = _m_punpckhdq(v158, v159);
        v162 = _m_punpckldq(v157, v157);
        v163 = _m_punpckldq(v159, v159);
        v164 = _m_punpckhdq(v160, v160);
        v165 = _m_pfmul(v396, v164);
        v166 = _m_punpckhdq(v161, v161);
        v167 = _m_pfadd(_m_pfadd(_m_pfmul(v164, v398), _m_pfmul(v162, v394)), _m_pfmul(v163, v402));
        v168 = _m_pfadd(_m_pfmul(0i64, v166), _m_pfadd(_m_pfmul(v400, v163), _m_pfadd(v165, _m_pfmul(v392, v162))));
        v169 = *(__m64 *)(a1 + 48);
        v170 = _m_pfadd(_m_pfmul(v166, v404), v167);
        v171 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v168;
        *(_QWORD *)(a1 + 40) = v170;
        v172 = _m_punpckhdq(v167, v169);
        v173 = _m_punpckhdq(v170, v171);
        v174 = _m_punpckldq(v169, v169);
        v175 = _m_punpckldq(v171, v171);
        v176 = _m_punpckhdq(v172, v172);
        v177 = _m_punpckhdq(v173, v173);
        *(_QWORD *)(a1 + 48) = _m_pfadd(
                                 _m_pfmul(0i64, v177),
                                 _m_pfadd(_m_pfmul(v400, v175), _m_pfadd(_m_pfmul(v396, v176), _m_pfmul(v392, v174))));
        *(_QWORD *)(a1 + 56) = _m_pfadd(
                                 _m_pfmul(v177, v404),
                                 _m_pfadd(_m_pfadd(_m_pfmul(v176, v398), _m_pfmul(v174, v394)), _m_pfmul(v175, v402)));
        v178 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 8)), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
        *(_QWORD *)(a1 + 48) = _m_pfadd(*(__m64 *)a2, *(__m64 *)(a1 + 48));
        *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v178);
      }
      else
      {
        result = a1;
        *(_QWORD *)a1 = _m_punpckldq(v392, v396);
        *(_QWORD *)(a1 + 16) = _m_punpckhdq(v392, v396);
        v179 = _m_punpckldq(v402, v404);
        *(_QWORD *)(a1 + 40) = v179;
        *(_QWORD *)(a1 + 56) = _m_punpckhdq(v402, v404);
        *(_QWORD *)(a1 + 32) = _m_punpckldq(v394, v398);
        v180 = _m_punpckldq(v400, 0i64);
        *(_QWORD *)(a1 + 48) = _m_punpckhdq(v394, v398);
        *(_QWORD *)(a1 + 24) = _m_punpckhdq(v400, 0i64);
        *(_QWORD *)(a1 + 8) = v180;
        v181 = *(__m64 *)(a1 + 8);
        v182 = _m_punpckhdq(v180, *(__m64 *)a1);
        v183 = _m_punpckhdq(v179, v181);
        v184 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v185 = _m_punpckldq(v181, v181);
        v186 = _m_punpckhdq(v182, v182);
        v187 = _m_pfmul(v389, v186);
        v188 = _m_punpckhdq(v183, v183);
        v189 = _m_pfadd(_m_pfadd(_m_pfmul(v186, 0i64), _m_pfmul(v184, 0i64)), _m_pfmul(v185, v390));
        v190 = _m_pfadd(_m_pfmul(0i64, v188), _m_pfadd(_m_pfmul(0i64, v185), _m_pfadd(v187, _m_pfmul(v388, v184))));
        v191 = *(__m64 *)(a1 + 16);
        v192 = _m_pfadd(_m_pfmul(v188, v391), v189);
        v193 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v190;
        *(_QWORD *)(a1 + 8) = v192;
        v194 = _m_punpckhdq(v189, v191);
        v195 = _m_punpckhdq(v192, v193);
        v196 = _m_punpckldq(v191, v191);
        v197 = _m_punpckldq(v193, v193);
        v198 = _m_punpckhdq(v194, v194);
        v199 = _m_pfmul(v389, v198);
        v200 = _m_punpckhdq(v195, v195);
        v201 = _m_pfadd(_m_pfadd(_m_pfmul(v198, 0i64), _m_pfmul(v196, 0i64)), _m_pfmul(v197, v390));
        v202 = _m_pfadd(_m_pfmul(0i64, v200), _m_pfadd(_m_pfmul(0i64, v197), _m_pfadd(v199, _m_pfmul(v388, v196))));
        v203 = *(__m64 *)(a1 + 32);
        v204 = _m_pfadd(_m_pfmul(v200, v391), v201);
        v205 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v202;
        *(_QWORD *)(a1 + 24) = v204;
        v206 = _m_punpckhdq(v201, v203);
        v207 = _m_punpckhdq(v204, v205);
        v208 = _m_punpckldq(v203, v203);
        v209 = _m_punpckldq(v205, v205);
        v210 = _m_punpckhdq(v206, v206);
        v211 = _m_pfmul(v389, v210);
        v212 = _m_punpckhdq(v207, v207);
        v213 = _m_pfadd(_m_pfadd(_m_pfmul(v210, 0i64), _m_pfmul(v208, 0i64)), _m_pfmul(v209, v390));
        v214 = _m_pfadd(_m_pfmul(0i64, v212), _m_pfadd(_m_pfmul(0i64, v209), _m_pfadd(v211, _m_pfmul(v388, v208))));
        v215 = *(__m64 *)(a1 + 48);
        v216 = _m_pfadd(_m_pfmul(v212, v391), v213);
        v217 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v214;
        *(_QWORD *)(a1 + 40) = v216;
        v218 = _m_punpckhdq(v213, v215);
        v219 = _m_punpckhdq(v216, v217);
        v220 = _m_punpckldq(v215, v215);
        v221 = _m_punpckldq(v217, v217);
        v222 = _m_punpckhdq(v218, v218);
        v223 = _m_pfmul(v389, v222);
        v224 = _m_punpckhdq(v219, v219);
        v225 = _m_pfmul(0i64, v224);
        v226 = _m_pfadd(_m_pfadd(_m_pfmul(v222, 0i64), _m_pfmul(v220, 0i64)), _m_pfmul(v221, v390));
        v227 = _m_pfadd(_m_pfmul(v224, v391), v226);
        *(_QWORD *)(a1 + 48) = _m_pfadd(v225, _m_pfadd(_m_pfmul(0i64, v221), _m_pfadd(v223, _m_pfmul(v388, v220))));
        *(_QWORD *)(a1 + 56) = v227;
        v228 = *(__m64 *)(a1 + 8);
        v229 = _m_punpckhdq(v226, *(__m64 *)a1);
        v230 = _m_punpckhdq(v227, v228);
        v231 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v232 = _m_punpckldq(v228, v228);
        v233 = _m_punpckhdq(v229, v229);
        v234 = _m_pfmul(v396, v233);
        v235 = _m_punpckhdq(v230, v230);
        v236 = _m_pfadd(_m_pfadd(_m_pfmul(v233, v398), _m_pfmul(v231, v394)), _m_pfmul(v232, v402));
        v237 = _m_pfadd(_m_pfmul(0i64, v235), _m_pfadd(_m_pfmul(v400, v232), _m_pfadd(v234, _m_pfmul(v392, v231))));
        v238 = *(__m64 *)(a1 + 16);
        v239 = _m_pfadd(_m_pfmul(v235, v404), v236);
        v240 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v237;
        *(_QWORD *)(a1 + 8) = v239;
        v241 = _m_punpckhdq(v236, v238);
        v242 = _m_punpckhdq(v239, v240);
        v243 = _m_punpckldq(v238, v238);
        v244 = _m_punpckldq(v240, v240);
        v245 = _m_punpckhdq(v241, v241);
        v246 = _m_pfmul(v396, v245);
        v247 = _m_punpckhdq(v242, v242);
        v248 = _m_pfadd(_m_pfadd(_m_pfmul(v245, v398), _m_pfmul(v243, v394)), _m_pfmul(v244, v402));
        v249 = _m_pfadd(_m_pfmul(0i64, v247), _m_pfadd(_m_pfmul(v400, v244), _m_pfadd(v246, _m_pfmul(v392, v243))));
        v250 = *(__m64 *)(a1 + 32);
        v251 = _m_pfadd(_m_pfmul(v247, v404), v248);
        v252 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v249;
        *(_QWORD *)(a1 + 24) = v251;
        v253 = _m_punpckhdq(v248, v250);
        v254 = _m_punpckhdq(v251, v252);
        v255 = _m_punpckldq(v250, v250);
        v256 = _m_punpckldq(v252, v252);
        v257 = _m_punpckhdq(v253, v253);
        v258 = _m_pfmul(v396, v257);
        v259 = _m_punpckhdq(v254, v254);
        v260 = _m_pfadd(_m_pfadd(_m_pfmul(v257, v398), _m_pfmul(v255, v394)), _m_pfmul(v256, v402));
        v261 = _m_pfadd(_m_pfmul(0i64, v259), _m_pfadd(_m_pfmul(v400, v256), _m_pfadd(v258, _m_pfmul(v392, v255))));
        v262 = *(__m64 *)(a1 + 48);
        v263 = _m_pfadd(_m_pfmul(v259, v404), v260);
        v264 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v261;
        *(_QWORD *)(a1 + 40) = v263;
        v265 = _m_punpckhdq(v260, v262);
        v266 = _m_punpckhdq(v263, v264);
        v267 = _m_punpckldq(v262, v262);
        v268 = _m_punpckldq(v264, v264);
        v269 = _m_punpckhdq(v265, v265);
        v270 = _m_punpckhdq(v266, v266);
        *(_QWORD *)(a1 + 48) = _m_pfadd(
                                 _m_pfmul(0i64, v270),
                                 _m_pfadd(_m_pfmul(v400, v268), _m_pfadd(_m_pfmul(v396, v269), _m_pfmul(v392, v267))));
        *(_QWORD *)(a1 + 56) = _m_pfadd(
                                 _m_pfmul(v270, v404),
                                 _m_pfadd(_m_pfadd(_m_pfmul(v269, v398), _m_pfmul(v267, v394)), _m_pfmul(v268, v402)));
      }
    }
    else
    {
      v271 = qword_10073BC0;
      v272 = _mm_cvtsi32_si64(*(_DWORD *)(a4 + 8));
      v273 = _m_punpckhdq(0i64, *(__m64 *)a4);
      *(_QWORD *)a1 = _m_punpckldq(*(__m64 *)a4, 0i64);
      *(_QWORD *)(a1 + 8) = 0i64;
      *(_QWORD *)(a1 + 16) = v273;
      *(_QWORD *)(a1 + 24) = 0i64;
      *(_QWORD *)(a1 + 32) = 0i64;
      *(_QWORD *)(a1 + 40) = v272;
      *(_QWORD *)(a1 + 48) = 0i64;
      *(_QWORD *)(a1 + 56) = v271;
    }
  }
  else
  {
    v274 = _mm_cvtsi32_si64(qword_10073BD0);
    v275 = _m_punpckldq(_m_punpckhdq(v274, v274), v274);
    *(_QWORD *)a1 = v274;
    *(_QWORD *)(a1 + 8) = 0i64;
    *(_QWORD *)(a1 + 16) = v275;
    *(_QWORD *)(a1 + 24) = 0i64;
    *(_QWORD *)(a1 + 32) = 0i64;
    *(_QWORD *)(a1 + 40) = v274;
    *(_QWORD *)(a1 + 48) = 0i64;
    *(_QWORD *)(a1 + 56) = v275;
  }
  if ( a6 )
  {
    v276 = *(__m64 *)a6;
    v277 = v276;
    v278 = _m_pfadd(v276, v276);
    v279 = _m_punpckhdq(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8));
    v280 = _m_pfmul(*(__m64 *)a6, v278);
    v281 = _m_pfmul(v278, v279);
    v282 = _m_punpckldq(_m_pfadd(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8)), v278);
    v283 = _m_pfmul(_m_punpckldq(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8)), v282);
    v284 = _m_pfmul(v282, _m_punpckhdq(v277, v277));
    v285 = _m_pfmul(v282, v279);
    v286 = v284;
    v287 = _m_punpckhdq(v284, v283);
    v288 = v287;
    v289 = _m_punpckhdq(_m_punpckldq(v285, v285), v281);
    v290 = _m_pfsubr(_m_pfadd(_m_punpckldq(v283, v283), v280), (__m64)qword_10073BE0);
    v291 = _m_pfadd(v287, v289);
    v403 = _m_punpckldq(_m_pfsubr(_m_pfacc(v280, v280), (__m64)qword_10073BE0), 0i64);
    v292 = v286;
    v293 = _m_pfadd(v286, v281);
    v294 = _m_pfsub(v292, v281);
    v295 = _m_pfsub(v288, v289);
    v296 = _m_punpckldq(v293, 0i64);
    v399 = v296;
    v395 = _m_punpckhdq(v295, 0i64);
    v397 = _m_punpckldq(v295, v290);
    v393 = _m_punpckhdq(v290, _m_punpckldq(v291, v291));
    v401 = _m_punpckldq(_m_punpckhdq(v291, v291), v294);
    v405 = _m_punpckldq(0i64, (__m64)qword_10073BE0);
    if ( a5 )
    {
      v297 = *(__m64 *)a5;
      v298 = _mm_cvtsi32_si64(*(_DWORD *)(a5 + 8));
      v299 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), v298);
      *(_QWORD *)(result + 48) = _m_pfsub(*(__m64 *)(result + 48), *(__m64 *)a5);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v299);
      v300 = *(__m64 *)(result + 8);
      v301 = _m_punpckhdq(v297, *(__m64 *)result);
      v302 = _m_punpckhdq(v298, v300);
      v303 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v304 = _m_punpckldq(v300, v300);
      v305 = _m_punpckhdq(v301, v301);
      v306 = _m_pfmul(v397, v305);
      v307 = _m_punpckhdq(v302, v302);
      v308 = _m_pfadd(_m_pfadd(_m_pfmul(v305, v399), _m_pfmul(v303, v395)), _m_pfmul(v304, v403));
      v309 = _m_pfadd(_m_pfmul(0i64, v307), _m_pfadd(_m_pfmul(v401, v304), _m_pfadd(v306, _m_pfmul(v393, v303))));
      v310 = *(__m64 *)(result + 16);
      v311 = _m_pfadd(_m_pfmul(v307, v405), v308);
      v312 = *(__m64 *)(result + 24);
      *(_QWORD *)result = v309;
      *(_QWORD *)(result + 8) = v311;
      v313 = _m_punpckhdq(v308, v310);
      v314 = _m_punpckhdq(v311, v312);
      v315 = _m_punpckldq(v310, v310);
      v316 = _m_punpckldq(v312, v312);
      v317 = _m_punpckhdq(v313, v313);
      v318 = _m_pfmul(v397, v317);
      v319 = _m_punpckhdq(v314, v314);
      v320 = _m_pfadd(_m_pfadd(_m_pfmul(v317, v399), _m_pfmul(v315, v395)), _m_pfmul(v316, v403));
      v321 = _m_pfadd(_m_pfmul(0i64, v319), _m_pfadd(_m_pfmul(v401, v316), _m_pfadd(v318, _m_pfmul(v393, v315))));
      v322 = *(__m64 *)(result + 32);
      v323 = _m_pfadd(_m_pfmul(v319, v405), v320);
      v324 = *(__m64 *)(result + 40);
      *(_QWORD *)(result + 16) = v321;
      *(_QWORD *)(result + 24) = v323;
      v325 = _m_punpckhdq(v320, v322);
      v326 = _m_punpckhdq(v323, v324);
      v327 = _m_punpckldq(v322, v322);
      v328 = _m_punpckldq(v324, v324);
      v329 = _m_punpckhdq(v325, v325);
      v330 = _m_pfmul(v397, v329);
      v331 = _m_punpckhdq(v326, v326);
      v332 = _m_pfadd(_m_pfadd(_m_pfmul(v329, v399), _m_pfmul(v327, v395)), _m_pfmul(v328, v403));
      v333 = _m_pfadd(_m_pfmul(0i64, v331), _m_pfadd(_m_pfmul(v401, v328), _m_pfadd(v330, _m_pfmul(v393, v327))));
      v334 = *(__m64 *)(result + 48);
      v335 = _m_pfadd(_m_pfmul(v331, v405), v332);
      v336 = *(__m64 *)(result + 56);
      *(_QWORD *)(result + 32) = v333;
      *(_QWORD *)(result + 40) = v335;
      v337 = _m_punpckhdq(v332, v334);
      v338 = _m_punpckhdq(v335, v336);
      v339 = _m_punpckldq(v334, v334);
      v340 = _m_punpckldq(v336, v336);
      v341 = _m_punpckhdq(v337, v337);
      v342 = _m_punpckhdq(v338, v338);
      *(_QWORD *)(result + 48) = _m_pfadd(
                                   _m_pfmul(0i64, v342),
                                   _m_pfadd(_m_pfmul(v401, v340), _m_pfadd(_m_pfmul(v397, v341), _m_pfmul(v393, v339))));
      *(_QWORD *)(result + 56) = _m_pfadd(
                                   _m_pfmul(v342, v405),
                                   _m_pfadd(_m_pfadd(_m_pfmul(v341, v399), _m_pfmul(v339, v395)), _m_pfmul(v340, v403)));
      v343 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(*(_DWORD *)(a5 + 8)));
      *(_QWORD *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), *(__m64 *)a5);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v343);
    }
    else
    {
      v344 = *(__m64 *)(result + 8);
      v345 = _m_punpckhdq(v296, *(__m64 *)result);
      v346 = _m_punpckhdq(v294, v344);
      v347 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v348 = _m_punpckldq(v344, v344);
      v349 = _m_punpckhdq(v345, v345);
      v350 = _m_pfmul(v397, v349);
      v351 = _m_punpckhdq(v346, v346);
      v352 = _m_pfadd(_m_pfadd(_m_pfmul(v349, v399), _m_pfmul(v347, v395)), _m_pfmul(v348, v403));
      v353 = _m_pfadd(_m_pfmul(0i64, v351), _m_pfadd(_m_pfmul(v401, v348), _m_pfadd(v350, _m_pfmul(v393, v347))));
      v354 = *(__m64 *)(result + 16);
      v355 = _m_pfadd(_m_pfmul(v351, v405), v352);
      v356 = *(__m64 *)(result + 24);
      *(_QWORD *)result = v353;
      *(_QWORD *)(result + 8) = v355;
      v357 = _m_punpckhdq(v352, v354);
      v358 = _m_punpckhdq(v355, v356);
      v359 = _m_punpckldq(v354, v354);
      v360 = _m_punpckldq(v356, v356);
      v361 = _m_punpckhdq(v357, v357);
      v362 = _m_pfmul(v397, v361);
      v363 = _m_punpckhdq(v358, v358);
      v364 = _m_pfadd(_m_pfadd(_m_pfmul(v361, v399), _m_pfmul(v359, v395)), _m_pfmul(v360, v403));
      v365 = _m_pfadd(_m_pfmul(0i64, v363), _m_pfadd(_m_pfmul(v401, v360), _m_pfadd(v362, _m_pfmul(v393, v359))));
      v366 = *(__m64 *)(result + 32);
      v367 = _m_pfadd(_m_pfmul(v363, v405), v364);
      v368 = *(__m64 *)(result + 40);
      *(_QWORD *)(result + 16) = v365;
      *(_QWORD *)(result + 24) = v367;
      v369 = _m_punpckhdq(v364, v366);
      v370 = _m_punpckhdq(v367, v368);
      v371 = _m_punpckldq(v366, v366);
      v372 = _m_punpckldq(v368, v368);
      v373 = _m_punpckhdq(v369, v369);
      v374 = _m_pfmul(v397, v373);
      v375 = _m_punpckhdq(v370, v370);
      v376 = _m_pfadd(_m_pfadd(_m_pfmul(v373, v399), _m_pfmul(v371, v395)), _m_pfmul(v372, v403));
      v377 = _m_pfadd(_m_pfmul(0i64, v375), _m_pfadd(_m_pfmul(v401, v372), _m_pfadd(v374, _m_pfmul(v393, v371))));
      v378 = *(__m64 *)(result + 48);
      v379 = _m_pfadd(_m_pfmul(v375, v405), v376);
      v380 = *(__m64 *)(result + 56);
      *(_QWORD *)(result + 32) = v377;
      *(_QWORD *)(result + 40) = v379;
      v381 = _m_punpckhdq(v376, v378);
      v382 = _m_punpckhdq(v379, v380);
      v383 = _m_punpckldq(v378, v378);
      v384 = _m_punpckldq(v380, v380);
      v385 = _m_punpckhdq(v381, v381);
      v386 = _m_punpckhdq(v382, v382);
      *(_QWORD *)(result + 48) = _m_pfadd(
                                   _m_pfmul(0i64, v386),
                                   _m_pfadd(_m_pfmul(v401, v384), _m_pfadd(_m_pfmul(v397, v385), _m_pfmul(v393, v383))));
      *(_QWORD *)(result + 56) = _m_pfadd(
                                   _m_pfmul(v386, v405),
                                   _m_pfadd(_m_pfadd(_m_pfmul(v385, v399), _m_pfmul(v383, v395)), _m_pfmul(v384, v403)));
    }
  }
  if ( a7 )
  {
    v387 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(*(_DWORD *)(a7 + 8)));
    *(_QWORD *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), *(__m64 *)a7);
    *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v387);
  }
  _m_femms();
  return result;
}
// 10073BC0: using guessed type __int64 qword_10073BC0;
// 10073BD0: using guessed type __int64 qword_10073BD0;
// 10073BE0: using guessed type __int64 qword_10073BE0;

//----- (10046A5C) --------------------------------------------------------
int __userpurge sub_10046A5C<eax>(int a1<ebp>, int a2, __int64 a3, __int64 a4)
{
  __m64 v4; // mm0@1
  __m64 v5; // ST18_8@1
  __m64 v6; // ST08_8@1
  __m64 v7; // mm0@1
  __m64 v8; // ST10_8@1
  __m64 v9; // mm0@1
  __m64 v10; // mm6@1
  __m64 v11; // mm2@1
  __m64 v12; // mm6@1
  __m64 v13; // mm7@1
  __m64 v14; // mm3@1
  int result; // eax@1
  __m64 v16; // mm3@1
  __m64 v17; // mm0@1
  __m64 v18; // mm7@1
  __m64 v19; // mm2@1
  __m64 v20; // mm4@1
  __m64 v21; // mm3@1
  __m64 v22; // mm5@1
  __m64 v23; // mm6@1
  __m64 v24; // mm7@1
  __m64 v25; // mm1@1
  __m64 v26; // mm6@1
  __m64 v27; // mm2@1
  __m64 v28; // mm1@1
  __m64 v29; // mm4@1
  __m64 v30; // mm6@1
  __m64 v31; // mm7@1
  __m64 v32; // mm1@1
  __m64 v33; // mm3@1
  __m64 v34; // mm2@1
  __m64 v35; // mm3@1
  __m64 v36; // mm5@1
  __m64 v37; // mm0@1
  __m64 v38; // [sp+20h] [bp-10h]@0
  __m64 v39; // [sp+28h] [bp-8h]@0

  v4 = _m_pfmul((__m64)qword_10073C70, *(__m64 *)(a1 + 20));
  v5 = _m_pfmul((__m64)qword_10073C70, *(__m64 *)(a1 + 12));
  sub_10057EE0(v4);
  v6 = v4;
  v7 = _m_punpckhdq(v5, v5);
  sub_10057EE0(v7);
  v8 = v7;
  v9 = v5;
  sub_10057EE0(v5);
  v10 = v8;
  v11 = _m_punpckldq(v10, v10);
  v12 = _m_punpckhdq(v10, v10);
  v13 = _m_punpckldq(_m_punpckhdq(v6, v6), v6);
  v14 = _m_pfadd(
          _m_pfmul(_m_pfmul(_m_punpckldq(v9, v9), v11), v13),
          _m_pfmul(_m_pfmul(_m_pxor(_m_punpckhdq(v9, v9), _m_psrlq((__m64)qword_10073C00, 0x20u)), v12), v6));
  *(_QWORD *)(a1 - 16) = _m_pfadd(
                           _m_pfmul(_m_pfmul(_m_pxor(_m_punpckldq(v9, v9), (__m64)qword_10073C00), v12), v6),
                           _m_pfmul(_m_pfmul(_m_punpckhdq(v9, v9), v11), v13));
  *(_QWORD *)(a1 - 8) = v14;
  result = *(_DWORD *)(a1 + 8);
  v16 = v38;
  v17 = _m_pfadd(v16, v16);
  v18 = v39;
  v19 = _m_punpckhdq(v16, v16);
  v20 = _m_punpckhdq(v18, v18);
  v21 = _m_pfmul(v38, v17);
  v22 = _m_pfmul(v17, v20);
  v23 = _m_punpckldq(_m_pfadd(v18, v18), v17);
  v24 = _m_pfmul(_m_punpckldq(v18, v18), v23);
  v25 = _m_pfmul(v23, v19);
  v26 = _m_pfmul(v23, v20);
  v27 = v25;
  v28 = _m_punpckhdq(v25, v24);
  *(_QWORD *)(result + 48) = 0i64;
  v29 = v28;
  v30 = _m_punpckhdq(_m_punpckldq(v26, v26), v22);
  v31 = _m_pfsubr(_m_pfadd(_m_punpckldq(v24, v24), v21), (__m64)qword_10073BE0);
  v32 = _m_pfadd(v28, v30);
  *(_QWORD *)(result + 40) = _m_punpckldq(_m_pfsubr(_m_pfacc(v21, v21), (__m64)qword_10073BE0), 0i64);
  v33 = v27;
  v34 = _m_pfadd(v27, v22);
  v35 = _m_pfsub(v33, v22);
  v36 = _m_pfsub(v29, v30);
  *(_QWORD *)(result + 24) = _m_punpckldq(v34, 0i64);
  v37 = _m_punpckldq(0i64, (__m64)qword_10073BE0);
  *(_QWORD *)(result + 8) = _m_punpckhdq(v36, 0i64);
  *(_QWORD *)(result + 16) = _m_punpckldq(v36, v31);
  *(_QWORD *)result = _m_punpckhdq(v31, _m_punpckldq(v32, v32));
  *(_QWORD *)(result + 32) = _m_punpckldq(_m_punpckhdq(v32, v32), v35);
  *(_QWORD *)(result + 56) = v37;
  _m_femms();
  return result;
}
// 10073BE0: using guessed type __int64 qword_10073BE0;
// 10073C00: using guessed type __int64 qword_10073C00;
// 10073C70: using guessed type __int64 qword_10073C70;

//----- (10046C01) --------------------------------------------------------
int __stdcall sub_10046C01(int a1, unsigned int a2, int a3, int a4, int a5)
{
  int result; // eax@1
  __m64 v6; // mm6@1
  __int64 v7; // mm5@1
  __m64 v8; // mm0@2
  __m64 v9; // mm2@2
  __m64 v10; // mm0@2
  __m64 v11; // mm4@2
  __m64 v12; // mm3@2
  __m64 v13; // mm5@2
  __m64 v14; // mm6@2
  __m64 v15; // mm7@2
  __m64 v16; // mm1@2
  __m64 v17; // mm6@2
  __m64 v18; // mm2@2
  __m64 v19; // mm1@2
  __m64 v20; // mm4@2
  __m64 v21; // mm6@2
  __m64 v22; // mm7@2
  __m64 v23; // mm1@2
  __m64 v24; // mm3@2
  __m64 v25; // mm2@2
  __m64 v26; // mm3@2
  __m64 v27; // mm5@2
  __m64 v28; // mm2@2
  __m64 v29; // mm2@3
  __m64 v30; // mm3@3
  __m64 v31; // mm1@3
  __m64 v32; // mm1@3
  __m64 v33; // mm2@3
  __m64 v34; // mm3@3
  __m64 v35; // mm0@3
  __m64 v36; // mm1@3
  __m64 v37; // mm2@3
  __m64 v38; // mm5@3
  __m64 v39; // mm3@3
  __m64 v40; // mm2@3
  __m64 v41; // mm7@3
  __m64 v42; // mm0@3
  __m64 v43; // mm3@3
  __m64 v44; // mm1@3
  __m64 v45; // mm2@3
  __m64 v46; // mm3@3
  __m64 v47; // mm0@3
  __m64 v48; // mm1@3
  __m64 v49; // mm2@3
  __m64 v50; // mm5@3
  __m64 v51; // mm3@3
  __m64 v52; // mm2@3
  __m64 v53; // mm7@3
  __m64 v54; // mm0@3
  __m64 v55; // mm3@3
  __m64 v56; // mm1@3
  __m64 v57; // mm2@3
  __m64 v58; // mm3@3
  __m64 v59; // mm0@3
  __m64 v60; // mm1@3
  __m64 v61; // mm2@3
  __m64 v62; // mm5@3
  __m64 v63; // mm3@3
  __m64 v64; // mm2@3
  __m64 v65; // mm7@3
  __m64 v66; // mm0@3
  __m64 v67; // mm3@3
  __m64 v68; // mm1@3
  __m64 v69; // mm2@3
  __m64 v70; // mm3@3
  __m64 v71; // mm0@3
  __m64 v72; // mm1@3
  __m64 v73; // mm2@3
  __m64 v74; // mm3@3
  __m64 v75; // mm1@3
  __m64 v76; // mm1@4
  __m64 v77; // mm2@4
  __m64 v78; // mm3@4
  __m64 v79; // mm0@4
  __m64 v80; // mm1@4
  __m64 v81; // mm2@4
  __m64 v82; // mm5@4
  __m64 v83; // mm3@4
  __m64 v84; // mm2@4
  __m64 v85; // mm7@4
  __m64 v86; // mm0@4
  __m64 v87; // mm3@4
  __m64 v88; // mm1@4
  __m64 v89; // mm2@4
  __m64 v90; // mm3@4
  __m64 v91; // mm0@4
  __m64 v92; // mm1@4
  __m64 v93; // mm2@4
  __m64 v94; // mm5@4
  __m64 v95; // mm3@4
  __m64 v96; // mm2@4
  __m64 v97; // mm7@4
  __m64 v98; // mm0@4
  __m64 v99; // mm3@4
  __m64 v100; // mm1@4
  __m64 v101; // mm2@4
  __m64 v102; // mm3@4
  __m64 v103; // mm0@4
  __m64 v104; // mm1@4
  __m64 v105; // mm2@4
  __m64 v106; // mm5@4
  __m64 v107; // mm3@4
  __m64 v108; // mm2@4
  __m64 v109; // mm7@4
  __m64 v110; // mm0@4
  __m64 v111; // mm3@4
  __m64 v112; // mm1@4
  __m64 v113; // mm2@4
  __m64 v114; // mm3@4
  __m64 v115; // mm0@4
  __m64 v116; // mm1@4
  __m64 v117; // mm2@4
  __m64 v118; // mm3@4
  __m64 v119; // mm1@6
  __m64 v120; // [sp+0h] [bp-40h]@2
  __m64 v121; // [sp+8h] [bp-38h]@2
  __m64 v122; // [sp+10h] [bp-30h]@2
  __m64 v123; // [sp+18h] [bp-28h]@2
  __m64 v124; // [sp+20h] [bp-20h]@2
  __m64 v125; // [sp+28h] [bp-18h]@2
  __m64 v126; // [sp+38h] [bp-8h]@2

  result = a1;
  v6 = _mm_cvtsi32_si64(a2);
  v7 = qword_10073BC0;
  *(_QWORD *)a1 = v6;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_DWORD *)(a1 + 16) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 20) = _mm_cvtsi64_si32(v6);
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 40) = v6;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = v7;
  if ( a4 )
  {
    v8 = *(__m64 *)a4;
    v9 = v8;
    v10 = _m_pfadd(v8, v8);
    v11 = _m_punpckhdq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8));
    v12 = _m_pfmul(*(__m64 *)a4, v10);
    v13 = _m_pfmul(v10, v11);
    v14 = _m_punpckldq(_m_pfadd(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), v10);
    v15 = _m_pfmul(_m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), v14);
    v16 = _m_pfmul(v14, _m_punpckhdq(v9, v9));
    v17 = _m_pfmul(v14, v11);
    v18 = v16;
    v19 = _m_punpckhdq(v16, v15);
    v20 = v19;
    v21 = _m_punpckhdq(_m_punpckldq(v17, v17), v13);
    v22 = _m_pfsubr(_m_pfadd(_m_punpckldq(v15, v15), v12), (__m64)qword_10073BE0);
    v23 = _m_pfadd(v19, v21);
    v125 = _m_punpckldq(_m_pfsubr(_m_pfacc(v12, v12), (__m64)qword_10073BE0), 0i64);
    v24 = v18;
    v25 = _m_pfadd(v18, v13);
    v26 = _m_pfsub(v24, v13);
    v27 = _m_pfsub(v20, v21);
    v28 = _m_punpckldq(v25, 0i64);
    v123 = v28;
    v121 = _m_punpckhdq(v27, 0i64);
    v122 = _m_punpckldq(v27, v22);
    v120 = _m_punpckhdq(v22, _m_punpckldq(v23, v23));
    v124 = _m_punpckldq(_m_punpckhdq(v23, v23), v26);
    v126 = _m_punpckldq(0i64, (__m64)qword_10073BE0);
    if ( a3 )
    {
      v29 = *(__m64 *)a3;
      v30 = _mm_cvtsi32_si64(*(_DWORD *)(a3 + 8));
      v31 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)), v30);
      *(_QWORD *)(a1 + 48) = _m_pfsub(*(__m64 *)(a1 + 48), *(__m64 *)a3);
      *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v31);
      v32 = *(__m64 *)(a1 + 8);
      v33 = _m_punpckhdq(v29, *(__m64 *)a1);
      v34 = _m_punpckhdq(v30, v32);
      v35 = _m_punpckldq(*(__m64 *)a1, *(__m64 *)a1);
      v36 = _m_punpckldq(v32, v32);
      v37 = _m_punpckhdq(v33, v33);
      v38 = _m_pfmul(v122, v37);
      v39 = _m_punpckhdq(v34, v34);
      v40 = _m_pfadd(_m_pfadd(_m_pfmul(v37, v123), _m_pfmul(v35, v121)), _m_pfmul(v36, v125));
      v41 = _m_pfadd(_m_pfmul(0i64, v39), _m_pfadd(_m_pfmul(v124, v36), _m_pfadd(v38, _m_pfmul(v120, v35))));
      v42 = *(__m64 *)(a1 + 16);
      v43 = _m_pfadd(_m_pfmul(v39, v126), v40);
      v44 = *(__m64 *)(a1 + 24);
      *(_QWORD *)a1 = v41;
      *(_QWORD *)(a1 + 8) = v43;
      v45 = _m_punpckhdq(v40, v42);
      v46 = _m_punpckhdq(v43, v44);
      v47 = _m_punpckldq(v42, v42);
      v48 = _m_punpckldq(v44, v44);
      v49 = _m_punpckhdq(v45, v45);
      v50 = _m_pfmul(v122, v49);
      v51 = _m_punpckhdq(v46, v46);
      v52 = _m_pfadd(_m_pfadd(_m_pfmul(v49, v123), _m_pfmul(v47, v121)), _m_pfmul(v48, v125));
      v53 = _m_pfadd(_m_pfmul(0i64, v51), _m_pfadd(_m_pfmul(v124, v48), _m_pfadd(v50, _m_pfmul(v120, v47))));
      v54 = *(__m64 *)(a1 + 32);
      v55 = _m_pfadd(_m_pfmul(v51, v126), v52);
      v56 = *(__m64 *)(a1 + 40);
      *(_QWORD *)(a1 + 16) = v53;
      *(_QWORD *)(a1 + 24) = v55;
      v57 = _m_punpckhdq(v52, v54);
      v58 = _m_punpckhdq(v55, v56);
      v59 = _m_punpckldq(v54, v54);
      v60 = _m_punpckldq(v56, v56);
      v61 = _m_punpckhdq(v57, v57);
      v62 = _m_pfmul(v122, v61);
      v63 = _m_punpckhdq(v58, v58);
      v64 = _m_pfadd(_m_pfadd(_m_pfmul(v61, v123), _m_pfmul(v59, v121)), _m_pfmul(v60, v125));
      v65 = _m_pfadd(_m_pfmul(0i64, v63), _m_pfadd(_m_pfmul(v124, v60), _m_pfadd(v62, _m_pfmul(v120, v59))));
      v66 = *(__m64 *)(a1 + 48);
      v67 = _m_pfadd(_m_pfmul(v63, v126), v64);
      v68 = *(__m64 *)(a1 + 56);
      *(_QWORD *)(a1 + 32) = v65;
      *(_QWORD *)(a1 + 40) = v67;
      v69 = _m_punpckhdq(v64, v66);
      v70 = _m_punpckhdq(v67, v68);
      v71 = _m_punpckldq(v66, v66);
      v72 = _m_punpckldq(v68, v68);
      v73 = _m_punpckhdq(v69, v69);
      v74 = _m_punpckhdq(v70, v70);
      *(_QWORD *)(a1 + 48) = _m_pfadd(
                               _m_pfmul(0i64, v74),
                               _m_pfadd(_m_pfmul(v124, v72), _m_pfadd(_m_pfmul(v122, v73), _m_pfmul(v120, v71))));
      *(_QWORD *)(a1 + 56) = _m_pfadd(
                               _m_pfmul(v74, v126),
                               _m_pfadd(_m_pfadd(_m_pfmul(v73, v123), _m_pfmul(v71, v121)), _m_pfmul(v72, v125)));
      v75 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)), _mm_cvtsi32_si64(*(_DWORD *)(a3 + 8)));
      *(_QWORD *)(a1 + 48) = _m_pfadd(*(__m64 *)(a1 + 48), *(__m64 *)a3);
      *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v75);
    }
    else
    {
      v76 = *(__m64 *)(a1 + 8);
      v77 = _m_punpckhdq(v28, *(__m64 *)a1);
      v78 = _m_punpckhdq(v26, v76);
      v79 = _m_punpckldq(*(__m64 *)a1, *(__m64 *)a1);
      v80 = _m_punpckldq(v76, v76);
      v81 = _m_punpckhdq(v77, v77);
      v82 = _m_pfmul(v122, v81);
      v83 = _m_punpckhdq(v78, v78);
      v84 = _m_pfadd(_m_pfadd(_m_pfmul(v81, v123), _m_pfmul(v79, v121)), _m_pfmul(v80, v125));
      v85 = _m_pfadd(_m_pfmul(0i64, v83), _m_pfadd(_m_pfmul(v124, v80), _m_pfadd(v82, _m_pfmul(v120, v79))));
      v86 = *(__m64 *)(a1 + 16);
      v87 = _m_pfadd(_m_pfmul(v83, v126), v84);
      v88 = *(__m64 *)(a1 + 24);
      *(_QWORD *)a1 = v85;
      *(_QWORD *)(a1 + 8) = v87;
      v89 = _m_punpckhdq(v84, v86);
      v90 = _m_punpckhdq(v87, v88);
      v91 = _m_punpckldq(v86, v86);
      v92 = _m_punpckldq(v88, v88);
      v93 = _m_punpckhdq(v89, v89);
      v94 = _m_pfmul(v122, v93);
      v95 = _m_punpckhdq(v90, v90);
      v96 = _m_pfadd(_m_pfadd(_m_pfmul(v93, v123), _m_pfmul(v91, v121)), _m_pfmul(v92, v125));
      v97 = _m_pfadd(_m_pfmul(0i64, v95), _m_pfadd(_m_pfmul(v124, v92), _m_pfadd(v94, _m_pfmul(v120, v91))));
      v98 = *(__m64 *)(a1 + 32);
      v99 = _m_pfadd(_m_pfmul(v95, v126), v96);
      v100 = *(__m64 *)(a1 + 40);
      *(_QWORD *)(a1 + 16) = v97;
      *(_QWORD *)(a1 + 24) = v99;
      v101 = _m_punpckhdq(v96, v98);
      v102 = _m_punpckhdq(v99, v100);
      v103 = _m_punpckldq(v98, v98);
      v104 = _m_punpckldq(v100, v100);
      v105 = _m_punpckhdq(v101, v101);
      v106 = _m_pfmul(v122, v105);
      v107 = _m_punpckhdq(v102, v102);
      v108 = _m_pfadd(_m_pfadd(_m_pfmul(v105, v123), _m_pfmul(v103, v121)), _m_pfmul(v104, v125));
      v109 = _m_pfadd(_m_pfmul(0i64, v107), _m_pfadd(_m_pfmul(v124, v104), _m_pfadd(v106, _m_pfmul(v120, v103))));
      v110 = *(__m64 *)(a1 + 48);
      v111 = _m_pfadd(_m_pfmul(v107, v126), v108);
      v112 = *(__m64 *)(a1 + 56);
      *(_QWORD *)(a1 + 32) = v109;
      *(_QWORD *)(a1 + 40) = v111;
      v113 = _m_punpckhdq(v108, v110);
      v114 = _m_punpckhdq(v111, v112);
      v115 = _m_punpckldq(v110, v110);
      v116 = _m_punpckldq(v112, v112);
      v117 = _m_punpckhdq(v113, v113);
      v118 = _m_punpckhdq(v114, v114);
      *(_QWORD *)(a1 + 48) = _m_pfadd(
                               _m_pfmul(0i64, v118),
                               _m_pfadd(_m_pfmul(v124, v116), _m_pfadd(_m_pfmul(v122, v117), _m_pfmul(v120, v115))));
      *(_QWORD *)(a1 + 56) = _m_pfadd(
                               _m_pfmul(v118, v126),
                               _m_pfadd(_m_pfadd(_m_pfmul(v117, v123), _m_pfmul(v115, v121)), _m_pfmul(v116, v125)));
    }
  }
  if ( a5 )
  {
    v119 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(a5 + 8)), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
    *(_QWORD *)(a1 + 48) = _m_pfadd(*(__m64 *)a5, *(__m64 *)(a1 + 48));
    *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v119);
  }
  _m_femms();
  return result;
}
// 10073BC0: using guessed type __int64 qword_10073BC0;
// 10073BE0: using guessed type __int64 qword_10073BE0;

//----- (10047135) --------------------------------------------------------
int __stdcall sub_10047135(int a1, int a2, unsigned int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm0@1
  __m64 v5; // mm7@1
  __m64 v6; // mm1@1
  __m64 v7; // mm0@1
  __m64 v8; // mm7@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm1@1
  __m64 v12; // mm2@1
  int result; // eax@1
  __m64 v14; // mm3@1
  __m64 v15; // mm4@1
  __m64 v16; // mm5@1
  __m64 v17; // mm1@1
  __m64 v18; // mm1@1
  __m64 v19; // mm6@1
  __m64 v20; // mm7@1
  __m64 v21; // mm1@1
  __m64 v22; // mm6@1
  __m64 v23; // mm2@1
  __m64 v24; // mm1@1
  __m64 v25; // mm0@1
  __m64 v26; // [sp+0h] [bp-18h]@1
  unsigned int v27; // [sp+8h] [bp-10h]@1
  unsigned int v28; // [sp+Ch] [bp-Ch]@1

  v3 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8));
  v26 = *(__m64 *)a2;
  v27 = _mm_cvtsi64_si32(v3);
  sub_10049282((int)&v26, (int)&v26);
  v4 = _mm_cvtsi32_si64(a3);
  sub_10057EE0(v4);
  v5 = v4;
  v6 = v4;
  v7 = _m_pfsubr(v4, (__m64)qword_10073BE0);
  v28 = _mm_cvtsi64_si32(_m_punpckhdq(v5, v5));
  v8 = _mm_cvtsi32_si64(v27);
  v9 = _m_punpckldq(v8, v8);
  v10 = _m_punpckldq(v7, v7);
  v11 = _m_punpckldq(v6, v6);
  v12 = _m_pfmul(_m_pfmul(_m_punpckhdq(v26, v9), v26), v10);
  result = a1;
  v14 = _m_pfmul(_m_pfmul(v9, v26), v10);
  v15 = _m_pfadd(_m_pfmul(_m_pfmul(v26, v26), v10), v11);
  v16 = _m_pfadd(_m_pfmul(_m_pfmul(v8, v8), v10), v11);
  v17 = _mm_cvtsi32_si64(v28);
  v18 = _m_punpckldq(v17, v17);
  v19 = _m_pfmul(v26, v18);
  *(_QWORD *)(a1 + 48) = 0i64;
  v20 = _m_punpckldq(_m_pfmul(v8, v18), v19);
  v21 = v12;
  v22 = _m_punpckhdq(v19, v19);
  *(_QWORD *)(a1 + 40) = _m_punpckldq(v16, 0i64);
  v23 = _m_pfsub(v12, v20);
  v24 = _m_pfadd(v21, v20);
  *(_QWORD *)a1 = _m_punpckldq(v15, v24);
  *(_QWORD *)(a1 + 8) = _m_punpckldq(_m_pfsub(v14, v22), 0i64);
  v25 = _m_punpckhdq(0i64, (__m64)qword_10073BE0);
  *(_QWORD *)(a1 + 24) = _m_punpckhdq(v24, 0i64);
  *(_QWORD *)(a1 + 56) = v25;
  *(_QWORD *)(a1 + 32) = _m_punpckhdq(_m_pfadd(_m_punpckldq(v14, v14), v22), v23);
  *(_QWORD *)(a1 + 16) = _m_punpckldq(v23, _m_punpckhdq(v15, v15));
  _m_femms();
  return result;
}
// 10073BE0: using guessed type __int64 qword_10073BE0;

//----- (1004762C) --------------------------------------------------------
int __stdcall sub_1004762C(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int result; // eax@1
  __m64 v8; // mm0@3
  __m64 v9; // mm6@3
  __m64 v10; // mm0@3
  __m64 v11; // mm4@3
  __m64 v12; // mm1@3
  __m64 v13; // mm5@3
  __m64 v14; // mm0@3
  __m64 v15; // mm5@3
  __m64 v16; // mm2@3
  __m64 v17; // mm3@3
  __m64 v18; // mm1@3
  __m64 v19; // mm6@3
  __m64 v20; // mm4@3
  __m64 v21; // mm3@3
  __m64 v22; // mm6@3
  __m64 v23; // mm2@3
  __m64 v24; // mm0@3
  __m64 v25; // ST80_8@4
  __m64 v26; // ST90_8@4
  __m64 v27; // STA8_8@4
  __m64 v28; // STB8_8@4
  __m64 v29; // STA0_8@4
  __m64 v30; // STB0_8@4
  __m64 v31; // ST98_8@4
  __m64 v32; // ST88_8@4
  __m64 v33; // mm3@4
  __m64 v34; // mm4@4
  __m64 v35; // mm1@4
  __m64 v36; // mm2@4
  __m64 v37; // mm2@4
  __m64 v38; // mm1@4
  __m64 v39; // mm2@4
  __m64 v40; // mm3@4
  __m64 v41; // mm0@4
  __m64 v42; // mm1@4
  __m64 v43; // mm2@4
  __m64 v44; // mm5@4
  __m64 v45; // mm3@4
  __m64 v46; // mm2@4
  __m64 v47; // mm7@4
  __m64 v48; // mm0@4
  __m64 v49; // mm3@4
  __m64 v50; // mm1@4
  __m64 v51; // mm2@4
  __m64 v52; // mm3@4
  __m64 v53; // mm0@4
  __m64 v54; // mm1@4
  __m64 v55; // mm2@4
  __m64 v56; // mm5@4
  __m64 v57; // mm3@4
  __m64 v58; // mm2@4
  __m64 v59; // mm7@4
  __m64 v60; // mm0@4
  __m64 v61; // mm3@4
  __m64 v62; // mm1@4
  __m64 v63; // mm2@4
  __m64 v64; // mm3@4
  __m64 v65; // mm0@4
  __m64 v66; // mm1@4
  __m64 v67; // mm2@4
  __m64 v68; // mm5@4
  __m64 v69; // mm3@4
  __m64 v70; // mm2@4
  __m64 v71; // mm7@4
  __m64 v72; // mm0@4
  __m64 v73; // mm3@4
  __m64 v74; // mm1@4
  __m64 v75; // mm2@4
  __m64 v76; // mm3@4
  __m64 v77; // mm0@4
  __m64 v78; // mm1@4
  __m64 v79; // mm2@4
  __m64 v80; // mm5@4
  __m64 v81; // mm3@4
  __m64 v82; // mm7@4
  __m64 v83; // mm2@4
  __m64 v84; // mm3@4
  __m64 v85; // mm1@4
  __m64 v86; // mm2@4
  __m64 v87; // mm3@4
  __m64 v88; // mm0@4
  __m64 v89; // mm1@4
  __m64 v90; // mm2@4
  __m64 v91; // mm5@4
  __m64 v92; // mm3@4
  __m64 v93; // mm2@4
  __m64 v94; // mm7@4
  __m64 v95; // mm0@4
  __m64 v96; // mm3@4
  __m64 v97; // mm1@4
  __m64 v98; // mm2@4
  __m64 v99; // mm3@4
  __m64 v100; // mm0@4
  __m64 v101; // mm1@4
  __m64 v102; // mm2@4
  __m64 v103; // mm5@4
  __m64 v104; // mm3@4
  __m64 v105; // mm2@4
  __m64 v106; // mm7@4
  __m64 v107; // mm0@4
  __m64 v108; // mm3@4
  __m64 v109; // mm1@4
  __m64 v110; // mm2@4
  __m64 v111; // mm3@4
  __m64 v112; // mm0@4
  __m64 v113; // mm1@4
  __m64 v114; // mm2@4
  __m64 v115; // mm5@4
  __m64 v116; // mm3@4
  __m64 v117; // mm2@4
  __m64 v118; // mm7@4
  __m64 v119; // mm0@4
  __m64 v120; // mm3@4
  __m64 v121; // mm1@4
  __m64 v122; // mm2@4
  __m64 v123; // mm3@4
  __m64 v124; // mm0@4
  __m64 v125; // mm1@4
  __m64 v126; // mm2@4
  __m64 v127; // mm5@4
  __m64 v128; // mm3@4
  __m64 v129; // mm7@4
  __m64 v130; // mm2@4
  __m64 v131; // mm3@4
  __m64 v132; // mm1@4
  __m64 v133; // mm2@4
  __m64 v134; // mm3@4
  __m64 v135; // mm0@4
  __m64 v136; // mm1@4
  __m64 v137; // mm2@4
  __m64 v138; // mm5@4
  __m64 v139; // mm3@4
  __m64 v140; // mm2@4
  __m64 v141; // mm7@4
  __m64 v142; // mm0@4
  __m64 v143; // mm3@4
  __m64 v144; // mm1@4
  __m64 v145; // mm2@4
  __m64 v146; // mm3@4
  __m64 v147; // mm0@4
  __m64 v148; // mm1@4
  __m64 v149; // mm2@4
  __m64 v150; // mm5@4
  __m64 v151; // mm3@4
  __m64 v152; // mm2@4
  __m64 v153; // mm7@4
  __m64 v154; // mm0@4
  __m64 v155; // mm3@4
  __m64 v156; // mm1@4
  __m64 v157; // mm2@4
  __m64 v158; // mm3@4
  __m64 v159; // mm0@4
  __m64 v160; // mm1@4
  __m64 v161; // mm2@4
  __m64 v162; // mm5@4
  __m64 v163; // mm3@4
  __m64 v164; // mm2@4
  __m64 v165; // mm7@4
  __m64 v166; // mm0@4
  __m64 v167; // mm3@4
  __m64 v168; // mm1@4
  __m64 v169; // mm2@4
  __m64 v170; // mm3@4
  __m64 v171; // mm0@4
  __m64 v172; // mm1@4
  __m64 v173; // mm2@4
  __m64 v174; // mm3@4
  __m64 v175; // mm2@4
  __m64 v176; // mm3@5
  __m64 v177; // mm2@5
  __m64 v178; // mm1@5
  __m64 v179; // mm2@5
  __m64 v180; // mm3@5
  __m64 v181; // mm0@5
  __m64 v182; // mm1@5
  __m64 v183; // mm2@5
  __m64 v184; // mm5@5
  __m64 v185; // mm3@5
  __m64 v186; // mm2@5
  __m64 v187; // mm7@5
  __m64 v188; // mm0@5
  __m64 v189; // mm3@5
  __m64 v190; // mm1@5
  __m64 v191; // mm2@5
  __m64 v192; // mm3@5
  __m64 v193; // mm0@5
  __m64 v194; // mm1@5
  __m64 v195; // mm2@5
  __m64 v196; // mm5@5
  __m64 v197; // mm3@5
  __m64 v198; // mm2@5
  __m64 v199; // mm7@5
  __m64 v200; // mm0@5
  __m64 v201; // mm3@5
  __m64 v202; // mm1@5
  __m64 v203; // mm2@5
  __m64 v204; // mm3@5
  __m64 v205; // mm0@5
  __m64 v206; // mm1@5
  __m64 v207; // mm2@5
  __m64 v208; // mm5@5
  __m64 v209; // mm3@5
  __m64 v210; // mm2@5
  __m64 v211; // mm7@5
  __m64 v212; // mm0@5
  __m64 v213; // mm3@5
  __m64 v214; // mm1@5
  __m64 v215; // mm2@5
  __m64 v216; // mm3@5
  __m64 v217; // mm0@5
  __m64 v218; // mm1@5
  __m64 v219; // mm2@5
  __m64 v220; // mm5@5
  __m64 v221; // mm3@5
  __m64 v222; // mm7@5
  __m64 v223; // mm2@5
  __m64 v224; // mm3@5
  __m64 v225; // mm1@5
  __m64 v226; // mm2@5
  __m64 v227; // mm3@5
  __m64 v228; // mm0@5
  __m64 v229; // mm1@5
  __m64 v230; // mm2@5
  __m64 v231; // mm5@5
  __m64 v232; // mm3@5
  __m64 v233; // mm2@5
  __m64 v234; // mm7@5
  __m64 v235; // mm0@5
  __m64 v236; // mm3@5
  __m64 v237; // mm1@5
  __m64 v238; // mm2@5
  __m64 v239; // mm3@5
  __m64 v240; // mm0@5
  __m64 v241; // mm1@5
  __m64 v242; // mm2@5
  __m64 v243; // mm5@5
  __m64 v244; // mm3@5
  __m64 v245; // mm2@5
  __m64 v246; // mm7@5
  __m64 v247; // mm0@5
  __m64 v248; // mm3@5
  __m64 v249; // mm1@5
  __m64 v250; // mm2@5
  __m64 v251; // mm3@5
  __m64 v252; // mm0@5
  __m64 v253; // mm1@5
  __m64 v254; // mm2@5
  __m64 v255; // mm5@5
  __m64 v256; // mm3@5
  __m64 v257; // mm2@5
  __m64 v258; // mm7@5
  __m64 v259; // mm0@5
  __m64 v260; // mm3@5
  __m64 v261; // mm1@5
  __m64 v262; // mm2@5
  __m64 v263; // mm3@5
  __m64 v264; // mm0@5
  __m64 v265; // mm1@5
  __m64 v266; // mm2@5
  __m64 v267; // mm3@5
  __int64 v268; // mm1@6
  __m64 v269; // mm4@6
  __m64 v270; // mm5@6
  __m64 v271; // mm1@7
  __m64 v272; // mm2@7
  __m64 v273; // mm0@9
  __m64 v274; // mm6@9
  __m64 v275; // mm0@9
  __m64 v276; // mm4@9
  __m64 v277; // mm1@9
  __m64 v278; // mm5@9
  __m64 v279; // mm0@9
  __m64 v280; // mm5@9
  __m64 v281; // mm2@9
  __m64 v282; // mm3@9
  __m64 v283; // mm1@9
  __m64 v284; // mm6@9
  __m64 v285; // mm4@9
  __m64 v286; // mm3@9
  __m64 v287; // mm6@9
  __m64 v288; // mm2@9
  __m64 v289; // mm0@9
  __m64 v290; // mm5@9
  __m64 v291; // mm2@9
  __m64 v292; // mm3@9
  __m64 v293; // mm2@10
  __m64 v294; // mm3@10
  __m64 v295; // mm1@10
  __m64 v296; // mm1@10
  __m64 v297; // mm2@10
  __m64 v298; // mm3@10
  __m64 v299; // mm0@10
  __m64 v300; // mm1@10
  __m64 v301; // mm2@10
  __m64 v302; // mm5@10
  __m64 v303; // mm3@10
  __m64 v304; // mm2@10
  __m64 v305; // mm7@10
  __m64 v306; // mm0@10
  __m64 v307; // mm3@10
  __m64 v308; // mm1@10
  __m64 v309; // mm2@10
  __m64 v310; // mm3@10
  __m64 v311; // mm0@10
  __m64 v312; // mm1@10
  __m64 v313; // mm2@10
  __m64 v314; // mm5@10
  __m64 v315; // mm3@10
  __m64 v316; // mm2@10
  __m64 v317; // mm7@10
  __m64 v318; // mm0@10
  __m64 v319; // mm3@10
  __m64 v320; // mm1@10
  __m64 v321; // mm2@10
  __m64 v322; // mm3@10
  __m64 v323; // mm0@10
  __m64 v324; // mm1@10
  __m64 v325; // mm2@10
  __m64 v326; // mm5@10
  __m64 v327; // mm3@10
  __m64 v328; // mm2@10
  __m64 v329; // mm7@10
  __m64 v330; // mm0@10
  __m64 v331; // mm3@10
  __m64 v332; // mm1@10
  __m64 v333; // mm2@10
  __m64 v334; // mm3@10
  __m64 v335; // mm0@10
  __m64 v336; // mm1@10
  __m64 v337; // mm2@10
  __m64 v338; // mm3@10
  __m64 v339; // mm1@10
  __m64 v340; // mm1@11
  __m64 v341; // mm2@11
  __m64 v342; // mm3@11
  __m64 v343; // mm0@11
  __m64 v344; // mm1@11
  __m64 v345; // mm2@11
  __m64 v346; // mm5@11
  __m64 v347; // mm3@11
  __m64 v348; // mm2@11
  __m64 v349; // mm7@11
  __m64 v350; // mm0@11
  __m64 v351; // mm3@11
  __m64 v352; // mm1@11
  __m64 v353; // mm2@11
  __m64 v354; // mm3@11
  __m64 v355; // mm0@11
  __m64 v356; // mm1@11
  __m64 v357; // mm2@11
  __m64 v358; // mm5@11
  __m64 v359; // mm3@11
  __m64 v360; // mm2@11
  __m64 v361; // mm7@11
  __m64 v362; // mm0@11
  __m64 v363; // mm3@11
  __m64 v364; // mm1@11
  __m64 v365; // mm2@11
  __m64 v366; // mm3@11
  __m64 v367; // mm0@11
  __m64 v368; // mm1@11
  __m64 v369; // mm2@11
  __m64 v370; // mm5@11
  __m64 v371; // mm3@11
  __m64 v372; // mm2@11
  __m64 v373; // mm7@11
  __m64 v374; // mm0@11
  __m64 v375; // mm3@11
  __m64 v376; // mm1@11
  __m64 v377; // mm2@11
  __m64 v378; // mm3@11
  __m64 v379; // mm0@11
  __m64 v380; // mm1@11
  __m64 v381; // mm2@11
  __m64 v382; // mm3@11
  __m64 v383; // mm1@13
  __m64 v384; // [sp+0h] [bp-C0h]@3
  __m64 v385; // [sp+10h] [bp-B0h]@3
  __m64 v386; // [sp+28h] [bp-98h]@3
  __m64 v387; // [sp+38h] [bp-88h]@3
  __m64 v388; // [sp+40h] [bp-80h]@3
  __m64 v389; // [sp+40h] [bp-80h]@9
  __m64 v390; // [sp+48h] [bp-78h]@3
  __m64 v391; // [sp+48h] [bp-78h]@9
  __m64 v392; // [sp+50h] [bp-70h]@3
  __m64 v393; // [sp+50h] [bp-70h]@9
  __m64 v394; // [sp+58h] [bp-68h]@3
  __m64 v395; // [sp+58h] [bp-68h]@9
  __m64 v396; // [sp+60h] [bp-60h]@3
  __m64 v397; // [sp+60h] [bp-60h]@9
  __m64 v398; // [sp+68h] [bp-58h]@3
  __m64 v399; // [sp+68h] [bp-58h]@9
  __m64 v400; // [sp+78h] [bp-48h]@3
  __m64 v401; // [sp+78h] [bp-48h]@9

  result = a1;
  if ( a4 )
  {
    if ( a3 )
    {
      v384 = _m_punpckldq(*(__m64 *)a4, 0i64);
      v385 = _m_punpckhdq(0i64, *(__m64 *)a4);
      v386 = _mm_cvtsi32_si64(*(_DWORD *)(a4 + 8));
      v387 = (__m64)qword_10073BC0;
      v8 = *(__m64 *)a3;
      v9 = v8;
      v10 = _m_pfadd(v8, v8);
      v11 = *(__m64 *)(a3 + 8);
      v12 = _m_pfadd(v11, v11);
      v13 = v10;
      v14 = _m_pfmul(v10, *(__m64 *)a3);
      v15 = _m_punpckldq(v13, v12);
      v16 = _m_pfmul(*(__m64 *)a3, v12);
      v17 = _m_pfmul(_m_pswapd(*(__m64 *)a3), v12);
      v18 = _m_pfmul(v12, v11);
      v19 = _m_pfmul(_m_punpckhdq(v9, v11), v15);
      v20 = v14;
      v21 = _m_pfpnacc(v17, v17);
      v22 = _m_pfpnacc(v19, v19);
      v23 = _m_pfpnacc(v16, v16);
      v24 = _m_pfsub(_m_pfsubr(v14, (__m64)qword_10073BE0), _m_punpckldq(v18, v18));
      v396 = _m_punpckldq(_m_pswapd(v23), v21);
      v390 = _m_punpckldq(v23, 0i64);
      v398 = _m_punpckhdq(_m_pfsubr(_m_pfacc(v20, v20), (__m64)qword_10073BE0), 0i64);
      v388 = _m_punpckhdq(v24, v22);
      v392 = _m_punpckldq(v22, v24);
      v394 = _m_punpckhdq(v21, 0i64);
      v400 = _m_punpckldq(0i64, (__m64)qword_10073BE0);
      if ( a2 )
      {
        v25 = _m_punpckldq(v388, v392);
        v26 = _m_punpckhdq(v388, v392);
        v27 = _m_punpckldq(v398, v400);
        v28 = _m_punpckhdq(v398, v400);
        v29 = _m_punpckldq(v390, v394);
        v30 = _m_punpckhdq(v390, v394);
        v31 = _m_punpckhdq(v396, 0i64);
        v32 = _m_punpckldq(v396, 0i64);
        result = a1;
        v33 = *(__m64 *)a2;
        v34 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8));
        v35 = _mm_cvtsi32_si64(qword_10073BD0);
        v36 = _m_pswapd(v35);
        *(_QWORD *)a1 = v35;
        *(_QWORD *)(a1 + 8) = 0i64;
        *(_QWORD *)(a1 + 16) = v36;
        *(_QWORD *)(a1 + 24) = 0i64;
        *(_QWORD *)(a1 + 32) = 0i64;
        *(_QWORD *)(a1 + 40) = v35;
        v37 = _m_pfsub(v36, v34);
        *(_QWORD *)(a1 + 56) = v37;
        *(_QWORD *)(a1 + 48) = _m_pfsub(0i64, v33);
        v38 = *(__m64 *)(a1 + 8);
        v39 = _m_punpckhdq(v37, *(__m64 *)a1);
        v40 = _m_punpckhdq(v33, v38);
        v41 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v42 = _m_punpckldq(v38, v38);
        v43 = _m_punpckhdq(v39, v39);
        v44 = _m_pfmul(v26, v43);
        v45 = _m_punpckhdq(v40, v40);
        v46 = _m_pfadd(_m_pfadd(_m_pfmul(v43, v31), _m_pfmul(v41, v32)), _m_pfmul(v42, v27));
        v47 = _m_pfadd(_m_pfmul(v30, v45), _m_pfadd(_m_pfmul(v29, v42), _m_pfadd(v44, _m_pfmul(v25, v41))));
        v48 = *(__m64 *)(a1 + 16);
        v49 = _m_pfadd(_m_pfmul(v45, v28), v46);
        v50 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v47;
        *(_QWORD *)(a1 + 8) = v49;
        v51 = _m_punpckhdq(v46, v48);
        v52 = _m_punpckhdq(v49, v50);
        v53 = _m_punpckldq(v48, v48);
        v54 = _m_punpckldq(v50, v50);
        v55 = _m_punpckhdq(v51, v51);
        v56 = _m_pfmul(v26, v55);
        v57 = _m_punpckhdq(v52, v52);
        v58 = _m_pfadd(_m_pfadd(_m_pfmul(v55, v31), _m_pfmul(v53, v32)), _m_pfmul(v54, v27));
        v59 = _m_pfadd(_m_pfmul(v30, v57), _m_pfadd(_m_pfmul(v29, v54), _m_pfadd(v56, _m_pfmul(v25, v53))));
        v60 = *(__m64 *)(a1 + 32);
        v61 = _m_pfadd(_m_pfmul(v57, v28), v58);
        v62 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v59;
        *(_QWORD *)(a1 + 24) = v61;
        v63 = _m_punpckhdq(v58, v60);
        v64 = _m_punpckhdq(v61, v62);
        v65 = _m_punpckldq(v60, v60);
        v66 = _m_punpckldq(v62, v62);
        v67 = _m_punpckhdq(v63, v63);
        v68 = _m_pfmul(v26, v67);
        v69 = _m_punpckhdq(v64, v64);
        v70 = _m_pfadd(_m_pfadd(_m_pfmul(v67, v31), _m_pfmul(v65, v32)), _m_pfmul(v66, v27));
        v71 = _m_pfadd(_m_pfmul(v30, v69), _m_pfadd(_m_pfmul(v29, v66), _m_pfadd(v68, _m_pfmul(v25, v65))));
        v72 = *(__m64 *)(a1 + 48);
        v73 = _m_pfadd(_m_pfmul(v69, v28), v70);
        v74 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v71;
        *(_QWORD *)(a1 + 40) = v73;
        v75 = _m_punpckhdq(v70, v72);
        v76 = _m_punpckhdq(v73, v74);
        v77 = _m_punpckldq(v72, v72);
        v78 = _m_punpckldq(v74, v74);
        v79 = _m_punpckhdq(v75, v75);
        v80 = _m_pfmul(v26, v79);
        v81 = _m_punpckhdq(v76, v76);
        v82 = _m_pfmul(v30, v81);
        v83 = _m_pfadd(_m_pfadd(_m_pfmul(v79, v31), _m_pfmul(v77, v32)), _m_pfmul(v78, v27));
        v84 = _m_pfadd(_m_pfmul(v81, v28), v83);
        *(_QWORD *)(a1 + 48) = _m_pfadd(v82, _m_pfadd(_m_pfmul(v29, v78), _m_pfadd(v80, _m_pfmul(v25, v77))));
        *(_QWORD *)(a1 + 56) = v84;
        v85 = *(__m64 *)(a1 + 8);
        v86 = _m_punpckhdq(v83, *(__m64 *)a1);
        v87 = _m_punpckhdq(v84, v85);
        v88 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v89 = _m_punpckldq(v85, v85);
        v90 = _m_punpckhdq(v86, v86);
        v91 = _m_pfmul(v385, v90);
        v92 = _m_punpckhdq(v87, v87);
        v93 = _m_pfadd(_m_pfadd(_m_pfmul(v90, 0i64), _m_pfmul(v88, 0i64)), _m_pfmul(v89, v386));
        v94 = _m_pfadd(_m_pfmul(0i64, v92), _m_pfadd(_m_pfmul(0i64, v89), _m_pfadd(v91, _m_pfmul(v384, v88))));
        v95 = *(__m64 *)(a1 + 16);
        v96 = _m_pfadd(_m_pfmul(v92, v387), v93);
        v97 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v94;
        *(_QWORD *)(a1 + 8) = v96;
        v98 = _m_punpckhdq(v93, v95);
        v99 = _m_punpckhdq(v96, v97);
        v100 = _m_punpckldq(v95, v95);
        v101 = _m_punpckldq(v97, v97);
        v102 = _m_punpckhdq(v98, v98);
        v103 = _m_pfmul(v385, v102);
        v104 = _m_punpckhdq(v99, v99);
        v105 = _m_pfadd(_m_pfadd(_m_pfmul(v102, 0i64), _m_pfmul(v100, 0i64)), _m_pfmul(v101, v386));
        v106 = _m_pfadd(_m_pfmul(0i64, v104), _m_pfadd(_m_pfmul(0i64, v101), _m_pfadd(v103, _m_pfmul(v384, v100))));
        v107 = *(__m64 *)(a1 + 32);
        v108 = _m_pfadd(_m_pfmul(v104, v387), v105);
        v109 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v106;
        *(_QWORD *)(a1 + 24) = v108;
        v110 = _m_punpckhdq(v105, v107);
        v111 = _m_punpckhdq(v108, v109);
        v112 = _m_punpckldq(v107, v107);
        v113 = _m_punpckldq(v109, v109);
        v114 = _m_punpckhdq(v110, v110);
        v115 = _m_pfmul(v385, v114);
        v116 = _m_punpckhdq(v111, v111);
        v117 = _m_pfadd(_m_pfadd(_m_pfmul(v114, 0i64), _m_pfmul(v112, 0i64)), _m_pfmul(v113, v386));
        v118 = _m_pfadd(_m_pfmul(0i64, v116), _m_pfadd(_m_pfmul(0i64, v113), _m_pfadd(v115, _m_pfmul(v384, v112))));
        v119 = *(__m64 *)(a1 + 48);
        v120 = _m_pfadd(_m_pfmul(v116, v387), v117);
        v121 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v118;
        *(_QWORD *)(a1 + 40) = v120;
        v122 = _m_punpckhdq(v117, v119);
        v123 = _m_punpckhdq(v120, v121);
        v124 = _m_punpckldq(v119, v119);
        v125 = _m_punpckldq(v121, v121);
        v126 = _m_punpckhdq(v122, v122);
        v127 = _m_pfmul(v385, v126);
        v128 = _m_punpckhdq(v123, v123);
        v129 = _m_pfmul(0i64, v128);
        v130 = _m_pfadd(_m_pfadd(_m_pfmul(v126, 0i64), _m_pfmul(v124, 0i64)), _m_pfmul(v125, v386));
        v131 = _m_pfadd(_m_pfmul(v128, v387), v130);
        *(_QWORD *)(a1 + 48) = _m_pfadd(v129, _m_pfadd(_m_pfmul(0i64, v125), _m_pfadd(v127, _m_pfmul(v384, v124))));
        *(_QWORD *)(a1 + 56) = v131;
        v132 = *(__m64 *)(a1 + 8);
        v133 = _m_punpckhdq(v130, *(__m64 *)a1);
        v134 = _m_punpckhdq(v131, v132);
        v135 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v136 = _m_punpckldq(v132, v132);
        v137 = _m_punpckhdq(v133, v133);
        v138 = _m_pfmul(v392, v137);
        v139 = _m_punpckhdq(v134, v134);
        v140 = _m_pfadd(_m_pfadd(_m_pfmul(v137, v394), _m_pfmul(v135, v390)), _m_pfmul(v136, v398));
        v141 = _m_pfadd(_m_pfmul(0i64, v139), _m_pfadd(_m_pfmul(v396, v136), _m_pfadd(v138, _m_pfmul(v388, v135))));
        v142 = *(__m64 *)(a1 + 16);
        v143 = _m_pfadd(_m_pfmul(v139, v400), v140);
        v144 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v141;
        *(_QWORD *)(a1 + 8) = v143;
        v145 = _m_punpckhdq(v140, v142);
        v146 = _m_punpckhdq(v143, v144);
        v147 = _m_punpckldq(v142, v142);
        v148 = _m_punpckldq(v144, v144);
        v149 = _m_punpckhdq(v145, v145);
        v150 = _m_pfmul(v392, v149);
        v151 = _m_punpckhdq(v146, v146);
        v152 = _m_pfadd(_m_pfadd(_m_pfmul(v149, v394), _m_pfmul(v147, v390)), _m_pfmul(v148, v398));
        v153 = _m_pfadd(_m_pfmul(0i64, v151), _m_pfadd(_m_pfmul(v396, v148), _m_pfadd(v150, _m_pfmul(v388, v147))));
        v154 = *(__m64 *)(a1 + 32);
        v155 = _m_pfadd(_m_pfmul(v151, v400), v152);
        v156 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v153;
        *(_QWORD *)(a1 + 24) = v155;
        v157 = _m_punpckhdq(v152, v154);
        v158 = _m_punpckhdq(v155, v156);
        v159 = _m_punpckldq(v154, v154);
        v160 = _m_punpckldq(v156, v156);
        v161 = _m_punpckhdq(v157, v157);
        v162 = _m_pfmul(v392, v161);
        v163 = _m_punpckhdq(v158, v158);
        v164 = _m_pfadd(_m_pfadd(_m_pfmul(v161, v394), _m_pfmul(v159, v390)), _m_pfmul(v160, v398));
        v165 = _m_pfadd(_m_pfmul(0i64, v163), _m_pfadd(_m_pfmul(v396, v160), _m_pfadd(v162, _m_pfmul(v388, v159))));
        v166 = *(__m64 *)(a1 + 48);
        v167 = _m_pfadd(_m_pfmul(v163, v400), v164);
        v168 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v165;
        *(_QWORD *)(a1 + 40) = v167;
        v169 = _m_punpckhdq(v164, v166);
        v170 = _m_punpckhdq(v167, v168);
        v171 = _m_punpckldq(v166, v166);
        v172 = _m_punpckldq(v168, v168);
        v173 = _m_punpckhdq(v169, v169);
        v174 = _m_punpckhdq(v170, v170);
        *(_QWORD *)(a1 + 48) = _m_pfadd(
                                 _m_pfmul(0i64, v174),
                                 _m_pfadd(_m_pfmul(v396, v172), _m_pfadd(_m_pfmul(v392, v173), _m_pfmul(v388, v171))));
        *(_QWORD *)(a1 + 56) = _m_pfadd(
                                 _m_pfmul(v174, v400),
                                 _m_pfadd(_m_pfadd(_m_pfmul(v173, v394), _m_pfmul(v171, v390)), _m_pfmul(v172, v398)));
        v175 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(a2 + 8)), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
        *(_QWORD *)(a1 + 48) = _m_pfadd(*(__m64 *)a2, *(__m64 *)(a1 + 48));
        *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v175);
      }
      else
      {
        result = a1;
        *(_QWORD *)a1 = _m_punpckldq(v388, v392);
        *(_QWORD *)(a1 + 16) = _m_punpckhdq(v388, v392);
        v176 = _m_punpckldq(v398, v400);
        *(_QWORD *)(a1 + 40) = v176;
        *(_QWORD *)(a1 + 56) = _m_punpckhdq(v398, v400);
        *(_QWORD *)(a1 + 32) = _m_punpckldq(v390, v394);
        v177 = _m_punpckldq(v396, 0i64);
        *(_QWORD *)(a1 + 48) = _m_punpckhdq(v390, v394);
        *(_QWORD *)(a1 + 24) = _m_punpckhdq(v396, 0i64);
        *(_QWORD *)(a1 + 8) = v177;
        v178 = *(__m64 *)(a1 + 8);
        v179 = _m_punpckhdq(v177, *(__m64 *)a1);
        v180 = _m_punpckhdq(v176, v178);
        v181 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v182 = _m_punpckldq(v178, v178);
        v183 = _m_punpckhdq(v179, v179);
        v184 = _m_pfmul(v385, v183);
        v185 = _m_punpckhdq(v180, v180);
        v186 = _m_pfadd(_m_pfadd(_m_pfmul(v183, 0i64), _m_pfmul(v181, 0i64)), _m_pfmul(v182, v386));
        v187 = _m_pfadd(_m_pfmul(0i64, v185), _m_pfadd(_m_pfmul(0i64, v182), _m_pfadd(v184, _m_pfmul(v384, v181))));
        v188 = *(__m64 *)(a1 + 16);
        v189 = _m_pfadd(_m_pfmul(v185, v387), v186);
        v190 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v187;
        *(_QWORD *)(a1 + 8) = v189;
        v191 = _m_punpckhdq(v186, v188);
        v192 = _m_punpckhdq(v189, v190);
        v193 = _m_punpckldq(v188, v188);
        v194 = _m_punpckldq(v190, v190);
        v195 = _m_punpckhdq(v191, v191);
        v196 = _m_pfmul(v385, v195);
        v197 = _m_punpckhdq(v192, v192);
        v198 = _m_pfadd(_m_pfadd(_m_pfmul(v195, 0i64), _m_pfmul(v193, 0i64)), _m_pfmul(v194, v386));
        v199 = _m_pfadd(_m_pfmul(0i64, v197), _m_pfadd(_m_pfmul(0i64, v194), _m_pfadd(v196, _m_pfmul(v384, v193))));
        v200 = *(__m64 *)(a1 + 32);
        v201 = _m_pfadd(_m_pfmul(v197, v387), v198);
        v202 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v199;
        *(_QWORD *)(a1 + 24) = v201;
        v203 = _m_punpckhdq(v198, v200);
        v204 = _m_punpckhdq(v201, v202);
        v205 = _m_punpckldq(v200, v200);
        v206 = _m_punpckldq(v202, v202);
        v207 = _m_punpckhdq(v203, v203);
        v208 = _m_pfmul(v385, v207);
        v209 = _m_punpckhdq(v204, v204);
        v210 = _m_pfadd(_m_pfadd(_m_pfmul(v207, 0i64), _m_pfmul(v205, 0i64)), _m_pfmul(v206, v386));
        v211 = _m_pfadd(_m_pfmul(0i64, v209), _m_pfadd(_m_pfmul(0i64, v206), _m_pfadd(v208, _m_pfmul(v384, v205))));
        v212 = *(__m64 *)(a1 + 48);
        v213 = _m_pfadd(_m_pfmul(v209, v387), v210);
        v214 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v211;
        *(_QWORD *)(a1 + 40) = v213;
        v215 = _m_punpckhdq(v210, v212);
        v216 = _m_punpckhdq(v213, v214);
        v217 = _m_punpckldq(v212, v212);
        v218 = _m_punpckldq(v214, v214);
        v219 = _m_punpckhdq(v215, v215);
        v220 = _m_pfmul(v385, v219);
        v221 = _m_punpckhdq(v216, v216);
        v222 = _m_pfmul(0i64, v221);
        v223 = _m_pfadd(_m_pfadd(_m_pfmul(v219, 0i64), _m_pfmul(v217, 0i64)), _m_pfmul(v218, v386));
        v224 = _m_pfadd(_m_pfmul(v221, v387), v223);
        *(_QWORD *)(a1 + 48) = _m_pfadd(v222, _m_pfadd(_m_pfmul(0i64, v218), _m_pfadd(v220, _m_pfmul(v384, v217))));
        *(_QWORD *)(a1 + 56) = v224;
        v225 = *(__m64 *)(a1 + 8);
        v226 = _m_punpckhdq(v223, *(__m64 *)a1);
        v227 = _m_punpckhdq(v224, v225);
        v228 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v229 = _m_punpckldq(v225, v225);
        v230 = _m_punpckhdq(v226, v226);
        v231 = _m_pfmul(v392, v230);
        v232 = _m_punpckhdq(v227, v227);
        v233 = _m_pfadd(_m_pfadd(_m_pfmul(v230, v394), _m_pfmul(v228, v390)), _m_pfmul(v229, v398));
        v234 = _m_pfadd(_m_pfmul(0i64, v232), _m_pfadd(_m_pfmul(v396, v229), _m_pfadd(v231, _m_pfmul(v388, v228))));
        v235 = *(__m64 *)(a1 + 16);
        v236 = _m_pfadd(_m_pfmul(v232, v400), v233);
        v237 = *(__m64 *)(a1 + 24);
        *(_QWORD *)a1 = v234;
        *(_QWORD *)(a1 + 8) = v236;
        v238 = _m_punpckhdq(v233, v235);
        v239 = _m_punpckhdq(v236, v237);
        v240 = _m_punpckldq(v235, v235);
        v241 = _m_punpckldq(v237, v237);
        v242 = _m_punpckhdq(v238, v238);
        v243 = _m_pfmul(v392, v242);
        v244 = _m_punpckhdq(v239, v239);
        v245 = _m_pfadd(_m_pfadd(_m_pfmul(v242, v394), _m_pfmul(v240, v390)), _m_pfmul(v241, v398));
        v246 = _m_pfadd(_m_pfmul(0i64, v244), _m_pfadd(_m_pfmul(v396, v241), _m_pfadd(v243, _m_pfmul(v388, v240))));
        v247 = *(__m64 *)(a1 + 32);
        v248 = _m_pfadd(_m_pfmul(v244, v400), v245);
        v249 = *(__m64 *)(a1 + 40);
        *(_QWORD *)(a1 + 16) = v246;
        *(_QWORD *)(a1 + 24) = v248;
        v250 = _m_punpckhdq(v245, v247);
        v251 = _m_punpckhdq(v248, v249);
        v252 = _m_punpckldq(v247, v247);
        v253 = _m_punpckldq(v249, v249);
        v254 = _m_punpckhdq(v250, v250);
        v255 = _m_pfmul(v392, v254);
        v256 = _m_punpckhdq(v251, v251);
        v257 = _m_pfadd(_m_pfadd(_m_pfmul(v254, v394), _m_pfmul(v252, v390)), _m_pfmul(v253, v398));
        v258 = _m_pfadd(_m_pfmul(0i64, v256), _m_pfadd(_m_pfmul(v396, v253), _m_pfadd(v255, _m_pfmul(v388, v252))));
        v259 = *(__m64 *)(a1 + 48);
        v260 = _m_pfadd(_m_pfmul(v256, v400), v257);
        v261 = *(__m64 *)(a1 + 56);
        *(_QWORD *)(a1 + 32) = v258;
        *(_QWORD *)(a1 + 40) = v260;
        v262 = _m_punpckhdq(v257, v259);
        v263 = _m_punpckhdq(v260, v261);
        v264 = _m_punpckldq(v259, v259);
        v265 = _m_punpckldq(v261, v261);
        v266 = _m_punpckhdq(v262, v262);
        v267 = _m_punpckhdq(v263, v263);
        *(_QWORD *)(a1 + 48) = _m_pfadd(
                                 _m_pfmul(0i64, v267),
                                 _m_pfadd(_m_pfmul(v396, v265), _m_pfadd(_m_pfmul(v392, v266), _m_pfmul(v388, v264))));
        *(_QWORD *)(a1 + 56) = _m_pfadd(
                                 _m_pfmul(v267, v400),
                                 _m_pfadd(_m_pfadd(_m_pfmul(v266, v394), _m_pfmul(v264, v390)), _m_pfmul(v265, v398)));
      }
    }
    else
    {
      v268 = qword_10073BC0;
      v269 = _mm_cvtsi32_si64(*(_DWORD *)(a4 + 8));
      v270 = _m_punpckhdq(0i64, *(__m64 *)a4);
      *(_QWORD *)a1 = _m_punpckldq(*(__m64 *)a4, 0i64);
      *(_QWORD *)(a1 + 8) = 0i64;
      *(_QWORD *)(a1 + 16) = v270;
      *(_QWORD *)(a1 + 24) = 0i64;
      *(_QWORD *)(a1 + 32) = 0i64;
      *(_QWORD *)(a1 + 40) = v269;
      *(_QWORD *)(a1 + 48) = 0i64;
      *(_QWORD *)(a1 + 56) = v268;
    }
  }
  else
  {
    v271 = _mm_cvtsi32_si64(qword_10073BD0);
    v272 = _m_pswapd(v271);
    *(_QWORD *)a1 = v271;
    *(_QWORD *)(a1 + 8) = 0i64;
    *(_QWORD *)(a1 + 16) = v272;
    *(_QWORD *)(a1 + 24) = 0i64;
    *(_QWORD *)(a1 + 32) = 0i64;
    *(_QWORD *)(a1 + 40) = v271;
    *(_QWORD *)(a1 + 48) = 0i64;
    *(_QWORD *)(a1 + 56) = v272;
  }
  if ( a6 )
  {
    v273 = *(__m64 *)a6;
    v274 = v273;
    v275 = _m_pfadd(v273, v273);
    v276 = *(__m64 *)(a6 + 8);
    v277 = _m_pfadd(v276, v276);
    v278 = v275;
    v279 = _m_pfmul(v275, *(__m64 *)a6);
    v280 = _m_punpckldq(v278, v277);
    v281 = _m_pfmul(*(__m64 *)a6, v277);
    v282 = _m_pfmul(_m_pswapd(*(__m64 *)a6), v277);
    v283 = _m_pfmul(v277, v276);
    v284 = _m_pfmul(_m_punpckhdq(v274, v276), v280);
    v285 = v279;
    v286 = _m_pfpnacc(v282, v282);
    v287 = _m_pfpnacc(v284, v284);
    v288 = _m_pfpnacc(v281, v281);
    v289 = _m_pfsub(_m_pfsubr(v279, (__m64)qword_10073BE0), _m_punpckldq(v283, v283));
    v290 = _m_punpckldq(_m_pswapd(v288), v286);
    v291 = _m_punpckldq(v288, 0i64);
    v397 = v290;
    v292 = _m_punpckhdq(v286, 0i64);
    v391 = v291;
    v399 = _m_punpckhdq(_m_pfsubr(_m_pfacc(v285, v285), (__m64)qword_10073BE0), 0i64);
    v389 = _m_punpckhdq(v289, v287);
    v393 = _m_punpckldq(v287, v289);
    v395 = v292;
    v401 = _m_punpckldq(0i64, (__m64)qword_10073BE0);
    if ( a5 )
    {
      v293 = *(__m64 *)a5;
      v294 = _mm_cvtsi32_si64(*(_DWORD *)(a5 + 8));
      v295 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), v294);
      *(_QWORD *)(result + 48) = _m_pfsub(*(__m64 *)(result + 48), *(__m64 *)a5);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v295);
      v296 = *(__m64 *)(result + 8);
      v297 = _m_punpckhdq(v293, *(__m64 *)result);
      v298 = _m_punpckhdq(v294, v296);
      v299 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v300 = _m_punpckldq(v296, v296);
      v301 = _m_punpckhdq(v297, v297);
      v302 = _m_pfmul(v393, v301);
      v303 = _m_punpckhdq(v298, v298);
      v304 = _m_pfadd(_m_pfadd(_m_pfmul(v301, v395), _m_pfmul(v299, v391)), _m_pfmul(v300, v399));
      v305 = _m_pfadd(_m_pfmul(0i64, v303), _m_pfadd(_m_pfmul(v397, v300), _m_pfadd(v302, _m_pfmul(v389, v299))));
      v306 = *(__m64 *)(result + 16);
      v307 = _m_pfadd(_m_pfmul(v303, v401), v304);
      v308 = *(__m64 *)(result + 24);
      *(_QWORD *)result = v305;
      *(_QWORD *)(result + 8) = v307;
      v309 = _m_punpckhdq(v304, v306);
      v310 = _m_punpckhdq(v307, v308);
      v311 = _m_punpckldq(v306, v306);
      v312 = _m_punpckldq(v308, v308);
      v313 = _m_punpckhdq(v309, v309);
      v314 = _m_pfmul(v393, v313);
      v315 = _m_punpckhdq(v310, v310);
      v316 = _m_pfadd(_m_pfadd(_m_pfmul(v313, v395), _m_pfmul(v311, v391)), _m_pfmul(v312, v399));
      v317 = _m_pfadd(_m_pfmul(0i64, v315), _m_pfadd(_m_pfmul(v397, v312), _m_pfadd(v314, _m_pfmul(v389, v311))));
      v318 = *(__m64 *)(result + 32);
      v319 = _m_pfadd(_m_pfmul(v315, v401), v316);
      v320 = *(__m64 *)(result + 40);
      *(_QWORD *)(result + 16) = v317;
      *(_QWORD *)(result + 24) = v319;
      v321 = _m_punpckhdq(v316, v318);
      v322 = _m_punpckhdq(v319, v320);
      v323 = _m_punpckldq(v318, v318);
      v324 = _m_punpckldq(v320, v320);
      v325 = _m_punpckhdq(v321, v321);
      v326 = _m_pfmul(v393, v325);
      v327 = _m_punpckhdq(v322, v322);
      v328 = _m_pfadd(_m_pfadd(_m_pfmul(v325, v395), _m_pfmul(v323, v391)), _m_pfmul(v324, v399));
      v329 = _m_pfadd(_m_pfmul(0i64, v327), _m_pfadd(_m_pfmul(v397, v324), _m_pfadd(v326, _m_pfmul(v389, v323))));
      v330 = *(__m64 *)(result + 48);
      v331 = _m_pfadd(_m_pfmul(v327, v401), v328);
      v332 = *(__m64 *)(result + 56);
      *(_QWORD *)(result + 32) = v329;
      *(_QWORD *)(result + 40) = v331;
      v333 = _m_punpckhdq(v328, v330);
      v334 = _m_punpckhdq(v331, v332);
      v335 = _m_punpckldq(v330, v330);
      v336 = _m_punpckldq(v332, v332);
      v337 = _m_punpckhdq(v333, v333);
      v338 = _m_punpckhdq(v334, v334);
      *(_QWORD *)(result + 48) = _m_pfadd(
                                   _m_pfmul(0i64, v338),
                                   _m_pfadd(_m_pfmul(v397, v336), _m_pfadd(_m_pfmul(v393, v337), _m_pfmul(v389, v335))));
      *(_QWORD *)(result + 56) = _m_pfadd(
                                   _m_pfmul(v338, v401),
                                   _m_pfadd(_m_pfadd(_m_pfmul(v337, v395), _m_pfmul(v335, v391)), _m_pfmul(v336, v399)));
      v339 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(*(_DWORD *)(a5 + 8)));
      *(_QWORD *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), *(__m64 *)a5);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v339);
    }
    else
    {
      v340 = *(__m64 *)(result + 8);
      v341 = _m_punpckhdq(v291, *(__m64 *)result);
      v342 = _m_punpckhdq(v292, v340);
      v343 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v344 = _m_punpckldq(v340, v340);
      v345 = _m_punpckhdq(v341, v341);
      v346 = _m_pfmul(v393, v345);
      v347 = _m_punpckhdq(v342, v342);
      v348 = _m_pfadd(_m_pfadd(_m_pfmul(v345, v395), _m_pfmul(v343, v391)), _m_pfmul(v344, v399));
      v349 = _m_pfadd(_m_pfmul(0i64, v347), _m_pfadd(_m_pfmul(v397, v344), _m_pfadd(v346, _m_pfmul(v389, v343))));
      v350 = *(__m64 *)(result + 16);
      v351 = _m_pfadd(_m_pfmul(v347, v401), v348);
      v352 = *(__m64 *)(result + 24);
      *(_QWORD *)result = v349;
      *(_QWORD *)(result + 8) = v351;
      v353 = _m_punpckhdq(v348, v350);
      v354 = _m_punpckhdq(v351, v352);
      v355 = _m_punpckldq(v350, v350);
      v356 = _m_punpckldq(v352, v352);
      v357 = _m_punpckhdq(v353, v353);
      v358 = _m_pfmul(v393, v357);
      v359 = _m_punpckhdq(v354, v354);
      v360 = _m_pfadd(_m_pfadd(_m_pfmul(v357, v395), _m_pfmul(v355, v391)), _m_pfmul(v356, v399));
      v361 = _m_pfadd(_m_pfmul(0i64, v359), _m_pfadd(_m_pfmul(v397, v356), _m_pfadd(v358, _m_pfmul(v389, v355))));
      v362 = *(__m64 *)(result + 32);
      v363 = _m_pfadd(_m_pfmul(v359, v401), v360);
      v364 = *(__m64 *)(result + 40);
      *(_QWORD *)(result + 16) = v361;
      *(_QWORD *)(result + 24) = v363;
      v365 = _m_punpckhdq(v360, v362);
      v366 = _m_punpckhdq(v363, v364);
      v367 = _m_punpckldq(v362, v362);
      v368 = _m_punpckldq(v364, v364);
      v369 = _m_punpckhdq(v365, v365);
      v370 = _m_pfmul(v393, v369);
      v371 = _m_punpckhdq(v366, v366);
      v372 = _m_pfadd(_m_pfadd(_m_pfmul(v369, v395), _m_pfmul(v367, v391)), _m_pfmul(v368, v399));
      v373 = _m_pfadd(_m_pfmul(0i64, v371), _m_pfadd(_m_pfmul(v397, v368), _m_pfadd(v370, _m_pfmul(v389, v367))));
      v374 = *(__m64 *)(result + 48);
      v375 = _m_pfadd(_m_pfmul(v371, v401), v372);
      v376 = *(__m64 *)(result + 56);
      *(_QWORD *)(result + 32) = v373;
      *(_QWORD *)(result + 40) = v375;
      v377 = _m_punpckhdq(v372, v374);
      v378 = _m_punpckhdq(v375, v376);
      v379 = _m_punpckldq(v374, v374);
      v380 = _m_punpckldq(v376, v376);
      v381 = _m_punpckhdq(v377, v377);
      v382 = _m_punpckhdq(v378, v378);
      *(_QWORD *)(result + 48) = _m_pfadd(
                                   _m_pfmul(0i64, v382),
                                   _m_pfadd(_m_pfmul(v397, v380), _m_pfadd(_m_pfmul(v393, v381), _m_pfmul(v389, v379))));
      *(_QWORD *)(result + 56) = _m_pfadd(
                                   _m_pfmul(v382, v401),
                                   _m_pfadd(_m_pfadd(_m_pfmul(v381, v395), _m_pfmul(v379, v391)), _m_pfmul(v380, v399)));
    }
  }
  if ( a7 )
  {
    v383 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(*(_DWORD *)(a7 + 8)));
    *(_QWORD *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), *(__m64 *)a7);
    *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v383);
  }
  _m_femms();
  return result;
}
// 10073BC0: using guessed type __int64 qword_10073BC0;
// 10073BD0: using guessed type __int64 qword_10073BD0;
// 10073BE0: using guessed type __int64 qword_10073BE0;

//----- (10048780) --------------------------------------------------------
int __stdcall sub_10048780(int a1, int a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm5@1
  __m64 v7; // mm6@1
  __m64 v8; // mm1@1
  __m64 v9; // mm0@1
  __m64 v10; // mm7@1
  __m64 v11; // mm2@1
  __m64 v12; // mm0@1
  __m64 v13; // mm1@1
  __m64 v14; // mm2@1
  __m64 v15; // mm3@1
  __m64 v16; // mm5@1
  __m64 v17; // mm4@1
  __m64 v18; // mm6@1
  __m64 v19; // mm0@1
  __m64 v20; // mm5@1
  __m64 v21; // mm6@1
  __m64 v22; // mm1@1
  __m64 v23; // mm0@1
  __m64 v24; // mm7@1
  __m64 v25; // mm2@1
  __m64 v26; // mm0@1
  __m64 v27; // mm0@1
  __m64 v28; // mm0@1
  __m64 v29; // mm1@3
  int result; // eax@3
  __m64 v31; // mm0@3
  __m64 v32; // mm1@3
  __m64 v33; // mm2@4
  __m64 v34; // mm3@4
  __m64 v35; // mm5@4
  __m64 v36; // mm6@4
  __m64 v37; // mm2@4
  __m64 v38; // mm3@4
  __m64 v39; // mm5@4
  __m64 v40; // mm6@4
  __m64 v41; // [sp+0h] [bp-40h]@1
  __m64 v42; // [sp+8h] [bp-38h]@1
  __m64 v43; // [sp+10h] [bp-30h]@1
  __m64 v44; // [sp+18h] [bp-28h]@1
  __m64 v45; // [sp+20h] [bp-20h]@1
  __m64 v46; // [sp+28h] [bp-18h]@1
  __m64 v47; // [sp+30h] [bp-10h]@1
  __m64 v48; // [sp+38h] [bp-8h]@1

  v3 = *(__m64 *)(a3 + 16);
  v4 = *(__m64 *)(a3 + 32);
  v5 = _m_pswapd(*(__m64 *)(a3 + 48));
  v6 = _m_pfnacc(_m_pfmul(_m_pswapd(v3), *(__m64 *)a3), _m_pfmul(_m_pswapd(v4), *(__m64 *)a3));
  v7 = _m_pfnacc(_m_pfmul(v5, *(__m64 *)a3), _m_pfmul(_m_pswapd(v4), v3));
  v8 = _m_pfnacc(_m_pfmul(v3, v5), _m_pfmul(v4, v5));
  v9 = *(__m64 *)(a3 + 56);
  v10 = *(__m64 *)(a3 + 40);
  v42 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v7, v7), v9), _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckldq(v8, v8), v10));
  v44 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v6, v6), v9), _m_pfmul(_m_punpckldq(v7, v7), v10)),
          _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 8)));
  v11 = _m_punpckldq(v6, v6);
  v46 = _m_pfsub(
          _m_pfadd(_m_pfmul(v9, v11), _m_pfmul(_m_punpckldq(v8, v8), *(__m64 *)(a3 + 8))),
          _m_pfmul(_m_punpckldq(v7, v7), *(__m64 *)(a3 + 24)));
  v12 = *(__m64 *)(a3 + 8);
  v48 = _m_pfadd(
          _m_pfsub(_m_pfmul(v11, v10), _m_pfmul(_m_punpckhdq(v6, v6), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckhdq(v7, v7), *(__m64 *)(a3 + 8)));
  v13 = *(__m64 *)(a3 + 24);
  v14 = *(__m64 *)(a3 + 40);
  v15 = *(__m64 *)(a3 + 56);
  v16 = _m_pfmul(_m_pswapd(v13), v12);
  v17 = _m_pfmul(_m_pswapd(v14), v12);
  v18 = _m_pfmul(_m_pswapd(v15), v12);
  v19 = _m_pswapd(v15);
  v20 = _m_pfnacc(v16, v17);
  v21 = _m_pfnacc(v18, _m_pfmul(_m_pswapd(v14), v13));
  v22 = _m_pfnacc(_m_pfmul(v13, v19), _m_pfmul(v14, v19));
  v23 = *(__m64 *)(a3 + 48);
  v24 = *(__m64 *)(a3 + 32);
  v41 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v21, v21), v23), _m_pfmul(_m_punpckhdq(v22, v22), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckldq(v22, v22), v24));
  v43 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v20, v20), v23), _m_pfmul(_m_punpckldq(v21, v21), v24)),
          _m_pfmul(_m_punpckhdq(v22, v22), *(__m64 *)a3));
  v25 = _m_punpckldq(v20, v20);
  v26 = _m_pfsub(
          _m_pfadd(_m_pfmul(v23, v25), _m_pfmul(_m_punpckldq(v22, v22), *(__m64 *)a3)),
          _m_pfmul(_m_punpckldq(v21, v21), *(__m64 *)(a3 + 16)));
  v45 = v26;
  v47 = _m_pfadd(
          _m_pfsub(_m_pfmul(v25, v24), _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckhdq(v21, v21), *(__m64 *)a3));
  v27 = _m_pfnacc(
          _m_pfmul(_m_punpckhdq(v26, v47), _m_punpckldq(v24, *(__m64 *)(a3 + 48))),
          _m_pfmul(_m_punpckldq(*(__m64 *)a3, *(__m64 *)(a3 + 16)), _m_punpckhdq(v41, v43)));
  v28 = _m_pfacc(v27, v27);
  if ( a2 )
    *(_DWORD *)a2 = _mm_cvtsi64_si32(v28);
  v29 = _m_pfrcp(v28);
  result = _mm_cvtsi64_si32(_m_pfcmpeq(0i64, v28));
  v31 = _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(_m_punpckldq(v28, v28), v29), v29), (__m64)qword_10073BD0);
  v32 = _m_pswapd(v31);
  if ( !result )
  {
    result = a1;
    v33 = _m_pfmul(v41, v32);
    v34 = _m_pfmul(v43, v31);
    v35 = _m_pfmul(v42, v32);
    v36 = _m_pfmul(v44, v31);
    *(_QWORD *)a1 = _m_punpckhdq(v33, v34);
    *(_QWORD *)(a1 + 16) = _m_punpckldq(v33, v34);
    *(_QWORD *)(a1 + 32) = _m_punpckhdq(v35, v36);
    *(_QWORD *)(a1 + 48) = _m_punpckldq(v35, v36);
    v37 = _m_pfmul(v45, v32);
    v38 = _m_pfmul(v47, v31);
    v39 = _m_pfmul(v46, v32);
    v40 = _m_pfmul(v48, v31);
    *(_QWORD *)(a1 + 8) = _m_punpckhdq(v37, v38);
    *(_QWORD *)(a1 + 24) = _m_punpckldq(v37, v38);
    *(_QWORD *)(a1 + 40) = _m_punpckhdq(v39, v40);
    *(_QWORD *)(a1 + 56) = _m_punpckldq(v39, v40);
  }
  _m_femms();
  return result;
}
// 10073BD0: using guessed type __int64 qword_10073BD0;

//----- (10048A62) --------------------------------------------------------
int __stdcall sub_10048A62(int a1, int a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm3@1
  __m64 v5; // mm4@1
  __m64 v6; // mm6@1
  __m64 v7; // mm7@1
  __m64 v8; // mm0@1
  __m64 v9; // mm4@1
  int result; // eax@2
  __m64 v11; // mm4@2
  __m64 v12; // mm4@2
  __m64 v13; // mm4@2
  __m64 v14; // mm4@2
  __m64 v15; // mm4@3
  __m64 v16; // ST00_8@3
  __m64 v17; // ST08_8@3
  __m64 v18; // mm4@3
  __m64 v19; // ST10_8@3
  __m64 v20; // ST18_8@3
  __m64 v21; // mm4@3
  __m64 v22; // ST20_8@3
  __m64 v23; // ST28_8@3
  __m64 v24; // mm4@3
  __m64 v25; // [sp+0h] [bp-44h]@1
  __m64 v26; // [sp+8h] [bp-3Ch]@1
  __m64 v27; // [sp+10h] [bp-34h]@1
  __m64 v28; // [sp+18h] [bp-2Ch]@1
  __m64 v29; // [sp+20h] [bp-24h]@1
  __m64 v30; // [sp+28h] [bp-1Ch]@1
  __m64 v31; // [sp+30h] [bp-14h]@1
  __m64 v32; // [sp+38h] [bp-Ch]@1

  _m_femms();
  v3 = *(__m64 *)(a3 + 16);
  v4 = *(__m64 *)(a3 + 40);
  v5 = *(__m64 *)(a3 + 56);
  v25 = _m_punpckldq(*(__m64 *)a3, v3);
  v27 = _m_punpckhdq(*(__m64 *)a3, v3);
  v6 = *(__m64 *)(a3 + 8);
  v7 = *(__m64 *)(a3 + 24);
  v8 = *(__m64 *)(a3 + 32);
  v30 = _m_punpckldq(v4, v5);
  v32 = _m_punpckhdq(v4, v5);
  v9 = *(__m64 *)(a3 + 48);
  v29 = _m_punpckldq(v6, v7);
  v31 = _m_punpckhdq(v6, v7);
  v28 = _m_punpckhdq(v8, v9);
  v26 = _m_punpckldq(v8, v9);
  if ( a2 == a1 )
  {
    result = a1;
    v15 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)(a2 + 32)), _m_pfmul(v25, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 40)), _m_pfmul(v26, *(__m64 *)(a2 + 56))));
    v16 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)a2), _m_pfmul(v25, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 8)), _m_pfmul(v26, *(__m64 *)(a2 + 24))));
    v17 = v15;
    v18 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)(a2 + 32)), _m_pfmul(v27, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 40)), _m_pfmul(v28, *(__m64 *)(a2 + 56))));
    v19 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)a2), _m_pfmul(v27, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 8)), _m_pfmul(v28, *(__m64 *)(a2 + 24))));
    v20 = v18;
    v21 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)(a2 + 32)), _m_pfmul(v29, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 40)), _m_pfmul(v30, *(__m64 *)(a2 + 56))));
    v22 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)a2), _m_pfmul(v29, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 8)), _m_pfmul(v30, *(__m64 *)(a2 + 24))));
    v23 = v21;
    v24 = _m_pfadd(
            _m_pfacc(_m_pfmul(v31, *(__m64 *)(a2 + 32)), _m_pfmul(v31, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 40)), _m_pfmul(v32, *(__m64 *)(a2 + 56))));
    *(_QWORD *)(a1 + 48) = _m_pfadd(
                             _m_pfacc(_m_pfmul(v31, *(__m64 *)a2), _m_pfmul(v31, *(__m64 *)(a2 + 16))),
                             _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 8)), _m_pfmul(v32, *(__m64 *)(a2 + 24))));
    *(_QWORD *)(a1 + 56) = v24;
    *(_QWORD *)a1 = v16;
    *(_QWORD *)(a1 + 8) = v17;
    *(_QWORD *)(a1 + 16) = v19;
    *(_QWORD *)(a1 + 24) = v20;
    *(_QWORD *)(a1 + 32) = v22;
    *(_QWORD *)(a1 + 40) = v23;
    _m_femms();
  }
  else
  {
    result = a1;
    v11 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)(a2 + 32)), _m_pfmul(v25, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 40)), _m_pfmul(v26, *(__m64 *)(a2 + 56))));
    *(_QWORD *)a1 = _m_pfadd(
                      _m_pfacc(_m_pfmul(v25, *(__m64 *)a2), _m_pfmul(v25, *(__m64 *)(a2 + 16))),
                      _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 8)), _m_pfmul(v26, *(__m64 *)(a2 + 24))));
    *(_QWORD *)(a1 + 8) = v11;
    v12 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)(a2 + 32)), _m_pfmul(v27, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 40)), _m_pfmul(v28, *(__m64 *)(a2 + 56))));
    *(_QWORD *)(a1 + 16) = _m_pfadd(
                             _m_pfacc(_m_pfmul(v27, *(__m64 *)a2), _m_pfmul(v27, *(__m64 *)(a2 + 16))),
                             _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 8)), _m_pfmul(v28, *(__m64 *)(a2 + 24))));
    *(_QWORD *)(a1 + 24) = v12;
    v13 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)(a2 + 32)), _m_pfmul(v29, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 40)), _m_pfmul(v30, *(__m64 *)(a2 + 56))));
    *(_QWORD *)(a1 + 32) = _m_pfadd(
                             _m_pfacc(_m_pfmul(v29, *(__m64 *)a2), _m_pfmul(v29, *(__m64 *)(a2 + 16))),
                             _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 8)), _m_pfmul(v30, *(__m64 *)(a2 + 24))));
    *(_QWORD *)(a1 + 40) = v13;
    v14 = _m_pfadd(
            _m_pfacc(_m_pfmul(v31, *(__m64 *)(a2 + 32)), _m_pfmul(v31, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 40)), _m_pfmul(v32, *(__m64 *)(a2 + 56))));
    *(_QWORD *)(a1 + 48) = _m_pfadd(
                             _m_pfacc(_m_pfmul(v31, *(__m64 *)a2), _m_pfmul(v31, *(__m64 *)(a2 + 16))),
                             _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 8)), _m_pfmul(v32, *(__m64 *)(a2 + 24))));
    *(_QWORD *)(a1 + 56) = v14;
    _m_femms();
  }
  return result;
}

//----- (10048E5A) --------------------------------------------------------
int __stdcall sub_10048E5A(int a1, int a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm5@1
  __m64 v6; // mm0@1
  __m64 v7; // mm4@1
  __m64 v8; // mm6@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm7@1
  __m64 v12; // mm2@1
  __m64 v13; // mm0@1
  __m64 v14; // mm1@1
  __m64 v15; // mm2@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm4@1
  __m64 v19; // mm6@1
  __m64 v20; // mm1@1
  __m64 v21; // mm0@1
  __m64 v22; // mm7@1
  __m64 v23; // mm2@1
  __m64 v24; // mm0@1
  __m64 v25; // mm2@1
  __m64 v26; // mm0@1
  __m64 v27; // mm0@1
  __m64 v28; // mm1@3
  int result; // eax@3
  __m64 v30; // mm0@3
  __m64 v31; // mm1@3
  __m64 v32; // mm2@4
  __m64 v33; // mm3@4
  __m64 v34; // mm5@4
  __m64 v35; // mm6@4
  __m64 v36; // mm2@4
  __m64 v37; // mm3@4
  __m64 v38; // mm5@4
  __m64 v39; // mm6@4
  __m64 v40; // [sp+0h] [bp-44h]@1
  __m64 v41; // [sp+8h] [bp-3Ch]@1
  __m64 v42; // [sp+10h] [bp-34h]@1
  __m64 v43; // [sp+18h] [bp-2Ch]@1
  __m64 v44; // [sp+20h] [bp-24h]@1
  __m64 v45; // [sp+28h] [bp-1Ch]@1
  __m64 v46; // [sp+30h] [bp-14h]@1
  __m64 v47; // [sp+38h] [bp-Ch]@1

  v3 = *(__m64 *)(a3 + 16);
  v4 = *(__m64 *)(a3 + 32);
  v5 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckhdq(*(__m64 *)(a3 + 16), v4)),
         _m_pfmul(_m_punpckhdq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckldq(v3, v4)));
  v6 = _m_punpckldq(*(__m64 *)a3, v3);
  v7 = _m_punpckldq(*(__m64 *)(a3 + 48), v4);
  v8 = _m_pfsub(_m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 48), v4), v6), _m_pfmul(_m_punpckhdq(*(__m64 *)a3, v3), v7));
  v9 = _m_pfsubr(
         _m_pfmul(_m_punpckhdq(v3, v4), _m_punpckldq(v7, v7)),
         _m_pfmul(_m_punpckhdq(v6, v7), _m_punpckhdq(*(__m64 *)(a3 + 48), *(__m64 *)(a3 + 48))));
  v10 = *(__m64 *)(a3 + 56);
  v11 = *(__m64 *)(a3 + 40);
  v41 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v8, v8), v10), _m_pfmul(_m_punpckhdq(v9, v9), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckldq(v9, v9), v11));
  v43 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v5, v5), v10), _m_pfmul(_m_punpckldq(v8, v8), v11)),
          _m_pfmul(_m_punpckhdq(v9, v9), *(__m64 *)(a3 + 8)));
  v12 = _m_punpckldq(v5, v5);
  v45 = _m_pfsub(
          _m_pfadd(_m_pfmul(v10, v12), _m_pfmul(_m_punpckldq(v9, v9), *(__m64 *)(a3 + 8))),
          _m_pfmul(_m_punpckldq(v8, v8), *(__m64 *)(a3 + 24)));
  v47 = _m_pfadd(
          _m_pfsub(_m_pfmul(v12, v11), _m_pfmul(_m_punpckhdq(v5, v5), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 8)));
  v13 = *(__m64 *)(a3 + 8);
  v14 = *(__m64 *)(a3 + 24);
  v15 = *(__m64 *)(a3 + 40);
  v16 = _m_pfsub(
          _m_pfmul(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), _m_punpckhdq(*(__m64 *)(a3 + 24), v15)),
          _m_pfmul(_m_punpckhdq(v13, v13), _m_punpckldq(v14, v15)));
  v17 = _m_punpckldq(v13, v14);
  v18 = _m_punpckldq(*(__m64 *)(a3 + 56), v15);
  v19 = _m_pfsub(
          _m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 56), v15), v17),
          _m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 8), v14), v18));
  v20 = _m_pfsubr(
          _m_pfmul(_m_punpckhdq(v14, v15), _m_punpckldq(v18, v18)),
          _m_pfmul(_m_punpckhdq(v17, v18), _m_punpckhdq(*(__m64 *)(a3 + 56), *(__m64 *)(a3 + 56))));
  v21 = *(__m64 *)(a3 + 48);
  v22 = *(__m64 *)(a3 + 32);
  v40 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v19, v19), v21), _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckldq(v20, v20), v22));
  v42 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v16, v16), v21), _m_pfmul(_m_punpckldq(v19, v19), v22)),
          _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)a3));
  v23 = _m_punpckldq(v16, v16);
  v24 = _m_pfsub(
          _m_pfadd(_m_pfmul(v21, v23), _m_pfmul(_m_punpckldq(v20, v20), *(__m64 *)a3)),
          _m_pfmul(_m_punpckldq(v19, v19), *(__m64 *)(a3 + 16)));
  v44 = v24;
  v25 = _m_pfadd(
          _m_pfsub(_m_pfmul(v23, v22), _m_pfmul(_m_punpckhdq(v16, v16), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckhdq(v19, v19), *(__m64 *)a3));
  v46 = v25;
  v26 = _m_pfadd(
          _m_pfmul(_m_punpckhdq(v24, v25), _m_pfmul(_m_punpckldq(v22, *(__m64 *)(a3 + 48)), (__m64)qword_10073BD0)),
          _m_pfmul(
            _m_pfmul(_m_punpckldq(*(__m64 *)a3, *(__m64 *)(a3 + 16)), (__m64)qword_10073BD0),
            _m_punpckhdq(v40, v42)));
  v27 = _m_pfacc(v26, v26);
  if ( a2 )
    *(_DWORD *)a2 = _mm_cvtsi64_si32(v27);
  v28 = _m_pfrcp(v27);
  result = _mm_cvtsi64_si32(_m_pfcmpeq(0i64, v27));
  v30 = _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(_m_punpckldq(v27, v27), v28), v28), (__m64)qword_10073BD0);
  v31 = _m_punpckhdq(v30, _m_punpckldq(v25, v30));
  if ( !result )
  {
    result = a1;
    v32 = _m_pfmul(v40, v31);
    v33 = _m_pfmul(v42, v30);
    v34 = _m_pfmul(v41, v31);
    v35 = _m_pfmul(v43, v30);
    *(_QWORD *)a1 = _m_punpckhdq(v32, v33);
    *(_QWORD *)(a1 + 16) = _m_punpckldq(v32, v33);
    *(_QWORD *)(a1 + 32) = _m_punpckhdq(v34, v35);
    *(_QWORD *)(a1 + 48) = _m_punpckldq(v34, v35);
    v36 = _m_pfmul(v44, v31);
    v37 = _m_pfmul(v46, v30);
    v38 = _m_pfmul(v45, v31);
    v39 = _m_pfmul(v47, v30);
    *(_QWORD *)(a1 + 8) = _m_punpckhdq(v36, v37);
    *(_QWORD *)(a1 + 24) = _m_punpckldq(v36, v37);
    *(_QWORD *)(a1 + 40) = _m_punpckhdq(v38, v39);
    *(_QWORD *)(a1 + 56) = _m_punpckldq(v38, v39);
  }
  return result;
}
// 10073BD0: using guessed type __int64 qword_10073BD0;

//----- (1004918E) --------------------------------------------------------
int __stdcall sub_1004918E(int a1, int a2, int a3)
{
  _m_femms();
  sub_10048E5A(a1, a2, a3);
  _m_femms();
  return a1;
}

//----- (10049282) --------------------------------------------------------
int __stdcall sub_10049282(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm0@1
  __m64 v7; // mm4@1
  __m64 v8; // mm5@1
  int result; // eax@1
  __m64 v10; // mm0@1

  _m_femms();
  v2 = *(__m64 *)a2;
  v3 = v2;
  v4 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8));
  v5 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v4, v4));
  v6 = _m_pfacc(v5, v5);
  v7 = _m_pfrsqrt(v6);
  v8 = _m_pfcmpgt(v6, (__m64)qword_10073C50);
  result = a1;
  v10 = _m_pfrcpit2(_m_pfrsqit1(v6, _m_pfmul(v7, v7)), v7);
  *(_QWORD *)a1 = _m_pfmul(_m_pand(v3, v8), v10);
  *(_DWORD *)(a1 + 8) = _mm_cvtsi64_si32(_m_pfmul(_m_pand(v4, v8), v10));
  _m_femms();
  return result;
}
// 10073C50: using guessed type __int64 qword_10073C50;

//----- (100492E1) --------------------------------------------------------
int __stdcall sub_100492E1(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm6@1
  __m64 v7; // mm5@1
  __m64 v8; // mm7@1
  int result; // eax@1
  __m64 v10; // mm6@1
  __m64 v11; // mm7@1
  __m64 v12; // mm1@1

  v6 = _mm_cvtsi32_si64(a5);
  v7 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8));
  v8 = _mm_cvtsi32_si64(a6);
  result = a1;
  v10 = _m_punpckldq(v6, v6);
  v11 = _m_punpckldq(v8, v8);
  v12 = _m_pfadd(
          _m_pfadd(_m_pfmul(_m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a3 + 8)), v7), v10), v7),
          _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a4 + 8)), v7), v11));
  *(_QWORD *)a1 = _m_pfadd(
                    _m_pfadd(_m_pfmul(_m_pfsub(*(__m64 *)a3, *(__m64 *)a2), v10), *(__m64 *)a2),
                    _m_pfmul(_m_pfsub(*(__m64 *)a4, *(__m64 *)a2), v11));
  *(_DWORD *)(a1 + 8) = _mm_cvtsi64_si32(v12);
  _m_femms();
  return result;
}

//----- (10049352) --------------------------------------------------------
int __stdcall sub_10049352(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm2@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm1@1
  __m64 v13; // mm2@1
  __m64 v14; // mm5@1
  __m64 v15; // mm1@1
  __m64 v16; // mm6@1
  __m64 v17; // mm2@1
  __m64 v18; // mm7@1
  __m64 v19; // mm1@1
  __m64 v20; // mm6@1
  __m64 v21; // mm2@1
  int result; // eax@1
  __m64 v23; // mm0@1

  _m_femms();
  v6 = _mm_cvtsi32_si64(a6);
  v7 = _m_pfmul(v6, v6);
  v8 = _m_pfmul(v7, v6);
  v9 = _m_pfsub(v8, v7);
  v10 = _m_pfmul(v7, (__m64)qword_10073C78);
  v11 = v8;
  v12 = _m_pfmul(v7, (__m64)qword_10073C80);
  v13 = _m_pfmul(v8, (__m64)qword_10073C78);
  v14 = v12;
  v15 = _m_pfsub(v12, v13);
  v16 = _m_pfadd(_m_pfsub(v11, v10), v6);
  v17 = _m_pfadd(_m_pfsub(v13, v14), (__m64)qword_10073C68);
  v18 = _m_punpckldq(v9, v9);
  v19 = _m_punpckldq(v15, v15);
  v20 = _m_punpckldq(v16, v16);
  v21 = _m_punpckldq(v17, v17);
  result = a1;
  v23 = _m_pfadd(
          _m_pfadd(
            _m_pfmul(v19, _mm_cvtsi32_si64(*(_DWORD *)(a4 + 8))),
            _m_pfmul(v18, _mm_cvtsi32_si64(*(_DWORD *)(a5 + 8)))),
          _m_pfadd(
            _m_pfmul(v21, _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8))),
            _m_pfmul(v20, _mm_cvtsi32_si64(*(_DWORD *)(a3 + 8)))));
  *(_QWORD *)a1 = _m_pfadd(
                    _m_pfadd(_m_pfmul(v19, *(__m64 *)a4), _m_pfmul(v18, *(__m64 *)a5)),
                    _m_pfadd(_m_pfmul(v21, *(__m64 *)a2), _m_pfmul(v20, *(__m64 *)a3)));
  *(_DWORD *)(a1 + 8) = _mm_cvtsi64_si32(v23);
  _m_femms();
  return result;
}
// 10073C68: using guessed type __int64 qword_10073C68;
// 10073C78: using guessed type __int64 qword_10073C78;
// 10073C80: using guessed type __int64 qword_10073C80;

//----- (10049426) --------------------------------------------------------
int __stdcall sub_10049426(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm1@1
  __m64 v13; // mm0@1
  __m64 v14; // mm4@1
  __m64 v15; // mm0@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm1@1
  __m64 v19; // mm0@1
  __m64 v20; // mm2@1
  __m64 v21; // mm1@1
  __m64 v22; // mm3@1
  __m64 v23; // mm0@1
  __m64 v24; // mm2@1
  __m64 v25; // mm3@1
  int result; // eax@1
  __m64 v27; // mm4@1
  __m64 v28; // mm0@1
  __m64 v29; // mm1@1
  __m64 v30; // mm4@1

  v6 = _mm_cvtsi32_si64(a6);
  v7 = v6;
  v8 = _m_punpckldq(v6, v6);
  v9 = _m_punpckldq(v7, (__m64)qword_10073BE0);
  v10 = _m_pfmul(_m_pfmul(v8, v8), v9);
  v11 = v9;
  v12 = _m_pfmul(v9, v9);
  v13 = _m_pfsub(v10, v12);
  v14 = v13;
  v15 = _m_pfmul(v13, (__m64)qword_10073BF0);
  v16 = v15;
  v17 = _m_punpckldq(v15, v14);
  v18 = _m_pfsub(_m_pfadd(_m_punpckldq(v12, v12), _m_pxor(_m_punpckldq(v11, v11), (__m64)qword_10073C00)), v17);
  v19 = _m_pfsub(v17, _m_punpckhdq(v16, 0i64));
  v20 = v18;
  v21 = _m_punpckhdq(v18, v18);
  v22 = v19;
  v23 = _m_punpckldq(v19, v19);
  v24 = _m_punpckldq(v20, v20);
  v25 = _m_punpckhdq(v22, v22);
  result = a1;
  v27 = _m_pfadd(
          _m_pfmul(v21, _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8))),
          _m_pfmul(v23, _mm_cvtsi32_si64(*(_DWORD *)(a3 + 8))));
  v28 = _m_pfadd(_m_pfadd(_m_pfmul(v23, *(__m64 *)a3), _m_pfmul(v21, *(__m64 *)a2)), _m_pfmul(v24, *(__m64 *)a4));
  v29 = (__m64)qword_10073C48;
  v30 = _m_pfadd(
          _m_pfadd(v27, _m_pfmul(v24, _mm_cvtsi32_si64(*(_DWORD *)(a4 + 8)))),
          _m_pfmul(v25, _mm_cvtsi32_si64(*(_DWORD *)(a5 + 8))));
  *(_QWORD *)a1 = _m_pfmul(_m_pfadd(v28, _m_pfmul(v25, *(__m64 *)a5)), (__m64)qword_10073C48);
  *(_DWORD *)(a1 + 8) = _mm_cvtsi64_si32(_m_pfmul(v30, v29));
  _m_femms();
  return result;
}
// 10073BE0: using guessed type __int64 qword_10073BE0;
// 10073BF0: using guessed type __int64 qword_10073BF0;
// 10073C00: using guessed type __int64 qword_10073C00;
// 10073C48: using guessed type __int64 qword_10073C48;

//----- (10049510) --------------------------------------------------------
int __stdcall sub_10049510(int a1, int a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm2@1
  __m64 v9; // mm3@1
  __m64 v10; // mm5@1
  __m64 v11; // mm4@1
  __m64 v12; // mm5@1

  _m_femms();
  v3 = *(__m64 *)a2;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _mm_cvtsi32_si64(*(_DWORD *)(a2 + 8));
  v8 = _m_punpckldq(v7, v7);
  v9 = _m_pfadd(
         _m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), *(__m64 *)(a3 + 56)),
         _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 24)), _m_pfmul(v8, *(__m64 *)(a3 + 40))));
  v10 = _m_punpckhdq(v9, v9);
  v11 = _m_pfrcp(v10);
  v12 = _m_pfrcpit2(_m_pfrcpit1(v10, v11), v11);
  *(_QWORD *)a1 = _m_pfmul(
                    _m_pfadd(
                      _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), *(__m64 *)(a3 + 48)),
                      _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 16)), _m_pfmul(v8, *(__m64 *)(a3 + 32)))),
                    v12);
  *(_DWORD *)(a1 + 8) = _mm_cvtsi64_si32(_m_pfmul(v9, v12));
  _m_femms();
  return a1;
}

//----- (1004959B) --------------------------------------------------------
int __userpurge sub_1004959B<eax>(__m64 a1<mm2>, __m64 a2<mm3>, int a3, int a4, int a5)
{
  __m64 v5; // mm1@1
  __m64 v6; // mm2@1
  __m64 v7; // mm3@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm2@1
  __m64 v11; // mm5@1
  __m64 v12; // mm3@1
  __m64 v13; // mm2@1
  __m64 v14; // mm7@1
  __m64 v15; // mm0@1
  __m64 v16; // mm3@1
  __m64 v17; // mm1@1
  __m64 v18; // mm4@1
  __m64 v19; // mm2@1
  __m64 v20; // mm3@1
  __m64 v21; // mm0@1
  __m64 v22; // mm1@1
  __m64 v23; // mm2@1
  __m64 v24; // mm5@1
  __m64 v25; // mm3@1
  __m64 v26; // mm2@1
  __m64 v27; // mm7@1
  __m64 v28; // mm0@1
  __m64 v29; // mm3@1
  __m64 v30; // mm1@1
  __m64 v31; // mm4@1
  __m64 v32; // mm2@1
  __m64 v33; // mm3@1
  __m64 v34; // mm0@1
  __m64 v35; // mm1@1
  __m64 v36; // mm2@1
  __m64 v37; // mm5@1
  __m64 v38; // mm3@1
  __m64 v39; // mm2@1
  __m64 v40; // mm7@1
  __m64 v41; // mm0@1
  __m64 v42; // mm3@1
  __m64 v43; // mm1@1
  __m64 v44; // mm4@1
  __m64 v45; // mm2@1
  __m64 v46; // mm3@1
  __m64 v47; // mm0@1
  __m64 v48; // mm1@1
  __m64 v49; // mm2@1
  __m64 v50; // mm3@1
  __m64 v51; // mm7@1
  __m64 v52; // mm3@1

  v5 = *(__m64 *)(a4 + 8);
  v6 = _m_punpckhdq(a1, *(__m64 *)a4);
  v7 = _m_punpckhdq(a2, v5);
  v8 = _m_punpckldq(*(__m64 *)a4, *(__m64 *)a4);
  v9 = _m_punpckldq(v5, v5);
  v10 = _m_punpckhdq(v6, v6);
  v11 = _m_pfmul(*(__m64 *)(a5 + 16), v10);
  v12 = _m_punpckhdq(v7, v7);
  v13 = _m_pfadd(
          _m_pfadd(_m_pfmul(v10, *(__m64 *)(a5 + 24)), _m_pfmul(v8, *(__m64 *)(a5 + 8))),
          _m_pfmul(v9, *(__m64 *)(a5 + 40)));
  v14 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v12),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v9), _m_pfadd(v11, _m_pfmul(*(__m64 *)a5, v8))));
  v15 = *(__m64 *)(a4 + 16);
  v16 = _m_pfadd(_m_pfmul(v12, *(__m64 *)(a5 + 56)), v13);
  v17 = *(__m64 *)(a4 + 24);
  *(_QWORD *)a3 = v14;
  v18 = *(__m64 *)a5;
  *(_QWORD *)(a3 + 8) = v16;
  v19 = _m_punpckhdq(v13, v15);
  v20 = _m_punpckhdq(v16, v17);
  v21 = _m_punpckldq(v15, v15);
  v22 = _m_punpckldq(v17, v17);
  v23 = _m_punpckhdq(v19, v19);
  v24 = _m_pfmul(*(__m64 *)(a5 + 16), v23);
  v25 = _m_punpckhdq(v20, v20);
  v26 = _m_pfadd(
          _m_pfadd(_m_pfmul(v23, *(__m64 *)(a5 + 24)), _m_pfmul(v21, *(__m64 *)(a5 + 8))),
          _m_pfmul(v22, *(__m64 *)(a5 + 40)));
  v27 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v25),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v22), _m_pfadd(v24, _m_pfmul(v18, v21))));
  v28 = *(__m64 *)(a4 + 32);
  v29 = _m_pfadd(_m_pfmul(v25, *(__m64 *)(a5 + 56)), v26);
  v30 = *(__m64 *)(a4 + 40);
  *(_QWORD *)(a3 + 16) = v27;
  v31 = *(__m64 *)a5;
  *(_QWORD *)(a3 + 24) = v29;
  v32 = _m_punpckhdq(v26, v28);
  v33 = _m_punpckhdq(v29, v30);
  v34 = _m_punpckldq(v28, v28);
  v35 = _m_punpckldq(v30, v30);
  v36 = _m_punpckhdq(v32, v32);
  v37 = _m_pfmul(*(__m64 *)(a5 + 16), v36);
  v38 = _m_punpckhdq(v33, v33);
  v39 = _m_pfadd(
          _m_pfadd(_m_pfmul(v36, *(__m64 *)(a5 + 24)), _m_pfmul(v34, *(__m64 *)(a5 + 8))),
          _m_pfmul(v35, *(__m64 *)(a5 + 40)));
  v40 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v38),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v35), _m_pfadd(v37, _m_pfmul(v31, v34))));
  v41 = *(__m64 *)(a4 + 48);
  v42 = _m_pfadd(_m_pfmul(v38, *(__m64 *)(a5 + 56)), v39);
  v43 = *(__m64 *)(a4 + 56);
  *(_QWORD *)(a3 + 32) = v40;
  v44 = *(__m64 *)a5;
  *(_QWORD *)(a3 + 40) = v42;
  v45 = _m_punpckhdq(v39, v41);
  v46 = _m_punpckhdq(v42, v43);
  v47 = _m_punpckldq(v41, v41);
  v48 = _m_punpckldq(v43, v43);
  v49 = _m_punpckhdq(v45, v45);
  v50 = _m_punpckhdq(v46, v46);
  v51 = _m_pfmul(*(__m64 *)(a5 + 48), v50);
  v52 = _m_pfadd(
          _m_pfmul(v50, *(__m64 *)(a5 + 56)),
          _m_pfadd(
            _m_pfadd(_m_pfmul(v49, *(__m64 *)(a5 + 24)), _m_pfmul(v47, *(__m64 *)(a5 + 8))),
            _m_pfmul(v48, *(__m64 *)(a5 + 40))));
  *(_QWORD *)(a3 + 48) = _m_pfadd(
                           v51,
                           _m_pfadd(
                             _m_pfmul(*(__m64 *)(a5 + 32), v48),
                             _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 16), v49), _m_pfmul(v44, v47))));
  *(_QWORD *)(a3 + 56) = v52;
  _m_femms();
  return a3;
}

//----- (10049767) --------------------------------------------------------
int __userpurge sub_10049767<eax>(__m64 a1<mm2>, __m64 a2<mm3>, int a3, int a4, int a5, int a6, int a7, int a8)
{
  int v8; // esi@1
  __m64 v9; // mm1@11
  float v11; // [sp+Ch] [bp-40h]@1
  float v12; // [sp+10h] [bp-3Ch]@2
  float v13; // [sp+14h] [bp-38h]@2
  float v14; // [sp+18h] [bp-34h]@2
  float v15; // [sp+1Ch] [bp-30h]@2
  float v16; // [sp+20h] [bp-2Ch]@2
  float v17; // [sp+24h] [bp-28h]@2
  float v18; // [sp+28h] [bp-24h]@2
  float v19; // [sp+2Ch] [bp-20h]@2
  float v20; // [sp+30h] [bp-1Ch]@2
  float v21; // [sp+34h] [bp-18h]@2
  float v22; // [sp+38h] [bp-14h]@2
  float v23; // [sp+3Ch] [bp-10h]@2
  float v24; // [sp+40h] [bp-Ch]@2
  float v25; // [sp+44h] [bp-8h]@2
  float v26; // [sp+48h] [bp-4h]@2

  v8 = (int)&v11;
  switch ( a6 != 0 | 2 * (a7 != 0 | 2 * (a8 != 0)) )
  {
    case 0:
      v25 = 0.0;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v20 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v15 = 0.0;
      v14 = 0.0;
      v13 = 0.0;
      v12 = 0.0;
      v26 = 1.0;
      v21 = 1.0;
      v16 = 1.0;
      v11 = 1.0;
      break;
    case 1:
      v8 = a6;
      break;
    case 2:
      v8 = a7;
      break;
    case 3:
      _m_femms();
      sub_1004959B(a1, a2, (int)&v11, a7, a6);
      _m_femms();
      break;
    case 4:
      v8 = a8;
      break;
    case 5:
      _m_femms();
      sub_1004959B(a1, a2, (int)&v11, a8, a6);
      _m_femms();
      break;
    case 6:
      _m_femms();
      sub_1004959B(a1, a2, (int)&v11, a8, a7);
      _m_femms();
      break;
    case 7:
      _m_femms();
      sub_1004959B(a1, a2, (int)&v11, a8, a7);
      sub_1004959B(a1, a2, (int)&v11, (int)&v11, a6);
      _m_femms();
      break;
    default:
      break;
  }
  sub_10049510(a3, a4, v8);
  if ( a5 )
  {
    _m_femms();
    v9 = _m_pfadd(
           _m_pfmul(
             _mm_cvtsi32_si64(*(_DWORD *)(a3 + 8)),
             _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), *(__m64 *)(a5 + 16))),
           *(__m64 *)(a5 + 16));
    *(_QWORD *)a3 = _m_pfadd(
                      _m_pfmul(
                        _m_pfadd(_m_pxor(*(__m64 *)a3, (__m64)qword_10073C60), (__m64)qword_10073C68),
                        _m_pfmul(_m_pi2fd(*(__m64 *)(a5 + 8)), (__m64)qword_10073C70)),
                      _m_pi2fd(*(__m64 *)a5));
    *(_DWORD *)(a3 + 8) = _mm_cvtsi64_si32(v9);
    _m_femms();
  }
  return a3;
}
// 10073C60: using guessed type __int64 qword_10073C60;
// 10073C68: using guessed type __int64 qword_10073C68;
// 10073C70: using guessed type __int64 qword_10073C70;

//----- (100498EF) --------------------------------------------------------
int __userpurge sub_100498EF<eax>(__m64 a1<mm2>, __m64 a2<mm3>, int a3, int a4, int a5, int a6, int a7, int a8)
{
  __m64 v8; // mm4@11
  __m64 v9; // mm2@11
  __m64 v10; // mm5@11
  __m64 v11; // mm0@11
  __m64 v12; // mm5@11
  __m64 v13; // mm6@11
  __m64 v14; // mm3@11
  int v16; // [sp+4h] [bp-48h]@11
  int v17; // [sp+8h] [bp-44h]@11
  float v18; // [sp+Ch] [bp-40h]@2
  float v19; // [sp+10h] [bp-3Ch]@2
  float v20; // [sp+14h] [bp-38h]@2
  float v21; // [sp+18h] [bp-34h]@2
  float v22; // [sp+1Ch] [bp-30h]@2
  float v23; // [sp+20h] [bp-2Ch]@2
  float v24; // [sp+24h] [bp-28h]@2
  float v25; // [sp+28h] [bp-24h]@2
  float v26; // [sp+2Ch] [bp-20h]@2
  float v27; // [sp+30h] [bp-1Ch]@2
  float v28; // [sp+34h] [bp-18h]@2
  float v29; // [sp+38h] [bp-14h]@2
  float v30; // [sp+3Ch] [bp-10h]@2
  float v31; // [sp+40h] [bp-Ch]@2
  float v32; // [sp+44h] [bp-8h]@2
  float v33; // [sp+48h] [bp-4h]@2

  switch ( a6 != 0 | 2 * (a7 != 0 | 2 * (a8 != 0)) )
  {
    case 0:
      v32 = 0.0;
      v31 = 0.0;
      v30 = 0.0;
      v29 = 0.0;
      v27 = 0.0;
      v26 = 0.0;
      v25 = 0.0;
      v24 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v20 = 0.0;
      v19 = 0.0;
      v33 = 1.0;
      v28 = 1.0;
      v23 = 1.0;
      v18 = 1.0;
      break;
    case 1:
      _m_femms();
      sub_10048E5A((int)&v18, 0, a6);
      _m_femms();
      break;
    case 2:
      _m_femms();
      sub_10048E5A((int)&v18, 0, a7);
      _m_femms();
      break;
    case 3:
      _m_femms();
      sub_1004959B(a1, a2, (int)&v18, a7, a6);
      sub_10048E5A((int)&v18, 0, (int)&v18);
      _m_femms();
      break;
    case 4:
      _m_femms();
      sub_10048E5A((int)&v18, 0, a8);
      _m_femms();
      break;
    case 5:
      _m_femms();
      sub_1004959B(a1, a2, (int)&v18, a8, a6);
      sub_10048E5A((int)&v18, 0, (int)&v18);
      _m_femms();
      break;
    case 6:
      _m_femms();
      sub_1004959B(a1, a2, (int)&v18, a8, a7);
      sub_10048E5A((int)&v18, 0, (int)&v18);
      _m_femms();
      break;
    case 7:
      _m_femms();
      sub_1004959B(a1, a2, (int)&v18, a8, a7);
      sub_1004959B(a1, a2, (int)&v18, (int)&v18, a6);
      sub_10048E5A((int)&v18, 0, (int)&v18);
      _m_femms();
      break;
    default:
      break;
  }
  if ( a5 )
  {
    _m_femms();
    v8 = *(__m64 *)(a5 + 16);
    v9 = _m_pi2fd(*(__m64 *)(a5 + 8));
    v10 = _m_punpckldq(_m_pfrcp(v9), _m_pfrcp(_m_punpckhdq(v9, v9)));
    v11 = _m_pfmul(
            _m_pfsub(*(__m64 *)a4, _m_pi2fd(*(__m64 *)a5)),
            _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v9, v10), v10), (__m64)qword_10073C78));
    v12 = _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), v8);
    v13 = _m_pfrcp(v12);
    v14 = _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a4 + 8)), v8), _m_pfrcpit2(_m_pfrcpit1(v12, v13), v13));
    *(_QWORD *)a3 = _m_pxor(_m_pfsub(v11, (__m64)qword_10073C68), (__m64)qword_10073C60);
    *(_DWORD *)(a3 + 8) = _mm_cvtsi64_si32(v14);
    _m_femms();
    v17 = (int)&v18;
    v16 = a3;
  }
  else
  {
    v17 = (int)&v18;
    v16 = a4;
  }
  sub_10049510(a3, v16, v17);
  return a3;
}
// 10073C60: using guessed type __int64 qword_10073C60;
// 10073C68: using guessed type __int64 qword_10073C68;
// 10073C78: using guessed type __int64 qword_10073C78;

//----- (10049B15) --------------------------------------------------------
int __userpurge sub_10049B15<eax>(__m64 a1<mm2>, __m64 a2<mm3>, int a3, int a4, int a5, int a6, int a7, int a8)
{
  __m64 v8; // mm4@14
  __m64 v9; // mm2@14
  __m64 v10; // mm5@14
  __m64 v11; // mm0@14
  __m64 v12; // mm5@14
  __m64 v13; // mm6@14
  __m64 v14; // mm3@14
  int v16; // [sp-8h] [bp-54h]@5
  int v17; // [sp-4h] [bp-50h]@3
  int v18; // [sp-4h] [bp-50h]@5
  int v19; // [sp+4h] [bp-48h]@14
  int v20; // [sp+8h] [bp-44h]@14
  char v21; // [sp+Ch] [bp-40h]@2

  switch ( a6 != 0 | 2 * (a7 != 0 | 2 * (a8 != 0)) )
  {
    case 0:
      sub_10045704((int)&v21);
      break;
    case 1:
      v17 = a6;
      goto LABEL_12;
    case 2:
      v17 = a7;
      goto LABEL_12;
    case 3:
      v18 = a6;
      v16 = a7;
      goto LABEL_11;
    case 4:
      v17 = a8;
      goto LABEL_12;
    case 5:
      v18 = a6;
      goto LABEL_9;
    case 6:
      v18 = a7;
LABEL_9:
      v16 = a8;
      goto LABEL_11;
    case 7:
      sub_1004959B(a1, a2, (int)&v21, a8, a7);
      v18 = a6;
      v16 = (int)&v21;
LABEL_11:
      sub_1004959B(a1, a2, (int)&v21, v16, v18);
      v17 = (int)&v21;
LABEL_12:
      sub_10048780((int)&v21, 0, v17);
      break;
    default:
      break;
  }
  if ( a5 )
  {
    _m_femms();
    v8 = *(__m64 *)(a5 + 16);
    v9 = _m_pi2fd(*(__m64 *)(a5 + 8));
    v10 = _m_punpckldq(_m_pfrcp(v9), _m_pfrcp(_m_punpckhdq(v9, v9)));
    v11 = _m_pfmul(
            _m_pfsub(*(__m64 *)a4, _m_pi2fd(*(__m64 *)a5)),
            _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v9, v10), v10), (__m64)qword_10073C78));
    v12 = _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), v8);
    v13 = _m_pfrcp(v12);
    v14 = _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a4 + 8)), v8), _m_pfrcpit2(_m_pfrcpit1(v12, v13), v13));
    *(_QWORD *)a3 = _m_pxor(_m_pfsub(v11, (__m64)qword_10073C68), (__m64)qword_10073C60);
    *(_DWORD *)(a3 + 8) = _mm_cvtsi64_si32(v14);
    _m_femms();
    v20 = (int)&v21;
    v19 = a3;
  }
  else
  {
    v20 = (int)&v21;
    v19 = a4;
  }
  sub_10049510(a3, v19, v20);
  return a3;
}
// 10073C60: using guessed type __int64 qword_10073C60;
// 10073C68: using guessed type __int64 qword_10073C68;
// 10073C78: using guessed type __int64 qword_10073C78;

//----- (1004A00A) --------------------------------------------------------
int __stdcall sub_1004A00A(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  __m64 v5; // mm2@1
  __m64 v6; // mm3@1
  __m64 v7; // mm4@1
  __m64 v8; // mm5@1
  __m64 v9; // mm6@1
  __m64 v10; // mm1@1
  __m64 v11; // mm7@1
  __m64 v12; // mm0@1
  __m64 v13; // mm4@1
  __m64 v14; // mm7@1
  __m64 v15; // mm2@1
  __m64 v16; // mm6@1
  __m64 v17; // mm7@1

  _m_femms();
  result = a1;
  v5 = *(__m64 *)(a3 + 8);
  v6 = *(__m64 *)(a4 + 8);
  v7 = _m_pfsub(
         _m_pfmul(
           _m_punpckhdq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)),
           _m_punpckhdq(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), *(__m64 *)a3)),
         _m_pfmul(
           _m_punpckhdq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)),
           _m_punpckhdq(_m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), *(__m64 *)a4)));
  v8 = _m_pfsub(
         _m_pfmul(_m_punpckhdq(*(__m64 *)a3, v5), _m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)a4)),
         _m_pfmul(_m_punpckhdq(*(__m64 *)a4, v6), _m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)a3)));
  v9 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)a4, *(__m64 *)a4), _m_punpckhdq(_m_punpckldq(v5, v5), *(__m64 *)a3)),
         _m_pfmul(_m_punpckldq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckhdq(_m_punpckldq(v6, v6), *(__m64 *)a4)));
  v10 = *(__m64 *)(a2 + 8);
  v11 = (__m64)qword_10073C60;
  v12 = *(__m64 *)a2;
  *(_QWORD *)a1 = _m_pfsub(
                    _m_pfmul(
                      _m_pxor(_m_punpckldq(v7, v7), (__m64)qword_10073C60),
                      _m_punpckhdq(*(__m64 *)a2, _m_punpckldq(*(__m64 *)a2, *(__m64 *)a2))),
                    _m_pfacc(
                      _m_pxor(_m_pfmul(_m_punpckldq(_m_punpckhdq(v7, v7), v8), v10), (__m64)qword_10073C60),
                      _m_pxor(_m_pfmul(_m_punpckldq(_m_punpckhdq(v8, v8), v9), v10), (__m64)qword_10073C60)));
  v13 = _m_pxor(_m_punpckhdq(v7, v8), v11);
  v14 = _m_psrlq(v11, 0x20u);
  v15 = _m_pxor(_m_punpckldq(v8, v9), v14);
  v16 = _m_pxor(_m_punpckhdq(v9, v9), v14);
  v17 = _m_psllq(v14, 0x20u);
  *(_QWORD *)(a1 + 8) = _m_pfadd(
                          _m_pfmul(_m_punpckhdq(v10, _m_punpckldq(v10, v10)), v16),
                          _m_pfacc(_m_pxor(_m_pfmul(v13, v12), v17), _m_pxor(_m_pfmul(v15, v12), v17)));
  _m_femms();
  return result;
}
// 10073C60: using guessed type __int64 qword_10073C60;

//----- (1004A13C) --------------------------------------------------------
int __stdcall sub_1004A13C(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm6@1
  __m64 v7; // mm7@1
  int result; // eax@1
  __m64 v9; // mm6@1
  __m64 v10; // mm7@1
  __m64 v11; // mm1@1

  v6 = _mm_cvtsi32_si64(a5);
  v7 = _mm_cvtsi32_si64(a6);
  result = a1;
  v9 = _m_punpckldq(v6, v6);
  v10 = _m_punpckldq(v7, v7);
  v11 = _m_pfadd(
          _m_pfadd(_m_pfmul(_m_pfsub(*(__m64 *)(a3 + 8), *(__m64 *)(a2 + 8)), v9), *(__m64 *)(a2 + 8)),
          _m_pfmul(_m_pfsub(*(__m64 *)(a4 + 8), *(__m64 *)(a2 + 8)), v10));
  *(_QWORD *)a1 = _m_pfadd(
                    _m_pfadd(_m_pfmul(_m_pfsub(*(__m64 *)a3, *(__m64 *)a2), v9), *(__m64 *)a2),
                    _m_pfmul(_m_pfsub(*(__m64 *)a4, *(__m64 *)a2), v10));
  *(_QWORD *)(a1 + 8) = v11;
  _m_femms();
  return result;
}

//----- (1004A1AD) --------------------------------------------------------
int __stdcall sub_1004A1AD(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm2@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm1@1
  __m64 v13; // mm2@1
  __m64 v14; // mm5@1
  __m64 v15; // mm1@1
  __m64 v16; // mm6@1
  __m64 v17; // mm2@1
  __m64 v18; // mm7@1
  __m64 v19; // mm1@1
  __m64 v20; // mm6@1
  __m64 v21; // mm2@1
  int result; // eax@1
  __m64 v23; // mm0@1

  _m_femms();
  v6 = _mm_cvtsi32_si64(a6);
  v7 = _m_pfmul(v6, v6);
  v8 = _m_pfmul(v7, v6);
  v9 = _m_pfsub(v8, v7);
  v10 = _m_pfmul(v7, (__m64)qword_10073C78);
  v11 = v8;
  v12 = _m_pfmul(v7, (__m64)qword_10073C80);
  v13 = _m_pfmul(v8, (__m64)qword_10073C78);
  v14 = v12;
  v15 = _m_pfsub(v12, v13);
  v16 = _m_pfadd(_m_pfsub(v11, v10), v6);
  v17 = _m_pfadd(_m_pfsub(v13, v14), (__m64)qword_10073C68);
  v18 = _m_punpckldq(v9, v9);
  v19 = _m_punpckldq(v15, v15);
  v20 = _m_punpckldq(v16, v16);
  v21 = _m_punpckldq(v17, v17);
  result = a1;
  v23 = _m_pfadd(
          _m_pfadd(_m_pfmul(v19, *(__m64 *)(a4 + 8)), _m_pfmul(v18, *(__m64 *)(a5 + 8))),
          _m_pfadd(_m_pfmul(v21, *(__m64 *)(a2 + 8)), _m_pfmul(v20, *(__m64 *)(a3 + 8))));
  *(_QWORD *)a1 = _m_pfadd(
                    _m_pfadd(_m_pfmul(v19, *(__m64 *)a4), _m_pfmul(v18, *(__m64 *)a5)),
                    _m_pfadd(_m_pfmul(v21, *(__m64 *)a2), _m_pfmul(v20, *(__m64 *)a3)));
  *(_QWORD *)(a1 + 8) = v23;
  _m_femms();
  return result;
}
// 10073C68: using guessed type __int64 qword_10073C68;
// 10073C78: using guessed type __int64 qword_10073C78;
// 10073C80: using guessed type __int64 qword_10073C80;

//----- (1004A275) --------------------------------------------------------
int __stdcall sub_1004A275(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm1@1
  __m64 v13; // mm0@1
  __m64 v14; // mm4@1
  __m64 v15; // mm0@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm1@1
  __m64 v19; // mm0@1
  __m64 v20; // mm2@1
  __m64 v21; // mm1@1
  __m64 v22; // mm3@1
  __m64 v23; // mm0@1
  __m64 v24; // mm2@1
  __m64 v25; // mm3@1
  int result; // eax@1
  __m64 v27; // mm4@1
  __m64 v28; // mm0@1
  __m64 v29; // mm1@1
  __m64 v30; // mm4@1

  v6 = _mm_cvtsi32_si64(a6);
  v7 = v6;
  v8 = _m_punpckldq(v6, v6);
  v9 = _m_punpckldq(v7, (__m64)qword_10073BE0);
  v10 = _m_pfmul(_m_pfmul(v8, v8), v9);
  v11 = v9;
  v12 = _m_pfmul(v9, v9);
  v13 = _m_pfsub(v10, v12);
  v14 = v13;
  v15 = _m_pfmul(v13, (__m64)qword_10073BF0);
  v16 = v15;
  v17 = _m_punpckldq(v15, v14);
  v18 = _m_pfsub(_m_pfadd(_m_punpckldq(v12, v12), _m_pxor(_m_punpckldq(v11, v11), (__m64)qword_10073C00)), v17);
  v19 = _m_pfsub(v17, _m_punpckhdq(v16, 0i64));
  v20 = v18;
  v21 = _m_punpckhdq(v18, v18);
  v22 = v19;
  v23 = _m_punpckldq(v19, v19);
  v24 = _m_punpckldq(v20, v20);
  v25 = _m_punpckhdq(v22, v22);
  result = a1;
  v27 = _m_pfadd(_m_pfmul(v21, *(__m64 *)(a2 + 8)), _m_pfmul(v23, *(__m64 *)(a3 + 8)));
  v28 = _m_pfadd(_m_pfadd(_m_pfmul(v23, *(__m64 *)a3), _m_pfmul(v21, *(__m64 *)a2)), _m_pfmul(v24, *(__m64 *)a4));
  v29 = (__m64)qword_10073C48;
  v30 = _m_pfadd(_m_pfadd(v27, _m_pfmul(v24, *(__m64 *)(a4 + 8))), _m_pfmul(v25, *(__m64 *)(a5 + 8)));
  *(_QWORD *)a1 = _m_pfmul(_m_pfadd(v28, _m_pfmul(v25, *(__m64 *)a5)), (__m64)qword_10073C48);
  *(_QWORD *)(a1 + 8) = _m_pfmul(v30, v29);
  _m_femms();
  return result;
}
// 10073BE0: using guessed type __int64 qword_10073BE0;
// 10073BF0: using guessed type __int64 qword_10073BF0;
// 10073C00: using guessed type __int64 qword_10073C00;
// 10073C48: using guessed type __int64 qword_10073C48;

//----- (1004A538) --------------------------------------------------------
int __stdcall sub_1004A538(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm2@1
  __m64 v4; // mm1@1
  __m64 v5; // mm3@1
  __m64 v6; // mm2@1
  __m64 v7; // mm0@1
  __m64 v8; // mm0@1
  __m64 v9; // mm4@1
  __m64 v10; // mm5@1
  int result; // eax@1
  __m64 v12; // mm0@1

  v2 = *(__m64 *)a2;
  v3 = *(__m64 *)(a2 + 8);
  v4 = v2;
  v5 = v3;
  v6 = _m_pand(v3, (__m64)qword_10073C30);
  v7 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v6, v6));
  v8 = _m_pfacc(v7, v7);
  v9 = _m_pfrsqrt(v8);
  v10 = _m_pfcmpgt(v8, (__m64)qword_10073C50);
  result = a1;
  v12 = _m_pfrcpit2(_m_pfrsqit1(v8, _m_pfmul(v9, v9)), v9);
  *(_QWORD *)a1 = _m_pfmul(_m_pand(v4, v10), v12);
  *(_QWORD *)(a1 + 8) = _m_pfmul(_m_pand(v5, v10), v12);
  _m_femms();
  return result;
}
// 10073C30: using guessed type __int64 qword_10073C30;
// 10073C50: using guessed type __int64 qword_10073C50;

//----- (1004A59C) --------------------------------------------------------
int __stdcall sub_1004A59C(int a1, int a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm3@1
  __m64 v9; // mm2@1
  __m64 v10; // mm3@1
  int result; // eax@1
  __m64 v12; // mm4@1

  _m_femms();
  v3 = *(__m64 *)a2;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = *(__m64 *)(a2 + 8);
  v8 = v7;
  v9 = _m_punpckldq(v7, v7);
  v10 = _m_punpckhdq(v8, v8);
  result = a1;
  v12 = _m_pfadd(
          _m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), _m_pfmul(v6, *(__m64 *)(a3 + 24))),
          _m_pfadd(_m_pfmul(v9, *(__m64 *)(a3 + 40)), _m_pfmul(v10, *(__m64 *)(a3 + 56))));
  *(_QWORD *)a1 = _m_pfadd(
                    _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), _m_pfmul(v6, *(__m64 *)(a3 + 16))),
                    _m_pfadd(_m_pfmul(v9, *(__m64 *)(a3 + 32)), _m_pfmul(v10, *(__m64 *)(a3 + 48))));
  *(_QWORD *)(a1 + 8) = v12;
  _m_femms();
  return result;
}

//----- (1004A6DB) --------------------------------------------------------
HMODULE __cdecl sub_1004A6DB(int a1)
{
  HMODULE v1; // eax@4
  HMODULE result; // eax@6

  if ( dword_10085404 )
    goto LABEL_10;
  if ( !dword_10085400 )
  {
    if ( GetModuleHandleA("d3d8.dll") )
    {
      v1 = LoadLibraryA("d3d8.dll");
      if ( v1 )
        dword_10085404 = (int (__cdecl *)(_DWORD))GetProcAddress(v1, "DebugSetMute");
    }
    result = GetModuleHandleA("d3d8d.dll");
    if ( result )
    {
      result = LoadLibraryA("d3d8d.dll");
      if ( result )
      {
        result = GetProcAddress(result, "DebugSetMute");
        dword_10085400 = (int (*)(void))result;
      }
    }
    if ( !dword_10085404 )
    {
LABEL_11:
      if ( !dword_10085400 )
        return result;
      return (HMODULE)dword_10085400();
    }
LABEL_10:
    result = (HMODULE)dword_10085404(a1);
    goto LABEL_11;
  }
  return (HMODULE)dword_10085400();
}
// 10085400: using guessed type int (*dword_10085400)(void);
// 10085404: using guessed type int (__cdecl *dword_10085404)(_DWORD);

//----- (1004A76B) --------------------------------------------------------
int __thiscall sub_1004A76B(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 56) = 0;
  *(_DWORD *)(this + 60) = 0;
  *(_DWORD *)(this + 76) = 0;
  *(_DWORD *)(this + 80) = 0;
  return result;
}

//----- (1004A784) --------------------------------------------------------
int __thiscall sub_1004A784(int this)
{
  int v1; // esi@1
  int result; // eax@4
  int v3; // edi@7
  int v4; // esi@9

  v1 = this;
  if ( *(_DWORD *)(this + 4) && *(_DWORD *)(this + 56) )
    sub_10001610(*(_DWORD *)(this + 4));
  result = *(_DWORD *)(v1 + 8);
  if ( result && *(_DWORD *)(v1 + 60) )
    result = sub_10001610(*(_DWORD *)(v1 + 8));
  v3 = *(_DWORD *)(v1 + 76);
  if ( v3 )
  {
    sub_1004A784(*(_DWORD *)(v1 + 76));
    result = sub_10001610(v3);
  }
  v4 = *(_DWORD *)(v1 + 80);
  if ( v4 )
  {
    sub_1004A784(v4);
    result = sub_10001610(v4);
  }
  return result;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1004A7DD) --------------------------------------------------------
int __thiscall sub_1004A7DD(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_1004A784(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1004A7F9) --------------------------------------------------------
int __thiscall sub_1004A7F9(int this, int a2)
{
  int v2; // ebx@1
  int v3; // edx@7
  int v4; // eax@7
  int v5; // eax@16

  v2 = this;
  if ( *(_DWORD *)(this + 4) && *(_DWORD *)(this + 56) )
    sub_10001610(*(_DWORD *)(this + 4));
  if ( *(_DWORD *)(v2 + 8) && *(_DWORD *)(v2 + 60) )
    sub_10001610(*(_DWORD *)(v2 + 8));
  *(_DWORD *)v2 = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(v2 + 4) = *(_DWORD *)a2;
  *(_DWORD *)(v2 + 8) = *(_DWORD *)(a2 + 72);
  v3 = v2 + 24;
  memcpy((void *)(v2 + 24), (const void *)(a2 + 40), 0x18u);
  *(_DWORD *)(v2 + 48) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(v2 + 52) = *(_DWORD *)(a2 + 12);
  v4 = *(_DWORD *)v2;
  if ( *(_DWORD *)v2 == 827611204 || v4 == 844388420 )
    goto LABEL_19;
  if ( v4 == 844715353 )
  {
LABEL_14:
    *(_DWORD *)v3 &= 0xFFFFFFFEu;
    goto LABEL_16;
  }
  if ( v4 == 861165636 || v4 == 877942852 || v4 == 894720068 )
  {
LABEL_19:
    *(_DWORD *)v3 &= 0xFFFFFFFCu;
    *(_DWORD *)(v2 + 28) &= 0xFFFFFFFCu;
    goto LABEL_16;
  }
  if ( v4 == 1498831189 )
    goto LABEL_14;
LABEL_16:
  v5 = *(_DWORD *)(v2 + 32) - *(_DWORD *)v3;
  *(_DWORD *)(v2 + 56) = 0;
  *(_DWORD *)(v2 + 60) = 0;
  *(_DWORD *)(v2 + 12) = v5;
  *(_DWORD *)(v2 + 16) = *(_DWORD *)(v2 + 36) - *(_DWORD *)(v2 + 28);
  *(_DWORD *)(v2 + 20) = *(_DWORD *)(v2 + 44) - *(_DWORD *)(v2 + 40);
  return 0;
}

//----- (1004A8BC) --------------------------------------------------------
signed int __thiscall sub_1004A8BC(void *this, int a2, unsigned int a3)
{
  void *v3; // esi@1
  int v5; // edi@3
  unsigned int v6; // ebx@3
  int v7; // eax@5
  unsigned __int16 v8; // dx@7
  signed int v9; // eax@7
  int v10; // eax@13
  unsigned int v11; // eax@15
  int v12; // edx@18
  int v13; // ecx@18
  int v14; // eax@18
  int v15; // ebx@20
  signed int v16; // ebx@82
  int v17; // eax@84
  int v18; // eax@86
  unsigned int i; // edx@88
  unsigned int v20; // eax@92
  int v21; // ecx@92
  unsigned int v22; // ecx@93
  int v23; // eax@96
  bool v24; // zf@96
  int v25; // ecx@101
  int v26; // edx@102
  int v27; // eax@102
  int v28; // ebx@103
  int v29; // eax@105
  signed int v30; // ecx@111
  unsigned int v31; // eax@112
  unsigned int v32; // eax@113
  unsigned int v33; // eax@117
  signed int v34; // ecx@121
  unsigned int v35; // eax@123
  int v36; // eax@136
  void *v37; // edi@140
  int v38; // ebx@140
  char v39; // si@140
  unsigned int v40; // ecx@140
  int v41; // eax@140
  int v42; // edi@140
  int j; // ecx@140
  __int16 v44; // di@147
  unsigned int v45; // ecx@151
  unsigned int v46; // eax@152
  unsigned int v47; // eax@153
  const void *v48; // esi@167
  void *v49; // edi@167
  signed int v50; // [sp+4h] [bp-1Ch]@82
  unsigned int v51; // [sp+4h] [bp-1Ch]@96
  int v52; // [sp+8h] [bp-18h]@10
  int v53; // [sp+8h] [bp-18h]@103
  void *v54; // [sp+Ch] [bp-14h]@1
  int v55; // [sp+10h] [bp-10h]@105
  int v56; // [sp+14h] [bp-Ch]@96
  int v57; // [sp+18h] [bp-8h]@7
  int v58; // [sp+18h] [bp-8h]@105
  unsigned int v59; // [sp+1Ch] [bp-4h]@5
  int v60; // [sp+28h] [bp+8h]@20
  unsigned int v61; // [sp+28h] [bp+8h]@86
  int v62; // [sp+28h] [bp+8h]@105
  unsigned int v63; // [sp+28h] [bp+8h]@155
  int v64; // [sp+2Ch] [bp+Ch]@18
  signed int v65; // [sp+2Ch] [bp+Ch]@28
  unsigned int v66; // [sp+2Ch] [bp+Ch]@101

  v3 = this;
  v54 = this;
  if ( a3 < 0x28 )
    return -2147467259;
  v5 = a2;
  v6 = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 < 0x28u )
    return -2147467259;
  v59 = *(_DWORD *)(a2 + 4);
  v7 = *(_DWORD *)(a2 + 8);
  if ( v7 <= 0 )
    v7 = -v7;
  v8 = *(_WORD *)(a2 + 14);
  v57 = v7;
  v9 = *(_DWORD *)(a2 + 32);
  if ( v8 <= 8u && !v9 )
    v9 = 1 << v8;
  v52 = v6 + 4 * v9;
  if ( v52 > a3 || *(_WORD *)(a2 + 12) != 1 || *(_DWORD *)(a2 + 8) < 0 && (v10 = *(_DWORD *)(a2 + 16)) != 0 && v10 != 3 )
    return -2147467259;
  v11 = *(_DWORD *)(a2 + 16);
  if ( v11 <= 2 )
  {
    v60 = v8;
    if ( v8 == 1 || v8 == 4 || v8 == 8 )
    {
      v65 = 41;
      goto LABEL_80;
    }
    if ( v8 != 16 )
    {
      if ( v8 != 24 )
      {
        if ( v8 != 32 )
          return -2147467259;
        goto LABEL_77;
      }
LABEL_43:
      v65 = 20;
      goto LABEL_80;
    }
LABEL_78:
    v65 = 24;
    goto LABEL_80;
  }
  if ( v11 == 3 )
  {
    if ( v6 >= 0x6C )
    {
      v12 = *(_DWORD *)(a2 + 48);
      v13 = *(_DWORD *)(a2 + 44);
      v14 = *(_DWORD *)(a2 + 40);
      v64 = *(_DWORD *)(a2 + 52);
    }
    else
    {
      v64 = 0;
      v12 = *(_DWORD *)(v6 + a2 + 8);
      v13 = *(_DWORD *)(v6 + a2 + 4);
      v14 = *(_DWORD *)(v6 + a2);
    }
    v15 = *(_WORD *)(a2 + 14);
    v60 = *(_WORD *)(a2 + 14);
    if ( v15 != 16 )
    {
      if ( v15 != 24 )
      {
        if ( v15 != 32 )
          return -2147467259;
        if ( v12 != 255 )
        {
          if ( v12 == 1072693248 )
          {
            if ( v13 == 1047552 && v14 == 1023 && v64 == -1073741824 )
            {
              v65 = 31;
              goto LABEL_80;
            }
          }
          else
          {
            if ( !v12 && v13 == -65536 && v14 == 65535 && !v64 )
            {
              v65 = 34;
              goto LABEL_80;
            }
          }
          return -2147467259;
        }
        if ( v13 != 65280 || v14 != 16711680 )
          return -2147467259;
        if ( v64 )
        {
          if ( v64 == -16777216 )
          {
            v65 = 21;
LABEL_80:
            if ( *((_DWORD *)v3 + 16) && v65 == 41 )
            {
              v16 = *(_DWORD *)(v5 + 32);
              v50 = *(_DWORD *)(v5 + 32);
              if ( !v16 )
              {
                v16 = 1 << v60;
                v50 = 1 << v60;
              }
              *((_DWORD *)v3 + 15) = 1;
              v17 = sub_100015F0(1024);
              *((_DWORD *)v3 + 2) = v17;
              if ( !v17 )
                return -2147024882;
              v61 = 0;
              v18 = v5 + *(_DWORD *)v5;
              if ( v16 )
              {
                do
                {
                  *(_BYTE *)(4 * v61 + *((_DWORD *)v3 + 2)) = *(_BYTE *)(v18 + 2);
                  *(_BYTE *)(4 * v61 + *((_DWORD *)v3 + 2) + 1) = *(_BYTE *)(v18 + 1);
                  *(_BYTE *)(4 * v61 + *((_DWORD *)v3 + 2) + 2) = *(_BYTE *)v18;
                  *(_BYTE *)(4 * v61++ + *((_DWORD *)v3 + 2) + 3) = -1;
                  v16 = v50;
                  v18 += 4;
                }
                while ( v61 < v50 );
              }
              for ( i = v16; i < 0x100; ++i )
              {
                *(_BYTE *)(4 * i + *((_DWORD *)v3 + 2)) = -1;
                *(_BYTE *)(4 * i + *((_DWORD *)v3 + 2) + 1) = -1;
                *(_BYTE *)(4 * i + *((_DWORD *)v3 + 2) + 2) = -1;
                *(_BYTE *)(4 * i + *((_DWORD *)v3 + 2) + 3) = -1;
              }
            }
            if ( *(_WORD *)(v5 + 14) == 1 )
            {
              v22 = (v59 + 7) >> 3;
            }
            else
            {
              if ( *(_WORD *)(v5 + 14) != 4 )
              {
                v20 = v59 * ((unsigned int)*(_WORD *)(v5 + 14) >> 3);
                v21 = v20 + 3;
LABEL_96:
                v56 = v21 & 0xFFFFFFFC;
                v51 = v20;
                *(_DWORD *)v3 = v65;
                v23 = (v20 + 3) & 0xFFFFFFFC;
                v24 = *((_DWORD *)v3 + 16) == 0;
                *((_DWORD *)v3 + 3) = v59;
                *((_DWORD *)v3 + 12) = v23;
                *((_DWORD *)v3 + 13) = 0;
                *((_DWORD *)v3 + 4) = v57;
                *((_DWORD *)v3 + 5) = 1;
                if ( v24 )
                  return 0;
                if ( *(_DWORD *)(v5 + 8) < 0 && *(_WORD *)(v5 + 14) >= 8u )
                {
                  *((_DWORD *)v3 + 14) = 0;
                  *((_DWORD *)v3 + 1) = v5 + v52;
                  return 0;
                }
                *((_DWORD *)v3 + 14) = 1;
                v25 = sub_100015F0(v57 * v23);
                v66 = v25;
                *((_DWORD *)v3 + 1) = v25;
                if ( !v25 )
                  return -2147024882;
                v26 = v52 + v5;
                v27 = *((_DWORD *)v3 + 12);
                if ( *(_DWORD *)(v5 + 8) >= 0 )
                {
                  v53 = -v27;
                  v28 = v25 + v27 * (v57 - 1);
                }
                else
                {
                  v53 = *((_DWORD *)v3 + 12);
                  v28 = v25;
                }
                v58 = v25 + v57 * v27;
                v29 = *(_DWORD *)(v5 + 16);
                v62 = v28;
                v55 = v28;
                if ( v29 == 2 )
                {
                  if ( v28 >= (unsigned int)v25 )
                  {
                    do
                    {
                      if ( *(_BYTE *)v26 )
                      {
                        v34 = 0;
                        if ( *(_BYTE *)v26 )
                        {
                          do
                          {
                            if ( v34 & 1 )
                              LOBYTE(v35) = *(_BYTE *)(v26 + 1) & 0xF;
                            else
                              v35 = (unsigned int)*(_BYTE *)(v26 + 1) >> 4;
                            *(_BYTE *)(v34++ + v28) = v35;
                          }
                          while ( v34 < *(_BYTE *)v26 );
                          v3 = v54;
                        }
                        v28 += *(_BYTE *)v26;
                      }
                      else
                      {
                        if ( *(_BYTE *)(v26 + 1) )
                        {
                          if ( *(_BYTE *)(v26 + 1) == 1 )
                          {
                            v28 = v66 - *((_DWORD *)v3 + 12);
                          }
                          else
                          {
                            if ( *(_BYTE *)(v26 + 1) == 2 )
                            {
                              v28 += *(_BYTE *)(v26 + 2) - *((_DWORD *)v3 + 12) * *(_BYTE *)(v26 + 3);
                              v26 += 2;
                            }
                            else
                            {
                              v30 = 0;
                              if ( (signed int)*(_BYTE *)(v26 + 1) > 0 )
                              {
                                do
                                {
                                  v31 = *(_BYTE *)((v30 >> 1) + v26 + 2);
                                  if ( v30 & 1 )
                                    LOBYTE(v32) = v31 & 0xF;
                                  else
                                    v32 = v31 >> 4;
                                  *(_BYTE *)(v30++ + v28) = v32;
                                }
                                while ( v30 < *(_BYTE *)(v26 + 1) );
                                v3 = v54;
                              }
                              v33 = *(_BYTE *)(v26 + 1);
                              v28 += v33;
                              v26 += ((v33 >> 1) + 1) & 0xFFFFFFFE;
                            }
                          }
                        }
                        else
                        {
                          v28 = v55 - *((_DWORD *)v3 + 12);
                          v55 -= *((_DWORD *)v3 + 12);
                        }
                      }
                      v26 += 2;
                    }
                    while ( v28 >= v66 );
                  }
                  return 0;
                }
                if ( v29 != 1 )
                {
                  v44 = *(_WORD *)(v5 + 14);
                  if ( v44 == 1 )
                  {
                    while ( v28 >= (unsigned int)v25 && v28 < (unsigned int)v58 )
                    {
                      v63 = 0;
                      if ( v59 )
                      {
                        do
                        {
                          *(_BYTE *)(v63 + v28) = (*(_BYTE *)((v63 >> 3) + v26) >> (7 - (v63 & 7))) & 1;
                          ++v63;
                        }
                        while ( v63 < v59 );
                        v25 = v66;
                      }
                      v28 += v53;
                      v26 += v56;
                    }
                  }
                  else
                  {
                    if ( v44 == 4 )
                    {
                      if ( v28 >= (unsigned int)v25 )
                      {
                        do
                        {
                          if ( v28 >= (unsigned int)v58 )
                            break;
                          v45 = 0;
                          if ( v59 )
                          {
                            do
                            {
                              v46 = *(_BYTE *)((v45 >> 1) + v26);
                              if ( v45 & 1 )
                                LOBYTE(v47) = v46 & 0xF;
                              else
                                v47 = v46 >> 4;
                              *(_BYTE *)(v45++ + v28) = v47;
                            }
                            while ( v45 < v59 );
                          }
                          v28 += v53;
                          v26 += v56;
                        }
                        while ( v28 >= v66 );
                      }
                    }
                    else
                    {
                      while ( v28 >= (unsigned int)v25 )
                      {
                        if ( v28 >= (unsigned int)v58 )
                          break;
                        v48 = (const void *)v26;
                        v26 += v56;
                        v49 = (void *)v28;
                        v28 += v53;
                        memcpy(v49, v48, v51);
                      }
                    }
                  }
                  return 0;
                }
                if ( v28 < (unsigned int)v25 )
                  return 0;
                while ( !*(_BYTE *)v26 )
                {
                  if ( *(_BYTE *)(v26 + 1) )
                  {
                    if ( *(_BYTE *)(v26 + 1) == 1 )
                    {
                      v28 = v66 - *((_DWORD *)v3 + 12);
                    }
                    else
                    {
                      if ( *(_BYTE *)(v26 + 1) != 2 )
                      {
                        memcpy((void *)v28, (const void *)(v26 + 2), *(_BYTE *)(v26 + 1));
                        v36 = *(_BYTE *)(v26 + 1);
                        v28 += v36;
                        v26 += (v36 + 1) & 0xFFFFFFFE;
LABEL_144:
                        v3 = v54;
                        goto LABEL_145;
                      }
                      v28 += *(_BYTE *)(v26 + 2) - *((_DWORD *)v3 + 12) * *(_BYTE *)(v26 + 3);
                      v26 += 2;
                    }
                  }
                  else
                  {
                    v28 = v55 - *((_DWORD *)v3 + 12);
                    v55 -= *((_DWORD *)v3 + 12);
                  }
LABEL_145:
                  v26 += 2;
                  v62 = v28;
                  if ( v28 < v66 )
                    return 0;
                }
                v37 = (void *)v28;
                LOBYTE(v28) = *(_BYTE *)(v26 + 1);
                BYTE1(v28) = *(_BYTE *)(v26 + 1);
                v39 = *(_BYTE *)v26;
                v40 = (unsigned int)*(_BYTE *)v26 >> 2;
                v41 = v28 << 16;
                LOWORD(v41) = v28;
                memset32(v37, v41, v40);
                v42 = (int)((char *)v37 + 4 * v40);
                for ( j = v39 & 3; j; --j )
                  *(_BYTE *)v42++ = v38;
                v28 = *(_BYTE *)v26 + v62;
                goto LABEL_144;
              }
              v22 = (v59 + 1) >> 1;
            }
            v20 = v59;
            v21 = v22 + 3;
            goto LABEL_96;
          }
          return -2147467259;
        }
LABEL_77:
        v65 = 22;
        goto LABEL_80;
      }
      if ( v12 != 255 || v13 != 65280 || v14 != 16711680 || v64 )
        return -2147467259;
      goto LABEL_43;
    }
    if ( v12 == 255 )
    {
      if ( v13 == 255 && v14 == 255 && v64 == 65280 )
      {
        v65 = 51;
        goto LABEL_80;
      }
      return -2147467259;
    }
    if ( v12 != 31 )
    {
      if ( v12 == 15 )
      {
        if ( v13 == 240 && v14 == 3840 )
        {
          if ( v64 == 61440 )
          {
            v65 = 26;
            goto LABEL_80;
          }
          if ( !v64 )
          {
            v65 = 30;
            goto LABEL_80;
          }
        }
      }
      else
      {
        if ( v12 == 3 && v13 == 28 && v14 == 224 && v64 == 65280 )
        {
          v65 = 29;
          goto LABEL_80;
        }
      }
      return -2147467259;
    }
    if ( v13 == 2016 )
    {
      if ( v14 == 63488 && !v64 )
      {
        v65 = 23;
        goto LABEL_80;
      }
      return -2147467259;
    }
    if ( v13 != 992 || v14 != 31744 )
      return -2147467259;
    if ( v64 )
    {
      if ( v64 == 32768 )
      {
        v65 = 25;
        goto LABEL_80;
      }
      return -2147467259;
    }
    goto LABEL_78;
  }
  return -2147467263;
}

//----- (1004AFD2) --------------------------------------------------------
signed int __thiscall sub_1004AFD2(int this, HANDLE hFile, struct _OVERLAPPED *NumberOfBytesWritten)
{
  int v3; // ebx@1
  int v4; // eax@1
  struct _OVERLAPPED *v5; // edx@1
  bool v6; // zf@1
  unsigned int v8; // ecx@6
  int v9; // ecx@9
  int v10; // esi@9
  unsigned int v11; // edi@9
  int v12; // ecx@9
  int v13; // eax@10
  char v14; // dl@10
  unsigned int v15; // esi@12
  char v16; // cl@13
  int v17; // eax@13
  char v18; // cl@13
  int v19; // ecx@16
  int v20; // eax@16
  unsigned int v21; // ecx@16
  int v22; // ecx@16
  DWORD v23; // ecx@16
  DWORD v24; // esi@16
  int v25; // ecx@20
  int v26; // edx@20
  int v27; // eax@20
  int v28; // edi@20
  char v29; // [sp+Ch] [bp-424h]@7
  char v30; // [sp+Dh] [bp-423h]@7
  char v31; // [sp+Eh] [bp-422h]@7
  char v32[1021]; // [sp+Fh] [bp-421h]@7
  int v33; // [sp+40Ch] [bp-24h]@1
  int v34; // [sp+410h] [bp-20h]@16
  int v35; // [sp+414h] [bp-1Ch]@16
  __int16 v36; // [sp+418h] [bp-18h]@16
  unsigned __int16 v37; // [sp+41Ah] [bp-16h]@6
  int v38; // [sp+41Ch] [bp-14h]@6
  int v39; // [sp+424h] [bp-Ch]@16
  int v40; // [sp+428h] [bp-8h]@16
  __int16 Buffer; // [sp+478h] [bp+48h]@16
  char v42[6]; // [sp+47Ah] [bp+4Ah]@16
  int v43; // [sp+480h] [bp+50h]@16
  unsigned int v44; // [sp+488h] [bp+58h]@16
  char v45; // [sp+48Ch] [bp+5Ch]@1
  char v46; // [sp+48Dh] [bp+5Dh]@1
  char v47; // [sp+48Eh] [bp+5Eh]@1
  char v48; // [sp+48Fh] [bp+5Fh]@1
  unsigned int v49; // [sp+490h] [bp+60h]@1
  char v50; // [sp+494h] [bp+64h]@1
  char v51; // [sp+495h] [bp+65h]@1
  char v52; // [sp+496h] [bp+66h]@1
  char v53; // [sp+497h] [bp+67h]@1
  DWORD nNumberOfBytesToWrite; // [sp+498h] [bp+68h]@1
  DWORD v55; // [sp+49Ch] [bp+6Ch]@1

  v50 = 0;
  v51 = 0;
  v52 = 0;
  v53 = 0;
  LOBYTE(v55) = 0;
  BYTE3(v55) = -1;
  v45 = 0;
  v3 = this;
  memset(&v33, 0, 0x6Cu);
  v4 = *(_DWORD *)this;
  v5 = 0;
  v6 = *(_DWORD *)this == 20;
  *(_WORD *)((char *)&v55 + 1) = -21931;
  v46 = 36;
  v47 = 73;
  v48 = 109;
  v49 = -2378094;
  nNumberOfBytesToWrite = 0;
  if ( v6 )
  {
    v33 = 40;
    v38 = 0;
    v37 = 24;
  }
  else
  {
    if ( v4 == 27 )
    {
      v33 = 40;
      v38 = 0;
      v37 = 8;
      nNumberOfBytesToWrite = 1024;
      v15 = 0;
      do
      {
        v16 = *(&v45 + (v15 >> 5));
        v17 = 4 * v15;
        v32[4 * v15] = 0;
        *(&v31 + 4 * v15) = v16;
        *(&v30 + 4 * v15) = *(&v45 + ((v15 >> 2) & 7));
        v18 = *((_BYTE *)&v55 + (v15++ & 3));
        *(&v29 + v17) = v18;
      }
      while ( v15 < 0x100 );
    }
    else
    {
      if ( v4 == 41 )
      {
        v9 = *(_DWORD *)(this + 8);
        v10 = v9 + 2;
        v11 = 0;
        v33 = 40;
        v38 = 0;
        v37 = 8;
        nNumberOfBytesToWrite = 1024;
        v12 = v9 - (_DWORD)&v30;
        do
        {
          v13 = 4 * v11;
          *(&v31 + 4 * v11) = *(&v30 + 4 * v11 + v12);
          *(&v30 + 4 * v11) = *(_BYTE *)(v10 - 1);
          v14 = *(_BYTE *)v10;
          v32[4 * v11++] = 0;
          v10 += 4;
          *(&v29 + v13) = v14;
        }
        while ( v11 < 0x100 );
        v5 = 0;
      }
      else
      {
        if ( v4 != 50 )
          return -2147467259;
        v33 = 40;
        v38 = 0;
        v37 = 8;
        nNumberOfBytesToWrite = 1024;
        v8 = 0;
        do
        {
          v32[4 * v8] = 0;
          *(&v31 + 4 * v8) = v8;
          *(&v30 + 4 * v8) = v8;
          *(&v29 + 4 * v8) = v8;
          ++v8;
        }
        while ( v8 < 0x100 );
      }
    }
  }
  v19 = *(_DWORD *)(v3 + 12);
  v20 = *(_DWORD *)(v3 + 16);
  v39 = 2834;
  v40 = 2834;
  v34 = v19;
  v21 = ((unsigned int)v37 >> 3) * v19;
  v35 = v20;
  v55 = v21;
  v22 = (v21 + 3) & 0xFFFFFFFC;
  v49 = v22;
  v23 = v22 * v20 + nNumberOfBytesToWrite + 54;
  *(_DWORD *)&v42[2] = 0;
  v43 = 0;
  v44 = (unsigned int)v37 >> 3;
  v24 = ((v23 + 3) & 0xFFFFFFFC) - v23;
  *(_DWORD *)v42 = (v23 + 3) & 0xFFFFFFFC;
  v36 = 1;
  Buffer = 19778;
  *(int *)((char *)&v43 + 2) = nNumberOfBytesToWrite + 54;
  if ( NumberOfBytesWritten != v5 )
  {
    WriteFile(hFile, &Buffer, 0xEu, (LPDWORD)&NumberOfBytesWritten, v5);
    v5 = 0;
  }
  WriteFile(hFile, &v33, 0x28u, (LPDWORD)&NumberOfBytesWritten, v5);
  if ( nNumberOfBytesToWrite )
    WriteFile(hFile, &v29, nNumberOfBytesToWrite, (LPDWORD)&NumberOfBytesWritten, 0);
  v25 = *(_DWORD *)(v3 + 48);
  v26 = v44 * *(_DWORD *)(v3 + 24);
  v27 = *(_DWORD *)(v3 + 4) + v26 + v25 * *(_DWORD *)(v3 + 28);
  v28 = v27 + v25 * (*(_DWORD *)(v3 + 16) - 1);
  v44 = *(_DWORD *)(v3 + 4) + v26 + v25 * *(_DWORD *)(v3 + 28);
  if ( v28 >= (unsigned int)v27 )
  {
    do
    {
      WriteFile(hFile, (LPCVOID)v28, v55, (LPDWORD)&NumberOfBytesWritten, 0);
      if ( v55 < v49 )
        WriteFile(hFile, &v50, v49 - v55, (LPDWORD)&NumberOfBytesWritten, 0);
      v28 -= *(_DWORD *)(v3 + 48);
    }
    while ( v28 >= v44 );
  }
  if ( v24 )
    WriteFile(hFile, &v50, v24, (LPDWORD)&NumberOfBytesWritten, 0);
  return 0;
}
// 1004AFD2: using guessed type char var_491[1021];

//----- (1004B2B6) --------------------------------------------------------
void __cdecl sub_1004B2B6(int a1)
{
  (*(void (__cdecl **)(int))(*(_DWORD *)a1 + 8))(a1);
  longjmp((int *)(*(_DWORD *)a1 + 132), 1);
}

//----- (1004B2D3) --------------------------------------------------------
int __cdecl sub_1004B2D3(int a1)
{
  char v2; // [sp+0h] [bp-C8h]@1

  return (*(int (__cdecl **)(int, char *))(*(_DWORD *)a1 + 12))(a1, &v2);
}

//----- (1004B2F1) --------------------------------------------------------
char __cdecl sub_1004B2F1(int a1)
{
  int v1; // eax@1

  v1 = *(_DWORD *)(a1 + 20);
  *(_DWORD *)v1 = *(_DWORD *)(v1 + 28);
  *(_DWORD *)(v1 + 4) = *(_DWORD *)(v1 + 32);
  return 1;
}

//----- (1004B306) --------------------------------------------------------
int __cdecl sub_1004B306(int a1, int a2)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 20);
  *(_DWORD *)result += a2;
  *(_DWORD *)(result + 4) -= a2;
  return result;
}

//----- (1004B318) --------------------------------------------------------
signed int __thiscall sub_1004B318(void *this, int a2, int a3)
{
  signed int v3; // esi@2
  int v4; // eax@3
  int v5; // edi@3
  unsigned int v6; // eax@7
  int v7; // esi@7
  int v8; // ecx@7
  bool v9; // zf@9
  unsigned int v10; // eax@9
  int v11; // ST1C_4@10
  int v12; // eax@10
  void *v13; // ebx@14
  unsigned int v14; // esi@20
  const void *v15; // eax@21
  int v16; // ecx@21
  int v17; // edx@22
  void (__cdecl *v19)(int); // [sp+Ch] [bp-274h]@1
  int (__cdecl *v20)(int); // [sp+14h] [bp-26Ch]@1
  char v21; // [sp+90h] [bp-1F0h]@1
  int v22; // [sp+D0h] [bp-1B0h]@1
  int v23; // [sp+D4h] [bp-1ACh]@3
  int v24; // [sp+E4h] [bp-19Ch]@3
  int v25; // [sp+114h] [bp-16Ch]@4
  unsigned int v26; // [sp+12Ch] [bp-154h]@7
  unsigned int v27; // [sp+130h] [bp-150h]@9
  int v28; // [sp+138h] [bp-148h]@5
  unsigned int v29; // [sp+148h] [bp-138h]@14
  int v30; // [sp+278h] [bp-8h]@1
  int v31; // [sp+27Ch] [bp-4h]@12

  v30 = (int)this;
  v22 = sub_1005A400((int)&v19);
  v19 = sub_1004B2B6;
  v20 = (int (__cdecl *)(int))nullsub_1;
  if ( setjmp3(&v21, 0) )
    goto LABEL_2;
  sub_100583F8((int)&v22, 61, 424);
  v4 = (*(int (__cdecl **)(int *, _DWORD, signed int))v23)(&v22, 0, 36);
  v24 = v4;
  *(_DWORD *)(v4 + 32) = a3;
  *(_DWORD *)(v4 + 8) = nullsub_2;
  *(_DWORD *)(v4 + 12) = sub_1004B2F1;
  *(_DWORD *)(v4 + 16) = sub_1004B306;
  *(_DWORD *)(v4 + 20) = sub_1005A159;
  *(_DWORD *)(v4 + 24) = nullsub_3;
  *(_DWORD *)(v4 + 4) = 0;
  *(_DWORD *)v4 = 0;
  *(_DWORD *)(v4 + 28) = a2;
  v5 = 1;
  sub_10058843((int)&v22, 1);
  if ( !sub_100352DE() )
    v25 = 1;
  v20 = sub_1004B2D3;
  sub_10058B47((int)&v22);
  if ( v28 == 1 )
  {
    v7 = v30;
    v6 = v26;
    *(_DWORD *)v30 = 50;
    *(_DWORD *)(v7 + 48) = v6;
LABEL_9:
    *(_DWORD *)(v7 + 52) = 0;
    v9 = *(_DWORD *)(v7 + 64) == 0;
    *(_DWORD *)(v7 + 12) = v6;
    v10 = v27;
    *(_DWORD *)(v7 + 16) = v27;
    *(_DWORD *)(v7 + 20) = 1;
    if ( !v9 )
    {
      v11 = v10 * *(_DWORD *)(v7 + 48);
      *(_DWORD *)(v7 + 56) = 1;
      v12 = sub_100015F0(v11);
      *(_DWORD *)(v7 + 4) = v12;
      if ( !v12
        || (v31 = (*(int (__cdecl **)(int *, signed int, unsigned int, signed int))(v23 + 8))(&v22, 1, v28 * v26, 1)) == 0 )
      {
        v3 = -2147024882;
        goto LABEL_27;
      }
      if ( *(_DWORD *)v7 == 50 )
      {
        v13 = *(void **)(v7 + 4);
        if ( v29 < v27 )
        {
          while ( 1 )
          {
            sub_1005894F((int)&v22, v31, v5);
            memcpy(v13, *(const void **)v31, v26);
            v13 = (char *)v13 + v26;
            if ( v29 >= v27 )
              break;
            v5 = 1;
          }
        }
      }
      else
      {
        if ( *(_DWORD *)v7 == 22 )
        {
          v14 = *(_DWORD *)(v7 + 4);
          while ( v29 < v27 )
          {
            sub_1005894F((int)&v22, v31, 1);
            v15 = *(const void **)v31;
            v16 = v14 + 4 * v26;
            while ( v14 < v16 )
            {
              BYTE3(v17) = 0;
              *(_WORD *)((char *)&v17 + 1) = *(_BYTE *)v15;
              LOBYTE(v17) = *((_BYTE *)v15 + 1);
              *(_DWORD *)v14 = *((_BYTE *)v15 + 2) | (v17 << 8);
              v14 += 4;
              v15 = (char *)v15 + 3;
            }
          }
        }
      }
      sub_1005879C((int)&v22);
    }
    v3 = 0;
    goto LABEL_27;
  }
  if ( v28 == 3 )
  {
    v6 = v26;
    v7 = v30;
    v8 = 4 * v26;
    *(_DWORD *)v30 = 22;
    *(_DWORD *)(v7 + 48) = v8;
    goto LABEL_9;
  }
LABEL_2:
  v3 = -2147467259;
LABEL_27:
  sub_100584B8(&v22);
  return v3;
}
// 1004B2D2: using guessed type int nullsub_1();
// 1004B2F0: using guessed type int nullsub_2();
// 1004B317: using guessed type int nullsub_3();
// 100584B8: using guessed type _DWORD __cdecl sub_100584B8(_DWORD);
// 1006C57E: using guessed type int __cdecl setjmp3(_DWORD, _DWORD);

//----- (1004B588) --------------------------------------------------------
signed int __thiscall sub_1004B588(void *this, int a2, unsigned int a3)
{
  void *v3; // esi@1
  int v5; // ebx@3
  char v6; // cl@3
  int v7; // edx@4
  int v8; // eax@7
  unsigned int v9; // edi@7
  int v10; // eax@8
  int v11; // eax@9
  int v12; // eax@10
  int v13; // ecx@16
  int v14; // ecx@21
  int v15; // ecx@22
  int v16; // ecx@23
  unsigned int v17; // eax@32
  int v18; // edx@37
  int v19; // eax@39
  unsigned int v20; // eax@40
  unsigned int v21; // ecx@40
  int v22; // edx@41
  unsigned int v23; // eax@45
  int v24; // edi@45
  unsigned int v25; // edx@45
  unsigned int v26; // eax@46
  int v27; // edi@46
  unsigned int v28; // edx@46
  unsigned int v29; // edx@47
  int v30; // edi@51
  int v31; // ecx@52
  int v32; // eax@52
  unsigned int v33; // edi@52
  bool v34; // zf@52
  int v35; // eax@58
  int v36; // edx@60
  int v37; // eax@66
  int v38; // ecx@69
  void *v39; // [sp+8h] [bp-34h]@1
  int v40; // [sp+Ch] [bp-30h]@33
  int v41; // [sp+Ch] [bp-30h]@72
  int v42; // [sp+10h] [bp-2Ch]@39
  int v43; // [sp+14h] [bp-28h]@32
  int v44; // [sp+18h] [bp-24h]@32
  int v45; // [sp+1Ch] [bp-20h]@32
  unsigned int v46; // [sp+20h] [bp-1Ch]@0
  int v47; // [sp+20h] [bp-1Ch]@69
  char v48; // [sp+24h] [bp-18h]@0
  unsigned int v49; // [sp+24h] [bp-18h]@66
  signed int v50; // [sp+28h] [bp-14h]@7
  unsigned int v51; // [sp+28h] [bp-14h]@62
  int v52; // [sp+2Ch] [bp-10h]@39
  signed int v53; // [sp+30h] [bp-Ch]@20
  unsigned int v54; // [sp+34h] [bp-8h]@16
  int v55; // [sp+38h] [bp-4h]@33
  const void *v56; // [sp+38h] [bp-4h]@52
  int v57; // [sp+44h] [bp+8h]@39
  void *v58; // [sp+44h] [bp+8h]@64
  int v59; // [sp+48h] [bp+Ch]@32
  int v60; // [sp+48h] [bp+Ch]@33
  int v61; // [sp+48h] [bp+Ch]@52

  v3 = this;
  v39 = this;
  if ( a3 < 0x12 )
    return -2147467259;
  v5 = a2;
  v6 = *(_BYTE *)(a2 + 1);
  if ( v6 & 0xFE || (v7 = *(_BYTE *)(a2 + 2), v7 & 0xFFFFFFF4) || !*(_WORD *)(a2 + 12) || !*(_WORD *)(a2 + 14) )
    return -2147467259;
  v8 = *(_BYTE *)(a2 + 7);
  v50 = 0;
  v9 = (unsigned int)(v8 + 7) >> 3;
  if ( v6 )
  {
    v10 = v8 - 15;
    if ( v10 )
    {
      v11 = v10 - 1;
      if ( v11 )
      {
        v12 = v11 - 8;
        if ( v12 )
        {
          if ( v12 != 8 )
            return -2147467259;
          v50 = 21;
        }
        else
        {
          v50 = 20;
        }
      }
      else
      {
        v50 = 25;
      }
    }
    else
    {
      v50 = 24;
    }
  }
  v13 = *(_BYTE *)(a2 + 16);
  v54 = (unsigned int)(v13 + 7) >> 3;
  if ( (v7 & 3) == 1 )
  {
    if ( !*(_BYTE *)(a2 + 1) || *(_BYTE *)(a2 + 16) != 8 )
      return -2147467259;
    v53 = 41;
  }
  else
  {
    if ( (v7 & 3) == 2 )
    {
      v14 = v13 - 15;
      if ( v14 )
      {
        v15 = v14 - 1;
        if ( v15 )
        {
          v16 = v15 - 8;
          if ( v16 )
          {
            if ( v16 != 8 )
              return -2147467259;
            v53 = 21;
          }
          else
          {
            v53 = 20;
          }
        }
        else
        {
          v53 = 25;
        }
      }
      else
      {
        v53 = 24;
      }
    }
    else
    {
      if ( (v7 & 3) != 3 || *(_BYTE *)(a2 + 16) != 8 )
        return -2147467259;
      v53 = 50;
    }
  }
  v43 = v7 & 8;
  v44 = (*(_BYTE *)(a2 + 17) & 0x20) == 32;
  v17 = *(_BYTE *)a2;
  v59 = a3 - 18;
  v45 = (*(_BYTE *)(a2 + 17) & 0x10) != 16;
  if ( v59 < v17 || (v60 = v59 - v17, v55 = v17 + a2 + 18, v40 = v9 * *(_WORD *)(a2 + 5), v60 < v9 * *(_WORD *)(a2 + 5)) )
    return -2147467259;
  if ( *((_DWORD *)v3 + 16) && v53 == 41 )
  {
    if ( *(_WORD *)(a2 + 5) + *(_WORD *)(a2 + 3) > 256 )
      return -2147467259;
    v18 = sub_100015F0(1024);
    *((_DWORD *)v3 + 2) = v18;
    if ( !v18 )
      return -2147024882;
    *((_DWORD *)v3 + 15) = 1;
    memset((void *)v18, -1, 0x400u);
    v57 = v55;
    v19 = *((_DWORD *)v3 + 2) + 4 * *(_WORD *)(v5 + 3);
    v52 = *((_DWORD *)v3 + 2) + 4 * *(_WORD *)(v5 + 3);
    v42 = v19 + 4 * *(_WORD *)(v5 + 5);
    if ( v19 < v19 + 4 * (unsigned int)*(_WORD *)(v5 + 5) )
    {
      LOBYTE(v20) = v60;
      LOBYTE(v21) = v60;
      while ( 1 )
      {
        LOBYTE(v22) = v48;
        if ( v50 == 20 )
          break;
        if ( v50 == 21 )
        {
          v29 = *(_DWORD *)v57;
          LOBYTE(v21) = BYTE1(v29);
          v46 = *(_DWORD *)v57 >> 24;
          LOBYTE(v20) = *(_DWORD *)v57 >> 16;
          v22 = *(_DWORD *)v57 & 0xFF;
          v57 += 4;
          goto LABEL_50;
        }
        if ( v50 == 24 )
        {
          v26 = *(_WORD *)v57;
          v27 = v26 & 0x1F;
          v28 = v26 >> 5;
          v20 = 8 * (((unsigned int)*(_WORD *)v57 >> 10) & 0x1F) | ((((unsigned int)*(_WORD *)v57 >> 10) & 0x1F) >> 2);
          v21 = 8 * (v28 & 0x1F) | ((v28 & 0x1F) >> 2);
          v22 = 8 * v27 | ((unsigned int)v27 >> 2);
          v57 += 2;
LABEL_49:
          LOBYTE(v46) = -1;
          goto LABEL_50;
        }
        if ( v50 == 25 )
        {
          v23 = *(_WORD *)v57;
          v46 = 255 * ((unsigned int)*(_WORD *)v57 >> 15);
          v24 = v23 & 0x1F;
          v25 = v23 >> 5;
          v20 = 8 * ((v23 >> 10) & 0x1F) | (((v23 >> 10) & 0x1F) >> 2);
          v21 = 8 * (v25 & 0x1F) | ((v25 & 0x1F) >> 2);
          v22 = 8 * v24 | ((unsigned int)v24 >> 2);
          v57 += 2;
LABEL_50:
          v48 = v22;
        }
        v30 = v52;
        v52 += 4;
        *(_BYTE *)(v30 + 2) = v22;
        *(_BYTE *)(v30 + 3) = v46;
        *(_BYTE *)v30 = v20;
        *(_BYTE *)(v30 + 1) = v21;
        if ( v52 >= (unsigned int)v42 )
          goto LABEL_52;
      }
      LOBYTE(v20) = *(_BYTE *)(v57 + 2);
      LOBYTE(v21) = *(_BYTE *)(v57 + 1);
      LOBYTE(v22) = *(_BYTE *)v57;
      v57 += 3;
      goto LABEL_49;
    }
  }
LABEL_52:
  v61 = v60 - v40;
  v31 = v40 + v55;
  v32 = v54 * *(_WORD *)(v5 + 12) * *(_WORD *)(v5 + 14);
  *(_DWORD *)v3 = v53;
  *((_DWORD *)v3 + 1) = v40 + v55;
  v33 = 0;
  v34 = *((_DWORD *)v3 + 16) == 0;
  *((_DWORD *)v3 + 12) = v54 * *(_WORD *)(v5 + 12);
  *((_DWORD *)v3 + 13) = 0;
  *((_DWORD *)v3 + 3) = *(_WORD *)(v5 + 12);
  v56 = (const void *)(v40 + v55);
  *((_DWORD *)v3 + 4) = *(_WORD *)(v5 + 14);
  *((_DWORD *)v3 + 5) = 1;
  if ( v34 )
    return 0;
  if ( !v43 && v44 && v45 )
  {
    if ( v61 >= (unsigned int)v32 )
    {
      *((_DWORD *)v3 + 1) = v31;
      *((_DWORD *)v3 + 14) = 0;
      return 0;
    }
  }
  else
  {
    v35 = sub_100015F0(v32);
    *((_DWORD *)v3 + 1) = v35;
    if ( !v35 )
      return -2147024882;
    *((_DWORD *)v3 + 14) = 1;
    if ( v44 )
      v36 = v35;
    else
      v36 = v35 + *((_DWORD *)v3 + 12) * (*(_WORD *)(v5 + 14) - 1);
    v51 = 0;
    if ( !*(_WORD *)(v5 + 14) )
      return 0;
    while ( 1 )
    {
      v58 = (void *)(v45 == v33 ? v36 + *((_DWORD *)v3 + 12) - v54 : v36);
      v37 = *(_WORD *)(v5 + 12);
      v49 = v33;
      if ( v37 > v33 )
        break;
LABEL_83:
      if ( v44 == v33 )
        v36 -= *((_DWORD *)v3 + 12);
      else
        v36 += *((_DWORD *)v3 + 12);
      ++v51;
      if ( v51 >= *(_WORD *)(v5 + 14) )
        return 0;
    }
    while ( 1 )
    {
      if ( v43 == v33 )
      {
        v47 = v33;
      }
      else
      {
        if ( (unsigned int)v61 < 1 )
          return -2147467259;
        v38 = *(_BYTE *)v56 & 0x80;
        v37 = (*(_BYTE *)v56 & 0x7F) + 1;
        v56 = (char *)v56 + 1;
        --v61;
        v47 = v38;
      }
      v49 += v37;
      if ( v37 != v33 )
        break;
LABEL_80:
      if ( v47 )
      {
        v56 = (char *)v56 + v54;
        v61 -= v54;
      }
      v37 = *(_WORD *)(v5 + 12);
      v33 = 0;
      if ( v49 >= v37 )
        goto LABEL_83;
    }
    while ( 1 )
    {
      v41 = v37 - 1;
      if ( v61 < v54 )
        break;
      memcpy(v58, v56, v54);
      if ( !v47 )
      {
        v56 = (char *)v56 + v54;
        v61 -= v54;
      }
      if ( v45 )
        v58 = (char *)v58 + v54;
      else
        v58 = (char *)v58 - v54;
      --v37;
      if ( !v41 )
      {
        v3 = v39;
        goto LABEL_80;
      }
    }
  }
  return -2147467259;
}

//----- (1004BA2F) --------------------------------------------------------
int __thiscall sub_1004BA2F(void *this, int a2, unsigned int a3)
{
  void *v3; // esi@1
  int *v5; // edi@8
  bool v6; // zf@8
  int v7; // ebx@8
  int v8; // ecx@21
  int v9; // eax@35
  int v10; // edi@47
  __int64 v11; // qax@49
  int v12; // ebx@49
  unsigned __int64 v13; // qtt@49
  __int64 v14; // qax@49
  signed int v15; // [sp+8h] [bp-18h]@5
  int v16; // [sp+Ch] [bp-14h]@8
  int v17; // [sp+10h] [bp-10h]@0
  int v18; // [sp+14h] [bp-Ch]@8
  unsigned int v19; // [sp+18h] [bp-8h]@8
  signed int v20; // [sp+1Ch] [bp-4h]@8
  int v21; // [sp+2Ch] [bp+Ch]@8
  int v22; // [sp+2Ch] [bp+Ch]@47

  v3 = this;
  if ( a3 < 2 )
    return -2147467259;
  if ( *(_BYTE *)a2 != 80 )
    return -2147467259;
  if ( *(_BYTE *)(a2 + 1) == 51 )
  {
    v15 = 1;
  }
  else
  {
    if ( *(_BYTE *)(a2 + 1) != 54 )
      return -2147467259;
    v15 = 0;
  }
  v5 = (int *)(a2 + 2);
  v6 = a3 == 2;
  v21 = a3 - 2;
  v7 = 0;
  v18 = a2 + 2;
  v20 = 0;
  v16 = 0;
  v19 = 255;
  if ( v6 )
    return -2147467259;
  while ( v15 != v7 || v20 != 3 )
  {
    if ( !isspace(*(_BYTE *)v5) )
    {
      if ( *(_BYTE *)v5 != 35 )
      {
        if ( v21 )
        {
          do
          {
            if ( isspace(*(_BYTE *)v5) )
              break;
            if ( !isdigit(*(_BYTE *)v5) )
              return -2147467259;
            v8 = *(_BYTE *)v5;
            v5 = (int *)((char *)v5 + 1);
            v6 = v21-- == 1;
            v7 = v8 + 10 * v7 - 48;
            v18 = (int)v5;
          }
          while ( !v6 );
        }
        if ( v20 )
        {
          if ( v20 == 1 )
          {
            if ( !v7 )
              return -2147467259;
            v9 = sub_100015F0(4 * v16 * v7);
            *((_DWORD *)v3 + 1) = v9;
            if ( !v9 )
              return -2147024882;
            a2 = v9;
            *((_DWORD *)v3 + 13) = 0;
            v17 = v9 + 4 * v16 * v7;
            v5 = (int *)v18;
            *((_DWORD *)v3 + 14) = 1;
            *(_DWORD *)v3 = 22;
            *((_DWORD *)v3 + 12) = 4 * v16;
            *((_DWORD *)v3 + 3) = v16;
            *((_DWORD *)v3 + 4) = v7;
            *((_DWORD *)v3 + 5) = 1;
            goto LABEL_39;
          }
          if ( v20 != 2 )
          {
            switch ( v20 )
            {
              case 3:
                if ( a2 >= (unsigned int)v17 )
                  return -2147467259;
                *(_DWORD *)a2 = (255 * v7 / v19 | 0xFFFFFF00) << 16;
                break;
              case 4:
                *(_DWORD *)a2 |= 255 * v7 / v19 << 8;
                break;
              case 5:
                *(_DWORD *)a2 |= 255 * v7 / v19;
                a2 += 4;
                if ( a2 == v17 )
                  return 0;
                v20 = 2;
                break;
            }
            goto LABEL_39;
          }
          v19 = v7;
        }
        else
        {
          v16 = v7;
        }
        if ( !v7 )
          return -2147467259;
LABEL_39:
        ++v20;
        goto LABEL_40;
      }
      if ( v21 != v7 )
      {
        do
        {
          if ( *(_BYTE *)v5 == 10 )
            break;
          v5 = (int *)((char *)v5 + 1);
          --v21;
        }
        while ( v21 );
      }
    }
    v5 = (int *)((char *)v5 + 1);
    --v21;
    v18 = (int)v5;
LABEL_40:
    v7 = 0;
    if ( !v21 )
      return -2147467259;
  }
  if ( v19 > 0xFF )
    return -2147467259;
  if ( (unsigned int)v21 > 1 && *(_BYTE *)v5 == 13 )
  {
    v5 = (int *)((char *)v5 + 1);
    --v21;
  }
  v10 = (int)((char *)v5 + 1);
  v22 = v21 - 1;
  if ( v22 )
  {
    do
    {
      if ( a2 >= (unsigned int)v17 )
        break;
      v11 = 255 * (unsigned int)*(_BYTE *)v10 / v19;
      v10 += 3;
      v12 = v11;
      LODWORD(v13) = 255 * *(_BYTE *)(v10 - 2);
      HIDWORD(v13) = HIDWORD(v11);
      v14 = (unsigned int)(v13 / v19);
      LODWORD(v13) = 255 * *(_BYTE *)(v10 - 1);
      HIDWORD(v13) = HIDWORD(v14);
      *(_DWORD *)a2 = v13 / v19 | (((unsigned int)v14 | ((v12 | 0xFFFFFF00) << 8)) << 8);
      v6 = v22 == 3;
      v22 -= 3;
      a2 += 4;
    }
    while ( !v6 );
  }
  return a2 != v17 ? 0x80004005 : 0;
}

//----- (1004BCB5) --------------------------------------------------------
unsigned int __cdecl sub_1004BCB5(int *a1, void *a2, unsigned int a3)
{
  int v3; // ebx@1
  const void *v4; // esi@3
  unsigned int result; // eax@3

  v3 = a1[21];
  if ( a3 > *(_DWORD *)(v3 + 4) )
    sub_1005A502(a1, (int)"read error");
  v4 = *(const void **)v3;
  memcpy(a2, *(const void **)v3, 4 * (a3 >> 2));
  result = a3;
  memcpy((char *)a2 + 4 * (a3 >> 2), (char *)v4 + 4 * (a3 >> 2), a3 & 3);
  *(_DWORD *)v3 += a3;
  *(_DWORD *)(v3 + 4) -= a3;
  return result;
}

//----- (1004BCF8) --------------------------------------------------------
void __cdecl sub_1004BCF8(int *a1)
{
  longjmp(a1, 1);
}

//----- (1004BD05) --------------------------------------------------------
signed int __thiscall sub_1004BD05(void *this, int a2, unsigned int a3)
{
  int v3; // eax@2
  int v4; // esi@5
  int v6; // eax@36
  int v7; // eax@44
  int v8; // eax@51
  int v9; // eax@53
  int v10; // eax@54
  int v11; // eax@55
  int v12; // eax@56
  char v13; // al@59
  signed int v14; // esi@60
  int v15; // eax@61
  int v16; // eax@62
  int v17; // eax@63
  int v18; // ST34_4@68
  int v19; // ST30_4@68
  int v20; // eax@68
  bool v21; // zf@68
  int v22; // eax@69
  int v23; // ST34_4@70
  unsigned int i; // eax@71
  double v25; // st7@80
  signed __int64 v26; // qax@81
  int v27; // ecx@81
  bool v28; // sf@81
  unsigned __int8 v29; // of@81
  signed int v30; // eax@83
  int v31; // eax@85
  signed int v32; // eax@87
  int v33; // edi@88
  int v34; // ecx@89
  char v35; // bl@89
  int v36; // edi@91
  int v37; // eax@94
  char v38[256]; // [sp+1Ch] [bp-154h]@81
  double v39; // [sp+11Ch] [bp-54h]@32
  long double v40; // [sp+124h] [bp-4Ch]@80
  int v41; // [sp+12Ch] [bp-44h]@5
  unsigned int v42; // [sp+130h] [bp-40h]@5
  int v43; // [sp+134h] [bp-3Ch]@77
  int v44; // [sp+138h] [bp-38h]@30
  int v45; // [sp+13Ch] [bp-34h]@1
  int v46; // [sp+140h] [bp-30h]@5
  int v47; // [sp+144h] [bp-2Ch]@5
  int v48; // [sp+148h] [bp-28h]@74
  int v49; // [sp+14Ch] [bp-24h]@5
  int v50; // [sp+150h] [bp-20h]@74
  int v51; // [sp+154h] [bp-1Ch]@1
  unsigned int v52; // [sp+158h] [bp-18h]@5
  int v53; // [sp+15Ch] [bp-14h]@80
  int v54; // [sp+160h] [bp-10h]@75
  int v55; // [sp+164h] [bp-Ch]@58
  int v56; // [sp+168h] [bp-8h]@1
  int v57; // [sp+16Ch] [bp-4h]@1

  v45 = (int)this;
  v57 = 0;
  v56 = 0;
  v51 = 0;
  if ( sub_1005D2F7(a2, 0, a3) )
    return -2147467259;
  v3 = sub_1005A57F((int)"1.0.5", 0, (int)sub_1004BCF8, (int)nullsub_4);
  v57 = v3;
  if ( !v3 || (v56 = (int)sub_1005D431(v3)) == 0 )
    goto LABEL_86;
  if ( !setjmp3(v57, 0) )
  {
    v41 = a2;
    v42 = a3;
    sub_1005D285(v57, (int)&v41, (int)sub_1004BCB5);
    sub_1005A742(v57, v56);
    sub_1005B0B8(v57, v56, (int)&v46, (int)&v52, (int)&v49, (int)&v47, 0, 0, 0);
    v4 = v45;
    if ( v47 )
    {
      switch ( v47 )
      {
        case 2:
          *(_DWORD *)v45 = 20;
          break;
        case 3:
          *(_DWORD *)v45 = 41;
          break;
        case 4:
          *(_DWORD *)v45 = 51;
          break;
        case 6:
          *(_DWORD *)v45 = 21;
          break;
      }
    }
    else
    {
      *(_DWORD *)v45 = 50;
    }
    if ( v49 == 16 )
    {
      sub_1005B22C(v57);
      switch ( *(_DWORD *)v4 )
      {
        case 0x14:
          *(_DWORD *)v4 = 909201952;
          break;
        case 0x15:
          *(_DWORD *)v4 = 909201985;
          break;
        case 0x32:
          *(_DWORD *)v4 = 909200416;
          break;
        default:
          if ( *(_DWORD *)v4 != 51 )
            return -2147467259;
          *(_DWORD *)v4 = 909200449;
          break;
      }
    }
    if ( v49 < 8 )
      sub_1005B23E(v57);
    if ( !v47 && v49 < 8 )
      sub_1005BAE5(v57);
    if ( sub_1005B08D(v57, v56, (int)&v44) )
    {
      sub_1005D1AF(v57, v56, v44);
    }
    else
    {
      if ( sub_1005B064(v57, v56, (int)&v39) )
        sub_1005BA9D(v57, 2.2, v39);
    }
    if ( *(_DWORD *)v4 != 41 && sub_1005B008(v57, v56, 16) )
    {
      sub_1005BAEE(v57);
      v6 = *(_DWORD *)v4;
      if ( *(_DWORD *)v4 == 20 )
      {
        *(_DWORD *)v4 = 21;
      }
      else
      {
        switch ( v6 )
        {
          case 50:
            *(_DWORD *)v4 = 51;
            break;
          case 909200416:
            *(_DWORD *)v4 = 909200449;
            break;
          case 909201952:
            *(_DWORD *)v4 = 909201985;
            break;
        }
      }
    }
    v7 = *(_DWORD *)v4;
    if ( *(_DWORD *)v4 == 20 || v7 == 909201952 || v7 == 21 || v7 == 909201985 )
      sub_1005B223(v57);
    if ( *(_DWORD *)v4 == 20 )
    {
      sub_1005B289(v57, 0xFFu, 1);
      *(_DWORD *)v4 = 22;
    }
    sub_1005A8B5(1, v57, v56);
    v8 = *(_DWORD *)v4;
    if ( *(_DWORD *)v4 > 51 )
    {
      v15 = v8 - 909200416;
      if ( !v15 )
      {
LABEL_58:
        v55 = 1;
        goto LABEL_59;
      }
      v16 = v15 - 33;
      if ( v16 )
      {
        v17 = v16 - 1503;
        if ( v17 )
        {
          if ( v17 != 33 )
            goto LABEL_59;
          goto LABEL_65;
        }
LABEL_66:
        v55 = 3;
        goto LABEL_59;
      }
    }
    else
    {
      if ( *(_DWORD *)v4 != 51 )
      {
        v9 = v8 - 20;
        if ( v9 )
        {
          v10 = v9 - 1;
          if ( v10 )
          {
            v11 = v10 - 1;
            if ( v11 )
            {
              v12 = v11 - 19;
              if ( !v12 || v12 == 9 )
                goto LABEL_58;
LABEL_59:
              v13 = sub_1005B038(v57, v56);
              if ( v55 != v13 )
                goto LABEL_60;
              v18 = v56;
              *(_DWORD *)(v4 + 12) = v46;
              v19 = v57;
              *(_DWORD *)(v4 + 16) = v52;
              *(_DWORD *)(v4 + 20) = 1;
              v20 = sub_1005B022(v19, v18);
              v21 = *(_DWORD *)(v4 + 64) == 0;
              *(_DWORD *)(v4 + 48) = v20;
              *(_DWORD *)(v4 + 52) = 0;
              if ( !v21 )
              {
                v22 = sub_100015F0(v52 * v20);
                *(_DWORD *)(v4 + 4) = v22;
                if ( !v22 || (v23 = 4 * v52, *(_DWORD *)(v4 + 56) = 1, (v51 = sub_100015F0(v23)) == 0) )
                {
LABEL_86:
                  v14 = -2147024882;
                  goto LABEL_97;
                }
                for ( i = 0; i < v52; ++i )
                  *(_DWORD *)(v51 + 4 * i) = *(_DWORD *)(v4 + 4) + i * *(_DWORD *)(v4 + 48);
                sub_1005AD08(v57, v51);
                if ( *(_DWORD *)v4 == 41 )
                {
                  v48 = 0;
                  v50 = 0;
                  if ( sub_1005B008(v57, v56, 8) )
                    sub_1005B189(v57, v56, (int)&v54, (int)&v50);
                  if ( sub_1005B008(v57, v56, 16) )
                    sub_1005B1BC(v57, v56, (int)&v43, (int)&v48, 0);
                  if ( *(float *)(v57 + 304) <= 0.000001 || *(float *)(v57 + 308) <= 0.000001 )
                  {
                    v30 = 0;
                    do
                    {
                      v38[v30] = v30;
                      ++v30;
                    }
                    while ( v30 < 256 );
                  }
                  else
                  {
                    v25 = *(float *)(v57 + 308);
                    v53 = 0;
                    v40 = 1.0 / (v25 * *(float *)(v57 + 304));
                    do
                    {
                      v26 = (signed __int64)(pow((double)v53 * 0.00392156862745098, v40) * 255.0 + 0.5);
                      v27 = v53++;
                      v29 = __OFSUB__(v53, 256);
                      v28 = v53 - 256 < 0;
                      v38[v27] = v26;
                    }
                    while ( v28 ^ v29 );
                  }
                  v31 = sub_100015F0(1024);
                  *(_DWORD *)(v4 + 8) = v31;
                  if ( !v31 )
                    goto LABEL_86;
                  v32 = 0;
                  v21 = v48 == 0;
                  v28 = v48 < 0;
                  *(_DWORD *)(v4 + 60) = 1;
                  if ( !(v28 | v21) )
                  {
                    v33 = 0;
                    do
                    {
                      v34 = 4 * v32;
                      *(_BYTE *)(4 * v32 + *(_DWORD *)(v4 + 8)) = v38[*(_BYTE *)(v33 + v54)];
                      *(_BYTE *)(*(_DWORD *)(v4 + 8) + 4 * v32 + 1) = v38[*(_BYTE *)(v33 + v54 + 1)];
                      *(_BYTE *)(*(_DWORD *)(v4 + 8) + 4 * v32 + 2) = v38[*(_BYTE *)(v33 + v54 + 2)];
                      v35 = *(_BYTE *)(v32++ + v43);
                      *(_BYTE *)(*(_DWORD *)(v4 + 8) + v34 + 3) = v35;
                      v33 += 3;
                    }
                    while ( v32 < v48 );
                  }
                  if ( v32 < v50 )
                  {
                    v36 = 3 * v32;
                    do
                    {
                      *(_BYTE *)(4 * v32 + *(_DWORD *)(v4 + 8)) = v38[*(_BYTE *)(v36 + v54)];
                      *(_BYTE *)(*(_DWORD *)(v4 + 8) + 4 * v32 + 1) = v38[*(_BYTE *)(v36 + v54 + 1)];
                      *(_BYTE *)(*(_DWORD *)(v4 + 8) + 4 * v32 + 2) = v38[*(_BYTE *)(v36 + v54 + 2)];
                      *(_BYTE *)(*(_DWORD *)(v4 + 8) + 4 * v32++ + 3) = -1;
                      v36 += 3;
                    }
                    while ( v32 < v50 );
                  }
                  if ( v32 < 256 )
                  {
                    v37 = 4 * v32;
                    do
                    {
                      *(_BYTE *)(v37 + *(_DWORD *)(v4 + 8)) = -1;
                      *(_BYTE *)(v37 + *(_DWORD *)(v4 + 8) + 1) = -1;
                      *(_BYTE *)(v37 + *(_DWORD *)(v4 + 8) + 2) = -1;
                      *(_BYTE *)(v37 + *(_DWORD *)(v4 + 8) + 3) = -1;
                      v37 += 4;
                    }
                    while ( v37 < 1024 );
                  }
                }
              }
              v14 = 0;
              goto LABEL_97;
            }
          }
LABEL_65:
          v55 = 4;
          goto LABEL_59;
        }
        goto LABEL_66;
      }
    }
    v55 = 2;
    goto LABEL_59;
  }
LABEL_60:
  v14 = -2147467259;
LABEL_97:
  if ( v57 )
    sub_1005AF87(&v57, (void **)&v56, 0);
  if ( v51 )
    sub_10001610(v51);
  return v14;
}
// 1004BD04: using guessed type int nullsub_4();
// 1006C57E: using guessed type int __cdecl setjmp3(_DWORD, _DWORD);
// 1004BD05: using guessed type char var_154[256];

//----- (1004C29B) --------------------------------------------------------
signed int __thiscall sub_1004C29B(int this, int a2, unsigned int a3)
{
  int v3; // ebx@1
  int v5; // esi@5
  signed int v6; // eax@6
  int v7; // eax@10
  int *v8; // edi@16
  int v9; // eax@18
  int v10; // ebx@19
  int v11; // ebx@19
  int v12; // ecx@19
  int v13; // edx@19
  int v14; // ebx@19
  int v15; // ecx@19
  int v16; // edx@19
  int v17; // ebx@19
  int v18; // edi@35
  unsigned int v19; // eax@36
  int v20; // ecx@41
  int v21; // esi@44
  int v22; // eax@46
  unsigned int v23; // edi@46
  signed int v24; // ebx@46
  int v25; // eax@47
  int v26; // eax@55
  int v27; // eax@56
  int v28; // eax@67
  int v29; // ecx@69
  int v30; // edx@73
  unsigned int v31; // [sp+8h] [bp-2Ch]@36
  int v32; // [sp+Ch] [bp-28h]@19
  int v33; // [sp+Ch] [bp-28h]@41
  int v34; // [sp+10h] [bp-24h]@35
  signed int v35; // [sp+14h] [bp-20h]@14
  unsigned int v36; // [sp+18h] [bp-1Ch]@46
  int v37; // [sp+1Ch] [bp-18h]@0
  signed int v38; // [sp+20h] [bp-14h]@11
  unsigned int v39; // [sp+24h] [bp-10h]@43
  unsigned int v40; // [sp+28h] [bp-Ch]@52
  int v41; // [sp+2Ch] [bp-8h]@1
  int v42; // [sp+30h] [bp-4h]@5
  int v43; // [sp+3Ch] [bp+8h]@19
  unsigned int v44; // [sp+3Ch] [bp+8h]@46
  int v45; // [sp+40h] [bp+Ch]@3
  int v46; // [sp+40h] [bp+Ch]@5

  v3 = this;
  v41 = this;
  if ( a3 < 4 || *(_DWORD *)a2 != 542327876 || (v45 = a3 - 4, (unsigned int)v45 < 0x7C) )
    return -2147467259;
  v46 = v45 - 124;
  v5 = a2 + 4;
  v42 = a2 + 128;
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 12);
  if ( *(_BYTE *)(a2 + 10) & 0x80 )
    v6 = *(_DWORD *)(a2 + 24);
  else
    v6 = 1;
  *(_DWORD *)(this + 20) = v6;
  if ( !v6 )
    *(_DWORD *)(this + 20) = 1;
  v7 = *(_DWORD *)(a2 + 112) & 0xFC00;
  if ( v7 == 64512 )
  {
    v38 = 6;
  }
  else
  {
    if ( v7 )
      return -2147467259;
    v38 = 1;
  }
  v35 = *(_DWORD *)(a2 + 28);
  if ( !*(_DWORD *)(a2 + 28) )
    v35 = 1;
  v8 = &dword_10081FE0;
  if ( dword_10081FE0 )
  {
    do
    {
      if ( *(_DWORD *)(v5 + 72) == 32 )
      {
        v9 = v8[2];
        if ( *(_DWORD *)(v5 + 76) == v9 )
        {
          v10 = v8[2];
          v43 = v10 & 0xC4440;
          v11 = v8[2];
          v32 = v11 & 0xC4040;
          v12 = v8[2];
          v13 = v8[2];
          v14 = v8[2];
          v15 = v12 & 0xC4462;
          v16 = v13 & 0xE4040;
          v17 = v14 & 0x80003;
          if ( (!(v9 & 4) || *(_DWORD *)(v5 + 80) == v8[3])
            && (!v15 || *(_DWORD *)(v5 + 84) == v8[4])
            && (!v16 || *(_DWORD *)(v5 + 88) == v8[5])
            && (!v43 || *(_DWORD *)(v5 + 92) == v8[6])
            && (!v32 || *(_DWORD *)(v5 + 96) == v8[7])
            && (!v17 || *(_DWORD *)(v5 + 100) == v8[8]) )
          {
            v3 = v41;
            break;
          }
          v3 = v41;
        }
      }
      v8 += 9;
    }
    while ( *v8 );
  }
  v18 = *v8;
  v34 = v18;
  if ( v18 )
  {
    v19 = sub_1003C715(v18);
    v31 = v19;
    if ( *(_BYTE *)(v5 + 6) & 0x80 )
      *(_DWORD *)(v3 + 68) = 4;
    else
      *(_DWORD *)(v3 + 68) = 2 * (v38 == 6) + 3;
    if ( *(_DWORD *)(v19 + 4) != 1 )
    {
      v33 = 0;
      goto LABEL_43;
    }
    if ( (unsigned int)v46 >= 0x400 )
    {
      v20 = v42;
      v42 += 1024;
      v46 -= 1024;
      v33 = v20;
LABEL_43:
      v39 = 0;
      if ( !v38 )
        return 0;
      v21 = v46;
      while ( 1 )
      {
        v22 = v41;
        v23 = *(_DWORD *)(v3 + 12);
        v24 = *(_DWORD *)(v3 + 16);
        v36 = v24;
        v44 = *(_DWORD *)(v41 + 20);
        if ( v39 )
        {
          v25 = sub_100015F0(84);
          if ( v25 )
            v22 = sub_1004A76B(v25);
          else
            v22 = 0;
          if ( !v22 )
            return -2147024882;
          *(_DWORD *)(v37 + 80) = v22;
        }
        v40 = 0;
        v37 = v22;
        if ( v35 )
        {
          while ( 1 )
          {
            if ( v40 )
            {
              v26 = sub_100015F0(84);
              if ( v26 )
                v27 = sub_1004A76B(v26);
              else
                v27 = 0;
              if ( !v27 )
                return -2147024882;
              *(_DWORD *)(v21 + 76) = v27;
              v21 = v27;
            }
            else
            {
              v21 = v37;
            }
            if ( v34 == 827611204 )
              break;
            if ( v34 == 844388420 )
              goto LABEL_70;
            if ( v34 == 844715353 )
              goto LABEL_90;
            if ( v34 == 861165636 || v34 == 877942852 || v34 == 894720068 )
            {
LABEL_70:
              v28 = 16 * ((v23 + 3) >> 2);
LABEL_72:
              v29 = v28 * ((unsigned int)(v24 + 3) >> 2);
              goto LABEL_73;
            }
            if ( v34 == 1498831189 )
LABEL_90:
              v28 = 4 * ((v23 + 1) >> 1);
            else
              v28 = v23 * (*(_DWORD *)(v31 + 8) >> 3);
            v29 = v24 * v28;
LABEL_73:
            *(_DWORD *)(v21 + 56) = 0;
            *(_DWORD *)(v21 + 60) = 0;
            v30 = v44 * v29;
            *(_DWORD *)v21 = v34;
            *(_DWORD *)(v21 + 48) = v28;
            *(_DWORD *)(v21 + 4) = v42;
            *(_DWORD *)(v21 + 20) = v44;
            *(_DWORD *)(v21 + 52) = v29;
            *(_DWORD *)(v21 + 12) = v23;
            *(_DWORD *)(v21 + 16) = v36;
            *(_DWORD *)(v21 + 8) = v33;
            if ( v46 < v44 * v29 )
              return -2147467259;
            v42 += v30;
            v46 -= v30;
            if ( v23 == 1 )
              v23 = 1;
            else
              v23 >>= 1;
            if ( v36 == 1 )
              v24 = 1;
            else
              v24 = v36 >> 1;
            v36 = v24;
            if ( v44 == 1 )
              v44 = 1;
            else
              v44 >>= 1;
            ++v40;
            if ( v40 >= v35 )
              goto LABEL_84;
          }
          v28 = 8 * ((v23 + 3) >> 2);
          goto LABEL_72;
        }
LABEL_84:
        ++v39;
        if ( v39 >= v38 )
          return 0;
        v3 = v41;
      }
    }
  }
  return -2147467259;
}
// 10081FE0: using guessed type int dword_10081FE0;

//----- (1004C5DC) --------------------------------------------------------
signed int __thiscall sub_1004C5DC(void *this, HANDLE hFile)
{
  void *v2; // esi@1
  void *i; // eax@1
  int v4; // eax@3
  int *v5; // ebx@3
  int v6; // ecx@4
  signed int result; // eax@8
  unsigned int v8; // eax@9
  int v9; // eax@9
  int v10; // esi@13
  unsigned int v11; // edi@13
  unsigned int v12; // eax@17
  int v13; // esi@22
  bool v14; // cf@23
  bool v15; // zf@23
  unsigned int v16; // eax@24
  unsigned int v17; // edi@25
  int v18; // eax@26
  int v19; // eax@33
  DWORD v20; // ecx@33
  unsigned int v21; // eax@35
  int v22; // [sp+Ch] [bp-20h]@9
  int v23; // [sp+10h] [bp-1Ch]@9
  int v24; // [sp+14h] [bp-18h]@9
  int v25; // [sp+18h] [bp-14h]@9
  unsigned int v26; // [sp+20h] [bp-Ch]@18
  unsigned int v27; // [sp+24h] [bp-8h]@14
  char v28; // [sp+54h] [bp+28h]@9
  int v29; // [sp+74h] [bp+48h]@9
  char v30; // [sp+79h] [bp+4Dh]@16
  char v31; // [sp+7Ah] [bp+4Eh]@18
  int Buffer; // [sp+88h] [bp+5Ch]@9
  int v33; // [sp+8Ch] [bp+60h]@1
  int v34; // [sp+90h] [bp+64h]@9
  DWORD NumberOfBytesWritten; // [sp+94h] [bp+68h]@9
  int v36; // [sp+98h] [bp+6Ch]@9
  unsigned int v37; // [sp+9Ch] [bp+70h]@1

  v2 = this;
  v33 = (int)this;
  v37 = 0;
  for ( i = this; i; ++v37 )
    i = (void *)*((_DWORD *)i + 19);
  v4 = dword_10081FE0;
  v5 = &dword_10081FE0;
  if ( dword_10081FE0 )
  {
    v6 = *(_DWORD *)this;
    do
    {
      if ( v4 == v6 )
        break;
      v5 += 9;
      v4 = *v5;
    }
    while ( *v5 );
  }
  if ( *v5 )
  {
    v8 = sub_1003C715(*(_DWORD *)v2);
    v36 = v8;
    v34 = *(_DWORD *)(v8 + 8) >> 3;
    Buffer = 542327876;
    WriteFile(hFile, &Buffer, 4u, &NumberOfBytesWritten, 0);
    memset(&v22, 0, 0x7Cu);
    v24 = *((_DWORD *)v2 + 4);
    v25 = *((_DWORD *)v2 + 3);
    v9 = v5[2];
    v22 = 124;
    v23 = 4103;
    memcpy(&v28, v5 + 1, 0x20u);
    v29 = 4096;
    if ( v9 & 3 )
      v29 = 4098;
    if ( v9 & 0x20 )
      BYTE1(v29) |= 1u;
    v10 = v33;
    v11 = 0;
    if ( *(_DWORD *)(v33 + 76) )
    {
      v29 |= 0x400008u;
      v23 = 135175;
      v27 = v37;
    }
    if ( *(_DWORD *)(v33 + 80) )
    {
      v29 |= 8u;
      v30 |= 0xFEu;
    }
    v12 = *(_DWORD *)(v33 + 20);
    if ( v12 > 1 )
    {
      BYTE2(v23) |= 0x80u;
      v31 |= 0x20u;
      v26 = v12;
    }
    WriteFile(hFile, &v22, 0x7Cu, &NumberOfBytesWritten, 0);
    if ( *(_DWORD *)(v36 + 4) == 1 )
      WriteFile(hFile, *(LPCVOID *)(v10 + 8), 0x400u, &NumberOfBytesWritten, 0);
    v36 = v10;
    do
    {
      v13 = v36;
      while ( v13 != v11 )
      {
        v14 = *(_DWORD *)(v13 + 20) < v11;
        v15 = *(_DWORD *)(v13 + 20) == v11;
        v37 = v11;
        if ( !(v14 | v15) )
        {
          v16 = *(_DWORD *)(v13 + 16);
          while ( 1 )
          {
            v17 = 0;
            if ( v16 )
              break;
LABEL_39:
            ++v37;
            if ( v37 >= *(_DWORD *)(v13 + 20) )
              goto LABEL_40;
          }
          while ( 2 )
          {
            v18 = *(_DWORD *)v33;
            if ( *(_DWORD *)v33 == 827611204 )
            {
              v21 = *(_DWORD *)(v13 + 52) * (v37 + *(_DWORD *)(v13 + 40))
                  + *(_DWORD *)(v13 + 48) * ((v17 + *(_DWORD *)(v13 + 28)) >> 2)
                  + 8 * (*(_DWORD *)(v13 + 24) >> 2);
              v20 = 8 * ((unsigned int)(*(_DWORD *)(v13 + 12) + 3) >> 2);
            }
            else
            {
              if ( v18 != 844388420 )
              {
                if ( v18 == 844715353 )
                  goto LABEL_34;
                if ( v18 != 861165636 && v18 != 877942852 && v18 != 894720068 )
                {
                  if ( v18 != 1498831189 )
                  {
                    v19 = *(_DWORD *)(v13 + 4)
                        + v34 * *(_DWORD *)(v13 + 24)
                        + *(_DWORD *)(v13 + 52) * (v37 + *(_DWORD *)(v13 + 40))
                        + *(_DWORD *)(v13 + 48) * (v17 + *(_DWORD *)(v13 + 28));
                    v20 = v34 * *(_DWORD *)(v13 + 12);
                    goto LABEL_38;
                  }
LABEL_34:
                  v19 = *(_DWORD *)(v13 + 4)
                      + v34 * *(_DWORD *)(v13 + 24)
                      + *(_DWORD *)(v13 + 52) * (v37 + *(_DWORD *)(v13 + 40))
                      + *(_DWORD *)(v13 + 48) * (v17 + *(_DWORD *)(v13 + 28));
                  v20 = 4 * ((unsigned int)(*(_DWORD *)(v13 + 12) + 1) >> 1);
LABEL_38:
                  WriteFile(hFile, (LPCVOID)v19, v20, &NumberOfBytesWritten, 0);
                  v16 = *(_DWORD *)(v13 + 16);
                  ++v17;
                  if ( v17 >= v16 )
                    goto LABEL_39;
                  continue;
                }
              }
              v21 = 16 * (*(_DWORD *)(v13 + 24) >> 2)
                  + *(_DWORD *)(v13 + 52) * (v37 + *(_DWORD *)(v13 + 40))
                  + *(_DWORD *)(v13 + 48) * ((v17 + *(_DWORD *)(v13 + 28)) >> 2);
              v20 = 16 * ((unsigned int)(*(_DWORD *)(v13 + 12) + 3) >> 2);
            }
            break;
          }
          v19 = *(_DWORD *)(v13 + 4) + v21;
          v17 += 3;
          goto LABEL_38;
        }
LABEL_40:
        v13 = *(_DWORD *)(v13 + 76);
        v11 = 0;
      }
      v36 = *(_DWORD *)(v36 + 80);
    }
    while ( v36 != v11 );
    result = 0;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 10081FE0: using guessed type int dword_10081FE0;

//----- (1004C884) --------------------------------------------------------
signed int __thiscall sub_1004C884(void *this, LPCWSTR cbMultiByte, signed int a3, LPSTR lpMultiByteStr)
{
  int v4; // esi@1
  signed int v5; // edi@1
  int *v6; // ebx@7
  int v7; // eax@8
  int v8; // eax@8
  int v9; // ebx@8
  int v10; // eax@10
  int v11; // ebx@11
  signed int v12; // esi@13
  signed int v13; // eax@21
  struct _OVERLAPPED *v15; // [sp-4h] [bp-E4h]@32
  int v16; // [sp+Ch] [bp-D4h]@13
  int v17; // [sp+10h] [bp-D0h]@13
  int v18; // [sp+14h] [bp-CCh]@13
  int v19; // [sp+18h] [bp-C8h]@13
  char v20; // [sp+1Ch] [bp-C4h]@13
  char v21; // [sp+34h] [bp-ACh]@13
  int v22; // [sp+4Ch] [bp-94h]@13
  int v23; // [sp+50h] [bp-90h]@13
  int v24; // [sp+54h] [bp-8Ch]@13
  int v25; // [sp+58h] [bp-88h]@13
  int v26; // [sp+5Ch] [bp-84h]@13
  int v27; // [sp+60h] [bp-80h]@13
  int v28; // [sp+64h] [bp-7Ch]@13
  int v29; // [sp+68h] [bp-78h]@13
  int v30; // [sp+6Ch] [bp-74h]@13
  int v31; // [sp+70h] [bp-70h]@13
  int v32; // [sp+74h] [bp-6Ch]@13
  int v33; // [sp+78h] [bp-68h]@13
  int v34; // [sp+7Ch] [bp-64h]@13
  char v35; // [sp+80h] [bp-60h]@13
  int v36; // [sp+98h] [bp-48h]@13
  int v37; // [sp+9Ch] [bp-44h]@13
  int v38; // [sp+A0h] [bp-40h]@13
  HANDLE hFile; // [sp+A4h] [bp-3Ch]@1
  char v40; // [sp+B4h] [bp-2Ch]@10
  int v41; // [sp+C0h] [bp-20h]@1
  int v42; // [sp+C4h] [bp-1Ch]@8
  int v43; // [sp+C8h] [bp-18h]@12
  int v44; // [sp+CCh] [bp-14h]@10
  int v45; // [sp+D0h] [bp-10h]@10
  int v46; // [sp+DCh] [bp-4h]@1

  v4 = (int)this;
  v41 = (int)this;
  sub_10038691((int)&hFile);
  v5 = a3;
  v46 = 0;
  if ( !a3 )
    goto LABEL_7;
  if ( a3 <= 0 )
  {
LABEL_25:
    v12 = -2005530516;
    goto LABEL_38;
  }
  if ( a3 <= 3 )
  {
LABEL_24:
    v12 = -2005529767;
    goto LABEL_38;
  }
  if ( a3 != 4 )
  {
    if ( a3 != 5 )
    {
      if ( a3 == 6 )
      {
LABEL_7:
        v6 = (int *)&unk_10081F40;
        goto LABEL_8;
      }
      goto LABEL_25;
    }
    goto LABEL_24;
  }
  v6 = (int *)&unk_10081F58;
LABEL_8:
  v7 = sub_1003C715(*(_DWORD *)v4);
  v8 = sub_1003C7AE(v6, *(_DWORD *)(v4 + 8), v7);
  v9 = v8;
  v42 = v8;
  if ( !v8 )
    goto LABEL_24;
  if ( v8 == *(_DWORD *)v4 )
  {
LABEL_21:
    v13 = sub_100387B3(&hFile, cbMultiByte, lpMultiByteStr);
    if ( v13 < 0 )
    {
LABEL_22:
      v12 = v13;
      goto LABEL_38;
    }
    if ( v5 )
    {
      if ( v5 == 4 )
      {
        v13 = sub_1004C5DC((void *)v4, hFile);
        goto LABEL_36;
      }
      if ( v5 != 6 )
      {
        v13 = -2147467263;
        goto LABEL_22;
      }
      v15 = 0;
    }
    else
    {
      v15 = (struct _OVERLAPPED *)1;
    }
    v13 = sub_1004AFD2(v4, hFile, v15);
LABEL_36:
    if ( v13 >= 0 )
    {
      v12 = 0;
      goto LABEL_38;
    }
    goto LABEL_22;
  }
  sub_1004CD52((int)&v40);
  LOBYTE(v46) = 1;
  v10 = *(_DWORD *)(sub_1003C715(v9) + 8) >> 3;
  v45 = v10;
  v44 = v4;
  while ( 1 )
  {
    v11 = v44;
    if ( v44 )
      break;
LABEL_19:
    v44 = *(_DWORD *)(v44 + 80);
    if ( !v44 )
    {
      LOBYTE(v46) = 0;
      sub_1004CD5C((int)&v40);
      goto LABEL_21;
    }
  }
  while ( 1 )
  {
    v43 = sub_100015F0(*(_DWORD *)(v11 + 16) * v10 * *(_DWORD *)(v11 + 12) * *(_DWORD *)(v11 + 20));
    if ( !v43 )
    {
      LOBYTE(v46) = 0;
      sub_1004CD5C((int)&v40);
      v12 = -2147024882;
      goto LABEL_38;
    }
    v16 = *(_DWORD *)(v11 + 4);
    v17 = *(_DWORD *)v11;
    v18 = *(_DWORD *)(v11 + 48);
    v19 = *(_DWORD *)(v11 + 52);
    memcpy(&v20, (const void *)(v11 + 24), 0x18u);
    memcpy(&v21, (const void *)(v11 + 24), 0x18u);
    v23 = 0;
    v22 = 1;
    v24 = *(_DWORD *)(v11 + 8);
    v25 = v43;
    v26 = v42;
    v27 = v45 * *(_DWORD *)(v11 + 12);
    v28 = *(_DWORD *)(v11 + 16) * v45 * *(_DWORD *)(v11 + 12);
    v29 = 0;
    v30 = 0;
    v31 = *(_DWORD *)(v11 + 12);
    v32 = *(_DWORD *)(v11 + 16);
    v33 = 0;
    v34 = *(_DWORD *)(v11 + 20);
    memcpy(&v35, &v29, 0x18u);
    v37 = 0;
    v36 = 1;
    v38 = *(_DWORD *)(v11 + 8);
    v12 = sub_100505EA((int)&v40, (unsigned int)&v36, (int)&v25, (int)&v16, 524289);
    if ( v12 < 0 )
      break;
    if ( *(_DWORD *)(v11 + 4) && *(_DWORD *)(v11 + 56) )
    {
      sub_10001610(*(_DWORD *)(v11 + 4));
      *(_DWORD *)(v11 + 4) = 0;
    }
    *(_DWORD *)v11 = v42;
    *(_DWORD *)(v11 + 4) = v43;
    memcpy((void *)(v11 + 24), &v35, 0x18u);
    *(_DWORD *)(v11 + 48) = v27;
    *(_DWORD *)(v11 + 52) = v28;
    v10 = v45;
    *(_DWORD *)(v11 + 56) = 1;
    v11 = *(_DWORD *)(v11 + 76);
    if ( !v11 )
    {
      v5 = a3;
      v4 = v41;
      goto LABEL_19;
    }
  }
  sub_10001610(v43);
  LOBYTE(v46) = 0;
  sub_1004CD5C((int)&v40);
LABEL_38:
  v46 = -1;
  sub_100388BE((int)&hFile);
  return v12;
}

//----- (1004CB4D) --------------------------------------------------------
signed int __thiscall sub_1004CB4D(void *this, int a2, unsigned int a3)
{
  signed int result; // eax@4

  if ( a3 < 0xE || *(_WORD *)a2 != 19778 || *(_DWORD *)(a2 + 2) > a3 )
    result = -2147467259;
  else
    result = sub_1004A8BC(this, a2 + 14, a3 - 14);
  return result;
}

//----- (1004CB7D) --------------------------------------------------------
signed int __thiscall sub_1004CB7D(void *this, int a2, unsigned int a3, int a4, int a5)
{
  unsigned int v5; // ebx@1
  int v6; // edi@1
  int v7; // esi@1
  int v8; // eax@2
  int v9; // eax@3
  int v10; // eax@4
  int v11; // eax@5
  int v12; // eax@6
  int v13; // eax@7
  signed int v14; // eax@9
  void *v15; // ecx@24
  void *v16; // ecx@26
  bool v17; // cf@28
  signed int result; // eax@30
  int i; // eax@32
  int j; // eax@36
  int v21; // ecx@37
  int v22; // [sp+Ch] [bp-20h]@1
  int v23; // [sp+10h] [bp-1Ch]@1
  int v24; // [sp+14h] [bp-18h]@1
  int v25; // [sp+18h] [bp-14h]@1
  int v26; // [sp+1Ch] [bp-10h]@1
  int v27; // [sp+20h] [bp-Ch]@1
  int v28; // [sp+24h] [bp-8h]@1
  unsigned int v29; // [sp+28h] [bp-4h]@1

  v5 = a3;
  v6 = 0;
  v7 = (int)this;
  v22 = 0;
  v23 = 5;
  v24 = 4;
  v25 = 1;
  v26 = 3;
  v27 = 2;
  v28 = 6;
  v29 = 0;
  do
  {
    *(_DWORD *)(v7 + 64) = a5;
    v8 = *(&v22 + v29);
    *(_DWORD *)(v7 + 72) = v8;
    *(_DWORD *)(v7 + 68) = 3;
    if ( !v8 )
    {
      v14 = sub_1004CB4D((void *)v7, a2, a3);
      goto LABEL_16;
    }
    v9 = v8 - 1;
    if ( !v9 )
    {
      v14 = sub_1004B318((void *)v7, a2, a3);
      goto LABEL_16;
    }
    v10 = v9 - 1;
    if ( !v10 )
    {
      v14 = sub_1004B588((void *)v7, a2, a3);
      goto LABEL_16;
    }
    v11 = v10 - 1;
    if ( !v11 )
    {
      v14 = sub_1004BD05((void *)v7, a2, a3);
      goto LABEL_16;
    }
    v12 = v11 - 1;
    if ( !v12 )
    {
      v14 = sub_1004C29B(v7, a2, a3);
      goto LABEL_16;
    }
    v13 = v12 - 1;
    if ( !v13 )
    {
      v14 = sub_1004BA2F((void *)v7, a2, a3);
      goto LABEL_16;
    }
    if ( v13 == 1 )
    {
      v14 = sub_1004A8BC((void *)v7, a2, a3);
LABEL_16:
      v5 = v14;
    }
    if ( (v5 & 0x80000000u) == 0 )
      break;
    if ( *(_DWORD *)(v7 + 4) && *(_DWORD *)(v7 + 56) )
      sub_10001610(*(_DWORD *)(v7 + 4));
    if ( *(_DWORD *)(v7 + 8) && *(_DWORD *)(v7 + 60) )
      sub_10001610(*(_DWORD *)(v7 + 8));
    v15 = *(void **)(v7 + 76);
    if ( v15 )
      sub_1004A7DD(v15, 1);
    v16 = *(void **)(v7 + 80);
    if ( v16 )
      sub_1004A7DD(v16, 1);
    ++v29;
    v17 = v29 < 7;
    *(_DWORD *)(v7 + 4) = 0;
    *(_DWORD *)(v7 + 8) = 0;
    *(_DWORD *)(v7 + 56) = 0;
    *(_DWORD *)(v7 + 60) = 0;
    *(_DWORD *)(v7 + 76) = 0;
    *(_DWORD *)(v7 + 80) = 0;
  }
  while ( v17 );
  if ( v29 == 7 )
  {
    result = -2005529767;
  }
  else
  {
    if ( a4 )
    {
      memset((void *)a4, 0, 0x1Cu);
      *(_DWORD *)a4 = *(_DWORD *)(v7 + 12);
      *(_DWORD *)(a4 + 4) = *(_DWORD *)(v7 + 16);
      *(_DWORD *)(a4 + 8) = *(_DWORD *)(v7 + 20);
      *(_DWORD *)(a4 + 12) = 1;
      *(_DWORD *)(a4 + 16) = sub_1003C8FE(*(_DWORD *)v7);
      *(_DWORD *)(a4 + 20) = *(_DWORD *)(v7 + 68);
      *(_DWORD *)(a4 + 24) = *(_DWORD *)(v7 + 72);
      for ( i = v7 + 76; *(_DWORD *)i; i = *(_DWORD *)i + 76 )
        ++*(_DWORD *)(a4 + 12);
      v6 = 0;
    }
    do
    {
      for ( j = v7; j != v6; j = *(_DWORD *)(j + 76) )
      {
        *(_DWORD *)(j + 32) = *(_DWORD *)(j + 12);
        *(_DWORD *)(j + 36) = *(_DWORD *)(j + 16);
        v21 = *(_DWORD *)(j + 20);
        *(_DWORD *)(j + 24) = v6;
        *(_DWORD *)(j + 28) = v6;
        *(_DWORD *)(j + 40) = v6;
        *(_DWORD *)(j + 44) = v21;
      }
      v7 = *(_DWORD *)(v7 + 80);
    }
    while ( v7 != v6 );
    result = 0;
  }
  return result;
}

//----- (1004CD52) --------------------------------------------------------
int __thiscall sub_1004CD52(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = 0;
  return result;
}

//----- (1004CD5C) --------------------------------------------------------
int __thiscall sub_1004CD5C(int this)
{
  int v1; // esi@1
  int v2; // ecx@1
  int result; // eax@2

  v1 = this;
  v2 = *(_DWORD *)(this + 4);
  if ( v2 )
    result = (**(int (__stdcall ***)(_DWORD))v2)(1);
  if ( *(_DWORD *)v1 )
    result = (***(int (__stdcall ****)(_DWORD))v1)(1);
  return result;
}

//----- (1004CD98) --------------------------------------------------------
int __thiscall sub_1004CD98(int *this)
{
  return sub_10001610(*this);
}

//----- (1004CDA1) --------------------------------------------------------
int __cdecl sub_1004CDA1(unsigned int a1, unsigned int a2, int a3)
{
  unsigned int v3; // edi@1
  double v4; // st7@3
  double v5; // st6@3
  int v6; // esi@3
  signed __int64 v7; // qax@4
  int v8; // edi@5
  int v9; // ebx@6
  signed int v10; // esi@6
  float v11; // ST24_4@8
  double v12; // st7@8
  double v13; // st7@8
  signed int v14; // edx@13
  double v15; // st7@13
  int v16; // ecx@14
  int v17; // eax@22
  double v18; // st6@30
  int v19; // eax@39
  int v21; // [sp+14h] [bp-3Ch]@7
  signed int v22; // [sp+18h] [bp-38h]@7
  float v23; // [sp+1Ch] [bp-34h]@3
  float v24; // [sp+20h] [bp-30h]@3
  float v25; // [sp+28h] [bp-28h]@3
  int i; // [sp+2Ch] [bp-24h]@14
  float v27; // [sp+30h] [bp-20h]@8
  float v28; // [sp+34h] [bp-1Ch]@3
  unsigned int v29; // [sp+38h] [bp-18h]@6
  float v30; // [sp+3Ch] [bp-14h]@16
  float v31; // [sp+40h] [bp-10h]@8
  unsigned int v32; // [sp+44h] [bp-Ch]@7
  float v33; // [sp+48h] [bp-8h]@8
  float v34; // [sp+4Ch] [bp-4h]@6

  v3 = 0;
  if ( a1 && a2 )
  {
    v28 = (double)a2;
    v4 = (double)a1;
    v24 = v4;
    v5 = v28 / v4;
    v6 = 16;
    v25 = v5;
    v23 = 0.5 / v5;
    if ( a1 > 0 )
    {
      do
      {
        v7 = (signed __int64)(((double)v3 - 0.5) * v5 + v5 - ((double)v3 - 0.5) * v5 + (double)(a3 != 0) + 1.0);
        ++v3;
        v6 += 16 * v7 + 12;
      }
      while ( v3 < a1 );
    }
    v8 = sub_100015F0(v6);
    if ( v8 )
    {
      v9 = 0;
      v29 = 0;
      v34 = 0.0;
      v10 = 4;
      if ( !a1 )
        goto LABEL_41;
      while ( 1 )
      {
        v32 = 0;
        v21 = v10 + v8;
        v22 = v10;
        v10 += 4;
        do
        {
          v11 = (double)v29;
          v12 = (double)v32 + v11 - 0.5;
          v31 = v12;
          v13 = v12 * v25;
          v27 = v13;
          v33 = v25 + v13;
          if ( !a3 )
          {
            if ( v13 < 0.0 )
            {
              v13 = 0.0;
              v27 = 0.0;
            }
            if ( v33 > (double)v28 )
              v33 = (double)a2;
          }
          v14 = (signed __int64)floor(v13);
          v15 = (double)v14;
          if ( v15 < v33 )
          {
            v16 = v14 - a2;
            for ( i = v14 - a2; ; v16 = i )
            {
              v30 = v15 + 1.0;
              if ( v14 >= 0 )
              {
                if ( v14 < (signed int)a2 )
                  v16 = v14;
              }
              else
              {
                v16 = v14 + a2;
              }
              if ( v16 != v9 )
              {
                if ( v34 > 0.0000099999997 )
                {
                  v17 = v10 + v8;
                  *(_DWORD *)(v10 + v8) = v9;
                  v10 += 8;
                  *(_DWORD *)(v17 + 4) = LODWORD(v34);
                }
                v9 = v16;
                v34 = 0.0;
              }
              if ( v15 < v27 )
                v15 = v27;
              if ( v30 > (double)v33 )
                v30 = v33;
              if ( a3 )
                goto LABEL_45;
              if ( v31 < 0.0 )
              {
                v18 = 1.0;
                goto LABEL_34;
              }
              if ( v31 + 1.0 < v24 )
LABEL_45:
                v18 = (v30 + v15) * v23 - v31;
              else
                v18 = 0.0;
LABEL_34:
              if ( v32 )
                v18 = 1.0 - v18;
              ++v14;
              ++i;
              v34 = (v30 - v15) * v18 + v34;
              v15 = (double)v14;
              if ( v15 >= v33 )
                break;
            }
          }
          ++v32;
        }
        while ( v32 < 2 );
        if ( v34 > 0.0000099999997 )
        {
          v19 = v10 + v8;
          v10 += 8;
          *(_DWORD *)v19 = v9;
          *(_DWORD *)(v19 + 4) = LODWORD(v34);
        }
        v34 = 0.0;
        ++v29;
        *(_DWORD *)v21 = v10 - v22;
        if ( v29 >= a1 )
        {
LABEL_41:
          *(_DWORD *)v8 = v10;
          return v8;
        }
      }
    }
  }
  return 0;
}

//----- (1004D0AA) --------------------------------------------------------
signed int __thiscall sub_1004D0AA(int this)
{
  int v1; // esi@1
  unsigned int v2; // eax@1
  int v3; // edi@1
  int v4; // edi@4
  int v5; // eax@4
  int v6; // ST24_4@5
  int v7; // eax@5
  int v8; // edi@8
  int v9; // eax@8
  int v10; // eax@9
  int v11; // ecx@12
  int v12; // edx@13
  int i; // ecx@13
  int v14; // eax@17
  int v15; // edx@18
  int v16; // ebx@19
  int v17; // edi@22
  int v18; // eax@22
  int v19; // eax@23
  void *v20; // edi@27
  unsigned int v21; // ebx@27
  int v22; // edi@27
  int k; // ecx@27
  int v24; // edi@32
  int v25; // edx@33
  int v26; // eax@34
  int v27; // ecx@34
  int v28; // ebx@35
  int v29; // eax@36
  int v30; // ecx@36
  double v31; // st7@37
  int v32; // edi@37
  int l; // ebx@46
  int v34; // edi@47
  bool v35; // zf@47
  int v36; // ecx@48
  signed int v37; // esi@55
  int v39; // [sp+Ch] [bp-5Ch]@1
  int v40; // [sp+Ch] [bp-5Ch]@8
  void *v41; // [sp+10h] [bp-58h]@1
  int v42; // [sp+14h] [bp-54h]@1
  int v43; // [sp+14h] [bp-54h]@18
  int v44; // [sp+18h] [bp-50h]@4
  int v45; // [sp+1Ch] [bp-4Ch]@4
  int v46; // [sp+20h] [bp-48h]@22
  int v47; // [sp+20h] [bp-48h]@32
  int v48; // [sp+24h] [bp-44h]@1
  int v49; // [sp+28h] [bp-40h]@17
  int v50; // [sp+2Ch] [bp-3Ch]@31
  int v51; // [sp+30h] [bp-38h]@31
  int v52; // [sp+34h] [bp-34h]@32
  int v53; // [sp+38h] [bp-30h]@34
  int v54; // [sp+3Ch] [bp-2Ch]@1
  int v55; // [sp+40h] [bp-28h]@1
  int v56; // [sp+44h] [bp-24h]@4
  int v57; // [sp+48h] [bp-20h]@1
  int v58; // [sp+4Ch] [bp-1Ch]@9
  int v59; // [sp+50h] [bp-18h]@18
  int v60; // [sp+54h] [bp-14h]@5
  int j; // [sp+58h] [bp-10h]@18
  int v62; // [sp+58h] [bp-10h]@42
  unsigned int v63; // [sp+58h] [bp-10h]@48

  v1 = this;
  v54 = 0;
  v55 = 0;
  v41 = 0;
  v57 = 0;
  v39 = 0;
  v2 = *(_DWORD *)(this + 8);
  v42 = ~(v2 >> 18) & 1;
  v3 = ~(v2 >> 17) & 1;
  v48 = sub_1004CDA1(*(_DWORD *)(*(_DWORD *)v1 + 4184), *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4184), ~(v2 >> 16) & 1);
  if ( v48
    && (v54 = sub_1004CDA1(*(_DWORD *)(*(_DWORD *)v1 + 4188), *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4188), v3)) != 0
    && (v55 = sub_1004CDA1(*(_DWORD *)(*(_DWORD *)v1 + 4192), *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4192), v42)) != 0 )
  {
    v45 = v48 + *(_DWORD *)v48;
    v44 = v54 + *(_DWORD *)v54;
    v56 = v55 + *(_DWORD *)v55;
    v4 = *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4192);
    v5 = sub_100015F0(12 * v4 + 4);
    if ( v5 )
    {
      *(_DWORD *)v5 = v4;
      v6 = v5 + 4;
      unknown_libname_5((void *)(v5 + 4), 0xCu, v4, (int)unknown_libname_15, (void (__thiscall *)(void *))sub_1004CD98);
      v7 = v6;
      v60 = v6;
    }
    else
    {
      v60 = 0;
      v7 = 0;
    }
    v41 = (void *)v7;
    if ( v7
      && ((v8 = *(_DWORD *)(*(_DWORD *)v1 + 4184),
           v9 = sub_100015F0(16 * *(_DWORD *)(*(_DWORD *)v1 + 4184)),
           (v40 = v9) == 0) ? (v58 = 0, v10 = 0) : (sub_10001650(v9, 16, v8, (int (__thiscall *)(_DWORD))sub_1003CAF6),
                                                    v10 = v40,
                                                    v58 = v40),
          (v39 = v10) != 0) )
    {
      v11 = v55 + 4;
      if ( v55 + 4 < (unsigned int)v56 )
      {
        do
        {
          v12 = v11 + *(_DWORD *)v11;
          for ( i = v11 + 4; i < (unsigned int)v12; i += 8 )
            ++*(_DWORD *)(v60 + 12 * *(_DWORD *)i + 8);
          v11 = v12;
        }
        while ( v12 < (unsigned int)v56 );
      }
      v49 = 0;
      v14 = v55 + 4;
      if ( v55 + 4 < (unsigned int)v56 )
      {
        do
        {
          v15 = v14 + *(_DWORD *)v14;
          v59 = v15;
          v43 = v14 + 4;
          for ( j = v14 + 4; j < (unsigned int)v15; j += 8 )
          {
            v16 = v60 + 12 * *(_DWORD *)j;
            if ( !*(_DWORD *)v16 )
            {
              if ( v57 )
              {
                *(_DWORD *)v16 = *(_DWORD *)v57;
                *(_DWORD *)v57 = 0;
                v57 = *(_DWORD *)(v57 + 4);
              }
              else
              {
                v17 = *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4184) * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4188);
                v18 = sub_100015F0(16 * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4184)
                                      * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4188));
                v46 = v18;
                if ( v18 )
                {
                  sub_10001650(v18, 16, v17, (int (__thiscall *)(_DWORD))sub_1003CAF6);
                  v19 = v46;
                }
                else
                {
                  v19 = 0;
                }
                *(_DWORD *)v16 = v19;
                if ( !v19 )
                  goto LABEL_56;
                v15 = v59;
              }
              v20 = *(void **)v16;
              v21 = 16 * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4184) * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4188);
              memset(v20, 0, 4 * (v21 >> 2));
              v22 = (int)((char *)v20 + 4 * (v21 >> 2));
              for ( k = v21 & 3; k; --k )
                *(_BYTE *)v22++ = 0;
            }
          }
          v51 = 0;
          v50 = v54 + 4;
          if ( v54 + 4 < (unsigned int)v44 )
          {
            do
            {
              v24 = v50 + *(_DWORD *)v50;
              v47 = v50 + *(_DWORD *)v50;
              (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v1 + 4))(v51, v49, v58);
              v52 = v48 + 4;
              if ( v48 + 4 < (unsigned int)v45 )
              {
                v25 = v58 + 8;
                do
                {
                  v26 = v52 + *(_DWORD *)v52;
                  v27 = v43;
                  v53 = v52 + *(_DWORD *)v52;
                  while ( 1 )
                  {
                    v62 = v27;
                    if ( v27 >= (unsigned int)v59 )
                      break;
                    v28 = v50 + 4;
                    if ( v50 + 4 < (unsigned int)v24 )
                    {
                      do
                      {
                        v29 = *(_DWORD *)(v60 + 12 * *(_DWORD *)v27)
                            + 16 * *(_DWORD *)v28 * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4184);
                        v30 = v52 + 4;
                        while ( v30 < (unsigned int)v53 )
                        {
                          v31 = *(float *)(v30 + 4) * *(float *)(v28 + 4) * *(float *)(v62 + 4);
                          *(float *)(v29 + 16 * *(_DWORD *)v30) = v31 * *(float *)(v25 - 8)
                                                                + *(float *)(v29 + 16 * *(_DWORD *)v30);
                          *(float *)(16 * *(_DWORD *)v30 + v29 + 4) = v31 * *(float *)(v25 - 4)
                                                                    + *(float *)(16 * *(_DWORD *)v30 + v29 + 4);
                          *(float *)(16 * *(_DWORD *)v30 + v29 + 8) = v31 * *(float *)v25
                                                                    + *(float *)(16 * *(_DWORD *)v30 + v29 + 8);
                          v32 = 16 * *(_DWORD *)v30 + v29 + 12;
                          v30 += 8;
                          *(float *)v32 = v31 * *(float *)(v25 + 4) + *(float *)v32;
                        }
                        v27 = v62;
                        v28 += 8;
                      }
                      while ( v28 < (unsigned int)v47 );
                      v24 = v47;
                      v26 = v53;
                    }
                    v27 += 8;
                  }
                  v25 += 16;
                  v52 = v26;
                }
                while ( v26 < (unsigned int)v45 );
              }
              ++v51;
              v50 = v24;
            }
            while ( v24 < (unsigned int)v44 );
            v15 = v59;
          }
          for ( l = v43; l < (unsigned int)v15; l += 8 )
          {
            v34 = v60 + 12 * *(_DWORD *)l;
            v35 = (*(_DWORD *)(v34 + 8))-- == 1;
            if ( v35 )
            {
              v36 = *(_DWORD *)(v1 + 4);
              v63 = 0;
              if ( *(_DWORD *)(v36 + 4188) )
              {
                do
                {
                  (*(void (__stdcall **)(unsigned int, _DWORD, unsigned int))(*(_DWORD *)v36 + 8))(
                    v63,
                    *(_DWORD *)l,
                    *(_DWORD *)v34 + 16 * v63 * *(_DWORD *)(v36 + 4184));
                  ++v63;
                  v36 = *(_DWORD *)(v1 + 4);
                }
                while ( v63 < *(_DWORD *)(v36 + 4188) );
                v15 = v59;
              }
              *(_DWORD *)(v34 + 4) = v57;
              v57 = v34;
            }
          }
          ++v49;
          v14 = v15;
        }
        while ( v15 < (unsigned int)v56 );
      }
      v37 = 0;
    }
    else
    {
LABEL_56:
      v37 = -2147024882;
    }
  }
  else
  {
    v37 = -2147467259;
  }
  if ( v41 )
    ATL::CComTypeInfoHolder::stringdispid::_vector_deleting_destructor_(v41, 3);
  sub_10001610(v55);
  sub_10001610(v54);
  sub_10001610(v48);
  sub_10001610(v39);
  sub_10001610(0);
  return v37;
}
// 1004CD8B: using guessed type int unknown_libname_15();

//----- (1004D51E) --------------------------------------------------------
signed int __thiscall sub_1004D51E(void *this)
{
  int v1; // edi@1
  unsigned int v2; // esi@1
  int v4; // eax@3
  unsigned int v5; // ecx@3
  int v6; // edx@5
  unsigned int v7; // ecx@12
  int v8; // esi@12
  unsigned int v9; // eax@13
  void *v10; // edx@13
  void *v11; // ebx@14
  int v12; // eax@15
  int v13; // ecx@16
  signed int v14; // [sp-8h] [bp-28h]@10
  unsigned int v15; // [sp+8h] [bp-18h]@12
  unsigned int v16; // [sp+Ch] [bp-14h]@3
  int v17; // [sp+Ch] [bp-14h]@12
  unsigned int v18; // [sp+10h] [bp-10h]@1
  unsigned int v19; // [sp+10h] [bp-10h]@12
  int v20; // [sp+14h] [bp-Ch]@12
  void *v21; // [sp+18h] [bp-8h]@1
  unsigned int v22; // [sp+18h] [bp-8h]@14
  const void *v23; // [sp+1Ch] [bp-4h]@14

  v1 = *(_DWORD *)this;
  v2 = *(_DWORD *)(*(_DWORD *)this + 4148);
  v21 = this;
  v18 = *(_DWORD *)(*(_DWORD *)this + 4144);
  if ( ((unsigned __int8)v2 | (unsigned __int8)(*(_BYTE *)(*(_DWORD *)this + 4144) | *(_BYTE *)(*(_DWORD *)this + 4152) | *(_BYTE *)(*(_DWORD *)this + 4156))) & 3 )
    return -2147467259;
  v4 = *((_DWORD *)this + 1);
  v5 = *(_DWORD *)(v4 + 4148);
  v16 = *(_DWORD *)(v4 + 4144);
  if ( ((unsigned __int8)v5 | (unsigned __int8)(v16 | *(_BYTE *)(v4 + 4152) | *(_BYTE *)(v4 + 4156))) & 3 )
    return -2147467259;
  v6 = *(_DWORD *)(v4 + 4);
  if ( v6 == 827611204 )
  {
    v14 = 8;
  }
  else
  {
    if ( v6 != 844388420 && v6 != 861165636 && v6 != 877942852 && v6 != 894720068 )
      return -2147467259;
    v14 = 16;
  }
  v15 = v14 * (*(_DWORD *)(v4 + 4184) >> 2);
  v20 = *(_DWORD *)(v4 + 24)
      + v14 * (v16 >> 2)
      + *(_DWORD *)(v4 + 4160) * *(_DWORD *)(v4 + 4180)
      + *(_DWORD *)(v4 + 4176) * (v5 >> 2);
  v7 = v18;
  v19 = 0;
  v8 = *(_DWORD *)(v1 + 24)
     + v14 * (v7 >> 2)
     + *(_DWORD *)(v1 + 4160) * *(_DWORD *)(v1 + 4180)
     + *(_DWORD *)(v1 + 4176) * (v2 >> 2);
  v17 = v8;
  if ( *(_DWORD *)(v4 + 4192) )
  {
    v9 = *(_DWORD *)(v4 + 4188);
    v10 = v21;
    do
    {
      v22 = 0;
      v11 = (void *)v20;
      v23 = (const void *)v8;
      if ( v9 )
      {
        do
        {
          v22 += 4;
          memcpy(v11, v23, v15);
          v12 = *((_DWORD *)v10 + 1);
          v11 = (char *)v11 + *(_DWORD *)(v12 + 4176);
          v9 = *(_DWORD *)(v12 + 4188);
          v23 = (char *)v23 + *(_DWORD *)(*(_DWORD *)v10 + 4176);
        }
        while ( v22 < v9 );
      }
      v13 = *((_DWORD *)v10 + 1);
      v20 += *(_DWORD *)(v13 + 4180);
      v8 = *(_DWORD *)(*(_DWORD *)v10 + 4180) + v17;
      ++v19;
      v17 += *(_DWORD *)(*(_DWORD *)v10 + 4180);
    }
    while ( v19 < *(_DWORD *)(v13 + 4192) );
  }
  return 0;
}

//----- (1004D6B2) --------------------------------------------------------
int __cdecl sub_1004D6B2(int a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  unsigned int v6; // edx@1
  int v7; // edi@1
  signed int v8; // esi@2
  int v9; // ecx@4
  unsigned int v10; // edx@5
  unsigned int v11; // edi@5
  unsigned int v12; // ST20_4@5
  unsigned int v13; // edx@5
  unsigned int v14; // ecx@5
  int v15; // ebx@5
  unsigned int v16; // esi@5
  int v17; // ecx@5
  int v18; // ebx@5
  int v19; // ecx@5
  bool v20; // zf@5
  int v22; // [sp+4h] [bp-18h]@1
  unsigned int v23; // [sp+8h] [bp-14h]@4
  int v24; // [sp+Ch] [bp-10h]@4
  int v25; // [sp+14h] [bp-8h]@3
  int v26; // [sp+30h] [bp+14h]@2

  v6 = a2;
  v7 = a5;
  v22 = a2 + a5 * a4;
  if ( a2 < a2 + a5 * a4 )
  {
    v26 = a2 + 4 * a3;
    v8 = -4177984;
    do
    {
      v25 = a1;
      if ( v6 < v26 )
      {
        v9 = v6 + 4;
        v24 = v6 + 4;
        v23 = ((v26 - v6 - 1) >> 3) + 1;
        do
        {
          v10 = *(_DWORD *)(v9 + v7);
          v11 = *(_DWORD *)(v7 + v9 - 4);
          v12 = v10;
          v13 = *(_DWORD *)v9;
          v14 = *(_DWORD *)(v9 - 4);
          v15 = (v8 & (v12 >> 2)) + (v8 & (v11 >> 2)) + (v8 & (v14 >> 2)) + (v8 & (v13 >> 2)) - 8388480;
          v16 = (v12 & 0xFF00FF) + (v11 & 0xFF00FF) + (v14 & 0xFF00FF) + (v13 & 0xFF00FF) + 131074;
          v17 = ((v12 >> 2) & 0x3FC03FC0) + ((v11 >> 2) & 0x3FC03FC0) + ((v14 >> 2) & 0x3FC03FC0);
          v7 = a5;
          v18 = (v17 + ((v13 >> 2) & 0x3FC03FC0) + 8388736) ^ ((v16 >> 2) ^ v15) & 0xFF00FF;
          v19 = v25;
          v25 += 4;
          *(_DWORD *)v19 = v18;
          v9 = v24 + 8;
          v20 = v23-- == 1;
          v24 += 8;
          v8 = -4177984;
        }
        while ( !v20 );
        v6 = a2;
      }
      a1 += a6;
      v26 += 2 * v7;
      v6 += 2 * v7;
      a2 = v6;
    }
    while ( v6 < v22 );
  }
  return 0;
}

//----- (1004D7F8) --------------------------------------------------------
int __thiscall sub_1004D7F8(void *this)
{
  return off_100824A8(
           *(_DWORD *)(*((_DWORD *)this + 1) + 24),
           *(_DWORD *)(*(_DWORD *)this + 24),
           *(_DWORD *)(*(_DWORD *)this + 4184),
           *(_DWORD *)(*(_DWORD *)this + 4188),
           *(_DWORD *)(*(_DWORD *)this + 4176),
           *(_DWORD *)(*((_DWORD *)this + 1) + 4176));
}
// 100824A8: using guessed type int (__cdecl *off_100824A8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1004D829) --------------------------------------------------------
int __cdecl sub_1004D829(int a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  unsigned int v7; // edi@1
  int v8; // esi@4
  int v9; // ST1C_4@5
  int v10; // ST18_4@5
  int v11; // edi@5
  int v12; // eax@5
  int v13; // ebx@5
  int v14; // eax@5
  int v15; // ebx@5
  int v16; // eax@5
  bool v17; // zf@5
  int v19; // [sp+4h] [bp-18h]@1
  unsigned int v20; // [sp+Ch] [bp-10h]@4
  int v21; // [sp+18h] [bp-4h]@3
  int v22; // [sp+30h] [bp+14h]@2

  v6 = a5;
  v7 = a2;
  v19 = a2 + a5 * a4;
  if ( a2 < a2 + a5 * a4 )
  {
    v22 = a2 + 4 * a3;
    do
    {
      v21 = a1;
      if ( v7 < v22 )
      {
        v8 = v7 + 4;
        v20 = ((v22 - v7 - 1) >> 3) + 1;
        do
        {
          v9 = *(_DWORD *)(v8 + v6);
          v10 = *(_DWORD *)v8;
          v11 = *(_DWORD *)(v6 + v8 - 4);
          v12 = *(_DWORD *)(v8 - 4);
          v13 = (v9 & 0xFF00FF) + (v11 & 0xFF00FF) + (v12 & 0xFF00FF) + (v10 & 0xFF00FF) + 131074;
          v14 = (unsigned __int16)(v9 & 0xFF00)
              + (unsigned __int16)(v11 & 0xFF00)
              + (unsigned __int16)(v12 & 0xFF00)
              + (*(_DWORD *)v8 & 0xFF00)
              + 512;
          v15 = v14 & 0x3FC00 | v13 & 0x3FC03FC;
          v16 = v21;
          v21 += 4;
          v8 += 8;
          v17 = v20-- == 1;
          *(_DWORD *)v16 = (unsigned int)v15 >> 2;
          v6 = a5;
        }
        while ( !v17 );
        v7 = a2;
      }
      a1 += a6;
      v22 += 2 * v6;
      v7 += 2 * v6;
      a2 = v7;
    }
    while ( v7 < v19 );
  }
  return 0;
}

//----- (1004D911) --------------------------------------------------------
int __cdecl sub_1004D911(int a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax@2
  int v7; // eax@3
  int i; // edx@3
  int v9; // edi@4
  int v10; // esi@4
  int v11; // ebx@4
  int j; // eax@4
  __m64 v13; // mm4@5
  __m64 v14; // mm6@5
  __m64 v15; // mm2@5
  __m64 v16; // mm3@5
  int v17; // ecx@5
  __m64 v18; // mm0@5
  int v19; // [sp+10h] [bp-Ch]@4
  int v20; // [sp+18h] [bp-4h]@3
  int v21; // [sp+2Ch] [bp+10h]@3

  if ( a3 & 3 )
  {
    result = sub_1004D6B2(a1, a2, a3, a4, a5, a6);
  }
  else
  {
    v20 = a2 + a5 * a4;
    _m_femms();
    v21 = 4 * a3;
    v7 = a2;
    for ( i = a1; v7 < v20; i += a6 )
    {
      v9 = v7;
      v10 = a5 + v7;
      v11 = v21 + v7;
      v19 = v7;
      for ( j = i;
            v9 < v11;
            *(_QWORD *)v17 = _m_packuswb(
                               _m_psraw(_m_paddw(_m_paddw(_m_paddw(v18, v15), v16), (__m64)562958543486978i64), 2u),
                               _m_psraw(
                                 _m_paddw(
                                   _m_paddw(
                                     _m_paddw(
                                       _m_paddw(_m_punpcklbw(v13, 0i64), _m_punpckhbw(v13, 0i64)),
                                       _m_punpcklbw(v14, 0i64)),
                                     _m_punpckhbw(v14, 0i64)),
                                   (__m64)562958543486978i64),
                                 2u)) )
      {
        v13 = *(__m64 *)(v9 + 8);
        v14 = *(__m64 *)(v10 + 8);
        v15 = _m_punpcklbw(*(__m64 *)v10, 0i64);
        v16 = _m_punpckhbw(*(__m64 *)v10, 0i64);
        v17 = j;
        v18 = _m_paddw(_m_punpcklbw(*(__m64 *)v9, 0i64), _m_punpckhbw(*(__m64 *)v9, 0i64));
        v9 += 16;
        v10 += 16;
        j += 8;
      }
      v7 = a5 + a5 + v19;
    }
    _m_femms();
    result = 0;
  }
  return result;
}

//----- (1004DA53) --------------------------------------------------------
int __cdecl sub_1004DA53(int a1, int a2, int a3, int a4, int a5, int a6)
{
  if ( sub_100352DE() )
  {
    off_100824A8 = sub_1004D911;
    off_100824AC = sub_1004D911;
  }
  else
  {
    off_100824A8 = sub_1004D6B2;
    off_100824AC = sub_1004D829;
  }
  return off_100824A8(a1, a2, a3, a4, a5, a6);
}
// 100824A8: using guessed type int (__cdecl *off_100824A8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 100824AC: using guessed type int (__cdecl *off_100824AC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1004DAB7) --------------------------------------------------------
int __cdecl sub_1004DAB7()
{
  int (__cdecl *v0)(int, unsigned int, int, int, int, int); // eax@2

  if ( sub_100352DE() )
  {
    v0 = sub_1004D911;
    off_100824A8 = sub_1004D911;
  }
  else
  {
    off_100824A8 = sub_1004D6B2;
    v0 = sub_1004D829;
  }
  off_100824AC = v0;
  return ((int (*)(void))v0)();
}
// 100824A8: using guessed type int (__cdecl *off_100824A8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 100824AC: using guessed type int (__cdecl *off_100824AC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1004DAE6) --------------------------------------------------------
int __thiscall sub_1004DAE6(void *this)
{
  return off_100824AC(
           *(_DWORD *)(*((_DWORD *)this + 1) + 24),
           *(_DWORD *)(*(_DWORD *)this + 24),
           *(_DWORD *)(*(_DWORD *)this + 4184),
           *(_DWORD *)(*(_DWORD *)this + 4188),
           *(_DWORD *)(*(_DWORD *)this + 4176),
           *(_DWORD *)(*((_DWORD *)this + 1) + 4176));
}
// 100824AC: using guessed type int (__cdecl *off_100824AC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1004DB17) --------------------------------------------------------
int __fastcall sub_1004DB17(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@1
  int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  int v7; // esi@3
  int v8; // eax@3
  int v9; // ebp@3
  __int16 v10; // bx@3
  int v11; // eax@3
  bool v12; // cf@3
  int v14; // [sp+Ch] [bp-24h]@2
  int v15; // [sp+10h] [bp-20h]@1
  int v16; // [sp+14h] [bp-1Ch]@2
  int v17; // [sp+18h] [bp-18h]@2
  int v18; // [sp+1Ch] [bp-14h]@1
  int v19; // [sp+24h] [bp-Ch]@2
  int v20; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v15 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v20 = a1;
  v18 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v3 < (unsigned int)v4; v18 = v3 )
  {
    v14 = v15;
    v5 = v3 + v2;
    v6 = v3;
    v16 = v3;
    v17 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4184);
    if ( v3 < (unsigned int)v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v6;
        LOWORD(v9) = v9 & 0xF81F;
        v10 = (((unsigned __int16)(*(_WORD *)v5 & 0xF81F)
              + (unsigned __int16)(*(_WORD *)v6 & 0xF81F)
              + (unsigned __int16)(v8 & 0xF81F)
              + (v7 & 0xF81Fu)
              + 4098) >> 2) ^ ((((v7 & 0xFFFF07E0)
                               + (*(_WORD *)v5 & 0x7E0)
                               + (*(_WORD *)v6 & 0x7E0)
                               + (v8 & 0xFFFF07E0u)
                               + 64) >> 2) ^ (((unsigned __int16)(*(_WORD *)v5 & 0xF81F)
                                             + v9
                                             + (unsigned __int16)(v8 & 0xF81F)
                                             + (v7 & 0xF81Fu)
                                             + 4098) >> 2)) & 0x7E0;
        v11 = v14;
        v14 += 2;
        *(_WORD *)v11 = v10;
        v6 = v16 + 4;
        v5 = v17 + 4;
        v12 = v16 + 4 < (unsigned int)v19;
        v16 += 4;
        v17 += 4;
      }
      while ( v12 );
      a1 = v20;
      v3 = v18;
      v4 = i;
    }
    v15 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (1004DC67) --------------------------------------------------------
int __fastcall sub_1004DC67(int a1)
{
  int v1; // eax@1
  int v2; // ebx@1
  int v3; // esi@1
  int v4; // edx@1
  int v5; // ebx@2
  int v6; // ebp@2
  int v7; // edx@3
  int v8; // eax@3
  int v9; // ebx@3
  int v10; // ST20_4@3
  unsigned int v11; // ebp@3
  int v12; // eax@3
  int v13; // eax@3
  int v15; // [sp+8h] [bp-20h]@2
  int v16; // [sp+Ch] [bp-1Ch]@1
  unsigned int v17; // [sp+10h] [bp-18h]@2
  int v18; // [sp+14h] [bp-14h]@2
  int v19; // [sp+1Ch] [bp-Ch]@2
  int v20; // [sp+20h] [bp-8h]@1
  int i; // [sp+24h] [bp-4h]@1

  v16 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v20 = a1;
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v3 < (unsigned int)v4; v3 += 2 * v2 )
  {
    v15 = v16;
    v5 = v3 + v2;
    v6 = v3;
    v17 = v3;
    v18 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4184);
    if ( v3 < (unsigned int)v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v5;
        v10 = *(_WORD *)v6;
        v11 = (v7 & 0xFFFF03E0) + (v9 & 0xFFFF03E0) + (v10 & 0xFFFF03E0) + (v8 & 0xFFFF03E0) + 64;
        v12 = (v9 & 0x7C1F) + (v10 & 0x7C1F) + (v8 & 0x7C1F);
        v5 = v18 + 4;
        v18 += 4;
        LOWORD(v11) = ((v12 + (v7 & 0x7C1Fu) + 2050) >> 2) & 0x7C1F | (v11 >> 2) & 0x3E0;
        v13 = v15;
        v15 += 2;
        *(_WORD *)v13 = v11;
        v6 = v17 + 4;
        v17 += 4;
      }
      while ( v17 < v19 );
      a1 = v20;
      v4 = i;
    }
    v16 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  }
  return 0;
}

//----- (1004DD8B) --------------------------------------------------------
int __fastcall sub_1004DD8B(int a1)
{
  int v1; // esi@1
  int v2; // edx@1
  int v3; // edi@1
  int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  __int16 v7; // si@3
  __int16 v8; // dx@3
  __int16 v9; // di@3
  int v10; // ecx@3
  bool v11; // cf@3
  int v13; // [sp+Ch] [bp-24h]@2
  int v14; // [sp+10h] [bp-20h]@1
  int v15; // [sp+14h] [bp-1Ch]@2
  int v16; // [sp+18h] [bp-18h]@2
  int v17; // [sp+1Ch] [bp-14h]@1
  int v18; // [sp+24h] [bp-Ch]@2
  int v19; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v4 = v2 + v3 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v19 = a1;
  v14 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v17 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  for ( i = v2 + v3 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v2 < (unsigned int)v4; v17 = v2 )
  {
    v13 = v14;
    v5 = v2 + v3;
    v6 = v2;
    v15 = v2;
    v16 = v5;
    v18 = v2 + 2 * *(_DWORD *)(v1 + 4184);
    if ( v2 < (unsigned int)v18 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v5;
        v10 = v13;
        v13 += 2;
        *(_WORD *)v10 = (((unsigned __int16)(v9 & 0x83E0)
                        + (unsigned __int16)(*(_WORD *)v6 & 0x83E0)
                        + (unsigned __int16)(v8 & 0x83E0)
                        + (v7 & 0x83E0u)
                        + 65600) >> 2) ^ ((((v7 & 0x7C1F)
                                          + (v9 & 0x7C1F)
                                          + (*(_WORD *)v6 & 0x7C1F)
                                          + (v8 & 0x7C1Fu)
                                          + 2050) >> 2) ^ (((unsigned __int16)(v9 & 0x83E0)
                                                          + (unsigned __int16)(*(_WORD *)v6 & 0x83E0)
                                                          + (unsigned __int16)(v8 & 0x83E0)
                                                          + (v7 & 0x83E0u)
                                                          + 65600) >> 2)) & 0x7C1F;
        v6 = v15 + 4;
        v5 = v16 + 4;
        v11 = v15 + 4 < (unsigned int)v18;
        v15 += 4;
        v16 += 4;
      }
      while ( v11 );
      a1 = v19;
      v2 = v17;
      v4 = i;
    }
    v14 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v1 = *(_DWORD *)a1;
    v3 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
    v2 += 2 * v3;
  }
  return 0;
}

//----- (1004DEDA) --------------------------------------------------------
int __fastcall sub_1004DEDA(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@1
  int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  int v7; // esi@3
  int v8; // eax@3
  int v9; // ebp@3
  __int16 v10; // bx@3
  int v11; // eax@3
  bool v12; // cf@3
  int v14; // [sp+Ch] [bp-24h]@2
  int v15; // [sp+10h] [bp-20h]@1
  int v16; // [sp+14h] [bp-1Ch]@2
  int v17; // [sp+18h] [bp-18h]@2
  int v18; // [sp+1Ch] [bp-14h]@1
  int v19; // [sp+24h] [bp-Ch]@2
  int v20; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v15 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v20 = a1;
  v18 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v3 < (unsigned int)v4; v18 = v3 )
  {
    v14 = v15;
    v5 = v3 + v2;
    v6 = v3;
    v16 = v3;
    v17 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4184);
    if ( v3 < (unsigned int)v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v6;
        LOWORD(v9) = v9 & 0xF0F0;
        v10 = (((unsigned __int16)(*(_WORD *)v5 & 0xF0F0)
              + (unsigned __int16)(*(_WORD *)v6 & 0xF0F0)
              + (unsigned __int16)(v8 & 0xF0F0)
              + (v7 & 0xF0F0u)
              + 8224) >> 2) ^ ((((v7 & 0xFFFF0F0F)
                               + (*(_WORD *)v5 & 0xF0F)
                               + (*(_WORD *)v6 & 0xF0F)
                               + (v8 & 0xFFFF0F0Fu)
                               + 514) >> 2) ^ (((unsigned __int16)(*(_WORD *)v5 & 0xF0F0)
                                              + v9
                                              + (unsigned __int16)(v8 & 0xF0F0)
                                              + (v7 & 0xF0F0u)
                                              + 8224) >> 2)) & 0xF0F;
        v11 = v14;
        v14 += 2;
        *(_WORD *)v11 = v10;
        v6 = v16 + 4;
        v5 = v17 + 4;
        v12 = v16 + 4 < (unsigned int)v19;
        v16 += 4;
        v17 += 4;
      }
      while ( v12 );
      a1 = v20;
      v3 = v18;
      v4 = i;
    }
    v15 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (1004E02D) --------------------------------------------------------
int __fastcall sub_1004E02D(int a1)
{
  int v1; // edx@1
  int v2; // ebp@1
  int v3; // eax@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // edi@2
  int v7; // ebx@2
  int v8; // eax@3
  int v9; // edi@3
  char v10; // dl@3
  int v11; // eax@3
  bool v12; // cf@3
  int v14; // [sp+Ch] [bp-20h]@2
  int v15; // [sp+10h] [bp-1Ch]@2
  int v16; // [sp+14h] [bp-18h]@2
  int v17; // [sp+18h] [bp-14h]@1
  int v18; // [sp+1Ch] [bp-10h]@1
  int v19; // [sp+20h] [bp-Ch]@2
  int v20; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v20 = a1;
  v17 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v18 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v3 < (unsigned int)v5; v18 = v3 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v14 = v2;
    v15 = v3;
    v16 = v6;
    v19 = v3 + *(_DWORD *)(v1 + 4184);
    if ( v3 < (unsigned int)v19 )
    {
      do
      {
        v8 = *(_BYTE *)(v6 + 1);
        v9 = *(_BYTE *)v6;
        v10 = (((unsigned __int8)(v9 & 0xE3)
              + (unsigned __int8)(*(_BYTE *)v7 & 0xE3)
              + (unsigned __int8)(v8 & 0xE3)
              + (*(_BYTE *)(v7 + 1) & 0xE3u)
              + 66) >> 2) ^ ((((v9 & 0xFFFF00E3)
                             + (unsigned __int8)(*(_BYTE *)v7 & 0xE3)
                             + (v8 & 0xFFFF00E3)
                             + (*(_BYTE *)(v7 + 1) & 0xE3u)
                             + 66) >> 2) ^ (((v9 & 0x1C)
                                           + (*(_BYTE *)v7 & 0x1C)
                                           + (v8 & 0x1C)
                                           + (*(_BYTE *)(v7 + 1) & 0x1Cu)
                                           + 8) >> 2)) & 0x1C;
        v11 = v14++;
        v7 = v15 + 2;
        v6 = v16 + 2;
        v12 = v15 + 2 < (unsigned int)v19;
        *(_BYTE *)v11 = v10;
        v15 += 2;
        v16 += 2;
      }
      while ( v12 );
      a1 = v20;
      v2 = v17;
      v3 = v18;
      v5 = i;
    }
    v2 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v1 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
    v3 += 2 * v4;
    v17 = v2;
  }
  return 0;
}

//----- (1004E16C) --------------------------------------------------------
int __thiscall sub_1004E16C(void *this)
{
  int v1; // ebx@1
  int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // eax@2
  int v7; // edi@2
  bool i; // cf@2
  int v9; // edi@3
  int v10; // ebx@3
  unsigned int v11; // ebx@3
  int v12; // edi@3
  int v14; // [sp+Ch] [bp-10h]@6
  int v15; // [sp+10h] [bp-Ch]@4
  int v16; // [sp+14h] [bp-8h]@2
  unsigned int v17; // [sp+18h] [bp-4h]@2

  v1 = *(_DWORD *)(*((_DWORD *)this + 1) + 24);
  v2 = *(_DWORD *)this;
  v3 = *(_DWORD *)(*(_DWORD *)this + 24);
  v4 = *(_DWORD *)(*(_DWORD *)this + 4176);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)this + 4188);
  while ( 1 )
  {
    v14 = v1;
    if ( v3 >= v5 )
      break;
    v6 = v3 + *(_DWORD *)(v2 + 4184);
    v7 = v3 + v4;
    v16 = v1;
    v17 = v3;
    for ( i = v3 < v6; ; i = v17 < v6 )
    {
      v15 = v7;
      if ( !i )
        break;
      v9 = *(_BYTE *)v7 + *(_BYTE *)(v17 + 1) + *(_BYTE *)(v7 + 1);
      v10 = *(_BYTE *)v17;
      v17 += 2;
      v11 = v9 + v10 + 2;
      v12 = v16++;
      *(_BYTE *)v12 = v11 >> 2;
      v7 = v15 + 2;
    }
    v1 = *(_DWORD *)(*((_DWORD *)this + 1) + 4176) + v14;
    v2 = *(_DWORD *)this;
    v4 = *(_DWORD *)(*(_DWORD *)this + 4176);
    v3 += 2 * v4;
  }
  return 0;
}

//----- (1004E207) --------------------------------------------------------
int __fastcall sub_1004E207(int a1)
{
  int v1; // edx@1
  int v2; // ebp@1
  int v3; // eax@1
  int v4; // edi@1
  int v5; // ebp@2
  int v6; // ebx@2
  int v7; // edx@3
  int v8; // edi@3
  int v9; // eax@3
  int v10; // ebp@3
  __int16 v11; // ST18_2@3
  int v12; // ebx@3
  int v13; // ecx@3
  unsigned int v14; // edx@3
  int v15; // ecx@3
  unsigned int v16; // edx@3
  int v17; // eax@3
  bool v18; // cf@3
  int v20; // [sp+8h] [bp-24h]@2
  int v21; // [sp+Ch] [bp-20h]@1
  int v22; // [sp+14h] [bp-18h]@2
  int v23; // [sp+18h] [bp-14h]@2
  int v24; // [sp+1Ch] [bp-10h]@1
  int v25; // [sp+20h] [bp-Ch]@2
  int v26; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v21 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v26 = a1;
  v24 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v3 < (unsigned int)v4; v24 = v3 )
  {
    v20 = v21;
    v5 = v3 + v2;
    v6 = v3;
    v22 = v3;
    v23 = v5;
    v25 = v3 + 2 * *(_DWORD *)(v1 + 4184);
    if ( v3 < (unsigned int)v25 )
    {
      do
      {
        v7 = *(_WORD *)v6;
        v8 = *(_WORD *)(v6 + 2);
        v9 = *(_WORD *)(v5 + 2);
        v10 = *(_WORD *)v5;
        v11 = v7;
        LOWORD(v7) = v7 & 0xE3;
        v12 = (unsigned __int8)(v10 & 0xE3) + v7 + (unsigned __int8)(v9 & 0xE3);
        HIWORD(v13) = HIWORD(v9);
        v9 &= 0xFF1Cu;
        LOWORD(v13) = v9;
        v14 = (v12 + (v8 & 0xE3u) + 66) >> 2;
        HIWORD(v12) = HIWORD(v10);
        v10 &= 0xFF1Cu;
        LOWORD(v12) = v10;
        v15 = v12 + (unsigned __int16)(v11 & 0xFF1C) + v13;
        HIWORD(v12) = HIWORD(v8);
        v8 &= 0xFF1Cu;
        LOWORD(v12) = v8;
        LOBYTE(v14) = ((unsigned int)(v15 + v12 + 520) >> 2) ^ v14;
        v16 = ((v10 + (v11 & 0xFF1Cu) + v9 + v8 + 520) >> 2) ^ v14 & 0xFFFF00E3;
        v17 = v20;
        v20 += 2;
        v6 = v22 + 4;
        v5 = v23 + 4;
        v18 = v22 + 4 < (unsigned int)v25;
        *(_WORD *)v17 = v16;
        v22 += 4;
        v23 += 4;
      }
      while ( v18 );
      a1 = v26;
      v3 = v24;
      v4 = i;
    }
    v21 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (1004E353) --------------------------------------------------------
int __fastcall sub_1004E353(int a1)
{
  int v1; // ebp@1
  int v2; // eax@1
  int v3; // esi@1
  int v4; // edi@1
  int v5; // edx@1
  int v6; // edi@2
  int v7; // ebx@2
  int v8; // edx@3
  int v9; // eax@3
  int v10; // ebx@3
  int v11; // edi@3
  unsigned int v12; // ebp@3
  unsigned int v13; // eax@3
  int v14; // ebp@3
  int v15; // eax@3
  int v17; // [sp+Ch] [bp-1Ch]@2
  int v18; // [sp+10h] [bp-18h]@2
  int v19; // [sp+14h] [bp-14h]@2
  int v20; // [sp+18h] [bp-10h]@1
  int v21; // [sp+1Ch] [bp-Ch]@2
  int v22; // [sp+20h] [bp-8h]@1
  int i; // [sp+24h] [bp-4h]@1

  v1 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v2 = *(_DWORD *)a1;
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v22 = a1;
  v20 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v3 < (unsigned int)v5; v20 = v1 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v17 = v1;
    v18 = v3;
    v19 = v6;
    v21 = v3 + 2 * *(_DWORD *)(v2 + 4184);
    if ( v3 < (unsigned int)v21 )
    {
      do
      {
        v8 = *(_WORD *)(v7 + 2);
        v9 = *(_WORD *)(v6 + 2);
        v10 = *(_WORD *)v7;
        v11 = *(_WORD *)v6;
        v12 = (v11 & 0xFFFF00F0) + (v10 & 0xFFFF00F0) + (v9 & 0xFFFF00F0) + (v8 & 0xFFFF00F0) + 32;
        LOWORD(v9) = v9 & 0xF0F;
        LOWORD(v10) = v10 & 0xF0F;
        LOWORD(v11) = v11 & 0xF0F;
        LOWORD(v8) = v8 & 0xF0F;
        v13 = (unsigned int)(v11 + v10 + v9 + v8 + 514) >> 2;
        LOWORD(v13) = v13 & 0xF0F;
        v7 = v18 + 4;
        v6 = v19 + 4;
        v18 = v7;
        v19 += 4;
        v14 = v13 | (v12 >> 2) & 0xFFFF00F0;
        v15 = v17;
        v17 += 2;
        *(_WORD *)v15 = v14;
      }
      while ( v7 < (unsigned int)v21 );
      a1 = v22;
      v1 = v20;
      v5 = i;
    }
    v1 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v2 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
    v3 += 2 * v4;
  }
  return 0;
}

//----- (1004E480) --------------------------------------------------------
int __fastcall sub_1004E480(int a1)
{
  int v1; // edx@1
  int v2; // ebp@1
  int v3; // eax@1
  int v4; // edi@1
  int v5; // ebp@2
  int v6; // ebx@2
  int v7; // edx@3
  int v8; // edi@3
  int v9; // eax@3
  int v10; // ebp@3
  __int16 v11; // ST18_2@3
  int v12; // ebx@3
  int v13; // ecx@3
  unsigned int v14; // edx@3
  int v15; // ecx@3
  unsigned int v16; // edx@3
  int v17; // eax@3
  bool v18; // cf@3
  int v20; // [sp+8h] [bp-24h]@2
  int v21; // [sp+Ch] [bp-20h]@1
  int v22; // [sp+14h] [bp-18h]@2
  int v23; // [sp+18h] [bp-14h]@2
  int v24; // [sp+1Ch] [bp-10h]@1
  int v25; // [sp+20h] [bp-Ch]@2
  int v26; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v21 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v26 = a1;
  v24 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v3 < (unsigned int)v4; v24 = v3 )
  {
    v20 = v21;
    v5 = v3 + v2;
    v6 = v3;
    v22 = v3;
    v23 = v5;
    v25 = v3 + 2 * *(_DWORD *)(v1 + 4184);
    if ( v3 < (unsigned int)v25 )
    {
      do
      {
        v7 = *(_WORD *)v6;
        v8 = *(_WORD *)(v6 + 2);
        v9 = *(_WORD *)(v5 + 2);
        v10 = *(_WORD *)v5;
        v11 = v7;
        LOWORD(v7) = (unsigned __int8)v7;
        v12 = (unsigned __int8)v10 + v7 + (unsigned __int8)v9;
        HIWORD(v13) = HIWORD(v9);
        v9 &= 0xFF00u;
        LOWORD(v13) = v9;
        v14 = (v12 + (unsigned int)(unsigned __int8)v8 + 2) >> 2;
        HIWORD(v12) = HIWORD(v10);
        v10 &= 0xFF00u;
        LOWORD(v12) = v10;
        v15 = v12 + (unsigned __int16)(v11 & 0xFF00) + v13;
        HIWORD(v12) = HIWORD(v8);
        v8 &= 0xFF00u;
        LOWORD(v12) = v8;
        LOBYTE(v14) = ((unsigned int)(v15 + v12 + 512) >> 2) ^ v14;
        v16 = ((v10 + (v11 & 0xFF00u) + v9 + v8 + 512) >> 2) ^ v14 & 0xFFFF00FF;
        v17 = v20;
        v20 += 2;
        v6 = v22 + 4;
        v5 = v23 + 4;
        v18 = v22 + 4 < (unsigned int)v25;
        *(_WORD *)v17 = v16;
        v22 += 4;
        v23 += 4;
      }
      while ( v18 );
      a1 = v26;
      v3 = v24;
      v4 = i;
    }
    v21 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (1004E5CC) --------------------------------------------------------
int __fastcall sub_1004E5CC(int a1)
{
  int v1; // edx@1
  int v2; // ebp@1
  int v3; // eax@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // edi@2
  int v7; // ebx@2
  int v8; // eax@3
  int v9; // edi@3
  char v10; // dl@3
  int v11; // eax@3
  bool v12; // cf@3
  int v14; // [sp+Ch] [bp-20h]@2
  int v15; // [sp+10h] [bp-1Ch]@2
  int v16; // [sp+14h] [bp-18h]@2
  int v17; // [sp+18h] [bp-14h]@1
  int v18; // [sp+1Ch] [bp-10h]@1
  int v19; // [sp+20h] [bp-Ch]@2
  int v20; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4188);
  v20 = a1;
  v17 = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 24);
  v18 = *(_DWORD *)(*(_DWORD *)a1 + 24);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4188); v3 < (unsigned int)v5; v18 = v3 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v14 = v2;
    v15 = v3;
    v16 = v6;
    v19 = v3 + *(_DWORD *)(v1 + 4184);
    if ( v3 < (unsigned int)v19 )
    {
      do
      {
        v8 = *(_BYTE *)(v6 + 1);
        v9 = *(_BYTE *)v6;
        v10 = (((unsigned __int8)(v9 & 0xF0)
              + (unsigned __int8)(*(_BYTE *)v7 & 0xF0)
              + (unsigned __int8)(v8 & 0xF0)
              + (*(_BYTE *)(v7 + 1) & 0xF0u)
              + 32) >> 2) ^ ((((v9 & 0xFFFF00F0)
                             + (unsigned __int8)(*(_BYTE *)v7 & 0xF0)
                             + (v8 & 0xFFFF00F0)
                             + (*(_BYTE *)(v7 + 1) & 0xF0u)
                             + 32) >> 2) ^ (((v9 & 0xF)
                                           + (*(_BYTE *)v7 & 0xF)
                                           + (v8 & 0xF)
                                           + (*(_BYTE *)(v7 + 1) & 0xFu)
                                           + 2) >> 2)) & 0xF;
        v11 = v14++;
        v7 = v15 + 2;
        v6 = v16 + 2;
        v12 = v15 + 2 < (unsigned int)v19;
        *(_BYTE *)v11 = v10;
        v15 += 2;
        v16 += 2;
      }
      while ( v12 );
      a1 = v20;
      v2 = v17;
      v3 = v18;
      v5 = i;
    }
    v2 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4176);
    v1 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4176);
    v3 += 2 * v4;
    v17 = v2;
  }
  return 0;
}

//----- (1004E74D) --------------------------------------------------------
signed int __thiscall sub_1004E74D(int this)
{
  void *v1; // ebx@1
  int v2; // eax@1
  int v3; // ecx@1
  signed int result; // eax@2
  void *v5; // edx@15
  const void *v6; // ebx@15
  int v7; // [sp+8h] [bp-10h]@5
  unsigned int v8; // [sp+Ch] [bp-Ch]@15
  void *v9; // [sp+10h] [bp-8h]@1
  unsigned int v10; // [sp+14h] [bp-4h]@12

  v1 = (void *)this;
  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)this;
  v9 = v1;
  if ( *(_DWORD *)(v2 + 4) != *(_DWORD *)(v3 + 4) )
    return -2147467259;
  if ( *(_DWORD *)(v3 + 16)
    || *(_DWORD *)(v2 + 4184) != *(_DWORD *)(v3 + 4184)
    || (v7 = *(_DWORD *)(v2 + 4188), *(_DWORD *)(v2 + 4188) != *(_DWORD *)(v3 + 4188))
    || *(_DWORD *)(v2 + 4192) != *(_DWORD *)(v3 + 4192) )
    goto LABEL_22;
  if ( !*(_DWORD *)(v2 + 12) )
    return sub_1004D51E(v1);
  if ( *(_DWORD *)(v2 + 20) && v2 + 48 != v3 + 48 && memcmp((const void *)(v2 + 48), (const void *)(v3 + 48), 1024) )
  {
LABEL_22:
    result = -2147467259;
  }
  else
  {
    v10 = 0;
    if ( *(_DWORD *)(v2 + 4192) )
    {
      while ( 1 )
      {
        v5 = (void *)(*(_DWORD *)(v2 + 24) + v10 * *(_DWORD *)(v2 + 4180));
        v6 = (const void *)(*(_DWORD *)(*(_DWORD *)v9 + 24) + v10 * *(_DWORD *)(*(_DWORD *)v1 + 4180));
        v8 = 0;
        if ( v7 )
        {
          do
          {
            memcpy(v5, v6, *(_DWORD *)(v2 + 4196));
            v2 = *((_DWORD *)v9 + 1);
            v6 = (char *)v6 + *(_DWORD *)(*(_DWORD *)v9 + 4176);
            v5 = (char *)v5 + *(_DWORD *)(v2 + 4176);
            ++v8;
            v7 = *(_DWORD *)(v2 + 4188);
          }
          while ( v8 < *(_DWORD *)(v2 + 4188) );
        }
        ++v10;
        v2 = *((_DWORD *)v9 + 1);
        if ( v10 >= *(_DWORD *)(v2 + 4192) )
          break;
        v1 = v9;
      }
    }
    result = 0;
  }
  return result;
}

//----- (1004E885) --------------------------------------------------------
signed int __thiscall sub_1004E885(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // ecx@1
  int v4; // edi@1
  int v5; // eax@4
  int v6; // ebx@4
  unsigned int v7; // ebx@7
  int v8; // eax@8
  unsigned int v9; // eax@9
  unsigned int v10; // edi@10
  signed int result; // eax@13
  int v12; // [sp+0h] [bp-10h]@5

  v1 = this;
  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)this;
  v4 = *(_DWORD *)(v2 + 4184);
  if ( v4 == *(_DWORD *)(v3 + 4184)
    && *(_DWORD *)(v2 + 4188) == *(_DWORD *)(v3 + 4188)
    && *(_DWORD *)(v2 + 4192) == *(_DWORD *)(v3 + 4192)
    && ((v5 = sub_100015F0(16 * v4), (v6 = v5) == 0) ? (v12 = 0) : (sub_10001650(
                                                                      v5,
                                                                      16,
                                                                      v4,
                                                                      (int (__thiscall *)(_DWORD))sub_1003CAF6),
                                                                    v12 = v6),
        v7 = 0,
        v12) )
  {
    v8 = *(_DWORD *)(v1 + 4);
    if ( *(_DWORD *)(v8 + 4192) > 0u )
    {
      v9 = *(_DWORD *)(v8 + 4188);
      do
      {
        v10 = 0;
        if ( v9 )
        {
          do
          {
            (*(void (__stdcall **)(unsigned int, unsigned int, int))(**(_DWORD **)v1 + 4))(v10, v7, v12);
            (*(void (__stdcall **)(unsigned int, unsigned int, int))(**(_DWORD **)(v1 + 4) + 8))(v10, v7, v12);
            v9 = *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4188);
            ++v10;
          }
          while ( v10 < v9 );
        }
        ++v7;
      }
      while ( v7 < *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4192) );
    }
    sub_10001610(v12);
    result = 0;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (1004E976) --------------------------------------------------------
signed int __thiscall sub_1004E976(int this)
{
  int v1; // esi@1
  signed int result; // eax@2
  int v3; // eax@3
  int v4; // ecx@3
  unsigned int v5; // ecx@7
  unsigned int v6; // edi@9
  int v7; // eax@9
  int v8; // eax@14
  char v9; // dl@19
  unsigned int v10; // ebx@19
  int v11; // edi@19
  int i; // ecx@19
  unsigned int v13; // edx@22
  int v14; // edi@22
  int j; // ecx@22
  unsigned int v16; // edi@26
  int v17; // ecx@28
  unsigned int k; // edi@28
  int v19; // ecx@31
  unsigned int v20; // eax@32
  unsigned int v21; // edi@33
  unsigned int v22; // [sp+4h] [bp-20h]@5
  unsigned int v23; // [sp+8h] [bp-1Ch]@7
  int v24; // [sp+Ch] [bp-18h]@3
  int v25; // [sp+Ch] [bp-18h]@14
  int v26; // [sp+Ch] [bp-18h]@15
  int v27; // [sp+10h] [bp-14h]@9
  int v28; // [sp+10h] [bp-14h]@14
  unsigned int v29; // [sp+10h] [bp-14h]@19
  int v30; // [sp+14h] [bp-10h]@10

  v1 = this;
  if ( *(_BYTE *)(this + 8) == 1 )
  {
    v3 = *(_DWORD *)(this + 4);
    v4 = *(_DWORD *)this;
    v24 = *(_DWORD *)(v3 + 4184);
    if ( *(_DWORD *)(v3 + 4184) <= *(_DWORD *)(v4 + 4184) )
      v24 = *(_DWORD *)(v4 + 4184);
    v22 = *(_DWORD *)(v3 + 4188);
    if ( *(_DWORD *)(v3 + 4188) >= *(_DWORD *)(v4 + 4188) )
      v22 = *(_DWORD *)(v4 + 4188);
    v5 = *(_DWORD *)(v4 + 4192);
    v23 = *(_DWORD *)(v3 + 4192);
    if ( v23 >= v5 )
      v23 = v5;
    v6 = 16 * v24;
    v7 = sub_100015F0(16 * v24);
    v27 = v7;
    if ( v7 )
    {
      sub_10001650(v7, 16, v24, (int (__thiscall *)(_DWORD))sub_1003CAF6);
      v30 = v27;
    }
    else
    {
      v30 = 0;
    }
    if ( v30 )
    {
      v25 = *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4184);
      v8 = sub_100015F0(16 * v25);
      v28 = v8;
      if ( v8 )
      {
        sub_10001650(v8, 16, v25, (int (__thiscall *)(_DWORD))sub_1003CAF6);
        v26 = v28;
      }
      else
      {
        v26 = 0;
      }
      if ( v26 )
      {
        v9 = v6;
        v10 = v23;
        v29 = 0;
        memset((void *)v30, 0, 4 * (v6 >> 2));
        v11 = v30 + 4 * (v6 >> 2);
        for ( i = v9 & 3; i; --i )
          *(_BYTE *)v11++ = 0;
        v13 = 16 * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4184);
        memset((void *)v26, 0, 4 * (v13 >> 2));
        v14 = v26 + 4 * (v13 >> 2);
        for ( j = v13 & 3; j; --j )
          *(_BYTE *)v14++ = 0;
        if ( v23 )
        {
          do
          {
            v16 = 0;
            if ( v22 )
            {
              do
              {
                (*(void (__stdcall **)(unsigned int, unsigned int, int))(**(_DWORD **)v1 + 4))(v16, v29, v30);
                (*(void (__stdcall **)(unsigned int, unsigned int, int))(**(_DWORD **)(v1 + 4) + 8))(v16++, v29, v30);
              }
              while ( v16 < v22 );
            }
            v17 = *(_DWORD *)(v1 + 4);
            for ( k = v22; k < *(_DWORD *)(v17 + 4188); ++k )
            {
              (*(void (__stdcall **)(unsigned int, unsigned int, int))(*(_DWORD *)v17 + 8))(k, v29, v26);
              v17 = *(_DWORD *)(v1 + 4);
            }
            v10 = v23;
            ++v29;
          }
          while ( v29 < v23 );
        }
        v19 = *(_DWORD *)(v1 + 4);
        if ( v10 < *(_DWORD *)(v19 + 4192) )
        {
          v20 = *(_DWORD *)(v19 + 4188);
          do
          {
            v21 = 0;
            if ( v20 )
            {
              do
              {
                (*(void (__stdcall **)(unsigned int, unsigned int, int))(*(_DWORD *)v19 + 8))(v21, v10, v26);
                v19 = *(_DWORD *)(v1 + 4);
                v20 = *(_DWORD *)(v19 + 4188);
                ++v21;
              }
              while ( v21 < v20 );
            }
            v19 = *(_DWORD *)(v1 + 4);
            ++v10;
          }
          while ( v10 < *(_DWORD *)(v19 + 4192) );
        }
        sub_10001610(v30);
        sub_10001610(v26);
        result = 0;
      }
      else
      {
        sub_10001610(v30);
        result = -2147467259;
      }
    }
    else
    {
      result = -2147467259;
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (1004EB78) --------------------------------------------------------
signed int __thiscall sub_1004EB78(void *this)
{
  void *v1; // ebx@1
  signed int result; // eax@2
  int v3; // edi@3
  int v4; // eax@3
  int v5; // edi@8
  int v6; // eax@8
  int v7; // esi@13
  unsigned int v8; // edi@13
  __int64 v9; // qax@13
  unsigned int v10; // esi@13
  unsigned __int64 v11; // qtt@13
  __int64 v12; // qax@13
  unsigned int v13; // edx@13
  unsigned int v14; // esi@14
  int v15; // eax@18
  unsigned int v16; // esi@19
  int v17; // esi@19
  int v18; // [sp+4h] [bp-3Ch]@13
  int v19; // [sp+8h] [bp-38h]@13
  int v20; // [sp+Ch] [bp-34h]@13
  int v21; // [sp+10h] [bp-30h]@3
  int v22; // [sp+10h] [bp-30h]@8
  int v23; // [sp+10h] [bp-30h]@14
  signed int v24; // [sp+14h] [bp-2Ch]@14
  unsigned int v25; // [sp+18h] [bp-28h]@13
  unsigned int v26; // [sp+1Ch] [bp-24h]@15
  unsigned int v27; // [sp+20h] [bp-20h]@15
  unsigned int v28; // [sp+24h] [bp-1Ch]@13
  unsigned int v29; // [sp+28h] [bp-18h]@14
  int v30; // [sp+2Ch] [bp-14h]@9
  int v31; // [sp+30h] [bp-10h]@4

  v1 = this;
  if ( *((_BYTE *)this + 8) == 2 )
  {
    v3 = *(_DWORD *)(*(_DWORD *)this + 4184);
    v4 = sub_100015F0(16 * *(_DWORD *)(*(_DWORD *)this + 4184));
    v21 = v4;
    if ( v4 )
    {
      sub_10001650(v4, 16, v3, (int (__thiscall *)(_DWORD))sub_1003CAF6);
      v31 = v21;
    }
    else
    {
      v31 = 0;
    }
    if ( v31 )
    {
      v5 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184);
      v6 = sub_100015F0(16 * *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184));
      v22 = v6;
      if ( v6 )
      {
        sub_10001650(v6, 16, v5, (int (__thiscall *)(_DWORD))sub_1003CAF6);
        v30 = v22;
      }
      else
      {
        v30 = 0;
      }
      if ( v30 )
      {
        v7 = *((_DWORD *)v1 + 1);
        v8 = *(_DWORD *)(v7 + 4188);
        v9 = (*(_DWORD *)(*(_DWORD *)v1 + 4184) << 16) / *(_DWORD *)(v7 + 4184);
        v10 = *(_DWORD *)(v7 + 4192);
        v25 = 0;
        v28 = 0;
        v20 = v9;
        LODWORD(v11) = *(_DWORD *)(*(_DWORD *)v1 + 4188) << 16;
        HIDWORD(v11) = HIDWORD(v9);
        v12 = (unsigned int)(v11 / v8);
        v19 = v11 / v8;
        LODWORD(v11) = *(_DWORD *)(*(_DWORD *)v1 + 4192) << 16;
        HIDWORD(v11) = HIDWORD(v12);
        v13 = v11 % v10;
        v18 = v11 / v10;
        if ( v10 )
        {
          do
          {
            v24 = -1;
            v14 = 0;
            v23 = 0;
            v29 = 0;
            if ( v8 )
            {
              do
              {
                v27 = 0;
                v26 = 0;
                if ( (v14 ^ v24) & 0xFFFF0000 )
                {
                  (*(void (__stdcall **)(unsigned int, unsigned int, int))(**(_DWORD **)v1 + 4))(
                    v14 >> 16,
                    v25 >> 16,
                    v31);
                  v24 = v14;
                }
                if ( *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184) )
                {
                  v15 = v30;
                  do
                  {
                    v16 = v27;
                    v27 += v20;
                    v17 = v31 + 16 * (v16 >> 16);
                    ++v26;
                    v13 = v26;
                    *(_DWORD *)v15 = *(_DWORD *)v17;
                    v17 += 4;
                    *(_DWORD *)(v15 + 4) = *(_DWORD *)v17;
                    v17 += 4;
                    *(_DWORD *)(v15 + 8) = *(_DWORD *)v17;
                    *(_DWORD *)(v15 + 12) = *(_DWORD *)(v17 + 4);
                    v15 += 16;
                  }
                  while ( v26 < *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184) );
                }
                (*(void (__fastcall **)(_DWORD, unsigned int, unsigned int, unsigned int, int))(**((_DWORD **)v1 + 1) + 8))(
                  *((_DWORD *)v1 + 1),
                  v13,
                  v29,
                  v28,
                  v30);
                v14 = v19 + v23;
                ++v29;
                v8 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4188);
                v23 += v19;
              }
              while ( v29 < v8 );
            }
            v25 += v18;
            ++v28;
          }
          while ( v28 < *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192) );
        }
        sub_10001610(v31);
        sub_10001610(v30);
        result = 0;
      }
      else
      {
        sub_10001610(v31);
        result = -2147024882;
      }
    }
    else
    {
      result = -2147024882;
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (1004ED7C) --------------------------------------------------------
signed int __usercall sub_1004ED7C<eax>(int a1<ecx>, int a2<edi>, int a3<esi>)
{
  int v3; // ebx@1
  signed int result; // eax@2
  int v5; // ecx@3
  unsigned int v6; // eax@3
  int v7; // edx@3
  int v8; // esi@3
  int v9; // esi@6
  int v10; // ecx@14
  int v11; // eax@17
  signed int v12; // ecx@17
  int v13; // eax@23
  int v14; // ecx@30
  int v15; // ecx@31
  int v16; // ecx@32
  int v17; // ecx@33
  int v18; // ecx@34
  int v19; // ecx@35
  int v20; // esi@44
  int v21; // eax@44
  int v22; // esi@49
  int v23; // eax@50
  int v24; // eax@51
  int v25; // esi@54
  int v26; // eax@54
  int v27; // ecx@55
  int v28; // eax@57
  signed int v29; // esi@59
  int v30; // ecx@61
  bool v31; // zf@63
  int v32; // edi@64
  int v33; // esi@64
  unsigned int v34; // edx@66
  int v35; // eax@68
  int v36; // ecx@68
  double v37; // st6@68
  int v38; // edi@68
  double v39; // st5@68
  float v40; // ST44_4@68
  double v41; // st4@68
  int v42; // eax@68
  float v43; // ST48_4@68
  float v44; // ST2C_4@68
  double v45; // st6@68
  double v46; // st5@68
  double v47; // st4@68
  int v48; // eax@68
  float v49; // ST38_4@68
  float v50; // ST1C_4@68
  float v51; // ST20_4@68
  float v52; // ST4C_4@68
  float v53; // ST50_4@68
  float v54; // ST54_4@68
  float v55; // ST58_4@68
  int v56; // [sp-8h] [bp-78h]@3
  int v57; // [sp-4h] [bp-74h]@3
  int v58; // [sp+44h] [bp-2Ch]@44
  int v59; // [sp+48h] [bp-28h]@61
  int v60; // [sp+4Ch] [bp-24h]@53
  int v61; // [sp+50h] [bp-20h]@67
  int v62; // [sp+54h] [bp-1Ch]@45
  unsigned int v63; // [sp+58h] [bp-18h]@63
  int v64; // [sp+5Ch] [bp-14h]@53
  int v65; // [sp+60h] [bp-10h]@58
  int v66; // [sp+6Ch] [bp-4h]@44

  v3 = a1;
  if ( *(_BYTE *)(a1 + 8) != 5 )
    return -2147467259;
  v5 = *(_DWORD *)a1;
  v6 = *(_DWORD *)(*(_DWORD *)v3 + 4184);
  v7 = *(_DWORD *)(v3 + 4);
  v57 = a3;
  v8 = *(_DWORD *)(v7 + 4184);
  v56 = a2;
  if ( v8 != v6 >> 1 && (v8 != 1 || v6 != 1)
    || (v9 = *(_DWORD *)(v7 + 4188), v9 != *(_DWORD *)(v5 + 4188) >> 1) && (v9 != 1 || *(_DWORD *)(v5 + 4188) != 1)
    || *(_DWORD *)(v7 + 4192) != 1
    || *(_DWORD *)(v5 + 4192) != 1 )
    return -2147467259;
  if ( v6 > 1 && v6 & 1 )
  {
    *(_DWORD *)(v5 + 4184) = v6 & 0xFFFFFFFE;
    *(_DWORD *)(*(_DWORD *)v3 + 4196) -= *(_DWORD *)(*(_DWORD *)v3 + 4200);
  }
  v10 = *(_DWORD *)v3 + 4188;
  if ( *(_DWORD *)v10 > 1u )
    *(_DWORD *)v10 &= 0xFFFFFFFEu;
  if ( *(_BYTE *)(v3 + 10) & 8
    || (v11 = *(_DWORD *)v3, v12 = *(_DWORD *)(*(_DWORD *)v3 + 4), v12 != *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4))
    || *(_DWORD *)(v11 + 4184) < 2u
    || *(_DWORD *)(v11 + 4188) < 2u )
    goto LABEL_44;
  if ( v12 <= 28 )
  {
    if ( v12 != 28 )
    {
      switch ( v12 )
      {
        case 21:
          v13 = sub_1004D7F8((void *)v3);
          goto LABEL_42;
        case 22:
          v13 = sub_1004DAE6((void *)v3);
          goto LABEL_42;
        case 23:
          v13 = sub_1004DB17(v3);
          goto LABEL_42;
        case 24:
          v13 = sub_1004DC67(v3);
          goto LABEL_42;
        case 25:
          v13 = sub_1004DD8B(v3);
          goto LABEL_42;
        case 26:
          v13 = sub_1004DEDA(v3);
          goto LABEL_42;
        case 27:
          v13 = sub_1004E02D(v3);
          goto LABEL_42;
        default:
          goto LABEL_44;
      }
      goto LABEL_44;
    }
    goto LABEL_39;
  }
  v14 = v12 - 29;
  if ( !v14 )
  {
    v13 = sub_1004E207(v3);
LABEL_42:
    if ( v13 >= 0 )
      return 0;
    goto LABEL_44;
  }
  v15 = v14 - 1;
  if ( !v15 )
  {
    v13 = sub_1004E353(v3);
    goto LABEL_42;
  }
  v16 = v15 - 10;
  if ( v16 )
  {
    v17 = v16 - 1;
    if ( v17 )
    {
      v18 = v17 - 9;
      if ( !v18 )
      {
LABEL_39:
        v13 = sub_1004E16C((void *)v3);
        goto LABEL_42;
      }
      v19 = v18 - 1;
      if ( !v19 )
      {
        v13 = sub_1004E480(v3);
        goto LABEL_42;
      }
      if ( v19 == 1 )
      {
        v13 = sub_1004E5CC(v3);
        goto LABEL_42;
      }
    }
  }
LABEL_44:
  v20 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4184);
  v21 = sub_100015F0(16 * *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4184));
  v58 = v21;
  v66 = 0;
  if ( v21 )
  {
    sub_10001650(v21, 16, v20, (int (__thiscall *)(_DWORD))sub_1003CAF6);
    v62 = v58;
  }
  else
  {
    v62 = 0;
  }
  v66 = -1;
  if ( v62 )
  {
    v22 = *(_DWORD *)(*(_DWORD *)v3 + 4184);
    if ( *(_DWORD *)(*(_DWORD *)v3 + 4188) == 1 )
    {
      v23 = sub_100015F0(16 * v22);
      v58 = v23;
      v66 = 1;
      if ( v23 )
      {
        sub_10001650(v23, 16, v22, (int (__thiscall *)(_DWORD))sub_1003CAF6);
        v24 = v58;
      }
      else
      {
        v24 = 0;
      }
      v66 = -1;
      v60 = v24;
      v64 = v24;
    }
    else
    {
      v25 = 2 * v22;
      v26 = sub_100015F0(16 * v25);
      v58 = v26;
      v66 = 2;
      if ( v26 )
      {
        sub_10001650(v26, 16, v25, (int (__thiscall *)(_DWORD))sub_1003CAF6);
        v27 = v58;
      }
      else
      {
        v27 = 0;
      }
      v28 = *(_DWORD *)(*(_DWORD *)v3 + 4184);
      v66 = -1;
      v60 = v27;
      v64 = v27;
      v24 = v27 + 16 * v28;
    }
    v65 = v24;
    if ( v60 )
    {
      if ( *(_DWORD *)(*(_DWORD *)v3 + 4184) == 1 )
      {
        v59 = v64;
        v30 = v65;
      }
      else
      {
        v59 = v64 + 16;
        v30 = v65 + 16;
      }
      v58 = v30;
      v31 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4188) == 0;
      v63 = 0;
      if ( !v31 )
      {
        do
        {
          v32 = v64;
          v33 = 2 * v63;
          (*(void (__stdcall **)(unsigned int, _DWORD, int, int, int))(**(_DWORD **)v3 + 4))(2 * v63, 0, v64, v56, v57);
          if ( v65 != v32 )
            (*(void (__stdcall **)(int, _DWORD, int))(**(_DWORD **)v3 + 4))(v33 + 1, 0, v65);
          v34 = 0;
          if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4184) )
          {
            v61 = v62;
            do
            {
              v35 = 32 * v34 + v59;
              v36 = 32 * v34 + v64;
              v37 = *(float *)v35 + *(float *)v36;
              v38 = v61;
              v39 = *(float *)(v35 + 4);
              v61 += 16;
              v40 = *(float *)(v35 + 8) + *(float *)(v36 + 8);
              v41 = *(float *)(v35 + 12);
              v42 = 32 * v34 + v65;
              v43 = v41 + *(float *)(v36 + 12);
              v44 = v37 + *(float *)v42;
              v45 = v39 + *(float *)(v36 + 4) + *(float *)(v42 + 4);
              v46 = v40 + *(float *)(v42 + 8);
              v47 = v43 + *(float *)(v42 + 12);
              v48 = 32 * v34 + v58;
              v49 = v47;
              ++v34;
              v50 = v44 + *(float *)v48;
              v51 = v45 + *(float *)(v48 + 4);
              v52 = v50 * 0.25;
              v53 = v51 * 0.25;
              v54 = (v46 + *(float *)(v48 + 8)) * 0.25;
              v55 = (v49 + *(float *)(v48 + 12)) * 0.25;
              *(_DWORD *)v38 = LODWORD(v52);
              v38 += 4;
              *(_DWORD *)v38 = LODWORD(v53);
              v38 += 4;
              *(_DWORD *)v38 = LODWORD(v54);
              *(_DWORD *)(v38 + 4) = LODWORD(v55);
            }
            while ( v34 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4184) );
          }
          v57 = v62;
          v56 = 0;
          (*(void (__stdcall **)(unsigned int))(**(_DWORD **)(v3 + 4) + 8))(v63++);
        }
        while ( v63 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4188) );
      }
      sub_10001610(v60);
      v29 = 0;
    }
    else
    {
      v29 = -2147024882;
    }
    sub_10001610(v62);
    result = v29;
  }
  else
  {
    result = -2147024882;
  }
  return result;
}
// 1004ED7C: could not find valid save-restore pair for edi
// 1004ED7C: could not find valid save-restore pair for esi

//----- (1004F19F) --------------------------------------------------------
signed int __usercall sub_1004F19F<eax>(int a1<ecx>, unsigned int a2<edi>, int a3<esi>)
{
  int v3; // ebx@1
  signed int result; // eax@2
  int v5; // ecx@3
  unsigned int v6; // eax@3
  int v7; // edx@3
  int v8; // esi@3
  int v9; // esi@7
  int v10; // ecx@14
  int v11; // ecx@16
  int v12; // esi@18
  int v13; // eax@18
  int v14; // esi@23
  int v15; // esi@24
  int v16; // eax@24
  int v17; // ecx@25
  int v18; // eax@27
  int v19; // esi@27
  int v20; // edx@27
  int v21; // esi@28
  int v22; // eax@28
  int v23; // edx@29
  signed int v24; // esi@33
  int v25; // eax@37
  int v26; // edi@39
  int v27; // ecx@48
  int v28; // edx@48
  double v29; // st6@48
  double v30; // st5@48
  float v31; // ST54_4@48
  double v32; // st4@48
  int v33; // ecx@48
  float v34; // ST58_4@48
  float v35; // ST2C_4@48
  double v36; // st6@48
  double v37; // st5@48
  double v38; // st4@48
  int v39; // ecx@48
  float v40; // ST38_4@48
  float v41; // ST5C_4@48
  float v42; // ST60_4@48
  double v43; // st6@48
  double v44; // st5@48
  int v45; // ecx@48
  float v46; // ST8C_4@48
  float v47; // ST90_4@48
  float v48; // ST94_4@48
  double v49; // st5@48
  int v50; // ecx@48
  double v51; // st6@48
  double v52; // st5@48
  float v53; // ST80_4@48
  float v54; // ST84_4@48
  float v55; // ST88_4@48
  int v56; // ecx@48
  int v57; // edi@48
  float v58; // ST44_4@48
  int v59; // eax@48
  float v60; // ST48_4@48
  float v61; // ST1C_4@48
  float v62; // ST28_4@48
  float v63; // ST6C_4@48
  float v64; // ST70_4@48
  float v65; // ST74_4@48
  float v66; // ST78_4@48
  unsigned int v67; // [sp-8h] [bp-D0h]@3
  int v68; // [sp-4h] [bp-CCh]@3
  int v69; // [sp+84h] [bp-44h]@37
  int v70; // [sp+88h] [bp-40h]@35
  int v71; // [sp+8Ch] [bp-3Ch]@35
  int v72; // [sp+90h] [bp-38h]@27
  int v73; // [sp+94h] [bp-34h]@47
  int v74; // [sp+98h] [bp-30h]@27
  unsigned int v75; // [sp+9Ch] [bp-2Ch]@46
  int v76; // [sp+A0h] [bp-28h]@27
  unsigned int v77; // [sp+A4h] [bp-24h]@37
  int v78; // [sp+A8h] [bp-20h]@19
  int v79; // [sp+ACh] [bp-1Ch]@27
  int v80; // [sp+B0h] [bp-18h]@27
  int v81; // [sp+B4h] [bp-14h]@18
  int v82; // [sp+B4h] [bp-14h]@24
  int v83; // [sp+B4h] [bp-14h]@28
  int v84; // [sp+B4h] [bp-14h]@37
  unsigned int v85; // [sp+B8h] [bp-10h]@38

  v3 = a1;
  if ( *(_BYTE *)(a1 + 8) == 5 )
  {
    v5 = *(_DWORD *)a1;
    v6 = *(_DWORD *)(*(_DWORD *)v3 + 4184);
    v7 = *(_DWORD *)(v3 + 4);
    v68 = a3;
    v8 = *(_DWORD *)(v7 + 4184);
    v67 = a2;
    if ( v8 != v6 >> 1 && (v8 != 1 || v6 != 1)
      || (v9 = *(_DWORD *)(v7 + 4188), v9 != *(_DWORD *)(v5 + 4188) >> 1) && (v9 != 1 || *(_DWORD *)(v5 + 4188) != 1)
      || *(_DWORD *)(v7 + 4192) != *(_DWORD *)(v5 + 4192) >> 1 )
    {
      result = -2147467259;
    }
    else
    {
      if ( v6 > 1 && v6 & 1 )
      {
        *(_DWORD *)(v5 + 4184) = v6 & 0xFFFFFFFE;
        *(_DWORD *)(*(_DWORD *)v3 + 4196) -= *(_DWORD *)(*(_DWORD *)v3 + 4200);
      }
      v10 = *(_DWORD *)v3 + 4188;
      if ( *(_DWORD *)v10 > 1u )
        *(_DWORD *)v10 &= 0xFFFFFFFEu;
      v11 = *(_DWORD *)v3 + 4192;
      if ( *(_DWORD *)v11 > 1u )
        *(_DWORD *)v11 &= 0xFFFFFFFEu;
      v12 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4184);
      v13 = sub_100015F0(16 * *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4184));
      v81 = v13;
      if ( v13 )
      {
        sub_10001650(v13, 16, v12, (int (__thiscall *)(_DWORD))sub_1003CAF6);
        v78 = v81;
      }
      else
      {
        v78 = 0;
      }
      if ( v78 )
      {
        v14 = *(_DWORD *)(*(_DWORD *)v3 + 4184);
        if ( *(_DWORD *)(*(_DWORD *)v3 + 4188) == 1 )
        {
          v15 = 2 * v14;
          v16 = sub_100015F0(16 * v15);
          v82 = v16;
          if ( v16 )
          {
            sub_10001650(v16, 16, v15, (int (__thiscall *)(_DWORD))sub_1003CAF6);
            v17 = v82;
          }
          else
          {
            v17 = 0;
          }
          v18 = *(_DWORD *)(*(_DWORD *)v3 + 4184);
          v19 = v17 + 16 * v18;
          v20 = v17 + 16 * v18;
          v72 = v17;
          v80 = v17;
          v74 = v17 + 16 * v18;
          v79 = v17;
          v76 = v17 + 16 * v18;
        }
        else
        {
          v21 = 4 * v14;
          v22 = sub_100015F0(16 * v21);
          v83 = v22;
          if ( v22 )
          {
            sub_10001650(v22, 16, v21, (int (__thiscall *)(_DWORD))sub_1003CAF6);
            v23 = v83;
          }
          else
          {
            v23 = 0;
          }
          v18 = *(_DWORD *)(*(_DWORD *)v3 + 4184);
          v74 = v23 + 16 * v18;
          v19 = v23 + 16 * v18;
          v79 = v23 + 32 * v18;
          v76 = v23 + 48 * v18;
          v17 = v23 + 32 * v18;
          v72 = v23;
          v80 = v23;
          v20 = v23 + 48 * v18;
        }
        if ( v72 )
        {
          if ( v18 == 1 )
          {
            v71 = v80;
            v70 = v19;
          }
          else
          {
            v71 = v80 + 16;
            v17 += 16;
            v70 = v19 + 16;
            v20 += 16;
          }
          v25 = *(_DWORD *)(v3 + 4);
          v77 = 0;
          v69 = v17;
          v84 = v20;
          if ( *(_DWORD *)(v25 + 4192) )
          {
            do
            {
              v85 = 0;
              if ( *(_DWORD *)(v25 + 4188) )
              {
                do
                {
                  v26 = 2 * v77;
                  (*(void (__stdcall **)(unsigned int, unsigned int, int, unsigned int, int))(**(_DWORD **)v3 + 4))(
                    2 * v85,
                    2 * v77,
                    v80,
                    v67,
                    v68);
                  if ( v19 != v80 )
                    (*(void (__stdcall **)(unsigned int, int, int))(**(_DWORD **)v3 + 4))(2 * v85, v26 + 1, v19);
                  if ( v79 != v80 )
                    (*(void (__stdcall **)(unsigned int, int, int))(**(_DWORD **)v3 + 4))(2 * v85 + 1, v26, v79);
                  if ( v76 != v19 && v76 != v79 )
                    (*(void (__stdcall **)(unsigned int, int, int))(**(_DWORD **)v3 + 4))(2 * v85 + 1, v26 + 1, v76);
                  v75 = 0;
                  if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4184) )
                  {
                    v73 = v78;
                    do
                    {
                      v27 = 32 * v75 + v71;
                      v28 = 32 * v75 + v80;
                      v29 = *(float *)v27 + *(float *)v28;
                      v30 = *(float *)(v27 + 4) + *(float *)(v28 + 4);
                      v31 = *(float *)(v27 + 8) + *(float *)(v28 + 8);
                      v32 = *(float *)(v27 + 12);
                      v33 = 32 * v75 + v19;
                      v34 = v32 + *(float *)(v28 + 12);
                      v35 = v29 + *(float *)v33;
                      v36 = v30 + *(float *)(v33 + 4);
                      v37 = v31 + *(float *)(v33 + 8);
                      v38 = v34 + *(float *)(v33 + 12);
                      v39 = 32 * v75 + v70;
                      v40 = v38;
                      v41 = v35 + *(float *)v39;
                      v42 = v36 + *(float *)(v39 + 4);
                      v43 = v37 + *(float *)(v39 + 8);
                      v44 = v40 + *(float *)(v39 + 12);
                      v45 = 32 * v75 + v79;
                      v46 = v41 + *(float *)v45;
                      v47 = v42 + *(float *)(v45 + 4);
                      v48 = v43 + *(float *)(v45 + 8);
                      v49 = v44 + *(float *)(v45 + 12);
                      v50 = 32 * v75 + v69;
                      v51 = v49;
                      v52 = v46 + *(float *)v50;
                      v53 = v47 + *(float *)(v50 + 4);
                      v54 = v48 + *(float *)(v50 + 8);
                      v55 = v51 + *(float *)(v50 + 12);
                      v56 = 32 * v75 + v76;
                      v57 = v73;
                      v73 += 16;
                      v58 = v54 + *(float *)(v56 + 8);
                      v59 = v84 + 32 * v75++;
                      v60 = v55 + *(float *)(v56 + 12);
                      v61 = v52 + *(float *)v56 + *(float *)v59;
                      v62 = v60 + *(float *)(v59 + 12);
                      v63 = v61 * 0.125;
                      v64 = (v53 + *(float *)(v56 + 4) + *(float *)(v59 + 4)) * 0.125;
                      v65 = (v58 + *(float *)(v59 + 8)) * 0.125;
                      v66 = v62 * 0.125;
                      *(_DWORD *)v57 = LODWORD(v63);
                      v57 += 4;
                      *(_DWORD *)v57 = LODWORD(v64);
                      v57 += 4;
                      *(_DWORD *)v57 = LODWORD(v65);
                      *(_DWORD *)(v57 + 4) = LODWORD(v66);
                      v19 = v74;
                    }
                    while ( v75 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4184) );
                  }
                  v68 = v78;
                  v67 = v77;
                  (*(void (__stdcall **)(unsigned int))(**(_DWORD **)(v3 + 4) + 8))(v85++);
                }
                while ( v85 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4188) );
              }
              ++v77;
              v25 = *(_DWORD *)(v3 + 4);
            }
            while ( v77 < *(_DWORD *)(v25 + 4192) );
          }
          sub_10001610(v72);
          v24 = 0;
        }
        else
        {
          v24 = -2147024882;
        }
        sub_10001610(v78);
        result = v24;
      }
      else
      {
        result = -2147024882;
      }
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 1004F19F: could not find valid save-restore pair for edi
// 1004F19F: could not find valid save-restore pair for esi

//----- (1004F631) --------------------------------------------------------
int __usercall sub_1004F631<eax>(unsigned int a1<ebx>, unsigned int a2<edi>, int a3)
{
  int result; // eax@1
  int v4; // esi@1
  float v5; // ST14_4@3
  int v6; // eax@2
  double v7; // st7@3
  int v8; // eax@3
  int v9; // ecx@3
  double v10; // st7@7
  int v11; // [sp+Ch] [bp-18h]@2
  float v12; // [sp+18h] [bp-Ch]@3
  float v13; // [sp+1Ch] [bp-8h]@3
  int v14; // [sp+20h] [bp-4h]@0
  unsigned int v15; // [sp+20h] [bp-4h]@2

  result = sub_100015F0(16 * a1);
  v4 = result;
  if ( result )
  {
    v11 = result;
    v6 = v14;
    v15 = 0;
    dword_10085408 = v6;
    if ( a1 )
    {
      do
      {
        v5 = (double)a2 / (double)a1;
        v7 = (double)v15 * v5 - 0.5;
        v13 = v7;
        v12 = floor(v7);
        v8 = (signed int)v12;
        v9 = v8 + 1;
        if ( v8 < 0 )
          v8 = a3 != 0 ? a2 - 1 : 0;
        if ( v9 >= a2 )
          v9 = a3 == 0 ? a2 - 1 : 0;
        *(_DWORD *)v4 = v8;
        *(_DWORD *)(v4 + 8) = v9;
        v4 += 16;
        ++v15;
        v10 = 1.0 - (v13 - v12);
        *(float *)(v4 - 12) = v10;
        *(float *)(v4 - 4) = 1.0 - v10;
      }
      while ( v15 < a1 );
    }
    result = v11;
  }
  return result;
}
// 10085408: using guessed type int dword_10085408;

//----- (1004F731) --------------------------------------------------------
signed int __thiscall sub_1004F731(void *this)
{
  void *v1; // esi@1
  unsigned int v2; // eax@1
  signed int result; // eax@2
  int v4; // STDC_4@3
  int v5; // eax@3
  int v6; // ebx@5
  int v7; // eax@5
  int v8; // eax@6
  int v9; // ebx@9
  int v10; // eax@9
  int v11; // eax@10
  int v12; // ebx@13
  int v13; // edi@14
  int v14; // eax@15
  signed int v15; // ecx@16
  int v16; // eax@18
  int v17; // eax@22
  double v18; // st7@23
  int v19; // ecx@23
  float v20; // ST9C_4@23
  float v21; // STA0_4@23
  float v22; // STA4_4@23
  double v23; // st7@23
  double v24; // st6@23
  int v25; // edx@23
  float v26; // ST50_4@23
  float v27; // ST54_4@23
  int v28; // ecx@23
  float v29; // ST58_4@23
  float v30; // ST6C_4@23
  float v31; // ST70_4@23
  float v32; // ST74_4@23
  double v33; // st6@23
  float v34; // ST3C_4@23
  float v35; // ST40_4@23
  float v36; // ST44_4@23
  double v37; // st7@23
  double v38; // st6@23
  float v39; // ST2C_4@23
  float v40; // ST30_4@23
  float v41; // ST34_4@23
  double v42; // st5@23
  double v43; // st4@23
  float v44; // ST90_4@23
  float v45; // ST94_4@23
  float v46; // ST98_4@23
  float v47; // ST7C_4@23
  float v48; // ST80_4@23
  float v49; // ST84_4@23
  double v50; // st5@23
  int v51; // edi@23
  float v52; // ST5C_4@23
  float v53; // ST60_4@23
  float v54; // ST64_4@23
  float v55; // ST1C_4@23
  float v56; // ST20_4@23
  float v57; // ST24_4@23
  float v58; // ST28_4@23
  signed int v59; // esi@26
  void *v60; // [sp+94h] [bp-40h]@1
  int v61; // [sp+98h] [bp-3Ch]@22
  int v62; // [sp+9Ch] [bp-38h]@14
  unsigned int v63; // [sp+A0h] [bp-34h]@15
  int v64; // [sp+A4h] [bp-30h]@3
  int v65; // [sp+A8h] [bp-2Ch]@13
  unsigned int v66; // [sp+ACh] [bp-28h]@13
  signed int v67; // [sp+B0h] [bp-24h]@13
  int v68; // [sp+B4h] [bp-20h]@6
  int v69; // [sp+B8h] [bp-1Ch]@1
  int v70; // [sp+B8h] [bp-1Ch]@9
  signed int v71; // [sp+BCh] [bp-18h]@13
  int v72; // [sp+C0h] [bp-14h]@1
  int v73; // [sp+C0h] [bp-14h]@5
  int v74; // [sp+C4h] [bp-10h]@3

  v72 = 0;
  v69 = 0;
  v1 = this;
  v2 = *((_DWORD *)this + 2);
  v60 = this;
  if ( (_BYTE)v2 == 3 )
  {
    v4 = ~(unsigned __int8)(v2 >> 17) & 1;
    v64 = sub_1004F631(
            *(_DWORD *)(*((_DWORD *)this + 1) + 4184),
            *(_DWORD *)(*(_DWORD *)this + 4184),
            ~(unsigned __int8)(v2 >> 16) & 1);
    v5 = sub_1004F631(*(_DWORD *)(*((_DWORD *)v1 + 1) + 4188), *(_DWORD *)(*(_DWORD *)v1 + 4188), v4);
    v74 = v5;
    if ( v64
      && v5
      && ((v6 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184),
           v7 = sub_100015F0(16 * *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184)),
           (v73 = v7) == 0) ? (v68 = 0, v8 = 0) : (sub_10001650(v7, 16, v6, (int (__thiscall *)(_DWORD))sub_1003CAF6),
                                                   v8 = v73,
                                                   v68 = v73),
          (v72 = v8) != 0
       && ((v9 = 2 * *(_DWORD *)(*(_DWORD *)v1 + 4184),
            v10 = sub_100015F0(32 * *(_DWORD *)(*(_DWORD *)v1 + 4184)),
            (v70 = v10) == 0) ? (v11 = 0) : (sub_10001650(v10, 16, v9, (int (__thiscall *)(_DWORD))sub_1003CAF6),
                                             v11 = v70),
           (v69 = v11) != 0)) )
    {
      v66 = 0;
      v67 = -1;
      v71 = -1;
      v12 = v11 + 16 * *(_DWORD *)(*(_DWORD *)v1 + 4184);
      v65 = v11;
      if ( *(_DWORD *)(*((_DWORD *)v1 + 1) + 4188) )
      {
        v13 = v74 + 8;
        v62 = v74 + 8;
        do
        {
          v14 = *(_DWORD *)(v13 - 8);
          v63 = 0;
          if ( v14 != v67 )
          {
            v15 = v71;
            if ( v14 == v71 )
            {
              v16 = v65;
              v71 = -1;
              v65 = v12;
              v67 = v15;
              v12 = v16;
            }
            else
            {
              v67 = *(_DWORD *)(v13 - 8);
              (*(void (__stdcall **)(int, _DWORD, int))(**(_DWORD **)v1 + 4))(v14, 0, v65);
            }
          }
          if ( *(_DWORD *)v13 != v71 )
          {
            v71 = *(_DWORD *)v13;
            (*(void (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)v1 + 4))(*(_DWORD *)v13, 0, v12);
          }
          if ( *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184) )
          {
            v17 = v64 + 8;
            v61 = v68;
            do
            {
              v18 = *(float *)(v17 + 4);
              v19 = 16 * *(_DWORD *)v17;
              v20 = *(float *)(v17 + 4) * *(float *)(v19 + v12);
              v21 = v18 * *(float *)(v19 + v12 + 4);
              v22 = v18 * *(float *)(v19 + v12 + 8);
              v23 = v18 * *(float *)(v19 + v12 + 12);
              v24 = *(float *)(v17 - 4);
              v25 = 16 * *(_DWORD *)(v17 - 8);
              v26 = *(float *)(v17 - 4) * *(float *)(v25 + v12 + 4);
              v27 = v24 * *(float *)(v25 + v12 + 8);
              v28 = v65 + v19;
              v29 = v24 * *(float *)(v25 + v12 + 12);
              v30 = *(float *)(v17 - 4) * *(float *)(v25 + v12) + v20;
              v31 = v26 + v21;
              v32 = v27 + v22;
              v33 = *(float *)(v13 + 4);
              v34 = v30 * v33;
              v35 = v31 * v33;
              v36 = v32 * v33;
              v37 = (v29 + v23) * v33;
              v38 = *(float *)(v17 + 4);
              v39 = *(float *)(v17 + 4) * *(float *)v28;
              v40 = v38 * *(float *)(v28 + 4);
              v41 = v38 * *(float *)(v28 + 8);
              v42 = *(float *)(v17 - 4);
              v43 = *(float *)(v17 - 4);
              v17 += 16;
              ++v63;
              v44 = v42 * *(float *)(v25 + v65 + 4);
              v45 = v42 * *(float *)(v25 + v65 + 8);
              v46 = v42 * *(float *)(v25 + v65 + 12);
              v47 = v43 * *(float *)(v25 + v65) + v39;
              v48 = v44 + v40;
              v49 = v45 + v41;
              v50 = *(float *)(v13 - 4);
              v51 = v61;
              v61 += 16;
              v52 = v47 * v50;
              v53 = v48 * v50;
              v54 = v49 * v50;
              v55 = v52 + v34;
              v56 = v53 + v35;
              v57 = v54 + v36;
              v58 = (v46 + v38 * *(float *)(v28 + 12)) * v50 + v37;
              *(_DWORD *)v51 = LODWORD(v55);
              v51 += 4;
              *(_DWORD *)v51 = LODWORD(v56);
              v51 += 4;
              *(_DWORD *)v51 = LODWORD(v57);
              *(_DWORD *)(v51 + 4) = LODWORD(v58);
              v13 = v62;
            }
            while ( v63 < *(_DWORD *)(*((_DWORD *)v60 + 1) + 4184) );
            v1 = v60;
          }
          (*(void (__stdcall **)(unsigned int, _DWORD, int))(**((_DWORD **)v1 + 1) + 8))(v66, 0, v68);
          v13 += 16;
          ++v66;
          v62 = v13;
        }
        while ( v66 < *(_DWORD *)(*((_DWORD *)v1 + 1) + 4188) );
      }
      v59 = 0;
    }
    else
    {
      v59 = -2147024882;
    }
    sub_10001610(v64);
    sub_10001610(v74);
    sub_10001610(v72);
    sub_10001610(v69);
    result = v59;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (1004FB17) --------------------------------------------------------
signed int __thiscall sub_1004FB17(void *this)
{
  void *v1; // esi@1
  unsigned int v2; // eax@1
  signed int result; // eax@2
  int v4; // ST1A4_4@3
  int v5; // ST188_4@3
  int v6; // eax@3
  int v7; // edi@6
  int v8; // eax@6
  int v9; // eax@7
  int v10; // edi@10
  int v11; // eax@10
  int v12; // eax@11
  int v13; // edi@14
  int v14; // ecx@14
  int v15; // edi@14
  int v16; // eax@14
  int v17; // ebx@17
  int v18; // eax@18
  signed int v19; // ecx@19
  int v20; // ecx@21
  int v21; // eax@21
  int v22; // eax@25
  double v23; // st7@26
  int v24; // ecx@26
  float v25; // STB0_4@26
  float v26; // STB4_4@26
  float v27; // STB8_4@26
  double v28; // st6@26
  int v29; // edx@26
  float v30; // ST164_4@26
  float v31; // ST168_4@26
  float v32; // ST16C_4@26
  float v33; // ST130_4@26
  float v34; // ST134_4@26
  float v35; // ST138_4@26
  double v36; // st6@26
  float v37; // ST50_4@26
  float v38; // ST54_4@26
  float v39; // ST58_4@26
  double v40; // st7@26
  double v41; // st6@26
  float v42; // ST30_4@26
  float v43; // ST34_4@26
  float v44; // ST38_4@26
  double v45; // st5@26
  float v46; // ST114_4@26
  float v47; // ST118_4@26
  float v48; // ST11C_4@26
  float v49; // ST90_4@26
  float v50; // ST94_4@26
  float v51; // ST98_4@26
  double v52; // st5@26
  float v53; // STF0_4@26
  float v54; // STF4_4@26
  float v55; // STF8_4@26
  float v56; // STD0_4@26
  float v57; // STD4_4@26
  float v58; // STD8_4@26
  double v59; // st7@26
  double v60; // st6@26
  float v61; // ST40_4@26
  float v62; // ST44_4@26
  float v63; // ST48_4@26
  double v64; // st7@26
  double v65; // st6@26
  float v66; // ST70_4@26
  float v67; // ST74_4@26
  float v68; // ST78_4@26
  double v69; // st6@26
  double v70; // st5@26
  float v71; // ST154_4@26
  float v72; // ST158_4@26
  int v73; // ecx@26
  float v74; // ST15C_4@26
  float v75; // ST140_4@26
  float v76; // ST144_4@26
  float v77; // ST148_4@26
  double v78; // st5@26
  float v79; // STA0_4@26
  float v80; // STA4_4@26
  float v81; // STA8_4@26
  double v82; // st6@26
  double v83; // st5@26
  float v84; // ST120_4@26
  float v85; // ST124_4@26
  float v86; // ST128_4@26
  double v87; // st4@26
  float v88; // ST104_4@26
  float v89; // ST108_4@26
  float v90; // ST10C_4@26
  float v91; // STE0_4@26
  float v92; // STE4_4@26
  float v93; // STE8_4@26
  double v94; // st4@26
  float v95; // STC0_4@26
  float v96; // STC4_4@26
  float v97; // STC8_4@26
  double v98; // st3@26
  float v99; // ST80_4@26
  float v100; // ST84_4@26
  float v101; // ST88_4@26
  double v102; // st5@26
  float v103; // ST60_4@26
  float v104; // ST64_4@26
  float v105; // ST68_4@26
  int v106; // edi@26
  float v107; // ST20_4@26
  float v108; // ST24_4@26
  float v109; // ST28_4@26
  float v110; // ST2C_4@26
  signed int v111; // esi@30
  void *v112; // [sp+154h] [bp-54h]@1
  int v113; // [sp+158h] [bp-50h]@25
  int v114; // [sp+15Ch] [bp-4Ch]@3
  int v115; // [sp+160h] [bp-48h]@3
  int v116; // [sp+164h] [bp-44h]@1
  int v117; // [sp+164h] [bp-44h]@6
  int v118; // [sp+168h] [bp-40h]@14
  int v119; // [sp+16Ch] [bp-3Ch]@3
  unsigned int v120; // [sp+170h] [bp-38h]@14
  int v121; // [sp+174h] [bp-34h]@7
  int v122; // [sp+178h] [bp-30h]@1
  int v123; // [sp+178h] [bp-30h]@10
  int v124; // [sp+17Ch] [bp-2Ch]@14
  int v125; // [sp+180h] [bp-28h]@14
  unsigned int v126; // [sp+184h] [bp-24h]@16
  unsigned int v127; // [sp+188h] [bp-20h]@18
  int v128; // [sp+18Ch] [bp-1Ch]@14
  signed int v129; // [sp+190h] [bp-18h]@16
  signed int v130; // [sp+194h] [bp-14h]@16
  int v131; // [sp+198h] [bp-10h]@15

  v116 = 0;
  v122 = 0;
  v1 = this;
  v2 = *((_DWORD *)this + 2);
  v112 = this;
  if ( (_BYTE)v2 == 3 )
  {
    v4 = ~(unsigned __int8)(v2 >> 18) & 1;
    v5 = ~(unsigned __int8)(v2 >> 17) & 1;
    v115 = sub_1004F631(
             *(_DWORD *)(*((_DWORD *)this + 1) + 4184),
             *(_DWORD *)(*(_DWORD *)this + 4184),
             ~(unsigned __int8)(v2 >> 16) & 1);
    v114 = sub_1004F631(*(_DWORD *)(*((_DWORD *)v1 + 1) + 4188), *(_DWORD *)(*(_DWORD *)v1 + 4188), v5);
    v6 = sub_1004F631(*(_DWORD *)(*((_DWORD *)v1 + 1) + 4192), *(_DWORD *)(*(_DWORD *)v1 + 4192), v4);
    v119 = v6;
    if ( v115
      && v114
      && v6
      && ((v7 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184),
           v8 = sub_100015F0(16 * *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184)),
           (v117 = v8) == 0) ? (v121 = 0, v9 = 0) : (sub_10001650(v8, 16, v7, (int (__thiscall *)(_DWORD))sub_1003CAF6),
                                                     v9 = v117,
                                                     v121 = v117),
          (v116 = v9) != 0
       && ((v10 = 4 * *(_DWORD *)(*(_DWORD *)v1 + 4184),
            v11 = sub_100015F0(*(_DWORD *)(*(_DWORD *)v1 + 4184) << 6),
            (v123 = v11) == 0) ? (v12 = 0) : (sub_10001650(v11, 16, v10, (int (__thiscall *)(_DWORD))sub_1003CAF6),
                                              v12 = v123),
           (v122 = v12) != 0)) )
    {
      v13 = *(_DWORD *)(*(_DWORD *)v1 + 4184);
      v120 = 0;
      v128 = v12 + 16 * v13;
      v14 = v12 + 32 * v13;
      v15 = v12 + 48 * v13;
      v125 = v12;
      v16 = *((_DWORD *)v1 + 1);
      v118 = v14;
      v124 = v15;
      if ( *(_DWORD *)(v16 + 4192) )
      {
        v131 = v119 + 8;
        do
        {
          v126 = 0;
          v129 = -1;
          v130 = -1;
          if ( *(_DWORD *)(v16 + 4188) )
          {
            v17 = v114 + 8;
            do
            {
              v18 = *(_DWORD *)(v17 - 8);
              v127 = 0;
              if ( v18 != v129 )
              {
                v19 = v130;
                if ( v18 == v130 )
                {
                  v130 = -1;
                  v129 = v19;
                  v20 = v128;
                  v128 = v125;
                  v21 = v118;
                  v118 = v15;
                  v125 = v20;
                  v124 = v21;
                  v15 = v21;
                }
                else
                {
                  v129 = *(_DWORD *)(v17 - 8);
                  (*(void (__stdcall **)(int, _DWORD, int))(**(_DWORD **)v1 + 4))(v18, *(_DWORD *)(v131 - 8), v125);
                  (*(void (__stdcall **)(signed int, _DWORD, int))(**(_DWORD **)v1 + 4))(v129, *(_DWORD *)v131, v118);
                }
              }
              if ( *(_DWORD *)v17 != v130 )
              {
                v130 = *(_DWORD *)v17;
                (*(void (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)v1 + 4))(
                  *(_DWORD *)v17,
                  *(_DWORD *)(v131 - 8),
                  v128);
                (*(void (__stdcall **)(signed int, _DWORD, _DWORD))(**(_DWORD **)v1 + 4))(v130, *(_DWORD *)v131, v15);
              }
              if ( *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184) )
              {
                v22 = v115 + 8;
                v113 = v121;
                do
                {
                  v23 = *(float *)(v22 + 4);
                  v24 = 16 * *(_DWORD *)v22;
                  v25 = *(float *)(v22 + 4) * *(float *)(v24 + v15);
                  v26 = v23 * *(float *)(v24 + v15 + 4);
                  v27 = v23 * *(float *)(v24 + v15 + 8);
                  v28 = *(float *)(v22 - 4);
                  v29 = 16 * *(_DWORD *)(v22 - 8);
                  v30 = *(float *)(v22 - 4) * *(float *)(v29 + v15 + 4);
                  v31 = v28 * *(float *)(v29 + v15 + 8);
                  v32 = v28 * *(float *)(v29 + v15 + 12);
                  v33 = *(float *)(v22 - 4) * *(float *)(v29 + v15) + v25;
                  v34 = v30 + v26;
                  v35 = v31 + v27;
                  v36 = *(float *)(v17 + 4);
                  v37 = v33 * v36;
                  v38 = v34 * v36;
                  v39 = v35 * v36;
                  v40 = (v32 + v23 * *(float *)(v24 + v15 + 12)) * v36;
                  v41 = *(float *)(v22 + 4);
                  v42 = *(float *)(v22 + 4) * *(float *)(v24 + v118);
                  v43 = v41 * *(float *)(v24 + v118 + 4);
                  v44 = v41 * *(float *)(v24 + v118 + 8);
                  v45 = *(float *)(v22 - 4);
                  v46 = *(float *)(v22 - 4) * *(float *)(v29 + v118 + 4);
                  v47 = v45 * *(float *)(v29 + v118 + 8);
                  v48 = v45 * *(float *)(v29 + v118 + 12);
                  v49 = *(float *)(v22 - 4) * *(float *)(v29 + v118) + v42;
                  v50 = v46 + v43;
                  v51 = v47 + v44;
                  v52 = *(float *)(v17 - 4);
                  v53 = v49 * v52;
                  v54 = v50 * v52;
                  v55 = v51 * v52;
                  v56 = v53 + v37;
                  v57 = v54 + v38;
                  v58 = v55 + v39;
                  v59 = (v48 + v41 * *(float *)(v24 + v118 + 12)) * v52 + v40;
                  v60 = *(float *)(v131 + 4);
                  v61 = v56 * v60;
                  v62 = v57 * v60;
                  v63 = v58 * v60;
                  v64 = v59 * v60;
                  v65 = *(float *)(v22 + 4);
                  v66 = *(float *)(v22 + 4) * *(float *)(v24 + v128);
                  v67 = v65 * *(float *)(v24 + v128 + 4);
                  v68 = v65 * *(float *)(v24 + v128 + 8);
                  v69 = v65 * *(float *)(v24 + v128 + 12);
                  v70 = *(float *)(v22 - 4);
                  v71 = *(float *)(v22 - 4) * *(float *)(v29 + v128 + 4);
                  v72 = v70 * *(float *)(v29 + v128 + 8);
                  v73 = v125 + v24;
                  v74 = v70 * *(float *)(v29 + v128 + 12);
                  v75 = *(float *)(v22 - 4) * *(float *)(v29 + v128) + v66;
                  v76 = v71 + v67;
                  v77 = v72 + v68;
                  v78 = *(float *)(v17 + 4);
                  v79 = v75 * v78;
                  v80 = v76 * v78;
                  v81 = v77 * v78;
                  v82 = (v74 + v69) * v78;
                  v83 = *(float *)(v22 + 4);
                  v84 = *(float *)(v22 + 4) * *(float *)v73;
                  v85 = v83 * *(float *)(v73 + 4);
                  v86 = v83 * *(float *)(v73 + 8);
                  v87 = *(float *)(v22 - 4);
                  v88 = *(float *)(v22 - 4) * *(float *)(v29 + v125 + 4);
                  v89 = v87 * *(float *)(v29 + v125 + 8);
                  v90 = v87 * *(float *)(v29 + v125 + 12);
                  v91 = *(float *)(v22 - 4) * *(float *)(v29 + v125) + v84;
                  v92 = v88 + v85;
                  v93 = v89 + v86;
                  v94 = *(float *)(v17 - 4);
                  v95 = v91 * v94;
                  v96 = v92 * v94;
                  v97 = v93 * v94;
                  v98 = (v90 + v83 * *(float *)(v73 + 12)) * v94;
                  v99 = v95 + v79;
                  v100 = v96 + v80;
                  v101 = v97 + v81;
                  v102 = *(float *)(v131 - 4);
                  v103 = v99 * v102;
                  v104 = v100 * v102;
                  v105 = v101 * v102;
                  v106 = v113;
                  v113 += 16;
                  v107 = v103 + v61;
                  v22 += 16;
                  ++v127;
                  v108 = v104 + v62;
                  v109 = v105 + v63;
                  v110 = (v98 + v82) * v102 + v64;
                  *(_DWORD *)v106 = LODWORD(v107);
                  v106 += 4;
                  *(_DWORD *)v106 = LODWORD(v108);
                  v106 += 4;
                  *(_DWORD *)v106 = LODWORD(v109);
                  *(_DWORD *)(v106 + 4) = LODWORD(v110);
                  v15 = v124;
                }
                while ( v127 < *(_DWORD *)(*((_DWORD *)v112 + 1) + 4184) );
                v1 = v112;
              }
              (*(void (__stdcall **)(unsigned int, unsigned int, int))(**((_DWORD **)v1 + 1) + 8))(v126, v120, v121);
              v17 += 16;
              ++v126;
            }
            while ( v126 < *(_DWORD *)(*((_DWORD *)v1 + 1) + 4188) );
          }
          v131 += 16;
          ++v120;
          v16 = *((_DWORD *)v1 + 1);
        }
        while ( v120 < *(_DWORD *)(v16 + 4192) );
      }
      v111 = 0;
    }
    else
    {
      v111 = -2147024882;
    }
    sub_10001610(v115);
    sub_10001610(v114);
    sub_10001610(v119);
    sub_10001610(v116);
    sub_10001610(v122);
    result = v111;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}

//----- (10050248) --------------------------------------------------------
signed int __thiscall sub_10050248(void *this)
{
  void *v1; // ebx@1
  int v2; // edx@1
  int v3; // edi@3
  int v4; // esi@3
  int v5; // edi@5
  int v6; // esi@5
  int v7; // eax@5
  int v8; // ST30_4@6
  int v9; // eax@6
  int v10; // esi@9
  int v11; // eax@9
  int v12; // eax@10
  int v13; // ecx@13
  int v14; // edx@14
  int i; // ecx@14
  int v16; // eax@18
  int v17; // esi@19
  int v18; // eax@19
  int v19; // edi@20
  int v20; // esi@23
  int v21; // eax@23
  int v22; // eax@24
  void *v23; // edi@27
  unsigned int v24; // edx@27
  int v25; // edi@27
  int j; // ecx@27
  int v27; // edx@32
  int v28; // eax@32
  unsigned int v29; // ecx@34
  int v30; // edi@34
  int v31; // ecx@37
  int v32; // eax@37
  double v33; // st7@38
  int v34; // esi@38
  int v35; // edi@42
  int v36; // esi@43
  bool v37; // zf@43
  signed int v38; // esi@48
  signed int result; // eax@53
  int v40; // [sp+Ch] [bp-44h]@5
  int v41; // [sp+10h] [bp-40h]@23
  int v42; // [sp+10h] [bp-40h]@35
  int v43; // [sp+14h] [bp-3Ch]@1
  int v44; // [sp+14h] [bp-3Ch]@9
  int v45; // [sp+18h] [bp-38h]@3
  void *v46; // [sp+1Ch] [bp-34h]@1
  int v47; // [sp+20h] [bp-30h]@19
  int v48; // [sp+24h] [bp-2Ch]@5
  int v49; // [sp+28h] [bp-28h]@18
  int v50; // [sp+2Ch] [bp-24h]@10
  int v51; // [sp+30h] [bp-20h]@1
  int v52; // [sp+34h] [bp-1Ch]@19
  int v53; // [sp+38h] [bp-18h]@1
  int v54; // [sp+3Ch] [bp-14h]@6
  int v55; // [sp+40h] [bp-10h]@31
  unsigned int v56; // [sp+40h] [bp-10h]@34

  v1 = this;
  v2 = *((_DWORD *)this + 1);
  v51 = 0;
  v46 = 0;
  v53 = 0;
  v43 = 0;
  if ( *(_DWORD *)(v2 + 4192) != 1 || *(_DWORD *)(*(_DWORD *)this + 4192) != 1 )
  {
    result = -2147467259;
  }
  else
  {
    v3 = ~(*((_DWORD *)this + 2) >> 17) & 1;
    v4 = sub_1004CDA1(*(_DWORD *)(*(_DWORD *)this + 4184), *(_DWORD *)(v2 + 4184), ~(*((_DWORD *)this + 2) >> 16) & 1);
    v45 = v4;
    if ( v4 && (v51 = sub_1004CDA1(*(_DWORD *)(*(_DWORD *)v1 + 4188), *(_DWORD *)(*((_DWORD *)v1 + 1) + 4188), v3)) != 0 )
    {
      v48 = v4 + *(_DWORD *)v4;
      v5 = v51 + *(_DWORD *)v51;
      v6 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4188);
      v40 = v51 + *(_DWORD *)v51;
      v7 = sub_100015F0(12 * v6 + 4);
      if ( v7 )
      {
        *(_DWORD *)v7 = v6;
        v8 = v7 + 4;
        unknown_libname_5(
          (void *)(v7 + 4),
          0xCu,
          v6,
          (int)unknown_libname_15,
          (void (__thiscall *)(void *))sub_1004CD98);
        v9 = v8;
        v54 = v8;
      }
      else
      {
        v54 = 0;
        v9 = 0;
      }
      v46 = (void *)v9;
      if ( v9
        && ((v10 = *(_DWORD *)(*(_DWORD *)v1 + 4184),
             v11 = sub_100015F0(16 * *(_DWORD *)(*(_DWORD *)v1 + 4184)),
             (v44 = v11) == 0) ? (v50 = 0, v12 = 0) : (sub_10001650(
                                                         v11,
                                                         16,
                                                         v10,
                                                         (int (__thiscall *)(_DWORD))sub_1003CAF6),
                                                       v12 = v44,
                                                       v50 = v44),
            (v43 = v12) != 0) )
      {
        v13 = v51 + 4;
        if ( v51 + 4 < (unsigned int)v5 )
        {
          do
          {
            v14 = v13 + *(_DWORD *)v13;
            for ( i = v13 + 4; i < (unsigned int)v14; i += 8 )
              ++*(_DWORD *)(v54 + 12 * *(_DWORD *)i + 8);
            v13 = v14;
          }
          while ( v14 < (unsigned int)v5 );
        }
        v16 = v51 + 4;
        v49 = 0;
        if ( v51 + 4 < (unsigned int)v5 )
        {
          do
          {
            v17 = v16 + *(_DWORD *)v16;
            v18 = v16 + 4;
            v52 = v17;
            v47 = v18;
            while ( 1 )
            {
              v55 = v18;
              if ( v18 >= (unsigned int)v17 )
                break;
              v19 = v54 + 12 * *(_DWORD *)v18;
              if ( !*(_DWORD *)v19 )
              {
                if ( v53 )
                {
                  *(_DWORD *)v19 = *(_DWORD *)v53;
                  *(_DWORD *)v53 = 0;
                  v53 = *(_DWORD *)(v53 + 4);
                }
                else
                {
                  v20 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184);
                  v21 = sub_100015F0(16 * *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184));
                  v41 = v21;
                  if ( v21 )
                  {
                    sub_10001650(v21, 16, v20, (int (__thiscall *)(_DWORD))sub_1003CAF6);
                    v22 = v41;
                  }
                  else
                  {
                    v22 = 0;
                  }
                  *(_DWORD *)v19 = v22;
                  if ( !v22 )
                    goto LABEL_49;
                }
                v23 = *(void **)v19;
                v17 = v52;
                v24 = 16 * *(_DWORD *)(*((_DWORD *)v1 + 1) + 4184);
                memset(v23, 0, 4 * (v24 >> 2));
                v25 = (int)((char *)v23 + 4 * (v24 >> 2));
                for ( j = v24 & 3; j; --j )
                  *(_BYTE *)v25++ = 0;
              }
              v18 = v55 + 8;
            }
            (*(void (__stdcall **)(int, _DWORD, int))(**(_DWORD **)v1 + 4))(v49, 0, v50);
            v28 = v45 + 4;
            if ( v45 + 4 < (unsigned int)v48 )
            {
              v27 = v50 + 8;
              do
              {
                v29 = v47;
                v30 = v28 + *(_DWORD *)v28;
                v56 = v47;
                if ( v47 < (unsigned int)v17 )
                {
                  v42 = v28 + 4;
                  while ( 1 )
                  {
                    v31 = *(_DWORD *)(v54 + 12 * *(_DWORD *)v29);
                    v32 = v42;
                    if ( v42 < (unsigned int)v30 )
                    {
                      do
                      {
                        v33 = *(float *)(v32 + 4) * *(float *)(v56 + 4);
                        *(float *)(v31 + 16 * *(_DWORD *)v32) = v33 * *(float *)(v27 - 8)
                                                              + *(float *)(v31 + 16 * *(_DWORD *)v32);
                        *(float *)(16 * *(_DWORD *)v32 + v31 + 4) = v33 * *(float *)(v27 - 4)
                                                                  + *(float *)(16 * *(_DWORD *)v32 + v31 + 4);
                        *(float *)(16 * *(_DWORD *)v32 + v31 + 8) = v33 * *(float *)v27
                                                                  + *(float *)(16 * *(_DWORD *)v32 + v31 + 8);
                        v34 = 16 * *(_DWORD *)v32 + v31 + 12;
                        v32 += 8;
                        *(float *)v34 = v33 * *(float *)(v27 + 4) + *(float *)v34;
                      }
                      while ( v32 < (unsigned int)v30 );
                      v17 = v52;
                    }
                    v56 += 8;
                    if ( v56 >= v17 )
                      break;
                    v29 = v56;
                  }
                }
                v27 += 16;
                v28 = v30;
              }
              while ( v30 < (unsigned int)v48 );
            }
            v35 = v47;
            if ( v47 < (unsigned int)v17 )
            {
              do
              {
                v36 = v54 + 12 * *(_DWORD *)v35;
                v37 = (*(_DWORD *)(v36 + 8))-- == 1;
                if ( v37 )
                {
                  (*(void (__fastcall **)(_DWORD, int, _DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 1) + 8))(
                    *((_DWORD *)v1 + 1),
                    v27,
                    *(_DWORD *)v35,
                    0,
                    *(_DWORD *)v36);
                  *(_DWORD *)(v36 + 4) = v53;
                  v53 = v36;
                }
                v35 += 8;
              }
              while ( v35 < (unsigned int)v52 );
              v17 = v52;
            }
            ++v49;
            v16 = v17;
          }
          while ( v17 < (unsigned int)v40 );
        }
        v38 = 0;
      }
      else
      {
LABEL_49:
        v38 = -2147024882;
      }
    }
    else
    {
      v38 = -2147467259;
    }
    if ( v46 )
      ATL::CComTypeInfoHolder::stringdispid::_vector_deleting_destructor_(v46, 3);
    sub_10001610(v51);
    sub_10001610(v45);
    sub_10001610(v43);
    sub_10001610(0);
    result = v38;
  }
  return result;
}
// 1004CD8B: using guessed type int unknown_libname_15();

//----- (100505EA) --------------------------------------------------------
signed int __userpurge sub_100505EA<eax>(int a1<ecx>, unsigned int a2<edi>, int a3, int a4, int a5)
{
  int v5; // eax@1
  int v6; // esi@1
  void *v7; // eax@4
  int v8; // eax@5
  signed int v9; // ebx@6
  int v10; // ecx@19

  v5 = a5;
  v6 = a1;
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 8) = a5;
  if ( !(_WORD)a5 || (unsigned __int16)a5 > 5u || a5 & 0xFFF00000 )
    return -2005530516;
  *(_DWORD *)(a3 + 64) = v5 & 0x80000;
  v7 = sub_10056083(a3);
  *(_DWORD *)(v6 + 4) = v7;
  if ( !v7 || (v8 = (int)sub_10056083(a4), (*(_DWORD *)v6 = v8) == 0) )
    goto LABEL_18;
  v9 = sub_10051A27(*(_DWORD *)(v6 + 4), v8);
  if ( v9 >= 0 )
  {
    if ( sub_1004E74D(v6) >= 0
      || sub_1004E885(v6) >= 0
      || sub_1004E976(v6) >= 0
      || sub_1004EB78((void *)v6) >= 0
      || sub_1004ED7C(v6, a2, v6) >= 0
      || sub_1004F19F(v6, a2, v6) >= 0
      || sub_1004F731((void *)v6) >= 0
      || sub_1004FB17((void *)v6) >= 0
      || sub_10050248((void *)v6) >= 0
      || sub_1004D0AA(v6) >= 0 )
    {
      v9 = 0;
      goto LABEL_19;
    }
LABEL_18:
    v9 = -2147467259;
  }
LABEL_19:
  v10 = *(_DWORD *)(v6 + 4);
  if ( v10 )
  {
    (**(void (__stdcall ***)(_DWORD))v10)(1);
    *(_DWORD *)(v6 + 4) = 0;
  }
  if ( *(_DWORD *)v6 )
  {
    (***(void (__stdcall ****)(_DWORD))v6)(1);
    *(_DWORD *)v6 = 0;
  }
  return v9;
}

//----- (10050714) --------------------------------------------------------
int __thiscall sub_10050714(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // edx@4
  int v4; // ecx@5
  int v5; // eax@6
  int v6; // eax@9
  int v7; // eax@11

  v1 = this;
  v2 = *(_DWORD *)(this + 8);
  if ( v2 || (v2 = *(_DWORD *)(this + 4)) != 0 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 40))(v2);
  v3 = *(_DWORD *)(v1 + 4);
  if ( v3 )
  {
    v4 = *(_DWORD *)(v1 + 8);
    if ( v4 )
    {
      v5 = *(_DWORD *)(v1 + 12);
      if ( v5 )
      {
        if ( !(*(_BYTE *)v1 & 1) )
          (*(void (__stdcall **)(int, int, _DWORD, _DWORD, int, _DWORD))(*(_DWORD *)v5 + 112))(v5, v4, 0, 0, v3, 0);
      }
    }
  }
  v6 = *(_DWORD *)(v1 + 8);
  if ( v6 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*(_DWORD *)(v1 + 8));
    *(_DWORD *)(v1 + 8) = 0;
  }
  v7 = *(_DWORD *)(v1 + 12);
  if ( v7 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v7 + 8))(*(_DWORD *)(v1 + 12));
    *(_DWORD *)(v1 + 12) = 0;
  }
  *(_DWORD *)(v1 + 4) = 0;
  return 0;
}

//----- (1005077D) --------------------------------------------------------
void *__thiscall sub_1005077D(void *this)
{
  void *result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  return result;
}

//----- (10050783) --------------------------------------------------------
int __thiscall sub_10050783(void *this)
{
  void *v1; // esi@1

  v1 = this;
  if ( *(_DWORD *)this )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)this + 40))(*(_DWORD *)this);
  *(_DWORD *)v1 = 0;
  return 0;
}

//----- (1005079E) --------------------------------------------------------
int __thiscall sub_1005079E(int this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // edx@1
  int result; // eax@17
  int v9; // eax@19
  int v10; // ebx@32
  int v11; // eax@32
  int v12; // edi@34
  int v13; // esi@34
  int v14; // edi@34
  int v15; // ebx@40
  int v16; // eax@60
  bool v17; // zf@65
  int v18; // edx@66
  int v19; // eax@66
  int v20; // esi@66
  int v21; // ecx@66
  int v22; // ecx@77
  int v23; // edx@78
  int v24; // edx@78
  unsigned int v25; // edx@78
  unsigned int v26; // edx@78
  int v27; // eax@78
  int v28; // [sp+Ch] [bp-60h]@1
  unsigned int v29; // [sp+14h] [bp-58h]@25
  char v30; // [sp+15h] [bp-57h]@21
  int v31; // [sp+18h] [bp-54h]@20
  unsigned int v32; // [sp+24h] [bp-48h]@3
  unsigned int v33; // [sp+28h] [bp-44h]@6
  unsigned int v34; // [sp+2Ch] [bp-40h]@59
  unsigned int v35; // [sp+30h] [bp-3Ch]@59
  unsigned int v36; // [sp+34h] [bp-38h]@59
  unsigned int v37; // [sp+38h] [bp-34h]@59
  unsigned int v38; // [sp+3Ch] [bp-30h]@2
  unsigned int v39; // [sp+40h] [bp-2Ch]@2
  unsigned int v40; // [sp+44h] [bp-28h]@2
  unsigned int v41; // [sp+48h] [bp-24h]@2
  int v42; // [sp+4Ch] [bp-20h]@76
  int v43; // [sp+50h] [bp-1Ch]@78
  int v44; // [sp+54h] [bp-18h]@1
  int v45; // [sp+58h] [bp-14h]@22
  int v46; // [sp+5Ch] [bp-10h]@34
  int v47; // [sp+60h] [bp-Ch]@45
  int v48; // [sp+64h] [bp-8h]@15
  int v49; // [sp+68h] [bp-4h]@19
  signed int v50; // [sp+80h] [bp+14h]@11

  v44 = this;
  sub_10050714(this);
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)a3 + 32))(a3, &v28);
  v7 = 0;
  if ( a5 )
  {
    v38 = *(_DWORD *)a5;
    v39 = *(_DWORD *)(a5 + 4);
    v40 = *(_DWORD *)(a5 + 8);
    v41 = *(_DWORD *)(a5 + 12);
    if ( (v38 & 0x80000000u) != 0
      || v40 > v32
      || (signed int)v38 > (signed int)v40
      || (v39 & 0x80000000u) != 0
      || v41 > v33
      || (signed int)v39 > (signed int)v41 )
      return -2005530516;
    if ( v38 || v40 != v32 || v39 || (v50 = 0, v41 != v33) )
      v50 = 1;
    v48 = !(a7 & 1) && !v50;
  }
  else
  {
    v40 = v32;
    v41 = v33;
    v38 = 0;
    v39 = 0;
    v50 = 0;
    v48 = ~(_BYTE)a7 & 1;
  }
  v9 = a7;
  v49 = v9 & 0x10000;
  if ( !(v9 & 0x10000) )
  {
    if ( !v31 && !(v30 & 2) )
    {
      sub_1004A6DB(1);
      if ( (*(int (__stdcall **)(int, _UNKNOWN *, int *))(*(_DWORD *)a3 + 28))(a3, &unk_10073ED0, &v45) < 0 )
      {
        v29 = *(_DWORD *)(a3 + 16);
        v49 = ~(v29 >> 26) & 1;
      }
      else
      {
        v49 = 1;
        if ( v45 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)v45 + 8))(v45);
          v45 = 0;
        }
      }
      sub_1004A6DB(0);
      if ( v49 )
        goto LABEL_27;
      v7 = 0;
    }
    v46 = a3;
    goto LABEL_40;
  }
LABEL_27:
  if ( v28 == 827611204 || v28 == 844388420 || v28 == 861165636 || v28 == 877942852 || v28 == 894720068 )
  {
    v10 = (v32 + 3) & 0xFFFFFFFC;
    v11 = (v33 + 3) & 0xFFFFFFFC;
  }
  else
  {
    v10 = v32;
    v11 = v33;
  }
  v12 = v44;
  v46 = v11;
  v13 = v44 + 12;
  (*(void (__stdcall **)(int, int))(*(_DWORD *)a3 + 12))(a3, v44 + 12);
  v14 = v12 + 8;
  result = (*(int (__stdcall **)(_DWORD, int, int, int, int))(**(_DWORD **)v13 + 108))(
             *(_DWORD *)v13,
             v10,
             v46,
             v28,
             v14);
  if ( result >= 0 )
  {
    if ( v48
      || (result = (*(int (__stdcall **)(_DWORD, int, _DWORD, _DWORD, int, _DWORD))(**(_DWORD **)v13 + 112))(
                     *(_DWORD *)v13,
                     a3,
                     0,
                     0,
                     *(_DWORD *)v14,
                     0),
          result >= 0) )
    {
      v46 = *(_DWORD *)v14;
      v7 = 0;
LABEL_40:
      v15 = 16 * (a7 & 1 | 0x80);
      if ( v48 != v7 && v49 == v7 && v30 & 2 )
      {
        if ( BYTE2(a7) & 2 )
        {
          v15 |= 0x2000u;
          goto LABEL_88;
        }
        sub_1004A6DB(1);
        if ( (*(int (__stdcall **)(int, _UNKNOWN *, int *))(*(_DWORD *)a3 + 28))(a3, &unk_10073EC0, &v47) >= 0 )
        {
          if ( (*(int (__stdcall **)(int))(*(_DWORD *)v47 + 52))(v47) == 1 )
          {
            v15 |= 0x2000u;
            v50 = 0;
          }
          if ( v47 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v47 + 8))(v47);
            v47 = 0;
          }
        }
        sub_1004A6DB(0);
        v7 = 0;
      }
      if ( v50 == v7 )
      {
LABEL_88:
        result = (*(int (__stdcall **)(int, int *, int, int))(*(_DWORD *)v46 + 36))(v46, &v42, v7, v15);
        v22 = 0;
        if ( result < 0 )
          return result;
LABEL_78:
        v23 = v43;
        *(_DWORD *)(a2 + 12) = v22;
        *(_DWORD *)(a2 + 16) = v22;
        *(_DWORD *)(a2 + 20) = v22;
        *(_DWORD *)(a2 + 32) = v22;
        *(_DWORD *)(a2 + 56) = v22;
        *(_DWORD *)a2 = v23;
        *(_DWORD *)(a2 + 4) = v28;
        v24 = v42;
        *(_DWORD *)(a2 + 40) = v38;
        *(_DWORD *)(a2 + 60) = 1;
        *(_DWORD *)(a2 + 64) = 1;
        *(_DWORD *)(a2 + 8) = v24;
        v25 = v32;
        *(_DWORD *)(a2 + 44) = v39;
        *(_DWORD *)(a2 + 68) = a6;
        *(_DWORD *)(a2 + 24) = v25;
        v26 = v33;
        *(_DWORD *)(a2 + 48) = v40;
        *(_DWORD *)(a2 + 72) = a4;
        *(_DWORD *)(a2 + 28) = v26;
        *(_DWORD *)(a2 + 36) = 1;
        v27 = v44;
        *(_DWORD *)(a2 + 52) = v41;
        *(_DWORD *)(v27 + 4) = a3;
        *(_DWORD *)v27 = a7;
        return 0;
      }
      if ( v28 != 827611204 && v28 != 844388420 )
      {
        if ( v28 == 844715353 )
        {
LABEL_60:
          v16 = (v40 + 1) & 0xFFFFFFFE;
          v34 = v38 & 0xFFFFFFFE;
          v36 = (v40 + 1) & 0xFFFFFFFE;
          v35 = v39;
          v37 = v41;
          if ( v16 > v32 )
          {
            v16 = v32;
            v36 = v32;
          }
          if ( v38 & 0xFFFFFFFE || v16 != v32 || v39 )
            goto LABEL_76;
          v17 = v41 == v33;
          goto LABEL_75;
        }
        if ( v28 != 861165636 && v28 != 877942852 && v28 != 894720068 )
        {
          if ( v28 != 1498831189 )
          {
            v34 = v38;
            v35 = v39;
            v36 = v40;
            v37 = v41;
            goto LABEL_85;
          }
          goto LABEL_60;
        }
      }
      v18 = v38 & 0xFFFFFFFC;
      v19 = (v40 + 3) & 0xFFFFFFFC;
      v20 = v39 & 0xFFFFFFFC;
      v21 = (v41 + 3) & 0xFFFFFFFC;
      v34 = v38 & 0xFFFFFFFC;
      v36 = (v40 + 3) & 0xFFFFFFFC;
      v35 = v39 & 0xFFFFFFFC;
      v37 = (v41 + 3) & 0xFFFFFFFC;
      if ( v49 )
      {
        if ( v18 || v19 != ((v32 + 3) & 0xFFFFFFFC) || v20 || v21 != ((v33 + 3) & 0xFFFFFFFC) )
        {
          v50 = 1;
          v7 = 0;
LABEL_85:
          if ( v50 == v7 )
            goto LABEL_88;
LABEL_76:
          result = (*(int (__stdcall **)(int, int *, unsigned int *, int))(*(_DWORD *)v46 + 36))(v46, &v42, &v34, v15);
          if ( result < 0 )
            return result;
          v38 -= v34;
          v40 -= v34;
          v39 -= v35;
          v41 -= v35;
          v22 = 0;
          goto LABEL_78;
        }
LABEL_87:
        v7 = 0;
        goto LABEL_88;
      }
      if ( v19 > v32 )
      {
        v19 = v32;
        v36 = v32;
      }
      if ( v21 > v33 )
      {
        v21 = v33;
        v37 = v33;
      }
      if ( v18 || v19 != v32 || v20 )
        goto LABEL_76;
      v17 = v21 == v33;
LABEL_75:
      if ( !v17 )
        goto LABEL_76;
      goto LABEL_87;
    }
  }
  return result;
}

//----- (10050BB6) --------------------------------------------------------
int __thiscall sub_10050BB6(void *this, int a2, int a3, int a4, const void *a5, int a6, int a7)
{
  bool v7; // zf@1
  int v8; // ebx@8
  int v9; // edx@10
  int v10; // eax@19
  int result; // eax@24
  int v12; // esi@25
  int v13; // eax@44
  int v14; // eax@53
  int v15; // ecx@53
  unsigned int v16; // edx@71
  unsigned int v17; // edx@71
  int v18; // ecx@71
  int v19; // [sp+Ch] [bp-68h]@3
  int v20; // [sp+14h] [bp-60h]@23
  int v21; // [sp+18h] [bp-5Ch]@22
  unsigned int v22; // [sp+20h] [bp-54h]@4
  unsigned int v23; // [sp+24h] [bp-50h]@6
  unsigned int v24; // [sp+28h] [bp-4Ch]@8
  unsigned int v25; // [sp+2Ch] [bp-48h]@43
  unsigned int v26; // [sp+30h] [bp-44h]@44
  unsigned int v27; // [sp+34h] [bp-40h]@44
  unsigned int v28; // [sp+38h] [bp-3Ch]@44
  unsigned int v29; // [sp+3Ch] [bp-38h]@44
  int v30; // [sp+40h] [bp-34h]@44
  unsigned int v31; // [sp+44h] [bp-30h]@4
  unsigned int v32; // [sp+48h] [bp-2Ch]@7
  unsigned int v33; // [sp+4Ch] [bp-28h]@4
  unsigned int v34; // [sp+50h] [bp-24h]@6
  unsigned int v35; // [sp+54h] [bp-20h]@9
  int v36; // [sp+58h] [bp-1Ch]@8
  int v37; // [sp+5Ch] [bp-18h]@66
  int v38; // [sp+60h] [bp-14h]@71
  int v39; // [sp+64h] [bp-10h]@71
  int v40; // [sp+68h] [bp-Ch]@1
  int v41; // [sp+6Ch] [bp-8h]@25
  int v42; // [sp+70h] [bp-4h]@29
  signed int v43; // [sp+88h] [bp+14h]@15

  v7 = *(_DWORD *)this == 0;
  v40 = (int)this;
  if ( !v7 )
    sub_10050783(this);
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)a3 + 32))(a3, &v19);
  if ( a5 )
  {
    memcpy(&v31, a5, 0x18u);
    if ( v33 > v22 || v31 > v33 || v34 > v23 || v32 > v34 || (v8 = v36, v36 > v24) || v35 > v36 )
      return -2005530516;
    v9 = 0;
    if ( v31 || v33 != v22 || v32 || v34 != v23 || v35 || (v43 = 0, v36 != v24) )
      v43 = 1;
    v10 = !(a7 & 1) && !v43;
  }
  else
  {
    v8 = v24;
    v43 = 0;
    v33 = v22;
    v34 = v23;
    v10 = ~(_BYTE)a7 & 1;
    v31 = 0;
    v32 = 0;
    v35 = 0;
    v36 = v24;
    v9 = 0;
  }
  if ( v21 == v9 && !(v20 & 0x200) )
    return -2005530516;
  v12 = 16 * (a7 & 1 | 0x80);
  v41 = 16 * (a7 & 1 | 0x80);
  if ( v10 && v20 & 0x200 )
  {
    if ( BYTE2(a7) & 2 )
    {
      v12 |= 0x2000u;
      goto LABEL_66;
    }
    sub_1004A6DB(1);
    if ( (*(int (__stdcall **)(int, _UNKNOWN *, int *))(*(_DWORD *)a3 + 28))(a3, &unk_10073EA0, &v42) >= 0 )
    {
      if ( (*(int (__stdcall **)(int))(*(_DWORD *)v42 + 52))(v42) == 1 )
      {
        v12 |= 0x2000u;
        v41 = v12;
        v43 = 0;
      }
      if ( v42 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v42 + 8))(v42);
        v42 = 0;
      }
    }
    sub_1004A6DB(0);
  }
  if ( !v43 )
    goto LABEL_66;
  if ( v19 == 827611204 || v19 == 844388420 )
    goto LABEL_53;
  if ( v19 != 844715353 )
  {
    if ( v19 != 861165636 && v19 != 877942852 && v19 != 894720068 )
    {
      if ( v19 != 1498831189 )
      {
        memcpy(&v25, &v31, 0x18u);
LABEL_64:
        if ( !v43 )
        {
LABEL_65:
          v12 = v41;
          goto LABEL_66;
        }
        v12 = v41;
LABEL_69:
        result = (*(int (__stdcall **)(int, int *, unsigned int *, int))(*(_DWORD *)a3 + 36))(a3, &v37, &v25, v12);
        if ( result < 0 )
          return result;
        v31 -= v25;
        v33 -= v25;
        v32 -= v26;
        v34 -= v26;
        v35 -= v29;
        v36 = v8 - v29;
        goto LABEL_71;
      }
      goto LABEL_44;
    }
LABEL_53:
    v14 = (v33 + 3) & 0xFFFFFFFC;
    v15 = (v34 + 3) & 0xFFFFFFFC;
    v25 = v31 & 0xFFFFFFFC;
    v27 = (v33 + 3) & 0xFFFFFFFC;
    v26 = v32 & 0xFFFFFFFC;
    v28 = (v34 + 3) & 0xFFFFFFFC;
    v29 = v35;
    v30 = v8;
    if ( v14 > v22 )
    {
      v14 = v22;
      v27 = v22;
    }
    if ( v15 > v23 )
    {
      v15 = v23;
      v28 = v23;
    }
    if ( !(v31 & 0xFFFFFFFC) && v14 == v22 && !(v32 & 0xFFFFFFFC) && v15 == v23 && !v35 && v8 == v24 )
      goto LABEL_65;
    v43 = 1;
    goto LABEL_64;
  }
LABEL_44:
  v13 = (v33 + 1) & 0xFFFFFFFE;
  v28 = v34;
  v25 = v31 & 0xFFFFFFFE;
  v27 = (v33 + 1) & 0xFFFFFFFE;
  v26 = v32;
  v29 = v35;
  v30 = v8;
  if ( v13 > v22 )
  {
    v13 = v22;
    v27 = v22;
  }
  if ( v31 & 0xFFFFFFFE || v13 != v22 || v32 || v34 != v23 || v35 || v8 != v24 )
    goto LABEL_69;
LABEL_66:
  result = (*(int (__stdcall **)(int, int *, _DWORD, int))(*(_DWORD *)a3 + 36))(a3, &v37, 0, v12);
  if ( result >= 0 )
  {
LABEL_71:
    v16 = v22;
    *(_DWORD *)a2 = v39;
    *(_DWORD *)(a2 + 4) = v19;
    *(_DWORD *)(a2 + 8) = v37;
    *(_DWORD *)(a2 + 12) = v38;
    *(_DWORD *)(a2 + 16) = 0;
    *(_DWORD *)(a2 + 20) = 0;
    *(_DWORD *)(a2 + 32) = 0;
    *(_DWORD *)(a2 + 36) = v24;
    memcpy((void *)(a2 + 40), &v31, 0x18u);
    *(_DWORD *)(a2 + 68) = a6;
    *(_DWORD *)(a2 + 24) = v16;
    v17 = v23;
    *(_DWORD *)(a2 + 72) = a4;
    v18 = v40;
    *(_DWORD *)(a2 + 28) = v17;
    *(_DWORD *)(a2 + 64) = 1;
    *(_DWORD *)v18 = a3;
    result = 0;
  }
  return result;
}

//----- (10050F11) --------------------------------------------------------
int __thiscall sub_10050F11(int this)
{
  int v1; // ST00_4@1

  v1 = *(_DWORD *)(this + 4172);
  *(_DWORD *)this = &off_10074684;
  return sub_10001610(v1);
}
// 10074684: using guessed type int (__stdcall *off_10074684)(char);

//----- (10050F2A) --------------------------------------------------------
int __thiscall sub_10050F2A(int this, int a2)
{
  unsigned int v2; // esi@6
  int v3; // edx@7
  int v4; // eax@7
  double v5; // st7@8
  unsigned int v6; // esi@10
  int v7; // edx@11
  int v8; // eax@11
  double v9; // st5@12
  unsigned int v10; // esi@16
  int v11; // edx@17
  int v12; // eax@17
  double v13; // st7@18
  unsigned int v14; // esi@20
  int v15; // edx@21
  int v16; // eax@21
  double v17; // st5@22
  unsigned int v18; // esi@26
  int v19; // edx@27
  int v20; // eax@27
  double v21; // st5@28
  unsigned int v22; // esi@30
  int v23; // edx@31
  int v24; // eax@31
  double v25; // st5@32

  switch ( *(_DWORD *)(this + 8) )
  {
    case 1:
      if ( *(_DWORD *)(this + 4168) == 2 )
      {
        v22 = 0;
        if ( *(_DWORD *)(this + 4184) )
        {
          v23 = 0;
          v24 = a2 + 8;
          do
          {
            ++v22;
            *(float *)(v23 + *(_DWORD *)(this + 4172)) = (*(float *)(v24 - 8) + 1.0) * 0.5;
            v23 += 16;
            *(float *)(v23 + *(_DWORD *)(this + 4172) - 12) = (*(float *)(v24 - 4) + 1.0) * 0.5;
            v25 = *(float *)v24;
            v24 += 16;
            *(float *)(v23 + *(_DWORD *)(this + 4172) - 8) = (v25 + 1.0) * 0.5;
            *(float *)(v23 + *(_DWORD *)(this + 4172) - 4) = *(float *)(v24 - 12);
          }
          while ( v22 < *(_DWORD *)(this + 4184) );
        }
      }
      else
      {
        if ( *(_DWORD *)(this + 4168) == 3 )
        {
          v18 = 0;
          if ( *(_DWORD *)(this + 4184) )
          {
            v19 = 0;
            v20 = a2 + 8;
            do
            {
              ++v18;
              *(float *)(v19 + *(_DWORD *)(this + 4172)) = (*(float *)(v20 - 8) + 1.0) * 0.5;
              v19 += 16;
              *(float *)(v19 + *(_DWORD *)(this + 4172) - 12) = (*(float *)(v20 - 4) + 1.0) * 0.5;
              v21 = *(float *)v20;
              v20 += 16;
              *(float *)(v19 + *(_DWORD *)(this + 4172) - 8) = (v21 + 1.0) * 0.5;
              *(float *)(v19 + *(_DWORD *)(this + 4172) - 4) = (*(float *)(v20 - 12) + 1.0) * 0.5;
            }
            while ( v18 < *(_DWORD *)(this + 4184) );
          }
        }
      }
      break;
    case 2:
      if ( *(_DWORD *)(this + 4168) == 1 )
      {
        v14 = 0;
        if ( *(_DWORD *)(this + 4184) )
        {
          v15 = 0;
          v16 = a2 + 8;
          do
          {
            ++v14;
            *(float *)(v15 + *(_DWORD *)(this + 4172)) = *(float *)(v16 - 8) * 2.0 - 1.0;
            v15 += 16;
            *(float *)(v15 + *(_DWORD *)(this + 4172) - 12) = *(float *)(v16 - 4) * 2.0 - 1.0;
            v17 = *(float *)v16;
            v16 += 16;
            *(float *)(v15 + *(_DWORD *)(this + 4172) - 8) = v17 * 2.0 - 1.0;
            *(float *)(v15 + *(_DWORD *)(this + 4172) - 4) = *(float *)(v16 - 12);
          }
          while ( v14 < *(_DWORD *)(this + 4184) );
        }
      }
      else
      {
        if ( *(_DWORD *)(this + 4168) == 3 )
        {
          v10 = 0;
          if ( *(_DWORD *)(this + 4184) )
          {
            v11 = 0;
            v12 = a2 + 8;
            do
            {
              *(float *)(v11 + *(_DWORD *)(this + 4172)) = *(float *)(v12 - 8);
              ++v10;
              *(float *)(v11 + *(_DWORD *)(this + 4172) + 4) = *(float *)(v12 - 4);
              v11 += 16;
              *(float *)(v11 + *(_DWORD *)(this + 4172) - 8) = *(float *)v12;
              v13 = *(float *)(v12 + 4);
              v12 += 16;
              *(float *)(v11 + *(_DWORD *)(this + 4172) - 4) = (v13 + 1.0) * 0.5;
            }
            while ( v10 < *(_DWORD *)(this + 4184) );
          }
        }
      }
      break;
    case 3:
      if ( *(_DWORD *)(this + 4168) == 1 )
      {
        v6 = 0;
        if ( *(_DWORD *)(this + 4184) )
        {
          v7 = 0;
          v8 = a2 + 8;
          do
          {
            ++v6;
            *(float *)(v7 + *(_DWORD *)(this + 4172)) = *(float *)(v8 - 8) * 2.0 - 1.0;
            v7 += 16;
            *(float *)(v7 + *(_DWORD *)(this + 4172) - 12) = *(float *)(v8 - 4) * 2.0 - 1.0;
            v9 = *(float *)v8;
            v8 += 16;
            *(float *)(v7 + *(_DWORD *)(this + 4172) - 8) = v9 * 2.0 - 1.0;
            *(float *)(v7 + *(_DWORD *)(this + 4172) - 4) = *(float *)(v8 - 12) * 2.0 - 1.0;
          }
          while ( v6 < *(_DWORD *)(this + 4184) );
        }
      }
      else
      {
        if ( *(_DWORD *)(this + 4168) == 2 )
        {
          v2 = 0;
          if ( *(_DWORD *)(this + 4184) )
          {
            v3 = 0;
            v4 = a2 + 8;
            do
            {
              *(float *)(v3 + *(_DWORD *)(this + 4172)) = *(float *)(v4 - 8);
              ++v2;
              *(float *)(v3 + *(_DWORD *)(this + 4172) + 4) = *(float *)(v4 - 4);
              v3 += 16;
              *(float *)(v3 + *(_DWORD *)(this + 4172) - 8) = *(float *)v4;
              v5 = *(float *)(v4 + 4);
              v4 += 16;
              *(float *)(v3 + *(_DWORD *)(this + 4172) - 4) = v5 + v5 - 1.0;
            }
            while ( v2 < *(_DWORD *)(this + 4184) );
          }
        }
      }
      break;
  }
  return *(_DWORD *)(this + 4172);
}

//----- (100512E3) --------------------------------------------------------
int __thiscall sub_100512E3(int this)
{
  int v1; // esi@1
  unsigned int v2; // ebx@3
  unsigned int i; // edi@4
  int v5; // [sp+4h] [bp-10h]@3

  v1 = this;
  *(_DWORD *)this = &off_10074694;
  if ( *(_DWORD *)(this + 4284) )
  {
    if ( *(_DWORD *)(this + 4288) )
    {
      v2 = *(_DWORD *)(this + 4252);
      v5 = *(_DWORD *)(this + 4288);
      if ( v2 < *(_DWORD *)(this + 4256) )
      {
        do
        {
          for ( i = *(_DWORD *)(v1 + 4240); i < *(_DWORD *)(v1 + 4248); i += 4 )
          {
            sub_10001610(*(_DWORD *)(v5 + 4));
            v5 += 8;
          }
          ++v2;
        }
        while ( v2 < *(_DWORD *)(v1 + 4256) );
      }
    }
  }
  sub_10001610(*(_DWORD *)(v1 + 4280));
  sub_10001610(*(_DWORD *)(v1 + 4288));
  return sub_10050F11(v1);
}
// 10074694: using guessed type int (__stdcall *off_10074694)(char);

//----- (10051383) --------------------------------------------------------
int __thiscall sub_10051383(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  unsigned int v5; // esi@1
  int result; // eax@2
  unsigned int v7; // edx@3
  int v8; // edi@3
  int i; // ecx@3
  unsigned int v10; // eax@6
  int v11; // ecx@6
  int v12; // edi@6
  int v13; // eax@7
  unsigned int v14; // ecx@13
  int v15; // eax@15
  unsigned int v16; // eax@19
  unsigned int v17; // eax@21
  unsigned int v18; // eax@23
  int v19; // edi@23
  int v20; // eax@29
  signed int v21; // edx@29
  int v22; // ecx@29
  int v23; // edi@30
  int v24; // esi@30
  unsigned int v25; // eax@39
  int v26; // ecx@39
  int v27; // esi@39
  unsigned int v28; // eax@40
  int v29; // esi@43
  int v30; // esi@44
  int v31; // ST0C_4@47
  int v32; // [sp+Ch] [bp-18h]@7
  signed int v33; // [sp+Ch] [bp-18h]@17
  unsigned int v34; // [sp+Ch] [bp-18h]@23
  unsigned int v35; // [sp+Ch] [bp-18h]@39
  int v36; // [sp+10h] [bp-14h]@7
  int v37; // [sp+10h] [bp-14h]@23
  int v38; // [sp+10h] [bp-14h]@48
  int v39; // [sp+14h] [bp-10h]@6
  int v40; // [sp+2Ch] [bp+8h]@1
  signed int v41; // [sp+2Ch] [bp+8h]@42
  int v42; // [sp+30h] [bp+Ch]@1
  signed int v43; // [sp+30h] [bp+Ch]@39
  unsigned int v44; // [sp+34h] [bp+10h]@34
  unsigned int v45; // [sp+34h] [bp+10h]@42

  v4 = this;
  v5 = *(_DWORD *)(this + 4148) + a2;
  v42 = *(_DWORD *)(this + 4160) + a3;
  v40 = *(_DWORD *)(this + 4148) + a2;
  if ( !*(_DWORD *)(this + 4288) )
  {
    result = sub_100015F0(8 * *(_DWORD *)(this + 4268) * *(_DWORD *)(this + 4264));
    *(_DWORD *)(v4 + 4288) = result;
    if ( !result )
      return result;
    v7 = 8 * *(_DWORD *)(v4 + 4268) * *(_DWORD *)(v4 + 4264);
    memset((void *)result, 0, 4 * (v7 >> 2));
    v8 = result + 4 * (v7 >> 2);
    for ( i = v7 & 3; i; --i )
      *(_BYTE *)v8++ = 0;
  }
  v10 = ((v5 - *(_DWORD *)(v4 + 4240)) >> 2) + *(_DWORD *)(v4 + 4264) * (v42 - *(_DWORD *)(v4 + 4252));
  v11 = *(_DWORD *)(v4 + 4288);
  v12 = v11 + 8 * v10;
  v39 = v11 + 8 * v10;
  if ( !*(_DWORD *)(v12 + 4) )
  {
    v32 = 16 * *(_DWORD *)(v4 + 4260);
    v13 = sub_100015F0(*(_DWORD *)(v4 + 4260) << 8);
    v36 = v13;
    if ( v13 )
    {
      sub_10001650(v13, 16, v32, (int (__thiscall *)(_DWORD))sub_1003CAF6);
      result = v36;
    }
    else
    {
      result = 0;
    }
    *(_DWORD *)(v12 + 4) = result;
    if ( !result )
      return result;
    *(_DWORD *)v12 = 0;
    ++*(_DWORD *)(v4 + 4284);
  }
  if ( !*(_DWORD *)v12 )
  {
    v14 = 4;
    if ( *(_DWORD *)(v4 + 4156) >= 4u )
      v14 = *(_DWORD *)(v4 + 4156);
    v15 = v5 & 3;
    if ( (unsigned int)v15 < *(_DWORD *)(v4 + 4148) || v15 + 4 > v14 )
    {
      v18 = *(_DWORD *)(v4 + 4236);
      v19 = *(_DWORD *)(v4 + 24)
          + v42 * *(_DWORD *)(v4 + 4180)
          + *(_DWORD *)(v4 + 4224) * (*(_DWORD *)(v4 + 4236) >> 2)
          + *(_DWORD *)(v4 + 4176) * (v5 >> 2);
      v37 = *(_DWORD *)(v39 + 4);
      v34 = *(_DWORD *)(v4 + 4236);
      while ( v18 < *(_DWORD *)(v4 + 4244) )
      {
        (*(void (__cdecl **)(int, int))(v4 + 4228))(v37, v19);
        v19 += *(_DWORD *)(v4 + 4224);
        v37 += 256;
        v34 += 4;
        v18 = v34;
      }
      v12 = v39;
    }
    else
    {
      v33 = 4;
      if ( *(_DWORD *)(v4 + 4152) >= 4u )
        v33 = *(_DWORD *)(v4 + 4152);
      v16 = *(_DWORD *)(v4 + 4236);
      if ( v16 < *(_DWORD *)(v4 + 4144) )
        (*(void (__cdecl **)(_DWORD, unsigned int))(v4 + 4228))(
          *(_DWORD *)(v12 + 4),
          *(_DWORD *)(v4 + 24)
        + v42 * *(_DWORD *)(v4 + 4180)
        + *(_DWORD *)(v4 + 4176) * (v5 >> 2)
        + *(_DWORD *)(v4 + 4224) * (v16 >> 2));
      v17 = *(_DWORD *)(v4 + 4244);
      if ( v17 > v33 )
        (*(void (__cdecl **)(_DWORD, unsigned int))(v4 + 4228))(
          *(_DWORD *)(v12 + 4),
          *(_DWORD *)(v4 + 24)
        + v42 * *(_DWORD *)(v4 + 4180)
        + *(_DWORD *)(v4 + 4176) * (v5 >> 2)
        + *(_DWORD *)(v4 + 4224) * ((v17 - 4) >> 2));
    }
  }
  if ( *(_DWORD *)(v4 + 4168) )
    a4 = sub_10050F2A(v4, a4);
  v20 = *(_DWORD *)(v4 + 4144) - *(_DWORD *)(v4 + 4236);
  v21 = v20 + *(_DWORD *)(v4 + 4184);
  v22 = (v5 - *(_DWORD *)(v4 + 4240)) & 3;
  if ( v20 < (unsigned int)v21 )
  {
    do
    {
      v23 = *(_DWORD *)(v39 + 4) + 16 * (v20 & 3 | 4 * (v22 | v20 & 0xFFFFFFFC));
      v24 = a4;
      a4 += 16;
      *(_DWORD *)v23 = *(_DWORD *)v24;
      v24 += 4;
      v23 += 4;
      *(_DWORD *)v23 = *(_DWORD *)v24;
      v24 += 4;
      v23 += 4;
      *(_DWORD *)v23 = *(_DWORD *)v24;
      ++v20;
      *(_DWORD *)(v23 + 4) = *(_DWORD *)(v24 + 4);
    }
    while ( v20 < (unsigned int)v21 );
    v5 = v40;
    v12 = v39;
  }
  result = (v5 - *(_DWORD *)(v4 + 4240)) & 3;
  if ( *(_DWORD *)(v4 + 4212) )
  {
    v44 = 0;
    do
    {
      if ( (v44 & *(_DWORD *)(v4 + 4220)) == result )
      {
        v21 = 1 << v44;
        *(_DWORD *)v12 |= 1 << v44;
      }
      ++v44;
    }
    while ( v44 < 4 );
  }
  else
  {
    v21 = 1 << result;
    *(_DWORD *)v12 |= 1 << result;
  }
  if ( *(_DWORD *)v12 == 15 )
  {
    v25 = *(_DWORD *)(v4 + 4236);
    v26 = *(_DWORD *)(v12 + 4);
    v27 = *(_DWORD *)(v4 + 24)
        + v42 * *(_DWORD *)(v4 + 4180)
        + *(_DWORD *)(v4 + 4224) * (*(_DWORD *)(v4 + 4236) >> 2)
        + *(_DWORD *)(v4 + 4176) * (v5 >> 2);
    v43 = *(_DWORD *)(v12 + 4);
    v35 = *(_DWORD *)(v4 + 4236);
    while ( 1 )
    {
      v38 = v27;
      if ( v25 >= *(_DWORD *)(v4 + 4244) )
        break;
      v28 = 0;
      if ( *(_DWORD *)(v4 + 4212) )
      {
        v21 = v43;
        do
        {
          v45 = 0;
          v26 = 4 * v28;
          v41 = v21;
          do
          {
            v29 = (*(_DWORD *)(v4 + 4216) & v45) + 4 * (v28 & *(_DWORD *)(v4 + 4220));
            if ( v26 != v29 )
            {
              v30 = v43 + 16 * v29;
              *(_DWORD *)v41 = *(_DWORD *)v30;
              v30 += 4;
              *(_DWORD *)(v41 + 4) = *(_DWORD *)v30;
              v30 += 4;
              *(_DWORD *)(v41 + 8) = *(_DWORD *)v30;
              *(_DWORD *)(v41 + 12) = *(_DWORD *)(v30 + 4);
              v12 = v39;
            }
            ++v45;
            v41 += 16;
            ++v26;
          }
          while ( v45 < 4 );
          v21 = v41;
          ++v28;
        }
        while ( v28 < 4 );
      }
      v31 = v43;
      (*(void (__fastcall **)(int, signed int))(v4 + 4232))(v26, v21);
      v27 = *(_DWORD *)(v4 + 4224) + v38;
      v43 += 256;
      v35 += 4;
      v25 = v35;
      v26 = v31;
    }
    if ( v12 + 8 >= (unsigned int)(*(_DWORD *)(v4 + 4288) + 8 * *(_DWORD *)(v4 + 4264) * *(_DWORD *)(v4 + 4268))
      || *(_DWORD *)(v12 + 8)
      || *(_DWORD *)(v12 + 12) )
    {
      result = sub_10001610(*(_DWORD *)(v12 + 4));
      --*(_DWORD *)(v4 + 4284);
    }
    else
    {
      result = *(_DWORD *)(v12 + 4);
      *(_DWORD *)(v12 + 12) = result;
      *(_DWORD *)(v12 + 4) = 0;
    }
    *(_DWORD *)(v12 + 4) = 0;
  }
  return result;
}

//----- (1005177D) --------------------------------------------------------
int __cdecl sub_1005177D()
{
  int result; // eax@1
  int v1; // [sp+0h] [bp-8h]@0

  result = v1;
  dword_1008540C = v1;
  return result;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (100517BF) --------------------------------------------------------
void *__thiscall sub_100517BF(void *this, int a2, unsigned int a3, int a4)
{
  void *v4; // ebx@1
  unsigned int v5; // esi@1
  _UNKNOWN *v6; // ecx@1
  int v7; // ecx@3
  unsigned int v8; // ecx@4
  float v9; // ST1C_4@4
  float v10; // ST20_4@4
  float v11; // ST24_4@4
  float v12; // ST28_4@4
  int v13; // ecx@5
  int v14; // ecx@9
  int v15; // eax@12
  signed int v16; // ecx@12
  int v17; // ecx@14
  int v18; // eax@14
  int v19; // edi@14
  int v20; // eax@14
  int v21; // esi@14
  int v22; // ecx@14
  bool v23; // zf@14
  int v24; // eax@15
  signed int v26; // [sp+28h] [bp+Ch]@10

  v4 = this;
  *(_DWORD *)this = &off_10074684;
  sub_10001650((int)((char *)this + 48), 16, 256, (int (__thiscall *)(_DWORD))sub_1003CAF6);
  *((_DWORD *)v4 + 6) = *(_DWORD *)a2;
  *((_DWORD *)v4 + 1) = *(_DWORD *)(a2 + 4);
  *((_DWORD *)v4 + 1044) = *(_DWORD *)(a2 + 8);
  *((_DWORD *)v4 + 1045) = *(_DWORD *)(a2 + 12);
  memcpy((char *)v4 + 4144, (const void *)(a2 + 40), 0x18u);
  v5 = 0;
  v6 = &unk_10082530;
  if ( !*(_DWORD *)(a2 + 64) )
    v6 = &unk_100824B0;
  *((_DWORD *)v4 + 11) = v6;
  *((_DWORD *)v4 + 1050) = a3 >> 3;
  *((_DWORD *)v4 + 1042) = 0;
  *((_DWORD *)v4 + 1043) = 0;
  *((_DWORD *)v4 + 3) = a3 != 0;
  *((_DWORD *)v4 + 2) = a4;
  v7 = *(_DWORD *)(a2 + 68);
  *((_DWORD *)v4 + 4) = v7;
  if ( v7 )
  {
    v8 = *(_DWORD *)(a2 + 68);
    v9 = (double)(unsigned __int8)(*(_DWORD *)(a2 + 68) >> 16) * 0.0039215689;
    v10 = (double)BYTE1(v8) * 0.0039215689;
    v11 = (double)(unsigned __int8)v8 * 0.0039215689;
    v12 = (double)(v8 >> 24) * 0.0039215689;
    *((_DWORD *)v4 + 7) = LODWORD(v9);
    *((_DWORD *)v4 + 8) = LODWORD(v10);
    *((_DWORD *)v4 + 9) = LODWORD(v11);
    *((_DWORD *)v4 + 10) = LODWORD(v12);
    v5 = 0;
  }
  v13 = *((_DWORD *)v4 + 1);
  if ( v13 == 41 || v13 == 40 )
  {
    *((_DWORD *)v4 + 5) = 1;
    if ( *(_DWORD *)(a2 + 72) == v5 )
    {
      v15 = (int)((char *)v4 + 56);
      v16 = 256;
      do
      {
        *(float *)(v15 + 4) = 1.0;
        *(float *)v15 = 1.0;
        v15 += 16;
        --v16;
        *(float *)(v15 - 20) = 1.0;
        *(float *)(v15 - 24) = 1.0;
      }
      while ( v16 );
    }
    else
    {
      v14 = (int)((char *)v4 + 52);
      do
      {
        v26 = *(_BYTE *)(v5 + *(_DWORD *)(a2 + 72));
        v5 += 4;
        *(float *)(v14 - 4) = (double)v26 * 0.0039215689;
        *(float *)v14 = (double)*(_BYTE *)(v5 + *(_DWORD *)(a2 + 72) - 3) * 0.0039215689;
        v14 += 16;
        *(float *)(v14 - 12) = (double)*(_BYTE *)(v5 + *(_DWORD *)(a2 + 72) - 2) * 0.0039215689;
        *(float *)(v14 - 8) = (double)*(_BYTE *)(v5 + *(_DWORD *)(a2 + 72) - 1) * 0.0039215689;
      }
      while ( v5 < 0x400 );
    }
  }
  else
  {
    *((_DWORD *)v4 + 5) = v5;
  }
  v17 = *((_DWORD *)v4 + 1038);
  v18 = *((_DWORD *)v4 + 1040);
  *((_DWORD *)v4 + 1047) = *((_DWORD *)v4 + 1039) - *((_DWORD *)v4 + 1037);
  v19 = *((_DWORD *)v4 + 1041) - v18;
  v20 = *((_DWORD *)v4 + 1050);
  v21 = *((_DWORD *)v4 + 1036);
  v22 = v17 - v21;
  *((_DWORD *)v4 + 1048) = v19;
  *((_DWORD *)v4 + 1046) = v22;
  v23 = *((_DWORD *)v4 + 3) == 0;
  *((_DWORD *)v4 + 1049) = v22 * v20;
  if ( !v23 )
  {
    *((_DWORD *)v4 + 6) += *((_DWORD *)v4 + 1040) * *((_DWORD *)v4 + 1045)
                         + *((_DWORD *)v4 + 1037) * *((_DWORD *)v4 + 1044)
                         + v21 * v20;
    *((_DWORD *)v4 + 1038) = *((_DWORD *)v4 + 1046);
    *((_DWORD *)v4 + 1039) = *((_DWORD *)v4 + 1047);
    v24 = *((_DWORD *)v4 + 1048);
    *((_DWORD *)v4 + 1036) = 0;
    *((_DWORD *)v4 + 1037) = 0;
    *((_DWORD *)v4 + 1040) = 0;
    *((_DWORD *)v4 + 1041) = v24;
  }
  return v4;
}
// 10074684: using guessed type int (__stdcall *off_10074684)(char);

//----- (10051A0B) --------------------------------------------------------
int __thiscall sub_10051A0B(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_10050F11(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (10051A27) --------------------------------------------------------
signed int __thiscall sub_10051A27(int this, int a2)
{
  int v2; // esi@1
  int v3; // edi@2
  int v4; // eax@2
  int v5; // ebx@2
  int v6; // ST1C_4@2
  int v7; // eax@2

  v2 = this;
  if ( *(_DWORD *)(this + 8) != *(_DWORD *)(a2 + 8) )
  {
    v3 = *(_DWORD *)(this + 4184);
    v4 = sub_100015F0(16 * *(_DWORD *)(this + 4184));
    v5 = v4;
    v6 = v4;
    v7 = 0;
    if ( v6 )
    {
      sub_10001650(v5, 16, v3, (int (__thiscall *)(_DWORD))sub_1003CAF6);
      v7 = v5;
    }
    *(_DWORD *)(v2 + 4172) = v7;
    if ( !v7 )
      return -2147024882;
    *(_DWORD *)(v2 + 4168) = *(_DWORD *)(a2 + 8);
  }
  return 0;
}

//----- (10051AA2) --------------------------------------------------------
int __thiscall sub_10051AA2(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // ecx@1
  int v4; // ebx@1
  bool v5; // zf@1
  int v6; // ecx@2
  int result; // eax@3
  char v8; // [sp+Ch] [bp-24h]@1
  int v9; // [sp+14h] [bp-1Ch]@1
  int v10; // [sp+18h] [bp-18h]@1
  int v11; // [sp+1Ch] [bp-14h]@1
  int v12; // [sp+20h] [bp-10h]@1
  int v13; // [sp+24h] [bp-Ch]@1
  int v14; // [sp+28h] [bp-8h]@2
  int v15; // [sp+2Ch] [bp-4h]@2

  v1 = this;
  v2 = *(_DWORD *)(this + 4184);
  v3 = *(_DWORD *)(this + 4200);
  v13 = v2;
  v12 = *(_DWORD *)(v1 + 4196);
  v11 = *(_DWORD *)(v1 + 24);
  v10 = *(_DWORD *)(v1 + 44);
  v9 = *(_DWORD *)(v1 + 16);
  *(_DWORD *)(v1 + 4196) = v3;
  v4 = 0;
  v5 = *(_DWORD *)(v1 + 8) == 1;
  *(_DWORD *)(v1 + 4184) = 1;
  *(_DWORD *)(v1 + 24) = &v8;
  *(_DWORD *)(v1 + 44) = &unk_100824B0;
  *(_DWORD *)(v1 + 16) = 0;
  if ( !v5 )
  {
    v15 = *(_DWORD *)(v1 + 4168);
    v6 = *(_DWORD *)(v1 + 4172);
    *(_DWORD *)(v1 + 4168) = 1;
    v14 = v6;
    *(_DWORD *)(v1 + 4172) = v1 + 28;
    sub_10050F2A(v1, v1 + 28);
    *(_DWORD *)(v1 + 4168) = v15;
    *(_DWORD *)(v1 + 4172) = v14;
    v4 = 0;
  }
  (*(void (__thiscall **)(int, int, int, int))(*(_DWORD *)v1 + 8))(v1, v4, v4, v1 + 28);
  (*(void (__thiscall **)(int, int, int, int))(*(_DWORD *)v1 + 4))(v1, v4, v4, v1 + 28);
  *(_DWORD *)(v1 + 4184) = v13;
  *(_DWORD *)(v1 + 4196) = v12;
  *(_DWORD *)(v1 + 24) = v11;
  *(_DWORD *)(v1 + 44) = v10;
  result = v9;
  *(_DWORD *)(v1 + 16) = v9;
  return result;
}

//----- (10051B6E) --------------------------------------------------------
void __thiscall sub_10051B6E(int this, unsigned int a2)
{
  int v2; // edx@2
  unsigned int v3; // esi@2

  if ( a2 < a2 + 16 * *(_DWORD *)(this + 4184) )
  {
    v2 = a2 + 8;
    v3 = ((unsigned int)(16 * *(_DWORD *)(this + 4184) - 1) >> 4) + 1;
    do
    {
      if ( *(float *)(v2 - 8) == *(float *)(this + 28)
        && *(float *)(v2 - 4) == *(float *)(this + 32)
        && *(float *)v2 == *(float *)(this + 36) )
      {
        if ( *(float *)(v2 + 4) == *(float *)(this + 40) )
        {
          *(float *)(v2 + 4) = 0.0;
          *(float *)v2 = 0.0;
          *(float *)(v2 - 4) = 0.0;
          *(float *)(v2 - 8) = 0.0;
        }
      }
      v2 += 16;
      --v3;
    }
    while ( v3 );
  }
}

//----- (10051BDE) --------------------------------------------------------
int __thiscall sub_10051BDE(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  int v7; // eax@3
  unsigned int v8; // esi@3
  float v9; // ST18_4@4
  float v10; // ST14_4@4
  float v11; // ST14_4@4
  float v12; // ST14_4@4
  int v14; // [sp+14h] [bp-4h]@1

  v14 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v14;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  v8 = 0;
  if ( *(_DWORD *)(v14 + 4184) )
  {
    do
    {
      v9 = *(float *)(v5 + 4 * (v8 & 3));
      v10 = *(float *)(v7 + a4 + 8) * 255.0 + *(float *)(v5 + 4 * (v8 & 3));
      *(_BYTE *)v6 = (signed int)v10;
      v11 = *(float *)(v7 + a4 + 4) * 255.0 + v9;
      *(_BYTE *)(v6 + 1) = (signed int)v11;
      v12 = *(float *)(v7 + a4) * 255.0 + v9;
      *(_BYTE *)(v6 + 2) = (signed int)v12;
      v6 += 3;
      ++v8;
      v7 += 16;
    }
    while ( v8 < *(_DWORD *)(v14 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10051CCA) --------------------------------------------------------
int __thiscall sub_10051CCA(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST28_4@5
  float v10; // ST24_4@5
  signed int v11; // ebx@5
  float v12; // ST24_4@5
  signed int v13; // ST10_4@5
  float v14; // ST24_4@5
  signed int v15; // ST0C_4@5
  float v16; // ST24_4@5
  int v18; // [sp+20h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v18;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v18 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 255.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 255.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 255.0 + v9;
      v15 = (signed int)v14;
      v16 = *(float *)(v8 + a4 + 12) * 255.0 + v9;
      v8 += 16;
      *(_DWORD *)v6 = v15 | ((v13 | ((v11 | ((signed int)v16 << 8)) << 8)) << 8);
      v6 += 4;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v18 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10051DED) --------------------------------------------------------
int __thiscall sub_10051DED(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST20_4@5
  float v10; // ST1C_4@5
  signed int v11; // eax@5
  float v12; // ST1C_4@5
  signed int v13; // ST0C_4@5
  float v14; // ST1C_4@5
  int v16; // [sp+18h] [bp-4h]@1

  v16 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v16;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v16 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 255.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 255.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 255.0 + v9;
      v8 += 16;
      *(_DWORD *)v6 = (signed int)v14 | ((v13 | (v11 << 8)) << 8);
      v6 += 4;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v16 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10051EEE) --------------------------------------------------------
int __thiscall sub_10051EEE(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST20_4@5
  float v10; // ST1C_4@5
  __int16 v11; // ax@5
  float v12; // ST1C_4@5
  signed int v13; // ST0C_4@5
  float v14; // ST1C_4@5
  int v16; // [sp+18h] [bp-4h]@1

  v16 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v16;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v16 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 31.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 63.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 31.0 + v9;
      v8 += 16;
      *(_WORD *)v6 = (signed int)v14 | 32 * (v13 | (unsigned __int16)(v11 << 6));
      v6 += 2;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v16 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10051FEF) --------------------------------------------------------
int __thiscall sub_10051FEF(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST20_4@5
  float v10; // ST1C_4@5
  __int16 v11; // ax@5
  float v12; // ST1C_4@5
  signed int v13; // ST0C_4@5
  float v14; // ST1C_4@5
  int v16; // [sp+18h] [bp-4h]@1

  v16 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v16;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v16 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 31.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 31.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 31.0 + v9;
      v8 += 16;
      *(_WORD *)v6 = (signed int)v14 | 32 * (v13 | (unsigned __int16)(32 * v11));
      v6 += 2;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v16 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (100520F0) --------------------------------------------------------
int __thiscall sub_100520F0(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST28_4@5
  float v10; // ST24_4@5
  signed int v11; // ebx@5
  float v12; // ST24_4@5
  signed int v13; // ST10_4@5
  float v14; // ST24_4@5
  signed int v15; // ST0C_4@5
  float v16; // ST24_4@5
  int v18; // [sp+20h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v18;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v18 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 31.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 31.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 31.0 + v9;
      v15 = (signed int)v14;
      v16 = v9 + *(float *)(v8 + a4 + 12);
      v8 += 16;
      *(_WORD *)v6 = v15 | 32 * (v13 | (unsigned __int16)(32 * (v11 | (unsigned __int16)(32 * (signed int)v16))));
      v6 += 2;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v18 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (1005220D) --------------------------------------------------------
int __thiscall sub_1005220D(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST28_4@5
  float v10; // ST24_4@5
  signed int v11; // ebx@5
  float v12; // ST24_4@5
  signed int v13; // ST10_4@5
  float v14; // ST24_4@5
  signed int v15; // ST0C_4@5
  float v16; // ST24_4@5
  int v18; // [sp+20h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v18;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v18 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 15.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 15.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 15.0 + v9;
      v15 = (signed int)v14;
      v16 = *(float *)(v8 + a4 + 12) * 15.0 + v9;
      v8 += 16;
      *(_WORD *)v6 = v15 | 16 * (v13 | (unsigned __int16)(16 * (v11 | (unsigned __int16)(16 * (signed int)v16))));
      v6 += 2;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v18 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10052330) --------------------------------------------------------
int __thiscall sub_10052330(int this, char a2, char a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // ebx@3
  int v7; // edx@3
  int v8; // esi@4
  float v9; // ST24_4@5
  float v10; // ST20_4@5
  char v11; // al@5
  float v12; // ST20_4@5
  signed int v13; // ST10_4@5
  float v14; // ST20_4@5
  int v16; // [sp+24h] [bp-4h]@1

  v4 = 0;
  v16 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v16;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  if ( *(_DWORD *)(v16 + 4184) > 0u )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v6 + 4 * (v4 & 3));
      v10 = *(float *)(v8 + a4) * 7.0 + *(float *)(v6 + 4 * (v4 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 7.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 3.0 + v9;
      v8 += 16;
      *(_BYTE *)v7++ = (signed int)v14 | 4 * (v13 | (unsigned __int8)(8 * v11));
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v16 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (1005242E) --------------------------------------------------------
int __thiscall sub_1005242E(int this, char a2, char a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // esi@3
  int v7; // edx@3
  unsigned int v8; // ecx@3
  float v9; // ST14_4@4
  int v11; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v11 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v11;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v8 = 0;
  if ( *(_DWORD *)(v11 + 4184) > 0u )
  {
    do
    {
      v9 = *(float *)(v6 + 4 * (v8 & 3)) + *(float *)(v4 + a4 + 12) * 255.0;
      *(_BYTE *)v7++ = (signed int)v9;
      ++v8;
      v4 += 16;
    }
    while ( v8 < *(_DWORD *)(v11 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (100524D7) --------------------------------------------------------
int __thiscall sub_100524D7(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // eax@4
  float v9; // ST28_4@5
  float v10; // ST24_4@5
  signed int v11; // ebx@5
  float v12; // ST24_4@5
  signed int v13; // ST10_4@5
  float v14; // ST24_4@5
  signed int v15; // ST0C_4@5
  float v16; // ST24_4@5
  int v18; // [sp+20h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v18;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v18 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 7.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 7.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 3.0 + v9;
      v15 = (signed int)v14;
      v16 = *(float *)(v8 + a4 + 12) * 255.0 + v9;
      v8 += 16;
      *(_WORD *)v6 = v15 | 4 * (v13 | (unsigned __int16)(8 * (v11 | (unsigned __int16)(8 * (signed int)v16))));
      v6 += 2;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v18 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (100525FA) --------------------------------------------------------
int __thiscall sub_100525FA(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST20_4@5
  float v10; // ST1C_4@5
  __int16 v11; // ax@5
  float v12; // ST1C_4@5
  signed int v13; // ST0C_4@5
  float v14; // ST1C_4@5
  int v16; // [sp+18h] [bp-4h]@1

  v16 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v16;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v16 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 15.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 15.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 15.0 + v9;
      v8 += 16;
      *(_WORD *)v6 = (signed int)v14 | 16 * (v13 | (unsigned __int16)(16 * v11));
      v6 += 2;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v16 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (100526FB) --------------------------------------------------------
int __thiscall sub_100526FB(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST28_4@5
  float v10; // ST24_4@5
  signed int v11; // ST0C_4@5
  float v12; // ST24_4@5
  signed int v13; // ST10_4@5
  float v14; // ST24_4@5
  signed int v15; // ebx@5
  float v16; // ST24_4@5
  int v18; // [sp+20h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v18;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v18 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4) * 1023.0 + *(float *)(v5 + 4 * (v7 & 3));
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 1023.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 8) * 1023.0 + v9;
      v15 = (signed int)v14;
      v16 = *(float *)(v8 + a4 + 12) * 3.0 + v9;
      v8 += 16;
      *(_DWORD *)v6 = v11 | ((v13 | ((v15 | ((signed int)v16 << 10)) << 10)) << 10);
      v6 += 4;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v18 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (1005281E) --------------------------------------------------------
int __thiscall sub_1005281E(int this, char a2, char a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // esi@3
  int v7; // edx@3
  int v8; // ecx@4
  float v9; // ST1C_4@5
  float v10; // ST14_4@5
  int v12; // [sp+1Ch] [bp-4h]@1

  v4 = 0;
  v12 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v12;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  if ( *(_DWORD *)(v12 + 4184) > 0u )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v8 + a4) * 65535.0 + *(float *)(v6 + 4 * (v4 & 3));
      v10 = *(float *)(v8 + a4 + 4) * 65535.0 + *(float *)(v6 + 4 * (v4 & 3));
      *(_DWORD *)v7 = (signed int)v9 | ((signed int)v10 << 16);
      v7 += 4;
      ++v4;
      v8 += 16;
    }
    while ( v4 < *(_DWORD *)(v12 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (100528EE) --------------------------------------------------------
int __thiscall sub_100528EE(int this, char a2, char a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // ebx@3
  int v7; // edx@3
  int v8; // eax@3
  unsigned int v9; // esi@3
  int v10; // ecx@6
  __int16 v11; // fps@7
  unsigned __int8 v12; // c0@7
  unsigned __int8 v13; // c2@7
  float v14; // ST1C_4@10
  __int16 v15; // cx@10
  __int16 v17; // [sp+10h] [bp-10h]@6
  int v18; // [sp+14h] [bp-Ch]@4
  unsigned int v19; // [sp+18h] [bp-8h]@6
  int v20; // [sp+1Ch] [bp-4h]@1

  v4 = 0;
  v20 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v8 = v20;
  v9 = 0;
  if ( *(_DWORD *)(v20 + 4184) > 0u )
  {
    v18 = 0;
    while ( 1 )
    {
      v17 = v4;
      v19 = v4;
      v10 = v8 + 56;
      do
      {
        UNDEF(v11);
        if ( v12 | v13 )
          v17 = v19;
        ++v19;
        v10 += 16;
      }
      while ( v19 < 0x100 );
      v14 = *(float *)(v18 + a4 + 12) * 255.0 + *(float *)(v6 + 4 * (v9 & 3));
      v18 += 16;
      LOBYTE(v15) = 0;
      HIBYTE(v15) = (signed int)v14;
      *(_WORD *)v7 = v17 | v15;
      v8 = v20;
      v7 += 2;
      ++v9;
      if ( v9 >= *(_DWORD *)(v20 + 4184) )
        break;
      v4 = 0;
    }
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10052A06) --------------------------------------------------------
int __thiscall sub_10052A06(int this, int a2, int a3, int a4)
{
  int result; // eax@2
  int v5; // edx@4
  int v6; // esi@5
  char v7; // bl@6
  int v8; // edi@6
  double v9; // st7@7
  double v10; // st6@7
  double v11; // st5@7
  double v12; // st4@7
  double v13; // st3@7
  int v14; // [sp+10h] [bp+8h]@4
  float v15; // [sp+14h] [bp+Ch]@6
  unsigned int v16; // [sp+18h] [bp+10h]@6

  if ( *(_DWORD *)(this + 4168) )
    result = sub_10050F2A(this, a4);
  else
    result = a4;
  v5 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v14 = 0;
  if ( *(_DWORD *)(this + 4184) )
  {
    v6 = result + 8;
    do
    {
      v7 = 0;
      v15 = 3.4028235e38;
      v16 = 0;
      v8 = this + 56;
      do
      {
        v9 = *(float *)(v6 - 8) - *(float *)(v8 - 8);
        v10 = *(float *)(v6 - 4) - *(float *)(v8 - 4);
        v11 = *(float *)v6 - *(float *)v8;
        v12 = *(float *)(v6 + 4) - *(float *)(v8 + 4);
        v13 = v12 * v12 + v11 * v11 + v10 * v10 + v9 * v9;
        if ( v13 < v15 )
        {
          v7 = v16;
          v15 = v13;
        }
        ++v16;
        v8 += 16;
      }
      while ( v16 < 0x100 );
      *(_BYTE *)v5++ = v7;
      ++v14;
      result = v14;
      v6 += 16;
    }
    while ( (unsigned int)v14 < *(_DWORD *)(this + 4184) );
  }
  return result;
}

//----- (10052ACB) --------------------------------------------------------
int __thiscall sub_10052ACB(int this, char a2, char a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // esi@3
  int v7; // edx@3
  unsigned int v8; // ecx@3
  float v9; // ST14_4@4
  int v11; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v11 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v11;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v8 = 0;
  if ( *(_DWORD *)(v11 + 4184) > 0u )
  {
    do
    {
      v9 = (*(float *)(v4 + a4 + 8) * 0.072099999
          + *(float *)(v4 + a4 + 4) * 0.71539998
          + *(float *)(v4 + a4) * 0.21250001)
         * 255.0
         + *(float *)(v6 + 4 * (v8 & 3));
      *(_BYTE *)v7++ = (signed int)v9;
      ++v8;
      v4 += 16;
    }
    while ( v8 < *(_DWORD *)(v11 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10052B90) --------------------------------------------------------
int __thiscall sub_10052B90(int this, char a2, char a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // ebx@3
  int v7; // edx@3
  int v8; // esi@4
  float v9; // ST1C_4@5
  float v10; // ST14_4@5
  __int16 v11; // cx@5
  int v13; // [sp+1Ch] [bp-4h]@1

  v4 = 0;
  v13 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v13;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  if ( *(_DWORD *)(v13 + 4184) > 0u )
  {
    v8 = 0;
    do
    {
      v9 = (*(float *)(v8 + a4 + 8) * 0.072099999
          + *(float *)(v8 + a4 + 4) * 0.71539998
          + *(float *)(v8 + a4) * 0.21250001)
         * 255.0
         + *(float *)(v6 + 4 * (v4 & 3));
      v10 = *(float *)(v8 + a4 + 12) * 255.0 + *(float *)(v6 + 4 * (v4 & 3));
      LOBYTE(v11) = 0;
      HIBYTE(v11) = (signed int)v10;
      v8 += 16;
      *(_WORD *)v7 = (signed int)v9 | v11;
      v7 += 2;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v13 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10052C86) --------------------------------------------------------
int __thiscall sub_10052C86(int this, char a2, char a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // ebx@3
  int v7; // edx@3
  int v8; // esi@4
  float v9; // ST1C_4@5
  float v10; // ST14_4@5
  int v12; // [sp+1Ch] [bp-4h]@1

  v4 = 0;
  v12 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v12;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  if ( *(_DWORD *)(v12 + 4184) > 0u )
  {
    v8 = 0;
    do
    {
      v9 = (*(float *)(v8 + a4 + 8) * 0.072099999
          + *(float *)(v8 + a4 + 4) * 0.71539998
          + *(float *)(v8 + a4) * 0.21250001)
         * 15.0
         + *(float *)(v6 + 4 * (v4 & 3));
      v10 = *(float *)(v8 + a4 + 12) * 15.0 + *(float *)(v6 + 4 * (v4 & 3));
      *(_BYTE *)v7++ = (signed int)v9 | 16 * (signed int)v10;
      ++v4;
      v8 += 16;
    }
    while ( v4 < *(_DWORD *)(v12 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10052D71) --------------------------------------------------------
int __thiscall sub_10052D71(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // eax@3
  int v8; // esi@4
  float v9; // ST18_4@5
  __int16 v10; // cx@5
  float v11; // ST10_4@5
  int v13; // [sp+10h] [bp-4h]@1

  v13 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v13;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v13 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v8 + a4) * 128.0 + *(float *)(v5 + 4 * (v7 & 3));
      LOBYTE(v10) = (signed int)v9;
      v11 = *(float *)(v8 + a4 + 4) * 128.0 + *(float *)(v5 + 4 * (v7 & 3));
      v8 += 16;
      HIBYTE(v10) = (signed int)v11;
      *(_WORD *)v6 = v10;
      v6 += 2;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(v13 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10052E46) --------------------------------------------------------
int __thiscall sub_10052E46(int this, char a2, char a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // edx@3
  int v7; // esi@4
  float v8; // ST24_4@5
  float v9; // ST1C_4@5
  char v10; // cl@5
  float v11; // ST1C_4@5
  char v12; // al@5
  float v13; // ST1C_4@5
  int v15; // [sp+1Ch] [bp-Ch]@3
  int v16; // [sp+24h] [bp-4h]@1

  v4 = 0;
  v16 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v16;
    a4 = v5;
  }
  v15 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  if ( *(_DWORD *)(v16 + 4184) > 0u )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v15 + 4 * (v4 & 3));
      v9 = *(float *)(v7 + a4) * 16.0 + *(float *)(v15 + 4 * (v4 & 3));
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 16.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 12) * 63.0 + v8;
      *(_WORD *)v6 = v10 & 0x1F | 32 * (32 * (signed int)v13 | v12 & 0x1F);
      v6 += 2;
      ++v4;
      v7 += 16;
    }
    while ( v4 < *(_DWORD *)(v16 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10052F4B) --------------------------------------------------------
int __thiscall sub_10052F4B(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edx@3
  unsigned int v6; // eax@3
  int v7; // esi@4
  float v8; // ST24_4@5
  float v9; // ST1C_4@5
  unsigned __int8 v10; // di@5
  float v11; // ST1C_4@5
  signed int v12; // ST0C_4@5
  float v13; // ST1C_4@5
  int v14; // ebx@5
  int v16; // [sp+14h] [bp-Ch]@3
  int v17; // [sp+1Ch] [bp-4h]@1

  v17 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v17;
    a4 = v4;
  }
  v16 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v6 = 0;
  if ( *(_DWORD *)(v17 + 4184) )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v16 + 4 * (v6 & 3));
      v9 = *(float *)(v7 + a4) * 128.0 + *(float *)(v16 + 4 * (v6 & 3));
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 128.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 12) * 255.0 + v8;
      BYTE3(v14) = 0;
      *(_WORD *)((char *)&v14 + 1) = (unsigned __int8)(signed int)v13;
      v7 += 16;
      LOBYTE(v14) = v12;
      *(_DWORD *)v5 = v10 | (v14 << 8);
      v5 += 4;
      ++v6;
    }
    while ( v6 < *(_DWORD *)(v17 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10053056) --------------------------------------------------------
int __thiscall sub_10053056(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edx@3
  int v6; // ecx@4
  float v7; // ST2C_4@5
  float v8; // ST24_4@5
  signed int v9; // edi@5
  float v10; // ST24_4@5
  signed int v11; // ST10_4@5
  float v12; // ST24_4@5
  signed int v13; // eax@5
  float v14; // ST24_4@5
  int v16; // [sp+24h] [bp-10h]@3
  unsigned int v17; // [sp+2Ch] [bp-8h]@3
  int v18; // [sp+30h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v18;
    a4 = v4;
  }
  v16 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v17 = 0;
  if ( *(_DWORD *)(v18 + 4184) )
  {
    v6 = 0;
    do
    {
      v7 = *(float *)(v16 + 4 * (v17 & 3));
      v8 = *(float *)(v6 + a4) * 128.0 + *(float *)(v16 + 4 * (v17 & 3));
      v9 = (signed int)v8;
      v10 = *(float *)(v6 + a4 + 4) * 128.0 + v7;
      v11 = (signed int)v10;
      v12 = *(float *)(v6 + a4 + 8) * 128.0 + v7;
      v13 = (signed int)v12;
      v14 = *(float *)(v6 + a4 + 12) * 128.0 + v7;
      *(_DWORD *)v5 = (unsigned __int8)v9 | (((unsigned __int8)v11 | ((((signed int)v14 << 8) | (unsigned __int8)v13) << 8)) << 8);
      v5 += 4;
      ++v17;
      v6 += 16;
    }
    while ( v17 < *(_DWORD *)(v18 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10053190) --------------------------------------------------------
int __thiscall sub_10053190(int this, char a2, char a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // edi@3
  int v7; // edx@3
  int v8; // esi@4
  float v9; // ST1C_4@5
  float v10; // ST14_4@5
  int v12; // [sp+1Ch] [bp-4h]@1

  v4 = 0;
  v12 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v12;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  if ( *(_DWORD *)(v12 + 4184) > 0u )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v8 + a4) * 32768.0 + *(float *)(v6 + 4 * (v4 & 3));
      v10 = *(float *)(v8 + a4 + 4) * 32768.0 + *(float *)(v6 + 4 * (v4 & 3));
      *(_DWORD *)v7 = (unsigned __int16)(signed int)v9 | ((signed int)v10 << 16);
      v7 += 4;
      ++v4;
      v8 += 16;
    }
    while ( v4 < *(_DWORD *)(v12 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10053266) --------------------------------------------------------
int __thiscall sub_10053266(int this, char a2, char a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // edx@3
  int v7; // ecx@4
  float v8; // ST24_4@5
  float v9; // ST1C_4@5
  __int16 v10; // si@5
  float v11; // ST1C_4@5
  __int16 v12; // ax@5
  float v13; // ST1C_4@5
  int v15; // [sp+1Ch] [bp-Ch]@3
  int v16; // [sp+24h] [bp-4h]@1

  v4 = 0;
  v16 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v16;
    a4 = v5;
  }
  v15 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  if ( *(_DWORD *)(v16 + 4184) > 0u )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v15 + 4 * (v4 & 3));
      v9 = *(float *)(v7 + a4) * 512.0 + *(float *)(v15 + 4 * (v4 & 3));
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 1024.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 1024.0 + v8;
      *(_DWORD *)v6 = v10 & 0x3FF | ((((signed int)v13 << 11) | v12 & 0x7FF) << 10);
      v6 += 4;
      ++v4;
      v7 += 16;
    }
    while ( v4 < *(_DWORD *)(v16 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10053370) --------------------------------------------------------
int __thiscall sub_10053370(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edx@3
  int v6; // ecx@4
  float v7; // ST2C_4@5
  float v8; // ST24_4@5
  signed int v9; // edi@5
  float v10; // ST24_4@5
  signed int v11; // ST10_4@5
  float v12; // ST24_4@5
  signed int v13; // eax@5
  float v14; // ST24_4@5
  int v16; // [sp+24h] [bp-10h]@3
  unsigned int v17; // [sp+2Ch] [bp-8h]@3
  int v18; // [sp+30h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v18;
    a4 = v4;
  }
  v16 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v17 = 0;
  if ( *(_DWORD *)(v18 + 4184) )
  {
    v6 = 0;
    do
    {
      v7 = *(float *)(v16 + 4 * (v17 & 3));
      v8 = *(float *)(v6 + a4) * 512.0 + *(float *)(v16 + 4 * (v17 & 3));
      v9 = (signed int)v8;
      v10 = *(float *)(v6 + a4 + 4) * 512.0 + v7;
      v11 = (signed int)v10;
      v12 = *(float *)(v6 + a4 + 8) * 512.0 + v7;
      v13 = (signed int)v12;
      v14 = *(float *)(v6 + a4 + 12) + *(float *)(v6 + a4 + 12) + v7;
      *(_DWORD *)v5 = v9 & 0x3FF | ((v11 & 0x3FF | ((((signed int)v14 << 10) | v13 & 0x3FF) << 10)) << 10);
      v5 += 4;
      ++v17;
      v6 += 16;
    }
    while ( v17 < *(_DWORD *)(v18 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (100534A6) --------------------------------------------------------
int __thiscall sub_100534A6(int this, char a2, char a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // esi@3
  int v7; // edx@3
  unsigned int v8; // ecx@3
  float v9; // ST14_4@4
  int v11; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v11 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v11;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v8 = 0;
  if ( *(_DWORD *)(v11 + 4184) > 0u )
  {
    do
    {
      v9 = (*(float *)(v4 + a4 + 8) * 0.072099999
          + *(float *)(v4 + a4 + 4) * 0.71539998
          + *(float *)(v4 + a4) * 0.21250001)
         * 65535.0
         + *(float *)(v6 + 4 * (v8 & 3));
      *(_WORD *)v7 = (signed int)v9;
      v7 += 2;
      ++v8;
      v4 += 16;
    }
    while ( v8 < *(_DWORD *)(v11 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (1005356D) --------------------------------------------------------
int __thiscall sub_1005356D(int this, char a2, char a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // esi@3
  int v7; // edx@3
  unsigned int v8; // ecx@3
  float v9; // ST14_4@4
  int v11; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v11 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v5 = sub_10050F2A(this, a4);
    this = v11;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v8 = 0;
  if ( *(_DWORD *)(v11 + 4184) > 0u )
  {
    do
    {
      v9 = (*(float *)(v4 + a4 + 8) * 0.072099999
          + *(float *)(v4 + a4 + 4) * 0.71539998
          + *(float *)(v4 + a4) * 0.21250001)
         * 65535.0
         + *(float *)(v6 + 4 * (v8 & 3));
      *(_WORD *)v7 = (signed int)v9;
      v7 += 2;
      ++v8;
      v4 += 16;
    }
    while ( v8 < *(_DWORD *)(v11 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10053634) --------------------------------------------------------
int __thiscall sub_10053634(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // ecx@4
  float v9; // ST18_4@5
  float v10; // ST10_4@5
  int v12; // [sp+10h] [bp-4h]@1

  v12 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v12;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v12 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = (*(float *)(v8 + a4 + 8) * 0.072099999
          + *(float *)(v8 + a4 + 4) * 0.71539998
          + *(float *)(v8 + a4) * 0.21250001)
         * 65535.0
         + *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4 + 12) * 65535.0 + *(float *)(v5 + 4 * (v7 & 3));
      *(_DWORD *)v6 = (signed int)v9 | ((signed int)v10 << 16);
      v6 += 4;
      ++v7;
      v8 += 16;
    }
    while ( v7 < *(_DWORD *)(v12 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10053722) --------------------------------------------------------
int __thiscall sub_10053722(int this, char a2, char a3, int a4)
{
  int v4; // eax@2
  int v5; // edi@3
  int v6; // edx@3
  unsigned int v7; // esi@3
  int v8; // eax@4
  float v9; // ST18_4@5
  float v10; // ST14_4@5
  float v11; // ST14_4@5
  float v12; // ST14_4@5
  int v14; // [sp+14h] [bp-4h]@1

  v14 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v14;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v7 = 0;
  if ( *(_DWORD *)(v14 + 4184) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v5 + 4 * (v7 & 3));
      v10 = *(float *)(v8 + a4 + 8) * 65535.0 + *(float *)(v5 + 4 * (v7 & 3));
      *(_WORD *)v6 = (signed int)v10;
      v11 = *(float *)(v8 + a4 + 4) * 65535.0 + v9;
      *(_WORD *)(v6 + 2) = (signed int)v11;
      v12 = *(float *)(v8 + a4) * 65535.0 + v9;
      *(_WORD *)(v6 + 4) = (signed int)v12;
      v6 += 6;
      ++v7;
      v8 += 16;
    }
    while ( v7 < *(_DWORD *)(v14 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10053811) --------------------------------------------------------
int __thiscall sub_10053811(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // esi@3
  int v6; // ecx@4
  float v7; // ST30_4@5
  float v8; // ST28_4@5
  signed int v9; // edi@5
  float v10; // ST28_4@5
  signed int v11; // ST14_4@5
  float v12; // ST28_4@5
  signed int v13; // ST10_4@5
  float v14; // ST28_4@5
  unsigned __int64 v15; // qt0@5
  int v17; // [sp+28h] [bp-10h]@3
  unsigned int v18; // [sp+30h] [bp-8h]@3
  int v19; // [sp+34h] [bp-4h]@1

  v19 = this;
  if ( *(_DWORD *)(this + 4168) )
  {
    v4 = sub_10050F2A(this, a4);
    this = v19;
    a4 = v4;
  }
  v5 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v17 = *(_DWORD *)(this + 44) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  sub_1005177D();
  v18 = 0;
  if ( *(_DWORD *)(v19 + 4184) )
  {
    v6 = 0;
    do
    {
      v7 = *(float *)(v17 + 4 * (v18 & 3));
      v8 = *(float *)(v6 + a4) * 65535.0 + *(float *)(v17 + 4 * (v18 & 3));
      v9 = (signed int)v8;
      v10 = *(float *)(v6 + a4 + 4) * 65535.0 + v7;
      v11 = (signed int)v10;
      v12 = *(float *)(v6 + a4 + 8) * 65535.0 + v7;
      v13 = (signed int)v12;
      v14 = *(float *)(v6 + a4 + 12) * 65535.0 + v7;
      v15 = v11 | ((v9 | (unsigned __int64)((signed __int64)(signed int)v14 << 16)) << 16);
      *(_DWORD *)v5 = v13 | ((_DWORD)v15 << 16);
      *(_DWORD *)(v5 + 4) = ((unsigned __int64)v13 >> 32) | (v15 >> 16);
      v5 += 8;
      ++v18;
      v6 += 16;
    }
    while ( v18 < *(_DWORD *)(v19 + 4184) );
  }
  return dword_1008540C;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (1005396D) --------------------------------------------------------
void __thiscall sub_1005396D(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // edx@1
  int i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = a4;
  for ( i = v4 + *(_DWORD *)(this + 4196); v4 < (unsigned int)i; *(float *)(v5 - 4) = 1.0 )
  {
    *(float *)v5 = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    v5 += 16;
    *(float *)(v5 - 12) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_BYTE *)v4;
    v4 += 3;
    *(float *)(v5 - 8) = (double)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v5 - 16 * *(_DWORD *)(this + 4184));
}

//----- (100539F9) --------------------------------------------------------
void __thiscall sub_100539F9(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = (double)*(_BYTE *)(v4 - 1) * 0.0039215689 )
  {
    *(float *)i = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    *(float *)(i + 4) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_DWORD *)v4 & 0xFF;
    v4 += 4;
    i += 16;
    *(float *)(i - 8) = (double)(unsigned int)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (10053A9F) --------------------------------------------------------
void __thiscall sub_10053A9F(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = 1.0 )
  {
    *(float *)i = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    *(float *)(i + 4) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_DWORD *)v4 & 0xFF;
    v4 += 4;
    i += 16;
    *(float *)(i - 8) = (double)(unsigned int)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (10053B3B) --------------------------------------------------------
void __thiscall sub_10053B3B(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // esi@1
  int v6; // eax@1
  int i; // edi@1
  unsigned int v8; // ecx@2
  int v9; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4184); v6 < (unsigned int)i; *(float *)(v4 - 4) = 1.0 )
  {
    HIWORD(v8) = 0;
    *(float *)v4 = (double)(unsigned __int16)(*(_WORD *)v6 >> 11) * 0.032258064;
    LOWORD(v8) = *(_WORD *)v6;
    v4 += 16;
    *(float *)(v4 - 12) = (double)((v8 >> 5) & 0x3F) * 0.015873017;
    v9 = *(_BYTE *)v6 & 0x1F;
    v6 += 2;
    *(float *)(v4 - 8) = (double)v9 * 0.032258064;
  }
  if ( *(_DWORD *)(v5 + 16) )
    sub_10051B6E(v5, v4 - 16 * *(_DWORD *)(v5 + 4184));
}

//----- (10053BE0) --------------------------------------------------------
void __thiscall sub_10053BE0(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // esi@1
  int v6; // eax@1
  int i; // edi@1
  unsigned int v8; // ecx@2
  int v9; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4184); v6 < (unsigned int)i; *(float *)(v4 - 4) = 1.0 )
  {
    HIWORD(v8) = 0;
    *(float *)v4 = (double)(((unsigned int)*(_WORD *)v6 >> 10) & 0x1F) * 0.032258064;
    LOWORD(v8) = *(_WORD *)v6;
    v4 += 16;
    *(float *)(v4 - 12) = (double)((v8 >> 5) & 0x1F) * 0.032258064;
    v9 = *(_BYTE *)v6 & 0x1F;
    v6 += 2;
    *(float *)(v4 - 8) = (double)v9 * 0.032258064;
  }
  if ( *(_DWORD *)(v5 + 16) )
    sub_10051B6E(v5, v4 - 16 * *(_DWORD *)(v5 + 4184));
}

//----- (10053C82) --------------------------------------------------------
void __thiscall sub_10053C82(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // esi@1
  int v6; // eax@1
  int i; // edi@1
  unsigned int v8; // ecx@2
  signed int v9; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4184); v6 < (unsigned int)i; *(float *)(v4 - 4) = (double)v9 )
  {
    HIWORD(v8) = 0;
    *(float *)v4 = (double)(((unsigned int)*(_WORD *)v6 >> 10) & 0x1F) * 0.032258064;
    LOWORD(v8) = *(_WORD *)v6;
    v4 += 16;
    *(float *)(v4 - 12) = (double)((v8 >> 5) & 0x1F) * 0.032258064;
    *(float *)(v4 - 8) = (double)(*(_BYTE *)v6 & 0x1F) * 0.032258064;
    v9 = (unsigned __int16)(*(_WORD *)v6 >> 15);
    v6 += 2;
  }
  if ( *(_DWORD *)(v5 + 16) )
    sub_10051B6E(v5, v4 - 16 * *(_DWORD *)(v5 + 4184));
}

//----- (10053D32) --------------------------------------------------------
void __thiscall sub_10053D32(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // eax@1
  int i; // edi@1
  signed int v7; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v5 + 2 * *(_DWORD *)(this + 4184); v5 < (unsigned int)i; *(float *)(v4 - 4) = (double)v7 * 0.06666667 )
  {
    *(float *)v4 = (double)(*(_BYTE *)(v5 + 1) & 0xF) * 0.06666667;
    v4 += 16;
    *(float *)(v4 - 12) = (double)((*(_BYTE *)v5 >> 4) & 0xF) * 0.06666667;
    *(float *)(v4 - 8) = (double)(*(_BYTE *)v5 & 0xF) * 0.06666667;
    v7 = (unsigned __int16)(*(_WORD *)v5 >> 12);
    v5 += 2;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v4 - 16 * *(_DWORD *)(this + 4184));
}

//----- (10053DE1) --------------------------------------------------------
void __thiscall sub_10053DE1(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // edi@1
  int i; // edx@1
  unsigned int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = (double)v7 * 0.33333334 )
  {
    *(float *)i = (double)(*(_DWORD *)v4 & 0x3FF) * 0.00097751711;
    *(float *)(i + 4) = (double)((*(_DWORD *)v4 >> 10) & 0x3FF) * 0.00097751711;
    *(float *)(i + 8) = (double)((*(_DWORD *)v4 >> 20) & 0x3FF) * 0.00097751711;
    v7 = *(_DWORD *)v4 >> 30;
    v4 += 4;
    i += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (10053EB7) --------------------------------------------------------
void __thiscall sub_10053EB7(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = 1.0 )
  {
    v7 = *(_DWORD *)v4 & 0xFFFF;
    v4 += 4;
    *(float *)i = (double)(unsigned int)v7 * 0.000015259022;
    i += 16;
    *(float *)(i - 12) = (double)*(_WORD *)(v4 - 2) * 0.000015259022;
    *(float *)(i - 8) = 1.0;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (10053F49) --------------------------------------------------------
void __thiscall sub_10053F49(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // eax@1
  int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v5 + *(_DWORD *)(this + 4184); v5 < (unsigned int)i; *(float *)(v4 - 4) = 1.0 )
  {
    *(float *)v4 = (double)(unsigned __int8)(*(_BYTE *)v5 >> 5) * 0.14285715;
    v4 += 16;
    *(float *)(v4 - 12) = (double)((*(_BYTE *)v5 >> 2) & 7) * 0.14285715;
    v7 = *(_BYTE *)v5++ & 3;
    *(float *)(v4 - 8) = (double)v7 * 0.33333334;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v4 - 16 * *(_DWORD *)(this + 4184));
}

//----- (10053FEB) --------------------------------------------------------
void __thiscall sub_10053FEB(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // edx@1
  int i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = a4;
  for ( i = v4 + *(_DWORD *)(this + 4184); v4 < (unsigned int)i; *(float *)(v5 - 4) = (double)v7 * 0.0039215689 )
  {
    *(float *)v5 = 0.0;
    v5 += 16;
    *(float *)(v5 - 12) = 0.0;
    *(float *)(v5 - 8) = 0.0;
    v7 = *(_BYTE *)v4++;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v5 - 16 * *(_DWORD *)(this + 4184));
}

//----- (1005405D) --------------------------------------------------------
void __thiscall sub_1005405D(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // eax@1
  int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v5 + 2 * *(_DWORD *)(this + 4184);
        v5 < (unsigned int)i;
        *(float *)(v4 - 4) = (double)*(_BYTE *)(v5 - 1) * 0.0039215689 )
  {
    *(float *)v4 = (double)((*(_BYTE *)v5 >> 5) & 7) * 0.14285715;
    v4 += 16;
    *(float *)(v4 - 12) = (double)((*(_BYTE *)v5 >> 2) & 7) * 0.14285715;
    v7 = *(_BYTE *)v5 & 3;
    v5 += 2;
    *(float *)(v4 - 8) = (double)v7 * 0.33333334;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v4 - 16 * *(_DWORD *)(this + 4184));
}

//----- (1005410F) --------------------------------------------------------
void __thiscall sub_1005410F(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // eax@1
  int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v5 + 2 * *(_DWORD *)(this + 4184); v5 < (unsigned int)i; *(float *)(v4 - 4) = 1.0 )
  {
    *(float *)v4 = (double)(*(_BYTE *)(v5 + 1) & 0xF) * 0.06666667;
    v4 += 16;
    *(float *)(v4 - 12) = (double)((*(_BYTE *)v5 >> 4) & 0xF) * 0.06666667;
    v7 = *(_BYTE *)v5 & 0xF;
    v5 += 2;
    *(float *)(v4 - 8) = (double)v7 * 0.06666667;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v4 - 16 * *(_DWORD *)(this + 4184));
}

//----- (100541AE) --------------------------------------------------------
void __thiscall sub_100541AE(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // edx@1
  bool v6; // cf@1
  int v7; // edx@1
  int v8; // edi@2
  int v9; // esi@2
  int v10; // [sp+8h] [bp+8h]@1
  signed int v11; // [sp+10h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 2 * *(_DWORD *)(this + 4184);
  v10 = v5;
  v6 = v4 < (unsigned int)v5;
  v7 = a4;
  if ( v6 )
  {
    do
    {
      v8 = v7;
      v7 += 16;
      v9 = this + 16 * (*(_BYTE *)v4 + 3);
      *(_DWORD *)v8 = *(_DWORD *)v9;
      v9 += 4;
      v8 += 4;
      *(_DWORD *)v8 = *(_DWORD *)v9;
      v9 += 4;
      v8 += 4;
      *(_DWORD *)v8 = *(_DWORD *)v9;
      *(_DWORD *)(v8 + 4) = *(_DWORD *)(v9 + 4);
      v11 = *(_BYTE *)(v4 + 1);
      v4 += 2;
      *(float *)(v7 - 4) = (double)v11 * 0.0039215689;
    }
    while ( v4 < (unsigned int)v10 );
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v7 - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054235) --------------------------------------------------------
void __thiscall sub_10054235(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // edx@1
  int i; // ebx@1
  int v7; // esi@2
  int v8; // edi@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(_DWORD *)v8 = *(_DWORD *)(v7 + 4) )
  {
    v7 = this + 16 * (*(_BYTE *)v4 + 3);
    *(_DWORD *)i = *(_DWORD *)v7;
    v7 += 4;
    *(_DWORD *)(i + 4) = *(_DWORD *)v7;
    v7 += 4;
    *(_DWORD *)(i + 8) = *(_DWORD *)v7;
    v8 = i + 12;
    ++v4;
    i += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054299) --------------------------------------------------------
void __thiscall sub_10054299(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // edx@1
  int i; // esi@1
  double v7; // st7@2
  signed int v8; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = a4;
  for ( i = v4 + *(_DWORD *)(this + 4184); v4 < (unsigned int)i; *(float *)(v5 - 4) = 1.0 )
  {
    v8 = *(_BYTE *)v4++;
    v7 = (double)v8 * 0.0039215689;
    *(float *)(v5 + 8) = v7;
    *(float *)(v5 + 4) = v7;
    *(float *)v5 = v7;
    v5 += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v5 - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054307) --------------------------------------------------------
void __thiscall sub_10054307(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // eax@1
  int i; // edi@1
  double v7; // st6@2
  signed int v8; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v5 + 2 * *(_DWORD *)(this + 4184);
        v5 < (unsigned int)i;
        *(float *)(v4 - 4) = (double)*(_BYTE *)(v5 - 1) * 0.0039215689 )
  {
    v8 = *(_BYTE *)v5;
    v5 += 2;
    v7 = (double)v8 * 0.0039215689;
    *(float *)(v4 + 8) = v7;
    *(float *)(v4 + 4) = v7;
    *(float *)v4 = v7;
    v4 += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v4 - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054390) --------------------------------------------------------
void __thiscall sub_10054390(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // eax@1
  int i; // edi@1
  double v7; // st6@2
  signed int v8; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v5 + *(_DWORD *)(this + 4184); v5 < (unsigned int)i; *(float *)(v4 - 4) = (double)v8 * 0.06666667 )
  {
    v7 = (double)(*(_BYTE *)v5 & 0xF) * 0.06666667;
    *(float *)(v4 + 8) = v7;
    *(float *)(v4 + 4) = v7;
    *(float *)v4 = v7;
    v8 = (unsigned __int8)(*(_BYTE *)v5++ >> 4);
    v4 += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v4 - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054419) --------------------------------------------------------
void __thiscall sub_10054419(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 2 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = 1.0 )
  {
    v7 = *(_BYTE *)v4;
    v4 += 2;
    *(float *)i = (double)v7 * 0.0078125;
    i += 16;
    *(float *)(i - 12) = (double)*(_BYTE *)(v4 - 1) * 0.0078125;
    *(float *)(i - 8) = 0.0;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (1005449B) --------------------------------------------------------
void __thiscall sub_1005449B(int this, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // esi@1
  int v6; // eax@1
  int i; // edi@1
  unsigned int v8; // ecx@2
  signed int v9; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4184); v6 < (unsigned int)i; *(float *)(v4 - 4) = (double)v9 * 0.015873017 )
  {
    v8 = *(_WORD *)v6;
    *(float *)v4 = (double)(char)((char)(8 * *(_BYTE *)v6) >> 3) * 0.0625;
    v4 += 16;
    *(float *)(v4 - 12) = (double)(char)((char)(8 * (v8 >> 5)) >> 3) * 0.0625;
    *(float *)(v4 - 8) = 0.0;
    v9 = (unsigned __int16)(*(_WORD *)v6 >> 10);
    v6 += 2;
  }
  if ( *(_DWORD *)(v5 + 16) )
    sub_10051B6E(v5, v4 - 16 * *(_DWORD *)(v5 + 4184));
}

//----- (1005454C) --------------------------------------------------------
void __thiscall sub_1005454C(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = (double)*(_BYTE *)(v4 - 2) * 0.0039215689 )
  {
    v7 = *(_BYTE *)v4;
    v4 += 4;
    *(float *)i = (double)v7 * 0.0078125;
    i += 16;
    *(float *)(i - 12) = (double)*(_BYTE *)(v4 - 3) * 0.0078125;
    *(float *)(i - 8) = 0.0;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (100545DD) --------------------------------------------------------
void __thiscall sub_100545DD(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = (double)*(_BYTE *)(v4 - 1) * 0.0078125 )
  {
    v7 = *(_BYTE *)v4;
    v4 += 4;
    *(float *)i = (double)v7 * 0.0078125;
    i += 16;
    *(float *)(i - 12) = (double)*(_BYTE *)(v4 - 3) * 0.0078125;
    *(float *)(i - 8) = (double)*(_BYTE *)(v4 - 2) * 0.0078125;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054674) --------------------------------------------------------
void __thiscall sub_10054674(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = 1.0 )
  {
    v7 = *(_WORD *)v4;
    v4 += 4;
    *(float *)i = (double)v7 * 0.000030517578;
    i += 16;
    *(float *)(i - 12) = (double)*(_WORD *)(v4 - 2) * 0.000030517578;
    *(float *)(i - 8) = 0.0;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (100546F7) --------------------------------------------------------
void __thiscall sub_100546F7(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // ebx@1
  int i; // edx@1
  __int16 v7; // si@2
  double v8; // st6@2
  signed int v9; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = 1.0 )
  {
    v7 = (signed __int16)(32 * (*(_DWORD *)v4 >> 21)) >> 5;
    v8 = (double)(signed __int16)((signed __int16)(*(_WORD *)v4 << 6) >> 6);
    v9 = (signed __int16)((signed __int16)(32 * (*(_DWORD *)v4 >> 10)) >> 5);
    v4 += 4;
    *(float *)i = v8 * 0.001953125;
    i += 16;
    *(float *)(i - 12) = (double)v9 * 0.0009765625;
    *(float *)(i - 8) = (double)v7 * 0.0009765625;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (100547B1) --------------------------------------------------------
void __thiscall sub_100547B1(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // ebx@1
  int i; // edx@1
  __int16 v7; // si@2
  signed int v8; // [sp+14h] [bp+10h]@2
  unsigned int v9; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = (double)v9 * 0.33333334 )
  {
    v7 = (signed __int16)((unsigned __int16)(*(_DWORD *)v4 >> 20) << 6) >> 6;
    v8 = (signed __int16)((signed __int16)((unsigned __int16)(*(_DWORD *)v4 >> 10) << 6) >> 6);
    *(float *)i = (double)(signed __int16)((signed __int16)(*(_WORD *)v4 << 6) >> 6) * 0.001953125;
    *(float *)(i + 4) = (double)v8 * 0.001953125;
    *(float *)(i + 8) = (double)v7 * 0.001953125;
    v9 = *(_DWORD *)v4 >> 30;
    v4 += 4;
    i += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054884) --------------------------------------------------------
void __thiscall sub_10054884(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  double v7; // st7@2
  signed int v8; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 2 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = 1.0 )
  {
    v8 = *(_WORD *)v4;
    v4 += 2;
    v7 = (double)v8 * 0.000015259022;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (100548F4) --------------------------------------------------------
void __thiscall sub_100548F4(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  double v7; // st7@2
  signed int v8; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 2 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = 1.0 )
  {
    v8 = *(_WORD *)v4;
    v4 += 2;
    v7 = (double)v8 * 0.000015259022;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054964) --------------------------------------------------------
void __thiscall sub_10054964(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int i; // edx@1
  double v7; // st6@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = v4 + 4 * *(_DWORD *)(this + 4184);
  for ( i = a4; v4 < (unsigned int)v5; *(float *)(i - 4) = (double)*(_WORD *)(v4 - 2) * 0.000015259022 )
  {
    v7 = (double)(*(_DWORD *)v4 & 0xFFFF) * 0.000015259022;
    v4 += 4;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, i - 16 * *(_DWORD *)(this + 4184));
}

//----- (100549F2) --------------------------------------------------------
void __thiscall sub_100549F2(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // edx@1
  int i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = a4;
  for ( i = v4 + *(_DWORD *)(this + 4196); v4 < (unsigned int)i; *(float *)(v5 - 4) = 1.0 )
  {
    *(float *)v5 = (double)*(_WORD *)(v4 + 4) * 0.000015259022;
    v5 += 16;
    *(float *)(v5 - 12) = (double)*(_WORD *)(v4 + 2) * 0.000015259022;
    v7 = *(_WORD *)v4;
    v4 += 6;
    *(float *)(v5 - 8) = (double)v7 * 0.000015259022;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v5 - 16 * *(_DWORD *)(this + 4184));
}

//----- (10054A7E) --------------------------------------------------------
void __thiscall sub_10054A7E(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // edi@1
  int v6; // [sp+8h] [bp-4h]@1
  int v7; // [sp+14h] [bp+8h]@1
  int v8; // [sp+1Ch] [bp+10h]@2

  v4 = *(_DWORD *)(this + 24) + a3 * *(_DWORD *)(this + 4180) + a2 * *(_DWORD *)(this + 4176);
  v5 = a4;
  v6 = this;
  v7 = v4 + 8 * *(_DWORD *)(this + 4184);
  if ( v4 < (unsigned int)(v4 + 8 * *(_DWORD *)(this + 4184)) )
  {
    do
    {
      LOBYTE(this) = 32;
      *(float *)v5 = (double)(unsigned __int16)unknown_libname_6(this, *(_DWORD *)(v4 + 4)) * 0.000015259022;
      this = *(_DWORD *)(v4 + 4) >> 16;
      *(float *)(v5 + 4) = (double)((*(_QWORD *)v4 >> 16) & 0xFFFF) * 0.000015259022;
      v8 = *(_DWORD *)v4 & 0xFFFF;
      v4 += 8;
      v5 += 16;
      *(float *)(v5 - 8) = (double)(unsigned int)v8 * 0.000015259022;
      *(float *)(v5 - 4) = (double)*(_WORD *)(v4 - 2) * 0.000015259022;
    }
    while ( v4 < (unsigned int)v7 );
    this = v6;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_10051B6E(this, v5 - 16 * *(_DWORD *)(this + 4184));
}
// 1006C590: using guessed type int __fastcall unknown_libname_6(_DWORD, _DWORD);

//----- (10054B5E) --------------------------------------------------------
void *__thiscall sub_10054B5E(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x18u, 1);
  *(_DWORD *)v2 = &off_100746FC;
  return v2;
}
// 100746FC: using guessed type int (__stdcall *off_100746FC)(char);

//----- (10054B7A) --------------------------------------------------------
void *__thiscall sub_10054B7A(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // ecx@1
  int v4; // ebx@1
  int v5; // eax@1
  int v6; // eax@2
  int v8; // [sp+4h] [bp-10h]@1

  v2 = this;
  sub_100517BF(this, a2, 0, 1);
  v3 = *((_DWORD *)v2 + 1036) & 0xFFFFFFFE;
  v4 = ((*((_DWORD *)v2 + 1038) + 1) & 0xFFFFFFFE) - v3;
  *((_DWORD *)v2 + 1054) = (*((_DWORD *)v2 + 1038) + 1) & 0xFFFFFFFE;
  *(_DWORD *)v2 = &off_1007470C;
  *((_DWORD *)v2 + 1052) = v3;
  *((_DWORD *)v2 + 1053) = 0;
  *((_DWORD *)v2 + 1056) = 0;
  *((_DWORD *)v2 + 1055) = 0;
  *((_DWORD *)v2 + 1057) = 0;
  *((_DWORD *)v2 + 1058) = v4;
  *((_DWORD *)v2 + 1059) = 0;
  *((_DWORD *)v2 + 1060) = 1;
  v5 = sub_100015F0(16 * v4);
  v8 = v5;
  if ( v5 )
  {
    sub_10001650(v5, 16, v4, (int (__thiscall *)(_DWORD))sub_1003CAF6);
    v6 = v8;
  }
  else
  {
    v6 = 0;
  }
  *((_DWORD *)v2 + 1051) = v6;
  if ( !v6 )
    *((_DWORD *)v2 + 1060) = 0;
  if ( *(_DWORD *)(a2 + 4) == 1498831189 )
  {
    *((_DWORD *)v2 + 1061) = 8;
    *((_DWORD *)v2 + 1062) = 0;
  }
  else
  {
    *((_DWORD *)v2 + 1061) = 0;
    *((_DWORD *)v2 + 1062) = 8;
  }
  return v2;
}
// 1007470C: using guessed type int (__stdcall *off_1007470C)(char);

//----- (10054C72) --------------------------------------------------------
int __thiscall sub_10054C72(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10054C8E();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10054C8E: using guessed type int sub_10054C8E(void);

//----- (10054C93) --------------------------------------------------------
void *__thiscall sub_10054C93(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_1007471C;
  return v2;
}
// 1007471C: using guessed type int (__stdcall *off_1007471C)(char);

//----- (10054CAF) --------------------------------------------------------
int __thiscall sub_10054CAF(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10054CCB();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10054CCB: using guessed type int sub_10054CCB(void);

//----- (10054CD0) --------------------------------------------------------
void *__thiscall sub_10054CD0(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_1007472C;
  return v2;
}
// 1007472C: using guessed type int (__stdcall *off_1007472C)(char);

//----- (10054CEC) --------------------------------------------------------
int __thiscall sub_10054CEC(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10054D08();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10054D08: using guessed type int sub_10054D08(void);

//----- (10054D0D) --------------------------------------------------------
void *__thiscall sub_10054D0D(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_1007473C;
  return v2;
}
// 1007473C: using guessed type int (__stdcall *off_1007473C)(char);

//----- (10054D29) --------------------------------------------------------
int __fastcall sub_10054D29(int a1)
{
  unsigned int v1; // edx@3
  int v2; // eax@3
  float v3; // ST20_4@4
  float v4; // ST18_4@4
  float v5; // ST10_4@4
  float v6; // ST28_4@4
  int v7; // edx@4
  float v8; // ST20_4@4
  int v9; // esi@4
  float v10; // ST18_4@4
  int v11; // ebx@4
  float v12; // ST10_4@4
  int v13; // edi@4
  int v15; // [sp+20h] [bp-Ch]@3
  unsigned int v16; // [sp+24h] [bp-8h]@3
  int v17; // [sp+28h] [bp-4h]@1

  v17 = a1;
  if ( *(_DWORD *)(a1 + 4236) && *(_DWORD *)(a1 + 4240) )
  {
    v1 = *(_DWORD *)(a1 + 4208);
    v15 = *(_DWORD *)(a1 + 24)
        + *(_DWORD *)(a1 + 4176) * *(_DWORD *)(a1 + 4212)
        + *(_DWORD *)(a1 + 4180) * *(_DWORD *)(a1 + 4224)
        + 2 * v1;
    v2 = *(_DWORD *)(a1 + 4204);
    v16 = *(_DWORD *)(a1 + 4208);
    if ( v1 < *(_DWORD *)(a1 + 4216) )
    {
      do
      {
        v3 = *(float *)(v2 + 16) * 65.481003 + *(float *)(v2 + 24) * 24.966 + *(float *)(v2 + 20) * 128.55299;
        v4 = *(float *)(v2 + 8) * 112.0 - *(float *)(v2 + 4) * 74.203003 - *(float *)v2 * 37.797001;
        v5 = *(float *)v2 * 112.0 - (*(float *)(v2 + 4) * 93.786003 + *(float *)(v2 + 8) * 18.214001);
        v6 = *(float *)v2 * 65.481003 + *(float *)(v2 + 4) * 128.55299 + *(float *)(v2 + 8) * 24.966 + 0.5;
        v7 = (signed int)v6 + 16;
        v8 = v3 + 0.5;
        v9 = (signed int)v8 + 16;
        v10 = v4 + 0.5;
        v11 = (signed int)v10 + 128;
        v12 = v5 + 0.5;
        v13 = (signed int)v12 + 128;
        if ( v7 >= 0 )
        {
          if ( v7 > 255 )
            v7 = 255;
        }
        else
        {
          v7 = 0;
        }
        if ( v9 >= 0 )
        {
          if ( v9 > 255 )
            LOWORD(v9) = 255;
        }
        else
        {
          LOWORD(v9) = 0;
        }
        if ( v11 >= 0 )
        {
          if ( v11 > 255 )
            v11 = 255;
        }
        else
        {
          v11 = 0;
        }
        if ( v13 >= 0 )
        {
          if ( v13 > 255 )
            LOWORD(v13) = 255;
        }
        else
        {
          LOWORD(v13) = 0;
        }
        v16 += 2;
        v2 += 32;
        *(_WORD *)v15 = (v11 << *(_DWORD *)(v17 + 4248)) | (v7 << *(_DWORD *)(v17 + 4244));
        v15 += 4;
        *(_WORD *)(v15 - 2) = ((_WORD)v13 << *(_DWORD *)(v17 + 4248)) | ((_WORD)v9 << *(_DWORD *)(v17 + 4244));
        a1 = v17;
      }
      while ( v16 < *(_DWORD *)(v17 + 4216) );
    }
    *(_DWORD *)(a1 + 4236) = 0;
  }
  return 0;
}

//----- (10054F15) --------------------------------------------------------
int __thiscall sub_10054F15(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10054F31();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10054F31: using guessed type int sub_10054F31(void);

//----- (10054F36) --------------------------------------------------------
void *__thiscall sub_10054F36(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_1007476C;
  return v2;
}
// 1007476C: using guessed type int (__stdcall *off_1007476C)(char);

//----- (10054F52) --------------------------------------------------------
int __thiscall sub_10054F52(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10054F6E();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10054F6E: using guessed type int sub_10054F6E(void);

//----- (10054F73) --------------------------------------------------------
void *__thiscall sub_10054F73(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_1007477C;
  return v2;
}
// 1007477C: using guessed type int (__stdcall *off_1007477C)(char);

//----- (10054F8F) --------------------------------------------------------
int __thiscall sub_10054F8F(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10054FAB();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10054FAB: using guessed type int sub_10054FAB(void);

//----- (10054FB0) --------------------------------------------------------
int __thiscall sub_10054FB0(int this, unsigned int a2, unsigned int a3, int a4)
{
  int v4; // esi@1
  int result; // eax@2
  unsigned int v6; // eax@9
  int v7; // ecx@9
  int v9; // ebx@9
  unsigned __int16 v10; // ax@11
  __int16 v11; // bx@11
  int v13; // ebx@11
  int v30; // [sp+18h] [bp+8h]@9
  int v31; // [sp+18h] [bp+8h]@11
  int v32; // [sp+18h] [bp+8h]@11
  int v37; // [sp+1Ch] [bp+Ch]@11
  int v38; // [sp+1Ch] [bp+Ch]@11
  int v39; // [sp+1Ch] [bp+Ch]@11
  unsigned int v43; // [sp+20h] [bp+10h]@9

  v4 = this;
  if ( !*(_DWORD *)(this + 4240) )
    return -2147024882;
  if ( a2 < *(_DWORD *)(this + 4212)
    || a2 >= *(_DWORD *)(this + 4220)
    || a3 < *(_DWORD *)(this + 4224)
    || a3 >= *(_DWORD *)(this + 4228) )
  {
    result = sub_10054D29(this);
    if ( result < 0 )
      return result;
    *(_DWORD *)(v4 + 4220) = a2 + 1;
    *(_DWORD *)(v4 + 4212) = a2;
    *(_DWORD *)(v4 + 4224) = a3;
    *(_DWORD *)(v4 + 4228) = a3 + 1;
    if ( a4 )
    {
      v6 = *(_DWORD *)(v4 + 4208);
      v7 = a3 * *(_DWORD *)(v4 + 4180) + a2 * *(_DWORD *)(v4 + 4176);
      _EDX = *(_DWORD *)(v4 + 4204);
      v9 = *(_DWORD *)(v4 + 24) + v7 + 2 * v6;
      v30 = *(_DWORD *)(v4 + 24) + v7 + 2 * v6;
      v43 = *(_DWORD *)(v4 + 4208);
      if ( v6 < *(_DWORD *)(v4 + 4216) )
      {
        __asm
        {
          fld     ds:dword_1006FF00
          fld     ds:dword_1006F9A0
          fld     ds:flt_100746C0
        }
        do
        {
          v10 = *(_WORD *)v9;
          v11 = *(_WORD *)v9 >> *(_WORD *)(v4 + 4244);
          LOWORD(_EAX) = v10 >> *(_WORD *)(v4 + 4248);
          v37 = (unsigned __int8)v11;
          __asm { fild    [ebp+arg_4] }
          v13 = v30;
          v38 = (unsigned __int8)_EAX;
          __asm { fsub    st, st(1) }
          _EAX = (unsigned __int16)_EAX;
          LOWORD(_EAX) = *(_WORD *)(v30 + 2);
          __asm
          {
            fstp    [ebp+var_8]
            fild    [ebp+arg_4]
            fsub    ds:flt_100746BC
          }
          v39 = _EAX;
          LOWORD(_EAX) = (unsigned __int16)_EAX >> *(_WORD *)(v4 + 4244);
          __asm { fstp    [ebp+var_4] }
          v31 = (unsigned __int8)_EAX;
          __asm { fild    [ebp+arg_0] }
          LOWORD(_EAX) = (unsigned __int16)v39 >> *(_WORD *)(v4 + 4248);
          __asm { fsub    st, st(1) }
          v32 = (unsigned __int8)_EAX;
          __asm
          {
            fild    [ebp+arg_0]
            fsub    ds:flt_100746BC
            fst     [ebp+arg_4]
            fmul    ds:flt_1007479C
            fld     [ebp+var_8]
            fmul    ds:flt_10074798
            fst     [ebp+arg_0]
            fadd    st, st(1)
            fst     dword ptr [edx]
            fld     [ebp+var_4]
            fmul    ds:flt_10074794
            fstp    [ebp+var_8]
            fld     [ebp+arg_4]
            fmul    ds:flt_10074790
            fst     [ebp+var_C]
            fld     [ebp+arg_0]
            fsub    [ebp+var_8]
            fsub    st, st(1)
            fst     [ebp+arg_4]
            fstp    st(1)
            fstp    dword ptr [edx+4]
            fld     [ebp+var_4]
            fmul    ds:flt_1007478C
            fst     [ebp+var_4]
            fadd    [ebp+arg_0]
            fst     [ebp+arg_0]
            fstp    dword ptr [edx+8]
            fld1
            fstp    dword ptr [edx+0Ch]
            fcom    st(5)
            fnstsw  ax
          }
          if ( __SETP__(BYTE1(_EAX) & 5, 0) )
          {
            __asm
            {
              fcom    st(4)
              fnstsw  ax
            }
            if ( !(HIBYTE(_AX) & 0x41) )
            {
              __asm
              {
                fstp    st
                fld1
              }
            }
          }
          else
          {
            __asm
            {
              fstp    st
              fldz
            }
          }
          __asm
          {
            fstp    dword ptr [edx]
            fld     [ebp+arg_4]
            fcomp   st(5)
            fnstsw  ax
          }
          if ( __SETP__(HIBYTE(_AX) & 5, 0) )
          {
            __asm
            {
              fld     [ebp+arg_4]
              fcomp   st(4)
              fnstsw  ax
            }
            if ( HIBYTE(_AX) & 0x41 )
              __asm { fld     [ebp+arg_4] }
            else
              __asm { fld1 }
          }
          else
          {
            __asm { fldz }
          }
          __asm
          {
            fstp    dword ptr [edx+4]
            fld     [ebp+arg_0]
            fcomp   st(5)
            fnstsw  ax
          }
          if ( __SETP__(HIBYTE(_AX) & 5, 0) )
          {
            __asm
            {
              fld     [ebp+arg_0]
              fcomp   st(4)
              fnstsw  ax
            }
            if ( HIBYTE(_AX) & 0x41 )
              __asm { fld     [ebp+arg_0] }
            else
              __asm { fld1 }
          }
          else
          {
            __asm { fldz }
          }
          __asm
          {
            fstp    dword ptr [edx+8]
            fld     st(1)
            fmul    ds:flt_10074798
            fst     [ebp+arg_0]
            fadd    st, st(1)
            fstp    st(2)
            fstp    st
            fst     dword ptr [edx+10h]
            fld     [ebp+arg_0]
            fsub    [ebp+var_8]
            fsub    [ebp+var_C]
            fst     [ebp+arg_4]
            fstp    dword ptr [edx+14h]
            fld     [ebp+arg_0]
            fadd    [ebp+var_4]
            fst     [ebp+arg_0]
            fstp    dword ptr [edx+18h]
            fld1
            fstp    dword ptr [edx+1Ch]
            fcom    st(3)
            fnstsw  ax
          }
          if ( __SETP__(HIBYTE(_AX) & 5, 0) )
          {
            __asm
            {
              fcom    st(2)
              fnstsw  ax
            }
            if ( !(HIBYTE(_AX) & 0x41) )
            {
              __asm
              {
                fstp    st
                fld1
              }
            }
          }
          else
          {
            __asm
            {
              fstp    st
              fldz
            }
          }
          __asm
          {
            fstp    dword ptr [edx+10h]
            fld     [ebp+arg_4]
            fcomp   st(3)
            fnstsw  ax
          }
          if ( __SETP__(HIBYTE(_AX) & 5, 0) )
          {
            __asm
            {
              fld     [ebp+arg_4]
              fcomp   st(2)
              fnstsw  ax
            }
            if ( HIBYTE(_AX) & 0x41 )
              __asm { fld     [ebp+arg_4] }
            else
              __asm { fld1 }
          }
          else
          {
            __asm { fldz }
          }
          __asm
          {
            fstp    dword ptr [edx+14h]
            fld     [ebp+arg_0]
            fcomp   st(3)
            fnstsw  ax
          }
          if ( __SETP__(HIBYTE(_AX) & 5, 0) )
          {
            __asm
            {
              fld     [ebp+arg_0]
              fcomp   st(2)
              fnstsw  ax
            }
            if ( HIBYTE(_AX) & 0x41 )
              __asm { fld     [ebp+arg_0] }
            else
              __asm { fld1 }
          }
          else
          {
            __asm { fldz }
          }
          v43 += 2;
          __asm { fstp    dword ptr [edx+18h] }
          v9 = v13 + 4;
          _EDX += 32;
          v30 = v9;
        }
        while ( v43 < *(_DWORD *)(v4 + 4216) );
        __asm
        {
          fstp    st
          fstp    st
          fstp    st
        }
      }
    }
  }
  return 0;
}
// 10055067: inconsistent fpu stack

//----- (10055281) --------------------------------------------------------
void *__thiscall sub_10055281(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_100747A0;
  return v2;
}
// 100747A0: using guessed type int (__stdcall *off_100747A0)(char);

//----- (1005529D) --------------------------------------------------------
int __thiscall sub_1005529D(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_100552B9();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 100552B9: using guessed type int sub_100552B9(void);

//----- (100552BE) --------------------------------------------------------
void *__thiscall sub_100552BE(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_100747B0;
  return v2;
}
// 100747B0: using guessed type int (__stdcall *off_100747B0)(char);

//----- (100552DA) --------------------------------------------------------
int __thiscall sub_100552DA(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_100552F6();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 100552F6: using guessed type int sub_100552F6(void);

//----- (100552FB) --------------------------------------------------------
void *__thiscall sub_100552FB(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_100747C0;
  return v2;
}
// 100747C0: using guessed type int (__stdcall *off_100747C0)(char);

//----- (10055317) --------------------------------------------------------
int __thiscall sub_10055317(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055333();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055333: using guessed type int sub_10055333(void);

//----- (10055338) --------------------------------------------------------
void *__thiscall sub_10055338(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_100747D0;
  return v2;
}
// 100747D0: using guessed type int (__stdcall *off_100747D0)(char);

//----- (10055354) --------------------------------------------------------
int __thiscall sub_10055354(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055370();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055370: using guessed type int sub_10055370(void);

//----- (10055375) --------------------------------------------------------
void *__thiscall sub_10055375(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_100747E0;
  return v2;
}
// 100747E0: using guessed type int (__stdcall *off_100747E0)(char);

//----- (10055391) --------------------------------------------------------
int __thiscall sub_10055391(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_100553AD();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 100553AD: using guessed type int sub_100553AD(void);

//----- (100553B2) --------------------------------------------------------
int __thiscall sub_100553B2(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  int result; // eax@3

  v4 = this;
  if ( *(_DWORD *)(this + 4168) )
    a4 = sub_10050F2A(this, a4);
  result = sub_10054FB0(
             v4,
             *(_DWORD *)(v4 + 4148) + a2,
             *(_DWORD *)(v4 + 4160) + a3,
             *(_DWORD *)(v4 + 4232) != *(_DWORD *)(v4 + 4184));
  if ( result >= 0 )
  {
    result = 16 * *(_DWORD *)(v4 + 4184);
    memcpy(
      (void *)(*(_DWORD *)(v4 + 4204) + 16 * (*(_DWORD *)(v4 + 4144) - *(_DWORD *)(v4 + 4208))),
      (const void *)a4,
      result);
    *(_DWORD *)(v4 + 4236) = 1;
  }
  return result;
}

//----- (1005543F) --------------------------------------------------------
void *__thiscall sub_1005543F(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_100747F0;
  return v2;
}
// 100747F0: using guessed type int (__stdcall *off_100747F0)(char);

//----- (1005545B) --------------------------------------------------------
int __thiscall sub_1005545B(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055477();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055477: using guessed type int sub_10055477(void);

//----- (1005547C) --------------------------------------------------------
void __thiscall sub_1005547C(int this, int a2, int a3, void *a4)
{
  int v4; // ebx@1

  v4 = this;
  if ( sub_10054FB0(this, *(_DWORD *)(this + 4148) + a2, *(_DWORD *)(this + 4160) + a3, 1) >= 0 )
  {
    memcpy(
      a4,
      (const void *)(*(_DWORD *)(v4 + 4204) + 16 * (*(_DWORD *)(v4 + 4144) - *(_DWORD *)(v4 + 4208))),
      16 * *(_DWORD *)(v4 + 4184));
    if ( *(_DWORD *)(v4 + 16) )
      sub_10051B6E(v4, (unsigned int)a4);
  }
}

//----- (100554EB) --------------------------------------------------------
void *__thiscall sub_100554EB(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_10074800;
  return v2;
}
// 10074800: using guessed type int (__stdcall *off_10074800)(char);

//----- (10055507) --------------------------------------------------------
int __thiscall sub_10055507(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055523();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055523: using guessed type int sub_10055523(void);

//----- (10055528) --------------------------------------------------------
void *__thiscall sub_10055528(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // eax@13
  int v4; // eax@15
  int v5; // eax@25
  int v6; // edi@25
  int v7; // ecx@25
  int v8; // ebx@25
  int v9; // eax@25
  int v10; // ecx@25
  int v11; // edx@25
  int v12; // edx@25

  v2 = this;
  sub_100517BF(this, a2, 0, 1);
  *(_DWORD *)v2 = &off_10074694;
  if ( *(_DWORD *)(a2 + 24) == 1 )
  {
    *((_DWORD *)v2 + 1054) = 0;
  }
  else
  {
    if ( *(_DWORD *)(a2 + 24) == 2 )
      *((_DWORD *)v2 + 1054) = 1;
    else
      *((_DWORD *)v2 + 1054) = 3;
  }
  if ( *(_DWORD *)(a2 + 28) == 1 )
  {
    *((_DWORD *)v2 + 1055) = 0;
  }
  else
  {
    if ( *(_DWORD *)(a2 + 28) == 2 )
      *((_DWORD *)v2 + 1055) = 1;
    else
      *((_DWORD *)v2 + 1055) = 3;
  }
  v3 = *((_DWORD *)v2 + 1054) != 3 || *((_DWORD *)v2 + 1055) != 3;
  *((_DWORD *)v2 + 1053) = v3;
  v4 = *((_DWORD *)v2 + 1);
  switch ( v4 )
  {
    case 827611204:
      *((_DWORD *)v2 + 1056) = 8;
      *((_DWORD *)v2 + 1058) = sub_1005EA6A;
      *((_DWORD *)v2 + 1057) = sub_1005E76D;
      break;
    case 844388420:
      *((_DWORD *)v2 + 1056) = 16;
      *((_DWORD *)v2 + 1058) = sub_1005F02E;
      *((_DWORD *)v2 + 1057) = sub_1005EFE8;
      break;
    case 861165636:
      *((_DWORD *)v2 + 1056) = 16;
      *((_DWORD *)v2 + 1058) = sub_1005EA82;
      *((_DWORD *)v2 + 1057) = sub_1005E8AB;
      break;
    case 877942852:
      *((_DWORD *)v2 + 1056) = 16;
      *((_DWORD *)v2 + 1058) = sub_1005F062;
      *((_DWORD *)v2 + 1057) = sub_1005F00B;
      break;
    case 894720068:
      *((_DWORD *)v2 + 1056) = 16;
      *((_DWORD *)v2 + 1058) = sub_1005EB96;
      *((_DWORD *)v2 + 1057) = sub_1005E92E;
      break;
  }
  v5 = *((_DWORD *)v2 + 1040);
  v6 = *((_DWORD *)v2 + 1036);
  v7 = *((_DWORD *)v2 + 1039);
  v8 = *((_DWORD *)v2 + 1037);
  *((_DWORD *)v2 + 1068) = -1;
  *((_DWORD *)v2 + 1069) = -1;
  *((_DWORD *)v2 + 1063) = v5;
  v9 = (*((_DWORD *)v2 + 1038) + 3) & 0xFFFFFFFC;
  v6 &= 0xFFFFFFFCu;
  *((_DWORD *)v2 + 1061) = v9;
  v8 &= 0xFFFFFFFCu;
  v10 = (v7 + 3) & 0xFFFFFFFC;
  v11 = *((_DWORD *)v2 + 1041);
  *((_DWORD *)v2 + 1062) = v10;
  *((_DWORD *)v2 + 1065) = (unsigned int)(v9 - v6) >> 2;
  *((_DWORD *)v2 + 1064) = v11;
  v12 = v11 - *((_DWORD *)v2 + 1040);
  *((_DWORD *)v2 + 1059) = v6;
  *((_DWORD *)v2 + 1070) = 0;
  *((_DWORD *)v2 + 1071) = 0;
  *((_DWORD *)v2 + 1072) = 0;
  *((_DWORD *)v2 + 1060) = v8;
  *((_DWORD *)v2 + 1066) = (unsigned int)(v10 - v8) >> 2;
  *((_DWORD *)v2 + 1067) = v12;
  return v2;
}
// 1005F00B: using guessed type int sub_1005F00B();
// 10074694: using guessed type int (__stdcall *off_10074694)(char);

//----- (1005571A) --------------------------------------------------------
void *__thiscall sub_1005571A(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_10074810;
  return v2;
}
// 10074810: using guessed type int (__stdcall *off_10074810)(char);

//----- (10055736) --------------------------------------------------------
int __thiscall sub_10055736(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055752();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055752: using guessed type int sub_10055752(void);

//----- (10055757) --------------------------------------------------------
void *__thiscall sub_10055757(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_10074820;
  return v2;
}
// 10074820: using guessed type int (__stdcall *off_10074820)(char);

//----- (10055773) --------------------------------------------------------
int __thiscall sub_10055773(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_1005578F();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 1005578F: using guessed type int sub_1005578F(void);

//----- (10055794) --------------------------------------------------------
void *__thiscall sub_10055794(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_10074830;
  return v2;
}
// 10074830: using guessed type int (__stdcall *off_10074830)(char);

//----- (100557B0) --------------------------------------------------------
int __thiscall sub_100557B0(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_100557CC();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 100557CC: using guessed type int sub_100557CC(void);

//----- (100557D1) --------------------------------------------------------
void *__thiscall sub_100557D1(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_10074840;
  return v2;
}
// 10074840: using guessed type int (__stdcall *off_10074840)(char);

//----- (100557ED) --------------------------------------------------------
int __thiscall sub_100557ED(int this, char a2)
{
  int v2; // esi@1

  v2 = this;
  sub_100512E3(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (10055809) --------------------------------------------------------
int __thiscall sub_10055809(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055825();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055825: using guessed type int sub_10055825(void);

//----- (1005582A) --------------------------------------------------------
void *__thiscall sub_1005582A(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_10074850;
  return v2;
}
// 10074850: using guessed type int (__stdcall *off_10074850)(char);

//----- (10055846) --------------------------------------------------------
int __thiscall sub_10055846(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055862();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055862: using guessed type int sub_10055862(void);

//----- (10055867) --------------------------------------------------------
int __thiscall sub_10055867(int this)
{
  int v1; // eax@1
  double v2; // st7@3
  float v3; // ST04_4@5
  float v4; // ST00_4@5
  float v5; // ST00_4@5
  float v6; // ST00_4@5
  int result; // eax@5

  v1 = *(_DWORD *)(this + 4);
  if ( v1 == 844388420 || v1 == 861165636 )
    v2 = 15.0;
  else
    v2 = 255.0;
  *(float *)(this + 4204) = v2;
  *(float *)(this + 4208) = 1.0 / *(float *)(this + 4204);
  v3 = *(float *)(this + 28) * 31.0 + 0.5;
  *(float *)(this + 28) = (double)(signed int)v3 * 0.032258064;
  v4 = *(float *)(this + 32) * 63.0 + 0.5;
  *(float *)(this + 32) = (double)(signed int)v4 * 0.015873017;
  v5 = *(float *)(this + 36) * 31.0 + 0.5;
  *(float *)(this + 36) = (double)(signed int)v5 * 0.032258064;
  v6 = *(float *)(this + 4204) * *(float *)(this + 40) + 0.5;
  result = this;
  *(float *)(this + 40) = (double)(signed int)v6 * *(float *)(this + 4208);
  return result;
}

//----- (10055968) --------------------------------------------------------
void *__thiscall sub_10055968(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 2);
  *(_DWORD *)v2 = &off_10074860;
  return v2;
}
// 10074860: using guessed type int (__stdcall *off_10074860)(char);

//----- (10055984) --------------------------------------------------------
int __thiscall sub_10055984(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_100559A0();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 100559A0: using guessed type int sub_100559A0(void);

//----- (100559A5) --------------------------------------------------------
void *__thiscall sub_100559A5(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 2);
  *(_DWORD *)v2 = &off_10074870;
  return v2;
}
// 10074870: using guessed type int (__stdcall *off_10074870)(char);

//----- (100559C1) --------------------------------------------------------
int __thiscall sub_100559C1(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_100559DD();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 100559DD: using guessed type int sub_100559DD(void);

//----- (100559E2) --------------------------------------------------------
void *__thiscall sub_100559E2(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_10074880;
  return v2;
}
// 10074880: using guessed type int (__stdcall *off_10074880)(char);

//----- (100559FE) --------------------------------------------------------
int __thiscall sub_100559FE(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055A1A();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055A1A: using guessed type int sub_10055A1A(void);

//----- (10055A1F) --------------------------------------------------------
void *__thiscall sub_10055A1F(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 3);
  *(_DWORD *)v2 = &off_10074890;
  return v2;
}
// 10074890: using guessed type int (__stdcall *off_10074890)(char);

//----- (10055A3B) --------------------------------------------------------
int __thiscall sub_10055A3B(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055A57();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055A57: using guessed type int sub_10055A57(void);

//----- (10055A5C) --------------------------------------------------------
void *__thiscall sub_10055A5C(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_100748A0;
  return v2;
}
// 100748A0: using guessed type int (__stdcall *off_100748A0)(char);

//----- (10055A78) --------------------------------------------------------
int __thiscall sub_10055A78(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055A94();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055A94: using guessed type int sub_10055A94(void);

//----- (10055A99) --------------------------------------------------------
void *__thiscall sub_10055A99(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_100748B0;
  return v2;
}
// 100748B0: using guessed type int (__stdcall *off_100748B0)(char);

//----- (10055AB5) --------------------------------------------------------
int __thiscall sub_10055AB5(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055AD1();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055AD1: using guessed type int sub_10055AD1(void);

//----- (10055AD6) --------------------------------------------------------
void *__thiscall sub_10055AD6(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_100748C0;
  return v2;
}
// 100748C0: using guessed type int (__stdcall *off_100748C0)(char);

//----- (10055AF2) --------------------------------------------------------
int __thiscall sub_10055AF2(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055B0E();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055B0E: using guessed type int sub_10055B0E(void);

//----- (10055B13) --------------------------------------------------------
void *__thiscall sub_10055B13(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_100748D0;
  return v2;
}
// 100748D0: using guessed type int (__stdcall *off_100748D0)(char);

//----- (10055B2F) --------------------------------------------------------
int __thiscall sub_10055B2F(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055B4B();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055B4B: using guessed type int sub_10055B4B(void);

//----- (10055B50) --------------------------------------------------------
void *__thiscall sub_10055B50(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_100748E0;
  return v2;
}
// 100748E0: using guessed type int (__stdcall *off_100748E0)(char);

//----- (10055B6C) --------------------------------------------------------
int __thiscall sub_10055B6C(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055B88();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055B88: using guessed type int sub_10055B88(void);

//----- (10055B8D) --------------------------------------------------------
int __thiscall sub_10055B8D(int this, int a2, int a3, unsigned int a4)
{
  int v4; // esi@2
  int v5; // eax@2
  int v6; // edi@2
  int result; // eax@5
  unsigned int v8; // edi@9
  int v9; // ebx@9
  int v10; // esi@9
  int v11; // ebx@12
  int v12; // edx@12
  int v13; // esi@14
  unsigned int v14; // edx@16
  float v15; // ST48_4@17
  float v16; // ST28_4@17
  float v17; // ST48_4@18
  float v18; // ST2C_4@18
  float v19; // ST48_4@19
  float v20; // ST30_4@19
  float v21; // ST48_4@20
  int v22; // [sp+3Ch] [bp-10h]@1
  int v23; // [sp+54h] [bp+8h]@1
  int v24; // [sp+58h] [bp+Ch]@1

  v22 = this;
  v23 = *(_DWORD *)(this + 4148) + a2;
  v24 = *(_DWORD *)(this + 4160) + a3;
  if ( !*(_DWORD *)(this + 4280) )
  {
    v4 = 16 * *(_DWORD *)(this + 4260);
    v5 = sub_100015F0(*(_DWORD *)(this + 4260) << 8);
    v6 = v5;
    if ( v5 )
      sub_10001650(v5, 16, v4, (int (__thiscall *)(_DWORD))sub_1003CAF6);
    else
      v6 = 0;
    result = v22;
    *(_DWORD *)(v22 + 4280) = v6;
    if ( !v6 )
      return result;
    this = v22;
  }
  if ( (v23 & 0xFFFFFFFC) != *(_DWORD *)(this + 4272) || v24 != *(_DWORD *)(this + 4276) )
  {
    *(_DWORD *)(this + 4272) = v23 & 0xFFFFFFFC;
    *(_DWORD *)(v22 + 4276) = v24;
    this = v22;
    v8 = *(_DWORD *)(v22 + 4236);
    v9 = *(_DWORD *)(v22 + 4280);
    v10 = *(_DWORD *)(v22 + 24)
        + *(_DWORD *)(v22 + 4180) * *(_DWORD *)(v22 + 4276)
        + *(_DWORD *)(v22 + 4224) * (*(_DWORD *)(v22 + 4236) >> 2)
        + *(_DWORD *)(v22 + 4176) * (*(_DWORD *)(v22 + 4272) >> 2);
    while ( v8 < *(_DWORD *)(this + 4244) )
    {
      (*(void (__cdecl **)(int, int))(this + 4228))(v9, v10);
      this = v22;
      v10 += *(_DWORD *)(v22 + 4224);
      v9 += 256;
      v8 += 4;
    }
  }
  result = *(_DWORD *)(this + 4144) - *(_DWORD *)(this + 4236);
  v11 = (v23 - *(_DWORD *)(this + 4240)) & 3;
  v12 = result + *(_DWORD *)(this + 4184);
  while ( result < (unsigned int)v12 )
  {
    v13 = *(_DWORD *)(this + 4280) + 16 * (result & 3 | 4 * (v11 | result & 0xFFFFFFFC));
    *(_DWORD *)a4 = *(_DWORD *)v13;
    v13 += 4;
    *(_DWORD *)(a4 + 4) = *(_DWORD *)v13;
    v13 += 4;
    *(_DWORD *)(a4 + 8) = *(_DWORD *)v13;
    *(_DWORD *)(a4 + 12) = *(_DWORD *)(v13 + 4);
    a4 += 16;
    this = v22;
    ++result;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    sub_1005177D();
    while ( a4 < v14 )
    {
      v15 = *(float *)a4 * 31.0 + 0.5;
      v16 = (double)(signed int)v15 * 0.032258064;
      if ( v16 == *(float *)(v22 + 28) )
      {
        v17 = *(float *)(a4 + 4) * 63.0 + 0.5;
        v18 = (double)(signed int)v17 * 0.015873017;
        if ( v18 == *(float *)(v22 + 32) )
        {
          v19 = *(float *)(a4 + 8) * 31.0 + 0.5;
          v20 = (double)(signed int)v19 * 0.032258064;
          if ( v20 == *(float *)(v22 + 36) )
          {
            v21 = *(float *)(v22 + 4204) * *(float *)(a4 + 12) + 0.5;
            if ( (double)(signed int)v21 * *(float *)(v22 + 4208) == *(float *)(v22 + 40) )
            {
              *(float *)a4 = 0.0;
              *(float *)(a4 + 4) = 0.0;
              *(float *)(a4 + 8) = 0.0;
              *(float *)(a4 + 12) = 0.0;
            }
          }
        }
      }
      a4 += 16;
    }
    result = dword_1008540C;
  }
  return result;
}
// 1008540C: using guessed type int dword_1008540C;

//----- (10055E36) --------------------------------------------------------
void *__thiscall sub_10055E36(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_100748F0;
  return v2;
}
// 100748F0: using guessed type int (__stdcall *off_100748F0)(char);

//----- (10055E52) --------------------------------------------------------
int __thiscall sub_10055E52(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055E6E();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055E6E: using guessed type int sub_10055E6E(void);

//----- (10055E73) --------------------------------------------------------
void *__thiscall sub_10055E73(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x30u, 1);
  *(_DWORD *)v2 = &off_10074900;
  return v2;
}
// 10074900: using guessed type int (__stdcall *off_10074900)(char);

//----- (10055E8F) --------------------------------------------------------
int __thiscall sub_10055E8F(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055EAB();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055EAB: using guessed type int sub_10055EAB(void);

//----- (10055EB0) --------------------------------------------------------
void *__thiscall sub_10055EB0(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_100517BF(this, a2, 0x40u, 1);
  *(_DWORD *)v2 = &off_10074910;
  return v2;
}
// 10074910: using guessed type int (__stdcall *off_10074910)(char);

//----- (10055ECC) --------------------------------------------------------
int __thiscall sub_10055ECC(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055EE8();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055EE8: using guessed type int sub_10055EE8(void);

//----- (10055EED) --------------------------------------------------------
void *__thiscall sub_10055EED(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10055528(this, a2);
  *(_DWORD *)v2 = &off_10074920;
  return v2;
}
// 10074920: using guessed type int (__stdcall *off_10074920)(char);

//----- (10055F05) --------------------------------------------------------
int __thiscall sub_10055F05(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055F21();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055F21: using guessed type int sub_10055F21(void);

//----- (10055F26) --------------------------------------------------------
void *__thiscall sub_10055F26(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10055528(this, a2);
  *(_DWORD *)v2 = &off_10074930;
  return v2;
}
// 10074930: using guessed type int (__stdcall *off_10074930)(char);

//----- (10055F3E) --------------------------------------------------------
int __thiscall sub_10055F3E(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055F5A();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055F5A: using guessed type int sub_10055F5A(void);

//----- (10055F5F) --------------------------------------------------------
void *__thiscall sub_10055F5F(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10055528(this, a2);
  *(_DWORD *)v2 = &off_10074940;
  return v2;
}
// 10074940: using guessed type int (__stdcall *off_10074940)(char);

//----- (10055F77) --------------------------------------------------------
int __thiscall sub_10055F77(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055F93();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055F93: using guessed type int sub_10055F93(void);

//----- (10055F98) --------------------------------------------------------
void *__thiscall sub_10055F98(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10055528(this, a2);
  *(_DWORD *)v2 = &off_10074950;
  return v2;
}
// 10074950: using guessed type int (__stdcall *off_10074950)(char);

//----- (10055FB0) --------------------------------------------------------
int __thiscall sub_10055FB0(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10055FCC();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10055FCC: using guessed type int sub_10055FCC(void);

//----- (10055FD1) --------------------------------------------------------
void *__thiscall sub_10055FD1(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10055528(this, a2);
  *(_DWORD *)v2 = &off_10074960;
  return v2;
}
// 10074960: using guessed type int (__stdcall *off_10074960)(char);

//----- (10055FE9) --------------------------------------------------------
int __thiscall sub_10055FE9(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10056005();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10056005: using guessed type int sub_10056005(void);

//----- (1005600A) --------------------------------------------------------
int __thiscall sub_1005600A(void *this)
{
  int v1; // esi@1

  v1 = (int)this;
  *(_DWORD *)this = &off_1007470C;
  sub_10054D29((int)this);
  if ( *(_DWORD *)(v1 + 4204) )
    sub_10001610(*(_DWORD *)(v1 + 4204));
  return sub_10050F11(v1);
}
// 1007470C: using guessed type int (__stdcall *off_1007470C)(char);

//----- (10056053) --------------------------------------------------------
void *__thiscall sub_10056053(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10054B7A(this, a2);
  *(_DWORD *)v2 = &off_10074970;
  return v2;
}
// 10074970: using guessed type int (__stdcall *off_10074970)(char);

//----- (1005606B) --------------------------------------------------------
void *__thiscall sub_1005606B(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_10054B7A(this, a2);
  *(_DWORD *)v2 = &off_10074980;
  return v2;
}
// 10074980: using guessed type int (__stdcall *off_10074980)(char);

//----- (10056083) --------------------------------------------------------
void *__cdecl sub_10056083(int a1)
{
  signed int v1; // eax@1
  void *v2; // esi@1
  int v3; // ecx@6
  void *v4; // eax@7
  int v5; // ecx@8
  int v6; // ecx@10
  int v7; // ecx@12
  int v8; // ecx@14
  int v9; // ecx@16
  int v10; // ecx@18
  int v11; // ecx@20
  int v12; // ecx@22
  int v13; // ecx@24
  int v14; // ecx@26
  int v15; // ecx@28
  int v16; // ecx@30
  int v17; // ecx@32
  int v18; // eax@36
  int v19; // eax@37
  int v20; // eax@38
  int v21; // eax@39
  int v22; // eax@40
  int v23; // ecx@42
  int v24; // ecx@44
  int v25; // ecx@46
  int v26; // ecx@48
  int v27; // ecx@50
  int v28; // ecx@52
  int v29; // ecx@54
  int v30; // eax@56
  int v31; // eax@57
  int v32; // eax@58
  int v33; // eax@59
  int v34; // ecx@61
  int v35; // ecx@63
  int v36; // ecx@65
  int v37; // ecx@67
  int v38; // ecx@69
  int v39; // ecx@71
  int v40; // ecx@80
  int v41; // ecx@82
  int v42; // ecx@84
  int v43; // ecx@86
  int v44; // ecx@88
  int v45; // ecx@90
  int v46; // eax@92
  int v47; // eax@93
  int v48; // eax@94
  int v49; // ecx@96
  int v50; // ecx@98
  int v51; // ecx@100
  int v52; // ecx@102

  v1 = *(_DWORD *)(a1 + 4);
  v2 = 0;
  if ( v1 > 827611204 )
  {
    if ( v1 > 909200416 )
    {
      v46 = v1 - 909200449;
      if ( v46 )
      {
        v47 = v46 - 1503;
        if ( v47 )
        {
          v48 = v47 - 33;
          if ( v48 )
          {
            if ( v48 != 589629204 )
              return v2;
            v49 = sub_100015F0(4252);
            if ( v49 )
            {
              v4 = sub_10056053((void *)v49, a1);
              goto LABEL_105;
            }
          }
          else
          {
            v50 = sub_100015F0(4204);
            if ( v50 )
            {
              v4 = sub_10055EB0((void *)v50, a1);
              goto LABEL_105;
            }
          }
        }
        else
        {
          v51 = sub_100015F0(4204);
          if ( v51 )
          {
            v4 = sub_10055E73((void *)v51, a1);
            goto LABEL_105;
          }
        }
      }
      else
      {
        v52 = sub_100015F0(4204);
        if ( v52 )
        {
          v4 = sub_10055E36((void *)v52, a1);
          goto LABEL_105;
        }
      }
    }
    else
    {
      switch ( v1 )
      {
        case 909200416:
          v45 = sub_100015F0(4204);
          if ( v45 )
          {
            v4 = sub_10055B50((void *)v45, a1);
            goto LABEL_105;
          }
          break;
        case 844388420:
          v44 = sub_100015F0(4292);
          if ( v44 )
          {
            v4 = sub_10055F26((void *)v44, a1);
            goto LABEL_105;
          }
          break;
        case 844715353:
          v43 = sub_100015F0(4252);
          if ( v43 )
          {
            v4 = sub_1005606B((void *)v43, a1);
            goto LABEL_105;
          }
          break;
        case 861165636:
          v42 = sub_100015F0(4292);
          if ( v42 )
          {
            v4 = sub_10055F5F((void *)v42, a1);
            goto LABEL_105;
          }
          break;
        case 877942852:
          v41 = sub_100015F0(4292);
          if ( v41 )
          {
            v4 = sub_10055F98((void *)v41, a1);
            goto LABEL_105;
          }
          break;
        default:
          if ( v1 != 894720068 )
            return v2;
          v40 = sub_100015F0(4292);
          if ( v40 )
          {
            v4 = sub_10055FD1((void *)v40, a1);
            goto LABEL_105;
          }
          break;
      }
    }
    goto LABEL_104;
  }
  if ( v1 == 827611204 )
  {
    v39 = sub_100015F0(4292);
    if ( v39 )
    {
      v4 = sub_10055EED((void *)v39, a1);
      goto LABEL_105;
    }
    goto LABEL_104;
  }
  if ( v1 > 40 )
  {
    if ( v1 > 62 )
    {
      v30 = v1 - 63;
      if ( v30 )
      {
        v31 = v30 - 1;
        if ( v31 )
        {
          v32 = v31 - 1;
          if ( v32 )
          {
            v33 = v32 - 2;
            if ( v33 )
            {
              if ( v33 != 3 )
                return v2;
              v34 = sub_100015F0(4204);
              if ( v34 )
              {
                v4 = sub_10055B13((void *)v34, a1);
                goto LABEL_105;
              }
            }
            else
            {
              v35 = sub_100015F0(4204);
              if ( v35 )
              {
                v4 = sub_10055AD6((void *)v35, a1);
                goto LABEL_105;
              }
            }
          }
          else
          {
            v36 = sub_100015F0(4204);
            if ( v36 )
            {
              v4 = sub_10055A99((void *)v36, a1);
              goto LABEL_105;
            }
          }
        }
        else
        {
          v37 = sub_100015F0(4204);
          if ( v37 )
          {
            v4 = sub_10055A5C((void *)v37, a1);
            goto LABEL_105;
          }
        }
      }
      else
      {
        v38 = sub_100015F0(4204);
        if ( v38 )
        {
          v4 = sub_10055A1F((void *)v38, a1);
          goto LABEL_105;
        }
      }
    }
    else
    {
      if ( v1 == 62 )
      {
        v29 = sub_100015F0(4204);
        if ( v29 )
        {
          v4 = sub_100559E2((void *)v29, a1);
          goto LABEL_105;
        }
      }
      else
      {
        v18 = v1 - 41;
        if ( v18 )
        {
          v19 = v18 - 9;
          if ( v19 )
          {
            v20 = v19 - 1;
            if ( v20 )
            {
              v21 = v20 - 1;
              if ( v21 )
              {
                v22 = v21 - 8;
                if ( v22 )
                {
                  if ( v22 != 1 )
                    return v2;
                  v23 = sub_100015F0(4204);
                  if ( v23 )
                  {
                    v4 = sub_100559A5((void *)v23, a1);
                    goto LABEL_105;
                  }
                }
                else
                {
                  v24 = sub_100015F0(4204);
                  if ( v24 )
                  {
                    v4 = sub_10055968((void *)v24, a1);
                    goto LABEL_105;
                  }
                }
              }
              else
              {
                v25 = sub_100015F0(4204);
                if ( v25 )
                {
                  v4 = sub_1005582A((void *)v25, a1);
                  goto LABEL_105;
                }
              }
            }
            else
            {
              v26 = sub_100015F0(4204);
              if ( v26 )
              {
                v4 = sub_100557D1((void *)v26, a1);
                goto LABEL_105;
              }
            }
          }
          else
          {
            v27 = sub_100015F0(4204);
            if ( v27 )
            {
              v4 = sub_10055794((void *)v27, a1);
              goto LABEL_105;
            }
          }
        }
        else
        {
          v28 = sub_100015F0(4204);
          if ( v28 )
          {
            v4 = sub_10055757((void *)v28, a1);
            goto LABEL_105;
          }
        }
      }
    }
LABEL_104:
    v4 = 0;
    goto LABEL_105;
  }
  if ( v1 == 40 )
  {
    v17 = sub_100015F0(4204);
    if ( v17 )
    {
      v4 = sub_1005571A((void *)v17, a1);
LABEL_105:
      v2 = v4;
      if ( v4 && *((_DWORD *)v4 + 4) )
        (*(void (__thiscall **)(_DWORD))(*(_DWORD *)v4 + 12))(v4);
      return v2;
    }
    goto LABEL_104;
  }
  switch ( v1 )
  {
    case 20:
      v3 = sub_100015F0(4204);
      if ( !v3 )
        goto LABEL_104;
      v4 = sub_10054B5E((void *)v3, a1);
      goto LABEL_105;
    case 21:
      v5 = sub_100015F0(4204);
      if ( !v5 )
        goto LABEL_104;
      v4 = sub_10054C93((void *)v5, a1);
      goto LABEL_105;
    case 22:
      v6 = sub_100015F0(4204);
      if ( !v6 )
        goto LABEL_104;
      v4 = sub_10054CD0((void *)v6, a1);
      goto LABEL_105;
    case 23:
      v7 = sub_100015F0(4204);
      if ( !v7 )
        goto LABEL_104;
      v4 = sub_10054D0D((void *)v7, a1);
      goto LABEL_105;
    case 24:
      v8 = sub_100015F0(4204);
      if ( !v8 )
        goto LABEL_104;
      v4 = sub_10054F36((void *)v8, a1);
      goto LABEL_105;
    case 25:
      v9 = sub_100015F0(4204);
      if ( !v9 )
        goto LABEL_104;
      v4 = sub_10054F73((void *)v9, a1);
      goto LABEL_105;
    case 26:
      v10 = sub_100015F0(4204);
      if ( !v10 )
        goto LABEL_104;
      v4 = sub_10055281((void *)v10, a1);
      goto LABEL_105;
    case 27:
      v11 = sub_100015F0(4204);
      if ( !v11 )
        goto LABEL_104;
      v4 = sub_100552BE((void *)v11, a1);
      goto LABEL_105;
    case 28:
      v12 = sub_100015F0(4204);
      if ( !v12 )
        goto LABEL_104;
      v4 = sub_100552FB((void *)v12, a1);
      goto LABEL_105;
    case 29:
      v13 = sub_100015F0(4204);
      if ( !v13 )
        goto LABEL_104;
      v4 = sub_10055338((void *)v13, a1);
      goto LABEL_105;
    case 30:
      v14 = sub_100015F0(4204);
      if ( !v14 )
        goto LABEL_104;
      v4 = sub_10055375((void *)v14, a1);
      goto LABEL_105;
    case 31:
      v15 = sub_100015F0(4204);
      if ( !v15 )
        goto LABEL_104;
      v4 = sub_1005543F((void *)v15, a1);
      goto LABEL_105;
    case 34:
      v16 = sub_100015F0(4204);
      if ( !v16 )
        goto LABEL_104;
      v4 = sub_100554EB((void *)v16, a1);
      goto LABEL_105;
    default:
      return v2;
  }
  return v2;
}

//----- (100567DF) --------------------------------------------------------
int __thiscall sub_100567DF(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_1005600A(this);
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}

//----- (100567FB) --------------------------------------------------------
int __thiscall sub_100567FB(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10056817();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10056817: using guessed type int sub_10056817(void);

//----- (1005681C) --------------------------------------------------------
int __thiscall sub_1005681C(void *this, char a2)
{
  int v2; // esi@1

  v2 = (int)this;
  sub_10056838();
  if ( a2 & 1 )
    sub_10001610(v2);
  return v2;
}
// 10056838: using guessed type int sub_10056838(void);

//----- (10056B00) --------------------------------------------------------
unsigned int __userpurge sub_10056B00<eax>(int a1<ebp>, __m128 a2<xmm0>, int a3, int a4, int a5, int a6)
{
  __m128 v6; // xmm1@1
  unsigned int result; // eax@1
  __m128 v8; // xmm7@3
  __m64 v9; // mm3@3
  __m64 v10; // mm4@3
  double v11; // st7@5
  void *v12; // [sp+0h] [bp+0h]@1

  *(_QWORD *)(a1 - 24) = *(_QWORD *)&dbl_100863D0;
  v6 = _mm_and_ps(a2, (__m128)xmmword_10082650);
  *(_OWORD *)((unsigned int)(&v12 - 16) & 0xFFFFFFF0) = a2;
  result = _mm_movemask_ps(_mm_cmpleps(v6, (__m128)xmmword_10082630));
  if ( result != 15 )
  {
    v8 = _mm_mul_ps((__m128)xmmword_10082600, a2);
    v9 = _mm_cvt_ps2pi(v8);
    v10 = _mm_cvt_ps2pi(_mm_movehl_ps(v8, v8));
    result = _mm_movemask_ps(_mm_cmpleps(v6, (__m128)xmmword_100825F0));
    if ( result == 15 )
    {
      *(_QWORD *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x10) = _m_pslld(v9, 0x1Fu);
      *(_QWORD *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x18) = _m_pslld(v10, 0x1Fu);
      _m_femms();
    }
    else
    {
      *(_QWORD *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x20) = v9;
      *(_QWORD *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x28) = v10;
      result = (unsigned int)(&v12 - 16) & 0xFFFFFFF0;
      *(_QWORD *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x10) = _m_pslld(v9, 0x1Fu);
      *(_QWORD *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x18) = _m_pslld(v10, 0x1Fu);
      _m_femms();
      v11 = *(double *)(a1 - 24);
      *(float *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x30) = *(float *)((unsigned int)(&v12 - 16) & 0xFFFFFFF0)
                                                                  - (double)*(signed int *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0)
                                                                                          + 0x20)
                                                                  * v11;
      *(float *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x34) = *(float *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0)
                                                                             + 4)
                                                                  - (double)*(signed int *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0)
                                                                                          + 0x24)
                                                                  * v11;
      *(float *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x38) = *(float *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0)
                                                                             + 8)
                                                                  - (double)*(signed int *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0)
                                                                                          + 0x28)
                                                                  * v11;
      *(float *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0) + 0x3C) = *(float *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0)
                                                                             + 0xC)
                                                                  - v11
                                                                  * (double)*(signed int *)(((unsigned int)(&v12 - 16) & 0xFFFFFFF0)
                                                                                          + 0x2C);
    }
  }
  return result;
}
// 100825F0: using guessed type __int128 xmmword_100825F0;
// 10082600: using guessed type __int128 xmmword_10082600;
// 10082630: using guessed type __int128 xmmword_10082630;
// 10082650: using guessed type __int128 xmmword_10082650;
// 100863D0: using guessed type double dbl_100863D0;

//----- (10056C80) --------------------------------------------------------
int __userpurge sub_10056C80<eax>(__m128 a1<xmm0>, int a2, int a3, int a4, int a5)
{
  unsigned int v5; // edx@1
  __m128 v6; // xmm3@1
  int result; // eax@1
  void *v8; // [sp+0h] [bp+0h]@1

  v5 = (unsigned int)(&v8 - 16) & 0xFFFFFFF0;
  v6 = _mm_and_ps(
         _mm_add_ps(
           _mm_mul_ps(_mm_and_ps(a1, (__m128)xmmword_10082740), (__m128)xmmword_10082720),
           (__m128)xmmword_10082700),
         (__m128)xmmword_100826F0);
  *(_OWORD *)v5 = _mm_and_ps(v6, (__m128)xmmword_100826E0);
  *(_OWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x10) = v6;
  *(_OWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x20) = v6;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x10) = (dword_100826D0 & (*(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0x10)
                                                                                 - *(_DWORD *)((unsigned int)(&v8 - 16) & 0xFFFFFFF0))) << 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x14) = (dword_100826D0 & (*(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0x14)
                                                                                 - *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 4))) << 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x18) = (dword_100826D0 & (*(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0x18)
                                                                                 - *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 8))) << 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x1C) = (dword_100826D0 & (*(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0x1C)
                                                                                 - *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0xC))) << 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x20) = (dword_100826D0 & (*(_DWORD *)((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                 + *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0x20))) << 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x24) = (dword_100826D0 & (*(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 4)
                                                                                 + *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0x24))) << 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x28) = (dword_100826D0 & (*(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 8)
                                                                                 + *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0x28))) << 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0x2C) = (dword_100826D0 & (*(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0xC)
                                                                                 + *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0)
                                                                                             + 0x2C))) << 30;
  *(_DWORD *)v5 <<= 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 4) <<= 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 8) <<= 30;
  result = *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0xC) << 30;
  *(_DWORD *)(((unsigned int)(&v8 - 16) & 0xFFFFFFF0) + 0xC) = result;
  return result;
}
// 100826D0: using guessed type int dword_100826D0;
// 100826E0: using guessed type __int128 xmmword_100826E0;
// 100826F0: using guessed type __int128 xmmword_100826F0;
// 10082700: using guessed type __int128 xmmword_10082700;
// 10082720: using guessed type __int128 xmmword_10082720;
// 10082740: using guessed type __int128 xmmword_10082740;

//----- (10056E10) --------------------------------------------------------
int __cdecl sub_10056E10(__m128 *a1, int a2, int a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm1@1
  __m128 v5; // xmm2@1
  __m128 *v6; // edx@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm3@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm6@1
  __m128 v12; // xmm2@1
  __m128 v13; // xmm4@1
  __m128 v14; // xmm3@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm0@1
  __m128 v17; // xmm5@1
  __m128 v18; // xmm6@1
  __m128 v19; // xmm1@1
  __m128 v20; // xmm0@1
  int result; // eax@1
  int v22; // [sp+0h] [bp+0h]@1

  v3 = _mm_and_ps(COERCE__M128(a1->m128_f32[0]), (__m128)xmmword_10082880);
  v4 = _mm_and_ps(COERCE__M128(a1->m128_f32[0]), (__m128)xmmword_10082870);
  v5 = v3;
  v6 = (__m128 *)((unsigned int)(&v22 - 16) & 0xFFFFFFF0);
  v7 = _mm_add_ps(_mm_mul_ps(v3, (__m128)xmmword_10082860), (__m128)xmmword_10082810);
  v8 = v7;
  v9 = _mm_sub_ps(v7, (__m128)xmmword_10082810);
  v10 = (__m128)xmmword_10082800;
  v11 = (__m128)xmmword_100827F0;
  v12 = _mm_sub_ps(
          _mm_sub_ps(
            _mm_sub_ps(
              _mm_sub_ps(v5, _mm_mul_ps((__m128)xmmword_10082850, v9)),
              _mm_mul_ps((__m128)xmmword_10082840, v9)),
            _mm_mul_ps((__m128)xmmword_10082830, v9)),
          _mm_mul_ps((__m128)xmmword_10082820, v9));
  v13 = _mm_mul_ps(v12, v12);
  v14 = _mm_and_ps(v8, (__m128)xmmword_100827E0);
  *(_OWORD *)&v6->m128_f32[0] = _mm_and_ps(v14, (__m128)xmmword_100827D0);
  *(_OWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x10) = v14;
  *(_OWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x20) = v14;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x10) = (dword_100827C0 & (*(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0x10)
                                                                                  - *(_DWORD *)((unsigned int)(&v22 - 16) & 0xFFFFFFF0))) << 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x14) = (dword_100827C0 & (*(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0x14)
                                                                                  - *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 4))) << 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x18) = (dword_100827C0 & (*(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0x18)
                                                                                  - *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 8))) << 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x1C) = (dword_100827C0 & (*(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0x1C)
                                                                                  - *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0xC))) << 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x20) = (dword_100827C0 & (*(_DWORD *)((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                  + *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0x20))) << 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x24) = (dword_100827C0 & (*(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 4)
                                                                                  + *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0x24))) << 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x28) = (dword_100827C0 & (*(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 8)
                                                                                  + *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0x28))) << 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x2C) = (dword_100827C0 & (*(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0xC)
                                                                                  + *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0)
                                                                                              + 0x2C))) << 30;
  LODWORD(v6->m128_f32[0]) <<= 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 4) <<= 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 8) <<= 30;
  *(_DWORD *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0xC) <<= 30;
  v15 = _mm_xor_ps(*(__m128 *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x10), v4);
  v16 = _mm_cmpneqps(COERCE__M128(v6->m128_f32[0]), 0);
  v17 = _mm_mul_ps(
          _mm_add_ps(
            _mm_mul_ps(
              _mm_add_ps(
                _mm_mul_ps(_mm_add_ps(_mm_mul_ps(v10, v13), (__m128)xmmword_100827B0), v13),
                (__m128)xmmword_10082790),
              v13),
            (__m128)xmmword_10082770),
          v12);
  v18 = _mm_add_ps(
          _mm_mul_ps(
            _mm_add_ps(
              _mm_mul_ps(
                _mm_add_ps(
                  _mm_mul_ps(_mm_add_ps(_mm_mul_ps(v11, v13), (__m128)xmmword_100827A0), v13),
                  (__m128)xmmword_10082780),
                v13),
              (__m128)xmmword_10082760),
            v13),
          (__m128)xmmword_10082750);
  v19 = _mm_or_ps(_mm_andnot_ps(v16, v17), _mm_and_ps(v16, v18));
  v20 = _mm_xor_ps(
          _mm_or_ps(_mm_and_ps(v16, v17), _mm_andnot_ps(v16, v18)),
          *(__m128 *)(((unsigned int)(&v22 - 16) & 0xFFFFFFF0) + 0x20));
  result = a2;
  *(_OWORD *)a2 = _mm_xor_ps(v19, v15);
  *(_OWORD *)a3 = v20;
  return result;
}
// 10082750: using guessed type __int128 xmmword_10082750;
// 10082760: using guessed type __int128 xmmword_10082760;
// 10082770: using guessed type __int128 xmmword_10082770;
// 10082780: using guessed type __int128 xmmword_10082780;
// 10082790: using guessed type __int128 xmmword_10082790;
// 100827A0: using guessed type __int128 xmmword_100827A0;
// 100827B0: using guessed type __int128 xmmword_100827B0;
// 100827C0: using guessed type int dword_100827C0;
// 100827D0: using guessed type __int128 xmmword_100827D0;
// 100827E0: using guessed type __int128 xmmword_100827E0;
// 100827F0: using guessed type __int128 xmmword_100827F0;
// 10082800: using guessed type __int128 xmmword_10082800;
// 10082810: using guessed type __int128 xmmword_10082810;
// 10082820: using guessed type __int128 xmmword_10082820;
// 10082830: using guessed type __int128 xmmword_10082830;
// 10082840: using guessed type __int128 xmmword_10082840;
// 10082850: using guessed type __int128 xmmword_10082850;
// 10082860: using guessed type __int128 xmmword_10082860;
// 10082870: using guessed type __int128 xmmword_10082870;
// 10082880: using guessed type __int128 xmmword_10082880;

//----- (10057000) --------------------------------------------------------
int *__cdecl sub_10057000()
{
  int v1; // [sp+3F0h] [bp-18h]@1

  return &v1;
}

//----- (100574F0) --------------------------------------------------------
void __stdcall sub_100574F0(int a1, int a2, int a3, int a4)
{
  ;
}

//----- (100575E0) --------------------------------------------------------
int __cdecl sub_100575E0(__m128i *a1, int a2, int a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm2@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm3@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm2@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm7@1
  __m128i v11; // xmm0@1
  __m128i v12; // xmm3@1
  __m128 v13; // xmm7@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm6@1
  int result; // eax@1

  v3 = (__m128)_mm_and_si128(*a1, (__m128i)xmmword_10082AA0);
  v4 = v3;
  v5 = _mm_add_ps(_mm_mul_ps(v3, (__m128)xmmword_10082A80), (__m128)xmmword_10082A30);
  v6 = v5;
  v7 = _mm_sub_ps(v5, (__m128)xmmword_10082A30);
  v8 = _mm_sub_ps(
         _mm_sub_ps(
           _mm_sub_ps(
             _mm_sub_ps(v4, _mm_mul_ps((__m128)xmmword_10082A70, v7)),
             _mm_mul_ps((__m128)xmmword_10082A60, v7)),
           _mm_mul_ps((__m128)xmmword_10082A50, v7)),
         _mm_mul_ps((__m128)xmmword_10082A40, v7));
  v9 = _mm_mul_ps(v8, v8);
  v10 = _mm_and_ps(v6, (__m128)xmmword_10082A00);
  v11 = (__m128i)_mm_and_ps(v10, (__m128)xmmword_100829F0);
  v12 = _mm_sub_epi32((__m128i)v10, v11);
  v13 = (__m128)_mm_sll_epi32(_mm_and_si128(_mm_add_epi32((__m128i)v10, v11), (__m128i)xmmword_100829E0), 0x1Eu);
  v14 = _mm_cmpneqps((__m128)_mm_sll_epi32(v11, 0x1Eu), 0);
  v15 = _mm_mul_ps(
          _mm_add_ps(
            _mm_mul_ps(
              _mm_add_ps(
                _mm_mul_ps(_mm_add_ps(_mm_mul_ps((__m128)xmmword_10082A20, v9), (__m128)xmmword_100829D0), v9),
                (__m128)xmmword_100829B0),
              v9),
            (__m128)xmmword_10082990),
          v8);
  v16 = _mm_add_ps(
          _mm_mul_ps(
            _mm_add_ps(
              _mm_mul_ps(
                _mm_add_ps(
                  _mm_mul_ps(_mm_add_ps(_mm_mul_ps((__m128)xmmword_10082A10, v9), (__m128)xmmword_100829C0), v9),
                  (__m128)xmmword_100829A0),
                v9),
              (__m128)xmmword_10082980),
            v9),
          (__m128)xmmword_10082970);
  result = a2;
  *(_OWORD *)a2 = _mm_xor_ps(
                    _mm_or_ps(_mm_andnot_ps(v14, v15), _mm_and_ps(v14, v16)),
                    (__m128)_mm_xor_si128(
                              _mm_sll_epi32(_mm_and_si128(v12, (__m128i)xmmword_100829E0), 0x1Eu),
                              _mm_and_si128(*a1, (__m128i)xmmword_10082A90)));
  *(_OWORD *)a3 = _mm_xor_ps(_mm_or_ps(_mm_and_ps(v14, v15), _mm_andnot_ps(v14, v16)), v13);
  return result;
}
// 10082970: using guessed type __int128 xmmword_10082970;
// 10082980: using guessed type __int128 xmmword_10082980;
// 10082990: using guessed type __int128 xmmword_10082990;
// 100829A0: using guessed type __int128 xmmword_100829A0;
// 100829B0: using guessed type __int128 xmmword_100829B0;
// 100829C0: using guessed type __int128 xmmword_100829C0;
// 100829D0: using guessed type __int128 xmmword_100829D0;
// 100829E0: using guessed type __int128 xmmword_100829E0;
// 100829F0: using guessed type __int128 xmmword_100829F0;
// 10082A00: using guessed type __int128 xmmword_10082A00;
// 10082A10: using guessed type __int128 xmmword_10082A10;
// 10082A20: using guessed type __int128 xmmword_10082A20;
// 10082A30: using guessed type __int128 xmmword_10082A30;
// 10082A40: using guessed type __int128 xmmword_10082A40;
// 10082A50: using guessed type __int128 xmmword_10082A50;
// 10082A60: using guessed type __int128 xmmword_10082A60;
// 10082A70: using guessed type __int128 xmmword_10082A70;
// 10082A80: using guessed type __int128 xmmword_10082A80;
// 10082A90: using guessed type __int128 xmmword_10082A90;
// 10082AA0: using guessed type __int128 xmmword_10082AA0;

//----- (10057800) --------------------------------------------------------
void __cdecl sub_10057800()
{
  ;
}

//----- (10057900) --------------------------------------------------------
void __cdecl sub_10057900()
{
  ;
}

//----- (10057B00) --------------------------------------------------------
void __cdecl sub_10057B00()
{
  ;
}

//----- (10057EE0) --------------------------------------------------------
int __usercall sub_10057EE0<eax>(__m64 a1<mm0>)
{
  int v1; // eax@1

  v1 = _mm_cvtsi64_si32(a1);
  return v1 & 0x80000000 ^ v1;
}

//----- (10058000) --------------------------------------------------------
int __usercall sub_10058000<eax>(__m64 a1<mm0>)
{
  int v1; // eax@1

  v1 = _mm_cvtsi64_si32(a1);
  return v1 & 0x80000000 ^ v1;
}

//----- (100583F8) --------------------------------------------------------
unsigned int __cdecl sub_100583F8(int a1, int a2, int a3)
{
  int v3; // edx@5
  signed int v4; // ecx@5
  int v5; // eax@5
  unsigned int result; // eax@7

  *(_DWORD *)(a1 + 4) = 0;
  if ( a2 != 61 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 10;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = 61;
    *(_DWORD *)(*(_DWORD *)a1 + 28) = a2;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  if ( a3 != 424 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 19;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = 424;
    *(_DWORD *)(*(_DWORD *)a1 + 28) = a3;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v3 = *(_DWORD *)a1;
  memset((void *)a1, 0, 0x1A8u);
  *(_DWORD *)a1 = v3;
  *(_BYTE *)(a1 + 12) = 1;
  sub_10060002(a1);
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 20) = 0;
  *(_DWORD *)(a1 + 144) = 0;
  *(_DWORD *)(a1 + 148) = 0;
  *(_DWORD *)(a1 + 152) = 0;
  *(_DWORD *)(a1 + 156) = 0;
  v4 = 4;
  v5 = a1 + 176;
  do
  {
    *(_DWORD *)(v5 - 16) = 0;
    *(_DWORD *)v5 = 0;
    v5 += 4;
    --v4;
  }
  while ( v4 );
  sub_1005A272(a1);
  result = sub_1005F64C(a1);
  if ( byte_10082C58 == 2 )
  {
    result = sub_1005F142(
               (unsigned __int8)byte_10082C58 < 2u,
               byte_10082C58 == 2,
               (char)(byte_10082C58 - 2) < 0,
               __OFSUB__(byte_10082C58, 2),
               0);
    byte_10082C58 = result;
  }
  *(_DWORD *)(a1 + 16) = 200;
  return result;
}
// 10082C58: using guessed type char byte_10082C58;

//----- (1005851F) --------------------------------------------------------
signed int __usercall sub_1005851F<eax>(int a1<esi>)
{
  int v1; // eax@19
  int v2; // ecx@19
  int v3; // edx@19
  int v4; // edi@19
  int v5; // eax@22
  signed int result; // eax@30

  if ( *(_DWORD *)(a1 + 32) == 1 )
  {
    *(_DWORD *)(a1 + 36) = 1;
    *(_DWORD *)(a1 + 40) = 1;
    goto LABEL_30;
  }
  if ( *(_DWORD *)(a1 + 32) == 3 )
  {
    if ( *(_BYTE *)(a1 + 256) )
      goto LABEL_17;
    if ( *(_BYTE *)(a1 + 262) )
    {
      if ( !*(_BYTE *)(a1 + 263) )
      {
        *(_DWORD *)(a1 + 36) = 2;
        goto LABEL_24;
      }
      if ( *(_BYTE *)(a1 + 263) != 1 )
      {
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 110;
        *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_BYTE *)(a1 + 263);
        (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, -1);
      }
LABEL_17:
      *(_DWORD *)(a1 + 36) = 3;
LABEL_24:
      *(_DWORD *)(a1 + 40) = 2;
      goto LABEL_30;
    }
    v1 = *(_DWORD *)(a1 + 196);
    v2 = *(_DWORD *)v1;
    v3 = *(_DWORD *)(v1 + 84);
    v4 = *(_DWORD *)(v1 + 168);
    if ( *(_DWORD *)v1 == 1 )
    {
      if ( v3 == 2 && v4 == 3 )
        goto LABEL_23;
    }
    else
    {
      if ( v2 == 82 && v3 == 71 && v4 == 66 )
      {
        *(_DWORD *)(a1 + 36) = 2;
        goto LABEL_24;
      }
    }
    v5 = *(_DWORD *)a1 + 24;
    *(_DWORD *)v5 = v2;
    *(_DWORD *)(v5 + 4) = v3;
    *(_DWORD *)(v5 + 8) = v4;
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 107;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
LABEL_23:
    *(_DWORD *)(a1 + 36) = 3;
    goto LABEL_24;
  }
  if ( *(_DWORD *)(a1 + 32) == 4 )
  {
    if ( *(_BYTE *)(a1 + 262) && *(_BYTE *)(a1 + 263) )
    {
      if ( *(_BYTE *)(a1 + 263) != 2 )
      {
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 110;
        *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_BYTE *)(a1 + 263);
        (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, -1);
      }
      *(_DWORD *)(a1 + 36) = 5;
    }
    else
    {
      *(_DWORD *)(a1 + 36) = 4;
    }
    *(_DWORD *)(a1 + 40) = 4;
  }
  else
  {
    *(_DWORD *)(a1 + 36) = 0;
    *(_DWORD *)(a1 + 40) = 0;
  }
LABEL_30:
  *(_BYTE *)(a1 + 64) = 0;
  *(_BYTE *)(a1 + 65) = 0;
  *(double *)(a1 + 56) = 1.0;
  *(_DWORD *)(a1 + 68) = 0;
  *(_BYTE *)(a1 + 74) = 0;
  *(_DWORD *)(a1 + 116) = 0;
  *(_BYTE *)(a1 + 88) = 0;
  *(_BYTE *)(a1 + 89) = 0;
  *(_BYTE *)(a1 + 90) = 0;
  result = 1;
  *(_DWORD *)(a1 + 44) = 1;
  *(_DWORD *)(a1 + 48) = 1;
  *(_BYTE *)(a1 + 72) = 1;
  *(_BYTE *)(a1 + 73) = 1;
  *(_DWORD *)(a1 + 76) = 2;
  *(_BYTE *)(a1 + 80) = 1;
  *(_DWORD *)(a1 + 84) = 256;
  return result;
}

//----- (10058692) --------------------------------------------------------
int __cdecl sub_10058692(int a1)
{
  signed int v1; // eax@1
  int v2; // edi@1

  v1 = *(_DWORD *)(a1 + 16);
  v2 = 0;
  if ( v1 == 200 )
  {
    (*(void (__cdecl **)(_DWORD))(*(_DWORD *)(a1 + 396) + 4))(a1);
    (*(void (__cdecl **)(_DWORD))(*(_DWORD *)(a1 + 20) + 8))(a1);
    *(_DWORD *)(a1 + 16) = 201;
  }
  else
  {
    if ( v1 != 201 )
    {
      if ( v1 == 202 )
      {
        v2 = 1;
      }
      else
      {
        if ( v1 <= 202 || v1 > 208 && v1 != 210 )
        {
          *(_DWORD *)(*(_DWORD *)a1 + 20) = 18;
          *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 16);
          (**(void (__cdecl ***)(_DWORD))a1)(a1);
        }
        else
        {
          v2 = (**(int (__cdecl ***)(_DWORD))(a1 + 396))(a1);
        }
      }
      return v2;
    }
  }
  v2 = (**(int (__cdecl ***)(_DWORD))(a1 + 396))(a1);
  if ( v2 == 1 )
  {
    sub_1005851F(a1);
    *(_DWORD *)(a1 + 16) = 202;
  }
  return v2;
}

//----- (1005879C) --------------------------------------------------------
char __cdecl sub_1005879C(int a1)
{
  int v1; // eax@1

  v1 = *(_DWORD *)(a1 + 16);
  if ( v1 != 205 && v1 != 206 || *(_BYTE *)(a1 + 64) )
  {
    if ( v1 == 207 )
    {
      *(_DWORD *)(a1 + 16) = 210;
    }
    else
    {
      if ( v1 != 210 )
      {
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 18;
        *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 16);
        (**(void (__cdecl ***)(_DWORD))a1)(a1);
      }
    }
  }
  else
  {
    if ( *(_DWORD *)(a1 + 120) < *(_DWORD *)(a1 + 96) )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 66;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    (*(void (__cdecl **)(int))(*(_DWORD *)(a1 + 380) + 4))(a1);
    *(_DWORD *)(a1 + 16) = 210;
  }
  do
  {
    if ( *(_BYTE *)(*(_DWORD *)(a1 + 396) + 17) )
    {
      (*(void (__cdecl **)(int))(*(_DWORD *)(a1 + 20) + 24))(a1);
      sub_100600B6(a1);
      return 1;
    }
  }
  while ( (**(int (__cdecl ***)(_DWORD))(a1 + 396))(a1) );
  return 0;
}

//----- (10058843) --------------------------------------------------------
int __cdecl sub_10058843(int a1, char a2)
{
  int v2; // eax@1
  int result; // eax@4

  v2 = *(_DWORD *)(a1 + 16);
  if ( v2 != 200 && v2 != 201 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 18;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 16);
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  result = sub_10058692(a1);
  if ( result == 1 )
  {
    result = 1;
  }
  else
  {
    if ( result == 2 )
    {
      if ( a2 )
      {
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 50;
        (**(void (__cdecl ***)(_DWORD))a1)(a1);
      }
      sub_100600B6(a1);
      result = 2;
    }
  }
  return result;
}

//----- (100588A6) --------------------------------------------------------
char __usercall sub_100588A6<al>(int a1<esi>)
{
  int v1; // edi@4
  unsigned int v2; // eax@5
  int v3; // ecx@6
  unsigned int v4; // ebp@8
  char result; // al@11

  if ( *(_DWORD *)(a1 + 16) != 204 )
  {
    (**(void (__cdecl ***)(_DWORD))(a1 + 380))(a1);
    *(_DWORD *)(a1 + 120) = 0;
    *(_DWORD *)(a1 + 16) = 204;
  }
  if ( *(_BYTE *)(*(_DWORD *)(a1 + 380) + 8) )
  {
    v1 = a1 + 120;
    while ( 1 )
    {
      v2 = *(_DWORD *)v1;
      if ( *(_DWORD *)v1 < *(_DWORD *)(a1 + 96) )
        break;
LABEL_10:
      (*(void (__cdecl **)(int))(*(_DWORD *)(a1 + 380) + 4))(a1);
      (**(void (__cdecl ***)(_DWORD))(a1 + 380))(a1);
      *(_DWORD *)v1 = 0;
      if ( !*(_BYTE *)(*(_DWORD *)(a1 + 380) + 8) )
        goto LABEL_11;
    }
    while ( 1 )
    {
      v3 = *(_DWORD *)(a1 + 8);
      if ( v3 )
      {
        *(_DWORD *)(v3 + 4) = v2;
        *(_DWORD *)(*(_DWORD *)(a1 + 8) + 8) = *(_DWORD *)(a1 + 96);
        (**(void (__cdecl ***)(_DWORD))(a1 + 8))(a1);
      }
      v4 = *(_DWORD *)v1;
      (*(void (__cdecl **)(int, _DWORD, int, _DWORD))(*(_DWORD *)(a1 + 384) + 4))(a1, 0, a1 + 120, 0);
      v2 = *(_DWORD *)v1;
      if ( *(_DWORD *)v1 == v4 )
        break;
      if ( v2 >= *(_DWORD *)(a1 + 96) )
        goto LABEL_10;
    }
    result = 0;
  }
  else
  {
LABEL_11:
    *(_DWORD *)(a1 + 16) = (*(_BYTE *)(a1 + 65) != 0) + 205;
    result = 1;
  }
  return result;
}

//----- (1005894F) --------------------------------------------------------
int __cdecl sub_1005894F(int a1, int a2, int a3)
{
  int v3; // esi@1
  unsigned int v4; // ecx@3
  int result; // eax@4
  int v6; // eax@5
  int v7; // eax@7

  v3 = a1;
  if ( *(_DWORD *)(a1 + 16) != 205 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 18;
    *(_DWORD *)(*(_DWORD *)v3 + 24) = *(_DWORD *)(v3 + 16);
    (**(void (__cdecl ***)(_DWORD))v3)(v3);
  }
  v4 = *(_DWORD *)(v3 + 120);
  if ( v4 < *(_DWORD *)(v3 + 96) )
  {
    v6 = *(_DWORD *)(v3 + 8);
    if ( v6 )
    {
      *(_DWORD *)(v6 + 4) = v4;
      *(_DWORD *)(*(_DWORD *)(v3 + 8) + 8) = *(_DWORD *)(v3 + 96);
      (**(void (__cdecl ***)(_DWORD))(v3 + 8))(v3);
    }
    v7 = *(_DWORD *)(v3 + 384);
    a1 = 0;
    (*(void (__cdecl **)(int, int, int *, int))(v7 + 4))(v3, a2, &a1, a3);
    result = a1;
    *(_DWORD *)(v3 + 120) += a1;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)v3 + 20) = 119;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v3 + 4))(v3, -1);
    result = 0;
  }
  return result;
}

//----- (10058B47) --------------------------------------------------------
char __cdecl sub_10058B47(int a1)
{
  int v2; // eax@5
  int v3; // eax@7
  int v4; // eax@9
  int v5; // ecx@11
  int v6; // eax@14
  int v7; // ecx@14

  if ( *(_DWORD *)(a1 + 16) == 202 )
  {
    sub_10060758(a1);
    if ( *(_BYTE *)(a1 + 64) )
    {
      *(_DWORD *)(a1 + 16) = 207;
      return 1;
    }
    *(_DWORD *)(a1 + 16) = 203;
  }
  v2 = *(_DWORD *)(a1 + 16);
  if ( v2 != 203 )
  {
    if ( v2 != 204 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 18;
      *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 16);
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    return sub_100588A6(a1);
  }
  if ( !*(_BYTE *)(*(_DWORD *)(a1 + 396) + 16) )
  {
LABEL_17:
    *(_DWORD *)(a1 + 132) = *(_DWORD *)(a1 + 124);
    return sub_100588A6(a1);
  }
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 8);
    if ( v3 )
      (*(void (__cdecl **)(int))v3)(a1);
    v4 = (**(int (__cdecl ***)(_DWORD))(a1 + 396))(a1);
    if ( !v4 )
      return 0;
    if ( v4 == 2 )
      goto LABEL_17;
    v5 = *(_DWORD *)(a1 + 8);
    if ( v5 && (v4 == 3 || v4 == 1) )
    {
      ++*(_DWORD *)(v5 + 4);
      v6 = *(_DWORD *)(a1 + 8);
      v7 = *(_DWORD *)(v6 + 8);
      if ( *(_DWORD *)(v6 + 4) >= v7 )
        *(_DWORD *)(v6 + 8) = v7 + *(_DWORD *)(a1 + 280);
    }
  }
}

//----- (10058C08) --------------------------------------------------------
char __usercall sub_10058C08<al>(int a1<esi>)
{
  int v1; // eax@3
  signed int v2; // ecx@3
  int v3; // eax@5

  *(_DWORD *)(*(_DWORD *)a1 + 20) = 101;
  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
  if ( *(_BYTE *)(*(_DWORD *)(a1 + 400) + 80) )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 60;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v1 = a1 + 218;
  v2 = 16;
  do
  {
    *(_BYTE *)(v1 - 16) = 0;
    *(_BYTE *)v1 = 1;
    *(_BYTE *)(v1++ + 16) = 5;
    --v2;
  }
  while ( v2 );
  v3 = *(_DWORD *)(a1 + 400);
  *(_DWORD *)(a1 + 252) = 0;
  *(_DWORD *)(a1 + 36) = 0;
  *(_BYTE *)(a1 + 264) = 0;
  *(_BYTE *)(a1 + 256) = 0;
  *(_BYTE *)(a1 + 257) = 0;
  *(_BYTE *)(a1 + 262) = 0;
  *(_BYTE *)(a1 + 263) = 0;
  *(_WORD *)(a1 + 258) = 1;
  *(_WORD *)(a1 + 260) = 1;
  *(_BYTE *)(v3 + 80) = 1;
  return 1;
}

//----- (10058C96) --------------------------------------------------------
char __usercall sub_10058C96<al>(char a1<cl>, int a2<esi>, char a3)
{
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // edi@1
  int v6; // eax@4
  int v7; // edi@4
  int v8; // edi@7
  int v9; // eax@10
  int v10; // edi@10
  int v11; // eax@13
  int v12; // edi@13
  int v13; // edi@16
  int v14; // eax@19
  int v15; // edi@19
  int v16; // edi@22
  int v17; // ecx@25
  int v18; // eax@25
  int v19; // edi@25
  int v20; // eax@35
  int v22; // ecx@42
  int v23; // edi@42
  signed int v24; // ecx@45
  int v25; // edi@45
  int v26; // edx@48
  int v27; // ecx@48
  int v28; // [sp+8h] [bp-8h]@35
  int v29; // [sp+Ch] [bp-4h]@1
  int v30; // [sp+Ch] [bp-4h]@4
  int v31; // [sp+Ch] [bp-4h]@7
  int v32; // [sp+Ch] [bp-4h]@10
  int v33; // [sp+Ch] [bp-4h]@13
  int v34; // [sp+Ch] [bp-4h]@16
  int v35; // [sp+Ch] [bp-4h]@19
  int v36; // [sp+Ch] [bp-4h]@22
  int v37; // [sp+Ch] [bp-4h]@25
  int v38; // [sp+Ch] [bp-4h]@42
  int v39; // [sp+Ch] [bp-4h]@45
  int v40; // [sp+18h] [bp+8h]@4
  int v41; // [sp+18h] [bp+8h]@7
  int v42; // [sp+18h] [bp+8h]@25
  int v43; // [sp+18h] [bp+8h]@35

  v3 = *(_DWORD *)(a2 + 20);
  v4 = *(_DWORD *)(v3 + 4);
  v5 = *(_DWORD *)v3;
  *(_BYTE *)(a2 + 200) = a1;
  v29 = v4;
  *(_BYTE *)(a2 + 201) = a3;
  if ( !v4 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v3 + 12))(a2) )
      return 0;
    v5 = *(_DWORD *)v3;
    v29 = *(_DWORD *)(v3 + 4);
  }
  v30 = v29 - 1;
  v6 = 0;
  *(_WORD *)((char *)&v6 + 1) = *(_BYTE *)v5;
  v7 = v5 + 1;
  v40 = v6;
  if ( !v30 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v3 + 12))(a2) )
      return 0;
    v7 = *(_DWORD *)v3;
    v30 = *(_DWORD *)(v3 + 4);
  }
  v31 = v30 - 1;
  v41 = *(_BYTE *)v7 + v40;
  v8 = v7 + 1;
  if ( !v31 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
      return 0;
    v8 = *(_DWORD *)v3;
    v31 = *(_DWORD *)(v3 + 4);
  }
  v9 = *(_BYTE *)v8;
  v32 = v31 - 1;
  v10 = v8 + 1;
  *(_DWORD *)(a2 + 192) = v9;
  if ( !v32 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
      return 0;
    v10 = *(_DWORD *)v3;
    v32 = *(_DWORD *)(v3 + 4);
  }
  v33 = v32 - 1;
  v11 = 0;
  *(_WORD *)((char *)&v11 + 1) = *(_BYTE *)v10;
  v12 = v10 + 1;
  *(_DWORD *)(a2 + 28) = v11;
  if ( !v33 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
      return 0;
    v12 = *(_DWORD *)v3;
    v33 = *(_DWORD *)(v3 + 4);
  }
  v34 = v33 - 1;
  *(_DWORD *)(a2 + 28) += *(_BYTE *)v12;
  v13 = v12 + 1;
  if ( !v34 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
      return 0;
    v13 = *(_DWORD *)v3;
    v34 = *(_DWORD *)(v3 + 4);
  }
  v35 = v34 - 1;
  v14 = 0;
  *(_WORD *)((char *)&v14 + 1) = *(_BYTE *)v13;
  v15 = v13 + 1;
  *(_DWORD *)(a2 + 24) = v14;
  if ( !v35 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
      return 0;
    v15 = *(_DWORD *)v3;
    v35 = *(_DWORD *)(v3 + 4);
  }
  v36 = v35 - 1;
  *(_DWORD *)(a2 + 24) += *(_BYTE *)v15;
  v16 = v15 + 1;
  if ( !v36 )
  {
    if ( (unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
    {
      v16 = *(_DWORD *)v3;
      v36 = *(_DWORD *)(v3 + 4);
      goto LABEL_25;
    }
    return 0;
  }
LABEL_25:
  v17 = *(_DWORD *)(a2 + 376);
  v37 = v36 - 1;
  v42 = v41 - 8;
  *(_DWORD *)(a2 + 32) = *(_BYTE *)v16;
  v18 = *(_DWORD *)a2 + 24;
  *(_DWORD *)v18 = v17;
  *(_DWORD *)(v18 + 4) = *(_DWORD *)(a2 + 24);
  *(_DWORD *)(v18 + 8) = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(v18 + 12) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(*(_DWORD *)a2 + 20) = 99;
  v19 = v16 + 1;
  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a2 + 4))(a2, 1);
  if ( *(_BYTE *)(*(_DWORD *)(a2 + 400) + 81) )
  {
    *(_DWORD *)(*(_DWORD *)a2 + 20) = 57;
    (**(void (__cdecl ***)(_DWORD))a2)(a2);
  }
  if ( !*(_DWORD *)(a2 + 28) || *(_DWORD *)(a2 + 24) <= 0u || *(_DWORD *)(a2 + 32) <= 0 )
  {
    *(_DWORD *)(*(_DWORD *)a2 + 20) = 31;
    (**(void (__cdecl ***)(_DWORD))a2)(a2);
  }
  if ( v42 != 3 * *(_DWORD *)(a2 + 32) )
  {
    *(_DWORD *)(*(_DWORD *)a2 + 20) = 9;
    (**(void (__cdecl ***)(_DWORD))a2)(a2);
  }
  if ( !*(_DWORD *)(a2 + 196) )
    *(_DWORD *)(a2 + 196) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a2 + 4))(a2, 1, 84 * *(_DWORD *)(a2 + 32));
  v28 = 0;
  v20 = *(_DWORD *)(a2 + 196);
  v43 = *(_DWORD *)(a2 + 196);
  if ( *(_DWORD *)(a2 + 32) > 0 )
  {
    while ( 1 )
    {
      *(_DWORD *)(v20 + 4) = v28;
      if ( !v37 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
          return 0;
        v19 = *(_DWORD *)v3;
        v37 = *(_DWORD *)(v3 + 4);
        v20 = v43;
      }
      v22 = *(_BYTE *)v19;
      v38 = v37 - 1;
      v23 = v19 + 1;
      *(_DWORD *)v20 = v22;
      if ( !v38 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
          return 0;
        v23 = *(_DWORD *)v3;
        v38 = *(_DWORD *)(v3 + 4);
        v20 = v43;
      }
      v24 = *(_BYTE *)v23;
      v39 = v38 - 1;
      v25 = v23 + 1;
      *(_DWORD *)(v20 + 8) = (v24 >> 4) & 0xF;
      *(_DWORD *)(v20 + 12) = v24 & 0xF;
      if ( !v39 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v3 + 12))(a2) )
          return 0;
        v25 = *(_DWORD *)v3;
        v39 = *(_DWORD *)(v3 + 4);
        v20 = v43;
      }
      v26 = *(_DWORD *)v20;
      v37 = v39 - 1;
      *(_DWORD *)(v20 + 16) = *(_BYTE *)v25;
      v27 = *(_DWORD *)a2 + 24;
      *(_DWORD *)v27 = v26;
      *(_DWORD *)(v27 + 4) = *(_DWORD *)(v20 + 8);
      *(_DWORD *)(v27 + 8) = *(_DWORD *)(v20 + 12);
      *(_DWORD *)(v27 + 12) = *(_DWORD *)(v20 + 16);
      *(_DWORD *)(*(_DWORD *)a2 + 20) = 100;
      v19 = v25 + 1;
      (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a2 + 4))(a2, 1);
      ++v28;
      v43 += 84;
      if ( v28 >= *(_DWORD *)(a2 + 32) )
        break;
      v20 = v43;
    }
  }
  *(_BYTE *)(*(_DWORD *)(a2 + 400) + 81) = 1;
  *(_DWORD *)(v3 + 4) = v37;
  *(_DWORD *)v3 = v19;
  return 1;
}

//----- (10058F91) --------------------------------------------------------
char __usercall sub_10058F91<al>(int a1<esi>)
{
  int v1; // ebx@1
  int v2; // edi@1
  int v3; // eax@6
  int v4; // edi@6
  int v5; // edi@9
  signed int v6; // eax@12
  int v7; // edi@12
  int v8; // eax@21
  int v9; // edi@21
  signed int v10; // eax@24
  int v11; // ecx@24
  int v12; // eax@28
  int v13; // eax@32
  int v14; // edi@32
  int v15; // eax@35
  int v16; // edi@35
  signed int v18; // ecx@39
  int v19; // eax@39
  signed int v20; // [sp+8h] [bp-20h]@24
  int v21; // [sp+Ch] [bp-1Ch]@24
  signed int v22; // [sp+10h] [bp-18h]@12
  signed int v23; // [sp+14h] [bp-14h]@16
  int v24; // [sp+18h] [bp-10h]@17
  int v25; // [sp+1Ch] [bp-Ch]@21
  int v26; // [sp+20h] [bp-8h]@6
  int v27; // [sp+20h] [bp-8h]@9
  int v28; // [sp+20h] [bp-8h]@24
  int v29; // [sp+24h] [bp-4h]@1
  int v30; // [sp+24h] [bp-4h]@6
  int v31; // [sp+24h] [bp-4h]@9
  int v32; // [sp+24h] [bp-4h]@12
  int v33; // [sp+24h] [bp-4h]@21
  int v34; // [sp+24h] [bp-4h]@32
  int v35; // [sp+24h] [bp-4h]@35

  v1 = *(_DWORD *)(a1 + 20);
  v29 = *(_DWORD *)(v1 + 4);
  v2 = *(_DWORD *)v1;
  if ( !*(_BYTE *)(*(_DWORD *)(a1 + 400) + 81) )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 61;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  if ( !v29 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v1 + 12))(a1) )
      return 0;
    v2 = *(_DWORD *)v1;
    v29 = *(_DWORD *)(v1 + 4);
  }
  v30 = v29 - 1;
  v3 = 0;
  *(_WORD *)((char *)&v3 + 1) = *(_BYTE *)v2;
  v4 = v2 + 1;
  v26 = v3;
  if ( !v30 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v1 + 12))(a1) )
      return 0;
    v4 = *(_DWORD *)v1;
    v30 = *(_DWORD *)(v1 + 4);
  }
  v31 = v30 - 1;
  v27 = *(_BYTE *)v4 + v26;
  v5 = v4 + 1;
  if ( !v31 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
      return 0;
    v5 = *(_DWORD *)v1;
    v31 = *(_DWORD *)(v1 + 4);
  }
  v6 = *(_BYTE *)v5;
  v32 = v31 - 1;
  v7 = v5 + 1;
  v22 = v6;
  if ( v27 != 2 * v6 + 6 || v6 < 1 || v6 > 4 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 9;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
    v6 = v22;
  }
  *(_DWORD *)(*(_DWORD *)a1 + 20) = 102;
  *(_DWORD *)(*(_DWORD *)a1 + 24) = v6;
  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
  v23 = 0;
  *(_DWORD *)(a1 + 288) = v22;
  if ( v22 > 0 )
  {
    v24 = a1 + 292;
    do
    {
      if ( !v32 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
          return 0;
        v7 = *(_DWORD *)v1;
        v32 = *(_DWORD *)(v1 + 4);
      }
      v8 = *(_BYTE *)v7;
      v33 = v32 - 1;
      v9 = v7 + 1;
      v25 = v8;
      if ( !v33 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
          return 0;
        v9 = *(_DWORD *)v1;
        v33 = *(_DWORD *)(v1 + 4);
      }
      v10 = *(_BYTE *)v9;
      v32 = v33 - 1;
      v28 = 0;
      v11 = *(_DWORD *)(a1 + 196);
      v7 = v9 + 1;
      v20 = v10;
      v21 = *(_DWORD *)(a1 + 196);
      if ( *(_DWORD *)(a1 + 32) <= 0 )
      {
LABEL_27:
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 5;
        *(_DWORD *)(*(_DWORD *)a1 + 24) = v25;
        (**(void (__cdecl ***)(_DWORD))a1)(a1);
        v10 = v20;
        v11 = v21;
      }
      else
      {
        while ( v25 != *(_DWORD *)v11 )
        {
          ++v28;
          v11 += 84;
          v21 = v11;
          if ( v28 >= *(_DWORD *)(a1 + 32) )
            goto LABEL_27;
        }
      }
      *(_DWORD *)v24 = v11;
      *(_DWORD *)(v11 + 24) = v10 & 0xF;
      *(_DWORD *)(v11 + 20) = (v10 >> 4) & 0xF;
      v12 = *(_DWORD *)a1 + 24;
      *(_DWORD *)v12 = v25;
      *(_DWORD *)(v12 + 4) = *(_DWORD *)(v11 + 20);
      *(_DWORD *)(v12 + 8) = *(_DWORD *)(v11 + 24);
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 103;
      (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
      ++v23;
      v24 += 4;
    }
    while ( v23 < v22 );
  }
  if ( !v32 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
      return 0;
    v7 = *(_DWORD *)v1;
    v32 = *(_DWORD *)(v1 + 4);
  }
  v13 = *(_BYTE *)v7;
  v34 = v32 - 1;
  v14 = v7 + 1;
  *(_DWORD *)(a1 + 360) = v13;
  if ( v34 )
    goto LABEL_35;
  if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
    return 0;
  v14 = *(_DWORD *)v1;
  v34 = *(_DWORD *)(v1 + 4);
LABEL_35:
  v15 = *(_BYTE *)v14;
  v35 = v34 - 1;
  v16 = v14 + 1;
  *(_DWORD *)(a1 + 364) = v15;
  if ( !v35 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
      return 0;
    v16 = *(_DWORD *)v1;
    v35 = *(_DWORD *)(v1 + 4);
  }
  v18 = (signed int)*(_BYTE *)v16 >> 4;
  *(_DWORD *)(a1 + 372) = *(_BYTE *)v16 & 0xF;
  v19 = *(_DWORD *)a1;
  *(_DWORD *)(a1 + 368) = v18 & 0xF;
  v19 += 24;
  *(_DWORD *)v19 = *(_DWORD *)(a1 + 360);
  *(_DWORD *)(v19 + 4) = *(_DWORD *)(a1 + 364);
  *(_DWORD *)(v19 + 8) = *(_DWORD *)(a1 + 368);
  *(_DWORD *)(v19 + 12) = *(_DWORD *)(a1 + 372);
  *(_DWORD *)(*(_DWORD *)a1 + 20) = 104;
  (*(void (__cdecl **)(_DWORD, _DWORD))(*(_DWORD *)a1 + 4))(a1, 1);
  *(_DWORD *)(*(_DWORD *)(a1 + 400) + 84) = 0;
  ++*(_DWORD *)(a1 + 124);
  *(_DWORD *)(v1 + 4) = v35 - 1;
  *(_DWORD *)v1 = v16 + 1;
  return 1;
}

//----- (10059243) --------------------------------------------------------
char __cdecl sub_10059243(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // ebx@1
  int v4; // eax@4
  int v5; // ebx@4
  int v6; // ebx@7
  char v7; // al@12
  int v8; // ecx@12
  bool v9; // sf@12
  unsigned __int8 v10; // of@12
  __int16 v12; // cx@23
  __int16 v13; // dx@23
  __int16 v14; // ax@23
  unsigned __int16 v15; // cx@23
  __int16 v16; // ax@23
  int v17; // eax@23
  int v18; // eax@25
  int v19; // ecx@29
  bool v20; // zf@31
  char v21; // [sp+Ch] [bp-18h]@12
  char v22; // [sp+Dh] [bp-17h]@14
  char v23; // [sp+Eh] [bp-16h]@15
  char v24; // [sp+Fh] [bp-15h]@16
  char v25; // [sp+10h] [bp-14h]@17
  unsigned __int8 v26; // [sp+11h] [bp-13h]@18
  unsigned __int8 v27; // [sp+12h] [bp-12h]@19
  char v28; // [sp+13h] [bp-11h]@23
  unsigned __int8 v29; // [sp+14h] [bp-10h]@23
  unsigned __int8 v30; // [sp+15h] [bp-Fh]@23
  unsigned __int8 v31; // [sp+16h] [bp-Eh]@23
  unsigned __int8 v32; // [sp+17h] [bp-Dh]@23
  __int16 v33; // [sp+18h] [bp-Ch]@23
  int v34; // [sp+1Ch] [bp-8h]@8
  int v35; // [sp+20h] [bp-4h]@4
  int v36; // [sp+2Ch] [bp+8h]@1
  int v37; // [sp+2Ch] [bp+8h]@4
  int v38; // [sp+2Ch] [bp+8h]@7

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20);
  v3 = *(_DWORD *)v2;
  v36 = *(_DWORD *)(v2 + 4);
  if ( !*(_DWORD *)(v2 + 4) )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
      return 0;
    v3 = *(_DWORD *)v2;
    v36 = *(_DWORD *)(v2 + 4);
  }
  v37 = v36 - 1;
  v4 = 0;
  *(_WORD *)((char *)&v4 + 1) = *(_BYTE *)v3;
  v5 = v3 + 1;
  v35 = v4;
  if ( v37 )
    goto LABEL_7;
  if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
    return 0;
  v5 = *(_DWORD *)v2;
  v37 = *(_DWORD *)(v2 + 4);
LABEL_7:
  v38 = v37 - 1;
  v35 = *(_BYTE *)v5 + v35 - 2;
  v6 = v5 + 1;
  if ( v35 < 14 )
  {
    v19 = v35;
    *(_DWORD *)(*(_DWORD *)v1 + 20) = 76;
    *(_DWORD *)(*(_DWORD *)v1 + 24) = v19;
  }
  else
  {
    v34 = 0;
    do
    {
      if ( !v38 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v2 + 12))(v1) )
          return 0;
        v6 = *(_DWORD *)v2;
        v38 = *(_DWORD *)(v2 + 4);
      }
      --v38;
      v7 = *(_BYTE *)v6;
      v8 = v34;
      ++v6;
      ++v34;
      v10 = __OFSUB__(v34, 14);
      v9 = v34 - 14 < 0;
      *(&v21 + v8) = v7;
    }
    while ( v9 ^ v10 );
    v35 -= 14;
    if ( v21 != 74 || v22 != 70 || v23 != 73 || v24 != 70 || v25 )
    {
      *(_DWORD *)(*(_DWORD *)v1 + 20) = 76;
      v18 = v35 + 14;
    }
    else
    {
      if ( v26 == 1 )
      {
        if ( v27 > 2u )
        {
          *(_DWORD *)(*(_DWORD *)v1 + 20) = 88;
          *(_DWORD *)(*(_DWORD *)v1 + 24) = 1;
          *(_DWORD *)(*(_DWORD *)v1 + 28) = v27;
          (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, 1);
        }
      }
      else
      {
        *(_DWORD *)(*(_DWORD *)v1 + 20) = 115;
        *(_DWORD *)(*(_DWORD *)v1 + 24) = v26;
        *(_DWORD *)(*(_DWORD *)v1 + 28) = v27;
        (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, -1);
      }
      v12 = v30;
      v13 = v32;
      *(_BYTE *)(v1 + 257) = v28;
      v14 = v29;
      *(_BYTE *)(v1 + 256) = 1;
      v15 = (v14 << 8) + v12;
      v16 = v31;
      *(_WORD *)(v1 + 258) = v15;
      *(_WORD *)(v1 + 260) = v13 + (v16 << 8);
      v17 = *(_DWORD *)v1 + 24;
      *(_DWORD *)v17 = v15;
      *(_DWORD *)(v17 + 4) = *(_WORD *)(v1 + 260);
      *(_DWORD *)(v17 + 8) = *(_BYTE *)(v1 + 257);
      *(_DWORD *)(*(_DWORD *)v1 + 20) = 86;
      (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, 1);
      if ( v33 )
      {
        *(_DWORD *)(*(_DWORD *)v1 + 20) = 89;
        *(_DWORD *)(*(_DWORD *)v1 + 24) = (unsigned __int8)v33;
        *(_DWORD *)(*(_DWORD *)v1 + 28) = HIBYTE(v33);
        (*(void (__cdecl **)(_DWORD, _DWORD))(*(_DWORD *)v1 + 4))(v1, 1);
      }
      v18 = v35;
      if ( v35 == 3 * (unsigned __int8)v33 * HIBYTE(v33) )
        goto LABEL_31;
      *(_DWORD *)(*(_DWORD *)v1 + 20) = 87;
    }
    *(_DWORD *)(*(_DWORD *)v1 + 24) = v18;
  }
  (*(void (__cdecl **)(_DWORD, _DWORD))(*(_DWORD *)v1 + 4))(v1, 1);
LABEL_31:
  v20 = v35 == 0;
  v9 = v35 < 0;
  *(_DWORD *)v2 = v6;
  *(_DWORD *)(v2 + 4) = v38;
  if ( !(v9 | v20) )
    (*(void (__cdecl **)(int, int))(*(_DWORD *)(v1 + 20) + 16))(v1, v35);
  return 1;
}

//----- (1005947F) --------------------------------------------------------
char __cdecl sub_1005947F(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // ebx@1
  int v4; // eax@4
  int v5; // ebx@4
  int v6; // ebx@7
  char v7; // al@12
  int v8; // ecx@12
  bool v9; // sf@12
  unsigned __int8 v10; // of@12
  int v11; // edx@18
  int v12; // eax@18
  int v13; // ecx@18
  int v14; // edx@18
  unsigned __int8 v15; // al@18
  int v17; // ecx@21
  bool v18; // zf@23
  char v19; // [sp+Ch] [bp-14h]@12
  char v20; // [sp+Dh] [bp-13h]@14
  char v21; // [sp+Eh] [bp-12h]@15
  char v22; // [sp+Fh] [bp-11h]@16
  char v23; // [sp+10h] [bp-10h]@17
  unsigned __int8 v24; // [sp+11h] [bp-Fh]@18
  unsigned __int8 v25; // [sp+12h] [bp-Eh]@18
  unsigned __int8 v26; // [sp+13h] [bp-Dh]@18
  unsigned __int8 v27; // [sp+14h] [bp-Ch]@18
  unsigned __int8 v28; // [sp+15h] [bp-Bh]@18
  unsigned __int8 v29; // [sp+16h] [bp-Ah]@18
  unsigned __int8 v30; // [sp+17h] [bp-9h]@18
  int v31; // [sp+18h] [bp-8h]@8
  int v32; // [sp+1Ch] [bp-4h]@4
  int v33; // [sp+28h] [bp+8h]@1
  int v34; // [sp+28h] [bp+8h]@4
  int v35; // [sp+28h] [bp+8h]@7

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20);
  v3 = *(_DWORD *)v2;
  v33 = *(_DWORD *)(v2 + 4);
  if ( !*(_DWORD *)(v2 + 4) )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
      return 0;
    v3 = *(_DWORD *)v2;
    v33 = *(_DWORD *)(v2 + 4);
  }
  v34 = v33 - 1;
  v4 = 0;
  *(_WORD *)((char *)&v4 + 1) = *(_BYTE *)v3;
  v5 = v3 + 1;
  v32 = v4;
  if ( v34 )
    goto LABEL_7;
  if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
    return 0;
  v5 = *(_DWORD *)v2;
  v34 = *(_DWORD *)(v2 + 4);
LABEL_7:
  v35 = v34 - 1;
  v32 = *(_BYTE *)v5 + v32 - 2;
  v6 = v5 + 1;
  if ( v32 < 12 )
  {
    v17 = v32;
    *(_DWORD *)(*(_DWORD *)v1 + 20) = 77;
    *(_DWORD *)(*(_DWORD *)v1 + 24) = v17;
    goto LABEL_22;
  }
  v31 = 0;
  do
  {
    if ( !v35 )
    {
      if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v2 + 12))(v1) )
        return 0;
      v6 = *(_DWORD *)v2;
      v35 = *(_DWORD *)(v2 + 4);
    }
    --v35;
    v7 = *(_BYTE *)v6;
    v8 = v31;
    ++v6;
    ++v31;
    v10 = __OFSUB__(v31, 12);
    v9 = v31 - 12 < 0;
    *(&v19 + v8) = v7;
  }
  while ( v9 ^ v10 );
  v32 -= 12;
  if ( v19 != 65 || v20 != 100 || v21 != 111 || v22 != 98 || v23 != 101 )
  {
    *(_DWORD *)(*(_DWORD *)v1 + 20) = 77;
    *(_DWORD *)(*(_DWORD *)v1 + 24) = v32 + 12;
LABEL_22:
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, 1);
    goto LABEL_23;
  }
  v11 = v27;
  v12 = *(_DWORD *)v1 + 24;
  *(_DWORD *)v12 = v25 + (v24 << 8);
  v13 = v11 + (v26 << 8);
  v14 = v29;
  *(_DWORD *)(v12 + 4) = v13;
  *(_DWORD *)(v12 + 8) = v14 + (v28 << 8);
  *(_DWORD *)(v12 + 12) = v30;
  *(_DWORD *)(*(_DWORD *)v1 + 20) = 75;
  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, 1);
  v15 = v30;
  *(_BYTE *)(v1 + 262) = 1;
  *(_BYTE *)(v1 + 263) = v15;
LABEL_23:
  v18 = v32 == 0;
  v9 = v32 < 0;
  *(_DWORD *)v2 = v6;
  *(_DWORD *)(v2 + 4) = v35;
  if ( !(v9 | v18) )
    (*(void (__cdecl **)(int, int))(*(_DWORD *)(v1 + 20) + 16))(v1, v32);
  return 1;
}

//----- (100595F9) --------------------------------------------------------
char __usercall sub_100595F9<al>(int a1<esi>)
{
  int v1; // ebx@1
  int v2; // edi@1
  int v3; // eax@4
  int v4; // edi@4
  int v5; // ST18_4@7
  int v6; // edi@7
  signed int v7; // eax@11
  int v8; // edi@11
  signed int v9; // eax@14
  signed int v10; // eax@14
  signed int v12; // [sp+8h] [bp-10h]@14
  signed int v13; // [sp+Ch] [bp-Ch]@11
  int v14; // [sp+10h] [bp-8h]@4
  int v15; // [sp+10h] [bp-8h]@7
  int v16; // [sp+14h] [bp-4h]@1
  int v17; // [sp+14h] [bp-4h]@4
  int v18; // [sp+14h] [bp-4h]@7
  int v19; // [sp+14h] [bp-4h]@11

  v1 = *(_DWORD *)(a1 + 20);
  v2 = *(_DWORD *)v1;
  v16 = *(_DWORD *)(v1 + 4);
  if ( !*(_DWORD *)(v1 + 4) )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v1 + 12))(a1) )
      return 0;
    v2 = *(_DWORD *)v1;
    v16 = *(_DWORD *)(v1 + 4);
  }
  v17 = v16 - 1;
  v3 = 0;
  *(_WORD *)((char *)&v3 + 1) = *(_BYTE *)v2;
  v4 = v2 + 1;
  v14 = v3;
  if ( v17 )
    goto LABEL_7;
  if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v1 + 12))(a1) )
    return 0;
  v4 = *(_DWORD *)v1;
  v17 = *(_DWORD *)(v1 + 4);
LABEL_7:
  v18 = v17 - 1;
  v5 = *(_BYTE *)v4 + v14;
  v6 = v4 + 1;
  v15 = v5 - 2;
  while ( v15 > 0 )
  {
    if ( !v18 )
    {
      if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
        return 0;
      v6 = *(_DWORD *)v1;
      v18 = *(_DWORD *)(v1 + 4);
    }
    v7 = *(_BYTE *)v6;
    v19 = v18 - 1;
    v8 = v6 + 1;
    v13 = v7;
    if ( !v19 )
    {
      if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
        return 0;
      v8 = *(_DWORD *)v1;
      v19 = *(_DWORD *)(v1 + 4);
    }
    v9 = *(_BYTE *)v8;
    v18 = v19 - 1;
    v15 -= 2;
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 78;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = v13;
    v12 = v9;
    *(_DWORD *)(*(_DWORD *)a1 + 28) = v9;
    v6 = v8 + 1;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
    v10 = v13;
    if ( v13 < 0 || v13 >= 32 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 26;
      *(_DWORD *)(*(_DWORD *)a1 + 24) = v13;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
      v10 = v13;
    }
    if ( v10 < 16 )
    {
      *(_BYTE *)(v10 + a1 + 202) = v12 & 0xF;
      *(_BYTE *)(v10 + a1 + 218) = v12 >> 4;
      if ( (unsigned __int8)(v12 & 0xF) > (unsigned __int8)(v12 >> 4) )
      {
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 27;
        *(_DWORD *)(*(_DWORD *)a1 + 24) = v12;
        (**(void (__cdecl ***)(_DWORD))a1)(a1);
      }
    }
    else
    {
      *(_BYTE *)(v10 + a1 + 218) = v12;
    }
  }
  *(_DWORD *)(v1 + 4) = v18;
  *(_DWORD *)v1 = v6;
  return 1;
}

//----- (10059750) --------------------------------------------------------
char __usercall sub_10059750<al>(int a1<ebx>)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // edi@1
  int v4; // eax@4
  int v5; // edi@4
  int v6; // eax@7
  int v7; // edi@7
  int v8; // eax@11
  int v9; // ecx@11
  int v10; // ecx@11
  int v11; // edi@11
  char v12; // cl@15
  int v13; // eax@16
  int v14; // eax@16
  int i; // edi@19
  char v16; // al@23
  int v17; // eax@24
  int v18; // edi@25
  int v19; // edi@32
  int v20; // eax@32
  char v22[256]; // [sp+8h] [bp-130h]@23
  int v23; // [sp+108h] [bp-30h]@11
  int v24; // [sp+10Ch] [bp-2Ch]@1
  char v25; // [sp+110h] [bp-28h]@11
  unsigned __int8 v26; // [sp+111h] [bp-27h]@16
  unsigned __int8 v27; // [sp+112h] [bp-26h]@16
  unsigned __int8 v28; // [sp+113h] [bp-25h]@16
  unsigned __int8 v29; // [sp+114h] [bp-24h]@16
  unsigned __int8 v30; // [sp+115h] [bp-23h]@16
  unsigned __int8 v31; // [sp+116h] [bp-22h]@16
  unsigned __int8 v32; // [sp+117h] [bp-21h]@16
  unsigned __int8 v33; // [sp+118h] [bp-20h]@16
  unsigned __int8 v34; // [sp+119h] [bp-1Fh]@16
  unsigned __int8 v35; // [sp+11Ah] [bp-1Eh]@16
  unsigned __int8 v36; // [sp+11Bh] [bp-1Dh]@16
  unsigned __int8 v37; // [sp+11Ch] [bp-1Ch]@16
  unsigned __int8 v38; // [sp+11Dh] [bp-1Bh]@16
  unsigned __int8 v39; // [sp+11Eh] [bp-1Ah]@16
  unsigned __int8 v40; // [sp+11Fh] [bp-19h]@16
  unsigned __int8 v41; // [sp+120h] [bp-18h]@16
  int v42; // [sp+124h] [bp-14h]@11
  int v43; // [sp+128h] [bp-10h]@11
  int v44; // [sp+12Ch] [bp-Ch]@4
  int v45; // [sp+130h] [bp-8h]@3
  int v46; // [sp+134h] [bp-4h]@1

  v1 = *(_DWORD *)(a1 + 20);
  v2 = *(_DWORD *)(v1 + 4);
  v3 = *(_DWORD *)v1;
  v24 = *(_DWORD *)(a1 + 20);
  v46 = v2;
  if ( !v2 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v1 + 12))(a1) )
      return 0;
    v45 = *(_DWORD *)v1;
    v3 = v45;
    v46 = *(_DWORD *)(v1 + 4);
  }
  --v46;
  v4 = 0;
  *(_WORD *)((char *)&v4 + 1) = *(_BYTE *)v3;
  v5 = v3 + 1;
  v44 = v4;
  if ( v46 )
    goto LABEL_7;
  if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v1 + 12))(a1) )
    return 0;
  v45 = *(_DWORD *)v1;
  v5 = v45;
  v46 = *(_DWORD *)(v1 + 4);
LABEL_7:
  v6 = *(_BYTE *)v5;
  --v46;
  v7 = v5 + 1;
  v44 = v6 + v44 - 2;
  while ( v44 > 0 )
  {
    if ( !v46 )
    {
      if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
        return 0;
      v45 = *(_DWORD *)v1;
      v7 = v45;
      v46 = *(_DWORD *)(v1 + 4);
    }
    v8 = *(_BYTE *)v7;
    v9 = *(_DWORD *)a1;
    --v46;
    *(_DWORD *)(v9 + 20) = 79;
    v10 = *(_DWORD *)a1;
    v23 = v8;
    *(_DWORD *)(v10 + 24) = v8;
    v11 = v7 + 1;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
    v25 = 0;
    v42 = 0;
    v43 = 1;
    do
    {
      if ( !v46 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
          return 0;
        v45 = *(_DWORD *)v1;
        v11 = v45;
        v46 = *(_DWORD *)(v1 + 4);
      }
      v12 = *(_BYTE *)v11;
      --v46;
      *(&v25 + v43) = v12;
      v42 += (unsigned __int8)v12;
      ++v11;
      ++v43;
      v45 = v11;
    }
    while ( v43 <= 16 );
    v13 = *(_DWORD *)a1 + 24;
    *(_DWORD *)v13 = v26;
    *(_DWORD *)(v13 + 4) = v27;
    *(_DWORD *)(v13 + 8) = v28;
    v44 -= 17;
    *(_DWORD *)(v13 + 12) = v29;
    *(_DWORD *)(v13 + 16) = v30;
    *(_DWORD *)(v13 + 20) = v31;
    *(_DWORD *)(v13 + 24) = v32;
    *(_DWORD *)(v13 + 28) = v33;
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 85;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 2);
    v14 = *(_DWORD *)a1 + 24;
    *(_DWORD *)v14 = v34;
    *(_DWORD *)(v14 + 4) = v35;
    *(_DWORD *)(v14 + 8) = v36;
    *(_DWORD *)(v14 + 12) = v37;
    *(_DWORD *)(v14 + 16) = v38;
    *(_DWORD *)(v14 + 20) = v39;
    *(_DWORD *)(v14 + 24) = v40;
    *(_DWORD *)(v14 + 28) = v41;
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 85;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 2);
    if ( v42 > 256 || v42 > v44 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 28;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    for ( i = 0; i < v42; ++i )
    {
      if ( !v46 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
          return 0;
        v45 = *(_DWORD *)v1;
        v46 = *(_DWORD *)(v1 + 4);
      }
      --v46;
      v16 = *(_BYTE *)v45++;
      v22[i] = v16;
    }
    v44 -= v42;
    v17 = v23;
    if ( v23 & 0x10 )
    {
      v17 = v23 - 16;
      v18 = a1 + 4 * (v23 - 16) + 176;
      v43 = a1 + 4 * (v23 - 16) + 176;
    }
    else
    {
      v43 = a1 + 4 * v23 + 160;
      v18 = a1 + 4 * v23 + 160;
    }
    if ( v17 < 0 || v17 >= 4 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 29;
      *(_DWORD *)(*(_DWORD *)a1 + 24) = v17;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    if ( !*(_DWORD *)v18 )
      *(_DWORD *)v18 = sub_1006010F(a1);
    v19 = *(_DWORD *)v18;
    v20 = v43;
    *(_DWORD *)v19 = *(_DWORD *)&v25;
    v19 += 4;
    *(_DWORD *)v19 = *(_DWORD *)&v29;
    v19 += 4;
    *(_DWORD *)v19 = *(_DWORD *)&v33;
    v19 += 4;
    *(_DWORD *)v19 = *(_DWORD *)&v37;
    *(_BYTE *)(v19 + 4) = v41;
    memcpy((void *)(*(_DWORD *)v20 + 17), v22, 0x100u);
    v7 = v45;
    v1 = v24;
  }
  *(_DWORD *)(v1 + 4) = v46;
  *(_DWORD *)v1 = v7;
  return 1;
}
// 10059750: using guessed type char var_130[256];

//----- (100599E4) --------------------------------------------------------
char __usercall sub_100599E4<al>(int a1<ebx>)
{
  int v1; // edi@1
  int v2; // esi@1
  int v3; // eax@4
  int v4; // esi@4
  int v5; // ST20_4@7
  int v6; // esi@7
  signed int v7; // ecx@11
  signed int v8; // eax@11
  signed int v9; // eax@11
  int v10; // eax@13
  __int16 v11; // ax@20
  signed int v12; // eax@28
  int v13; // ecx@30
  int v14; // eax@32
  int v16; // [sp+8h] [bp-18h]@15
  signed int v17; // [sp+Ch] [bp-14h]@11
  signed int v18; // [sp+10h] [bp-10h]@11
  int v19; // [sp+10h] [bp-10h]@13
  signed int v20; // [sp+10h] [bp-10h]@15
  int v21; // [sp+10h] [bp-10h]@30
  __int16 v22; // [sp+14h] [bp-Ch]@20
  __int16 v23; // [sp+14h] [bp-Ch]@23
  signed int v24; // [sp+14h] [bp-Ch]@30
  int v25; // [sp+18h] [bp-8h]@4
  int v26; // [sp+18h] [bp-8h]@7
  int v27; // [sp+1Ch] [bp-4h]@1
  int v28; // [sp+1Ch] [bp-4h]@4
  int v29; // [sp+1Ch] [bp-4h]@7

  v1 = *(_DWORD *)(a1 + 20);
  v2 = *(_DWORD *)v1;
  v27 = *(_DWORD *)(v1 + 4);
  if ( !*(_DWORD *)(v1 + 4) )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v1 + 12))(a1) )
      return 0;
    v2 = *(_DWORD *)v1;
    v27 = *(_DWORD *)(v1 + 4);
  }
  v28 = v27 - 1;
  v3 = 0;
  *(_WORD *)((char *)&v3 + 1) = *(_BYTE *)v2;
  v4 = v2 + 1;
  v25 = v3;
  if ( v28 )
    goto LABEL_7;
  if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v1 + 12))(a1) )
    return 0;
  v4 = *(_DWORD *)v1;
  v28 = *(_DWORD *)(v1 + 4);
LABEL_7:
  v29 = v28 - 1;
  v5 = *(_BYTE *)v4 + v25;
  v6 = v4 + 1;
  v26 = v5 - 2;
  while ( v26 > 0 )
  {
    if ( !v29 )
    {
      if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
        return 0;
      v6 = *(_DWORD *)v1;
      v29 = *(_DWORD *)(v1 + 4);
    }
    v7 = *(_BYTE *)v6;
    --v29;
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 80;
    v8 = v7;
    v7 &= 0xFu;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = v7;
    v18 = v7;
    v17 = v8 >> 4;
    *(_DWORD *)(*(_DWORD *)a1 + 28) = v8 >> 4;
    ++v6;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
    v9 = v18;
    if ( v18 >= 4 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 30;
      *(_DWORD *)(*(_DWORD *)a1 + 24) = v18;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
      v9 = v18;
    }
    v10 = a1 + 4 * v9 + 144;
    v19 = v10;
    if ( !*(_DWORD *)v10 )
    {
      *(_DWORD *)v10 = sub_100600F3(a1);
      v10 = v19;
    }
    v16 = *(_DWORD *)v10;
    v20 = (signed int)dword_10076418;
    do
    {
      if ( v17 )
      {
        if ( !v29 )
        {
          if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
            return 0;
          v6 = *(_DWORD *)v1;
          v29 = *(_DWORD *)(v1 + 4);
        }
        --v29;
        LOBYTE(v11) = 0;
        HIBYTE(v11) = *(_BYTE *)v6++;
        v22 = v11;
        if ( !v29 )
        {
          if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
            return 0;
          v6 = *(_DWORD *)v1;
          v29 = *(_DWORD *)(v1 + 4);
        }
        v23 = *(_BYTE *)v6 + v22;
      }
      else
      {
        if ( !v29 )
        {
          if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v1 + 12))(a1) )
            return 0;
          v6 = *(_DWORD *)v1;
          v29 = *(_DWORD *)(v1 + 4);
        }
        v23 = *(_BYTE *)v6;
      }
      v12 = v20;
      --v29;
      v20 += 4;
      ++v6;
      *(_WORD *)(v16 + 2 * *(_DWORD *)v12) = v23;
    }
    while ( v20 < (signed int)&unk_10076518 );
    if ( *(_DWORD *)(*(_DWORD *)a1 + 104) >= 2 )
    {
      v13 = v16 + 4;
      v21 = v16 + 4;
      v24 = 8;
      while ( 1 )
      {
        v14 = *(_DWORD *)a1 + 24;
        *(_DWORD *)v14 = *(_WORD *)(v13 - 4);
        *(_DWORD *)(v14 + 4) = *(_WORD *)(v13 - 2);
        *(_DWORD *)(v14 + 8) = *(_WORD *)v13;
        *(_DWORD *)(v14 + 12) = *(_WORD *)(v13 + 2);
        *(_DWORD *)(v14 + 16) = *(_WORD *)(v13 + 4);
        *(_DWORD *)(v14 + 20) = *(_WORD *)(v13 + 6);
        *(_DWORD *)(v14 + 24) = *(_WORD *)(v13 + 8);
        *(_DWORD *)(v14 + 28) = *(_WORD *)(v13 + 10);
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 92;
        (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 2);
        v21 += 16;
        --v24;
        if ( !v24 )
          break;
        v13 = v21;
      }
    }
    v26 -= 65;
    if ( v17 )
      v26 -= 64;
  }
  *(_DWORD *)(v1 + 4) = v29;
  *(_DWORD *)v1 = v6;
  return 1;
}
// 10076418: using guessed type int dword_10076418[];

//----- (10059C0D) --------------------------------------------------------
char __cdecl sub_10059C0D(int a1)
{
  int v1; // eax@1
  int v2; // esi@1
  int v3; // ebx@1
  int v4; // edi@1
  int v5; // ecx@4
  int v6; // ebx@4
  int v7; // edi@4
  int v8; // ST14_4@7
  int v9; // ebx@7
  int v10; // edi@7
  int v11; // ecx@12
  int v12; // ebx@12
  int v13; // edi@12
  int v15; // ST14_4@16
  int v16; // [sp+Ch] [bp-4h]@4
  int v17; // [sp+Ch] [bp-4h]@12

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_DWORD *)v2;
  if ( !v3 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(a1) )
      return 0;
    v4 = *(_DWORD *)v2;
    v3 = *(_DWORD *)(v2 + 4);
    v1 = a1;
  }
  v5 = 0;
  *(_WORD *)((char *)&v5 + 1) = *(_BYTE *)v4;
  v6 = v3 - 1;
  v7 = v4 + 1;
  v16 = v5;
  if ( !v6 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
      return 0;
    v7 = *(_DWORD *)v2;
    v6 = *(_DWORD *)(v2 + 4);
    v1 = a1;
  }
  v8 = *(_BYTE *)v7 + v16;
  v9 = v6 - 1;
  v10 = v7 + 1;
  if ( v8 != 4 )
  {
    *(_DWORD *)(*(_DWORD *)v1 + 20) = 9;
    (**(void (__cdecl ***)(_DWORD))v1)(v1);
    v1 = a1;
  }
  if ( !v9 )
  {
    if ( (unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
    {
      v10 = *(_DWORD *)v2;
      v9 = *(_DWORD *)(v2 + 4);
      v1 = a1;
      goto LABEL_12;
    }
    return 0;
  }
LABEL_12:
  v11 = 0;
  *(_WORD *)((char *)&v11 + 1) = *(_BYTE *)v10;
  v12 = v9 - 1;
  v13 = v10 + 1;
  v17 = v11;
  if ( !v12 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(v2 + 12))(v1) )
      return 0;
    v13 = *(_DWORD *)v2;
    v12 = *(_DWORD *)(v2 + 4);
    v1 = a1;
  }
  v15 = *(_BYTE *)v13 + v17;
  *(_DWORD *)(*(_DWORD *)v1 + 20) = 81;
  *(_DWORD *)(*(_DWORD *)v1 + 24) = v15;
  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, 1);
  *(_DWORD *)(a1 + 252) = v15;
  *(_DWORD *)v2 = v13 + 1;
  *(_DWORD *)(v2 + 4) = v12 - 1;
  return 1;
}

//----- (10059CE4) --------------------------------------------------------
char __cdecl sub_10059CE4(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // ebx@1
  int v4; // eax@4
  int v5; // ebx@4
  int v7; // ST1C_4@8
  int v8; // [sp+Ch] [bp-4h]@4
  int v9; // [sp+18h] [bp+8h]@1
  int v10; // [sp+18h] [bp+8h]@4

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20);
  v3 = *(_DWORD *)v2;
  v9 = *(_DWORD *)(v2 + 4);
  if ( !*(_DWORD *)(v2 + 4) )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
      return 0;
    v3 = *(_DWORD *)v2;
    v9 = *(_DWORD *)(v2 + 4);
  }
  v10 = v9 - 1;
  v4 = 0;
  *(_WORD *)((char *)&v4 + 1) = *(_BYTE *)v3;
  v5 = v3 + 1;
  v8 = v4;
  if ( !v10 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
      return 0;
    v5 = *(_DWORD *)v2;
    v10 = *(_DWORD *)(v2 + 4);
  }
  v7 = *(_BYTE *)v5 + v8;
  *(_DWORD *)(*(_DWORD *)v1 + 20) = 90;
  *(_DWORD *)(*(_DWORD *)v1 + 24) = *(_DWORD *)(v1 + 376);
  *(_DWORD *)(*(_DWORD *)v1 + 28) = v7;
  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, 1);
  *(_DWORD *)v2 = v5 + 1;
  *(_DWORD *)(v2 + 4) = v10 - 1;
  (*(void (__cdecl **)(int, int))(*(_DWORD *)(v1 + 20) + 16))(v1, v7 - 2);
  return 1;
}

//----- (10059D80) --------------------------------------------------------
char __cdecl sub_10059D80(int a1)
{
  int v1; // eax@1
  int v2; // esi@1
  int v3; // ebx@1
  int v4; // edi@1
  int v5; // ecx@7
  int v6; // ecx@11
  int v8; // [sp+Ch] [bp-4h]@11

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_DWORD *)v2;
  while ( 1 )
  {
    if ( !v3 )
    {
      if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
        return 0;
      v1 = a1;
      v4 = *(_DWORD *)v2;
      v3 = *(_DWORD *)(v2 + 4);
    }
    v5 = *(_BYTE *)v4;
    --v3;
    ++v4;
    if ( v5 != 255 )
    {
      ++*(_DWORD *)(*(_DWORD *)(v1 + 400) + 88);
      goto LABEL_3;
    }
    do
    {
      if ( !v3 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
          return 0;
        v4 = *(_DWORD *)v2;
        v3 = *(_DWORD *)(v2 + 4);
        v1 = a1;
      }
      v6 = *(_BYTE *)v4;
      --v3;
      ++v4;
      v8 = v6;
    }
    while ( v6 == 255 );
    if ( v6 )
      break;
    *(_DWORD *)(*(_DWORD *)(v1 + 400) + 88) += 2;
LABEL_3:
    *(_DWORD *)v2 = v4;
    *(_DWORD *)(v2 + 4) = v3;
  }
  if ( *(_DWORD *)(*(_DWORD *)(v1 + 400) + 88) )
  {
    *(_DWORD *)(*(_DWORD *)v1 + 20) = 112;
    *(_DWORD *)(*(_DWORD *)v1 + 24) = *(_DWORD *)(*(_DWORD *)(v1 + 400) + 88);
    *(_DWORD *)(*(_DWORD *)v1 + 28) = v6;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, -1);
    *(_DWORD *)(*(_DWORD *)(a1 + 400) + 88) = 0;
    v1 = a1;
    v6 = v8;
  }
  *(_DWORD *)(v1 + 376) = v6;
  *(_DWORD *)v2 = v4;
  *(_DWORD *)(v2 + 4) = v3;
  return 1;
}

//----- (10059E57) --------------------------------------------------------
char __cdecl sub_10059E57(int a1)
{
  int v1; // eax@1
  int v2; // esi@1
  int v3; // ebx@1
  int v4; // edi@1
  int v5; // edx@4
  int v6; // ebx@4
  int v7; // edi@4
  int v9; // ecx@8
  int v10; // ebx@8
  int v11; // edi@8
  int v12; // [sp+Ch] [bp-4h]@4
  int v13; // [sp+Ch] [bp-4h]@8

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_DWORD *)v2;
  if ( !v3 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(a1) )
      return 0;
    v4 = *(_DWORD *)v2;
    v3 = *(_DWORD *)(v2 + 4);
    v1 = a1;
  }
  v5 = *(_BYTE *)v4;
  v6 = v3 - 1;
  v7 = v4 + 1;
  v12 = v5;
  if ( !v6 )
  {
    if ( !(unsigned __int8)(*(int (__cdecl **)(int))(v2 + 12))(v1) )
      return 0;
    v7 = *(_DWORD *)v2;
    v6 = *(_DWORD *)(v2 + 4);
    v1 = a1;
    v5 = v12;
  }
  v9 = *(_BYTE *)v7;
  v10 = v6 - 1;
  v11 = v7 + 1;
  v13 = v9;
  if ( v5 != 255 || v9 != 216 )
  {
    *(_DWORD *)(*(_DWORD *)v1 + 20) = 52;
    *(_DWORD *)(*(_DWORD *)v1 + 24) = v5;
    *(_DWORD *)(*(_DWORD *)v1 + 28) = v9;
    (**(void (__cdecl ***)(_DWORD))v1)(v1);
    v1 = a1;
    v9 = v13;
  }
  *(_DWORD *)(v1 + 376) = v9;
  *(_DWORD *)v2 = v11;
  *(_DWORD *)(v2 + 4) = v10;
  return 1;
}

//----- (10059EEE) --------------------------------------------------------
signed int __cdecl sub_10059EEE(int a1)
{
  char v1; // al@3
  signed int v2; // eax@6
  char v3; // cl@10
  char v4; // al@16
  int v5; // eax@19
  int v6; // eax@20
  int v7; // eax@21
  signed int result; // eax@54
  char v9; // [sp-4h] [bp-10h]@17

  while ( 1 )
  {
    if ( !*(_DWORD *)(a1 + 376) )
    {
      v1 = *(_BYTE *)(*(_DWORD *)(a1 + 400) + 80) ? sub_10059D80(a1) : sub_10059E57(a1);
      if ( !v1 )
        return 0;
    }
    v2 = *(_DWORD *)(a1 + 376);
    if ( v2 <= 207 )
    {
      if ( v2 >= 205 )
        goto LABEL_28;
      if ( v2 > 200 )
      {
        v5 = v2 - 201;
        if ( v5 )
        {
          v6 = v5 - 1;
          if ( v6 )
          {
            v7 = v6 - 1;
            if ( !v7 )
            {
LABEL_28:
              *(_DWORD *)(*(_DWORD *)a1 + 20) = 59;
LABEL_37:
              *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 376);
              (**(void (__cdecl ***)(_DWORD))a1)(a1);
              goto LABEL_52;
            }
            if ( v7 != 1 )
              goto LABEL_36;
            v4 = sub_100595F9(a1);
            goto LABEL_51;
          }
          v3 = 1;
          v9 = 1;
          goto LABEL_27;
        }
        v9 = 1;
      }
      else
      {
        if ( v2 >= 197 )
          goto LABEL_28;
        v3 = 1;
        if ( v2 == 1 )
          goto LABEL_40;
        if ( v2 <= 191 )
          goto LABEL_36;
        if ( v2 > 193 )
        {
          if ( v2 != 194 )
          {
            if ( v2 == 195 )
              goto LABEL_28;
            if ( v2 != 196 )
              goto LABEL_36;
            v4 = sub_10059750(a1);
            goto LABEL_51;
          }
          v9 = 0;
          goto LABEL_27;
        }
        v9 = 0;
      }
      v3 = 0;
LABEL_27:
      v4 = sub_10058C96(v3, a1, v9);
      goto LABEL_51;
    }
    if ( v2 > 219 )
    {
      if ( v2 == 220 )
      {
        v4 = sub_10059CE4(a1);
      }
      else
      {
        if ( v2 == 221 )
        {
          v4 = sub_10059C0D(a1);
        }
        else
        {
          if ( v2 <= 223 )
            goto LABEL_36;
          if ( v2 <= 239 )
          {
            v4 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(a1 + 400) + 4 * v2 - 880))(a1);
          }
          else
          {
            if ( v2 != 254 )
              goto LABEL_36;
            v4 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(a1 + 400) + 12))(a1);
          }
        }
      }
      goto LABEL_51;
    }
    if ( v2 != 219 )
      break;
    v4 = sub_100599E4(a1);
LABEL_51:
    if ( !v4 )
      return 0;
LABEL_52:
    *(_DWORD *)(a1 + 376) = 0;
  }
  if ( v2 < 208 )
    goto LABEL_36;
  if ( v2 <= 215 )
  {
LABEL_40:
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 91;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 376);
    (*(void (__cdecl **)(_DWORD, _DWORD))(*(_DWORD *)a1 + 4))(a1, 1);
    goto LABEL_52;
  }
  if ( v2 == 216 )
  {
    v4 = sub_10058C08(a1);
    goto LABEL_51;
  }
  if ( v2 == 217 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 84;
    (*(void (__cdecl **)(_DWORD, _DWORD))(*(_DWORD *)a1 + 4))(a1, 1);
    result = 2;
    goto LABEL_55;
  }
  if ( v2 != 218 )
  {
LABEL_36:
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 67;
    goto LABEL_37;
  }
  if ( sub_10058F91(a1) )
  {
    result = 1;
LABEL_55:
    *(_DWORD *)(a1 + 376) = 0;
    return result;
  }
  return 0;
}

//----- (1005A0DB) --------------------------------------------------------
char __cdecl sub_1005A0DB(int a1)
{
  if ( *(_DWORD *)(a1 + 376) || sub_10059D80(a1) )
  {
    if ( *(_DWORD *)(a1 + 376) == *(_DWORD *)(*(_DWORD *)(a1 + 400) + 84) + 208 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 97;
      *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(*(_DWORD *)(a1 + 400) + 84);
      (*(void (__cdecl **)(_DWORD, _DWORD))(*(_DWORD *)a1 + 4))(a1, 3);
      *(_DWORD *)(a1 + 376) = 0;
LABEL_5:
      *(_DWORD *)(*(_DWORD *)(a1 + 400) + 84) = ((unsigned __int8)*(_DWORD *)(*(_DWORD *)(a1 + 400) + 84) + 1) & 7;
      return 1;
    }
    if ( (unsigned __int8)(*(int (__cdecl **)(_DWORD, _DWORD))(*(_DWORD *)(a1 + 20) + 20))(
                            a1,
                            *(_DWORD *)(*(_DWORD *)(a1 + 400) + 84)) )
      goto LABEL_5;
  }
  return 0;
}

//----- (1005A159) --------------------------------------------------------
char __cdecl sub_1005A159(int a1, int a2)
{
  int v2; // esi@1
  signed int v3; // edi@1
  signed int v5; // [sp+14h] [bp+4h]@3

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 376);
  *(_DWORD *)(*(_DWORD *)a1 + 20) = 117;
  *(_DWORD *)(*(_DWORD *)a1 + 24) = v3;
  *(_DWORD *)(*(_DWORD *)a1 + 28) = a2;
  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, -1);
  while ( 1 )
  {
    if ( v3 < 192 )
    {
LABEL_3:
      v5 = 2;
      goto LABEL_12;
    }
    if ( v3 < 208 || v3 > 215 || v3 == ((a2 + 1) & 7) + 208 || v3 == ((a2 + 2) & 7) + 208 )
    {
      v5 = 3;
    }
    else
    {
      if ( v3 == ((a2 - 1) & 7) + 208 || v3 == ((a2 - 2) & 7) + 208 )
        goto LABEL_3;
      v5 = 1;
    }
LABEL_12:
    *(_DWORD *)(*(_DWORD *)v2 + 20) = 96;
    *(_DWORD *)(*(_DWORD *)v2 + 24) = v3;
    *(_DWORD *)(*(_DWORD *)v2 + 28) = v5;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v2 + 4))(v2, 4);
    if ( v5 == 1 )
      break;
    if ( v5 == 2 )
    {
      if ( !sub_10059D80(v2) )
        return 0;
      v3 = *(_DWORD *)(v2 + 376);
    }
    else
    {
      if ( v5 == 3 )
        return 1;
    }
  }
  *(_DWORD *)(v2 + 376) = 0;
  return 1;
}

//----- (1005A248) --------------------------------------------------------
int __cdecl sub_1005A248(int a1)
{
  int result; // eax@1

  *(_DWORD *)(a1 + 196) = 0;
  *(_DWORD *)(a1 + 124) = 0;
  *(_DWORD *)(a1 + 376) = 0;
  *(_BYTE *)(*(_DWORD *)(a1 + 400) + 80) = 0;
  *(_BYTE *)(*(_DWORD *)(a1 + 400) + 81) = 0;
  result = *(_DWORD *)(a1 + 400);
  *(_DWORD *)(result + 88) = 0;
  return result;
}

//----- (1005A272) --------------------------------------------------------
int __cdecl sub_1005A272(int a1)
{
  int v1; // eax@1
  signed int v2; // eax@1

  v1 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 92);
  *(_DWORD *)(a1 + 400) = v1;
  *(_DWORD *)v1 = sub_1005A248;
  *(_DWORD *)(*(_DWORD *)(a1 + 400) + 4) = sub_10059EEE;
  *(_DWORD *)(*(_DWORD *)(a1 + 400) + 8) = sub_1005A0DB;
  *(_DWORD *)(*(_DWORD *)(a1 + 400) + 12) = sub_10059CE4;
  v2 = 16;
  do
  {
    *(_DWORD *)(v2 + *(_DWORD *)(a1 + 400)) = sub_10059CE4;
    v2 += 4;
  }
  while ( v2 < 80 );
  *(_DWORD *)(*(_DWORD *)(a1 + 400) + 16) = sub_10059243;
  *(_DWORD *)(*(_DWORD *)(a1 + 400) + 72) = sub_1005947F;
  return sub_1005A248(a1);
}

//----- (1005A2EF) --------------------------------------------------------
void __cdecl sub_1005A2EF(int a1)
{
  (*(void (__cdecl **)(_DWORD))(*(_DWORD *)a1 + 8))(a1);
  sub_100600D8(a1);
  exit(1);
}

//----- (1005A30A) --------------------------------------------------------
int __cdecl sub_1005A30A(int a1)
{
  char v2; // [sp+0h] [bp-C8h]@1

  return (*(int (__cdecl **)(int, char *))(*(_DWORD *)a1 + 12))(a1, &v2);
}

//----- (1005A327) --------------------------------------------------------
int __cdecl sub_1005A327(int a1, int a2)
{
  int result; // eax@1
  int v3; // esi@1

  result = a1;
  v3 = *(_DWORD *)a1;
  if ( a2 >= 0 )
  {
    if ( *(_DWORD *)(v3 + 104) >= a2 )
      result = (*(int (__cdecl **)(int))(v3 + 8))(a1);
  }
  else
  {
    if ( !*(_DWORD *)(v3 + 108) || *(_DWORD *)(v3 + 104) >= 3 )
      result = (*(int (__cdecl **)(int))(v3 + 8))(a1);
    ++*(_DWORD *)(v3 + 108);
  }
  return result;
}

//----- (1005A358) --------------------------------------------------------
int __cdecl sub_1005A358(int a1, char *Dest)
{
  int v2; // eax@1
  int v3; // edx@1
  const char *v4; // ecx@3
  int v5; // ecx@4
  int v6; // esi@5
  const char **v7; // ecx@9
  const char v8; // dl@10
  const char *i; // esi@10

  v2 = *(_DWORD *)a1;
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 20);
  if ( v3 <= 0 || v3 > *(_DWORD *)(v2 + 116) )
  {
    v5 = *(_DWORD *)(v2 + 120);
    if ( !v5 || (v6 = *(_DWORD *)(v2 + 124), v3 < v6) || v3 > *(_DWORD *)(v2 + 128) )
      goto LABEL_9;
    v4 = *(const char **)(v5 + 4 * (v3 - v6));
  }
  else
  {
    v4 = *(const char **)(*(_DWORD *)(v2 + 112) + 4 * v3);
  }
  if ( !v4 )
  {
LABEL_9:
    v7 = *(const char ***)(v2 + 112);
    *(_DWORD *)(v2 + 24) = v3;
    v4 = *v7;
  }
  v8 = *v4;
  for ( i = v4; ; v8 = *i )
  {
    if ( !v8 )
      return sprintf(
               Dest,
               v4,
               *(_DWORD *)(v2 + 24),
               *(_DWORD *)(v2 + 28),
               *(_DWORD *)(v2 + 32),
               *(_DWORD *)(v2 + 36),
               *(_DWORD *)(v2 + 40),
               *(_DWORD *)(v2 + 44),
               *(_DWORD *)(v2 + 48),
               *(_DWORD *)(v2 + 52));
    ++i;
    if ( v8 == 37 )
      break;
  }
  if ( *i != 115 )
    return sprintf(
             Dest,
             v4,
             *(_DWORD *)(v2 + 24),
             *(_DWORD *)(v2 + 28),
             *(_DWORD *)(v2 + 32),
             *(_DWORD *)(v2 + 36),
             *(_DWORD *)(v2 + 40),
             *(_DWORD *)(v2 + 44),
             *(_DWORD *)(v2 + 48),
             *(_DWORD *)(v2 + 52));
  return sprintf(Dest, v4, v2 + 24);
}

//----- (1005A3EF) --------------------------------------------------------
int __cdecl sub_1005A3EF(int a1)
{
  int result; // eax@1

  *(_DWORD *)(*(_DWORD *)a1 + 108) = 0;
  result = *(_DWORD *)a1;
  *(_DWORD *)(*(_DWORD *)a1 + 20) = 0;
  return result;
}

//----- (1005A400) --------------------------------------------------------
int __cdecl sub_1005A400(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)a1 = sub_1005A2EF;
  *(_DWORD *)(a1 + 4) = sub_1005A327;
  *(_DWORD *)(a1 + 8) = sub_1005A30A;
  *(_DWORD *)(a1 + 12) = sub_1005A358;
  *(_DWORD *)(a1 + 16) = sub_1005A3EF;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 108) = 0;
  *(_DWORD *)(a1 + 20) = 0;
  *(_DWORD *)(a1 + 112) = off_100749A0;
  *(_DWORD *)(a1 + 116) = 119;
  *(_DWORD *)(a1 + 120) = 0;
  *(_DWORD *)(a1 + 124) = 0;
  *(_DWORD *)(a1 + 128) = 0;
  return result;
}
// 100749A0: using guessed type char *off_100749A0[120];

//----- (1005A44C) --------------------------------------------------------
int __thiscall sub_1005A44C(void *this, int a2, const void *a3)
{
  int result; // eax@1
  signed int v4; // esi@1
  signed int v5; // edx@2
  int v6; // eax@7
  int v7; // eax@11

  result = 0;
  v4 = 0;
  do
  {
    v5 = *(_BYTE *)(a2 + v4++ + 268);
    if ( v5 < 41 || v5 > 122 || v5 > 90 && v5 < 97 )
    {
      *((_BYTE *)this + result) = 91;
      v6 = result + 1;
      *((_BYTE *)this + v6++) = byte_10075D18[(v5 >> 4) & 0xF];
      *((_BYTE *)this + v6) = byte_10075D18[v5 & 0xF];
      result = v6 + 1;
      *((_BYTE *)this + result) = 93;
    }
    else
    {
      *((_BYTE *)this + result) = v5;
    }
    ++result;
  }
  while ( v4 < 4 );
  if ( a3 )
  {
    *((_BYTE *)this + result) = 58;
    v7 = result + 1;
    *((_BYTE *)this + v7) = 32;
    result = (int)((char *)this + v7 + 1);
    memcpy((void *)result, a3, 0x40u);
    *(_BYTE *)(result + 63) = 0;
  }
  else
  {
    *((_BYTE *)this + result) = 0;
  }
  return result;
}

//----- (1005A4E0) --------------------------------------------------------
int __cdecl sub_1005A4E0(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 72) = a2;
  *(_DWORD *)(a1 + 64) = a3;
  *(_DWORD *)(a1 + 68) = a4;
  return result;
}

//----- (1005A502) --------------------------------------------------------
void __cdecl sub_1005A502(int *a1, int a2)
{
  int v2; // eax@1

  v2 = a1[16];
  if ( v2 )
    ((void (__cdecl *)(int *, int))v2)(a1, a2);
  longjmp(a1, 1);
}

//----- (1005A520) --------------------------------------------------------
int __cdecl sub_1005A520(int a1, int a2)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 68);
  if ( result )
    result = ((int (__cdecl *)(int, int))result)(a1, a2);
  return result;
}

//----- (1005A535) --------------------------------------------------------
void __cdecl sub_1005A535(int *a1, const void *a2)
{
  int v2; // [sp+0h] [bp-50h]@1

  sub_1005A44C(&v2, (int)a1, a2);
  sub_1005A502(a1, (int)&v2);
}

//----- (1005A55A) --------------------------------------------------------
int __cdecl sub_1005A55A(int a1, const void *a2)
{
  char v3; // [sp+0h] [bp-50h]@1

  sub_1005A44C(&v3, a1, a2);
  return sub_1005A520(a1, (int)&v3);
}

//----- (1005A57F) --------------------------------------------------------
int __cdecl sub_1005A57F(int a1, int a2, int a3, int a4)
{
  void *v4; // eax@1
  signed int v6; // eax@8
  int v7; // [sp-4h] [bp-Ch]@12
  int v8; // [sp+4h] [bp-4h]@1

  v4 = sub_10060DB1(1);
  v8 = (int)v4;
  if ( !v4 )
    return 0;
  if ( setjmp3(v4, 0) )
  {
    sub_10060E36(v8, *(void **)(v8 + 156));
    sub_10060DF3((void *)v8);
    return 0;
  }
  sub_1005A4E0(v8, a2, a3, a4);
  if ( !a1 || *(_BYTE *)a1 != 49 )
    sub_1005A502((int *)v8, (int)"Incompatible libpng version in application and library");
  *(_DWORD *)(v8 + 160) = 8192;
  *(_DWORD *)(v8 + 156) = sub_10060E00((int *)v8, 0x2000u);
  *(_DWORD *)(v8 + 132) = sub_1005D357;
  *(_DWORD *)(v8 + 136) = sub_1005D3AA;
  *(_DWORD *)(v8 + 140) = v8;
  v6 = sub_100608EA(v8 + 100, (int)"1.1.3", 56);
  if ( v6 == -6 )
  {
    v7 = (int)"zlib version error";
LABEL_15:
    sub_1005A502((int *)v8, v7);
  }
  if ( v6 == -4 || v6 == -2 )
  {
    v7 = (int)"zlib memory error";
    goto LABEL_15;
  }
  if ( v6 )
  {
    v7 = (int)"Unknown zlib error";
    goto LABEL_15;
  }
  *(_DWORD *)(v8 + 112) = *(_DWORD *)(v8 + 156);
  *(_DWORD *)(v8 + 116) = *(_DWORD *)(v8 + 160);
  sub_1005D285(v8, 0, 0);
  return v8;
}
// 1005D3AA: using guessed type int __cdecl sub_1005D3AA(_DWORD, _DWORD);
// 1006C57E: using guessed type int __cdecl setjmp3(_DWORD, _DWORD);

//----- (1005A742) --------------------------------------------------------
int __cdecl sub_1005A742(int a1, unsigned int a2)
{
  int v2; // esi@1
  unsigned __int8 v3; // al@1
  unsigned int v4; // ebx@2
  unsigned int v5; // edi@2
  int v6; // ST08_4@2
  int v7; // ebx@8
  int v8; // edi@9
  int result; // eax@24
  int v10; // [sp-4h] [bp-10h]@5
  int v11; // [sp-4h] [bp-10h]@25

  v2 = a1;
  v3 = *(_BYTE *)(a1 + 284);
  if ( v3 < 8u )
  {
    v4 = v3;
    v5 = 8 - v3;
    sub_1005D25D((int *)a1, v3 + a2 + 32, 8 - v3);
    v6 = a2 + 32;
    *(_BYTE *)(v2 + 284) = 8;
    if ( sub_1005D2F7(v6, v4, v5) )
    {
      if ( v4 < 4 && sub_1005D2F7(a2 + 32, v4, v5 - 4) )
        v10 = (int)"Not a PNG file";
      else
        v10 = (int)"PNG file corrupted by ASCII conversion";
      sub_1005A502((int *)v2, v10);
    }
  }
  v7 = v2 + 268;
  while ( 1 )
  {
    while ( 1 )
    {
      while ( 1 )
      {
        while ( 1 )
        {
          sub_1005D25D((int *)v2, (int)&a1, 4);
          v8 = sub_10060EA3((int)&a1);
          sub_1005D3AF(v2);
          sub_10060ED9((int *)v2, v2 + 268, 4u);
          if ( *(_DWORD *)v7 != *(_DWORD *)"IHDR" )
            break;
          sub_10061835((int *)v2, a2, v8);
        }
        if ( *(_DWORD *)v7 != *(_DWORD *)"PLTE" )
          break;
        sub_10061A2B((int *)v2, a2, v8);
      }
      if ( *(_DWORD *)v7 != *(_DWORD *)"IEND" )
        break;
      sub_10061B55((int *)v2, a2, v8);
    }
    if ( *(_DWORD *)v7 == *(_DWORD *)"IDAT" )
      break;
    if ( *(_DWORD *)v7 == *(_DWORD *)"gAMA" )
    {
      sub_10061B9F((int *)v2, a2, v8);
    }
    else
    {
      if ( *(_DWORD *)v7 == *(_DWORD *)"sRGB" )
      {
        sub_10061CAA(v2, a2, v8);
      }
      else
      {
        if ( *(_DWORD *)v7 == *(_DWORD *)"tRNS" )
          sub_10061D99(v2, a2, v8);
        else
          sub_10061F50((int *)v2, a2, v8);
      }
    }
  }
  result = *(_DWORD *)(v2 + 88);
  if ( !(result & 1) )
  {
    v11 = (int)"Missing IHDR before IDAT";
    goto LABEL_29;
  }
  if ( *(_BYTE *)(v2 + 278) == 3 && !(result & 2) )
  {
    v11 = (int)"Missing PLTE before IDAT";
LABEL_29:
    sub_1005A502((int *)v2, v11);
  }
  *(_DWORD *)(v2 + 88) |= 4u;
  *(_DWORD *)(v2 + 252) = v8;
  return result;
}

//----- (1005A8B5) --------------------------------------------------------
unsigned int __usercall sub_1005A8B5<eax>(int a1<ebx>, int a2, int a3)
{
  if ( !(*(_BYTE *)(a2 + 92) & 0x40) )
    sub_1006160D(a1, a2);
  return sub_1005BAF7(a2, a3);
}

//----- (1005A8E7) --------------------------------------------------------
int __usercall sub_1005A8E7<eax>(int a1<ecx>, int a2<ebx>, int a3, void *a4, void *a5)
{
  int v5; // esi@1
  int v6; // ST28_4@2
  int v7; // edi@5
  int result; // eax@13
  bool v9; // zf@20
  unsigned int v10; // eax@47
  unsigned int v11; // edx@47
  int v12; // ecx@47
  signed int v13; // eax@50
  int v14; // eax@52
  char v15; // al@62
  unsigned __int8 v16; // cl@62
  int v17; // eax@62
  int *v18; // eax@62
  int v19; // ecx@62
  int v20; // ST24_4@63
  void *v21; // [sp-Ch] [bp-14h]@71
  int v22; // [sp-8h] [bp-10h]@71
  int v23; // [sp-4h] [bp-Ch]@17

  v5 = a3;
  if ( !(*(_BYTE *)(a3 + 92) & 0x40) )
  {
    sub_1006160D(a2, a3);
    a1 = v6;
  }
  if ( !*(_BYTE *)(v5 + 275) || !(*(_BYTE *)(v5 + 96) & 2) )
  {
    v7 = 0;
    goto LABEL_38;
  }
  v7 = 0;
  if ( !*(_BYTE *)(v5 + 276) )
  {
    if ( !(*(_BYTE *)(v5 + 212) & 7) )
      goto LABEL_38;
    v9 = a5 == 0;
LABEL_34:
    if ( !v9 )
    {
      v23 = 255;
      goto LABEL_36;
    }
    return sub_10061F9A(a1, a2, v5);
  }
  if ( *(_BYTE *)(v5 + 276) == 1 )
  {
    if ( !(*(_BYTE *)(v5 + 212) & 7) && *(_DWORD *)(v5 + 184) >= 5u )
      goto LABEL_38;
    if ( a5 )
    {
      v23 = 15;
      goto LABEL_36;
    }
    return sub_10061F9A(a1, a2, v5);
  }
  if ( *(_BYTE *)(v5 + 276) == 2 )
  {
    a1 = *(_DWORD *)(v5 + 212);
    LOBYTE(a1) = a1 & 7;
    if ( (_BYTE)a1 == 4 )
      goto LABEL_38;
    if ( !a5 )
      return sub_10061F9A(a1, a2, v5);
    v9 = (*(_DWORD *)(v5 + 212) & 4) == 0;
    goto LABEL_34;
  }
  if ( *(_BYTE *)(v5 + 276) == 3 )
  {
    if ( !(*(_BYTE *)(v5 + 212) & 3) && *(_DWORD *)(v5 + 184) >= 3u )
      goto LABEL_38;
    if ( a5 )
    {
      v23 = 51;
      goto LABEL_36;
    }
    return sub_10061F9A(a1, a2, v5);
  }
  if ( *(_BYTE *)(v5 + 276) == 4 )
  {
    a1 = *(_DWORD *)(v5 + 212);
    LOBYTE(a1) = a1 & 3;
    if ( (_BYTE)a1 == 2 )
      goto LABEL_38;
    if ( !a5 )
      return sub_10061F9A(a1, a2, v5);
    v9 = (*(_DWORD *)(v5 + 212) & 2) == 0;
    goto LABEL_34;
  }
  if ( *(_BYTE *)(v5 + 276) == 5 )
  {
    if ( !(*(_BYTE *)(v5 + 212) & 1) && *(_DWORD *)(v5 + 184) >= 2u )
      goto LABEL_38;
    if ( a5 )
    {
      v23 = 85;
LABEL_36:
      sub_10060FB3(v5, a5, v23);
      return sub_10061F9A(a1, a2, v5);
    }
    return sub_10061F9A(a1, a2, v5);
  }
  if ( *(_BYTE *)(v5 + 276) == 6 && !(*(_BYTE *)(v5 + 212) & 1) )
    return sub_10061F9A(a1, a2, v5);
LABEL_38:
  if ( !(*(_BYTE *)(v5 + 88) & 4) )
    sub_1005A502((int *)v5, (int)"Invalid attempt to read row data");
  *(_DWORD *)(v5 + 112) = *(_DWORD *)(v5 + 220);
  *(_DWORD *)(v5 + 116) = *(_DWORD *)(v5 + 204);
  while ( 1 )
  {
    if ( *(_DWORD *)(v5 + 104) == v7 )
    {
      if ( *(_DWORD *)(v5 + 252) == v7 )
      {
        do
        {
          sub_100617A9((int *)v5, 0);
          sub_1005D25D((int *)v5, (int)&a3, 4);
          *(_DWORD *)(v5 + 252) = sub_10060EA3((int)&a3);
          sub_1005D3AF(v5);
          sub_10060ED9((int *)v5, v5 + 268, 4u);
          if ( *(_DWORD *)(v5 + 268) != *(_DWORD *)"IDAT" )
            sub_1005A502((int *)v5, (int)"Not enough image data");
        }
        while ( !*(_DWORD *)(v5 + 252) );
        v7 = 0;
      }
      v10 = *(_DWORD *)(v5 + 160);
      v11 = *(_DWORD *)(v5 + 252);
      v12 = *(_DWORD *)(v5 + 156);
      *(_DWORD *)(v5 + 104) = v10;
      *(_DWORD *)(v5 + 100) = v12;
      if ( v10 > v11 )
        *(_DWORD *)(v5 + 104) = v11;
      sub_10060ED9((int *)v5, v12, *(_DWORD *)(v5 + 104));
      *(_DWORD *)(v5 + 252) -= *(_DWORD *)(v5 + 104);
    }
    v13 = sub_10060901(v5 + 100, 1);
    if ( v13 == 1 )
      break;
    if ( v13 != v7 )
    {
      v14 = *(_DWORD *)(v5 + 124);
      if ( v14 == v7 )
        v14 = (int)"Decompression error";
      sub_1005A502((int *)v5, v14);
    }
    if ( *(_DWORD *)(v5 + 116) == v7 )
      goto LABEL_62;
  }
  if ( *(_DWORD *)(v5 + 116) != v7 || *(_DWORD *)(v5 + 104) != v7 || *(_DWORD *)(v5 + 252) != v7 )
    sub_1005A502((int *)v5, (int)"Extra compressed data");
  *(_DWORD *)(v5 + 88) |= 8u;
  *(_DWORD *)(v5 + 92) |= 0x20u;
LABEL_62:
  v15 = *(_BYTE *)(v5 + 278);
  *(_BYTE *)(v5 + 250) = *(_BYTE *)(v5 + 282);
  *(_BYTE *)(v5 + 249) = *(_BYTE *)(v5 + 279);
  v16 = *(_BYTE *)(v5 + 281);
  *(_BYTE *)(v5 + 251) = v16;
  *(_BYTE *)(v5 + 248) = v15;
  v17 = *(_DWORD *)(v5 + 208);
  v19 = v17 * v16 + 7;
  *(_DWORD *)(v5 + 240) = v17;
  v18 = *(int **)(v5 + 220);
  *(_DWORD *)(v5 + 244) = (unsigned int)v19 >> 3;
  sub_10061492(v5, v5 + 240, (int)((char *)v18 + 1), *(_DWORD *)(v5 + 216) + 1, *(_BYTE *)v18);
  sub_10060E4F(v5, *(void **)(v5 + 216), *(const void **)(v5 + 220), *(_DWORD *)(v5 + 200) + 1);
  if ( *(_DWORD *)(v5 + 96) )
  {
    sub_1005CF17((_DWORD *)v5);
    v19 = v20;
  }
  if ( *(_BYTE *)(v5 + 275) && *(_DWORD *)(v5 + 96) & 2 )
  {
    LOBYTE(v19) = *(_BYTE *)(v5 + 276);
    if ( (unsigned __int8)v19 < 6u )
      sub_100611C9(v5 + 240, *(_DWORD *)(v5 + 220) + 1, (unsigned __int8)v19);
    if ( a5 )
      sub_10060FB3(v5, a5, dword_10075D50[*(_BYTE *)(v5 + 276)]);
    if ( !a4 )
      goto LABEL_77;
    v22 = dword_10075D34[*(_BYTE *)(v5 + 276)];
    v21 = a4;
  }
  else
  {
    if ( a4 )
      sub_10060FB3(v5, a4, 255);
    if ( !a5 )
      goto LABEL_77;
    v22 = 255;
    v21 = a5;
  }
  sub_10060FB3(v5, v21, v22);
LABEL_77:
  sub_10061F9A(v19, 0, v5);
  result = *(_DWORD *)(v5 + 364);
  if ( result )
    result = ((int (__cdecl *)(int, _DWORD, _DWORD))result)(v5, *(_DWORD *)(v5 + 212), *(_BYTE *)(v5 + 276));
  return result;
}
// 10075D34: using guessed type int dword_10075D34[];
// 10075D50: using guessed type int dword_10075D50[];

//----- (1005AD08) --------------------------------------------------------
signed int __cdecl sub_1005AD08(int a1, int a2)
{
  int v2; // esi@1
  signed int result; // eax@1
  int v4; // edi@1
  int v5; // ST0C_4@1
  int v6; // ecx@1
  int v7; // ebx@3
  signed int v8; // [sp+8h] [bp-4h]@2
  int v9; // [sp+14h] [bp+8h]@4

  v2 = a1;
  result = sub_1005B270(a1);
  v4 = *(_DWORD *)(a1 + 188);
  v6 = v5;
  *(_DWORD *)(a1 + 192) = v4;
  if ( result > 0 )
  {
    v8 = result;
    do
    {
      v7 = a2;
      if ( v4 )
      {
        v9 = v4;
        do
        {
          result = sub_1005A8E7(v6, v7, v2, *(void **)v7, 0);
          v7 += 4;
          --v9;
        }
        while ( v9 );
      }
      --v8;
    }
    while ( v8 );
  }
  return result;
}

//----- (1005AE55) --------------------------------------------------------
int __cdecl sub_1005AE55(int a1, void *a2, void *a3)
{
  signed int v3; // edi@1
  signed int v4; // esi@10
  int result; // eax@13
  int v6; // edx@13
  int v7; // esi@13
  char v8; // [sp+Ch] [bp-40h]@13

  v3 = 0;
  if ( a2 )
    sub_1005D414(a1, a2);
  if ( a3 )
    sub_1005D414(a1, a3);
  sub_10060E36(a1, *(void **)(a1 + 156));
  sub_10060E36(a1, *(void **)(a1 + 220));
  sub_10060E36(a1, *(void **)(a1 + 216));
  sub_10060E36(a1, *(void **)(a1 + 372));
  sub_10060E36(a1, *(void **)(a1 + 376));
  sub_10060E36(a1, *(void **)(a1 + 312));
  if ( *(_BYTE *)(a1 + 93) & 0x10 )
    sub_1005D3AA(a1, *(_DWORD *)(a1 + 260));
  if ( *(_BYTE *)(a1 + 93) & 0x20 )
    sub_10060E36(a1, *(void **)(a1 + 348));
  if ( *(_DWORD *)(a1 + 324) )
  {
    v4 = 1 << (8 - *(_BYTE *)(a1 + 300));
    if ( v4 > 0 )
    {
      do
        sub_10060E36(a1, *(void **)(*(_DWORD *)(a1 + 324) + 4 * v3++));
      while ( v3 < v4 );
    }
    sub_10060E36(a1, *(void **)(a1 + 324));
  }
  sub_100607C7(a1 + 100);
  result = *(_DWORD *)(a1 + 72);
  v6 = *(_DWORD *)(a1 + 64);
  memcpy(&v8, (const void *)a1, 0x40u);
  v7 = *(_DWORD *)(a1 + 68);
  memset((void *)a1, 0, 0x19Cu);
  *(_DWORD *)(a1 + 68) = v7;
  memcpy((void *)a1, &v8, 0x40u);
  *(_DWORD *)(a1 + 64) = v6;
  *(_DWORD *)(a1 + 72) = result;
  return result;
}
// 1005D3AA: using guessed type int __cdecl sub_1005D3AA(_DWORD, _DWORD);

//----- (1005AF87) --------------------------------------------------------
void __cdecl sub_1005AF87(int *a1, void **a2, void **a3)
{
  void *v3; // esi@1
  void *v4; // [sp+Ch] [bp-8h]@1
  int v5; // [sp+10h] [bp-4h]@1

  v3 = 0;
  v5 = 0;
  v4 = 0;
  if ( a1 )
    v5 = *a1;
  if ( a2 )
    v3 = *a2;
  if ( a3 )
    v4 = *a3;
  if ( v5 )
    sub_1005AE55(v5, v3, v4);
  if ( v3 )
  {
    sub_10060DF3(v3);
    *a2 = 0;
  }
  if ( v4 )
  {
    sub_10060DF3(v4);
    *a3 = 0;
  }
  if ( v5 )
  {
    sub_10060DF3((void *)v5);
    *a1 = 0;
  }
}

//----- (1005B008) --------------------------------------------------------
int __cdecl sub_1005B008(int a1, int a2, int a3)
{
  int result; // eax@3

  if ( a1 && a2 )
    result = a3 & *(_DWORD *)(a2 + 8);
  else
    result = 0;
  return result;
}

//----- (1005B022) --------------------------------------------------------
int __cdecl sub_1005B022(int a1, int a2)
{
  int result; // eax@3

  if ( a1 && a2 )
    result = *(_DWORD *)(a2 + 12);
  else
    result = 0;
  return result;
}

//----- (1005B038) --------------------------------------------------------
char __cdecl sub_1005B038(int a1, int a2)
{
  char result; // al@3

  if ( a1 && a2 )
    result = *(_BYTE *)(a2 + 29);
  else
    result = 0;
  return result;
}

//----- (1005B064) --------------------------------------------------------
signed int __cdecl sub_1005B064(int a1, int a2, int a3)
{
  signed int result; // eax@5

  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 1 && a3 )
  {
    *(double *)a3 = *(float *)(a2 + 40);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1005B08D) --------------------------------------------------------
signed int __cdecl sub_1005B08D(int a1, int a2, int a3)
{
  signed int result; // eax@3

  if ( a1 && a2 && (result = 2048, *(_DWORD *)(a2 + 8) & 0x800) && a3 )
    *(_DWORD *)a3 = *(_BYTE *)(a2 + 44);
  else
    result = 0;
  return result;
}

//----- (1005B0B8) --------------------------------------------------------
signed int __cdecl sub_1005B0B8(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  int v9; // ecx@13
  int v10; // eax@14
  signed int result; // eax@20

  if ( a1 && a2 && a3 && a4 && a5 && a6 )
  {
    *(_DWORD *)a3 = *(_DWORD *)a2;
    *(_DWORD *)a4 = *(_DWORD *)(a2 + 4);
    *(_DWORD *)a5 = *(_BYTE *)(a2 + 24);
    *(_DWORD *)a6 = *(_BYTE *)(a2 + 25);
    if ( a8 )
      *(_DWORD *)a8 = *(_BYTE *)(a2 + 26);
    if ( a9 )
      *(_DWORD *)a9 = *(_BYTE *)(a2 + 27);
    if ( a7 )
      *(_DWORD *)a7 = *(_BYTE *)(a2 + 28);
    v9 = *(_DWORD *)a6;
    if ( *(_DWORD *)a6 == 3 )
      v10 = 1;
    else
      v10 = *(_DWORD *)a6 & 2 | 1;
    if ( v9 & 4 )
      ++v10;
    if ( *(_DWORD *)a3 > 0x7FFFFFFFu / ((v10 * *(_DWORD *)a5 + 7) >> 3) )
      sub_1005A520(a1, (int)"Width too large for libpng to process image data.");
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1005B189) --------------------------------------------------------
signed int __cdecl sub_1005B189(int a1, int a2, int a3, int a4)
{
  signed int result; // eax@5

  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 8 && a3 )
  {
    *(_DWORD *)a3 = *(_DWORD *)(a2 + 16);
    *(_DWORD *)a4 = *(_WORD *)(a2 + 20);
    result = 8;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1005B1BC) --------------------------------------------------------
signed int __cdecl sub_1005B1BC(int a1, int a2, int a3, int a4, int a5)
{
  signed int result; // eax@1

  result = 0;
  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 0x10 )
  {
    if ( *(_BYTE *)(a2 + 25) == 3 )
    {
      if ( a3 )
      {
        *(_DWORD *)a3 = *(_DWORD *)(a2 + 48);
        result = 16;
      }
      if ( a5 )
        *(_DWORD *)a5 = a2 + 52;
    }
    else
    {
      if ( a5 )
      {
        *(_DWORD *)a5 = a2 + 52;
        result = 16;
      }
      if ( a3 )
        *(_DWORD *)a3 = 0;
    }
    if ( a4 )
    {
      *(_DWORD *)a4 = *(_WORD *)(a2 + 22);
      result |= 0x10u;
    }
  }
  return result;
}

//----- (1005B223) --------------------------------------------------------
int __cdecl sub_1005B223(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(result + 96) |= 1u;
  return result;
}

//----- (1005B22C) --------------------------------------------------------
int __cdecl sub_1005B22C(int a1)
{
  int result; // eax@1

  result = a1;
  if ( *(_BYTE *)(a1 + 279) == 16 )
    *(_DWORD *)(a1 + 96) |= 0x10u;
  return result;
}

//----- (1005B23E) --------------------------------------------------------
int __cdecl sub_1005B23E(int a1)
{
  int result; // eax@1

  result = a1;
  if ( *(_BYTE *)(a1 + 279) < 8u )
  {
    *(_DWORD *)(a1 + 96) |= 4u;
    *(_BYTE *)(a1 + 280) = 8;
  }
  return result;
}

//----- (1005B270) --------------------------------------------------------
signed int __cdecl sub_1005B270(int a1)
{
  signed int result; // eax@2

  if ( *(_BYTE *)(a1 + 275) )
  {
    *(_DWORD *)(a1 + 96) |= 2u;
    result = 7;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (1005B289) --------------------------------------------------------
int __cdecl sub_1005B289(int a1, unsigned __int8 a2, int a3)
{
  int result; // eax@1
  char v4; // cl@4

  result = a1;
  *(_BYTE *)(result + 97) |= 0x80u;
  *(_WORD *)(a1 + 286) = a2;
  if ( a3 == 1 )
    *(_BYTE *)(a1 + 92) |= 0x80u;
  else
    *(_BYTE *)(a1 + 92) &= 0x7Fu;
  v4 = *(_BYTE *)(a1 + 278);
  if ( v4 == 2 )
    *(_BYTE *)(a1 + 283) = 4;
  if ( !v4 )
  {
    if ( *(_BYTE *)(a1 + 279) >= 8u )
      *(_BYTE *)(a1 + 283) = 2;
  }
  return result;
}

//----- (1005B2D6) --------------------------------------------------------
void __cdecl sub_1005B2D6(int a1, int a2)
{
  int v2; // eax@2
  int v3; // esi@3
  char v4; // dl@4

  if ( *(_BYTE *)(a1 + 9) == 16 )
  {
    v2 = a2;
    if ( *(_DWORD *)a1 * *(_BYTE *)(a1 + 10) )
    {
      v3 = *(_DWORD *)a1 * *(_BYTE *)(a1 + 10);
      do
      {
        v4 = *(_BYTE *)v2;
        *(_BYTE *)v2 = *(_BYTE *)(v2 + 1);
        *(_BYTE *)(v2 + 1) = v4;
        v2 += 2;
        --v3;
      }
      while ( v3 );
    }
  }
}

//----- (1005B303) --------------------------------------------------------
char __cdecl sub_1005B303(int a1, int a2)
{
  int v2; // eax@1
  char v3; // dl@1
  int v4; // ecx@2
  int v5; // esi@5
  char v6; // dl@6
  int v7; // esi@10
  char v8; // dl@11
  int v9; // esi@16
  char v10; // cl@17
  char v11; // dl@17
  char v12; // cl@17
  int v13; // esi@21
  char v14; // cl@22
  char v15; // dl@22
  char v16; // cl@22

  LOBYTE(v2) = a1;
  v3 = *(_BYTE *)(a1 + 8);
  if ( v3 & 2 )
  {
    v4 = *(_DWORD *)a1;
    LOBYTE(v2) = *(_BYTE *)(a1 + 9);
    if ( (_BYTE)v2 == 8 )
    {
      if ( v3 == 2 )
      {
        v2 = a2;
        if ( v4 )
        {
          v5 = *(_DWORD *)a1;
          do
          {
            v6 = *(_BYTE *)v2;
            *(_BYTE *)v2 = *(_BYTE *)(v2 + 2);
            *(_BYTE *)(v2 + 2) = v6;
            v2 += 3;
            --v5;
          }
          while ( v5 );
        }
      }
      else
      {
        if ( v3 == 6 )
        {
          v2 = a2;
          if ( v4 )
          {
            v7 = *(_DWORD *)a1;
            do
            {
              v8 = *(_BYTE *)v2;
              *(_BYTE *)v2 = *(_BYTE *)(v2 + 2);
              *(_BYTE *)(v2 + 2) = v8;
              v2 += 4;
              --v7;
            }
            while ( v7 );
          }
        }
      }
    }
    else
    {
      if ( (_BYTE)v2 == 16 )
      {
        if ( v3 == 2 )
        {
          if ( v4 )
          {
            v2 = a2 + 1;
            v9 = *(_DWORD *)a1;
            do
            {
              v10 = *(_BYTE *)(v2 - 1);
              *(_BYTE *)(v2 - 1) = *(_BYTE *)(v2 + 3);
              v11 = *(_BYTE *)(v2 + 4);
              *(_BYTE *)(v2 + 3) = v10;
              v12 = *(_BYTE *)v2;
              *(_BYTE *)v2 = v11;
              *(_BYTE *)(v2 + 4) = v12;
              v2 += 6;
              --v9;
            }
            while ( v9 );
          }
        }
        else
        {
          if ( v3 == 6 && v4 )
          {
            v2 = a2 + 1;
            v13 = *(_DWORD *)a1;
            do
            {
              v14 = *(_BYTE *)(v2 - 1);
              *(_BYTE *)(v2 - 1) = *(_BYTE *)(v2 + 3);
              v15 = *(_BYTE *)(v2 + 4);
              *(_BYTE *)(v2 + 3) = v14;
              v16 = *(_BYTE *)v2;
              *(_BYTE *)v2 = v15;
              *(_BYTE *)(v2 + 4) = v16;
              v2 += 8;
              --v13;
            }
            while ( v13 );
          }
        }
      }
    }
  }
  return v2;
}

//----- (1005BA9D) --------------------------------------------------------
int __cdecl sub_1005BA9D(int a1, double a2, double a3)
{
  int result; // eax@1

  result = a1;
  if ( fabs(a2 * a3 - 1.0) > 0.05 )
    *(_BYTE *)(a1 + 97) |= 0x20u;
  *(float *)(a1 + 304) = a3;
  *(float *)(a1 + 308) = a2;
  return result;
}

//----- (1005BAE5) --------------------------------------------------------
int __cdecl sub_1005BAE5(int a1)
{
  int result; // eax@1

  result = a1;
  *(_BYTE *)(result + 97) |= 0x10u;
  return result;
}

//----- (1005BAEE) --------------------------------------------------------
int __cdecl sub_1005BAEE(int a1)
{
  int result; // eax@1

  result = a1;
  *(_BYTE *)(result + 97) |= 0x10u;
  return result;
}

//----- (1005BAF7) --------------------------------------------------------
unsigned int __cdecl sub_1005BAF7(int a1, int a2)
{
  char v2; // dl@2
  char v3; // dl@15
  char v4; // dl@23
  unsigned __int8 v5; // al@33
  unsigned int result; // eax@33

  if ( *(_BYTE *)(a1 + 97) & 0x10 )
  {
    v2 = *(_BYTE *)(a2 + 25);
    if ( v2 == 3 )
    {
      *(_BYTE *)(a2 + 25) = 4 * (*(_WORD *)(a1 + 266) != 0) + 2;
    }
    else
    {
      if ( *(_WORD *)(a1 + 266) )
        *(_BYTE *)(a2 + 25) = v2 | 4;
      if ( *(_BYTE *)(a2 + 24) >= 8u )
        goto LABEL_8;
    }
    *(_BYTE *)(a2 + 24) = 8;
LABEL_8:
    *(_WORD *)(a2 + 22) = 0;
  }
  if ( *(_BYTE *)(a1 + 97) & 0x20 )
    *(_DWORD *)(a2 + 40) = *(_DWORD *)(a1 + 304);
  if ( *(_BYTE *)(a1 + 97) & 4 && *(_BYTE *)(a2 + 24) == 16 )
    *(_BYTE *)(a2 + 24) = 8;
  if ( *(_BYTE *)(a1 + 96) & 0x40 )
  {
    v3 = *(_BYTE *)(a2 + 25);
    if ( v3 == 2 || v3 == 6 )
    {
      if ( *(_DWORD *)(a1 + 372) && *(_BYTE *)(a2 + 24) == 8 )
        *(_BYTE *)(a2 + 25) = 3;
    }
  }
  if ( *(_BYTE *)(a1 + 96) & 4 && *(_BYTE *)(a2 + 24) < 8u )
    *(_BYTE *)(a2 + 24) = 8;
  v4 = *(_BYTE *)(a2 + 25);
  if ( v4 != 3 && v4 & 2 )
    *(_BYTE *)(a2 + 29) = 3;
  else
    *(_BYTE *)(a2 + 29) = 1;
  if ( v4 & 4 )
    ++*(_BYTE *)(a2 + 29);
  if ( *(_BYTE *)(a1 + 97) & 0x80 && (v4 == 2 || !v4) )
    ++*(_BYTE *)(a2 + 29);
  v5 = *(_BYTE *)(a2 + 29) * *(_BYTE *)(a2 + 24);
  *(_BYTE *)(a2 + 30) = v5;
  result = (*(_DWORD *)a2 * (unsigned int)v5 + 7) >> 3;
  *(_DWORD *)(a2 + 12) = result;
  return result;
}

//----- (1005BBE2) --------------------------------------------------------
void __cdecl sub_1005BBE2(int a1, int a2)
{
  int v2; // ebx@1
  unsigned __int8 v3; // cl@1
  int v4; // eax@2
  int v5; // ecx@2
  int v6; // ecx@3
  unsigned int v7; // esi@5
  int v8; // edi@5
  int v9; // edx@5
  unsigned int v10; // esi@12
  int v11; // edi@12
  int v12; // edx@12
  unsigned int v13; // esi@19
  int v14; // edi@19
  int v15; // edx@19
  unsigned __int8 v16; // cl@26
  int v17; // [sp+4h] [bp-4h]@6
  int v18; // [sp+4h] [bp-4h]@13
  int v19; // [sp+4h] [bp-4h]@20

  v2 = a1;
  v3 = *(_BYTE *)(a1 + 9);
  if ( v3 < 8u )
  {
    v4 = *(_DWORD *)a1;
    v5 = v3 - 1;
    if ( v5 )
    {
      v6 = v5 - 1;
      if ( v6 )
      {
        if ( v6 != 2 || (v7 = a2 + ((unsigned int)(v4 - 1) >> 1), v8 = v4 + a2 - 1, v9 = 4 - 4 * ((v4 - 1) & 1), !v4) )
          goto LABEL_26;
        v17 = *(_DWORD *)a1;
        do
        {
          *(_BYTE *)v8 = (*(_BYTE *)v7 >> v9) & 0xF;
          if ( v9 == 4 )
          {
            v9 = 0;
            --v7;
          }
          else
          {
            v9 = 4;
          }
          --v8;
          --v17;
        }
        while ( v17 );
        goto LABEL_25;
      }
      v10 = a2 + ((unsigned int)(v4 - 1) >> 2);
      v11 = v4 + a2 - 1;
      v12 = 6 - 2 * ((v4 - 1) & 3);
      if ( v4 )
      {
        v18 = *(_DWORD *)a1;
        do
        {
          *(_BYTE *)v11 = (*(_BYTE *)v10 >> v12) & 3;
          if ( v12 == 6 )
          {
            v12 = 0;
            --v10;
          }
          else
          {
            v12 += 2;
          }
          --v11;
          --v18;
        }
        while ( v18 );
LABEL_25:
        v2 = a1;
        goto LABEL_26;
      }
    }
    else
    {
      v13 = a2 + ((unsigned int)(v4 - 1) >> 3);
      v14 = v4 + a2 - 1;
      v15 = 7 - ((v4 - 1) & 7);
      if ( v4 )
      {
        v19 = *(_DWORD *)a1;
        do
        {
          *(_BYTE *)v14 = (*(_BYTE *)v13 >> v15) & 1;
          if ( v15 == 7 )
          {
            v15 = 0;
            --v13;
          }
          else
          {
            ++v15;
          }
          --v14;
          --v19;
        }
        while ( v19 );
        goto LABEL_25;
      }
    }
LABEL_26:
    v16 = *(_BYTE *)(v2 + 10);
    *(_BYTE *)(v2 + 9) = 8;
    *(_BYTE *)(v2 + 11) = 8 * v16;
    *(_DWORD *)(v2 + 4) = v4 * v16;
  }
}

//----- (1005BCF2) --------------------------------------------------------
char __cdecl sub_1005BCF2(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  int v5; // edi@2
  bool v6; // zf@2
  int v7; // edx@3
  int v8; // ebx@3
  unsigned int v9; // ebx@3
  signed int v10; // ecx@7
  int v11; // esi@17
  int v12; // esi@18
  int v13; // esi@20
  unsigned int i; // edi@20
  int v15; // esi@23
  int v16; // edi@23
  unsigned int v17; // esi@26
  int v19; // [sp+4h] [bp-14h]@5
  int v20; // [sp+8h] [bp-10h]@3
  int v21; // [sp+Ch] [bp-Ch]@3
  unsigned int v22; // [sp+14h] [bp-4h]@17
  signed int v23; // [sp+20h] [bp+8h]@2
  unsigned int j; // [sp+20h] [bp+8h]@17
  int v25; // [sp+20h] [bp+8h]@20

  v3 = a1;
  LOBYTE(v4) = *(_BYTE *)(a1 + 8);
  if ( (_BYTE)v4 != 3 )
  {
    v23 = 0;
    v5 = *(_DWORD *)v3;
    v6 = (v4 & 2) == 0;
    LOBYTE(v4) = a3;
    if ( v6 )
    {
      v7 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 3);
      v9 = 1;
    }
    else
    {
      v7 = *(_BYTE *)(v3 + 9) - *(_BYTE *)a3;
      v8 = *(_BYTE *)(a3 + 2);
      v20 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 1);
      v21 = *(_BYTE *)(v3 + 9) - v8;
      v9 = 3;
    }
    v6 = (*(_BYTE *)(v3 + 8) & 4) == 0;
    v19 = v7;
    if ( !v6 )
    {
      v4 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 4);
      *(&v19 + v9) = v4;
      LOBYTE(v7) = v19;
      ++v9;
    }
    v10 = 0;
    if ( (signed int)v9 > 0 )
    {
      do
      {
        v4 = (int)(&v19 + v10);
        if ( *(_DWORD *)v4 > 0 )
        {
          v23 = 1;
        }
        else
        {
          *(_DWORD *)v4 = 0;
          LOBYTE(v7) = v19;
        }
        ++v10;
      }
      while ( v10 < (signed int)v9 );
      if ( (_WORD)v23 )
      {
        if ( *(_BYTE *)(v3 + 9) == 2 )
        {
          v17 = *(_DWORD *)(v3 + 4);
          v4 = a2;
          if ( v17 > 0 )
          {
            do
            {
              *(_BYTE *)v4 = (*(_BYTE *)v4 >> 1) & 0x55;
              ++v4;
              --v17;
            }
            while ( v17 );
          }
        }
        else
        {
          if ( *(_BYTE *)(v3 + 9) == 4 )
          {
            v15 = *(_DWORD *)(v3 + 4);
            v16 = a2;
            for ( LOBYTE(v4) = (15 >> v7) | (240 >> v7) & 0xF0; v15; --v15 )
            {
              *(_BYTE *)v16 = v4 & (*(_BYTE *)v16 >> v7);
              ++v16;
            }
          }
          else
          {
            LOBYTE(v4) = *(_BYTE *)(v3 + 9) - 8;
            if ( *(_BYTE *)(v3 + 9) == 8 )
            {
              v13 = a2;
              v25 = v9 * v5;
              for ( i = 0; i < v25; *(_BYTE *)v13++ >>= *((_BYTE *)&v19 + 4 * i++ % v9) )
                v4 = i / v9;
            }
            else
            {
              LOBYTE(v4) = *(_BYTE *)(v3 + 9) - 16;
              if ( *(_BYTE *)(v3 + 9) == 16 )
              {
                v11 = a2;
                v22 = v9 * v5;
                for ( j = 0; j < v22; LOBYTE(v4) = j )
                {
                  LOWORD(v4) = (unsigned __int16)(*(_BYTE *)(v11 + 1) + (*(_BYTE *)v11 << 8)) >> *((_WORD *)&v19
                                                                                                 + 2 * j % v9);
                  *(_BYTE *)v11 = BYTE1(v4);
                  v12 = v11 + 1;
                  *(_BYTE *)v12 = v4;
                  v11 = v12 + 1;
                  ++j;
                }
              }
            }
          }
        }
      }
    }
  }
  return v4;
}

//----- (1005BE69) --------------------------------------------------------
int __cdecl sub_1005BE69(int a1, int a2)
{
  int result; // eax@1
  int v3; // esi@2
  int v4; // edx@2
  int v5; // edi@3
  char v6; // cl@4
  unsigned __int8 v7; // cl@5
  char v8; // dl@5
  int v9; // ecx@5

  result = a1;
  if ( *(_BYTE *)(a1 + 9) == 16 )
  {
    v3 = a2;
    v4 = a2;
    if ( *(_DWORD *)a1 * *(_BYTE *)(a1 + 10) )
    {
      v5 = *(_DWORD *)a1 * *(_BYTE *)(a1 + 10);
      do
      {
        v6 = *(_BYTE *)v4;
        v4 += 2;
        *(_BYTE *)v3++ = v6;
        --v5;
      }
      while ( v5 );
    }
    v7 = *(_BYTE *)(a1 + 10);
    v8 = 8 * v7;
    v9 = *(_DWORD *)a1 * v7;
    *(_BYTE *)(a1 + 9) = 8;
    *(_BYTE *)(a1 + 11) = v8;
    *(_DWORD *)(a1 + 4) = v9;
  }
  return result;
}

//----- (1005BEAD) --------------------------------------------------------
unsigned int __cdecl sub_1005BEAD(int a1, int a2, unsigned int a3, char a4)
{
  char v4; // dl@1
  int v5; // esi@1
  char v6; // cl@1
  unsigned int result; // eax@1
  unsigned int v8; // ebx@1
  char v9; // cl@2
  int v10; // ecx@3
  int v11; // edi@3
  int v12; // edi@6
  bool v13; // zf@6
  int v14; // edi@10
  int v15; // ecx@14
  int v16; // edi@15
  int v17; // ecx@16
  int v18; // edi@16
  int v19; // ecx@17
  int v20; // edi@18
  char v21; // cl@20
  int v22; // edi@20
  char v23; // cl@23
  int v24; // ecx@25
  int v25; // edi@25
  int v26; // edi@27
  int v27; // ecx@27
  char v28; // bl@27
  int v29; // edi@29
  int v30; // ecx@29
  int v31; // edi@31
  int v32; // ecx@31
  int v33; // edi@34
  int v34; // ecx@34
  int v35; // ecx@37
  int v36; // edi@37
  char v37; // bl@37
  int v38; // ecx@39
  int v39; // edi@42
  int v40; // ecx@42
  int v41; // [sp+18h] [bp+8h]@5
  unsigned int v42; // [sp+18h] [bp+8h]@9
  int v43; // [sp+18h] [bp+8h]@18
  int v44; // [sp+18h] [bp+8h]@20
  int v45; // [sp+18h] [bp+8h]@26
  unsigned int v46; // [sp+18h] [bp+8h]@30
  char v47; // [sp+1Bh] [bp+Bh]@1
  int v48; // [sp+20h] [bp+10h]@15
  unsigned int v49; // [sp+20h] [bp+10h]@19
  int v50; // [sp+20h] [bp+10h]@36
  unsigned int v51; // [sp+20h] [bp+10h]@41

  v4 = a3;
  v5 = a1;
  v6 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  v8 = a3 >> 8;
  v47 = BYTE1(a3);
  if ( v6 )
  {
    if ( v6 != 2 )
      return result;
    v23 = *(_BYTE *)(v5 + 9);
    if ( v23 == 8 )
    {
      if ( a4 & 0x80 )
      {
        v24 = a2 + 2 * result + result;
        v25 = v24 + result;
        if ( result > 1 )
        {
          v45 = result - 1;
          do
          {
            v26 = v25 - 1;
            *(_BYTE *)v26 = a3;
            v27 = v24 - 1;
            --v26;
            *(_BYTE *)v26 = *(_BYTE *)v27--;
            v28 = *(_BYTE *)v27;
            --v26;
            v24 = v27 - 1;
            *(_BYTE *)v26 = v28;
            v25 = v26 - 1;
            v13 = v45-- == 1;
            *(_BYTE *)v25 = *(_BYTE *)v24;
          }
          while ( !v13 );
        }
        *(_BYTE *)(v25 - 1) = a3;
      }
      else
      {
        v29 = a2 + 2 * result + result;
        v30 = v29 + result;
        if ( result )
        {
          v46 = result;
          do
          {
            v31 = v29 - 1;
            v32 = v30 - 1;
            *(_BYTE *)v32-- = *(_BYTE *)v31--;
            *(_BYTE *)v32 = *(_BYTE *)v31;
            v29 = v31 - 1;
            --v32;
            *(_BYTE *)v32 = *(_BYTE *)v29;
            v30 = v32 - 1;
            v13 = v46-- == 1;
            *(_BYTE *)v30 = a3;
          }
          while ( !v13 );
        }
      }
      *(_BYTE *)(v5 + 11) = 32;
      result *= 4;
    }
    else
    {
      if ( v23 != 16 )
        return result;
      v33 = a2 + 2 * result + result;
      v34 = v33 + result;
      if ( a4 & 0x80 )
      {
        if ( result > 1 )
        {
          v50 = result - 1;
          do
          {
            v35 = v34 - 1;
            *(_BYTE *)v35-- = v47;
            *(_BYTE *)v35 = v4;
            v36 = v33 - 1;
            --v35;
            *(_BYTE *)v35-- = *(_BYTE *)v36--;
            *(_BYTE *)v35-- = *(_BYTE *)v36--;
            *(_BYTE *)v35-- = *(_BYTE *)v36--;
            *(_BYTE *)v35 = *(_BYTE *)v36--;
            v37 = *(_BYTE *)v36;
            --v35;
            v33 = v36 - 1;
            *(_BYTE *)v35 = v37;
            v34 = v35 - 1;
            v13 = v50-- == 1;
            *(_BYTE *)v34 = *(_BYTE *)v33;
          }
          while ( !v13 );
          LOBYTE(v8) = v47;
        }
        v38 = v34 - 1;
        *(_BYTE *)v38 = v8;
        *(_BYTE *)(v38 - 1) = v4;
      }
      else
      {
        if ( result )
        {
          v51 = result;
          do
          {
            v39 = v33 - 1;
            v40 = v34 - 1;
            *(_BYTE *)v40-- = *(_BYTE *)v39--;
            *(_BYTE *)v40-- = *(_BYTE *)v39--;
            *(_BYTE *)v40-- = *(_BYTE *)v39--;
            *(_BYTE *)v40-- = *(_BYTE *)v39--;
            *(_BYTE *)v40 = *(_BYTE *)v39;
            v33 = v39 - 1;
            --v40;
            *(_BYTE *)v40-- = *(_BYTE *)v33;
            *(_BYTE *)v40 = v47;
            v34 = v40 - 1;
            v13 = v51-- == 1;
            *(_BYTE *)v34 = v4;
          }
          while ( !v13 );
        }
      }
      *(_BYTE *)(v5 + 11) = 64;
      result *= 8;
    }
    *(_BYTE *)(v5 + 10) = 4;
  }
  else
  {
    v9 = *(_BYTE *)(v5 + 9);
    if ( v9 == 8 )
    {
      v10 = result + a2;
      v11 = result + a2 + result;
      if ( a4 & 0x80 )
      {
        if ( result > 1 )
        {
          v41 = result - 1;
          do
          {
            v12 = v11 - 1;
            --v10;
            *(_BYTE *)v12 = a3;
            v11 = v12 - 1;
            v13 = v41-- == 1;
            *(_BYTE *)v11 = *(_BYTE *)v10;
          }
          while ( !v13 );
        }
        *(_BYTE *)(v11 - 1) = a3;
      }
      else
      {
        if ( result )
        {
          v42 = result;
          do
          {
            --v10;
            v14 = v11 - 1;
            *(_BYTE *)v14 = *(_BYTE *)v10;
            v11 = v14 - 1;
            v13 = v42-- == 1;
            *(_BYTE *)v11 = a3;
          }
          while ( !v13 );
        }
      }
      *(_BYTE *)(v5 + 10) = 2;
      *(_BYTE *)(v5 + 11) = 16;
      result *= 2;
    }
    else
    {
      if ( v9 != 16 )
        return result;
      if ( a4 & 0x80 )
      {
        v15 = result + result + a2;
        if ( result > 1 )
        {
          v48 = result - 1;
          v16 = result + a2;
          do
          {
            v17 = v15 - 1;
            *(_BYTE *)v17-- = v8;
            *(_BYTE *)v17 = v4;
            v18 = v16 - 1;
            --v17;
            *(_BYTE *)v17 = *(_BYTE *)v18;
            v16 = v18 - 1;
            v15 = v17 - 1;
            v13 = v48-- == 1;
            *(_BYTE *)v15 = *(_BYTE *)v16;
            LOBYTE(v8) = v47;
          }
          while ( !v13 );
        }
        v19 = v15 - 1;
        *(_BYTE *)v19 = v8;
        *(_BYTE *)(v19 - 1) = v4;
      }
      else
      {
        v43 = result + a2;
        v20 = result + result + a2;
        if ( result )
        {
          v49 = result;
          do
          {
            v44 = v43 - 1;
            v21 = *(_BYTE *)v44;
            v22 = v20 - 1;
            v43 = v44 - 1;
            *(_BYTE *)v22-- = v21;
            *(_BYTE *)v22-- = *(_BYTE *)v43;
            *(_BYTE *)v22 = v8;
            v20 = v22 - 1;
            v13 = v49-- == 1;
            *(_BYTE *)v20 = v4;
          }
          while ( !v13 );
        }
      }
      *(_BYTE *)(v5 + 10) = 2;
      *(_BYTE *)(v5 + 11) = 32;
      result *= 4;
    }
  }
  *(_DWORD *)(v5 + 4) = result;
  return result;
}

//----- (1005C145) --------------------------------------------------------
int __cdecl sub_1005C145(int a1, int a2, int a3, int a4, char a5)
{
  int result; // eax@1
  int v6; // edi@1
  unsigned __int8 v7; // cl@1
  int v8; // edx@1
  int v9; // ecx@10
  int v10; // esi@11
  int v11; // ecx@12
  __int16 v12; // cx@16
  int v13; // eax@16
  __int16 v14; // cx@16
  __int16 v15; // cx@16
  int v16; // ecx@19
  int v17; // esi@20
  __int16 v18; // cx@24
  int v19; // ecx@27
  int v20; // esi@28
  int v21; // ecx@29
  __int16 v22; // cx@33
  int v23; // eax@33
  __int16 v24; // cx@33
  __int16 v25; // cx@33
  char v26; // cl@38
  int v27; // edx@38
  int v28; // edi@38
  int v29; // ecx@38
  bool v30; // zf@38
  char v31; // cl@40
  int v32; // esi@41
  unsigned int v33; // edi@42
  int v34; // ecx@46
  int v35; // esi@47
  __int16 v36; // cx@52
  int v37; // [sp+8h] [bp-14h]@1
  unsigned int v38; // [sp+14h] [bp-8h]@37
  int v39; // [sp+18h] [bp-4h]@36
  int v40; // [sp+24h] [bp+8h]@15
  int v41; // [sp+24h] [bp+8h]@32

  result = a3;
  v6 = a1;
  v7 = *(_BYTE *)(a1 + 9);
  v8 = *(_DWORD *)a1;
  v37 = *(_DWORD *)a1;
  if ( v7 <= 8u && a3 || v7 == 16 && a4 )
  {
    if ( *(_BYTE *)(a1 + 8) )
    {
      switch ( *(_BYTE *)(a1 + 8) )
      {
        case 2:
          if ( v7 == 8 )
          {
            v19 = a2;
            if ( v8 )
            {
              v20 = *(_DWORD *)a1;
              do
              {
                *(_BYTE *)v19 = *(_BYTE *)(*(_BYTE *)v19 + a3);
                v21 = v19 + 1;
                *(_BYTE *)v21 = *(_BYTE *)(*(_BYTE *)v21 + a3);
                ++v21;
                *(_BYTE *)v21 = *(_BYTE *)(*(_BYTE *)v21 + a3);
                v19 = v21 + 1;
                --v20;
              }
              while ( v20 );
            }
          }
          else
          {
            result = a2;
            if ( v8 )
            {
              v41 = *(_DWORD *)a1;
              do
              {
                v22 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5))
                               + 2 * *(_BYTE *)result);
                *(_BYTE *)(result + 1) = v22;
                *(_BYTE *)result = HIBYTE(v22);
                v23 = result + 2;
                v24 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v23 + 1) >> a5)) + 2 * *(_BYTE *)v23);
                *(_BYTE *)(v23 + 1) = v24;
                *(_BYTE *)v23 = HIBYTE(v24);
                v23 += 2;
                v25 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v23 + 1) >> a5)) + 2 * *(_BYTE *)v23);
                *(_BYTE *)v23 = HIBYTE(v25);
                *(_BYTE *)(v23 + 1) = v25;
                result = v23 + 2;
                --v41;
              }
              while ( v41 );
            }
          }
          break;
        case 4:
          if ( v7 == 8 )
          {
            v16 = a2;
            if ( v8 )
            {
              v17 = *(_DWORD *)a1;
              do
              {
                *(_BYTE *)v16 = *(_BYTE *)(*(_BYTE *)v16 + a3);
                v16 += 2;
                --v17;
              }
              while ( v17 );
            }
          }
          else
          {
            for ( result = a2; v8; --v8 )
            {
              v18 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5)) + 2 * *(_BYTE *)result);
              *(_BYTE *)result = HIBYTE(v18);
              *(_BYTE *)(result + 1) = v18;
              result += 4;
            }
          }
          break;
        case 6:
          if ( v7 == 8 )
          {
            v9 = a2;
            if ( v8 )
            {
              v10 = *(_DWORD *)a1;
              do
              {
                *(_BYTE *)v9 = *(_BYTE *)(*(_BYTE *)v9 + a3);
                v11 = v9 + 1;
                *(_BYTE *)v11 = *(_BYTE *)(*(_BYTE *)v11 + a3);
                ++v11;
                *(_BYTE *)v11 = *(_BYTE *)(*(_BYTE *)v11 + a3);
                v9 = v11 + 2;
                --v10;
              }
              while ( v10 );
            }
          }
          else
          {
            result = a2;
            if ( v8 )
            {
              v40 = *(_DWORD *)a1;
              do
              {
                v12 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5))
                               + 2 * *(_BYTE *)result);
                *(_BYTE *)(result + 1) = v12;
                *(_BYTE *)result = HIBYTE(v12);
                v13 = result + 2;
                v14 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v13 + 1) >> a5)) + 2 * *(_BYTE *)v13);
                *(_BYTE *)(v13 + 1) = v14;
                *(_BYTE *)v13 = HIBYTE(v14);
                v13 += 2;
                v15 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v13 + 1) >> a5)) + 2 * *(_BYTE *)v13);
                *(_BYTE *)v13 = HIBYTE(v15);
                *(_BYTE *)(v13 + 1) = v15;
                result = v13 + 4;
                --v40;
              }
              while ( v40 );
            }
          }
          break;
      }
    }
    else
    {
      if ( v7 == 2 )
      {
        v39 = a2;
        if ( v8 )
        {
          v38 = ((unsigned int)(v8 - 1) >> 2) + 1;
          do
          {
            v26 = *(_BYTE *)v39;
            v27 = *(_BYTE *)v39 & 0xC;
            v28 = *(_BYTE *)v39 & 0x30;
            LOBYTE(v27) = *(_BYTE *)(((unsigned __int8)(*(_BYTE *)v39 & 0xC0) | (((unsigned __int8)(*(_BYTE *)v39 & 0xC0) | (((unsigned __int8)(*(_BYTE *)v39 & 0xC0) | ((*(_BYTE *)v39 & 0xC0) >> 2)) >> 2)) >> 2))
                                   + a3) & 0xC0 | ((unsigned __int8)(*(_BYTE *)((v28 | 4 * v28 | ((v28 | (v28 >> 2)) >> 2))
                                                                              + a3) & 0xC3 | ((unsigned __int8)((*(_BYTE *)((v26 & 3 | 4 * (v26 & 3 | 4 * (v26 & 3 | 4 * (v26 & 3)))) + a3) >> 2) | *(_BYTE *)((v27 | (v27 >> 2) | 4 * (v27 | 4 * (v26 & 0xC))) + a3) & 0xCF) >> 2)) >> 2);
            v29 = v39++;
            v30 = v38-- == 1;
            *(_BYTE *)v29 = v27;
          }
          while ( !v30 );
          v8 = v37;
          v6 = a1;
        }
      }
      v31 = *(_BYTE *)(v6 + 9);
      switch ( v31 )
      {
        case 4:
          v32 = a2;
          if ( v8 )
          {
            v33 = ((unsigned int)(v8 - 1) >> 1) + 1;
            do
            {
              *(_BYTE *)v32 = (*(_BYTE *)((*(_BYTE *)v32 & 0xF | 16 * (*(_BYTE *)v32 & 0xF)) + a3) >> 4) | *(_BYTE *)(((unsigned __int8)(*(_BYTE *)v32 & 0xF0) | ((*(_BYTE *)v32 & 0xF0) >> 4)) + a3) & 0xF0;
              ++v32;
              --v33;
            }
            while ( v33 );
          }
          break;
        case 8:
          v34 = a2;
          if ( v8 )
          {
            v35 = v8;
            do
            {
              *(_BYTE *)v34 = *(_BYTE *)(*(_BYTE *)v34 + a3);
              ++v34;
              --v35;
            }
            while ( v35 );
          }
          break;
        case 16:
          for ( result = a2; v8; --v8 )
          {
            v36 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5)) + 2 * *(_BYTE *)result);
            *(_BYTE *)result = HIBYTE(v36);
            *(_BYTE *)(result + 1) = v36;
            result += 2;
          }
          break;
      }
    }
  }
  return result;
}

//----- (1005C493) --------------------------------------------------------
int __cdecl sub_1005C493(int a1, int a2, int a3, int a4, signed int a5)
{
  int v5; // esi@1
  int result; // eax@1
  unsigned __int8 v7; // cl@2
  int v8; // ecx@3
  int v9; // ecx@4
  int v10; // ecx@6
  unsigned int v11; // edx@6
  bool v12; // zf@11
  int v13; // ebx@13
  int v14; // ecx@13
  unsigned int v15; // edx@13
  int v16; // ebx@20
  int v17; // ecx@20
  unsigned int v18; // edx@20
  int v19; // edx@28
  int v20; // ebx@29
  int v21; // ecx@29
  int v22; // ecx@34
  int v23; // ecx@37
  int v24; // ecx@39
  int v25; // [sp+4h] [bp-8h]@7
  int v26; // [sp+4h] [bp-8h]@14
  int v27; // [sp+4h] [bp-8h]@21
  int v28; // [sp+4h] [bp-8h]@29
  int v29; // [sp+4h] [bp-8h]@37
  int v30; // [sp+8h] [bp-4h]@6
  int v31; // [sp+8h] [bp-4h]@13
  int v32; // [sp+8h] [bp-4h]@20
  int v33; // [sp+14h] [bp+8h]@6
  int v34; // [sp+14h] [bp+8h]@13
  int v35; // [sp+14h] [bp+8h]@20
  int v36; // [sp+14h] [bp+8h]@30
  int v37; // [sp+14h] [bp+8h]@38

  v5 = a1;
  result = *(_DWORD *)a1;
  if ( *(_BYTE *)(a1 + 8) == 3 )
  {
    v7 = *(_BYTE *)(a1 + 9);
    if ( v7 < 8u )
    {
      v8 = v7 - 1;
      if ( v8 )
      {
        v9 = v8 - 1;
        if ( v9 )
        {
          if ( v9 == 2 )
          {
            v30 = result + a2 - 1;
            LOBYTE(v10) = 4 * (result & 1);
            v11 = a2 + ((unsigned int)(result - 1) >> 1);
            v33 = 4 * (*(_DWORD *)a1 & 1);
            if ( result )
            {
              v25 = result;
              do
              {
                *(_BYTE *)v30 = (*(_BYTE *)v11 >> v10) & 0xF;
                if ( v33 == 4 )
                {
                  v10 = 0;
                  --v11;
                }
                else
                {
                  v10 = v33 + 4;
                }
                --v30;
                v12 = v25-- == 1;
                v33 = v10;
              }
              while ( !v12 );
            }
          }
        }
        else
        {
          v31 = result + a2 - 1;
          v13 = ((_BYTE)result - 1) & 3;
          v14 = 2 * (3 - v13);
          v15 = a2 + ((unsigned int)(result - 1) >> 2);
          v34 = 2 * (3 - v13);
          if ( result )
          {
            v26 = result;
            do
            {
              *(_BYTE *)v31 = (*(_BYTE *)v15 >> v14) & 3;
              if ( v34 == 6 )
              {
                v14 = 0;
                --v15;
              }
              else
              {
                v14 = v34 + 2;
              }
              --v31;
              v12 = v26-- == 1;
              v34 = v14;
            }
            while ( !v12 );
          }
        }
      }
      else
      {
        v32 = result + a2 - 1;
        v16 = ((_BYTE)result - 1) & 7;
        v17 = (unsigned __int8)(7 - v16);
        v18 = a2 + ((unsigned int)(result - 1) >> 3);
        v35 = 7 - v16;
        if ( result )
        {
          v27 = result;
          do
          {
            *(_BYTE *)v32 = (*(_BYTE *)v18 >> v17) & 1;
            if ( v35 == 7 )
            {
              v17 = 0;
              --v18;
            }
            else
            {
              v17 = v35 + 1;
            }
            --v32;
            v12 = v27-- == 1;
            v35 = v17;
          }
          while ( !v12 );
        }
      }
      *(_BYTE *)(v5 + 9) = 8;
      *(_BYTE *)(v5 + 11) = 8;
      *(_DWORD *)(v5 + 4) = result;
    }
    if ( *(_BYTE *)(v5 + 9) == 8 )
    {
      v19 = result + a2 - 1;
      if ( a4 )
      {
        v20 = 4 * result;
        v28 = 4 * result;
        v21 = 4 * result + a2 - 1;
        if ( result )
        {
          v36 = result;
          result = a3;
          do
          {
            if ( *(_BYTE *)v19 < a5 )
              *(_BYTE *)v21 = *(_BYTE *)(*(_BYTE *)v19 + a4);
            else
              *(_BYTE *)v21 = -1;
            v22 = v21 - 1;
            *(_BYTE *)v22-- = *(_BYTE *)(*(_BYTE *)v19 + a3 + 2 * *(_BYTE *)v19 + 2);
            *(_BYTE *)v22-- = *(_BYTE *)(*(_BYTE *)v19 + a3 + 2 * *(_BYTE *)v19 + 1);
            *(_BYTE *)v22 = *(_BYTE *)(*(_BYTE *)v19 + a3 + 2 * *(_BYTE *)v19);
            v21 = v22 - 1;
            --v19;
            --v36;
          }
          while ( v36 );
          v20 = v28;
        }
        *(_BYTE *)(v5 + 11) = 32;
        *(_BYTE *)(v5 + 8) = 6;
        *(_BYTE *)(v5 + 10) = 4;
      }
      else
      {
        v20 = 3 * result;
        v29 = 3 * result;
        v23 = 3 * result + a2 - 1;
        if ( result )
        {
          v37 = result;
          result = a3;
          do
          {
            *(_BYTE *)v23 = *(_BYTE *)(*(_BYTE *)v19 + a3 + 2 * *(_BYTE *)v19 + 2);
            v24 = v23 - 1;
            *(_BYTE *)v24-- = *(_BYTE *)(*(_BYTE *)v19 + a3 + 2 * *(_BYTE *)v19 + 1);
            *(_BYTE *)v24 = *(_BYTE *)(*(_BYTE *)v19 + a3 + 2 * *(_BYTE *)v19);
            v23 = v24 - 1;
            --v19;
            --v37;
          }
          while ( v37 );
          v20 = v29;
        }
        *(_BYTE *)(v5 + 11) = 24;
        *(_BYTE *)(v5 + 8) = 2;
        *(_BYTE *)(v5 + 10) = 3;
      }
      *(_BYTE *)(v5 + 9) = 8;
      *(_DWORD *)(v5 + 4) = v20;
    }
  }
  return result;
}

//----- (1005C69B) --------------------------------------------------------
int __cdecl sub_1005C69B(int a1, int a2, int a3)
{
  int v3; // esi@1
  char v4; // cl@1
  int result; // eax@1
  unsigned __int16 v6; // bx@2
  unsigned __int8 v7; // cl@4
  int v8; // ecx@5
  int v9; // ecx@6
  int v10; // ebx@8
  signed int v11; // ecx@8
  unsigned int v12; // edx@8
  bool v13; // zf@12
  int v14; // ebx@14
  int v15; // ecx@14
  unsigned int v16; // edx@14
  char v17; // bl@16
  int v18; // ebx@21
  int v19; // ecx@21
  unsigned int v20; // edx@21
  char v21; // cl@29
  int v22; // ecx@30
  int v23; // edi@30
  int v24; // edx@31
  int v25; // edi@35
  int v26; // edx@38
  int v27; // ecx@38
  int v28; // edi@38
  int v29; // ebx@40
  int v30; // edi@41
  int v31; // edi@43
  char v32; // cl@44
  unsigned __int8 v33; // cl@44
  int v34; // edx@46
  char v35; // cl@47
  int v36; // ecx@48
  int v37; // edi@48
  int v38; // edi@55
  int v39; // ecx@55
  int v40; // ecx@58
  int v41; // edi@58
  int v42; // ebx@61
  int v43; // edx@62
  int v44; // edx@63
  int v45; // edi@64
  int v46; // edi@66
  int v47; // ecx@66
  char v48; // cl@67
  int v49; // [sp+Ch] [bp-Ch]@9
  int v50; // [sp+Ch] [bp-Ch]@15
  int v51; // [sp+Ch] [bp-Ch]@22
  int v52; // [sp+Ch] [bp-Ch]@39
  unsigned __int16 v53; // [sp+10h] [bp-8h]@4
  int v54; // [sp+14h] [bp-4h]@8
  int v55; // [sp+14h] [bp-4h]@14
  int v56; // [sp+14h] [bp-4h]@21
  int v57; // [sp+20h] [bp+8h]@8
  int v58; // [sp+20h] [bp+8h]@14
  int v59; // [sp+20h] [bp+8h]@21
  int v60; // [sp+20h] [bp+8h]@39
  int v61; // [sp+20h] [bp+8h]@49
  int v62; // [sp+20h] [bp+8h]@59

  v3 = a1;
  v4 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  if ( v4 )
  {
    if ( v4 == 2 )
    {
      v34 = a3;
      if ( a3 )
      {
        v35 = *(_BYTE *)(a1 + 9);
        if ( v35 == 8 )
        {
          v36 = *(_DWORD *)(a1 + 4) + a2 - 1;
          v37 = a2 + 4 * result - 1;
          if ( result )
          {
            v61 = *(_DWORD *)a1;
            do
            {
              if ( *(_BYTE *)(v36 - 2) != *(_WORD *)(a3 + 2)
                || *(_BYTE *)(v36 - 1) != *(_WORD *)(a3 + 4)
                || *(_BYTE *)v36 != *(_WORD *)(a3 + 6) )
                *(_BYTE *)v37 = -1;
              else
                *(_BYTE *)v37 = 0;
              v38 = v37 - 1;
              *(_BYTE *)v38-- = *(_BYTE *)v36;
              v39 = v36 - 1;
              *(_BYTE *)v38-- = *(_BYTE *)v39--;
              *(_BYTE *)v38 = *(_BYTE *)v39;
              v37 = v38 - 1;
              v36 = v39 - 1;
              --v61;
            }
            while ( v61 );
          }
        }
        else
        {
          if ( v35 == 16 )
          {
            v40 = *(_DWORD *)(a1 + 4) + a2 - 1;
            v41 = a2 + 8 * result - 1;
            if ( result )
            {
              v62 = *(_DWORD *)a1;
              while ( 1 )
              {
                BYTE3(v42) = 0;
                *(_WORD *)((char *)&v42 + 1) = *(_BYTE *)(v40 - 5);
                LOBYTE(v42) = *(_BYTE *)(v40 - 4);
                if ( v42 != *(_WORD *)(v34 + 2)
                  || (BYTE3(v43) = 0,
                      *(_WORD *)((char *)&v43 + 1) = *(_BYTE *)(v40 - 3),
                      LOBYTE(v43) = *(_BYTE *)(v40 - 2),
                      v43 != *(_WORD *)(a3 + 4))
                  || (BYTE3(v44) = 0,
                      *(_WORD *)((char *)&v44 + 1) = *(_BYTE *)(v40 - 1),
                      LOBYTE(v44) = *(_BYTE *)v40,
                      v44 != *(_WORD *)(a3 + 6)) )
                {
                  *(_BYTE *)v41 = -1;
                  v45 = v41 - 1;
                  *(_BYTE *)v45 = -1;
                }
                else
                {
                  *(_BYTE *)v41 = 0;
                  v45 = v41 - 1;
                  *(_BYTE *)v45 = 0;
                }
                v46 = v45 - 1;
                *(_BYTE *)v46-- = *(_BYTE *)v40;
                v47 = v40 - 1;
                *(_BYTE *)v46-- = *(_BYTE *)v47--;
                *(_BYTE *)v46-- = *(_BYTE *)v47--;
                *(_BYTE *)v46-- = *(_BYTE *)v47--;
                *(_BYTE *)v46-- = *(_BYTE *)v47--;
                *(_BYTE *)v46 = *(_BYTE *)v47;
                v41 = v46 - 1;
                v40 = v47 - 1;
                --v62;
                if ( !v62 )
                  break;
                v34 = a3;
              }
            }
          }
        }
        v48 = *(_BYTE *)(v3 + 9);
        *(_BYTE *)(v3 + 8) = 6;
        *(_BYTE *)(v3 + 10) = 4;
        v33 = 4 * v48;
        goto LABEL_68;
      }
    }
  }
  else
  {
    v6 = 0;
    if ( a3 )
      v6 = *(_WORD *)(a3 + 8);
    v7 = *(_BYTE *)(a1 + 9);
    v53 = v6;
    if ( v7 < 8u )
    {
      v8 = v7 - 1;
      if ( v8 )
      {
        v9 = v8 - 1;
        if ( v9 )
        {
          if ( v9 == 2 )
          {
            v54 = result + a2 - 1;
            v53 = 17 * v6;
            v10 = 4 * (((_BYTE)result - 1) & 1);
            LOBYTE(v11) = 4 - v10;
            v12 = a2 + ((unsigned int)(result - 1) >> 1);
            v57 = 4 - v10;
            if ( result )
            {
              v49 = result;
              do
              {
                *(_BYTE *)v54 = ((unsigned int)*(_BYTE *)v12 >> v11) & 0xF | 16
                                                                           * (((unsigned int)*(_BYTE *)v12 >> v11) & 0xF);
                v11 = 4;
                if ( v57 == 4 )
                {
                  v11 = 0;
                  --v12;
                }
                --v54;
                v13 = v49-- == 1;
                v57 = v11;
              }
              while ( !v13 );
            }
          }
        }
        else
        {
          v53 = 85 * v6;
          v55 = result + a2 - 1;
          v14 = ((_BYTE)result - 1) & 3;
          v15 = 2 * (3 - v14);
          v16 = a2 + ((unsigned int)(result - 1) >> 2);
          v58 = 2 * (3 - v14);
          if ( result )
          {
            v50 = result;
            do
            {
              v17 = ((unsigned int)*(_BYTE *)v16 >> v15) & 3;
              *(_BYTE *)v55 = v17 | 4 * (v17 | 4 * (v17 | 4 * (((unsigned int)*(_BYTE *)v16 >> v15) & 3)));
              if ( v58 == 6 )
              {
                v15 = 0;
                --v16;
              }
              else
              {
                v15 = v58 + 2;
              }
              --v55;
              v13 = v50-- == 1;
              v58 = v15;
            }
            while ( !v13 );
          }
        }
      }
      else
      {
        v53 = 255 * v6;
        v56 = result + a2 - 1;
        v18 = ((_BYTE)result - 1) & 7;
        v19 = (unsigned __int8)(7 - v18);
        v20 = a2 + ((unsigned int)(result - 1) >> 3);
        v59 = 7 - v18;
        if ( result )
        {
          v51 = result;
          do
          {
            *(_BYTE *)v56 = -(((*(_BYTE *)v20 >> v19) & 1) != 0);
            if ( v59 == 7 )
            {
              v19 = 0;
              --v20;
            }
            else
            {
              v19 = v59 + 1;
            }
            --v56;
            v13 = v51-- == 1;
            v59 = v19;
          }
          while ( !v13 );
        }
      }
      v6 = v53;
      *(_BYTE *)(v3 + 9) = 8;
      *(_BYTE *)(v3 + 11) = 8;
      *(_DWORD *)(v3 + 4) = result;
    }
    if ( a3 )
    {
      v21 = *(_BYTE *)(v3 + 9);
      if ( v21 == 8 )
      {
        v22 = result + a2 - 1;
        v23 = a2 + 2 * result - 1;
        if ( result )
        {
          v24 = result;
          do
          {
            if ( *(_BYTE *)v22 == v53 )
              *(_BYTE *)v23 = 0;
            else
              *(_BYTE *)v23 = -1;
            v25 = v23 - 1;
            *(_BYTE *)v25 = *(_BYTE *)v22;
            v23 = v25 - 1;
            --v22;
            --v24;
          }
          while ( v24 );
        }
      }
      else
      {
        if ( v21 == 16 )
        {
          v26 = *(_DWORD *)(v3 + 4);
          v27 = v26 + a2 - 1;
          v28 = a2 + 2 * v26 - 1;
          if ( result )
          {
            v52 = v6;
            v60 = result;
            do
            {
              BYTE3(v29) = 0;
              *(_WORD *)((char *)&v29 + 1) = *(_BYTE *)(v27 - 1);
              LOBYTE(v29) = *(_BYTE *)v27;
              if ( v29 == v52 )
              {
                *(_BYTE *)v28 = 0;
                v30 = v28 - 1;
                *(_BYTE *)v30 = 0;
              }
              else
              {
                *(_BYTE *)v28 = -1;
                v30 = v28 - 1;
                *(_BYTE *)v30 = -1;
              }
              v31 = v30 - 1;
              *(_BYTE *)v31-- = *(_BYTE *)v27;
              *(_BYTE *)v31 = *(_BYTE *)(v27 - 1);
              v28 = v31 - 1;
              v27 -= 2;
              --v60;
            }
            while ( v60 );
          }
        }
      }
      v32 = *(_BYTE *)(v3 + 9);
      *(_BYTE *)(v3 + 8) = 4;
      *(_BYTE *)(v3 + 10) = 2;
      v33 = 2 * v32;
LABEL_68:
      *(_BYTE *)(v3 + 11) = v33;
      *(_DWORD *)(v3 + 4) = result * (unsigned int)v33 >> 3;
      return result;
    }
  }
  return result;
}

//----- (1005C9ED) --------------------------------------------------------
int __cdecl sub_1005C9ED(int a1, int a2, int a3, int a4)
{
  int v4; // edi@1
  char v5; // cl@1
  int result; // eax@1
  int v7; // edx@4
  char v8; // al@6
  int v9; // edx@6
  char v10; // bl@6
  char v11; // al@6
  int v12; // esi@6
  bool v13; // zf@6
  unsigned __int8 v14; // cl@8
  int v15; // edx@12
  char v16; // al@14
  int v17; // edx@14
  char v18; // bl@14
  char v19; // al@14
  int v20; // esi@14
  int i; // ecx@19
  int v22; // [sp+Ch] [bp-8h]@1
  int v23; // [sp+10h] [bp-4h]@5
  int v24; // [sp+10h] [bp-4h]@13
  int v25; // [sp+1Ch] [bp+8h]@4
  int v26; // [sp+1Ch] [bp+8h]@12

  v4 = a1;
  v5 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  v22 = *(_DWORD *)a1;
  if ( v5 == 2 && a3 && *(_BYTE *)(a1 + 9) == 8 )
  {
    v7 = a2;
    v25 = a2;
    if ( !result )
    {
LABEL_8:
      v14 = *(_BYTE *)(v4 + 9);
      *(_BYTE *)(v4 + 11) = v14;
      *(_BYTE *)(v4 + 8) = 3;
      *(_BYTE *)(v4 + 10) = 1;
      *(_DWORD *)(v4 + 4) = (result * (unsigned int)v14 + 7) >> 3;
      return result;
    }
    v23 = result;
    do
    {
      v8 = *(_BYTE *)v7;
      v9 = v7 + 1;
      v10 = *(_BYTE *)v9++;
      v11 = *(_BYTE *)((((signed int)*(_BYTE *)v9 >> 3) & 0x1F | 4
                                                               * ((unsigned __int8)(v10 & 0xF8) | 32
                                                                                                * (unsigned __int8)(v8 & 0xF8)))
                     + a3);
      v12 = v25;
      v7 = v9 + 1;
      ++v25;
      v13 = v23-- == 1;
      *(_BYTE *)v12 = v11;
    }
    while ( !v13 );
LABEL_7:
    result = v22;
    goto LABEL_8;
  }
  if ( v5 == 6 && a3 && *(_BYTE *)(a1 + 9) == 8 )
  {
    v15 = a2;
    v26 = a2;
    if ( !result )
      goto LABEL_8;
    v24 = result;
    do
    {
      v16 = *(_BYTE *)v15;
      v17 = v15 + 1;
      v18 = *(_BYTE *)v17++;
      v19 = *(_BYTE *)((((signed int)*(_BYTE *)v17 >> 3) & 0x1F | 4
                                                                * ((unsigned __int8)(v18 & 0xF8) | 32
                                                                                                 * (unsigned __int8)(v16 & 0xF8)))
                     + a3);
      v20 = v26;
      v15 = v17 + 2;
      ++v26;
      v13 = v24-- == 1;
      *(_BYTE *)v20 = v19;
    }
    while ( !v13 );
    goto LABEL_7;
  }
  if ( v5 == 3 )
  {
    if ( a4 )
    {
      if ( *(_BYTE *)(a1 + 9) == 8 )
      {
        for ( i = a2; result; --result )
        {
          *(_BYTE *)i = *(_BYTE *)(*(_BYTE *)i + a4);
          ++i;
        }
      }
    }
  }
  return result;
}

//----- (1005CAFB) --------------------------------------------------------
void __cdecl sub_1005CAFB(_DWORD *a1)
{
  int *v1; // esi@1
  long double v2; // st7@4
  void *v3; // eax@6
  signed __int64 v4; // qax@7
  signed int v5; // eax@10
  unsigned int v6; // edi@15
  signed int v7; // ebx@25
  long double v8; // st7@26
  void *v9; // eax@28
  bool v10; // zf@28
  void *v11; // eax@30
  signed int v12; // edx@30
  __int16 v13; // cx@34
  unsigned int v14; // ebx@35
  int v15; // eax@35
  signed int v16; // ebx@41
  signed __int64 v17; // qax@42
  double v18; // [sp+4h] [bp-28h]@32
  unsigned int v19; // [sp+14h] [bp-18h]@33
  unsigned int v20; // [sp+18h] [bp-14h]@32
  char v21; // [sp+1Ch] [bp-10h]@25
  unsigned int v22; // [sp+20h] [bp-Ch]@41
  int v23; // [sp+28h] [bp-4h]@16
  signed int v24; // [sp+34h] [bp+8h]@6
  signed int v25; // [sp+34h] [bp+8h]@28
  signed int v26; // [sp+34h] [bp+8h]@32

  v1 = a1;
  if ( *((float *)a1 + 76) != 0.0 )
  {
    if ( *((_BYTE *)a1 + 279) > 8u )
    {
      if ( *((_BYTE *)a1 + 278) & 2 )
      {
        v5 = *((_BYTE *)a1 + 336);
        if ( *((_BYTE *)a1 + 337) > v5 )
          v5 = *((_BYTE *)a1 + 337);
        if ( *((_BYTE *)a1 + 338) > v5 )
          v5 = *((_BYTE *)a1 + 338);
      }
      else
      {
        v5 = *((_BYTE *)a1 + 339);
      }
      v6 = 0;
      if ( v5 <= 0 )
        v23 = 0;
      else
        v23 = 16 - v5;
      if ( *((_BYTE *)a1 + 97) & 4 && v23 < 5 )
        v23 = 5;
      if ( v23 > 8 )
        v23 = 8;
      if ( v23 < 0 )
        v23 = 0;
      v7 = 1 << (8 - v23);
      v21 = 8 - v23;
      a1[75] = (unsigned __int8)v23;
      if ( *((float *)a1 + 77) <= 0.000001 )
        v8 = 1.0;
      else
        v8 = 1.0 / (*((float *)a1 + 77) * *((float *)a1 + 76));
      v9 = sub_10060E00(a1, 4 * v7);
      v10 = (*((_WORD *)a1 + 48) & 0x480) == 0;
      a1[81] = v9;
      v25 = 0;
      if ( v10 )
      {
        if ( v7 > 0 )
        {
          do
          {
            *(_DWORD *)(v1[81] + 4 * v25) = sub_10060E00(v1, 0x200u);
            v16 = 0;
            v22 = (unsigned int)(v25 * dword_10082C18[v23]) >> 4;
            do
            {
              v17 = (signed __int64)(pow((double)v22 * 0.00001525902189669642, v8) * 65535.0 + 0.5);
              v22 += 256;
              *(_WORD *)(v16 + *(_DWORD *)(v1[81] + 4 * v25)) = v17;
              v16 += 2;
            }
            while ( v16 < 512 );
            ++v25;
          }
          while ( v25 < 1 << (8 - v23) );
        }
      }
      else
      {
        if ( v7 > 0 )
        {
          do
          {
            v11 = sub_10060E00(v1, 0x200u);
            v12 = v25++;
            *(_DWORD *)(v1[81] + 4 * v12) = v11;
          }
          while ( v25 < v7 );
          v6 = 0;
        }
        v26 = v6;
        v20 = v7 << 8;
        v18 = (double)(unsigned int)(v7 << 8);
        do
        {
          v19 = (signed __int64)(pow(((double)v26 + 0.5) * 0.00390625, 1.0 / v8) * v18);
          if ( v6 <= v19 )
          {
            LOBYTE(v13) = 0;
            HIBYTE(v13) = v26;
            do
            {
              v14 = v6 >> v21;
              v15 = *(_DWORD *)(v1[81] + 4 * (v6++ & (255 >> v23)));
              *(_WORD *)(v15 + 2 * v14) = v26 | v13;
            }
            while ( v6 <= v19 );
          }
          ++v26;
        }
        while ( v26 < 256 );
        for ( ; v6 < v20; ++v6 )
          *(_WORD *)(*(_DWORD *)(v1[81] + 4 * (v6 & (255 >> v23))) + 2 * (v6 >> v21)) = -1;
      }
    }
    else
    {
      if ( *((float *)a1 + 77) <= 0.000001 )
        v2 = 1.0;
      else
        v2 = 1.0 / (*((float *)a1 + 77) * *((float *)a1 + 76));
      v3 = sub_10060E00(a1, 0x100u);
      v24 = 0;
      v1[78] = (int)v3;
      do
      {
        v4 = (signed __int64)(pow((double)v24 * 0.00392156862745098, v2) * 255.0 + 0.5);
        HIDWORD(v4) = v24++;
        *(_BYTE *)(HIDWORD(v4) + v1[78]) = v4;
      }
      while ( v24 < 256 );
    }
  }
}

//----- (1005CE04) --------------------------------------------------------
void __cdecl sub_1005CE04(_DWORD *a1)
{
  _DWORD *v1; // esi@1
  int v2; // edi@1
  int v3; // ecx@3
  int v4; // eax@4
  int v5; // edi@8
  int v6; // ebx@8
  int v7; // eax@8
  int v8; // ecx@8
  unsigned __int16 v9; // cx@17
  int v10; // eax@18
  int v11; // edi@18
  char v12; // [sp+Ch] [bp-4h]@8
  int v13; // [sp+18h] [bp+8h]@8

  v1 = a1;
  v2 = *((_BYTE *)a1 + 278);
  if ( a1[24] & 0x602000 )
  {
    sub_1005CAFB(a1);
    if ( v2 == 3 )
    {
      v3 = *((_WORD *)a1 + 132);
      if ( v3 > 0 )
      {
        v4 = a1[65] + 2;
        do
        {
          *(_BYTE *)(v4 - 2) = *(_BYTE *)(*(_BYTE *)(v4 - 2) + a1[78]);
          *(_BYTE *)(v4 - 1) = *(_BYTE *)(*(_BYTE *)(v4 - 1) + a1[78]);
          *(_BYTE *)v4 = *(_BYTE *)(*(_BYTE *)v4 + a1[78]);
          v4 += 3;
          --v3;
        }
        while ( v3 );
      }
    }
  }
  if ( *((_BYTE *)a1 + 96) & 8 && v2 == 3 )
  {
    v5 = *((_BYTE *)a1 + 338);
    v6 = 8 - *((_BYTE *)a1 + 336);
    v7 = 8 - *((_BYTE *)a1 + 337);
    v8 = 8 - v5;
    v13 = 8 - *((_BYTE *)a1 + 337);
    v12 = 8 - v5;
    if ( v6 < 0 || v6 > 8 )
      LOBYTE(v6) = 0;
    if ( v7 < 0 || v7 > 8 )
      v13 = 0;
    if ( v8 < 0 || v8 > 8 )
      v12 = 0;
    v9 = *((_WORD *)v1 + 132);
    if ( v9 )
    {
      v10 = 0;
      v11 = v9;
      do
      {
        *(_BYTE *)(v10 + v1[65]) >>= v6;
        *(_BYTE *)(v10 + v1[65] + 1) >>= v13;
        *(_BYTE *)(v10 + v1[65] + 2) >>= v12;
        v10 += 3;
        --v11;
      }
      while ( v11 );
    }
  }
}

//----- (1005CF17) --------------------------------------------------------
void __cdecl sub_1005CF17(_DWORD *a1)
{
  int v1; // [sp-4h] [bp-8h]@7

  if ( !a1[55] )
    sub_1005A502(a1, (int)"NULL row buffer");
  if ( *((_BYTE *)a1 + 97) & 0x10 )
  {
    if ( *((_BYTE *)a1 + 248) == 3 )
    {
      sub_1005C493((int)(a1 + 60), a1[55] + 1, a1[65], a1[87], *((_WORD *)a1 + 133));
    }
    else
    {
      if ( *((_WORD *)a1 + 133) )
        v1 = (int)(a1 + 88);
      else
        v1 = 0;
      sub_1005C69B((int)(a1 + 60), a1[55] + 1, v1);
    }
  }
  if ( *((_BYTE *)a1 + 97) & 0x20 && *((_BYTE *)a1 + 278) != 3 )
    sub_1005C145((int)(a1 + 60), a1[55] + 1, a1[78], a1[81], a1[75]);
  if ( *((_BYTE *)a1 + 97) & 4 )
    sub_1005BE69((int)(a1 + 60), a1[55] + 1);
  if ( *((_BYTE *)a1 + 96) & 0x40 )
  {
    sub_1005C9ED((int)(a1 + 60), a1[55] + 1, a1[93], a1[94]);
    if ( !a1[61] )
      sub_1005A502(a1, (int)"png_do_dither returned rowbytes=0");
  }
  if ( *((_BYTE *)a1 + 96) & 8 )
    sub_1005BCF2((int)(a1 + 60), a1[55] + 1, (int)((char *)a1 + 341));
  if ( *((_BYTE *)a1 + 96) & 4 )
    sub_1005BBE2((int)(a1 + 60), a1[55] + 1);
  if ( *((_BYTE *)a1 + 96) & 1 )
    sub_1005B303((int)(a1 + 60), a1[55] + 1);
  if ( *((_BYTE *)a1 + 97) & 0x80 )
    sub_1005BEAD((int)(a1 + 60), a1[55] + 1, *((_WORD *)a1 + 143), a1[23]);
  if ( *((_BYTE *)a1 + 96) & 0x10 )
    sub_1005B2D6((int)(a1 + 60), a1[55] + 1);
}

//----- (1005D0CF) --------------------------------------------------------
void __cdecl sub_1005D0CF(int a1, int a2, double a3)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_DWORD *)(a2 + 8) |= 1u;
      *(float *)(a2 + 40) = a3;
    }
  }
}

//----- (1005D0EA) --------------------------------------------------------
void __cdecl sub_1005D0EA(int a1, int a2, unsigned int a3, int a4, char a5, char a6, char a7, char a8, char a9)
{
  unsigned __int8 v9; // al@9

  if ( a1 && a2 )
  {
    *(_BYTE *)(a2 + 26) = a8;
    *(_DWORD *)(a2 + 4) = a4;
    *(_BYTE *)(a2 + 27) = a9;
    *(_DWORD *)a2 = a3;
    *(_BYTE *)(a2 + 24) = a5;
    *(_BYTE *)(a2 + 25) = a6;
    *(_BYTE *)(a2 + 28) = a7;
    if ( a6 != 3 && a6 & 2 )
      *(_BYTE *)(a2 + 29) = 3;
    else
      *(_BYTE *)(a2 + 29) = 1;
    if ( a6 & 4 )
      ++*(_BYTE *)(a2 + 29);
    v9 = a5 * *(_BYTE *)(a2 + 29);
    *(_BYTE *)(a2 + 30) = v9;
    if ( a3 <= 0x7FFFFFFFu / ((v9 + 7) >> 3) )
    {
      *(_DWORD *)(a2 + 12) = (a3 * v9 + 7) >> 3;
    }
    else
    {
      sub_1005A520(a1, (int)"Width too large to process image data; rowbytes will overflow.");
      *(_DWORD *)(a2 + 12) = 0;
    }
  }
}

//----- (1005D18B) --------------------------------------------------------
void __cdecl sub_1005D18B(int a1, int a2, int a3, __int16 a4)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_DWORD *)(a2 + 8) |= 8u;
      *(_DWORD *)(a2 + 16) = a3;
      *(_WORD *)(a2 + 20) = a4;
    }
  }
}

//----- (1005D1AF) --------------------------------------------------------
void __cdecl sub_1005D1AF(int a1, int a2, char a3)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_BYTE *)(a2 + 9) |= 8u;
      *(_BYTE *)(a2 + 44) = a3;
    }
  }
}

//----- (1005D1CA) --------------------------------------------------------
void __cdecl sub_1005D1CA(int a1, __int64 a2)
{
  if ( a1 )
  {
    if ( (_DWORD)a2 )
    {
      sub_1005D1AF(a1, a2, SBYTE4(a2));
      sub_1005D0CF(a1, a2, 0.4545499980449677);
    }
  }
}

//----- (1005D203) --------------------------------------------------------
void __cdecl sub_1005D203(int a1, int a2, int a3, signed int a4, int a5)
{
  if ( a1 && a2 )
  {
    if ( a3 )
      *(_DWORD *)(a2 + 48) = a3;
    if ( a5 )
    {
      *(_DWORD *)(a2 + 52) = *(_DWORD *)a5;
      *(_DWORD *)(a2 + 56) = *(_DWORD *)(a5 + 4);
      *(_WORD *)(a2 + 60) = *(_WORD *)(a5 + 8);
      if ( !a4 )
        a4 = 1;
    }
    *(_DWORD *)(a2 + 8) |= 0x10u;
    *(_WORD *)(a2 + 22) = a4;
  }
}

//----- (1005D25D) --------------------------------------------------------
int __cdecl sub_1005D25D(int *a1, int a2, int a3)
{
  int v3; // eax@1

  v3 = a1[20];
  if ( !v3 )
    sub_1005A502(a1, (int)"Call to NULL read function");
  return ((int (__cdecl *)(int *, int, int))v3)(a1, a2, a3);
}

//----- (1005D285) --------------------------------------------------------
int __cdecl sub_1005D285(int a1, int a2, int a3)
{
  bool v3; // zf@1
  int result; // eax@1

  v3 = *(_DWORD *)(a1 + 76) == 0;
  *(_DWORD *)(a1 + 84) = a2;
  result = a3;
  *(_DWORD *)(a1 + 80) = a3;
  if ( !v3 )
  {
    *(_DWORD *)(a1 + 76) = 0;
    sub_1005A520(a1, (int)"It's an error to set both read_data_fn and write_data_fn in the ");
    result = sub_1005A520(a1, (int)"same structure.  Resetting write_data_fn to NULL.");
  }
  *(_DWORD *)(a1 + 288) = 0;
  return result;
}

//----- (1005D2F7) --------------------------------------------------------
int __cdecl sub_1005D2F7(int a1, unsigned int a2, unsigned int a3)
{
  int v3; // ecx@1

  v3 = a3;
  if ( a3 <= 8 )
  {
    if ( a3 < 1 )
      return 0;
  }
  else
  {
    v3 = 8;
  }
  if ( a2 > 7 )
    return 0;
  if ( a2 + v3 > 8 )
    v3 = 8 - a2;
  return strncmp((const char *)(a1 + a2), &byte_100760CC[a2], v3);
}

//----- (1005D357) --------------------------------------------------------
void *__cdecl sub_1005D357(int *a1, int a2, int a3)
{
  int v3; // esi@1
  void *v4; // edx@1
  void *result; // eax@1
  void *v6; // edi@2
  unsigned int v7; // ecx@3
  char v8; // si@5
  unsigned int v9; // ecx@5
  int v10; // edi@5
  int i; // ecx@5

  v3 = a3 * a2;
  v4 = sub_10060E00(a1, a3 * a2);
  result = 0;
  if ( v4 )
  {
    v6 = v4;
    if ( (unsigned int)v3 <= 0x8000 )
    {
      v7 = a3 * a2;
    }
    else
    {
      memset(v4, 0, 0x8000u);
      v7 = v3 - 32768;
      v6 = (char *)v4 + 32768;
    }
    v8 = v7;
    v9 = v7 >> 2;
    memset(v6, 0, 4 * v9);
    v10 = (int)((char *)v6 + 4 * v9);
    for ( i = v8 & 3; i; --i )
      *(_BYTE *)v10++ = 0;
    result = v4;
  }
  return result;
}

//----- (1005D3AF) --------------------------------------------------------
signed int __cdecl sub_1005D3AF(int a1)
{
  signed int result; // eax@1

  result = sub_100621C4(0, 0, 0);
  *(_DWORD *)(a1 + 256) = result;
  return result;
}

//----- (1005D414) --------------------------------------------------------
int __cdecl sub_1005D414(int a1, void *a2)
{
  int result; // eax@1

  result = 0;
  memset(a2, 0, 0x40u);
  return result;
}

//----- (1005D431) --------------------------------------------------------
void *__cdecl sub_1005D431(int a1)
{
  void *result; // eax@2
  void *v2; // edx@3

  if ( a1 )
  {
    v2 = sub_10060DB1(2);
    if ( v2 )
      memset(v2, 0, 0x40u);
    result = v2;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1005D47D) --------------------------------------------------------
int __usercall sub_1005D47D<eax>(int result<eax>, unsigned int a2<ecx>)
{
  *(float *)result = (double)((unsigned __int16)a2 >> 11) * 0.032258064;
  *(float *)(result + 4) = (double)((a2 >> 5) & 0x3F) * 0.015873017;
  *(float *)(result + 8) = (double)(a2 & 0x1F) * 0.032258064;
  *(float *)(result + 12) = 1.0;
  return result;
}

//----- (1005D4C9) --------------------------------------------------------
int __fastcall sub_1005D4C9(int a1)
{
  signed int v1; // edx@1
  double v2; // st7@3
  double v3; // st7@5
  double v4; // st6@6
  double v5; // st6@9

  v1 = 16;
  do
  {
    if ( 0.0 == *(float *)(a1 + 12) )
    {
      *(float *)a1 = 0.0;
      *(float *)(a1 + 4) = 0.0;
      v2 = 0.0;
    }
    else
    {
      if ( *(float *)(a1 + 12) >= 1.0 )
        goto LABEL_15;
      v3 = 1.0 / *(float *)(a1 + 12);
      if ( *(float *)a1 >= (double)*(float *)(a1 + 12) )
        v4 = 1.0;
      else
        v4 = v3 * *(float *)a1;
      *(float *)a1 = v4;
      if ( *(float *)(a1 + 4) >= (double)*(float *)(a1 + 12) )
        v5 = 1.0;
      else
        v5 = v3 * *(float *)(a1 + 4);
      *(float *)(a1 + 4) = v5;
      if ( *(float *)(a1 + 8) >= (double)*(float *)(a1 + 12) )
        v2 = 1.0;
      else
        v2 = v3 * *(float *)(a1 + 8);
    }
    *(float *)(a1 + 8) = v2;
LABEL_15:
    a1 += 16;
    --v1;
  }
  while ( v1 );
  return 0;
}

//----- (1005D547) --------------------------------------------------------
int __usercall sub_1005D547<eax>(int a1<eax>, int a2<ecx>)
{
  signed int v2; // edx@1
  double v3; // st7@2

  v2 = 16;
  do
  {
    v3 = *(float *)(a1 + 12) * *(float *)a1;
    a1 += 16;
    *(float *)a2 = v3;
    a2 += 16;
    --v2;
    *(float *)(a2 - 12) = *(float *)(a1 - 12) * *(float *)(a1 - 4);
    *(float *)(a2 - 8) = *(float *)(a1 - 8) * *(float *)(a1 - 4);
    *(_DWORD *)(a2 - 4) = *(_DWORD *)(a1 - 4);
  }
  while ( v2 );
  return 0;
}

//----- (1005D5BD) --------------------------------------------------------
int __cdecl sub_1005D5BD()
{
  int result; // eax@1
  int v1; // [sp+0h] [bp-8h]@0

  result = v1;
  dword_10085420 = v1;
  return result;
}
// 10085420: using guessed type int dword_10085420;

//----- (1005D5FF) --------------------------------------------------------
int __fastcall sub_1005D5FF(int a1)
{
  double v1; // st6@2
  double v2; // st6@8
  double v3; // st7@14
  float v4; // ST18_4@19
  float v5; // ST14_4@19
  signed int v6; // ecx@19
  float v7; // ST14_4@19
  float v9; // [sp+0h] [bp-18h]@3
  float v10; // [sp+4h] [bp-14h]@9
  float v11; // [sp+8h] [bp-10h]@15

  if ( *(float *)a1 < 0.0 )
  {
    v1 = 0.0;
LABEL_3:
    v9 = v1;
    goto LABEL_7;
  }
  if ( *(float *)a1 > 1.0 )
  {
    v1 = 1.0;
    goto LABEL_3;
  }
  LODWORD(v9) = *(_DWORD *)a1;
LABEL_7:
  if ( *(float *)(a1 + 4) < 0.0 )
  {
    v2 = 0.0;
LABEL_9:
    v10 = v2;
    goto LABEL_13;
  }
  if ( *(float *)(a1 + 4) > 1.0 )
  {
    v2 = 1.0;
    goto LABEL_9;
  }
  LODWORD(v10) = *(_DWORD *)(a1 + 4);
LABEL_13:
  if ( *(float *)(a1 + 8) >= 0.0 )
  {
    if ( *(float *)(a1 + 8) <= 1.0 )
    {
      LODWORD(v11) = *(_DWORD *)(a1 + 8);
      goto LABEL_19;
    }
    v3 = 1.0;
  }
  else
  {
    v3 = 0.0;
  }
  v11 = v3;
LABEL_19:
  sub_1005D5BD();
  v4 = v9 * 31.0 + 0.5;
  v5 = v10 * 63.0 + 0.5;
  v6 = (signed int)v5;
  v7 = v11 * 31.0 + 0.5;
  return (signed int)v7 | 32 * (v6 | ((signed int)v4 << 6));
}

//----- (1005D6F9) --------------------------------------------------------
int __cdecl sub_1005D6F9(int a1, int a2, int a3, unsigned int a4)
{
  unsigned int v4; // esi@1
  char *v5; // ebx@2
  unsigned int v6; // edx@4
  int v7; // ecx@5
  int v8; // ecx@11
  double v9; // st7@19
  int v10; // edx@21
  char *v11; // eax@21
  unsigned int v12; // edx@26
  int v13; // ecx@27
  double v14; // st7@27
  int v15; // eax@30
  unsigned int v16; // eax@37
  double v17; // st7@37
  double v18; // st6@37
  int v19; // eax@37
  float v20; // eax@44
  double v21; // st7@49
  double v22; // st7@54
  int result; // eax@58
  float v24[6]; // [sp+Ch] [bp-50h]@22
  float v25; // [sp+24h] [bp-38h]@25
  float v26; // [sp+28h] [bp-34h]@25
  unsigned int v27; // [sp+2Ch] [bp-30h]@18
  float v28; // [sp+30h] [bp-2Ch]@35
  float v29; // [sp+34h] [bp-28h]@20
  float v30; // [sp+38h] [bp-24h]@18
  unsigned int v31; // [sp+3Ch] [bp-20h]@18
  int v32; // [sp+40h] [bp-1Ch]@2
  float v33; // [sp+44h] [bp-18h]@26
  float v34; // [sp+48h] [bp-14h]@26
  float v35; // [sp+4Ch] [bp-10h]@26
  float v36; // [sp+50h] [bp-Ch]@26
  float v37; // [sp+54h] [bp-8h]@4
  float v38; // [sp+58h] [bp-4h]@4

  v4 = a4;
  if ( a4 == 6 )
  {
    v5 = (char *)&unk_10076254;
    v32 = (int)&unk_1007623C;
  }
  else
  {
    v5 = (char *)&unk_1007621C;
    v32 = (int)&unk_100761FC;
  }
  v6 = 0;
  v38 = 1.0;
  v37 = 0.0;
  if ( a4 == 8 )
  {
    do
    {
      v7 = a3 + 4 * v6;
      if ( *(float *)v7 < (double)v38 )
        LODWORD(v38) = *(_DWORD *)v7;
      if ( *(float *)v7 > (double)v37 )
        LODWORD(v37) = *(_DWORD *)v7;
      ++v6;
    }
    while ( v6 < 0x10 );
  }
  else
  {
    do
    {
      v8 = a3 + 4 * v6;
      if ( *(float *)v8 < (double)v38 && *(float *)v8 > 0.0 )
        LODWORD(v38) = *(_DWORD *)v8;
      if ( *(float *)v8 > (double)v37 && *(float *)v8 < 1.0 )
        LODWORD(v37) = *(_DWORD *)v8;
      ++v6;
    }
    while ( v6 < 0x10 );
  }
  v27 = a4 - 1;
  v30 = (double)(a4 - 1);
  sub_1005D5BD();
  v31 = 0;
  do
  {
    v9 = v37 - v38;
    if ( v9 < 0.00390625 )
      break;
    v29 = v30 / v9;
    if ( v4 )
    {
      v10 = v32 - (_DWORD)v5;
      v11 = v5;
      do
      {
        *(float *)&v11[(char *)v24 - v5] = v37 * *(float *)&v11[v10] + v38 * *(float *)v11;
        v11 += 4;
        --v4;
      }
      while ( v4 );
      v4 = a4;
    }
    if ( v4 == 6 )
    {
      v25 = 0.0;
      v26 = 1.0;
    }
    v12 = 0;
    v36 = 0.0;
    v35 = 0.0;
    v34 = 0.0;
    v33 = 0.0;
    do
    {
      v13 = a3 + 4 * v12;
      v14 = (*(float *)v13 - v38) * v29;
      if ( v14 > 0.0 )
      {
        if ( v14 < v30 )
        {
          v28 = v14 + 0.5;
          v27 = (signed int)v28;
          v15 = (signed int)v28;
        }
        else
        {
          if ( v4 == 6 && (v37 + 1.0) * 0.5 <= *(float *)v13 )
            goto LABEL_38;
          v15 = a4 - 1;
        }
      }
      else
      {
        if ( v4 == 6 && v38 * 0.5 >= *(float *)v13 )
          goto LABEL_38;
        v15 = 0;
      }
      if ( v15 < v4 )
      {
        v16 = 4 * v15;
        v17 = *(float *)v13 - v24[v16 / 4];
        v36 = v17 * *(float *)&v5[v16] + v36;
        v18 = *(float *)&v5[v16];
        v19 = v32 + v16;
        v34 = v18 * v18 + v34;
        v35 = v17 * *(float *)v19 + v35;
        v33 = *(float *)v19 * *(float *)v19 + v33;
      }
LABEL_38:
      ++v12;
    }
    while ( v12 < 0x10 );
    if ( v34 > 0.0 )
      v38 = v38 - v36 / v34;
    if ( v33 > 0.0 )
      v37 = v37 - v35 / v33;
    if ( v38 > (double)v37 )
    {
      v20 = v37;
      v37 = v38;
      v38 = v20;
    }
    if ( v36 * v36 < 0.015625 && v35 * v35 < 0.015625 )
      break;
    ++v31;
  }
  while ( v31 < 8 );
  if ( v38 >= 0.0 )
  {
    if ( v38 <= 1.0 )
      v21 = v38;
    else
      v21 = 1.0;
  }
  else
  {
    v21 = 0.0;
  }
  *(float *)a1 = v21;
  if ( v37 >= 0.0 )
  {
    if ( v37 <= 1.0 )
      v22 = v37;
    else
      v22 = 1.0;
  }
  else
  {
    v22 = 0.0;
  }
  result = a2;
  *(float *)a2 = v22;
  return result;
}
// 10085420: using guessed type int dword_10085420;
// 1005D6F9: using guessed type float var_50[6];

//----- (1005D9FE) --------------------------------------------------------
int __cdecl sub_1005D9FE(int a1, int a2, int a3, int a4)
{
  double v4; // st7@4
  signed int v5; // edi@4
  int v6; // ecx@4
  signed int v7; // edx@4
  double v8; // st6@18
  double v9; // st5@18
  __int16 v10; // fps@18
  unsigned __int8 v11; // c0@18
  unsigned __int8 v12; // c2@18
  int result; // eax@19
  float v14; // ecx@19
  int v15; // eax@20
  double v16; // st5@20
  signed int v17; // ecx@20
  double v18; // st6@20
  double v19; // st5@21
  double v20; // st5@21
  double v21; // st4@21
  char v22; // bl@22
  signed int v23; // edx@22
  float *v24; // ecx@23
  float v25; // eax@27
  float v26; // eax@29
  float v27; // ecx@31
  int v28; // ebx@32
  double v29; // st7@32
  int v30; // eax@34
  float *v31; // ecx@34
  int v32; // edx@34
  int v33; // esi@34
  double v34; // st6@35
  double v35; // st5@35
  double v36; // st6@36
  double v37; // st5@36
  double v38; // st4@36
  double v39; // st4@37
  int v40; // ecx@37
  signed int v41; // esi@37
  double v42; // st6@38
  int v43; // edx@39
  double v44; // st6@41
  double v45; // st5@41
  int v46; // eax@41
  int v47; // edx@41
  double v48; // st4@41
  int v49; // eax@41
  double v50; // st4@41
  double v51; // st3@41
  double v52; // st6@43
  double v53; // st6@45
  float v54; // [sp+0h] [bp-58h]@41
  float v55; // [sp+4h] [bp-54h]@34
  float v56[14]; // [sp+8h] [bp-50h]@41
  int v57; // [sp+40h] [bp-18h]@4
  int v58; // [sp+44h] [bp-14h]@40
  float v59; // [sp+48h] [bp-10h]@20
  float v60; // [sp+4Ch] [bp-Ch]@20
  float v61; // [sp+50h] [bp-8h]@20
  int v62; // [sp+58h] [bp+0h]@2
  int v63; // [sp+5Ch] [bp+4h]@2
  float v64; // [sp+60h] [bp+8h]@38
  float v65; // [sp+64h] [bp+Ch]@27
  float v66; // [sp+68h] [bp+10h]@37
  float v67; // [sp+6Ch] [bp+14h]@20
  float v68; // [sp+70h] [bp+18h]@20
  float v69; // [sp+74h] [bp+1Ch]@20
  float v70; // [sp+7Ch] [bp+24h]@18
  float v71; // [sp+80h] [bp+28h]@18
  float v72; // [sp+84h] [bp+2Ch]@18
  float v73; // [sp+88h] [bp+30h]@37
  float v74; // [sp+90h] [bp+38h]@22
  float v75; // [sp+94h] [bp+3Ch]@20
  float v76; // [sp+98h] [bp+40h]@20
  float v77; // [sp+9Ch] [bp+44h]@20
  float v78; // [sp+A0h] [bp+48h]@4
  float v79; // [sp+A4h] [bp+4Ch]@4
  float v80; // [sp+A8h] [bp+50h]@4
  float v81; // [sp+B0h] [bp+58h]@4
  float v82; // [sp+B4h] [bp+5Ch]@4
  float v83; // [sp+B8h] [bp+60h]@4
  int v84; // [sp+BCh] [bp+64h]@4
  float v85; // [sp+D4h] [bp+7Ch]@37

  if ( a4 == 3 )
  {
    v62 = (int)&unk_100762A0;
    v63 = (int)&unk_10076294;
  }
  else
  {
    v62 = (int)&unk_10076284;
    v63 = (int)&unk_10076274;
  }
  v78 = 0.0;
  v4 = 0.0;
  v79 = 0.0;
  v81 = flt_10082C38;
  LODWORD(v82) = *((_DWORD *)&flt_10082C38 + 1);
  v80 = 0.0;
  LODWORD(v83) = *((_DWORD *)&flt_10082C38 + 2);
  v84 = *((_DWORD *)&flt_10082C38 + 3);
  v5 = 16;
  v57 = a3 + 8;
  v6 = a3 + 8;
  v7 = 16;
  do
  {
    if ( *(float *)(v6 - 8) < (double)v81 )
      LODWORD(v81) = *(_DWORD *)(v6 - 8);
    if ( *(float *)(v6 - 4) < (double)v82 )
      LODWORD(v82) = *(_DWORD *)(v6 - 4);
    if ( *(float *)v6 < (double)v83 )
      LODWORD(v83) = *(_DWORD *)v6;
    if ( *(float *)(v6 - 8) > (double)v78 )
      LODWORD(v78) = *(_DWORD *)(v6 - 8);
    if ( v4 < *(float *)(v6 - 4) )
      v4 = *(float *)(v6 - 4);
    if ( *(float *)v6 > (double)v80 )
      LODWORD(v80) = *(_DWORD *)v6;
    v6 += 16;
    --v7;
  }
  while ( v7 );
  v79 = v4;
  v71 = v78 - v81;
  v72 = v4 - v82;
  v8 = v80 - v83;
  v9 = v8 * v8 + v72 * v72 + v71 * v71;
  UNDEF(v10);
  v70 = v9;
  if ( v11 | v12 )
  {
    *(_DWORD *)a1 = LODWORD(v81);
    *(_DWORD *)(a1 + 4) = LODWORD(v82);
    *(_DWORD *)(a1 + 8) = LODWORD(v83);
    result = a2;
    v14 = v78;
    *(float *)(a2 + 4) = v4;
    *(_DWORD *)a2 = LODWORD(v14);
  }
  else
  {
    v15 = a3 + 8;
    v16 = 1.0 / v9;
    v17 = 16;
    v59 = v71 * v16;
    v60 = v72 * v16;
    v61 = v16 * v8;
    v67 = (v78 + v81) * 0.5;
    v68 = (v4 + v82) * 0.5;
    v69 = (v80 + v83) * 0.5;
    v77 = 0.0;
    v76 = 0.0;
    v75 = 0.0;
    v18 = 0.0;
    do
    {
      v71 = (*(float *)(v15 - 8) - v67) * v59;
      v72 = (*(float *)(v15 - 4) - v68) * v60;
      v19 = *(float *)v15;
      v15 += 16;
      --v17;
      v20 = (v19 - v69) * v61;
      v18 = v18 + (v72 + v20 + v71) * (v72 + v20 + v71);
      v75 = (v72 + v71 - v20) * (v72 + v71 - v20) + v75;
      v21 = v71 - v72;
      v76 = (v21 + v20) * (v21 + v20) + v76;
      v77 = (v21 - v20) * (v21 - v20) + v77;
    }
    while ( v17 );
    v74 = v18;
    v22 = 0;
    v23 = 1;
    do
    {
      v24 = &v74 + v23;
      if ( v18 < *v24 )
      {
        v22 = v23;
        v18 = *v24;
      }
      ++v23;
    }
    while ( (unsigned int)v23 < 4 );
    if ( v22 & 2 )
    {
      v25 = v82;
      v82 = v4;
      v65 = v25;
      v4 = v25;
      v79 = v25;
    }
    if ( v22 & 1 )
    {
      v26 = v80;
      v80 = v83;
      v83 = v26;
    }
    if ( v70 >= 0.00024414062 )
    {
      v28 = a4;
      v65 = (double)(unsigned int)(a4 - 1);
      sub_1005D5BD();
      v70 = 0.0;
      v29 = 0.000015258789;
      do
      {
        if ( v28 )
        {
          v30 = v62;
          v31 = &v55;
          v32 = v63 - v62;
          v33 = v28;
          do
          {
            *(v31 - 1) = v81 * *(float *)v30 + v78 * *(float *)(v32 + v30);
            *v31 = v82 * *(float *)v30 + v79 * *(float *)(v32 + v30);
            v34 = v83 * *(float *)v30;
            v35 = v80 * *(float *)(v32 + v30);
            v30 += 4;
            v31[1] = v34 + v35;
            v31 = (float *)((char *)v31 + v5);
            --v33;
          }
          while ( v33 );
        }
        v36 = v78 - v81;
        v72 = v79 - v82;
        v37 = v80 - v83;
        v38 = v37 * v37 + v72 * v72 + v36 * v36;
        if ( v38 < 0.00024414062 )
          break;
        v39 = v65 / v38;
        v40 = v57;
        v41 = v5;
        v71 = v39 * v36;
        v72 = v72 * v39;
        v73 = v39 * v37;
        v76 = 0.0;
        v75 = 0.0;
        v74 = 0.0;
        v69 = 0.0;
        v68 = 0.0;
        v67 = 0.0;
        v66 = 0.0;
        v85 = 0.0;
        do
        {
          v42 = (*(float *)(v40 - 4) - v82) * v72 + (*(float *)(v40 - 8) - v81) * v71 + (*(float *)v40 - v83) * v73;
          v64 = v42;
          if ( v42 < v65 )
          {
            v64 = v64 + 0.5;
            v58 = (signed int)v64;
            v43 = (signed int)v64;
            v29 = 0.000015258789;
          }
          else
          {
            v43 = v28 - 1;
          }
          v44 = *(&v54 + 4 * v43) - *(float *)(v40 - 8);
          v60 = *(&v55 + 4 * v43) - *(float *)(v40 - 4);
          v45 = v56[4 * v43] - *(float *)v40;
          v46 = 4 * v43;
          v47 = v46 + v62;
          v48 = *(float *)(v46 + v62);
          v49 = v63 + v46;
          v50 = v48 * 0.125;
          v5 = 16;
          v40 += 16;
          --v41;
          v51 = *(float *)v49 * 0.125;
          v85 = v50 * *(float *)v47 + v85;
          v67 = v50 * v44 + v67;
          v68 = v50 * v60 + v68;
          v69 = v50 * v45 + v69;
          v66 = v51 * *(float *)v49 + v66;
          v74 = v51 * v44 + v74;
          v75 = v60 * v51 + v75;
          v76 = v51 * v45 + v76;
        }
        while ( v41 );
        if ( v85 > 0.0 )
        {
          v52 = -1.0 / v85;
          v81 = v67 * v52 + v81;
          v82 = v68 * v52 + v82;
          v83 = v52 * v69 + v83;
        }
        if ( v66 > 0.0 )
        {
          v53 = -1.0 / v66;
          v78 = v74 * v53 + v78;
          v79 = v75 * v53 + v79;
          v80 = v53 * v76 + v80;
        }
        if ( v67 * v67 < v29
          && v68 * v68 < v29
          && v69 * v69 < v29
          && v74 * v74 < v29
          && v75 * v75 < v29
          && v76 * v76 < v29 )
          break;
        ++LODWORD(v70);
      }
      while ( LODWORD(v70) < 8 );
      *(_DWORD *)a1 = LODWORD(v81);
      *(_DWORD *)(a1 + 4) = LODWORD(v82);
      *(_DWORD *)(a1 + 8) = LODWORD(v83);
      result = a2;
      *(_DWORD *)a2 = LODWORD(v78);
      *(_DWORD *)(a2 + 4) = LODWORD(v79);
    }
    else
    {
      *(_DWORD *)a1 = LODWORD(v81);
      *(_DWORD *)(a1 + 4) = LODWORD(v82);
      *(_DWORD *)(a1 + 8) = LODWORD(v83);
      result = a2;
      v27 = v78;
      *(float *)(a2 + 4) = v4;
      *(_DWORD *)a2 = LODWORD(v27);
    }
  }
  *(_DWORD *)(result + 8) = LODWORD(v80);
  return result;
}
// 10082C38: using guessed type float flt_10082C38;
// 1005D9FE: using guessed type float var_B8[14];

//----- (1005DF69) --------------------------------------------------------
int __usercall sub_1005DF69<eax>(int a1<eax>, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // esi@2
  int v5; // ecx@2
  signed int v6; // edi@2
  int v7; // edx@10
  char *v8; // esi@10
  char *v9; // edi@10
  int v10; // eax@10
  unsigned int v11; // ecx@10
  double v12; // st7@12
  double v13; // st7@12
  double v14; // st7@12
  double v15; // st6@12
  double v16; // st5@12
  double v17; // st4@12
  bool v18; // zf@17
  int v19; // eax@20
  unsigned int v20; // esi@20
  int v21; // eax@20
  unsigned int v22; // edi@20
  float *v23; // esi@24
  int v24; // esi@26
  double v25; // st7@26
  double v26; // st6@27
  double v27; // st4@27
  double v28; // st5@28
  double v29; // st4@28
  double v30; // st7@29
  double v31; // st6@29
  double v32; // st5@30
  int v33; // edx@32
  char *v34; // esi@32
  char *v35; // edi@32
  int v36; // ecx@32
  double v37; // st7@36
  signed int v38; // eax@37
  signed int v39; // ebx@41
  int v40; // eax@41
  double v41; // st7@41
  int v42; // ebx@41
  double v43; // st6@41
  float v45; // [sp+0h] [bp-270h]@19
  float v46[3]; // [sp+4h] [bp-26Ch]@19
  float v47; // [sp+10h] [bp-260h]@10
  float v48; // [sp+14h] [bp-25Ch]@12
  char v49[248]; // [sp+18h] [bp-258h]@32
  float v50; // [sp+110h] [bp-160h]@10
  float v51; // [sp+114h] [bp-15Ch]@12
  char v52[4]; // [sp+118h] [bp-158h]@10
  char v53[4]; // [sp+11Ch] [bp-154h]@10
  char v54[4]; // [sp+120h] [bp-150h]@10
  char v55[20]; // [sp+124h] [bp-14Ch]@32
  char v56[4]; // [sp+138h] [bp-138h]@10
  char v57[4]; // [sp+13Ch] [bp-134h]@10
  char v58[4]; // [sp+140h] [bp-130h]@10
  char v59[4]; // [sp+144h] [bp-12Ch]@32
  char v60[4]; // [sp+148h] [bp-128h]@10
  char v61[4]; // [sp+14Ch] [bp-124h]@10
  char v62[4]; // [sp+150h] [bp-120h]@10
  char v63[4]; // [sp+154h] [bp-11Ch]@32
  char v64[4]; // [sp+158h] [bp-118h]@10
  char v65[4]; // [sp+15Ch] [bp-114h]@10
  char v66[4]; // [sp+160h] [bp-110h]@10
  char v67[172]; // [sp+164h] [bp-10Ch]@32
  float v68; // [sp+210h] [bp-60h]@20
  float v69; // [sp+214h] [bp-5Ch]@20
  float v70; // [sp+218h] [bp-58h]@20
  int v71; // [sp+220h] [bp-50h]@12
  char *v72; // [sp+224h] [bp-4Ch]@10
  char *v73; // [sp+228h] [bp-48h]@10
  char *v74; // [sp+22Ch] [bp-44h]@10
  char *v75; // [sp+230h] [bp-40h]@10
  char *v76; // [sp+234h] [bp-3Ch]@10
  char *v77; // [sp+238h] [bp-38h]@10
  float *v78; // [sp+23Ch] [bp-34h]@10
  char *v79; // [sp+240h] [bp-30h]@10
  char *v80; // [sp+244h] [bp-2Ch]@10
  float v81; // [sp+248h] [bp-28h]@24
  float v82; // [sp+24Ch] [bp-24h]@24
  float v83; // [sp+250h] [bp-20h]@24
  float v84; // [sp+254h] [bp-1Ch]@24
  float v85; // [sp+258h] [bp-18h]@26
  float v86; // [sp+25Ch] [bp-14h]@26
  float v87; // [sp+260h] [bp-10h]@26
  float v88; // [sp+264h] [bp-Ch]@26
  float v89; // [sp+268h] [bp-8h]@27
  float v90; // [sp+26Ch] [bp-4h]@27
  float v91; // [sp+270h] [bp+0h]@27
  float v92; // [sp+274h] [bp+4h]@27
  float v93; // [sp+278h] [bp+8h]@28
  float v94; // [sp+27Ch] [bp+Ch]@28
  float v95; // [sp+280h] [bp+10h]@28
  float v96; // [sp+284h] [bp+14h]@28
  int v97; // [sp+288h] [bp+18h]@10
  char *v98; // [sp+28Ch] [bp+1Ch]@10
  int v99; // [sp+290h] [bp+20h]@12
  int v100; // [sp+294h] [bp+24h]@12
  float v101; // [sp+298h] [bp+28h]@20
  float v102; // [sp+29Ch] [bp+2Ch]@20
  float v103; // [sp+2A0h] [bp+30h]@20
  float v104; // [sp+2A4h] [bp+34h]@24
  float v105; // [sp+2A8h] [bp+38h]@20
  float v106; // [sp+2ACh] [bp+3Ch]@12
  float v107; // [sp+2B0h] [bp+40h]@12
  float *v108; // [sp+2B8h] [bp+48h]@10
  float v109; // [sp+2BCh] [bp+4Ch]@10
  float v110; // [sp+2C0h] [bp+50h]@12
  float v111; // [sp+2C4h] [bp+54h]@12
  float v112; // [sp+2C8h] [bp+58h]@12
  float v113; // [sp+2CCh] [bp+5Ch]@12
  float v114; // [sp+2D0h] [bp+60h]@25
  int v115; // [sp+2D4h] [bp+64h]@8
  float *v116; // [sp+2D8h] [bp+68h]@12
  signed int v117; // [sp+2DCh] [bp+6Ch]@12
  int v118; // [sp+2ECh] [bp+7Ch]@10
  float v119; // [sp+2ECh] [bp+7Ch]@27
  unsigned int v120; // [sp+2ECh] [bp+7Ch]@32

  v3 = a1;
  if ( a3 )
  {
    v4 = 0;
    v5 = a1 + 12;
    v6 = 16;
    do
    {
      if ( *(float *)v5 < 0.5 )
        ++v4;
      v5 += 16;
      --v6;
    }
    while ( v6 );
    if ( v4 == 16 )
    {
      *(_WORD *)(a2 + 2) = -1;
      *(_DWORD *)(a2 + 4) = -1;
      *(_WORD *)a2 = 0;
      return 0;
    }
    v115 = 4 - (v4 > 0);
  }
  else
  {
    v115 = 4;
  }
  memset(&v50, 0, 0x100u);
  sub_1005D5BD();
  v98 = &v52[-v3];
  v74 = &v53[-v3];
  v72 = &v54[-v3];
  v97 = (int)&v56[-v3];
  v75 = &v57[-v3];
  v77 = &v58[-v3];
  LODWORD(v109) = &v60[-v3];
  v73 = &v61[-v3];
  v79 = &v62[-v3];
  v108 = (float *)&v64[-v3];
  v80 = &v65[-v3];
  v118 = v7;
  v8 = (char *)&v50 - v3;
  v76 = &v66[-v3];
  v9 = (char *)&v47 - v3;
  v10 = v3 + 8;
  v78 = (float *)((char *)&v50 - v3);
  v11 = 0;
  while ( 1 )
  {
    v111 = *(float *)((char *)&v50 + v11) + *(float *)(v10 - 8);
    v112 = *(float *)(v10 - 4) + *(float *)((char *)&v51 + v11);
    v113 = *(float *)&v8[v10] + *(float *)v10;
    *(float *)&v117 = v111 * 31.0 + 0.5;
    v71 = (signed int)*(float *)&v117;
    v117 = (signed int)*(float *)&v117;
    v12 = (double)v117 * 0.032258064;
    v110 = v12;
    *(float *)((char *)&v47 + v11) = v12;
    *(float *)&v117 = v112 * 63.0 + 0.5;
    v100 = (signed int)*(float *)&v117;
    v117 = (signed int)*(float *)&v117;
    v13 = (double)v117 * 0.015873017;
    *(float *)&v117 = v13;
    *(float *)((char *)&v48 + v11) = v13;
    *(float *)&v116 = v113 * 31.0 + 0.5;
    v99 = (signed int)*(float *)&v116;
    v116 = (float *)(signed int)*(float *)&v116;
    v14 = (double)(signed int)v116 * 0.032258064;
    v116 = (float *)(v118 & 3);
    *(float *)&v9[v10] = v14;
    *(float *)((char *)&v48 + v10 - v3) = 1.0;
    v15 = v111 - v110;
    v16 = v112 - *(float *)&v117;
    v106 = v16;
    v17 = v113 - v14;
    v107 = v17;
    if ( (v118 & 3) != 3 )
    {
      *(float *)&v98[v10] = v15 * 0.4375 + *(float *)&v98[v10];
      *(float *)&v74[v10] = v16 * 0.4375 + *(float *)&v74[v10];
      *(float *)&v72[v10] = v17 * 0.4375 + *(float *)&v72[v10];
    }
    if ( v11 < 0xC0 )
    {
      if ( *(float *)&v116 != 0.0 )
      {
        *(float *)(v10 + v97) = v15 * 0.1875 + *(float *)(v10 + v97);
        *(float *)&v75[v10] = v16 * 0.1875 + *(float *)&v75[v10];
        *(float *)&v77[v10] = v17 * 0.1875 + *(float *)&v77[v10];
      }
      *(float *)(v10 + LODWORD(v109)) = v15 * 0.3125 + *(float *)(v10 + LODWORD(v109));
      *(float *)&v73[v10] = v16 * 0.3125 + *(float *)&v73[v10];
      v18 = v116 == (float *)3;
      *(float *)&v79[v10] = v17 * 0.3125 + *(float *)&v79[v10];
      if ( !v18 )
      {
        *(float *)((char *)v108 + v10) = v15 * 0.0625 + *(float *)((char *)v108 + v10);
        *(float *)&v80[v10] = v106 * 0.0625 + *(float *)&v80[v10];
        *(float *)&v76[v10] = v107 * 0.0625 + *(float *)&v76[v10];
      }
    }
    ++v118;
    v11 += 16;
    *(float *)((char *)&v45 + v11) = v110 * flt_10082C38;
    v46[v11 / 4] = *(float *)&v117 * flt_10082C3C;
    *(float *)&v9[v10] = v14 * flt_10082C40;
    v10 += 16;
    if ( v11 >= 0x100 )
      break;
    v8 = (char *)v78;
  }
  sub_1005D9FE((int)&v101, (int)&v111, (int)&v47, v115);
  v68 = v101 * flt_10082C48;
  v69 = v102 * flt_10082C4C;
  v70 = v103 * flt_10082C50;
  v105 = v111 * flt_10082C48;
  v106 = v112 * flt_10082C4C;
  v107 = v113 * flt_10082C50;
  v19 = sub_1005D5FF((int)&v68);
  v20 = v19;
  LODWORD(v109) = v19;
  v21 = sub_1005D5FF((int)&v105);
  v22 = v21;
  v108 = (float *)v21;
  if ( v115 != 4 || (_WORD)v20 != (_WORD)v21 )
  {
    sub_1005D47D((int)&v68, v20);
    sub_1005D47D((int)&v105, v22);
    v101 = v68 * flt_10082C38;
    v102 = v69 * flt_10082C3C;
    v103 = v70 * flt_10082C40;
    v111 = v105 * flt_10082C38;
    v112 = v106 * flt_10082C3C;
    v113 = v107 * flt_10082C40;
    if ( (v115 == 3) == (unsigned __int16)v22 >= (unsigned __int16)v20 )
    {
      *(_WORD *)a2 = v20;
      *(_WORD *)(a2 + 2) = v22;
      v81 = v101;
      v82 = v102;
      v83 = v103;
      v84 = v104;
      v23 = &v111;
    }
    else
    {
      *(_WORD *)(a2 + 2) = v20;
      *(_WORD *)a2 = v22;
      v81 = v111;
      v82 = v112;
      v83 = v113;
      v84 = v114;
      v23 = &v101;
    }
    LODWORD(v85) = *(_DWORD *)v23;
    v24 = (int)(v23 + 1);
    LODWORD(v86) = *(_DWORD *)v24;
    v24 += 4;
    LODWORD(v87) = *(_DWORD *)v24;
    LODWORD(v88) = *(_DWORD *)(v24 + 4);
    v25 = v85 - v81;
    if ( v115 == 3 )
    {
      LODWORD(v110) = &unk_100762C0;
      v89 = 0.5 * v25 + v81;
      v26 = v86 - v82;
      v90 = v26 * 0.5 + v82;
      v27 = v87 - v83;
      v119 = v27;
      v91 = v27 * 0.5 + v83;
      v92 = (v88 - v84) * 0.5 + v84;
    }
    else
    {
      LODWORD(v110) = &unk_100762B0;
      v89 = 0.33333334 * v25 + v81;
      v26 = v86 - v82;
      v90 = 0.33333334 * v26 + v82;
      v28 = v87 - v83;
      v119 = v28;
      v91 = 0.33333334 * v28 + v83;
      v29 = v88 - v84;
      v92 = 0.33333334 * v29 + v84;
      v93 = v25 * 0.66666669 + v81;
      v94 = v26 * 0.66666669 + v82;
      v95 = v28 * 0.66666669 + v83;
      v96 = v29 * 0.66666669 + v84;
    }
    v111 = v25;
    v30 = v26;
    v31 = v119;
    *(float *)&v117 = (double)(unsigned int)(v115 - 1);
    if ( LOWORD(v109) == (_WORD)v108 )
      v32 = 0.0;
    else
      v32 = *(float *)&v117 / (v31 * v31 + v30 * v30 + v111 * v111);
    v111 = v111 * v32;
    memset(&v50, 0, 0x100u);
    v112 = v32 * v30;
    v113 = v32 * v31;
    sub_1005D5BD();
    v116 = &v50;
    v108 = (float *)((char *)&v51 - v3);
    v98 = &v55[-v3];
    v99 = (int)&v59[-v3];
    v34 = &v49[-v3];
    v35 = &v63[-v3];
    v120 = v33;
    v36 = v3 + 4;
    v100 = (int)&v67[-v3];
    do
    {
      if ( v115 != 3 || *(float *)(v36 + 8) >= 0.5 )
      {
        v101 = flt_10082C38 * *(float *)(v36 - 4) + *v116;
        v102 = flt_10082C3C * *(float *)v36 + *(float *)((char *)v78 + v36);
        v103 = flt_10082C40 * *(float *)(v36 + 4) + *(float *)((char *)v108 + v36);
        v37 = (v101 - v81) * v111 + (v103 - v83) * v113 + (v102 - v82) * v112;
        if ( v37 > 0.0 )
        {
          if ( v37 < *(float *)&v117 )
          {
            v109 = v37 + 0.5;
            v97 = (signed int)v109;
            v38 = *(_DWORD *)(LODWORD(v110) + 4 * (signed int)v109);
          }
          else
          {
            v38 = 1;
          }
        }
        else
        {
          v38 = 0;
        }
        v39 = v38;
        v40 = 16 * v38;
        v33 = (v39 << 30) | ((unsigned int)v33 >> 2);
        v41 = (v101 - *(float *)((char *)&v81 + v40)) * *(float *)&v34[v36];
        v42 = v120 & 3;
        v43 = (v102 - *(float *)((char *)&v82 + v40)) * *(float *)&v34[v36];
        v106 = v43;
        v107 = (v103 - *(float *)((char *)&v83 + v40)) * *(float *)&v34[v36];
        if ( v42 != 3 )
        {
          *(float *)&v74[v36] = v41 * 0.4375 + *(float *)&v74[v36];
          *(float *)&v72[v36] = 0.4375 * v43 + *(float *)&v72[v36];
          *(float *)&v98[v36] = v107 * 0.4375 + *(float *)&v98[v36];
        }
        if ( v120 < 0xC )
        {
          if ( v120 & 3 )
          {
            *(float *)&v75[v36] = v41 * 0.1875 + *(float *)&v75[v36];
            *(float *)&v77[v36] = 0.1875 * v43 + *(float *)&v77[v36];
            *(float *)(v36 + v99) = v107 * 0.1875 + *(float *)(v36 + v99);
          }
          *(float *)&v73[v36] = v41 * 0.3125 + *(float *)&v73[v36];
          *(float *)&v79[v36] = v43 * 0.3125 + *(float *)&v79[v36];
          *(float *)&v35[v36] = v107 * 0.3125 + *(float *)&v35[v36];
          if ( v42 != 3 )
          {
            *(float *)&v80[v36] = v41 * 0.0625 + *(float *)&v80[v36];
            *(float *)&v76[v36] = v106 * 0.0625 + *(float *)&v76[v36];
            *(float *)(v36 + v100) = v107 * 0.0625 + *(float *)(v36 + v100);
          }
        }
      }
      else
      {
        v33 = ((unsigned int)v33 >> 2) | 0xC0000000;
      }
      ++v120;
      v116 += 4;
      v36 += 16;
    }
    while ( v120 < 0x10 );
    *(_DWORD *)(a2 + 4) = v33;
  }
  else
  {
    *(_DWORD *)(a2 + 4) = 0;
    *(_WORD *)a2 = v20;
    *(_WORD *)(a2 + 2) = v21;
  }
  return 0;
}
// 10082C38: using guessed type float flt_10082C38;
// 10082C3C: using guessed type float flt_10082C3C;
// 10082C40: using guessed type float flt_10082C40;
// 10082C48: using guessed type float flt_10082C48;
// 10082C4C: using guessed type float flt_10082C4C;
// 10082C50: using guessed type float flt_10082C50;
// 1005DF69: using guessed type char var_1C8[4];
// 1005DF69: using guessed type char var_1C4[4];
// 1005DF69: using guessed type char var_1C0[4];
// 1005DF69: using guessed type char var_1A8[4];
// 1005DF69: using guessed type char var_1A4[4];
// 1005DF69: using guessed type char var_1A0[4];
// 1005DF69: using guessed type char var_198[4];
// 1005DF69: using guessed type char var_194[4];
// 1005DF69: using guessed type char var_190[4];
// 1005DF69: using guessed type char var_188[4];
// 1005DF69: using guessed type char var_184[4];
// 1005DF69: using guessed type char var_180[4];
// 1005DF69: using guessed type float var_2DC[3];
// 1005DF69: using guessed type char var_1BC[20];
// 1005DF69: using guessed type char var_19C[4];
// 1005DF69: using guessed type char var_2C8[248];
// 1005DF69: using guessed type char var_18C[4];
// 1005DF69: using guessed type char var_17C[172];

//----- (1005E76D) --------------------------------------------------------
int __cdecl sub_1005E76D(int a1, int a2)
{
  int v2; // ebx@1
  unsigned __int16 v3; // si@1
  unsigned int v4; // edi@1
  double v5; // st7@3
  double v6; // st5@3
  double v7; // st5@3
  double v8; // st5@3
  unsigned int v9; // ebx@4
  int v10; // eax@4
  signed int v11; // ecx@4
  int v12; // edx@5
  int v13; // edi@5
  float v15; // [sp+Ch] [bp-58h]@1
  float v16; // [sp+10h] [bp-54h]@2
  float v17; // [sp+14h] [bp-50h]@2
  float v18; // [sp+18h] [bp-4Ch]@2
  float v19; // [sp+1Ch] [bp-48h]@1
  float v20; // [sp+20h] [bp-44h]@2
  float v21; // [sp+24h] [bp-40h]@2
  float v22; // [sp+28h] [bp-3Ch]@2
  float v23; // [sp+2Ch] [bp-38h]@2
  float v24; // [sp+30h] [bp-34h]@2
  float v25; // [sp+34h] [bp-30h]@2
  float v26; // [sp+38h] [bp-2Ch]@2
  float v27; // [sp+3Ch] [bp-28h]@2
  float v28; // [sp+40h] [bp-24h]@2
  float v29; // [sp+44h] [bp-20h]@2
  float v30; // [sp+48h] [bp-1Ch]@2
  float v31; // [sp+4Ch] [bp-18h]@2
  float v32; // [sp+50h] [bp-14h]@2
  float v33; // [sp+54h] [bp-10h]@2
  float v34; // [sp+58h] [bp-Ch]@2
  float v35; // [sp+5Ch] [bp-8h]@3
  float v36; // [sp+60h] [bp-4h]@3
  float v37; // [sp+70h] [bp+Ch]@3

  v2 = a2;
  v3 = *(_WORD *)a2;
  sub_1005D47D((int)&v15, *(_WORD *)a2);
  v4 = *(_WORD *)(a2 + 2);
  sub_1005D47D((int)&v19, v4);
  if ( v3 > (unsigned __int16)v4 )
  {
    v5 = v19 - v15;
    v23 = v5 * 0.33333334 + v15;
    v6 = v20 - v16;
    v37 = v6;
    v24 = v6 * 0.33333334 + v16;
    v7 = v21 - v17;
    v36 = v7;
    v25 = v7 * 0.33333334 + v17;
    v8 = v22 - v18;
    v35 = v8;
    v26 = v8 * 0.33333334 + v18;
    v27 = v5 * 0.66666669 + v15;
    v28 = v37 * 0.66666669 + v16;
    v29 = v36 * 0.66666669 + v17;
    v30 = v35 * 0.66666669 + v18;
  }
  else
  {
    v23 = (v19 - v15) * 0.5 + v15;
    v24 = (v20 - v16) * 0.5 + v16;
    v25 = (v21 - v17) * 0.5 + v17;
    v26 = (v22 - v18) * 0.5 + v18;
    v31 = 0.0;
    v32 = 0.0;
    v33 = 0.0;
    v34 = 0.0;
    v27 = 0.0;
    v28 = 0.0;
    v29 = 0.0;
    v30 = 0.0;
  }
  v9 = *(_DWORD *)(v2 + 4);
  v10 = a1;
  v11 = 16;
  do
  {
    v12 = 16 * (v9 & 3);
    *(_DWORD *)v10 = *(_DWORD *)((char *)&v15 + v12);
    *(_DWORD *)(v10 + 4) = *(_DWORD *)((char *)&v15 + v12 + 4);
    *(_DWORD *)(v10 + 8) = *(_DWORD *)((char *)&v15 + v12 + 8);
    v13 = v10 + 12;
    v10 += 16;
    v9 >>= 2;
    --v11;
    *(_DWORD *)v13 = *(_DWORD *)((char *)&v15 + v12 + 12);
  }
  while ( v11 );
  return 0;
}

//----- (1005E8AB) --------------------------------------------------------
int __cdecl sub_1005E8AB(int a1, unsigned int *a2)
{
  unsigned int *v2; // esi@1
  int result; // eax@1
  unsigned int v4; // ecx@2
  signed int v5; // edx@2
  int v6; // eax@2
  unsigned int v7; // esi@4
  signed int v8; // ecx@4
  int v9; // eax@4
  int v10; // [sp+14h] [bp+Ch]@3
  int v11; // [sp+14h] [bp+Ch]@5

  v2 = a2;
  result = sub_1005E76D(a1, (int)(a2 + 2));
  if ( result >= 0 )
  {
    v4 = *a2;
    v5 = 8;
    v6 = a1 + 12;
    do
    {
      v10 = v4 & 0xF;
      v4 >>= 4;
      *(float *)v6 = (double)(unsigned int)v10 * 0.06666667;
      v6 += 16;
      --v5;
    }
    while ( v5 );
    v7 = v2[1];
    v8 = 8;
    v9 = a1 + 140;
    do
    {
      v11 = v7 & 0xF;
      v7 >>= 4;
      *(float *)v9 = (double)(unsigned int)v11 * 0.06666667;
      v9 += 16;
      --v8;
    }
    while ( v8 );
    result = 0;
  }
  return result;
}

//----- (1005E92E) --------------------------------------------------------
int __cdecl sub_1005E92E(int a1, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  unsigned __int8 v4; // al@2
  unsigned __int8 v5; // cl@2
  signed int v6; // eax@3
  double v7; // st7@4
  double v8; // st6@4
  signed int v9; // eax@6
  double v10; // st7@7
  double v11; // st6@7
  int v12; // ecx@9
  signed int v13; // edx@9
  int v14; // ecx@9
  int v15; // eax@9
  int v16; // ebx@10
  int v17; // ecx@11
  signed int v18; // edx@11
  int v19; // ecx@11
  int v20; // eax@11
  int v21; // esi@12
  float v22; // [sp+8h] [bp-20h]@2
  float v23; // [sp+Ch] [bp-1Ch]@2
  float v24; // [sp+20h] [bp-8h]@8
  float v25; // [sp+24h] [bp-4h]@8
  signed int v26; // [sp+34h] [bp+Ch]@2

  v2 = a2;
  result = sub_1005E76D(a1, a2 + 8);
  if ( result >= 0 )
  {
    v4 = *(_BYTE *)a2;
    v5 = *(_BYTE *)(a2 + 1);
    v26 = *(_BYTE *)(a2 + 1);
    v22 = (double)*(_BYTE *)v2 * 0.0039215689;
    v23 = (double)v26 * 0.0039215689;
    if ( v4 <= v5 )
    {
      v9 = 1;
      do
      {
        v10 = (double)(unsigned int)(5 - v9) * v22;
        v11 = (double)(unsigned int)v9++ * v23;
        *(&v22 + v9) = (v10 + v11) * 0.2;
      }
      while ( (unsigned int)v9 < 5 );
      v24 = 0.0;
      v25 = 1.0;
    }
    else
    {
      v6 = 1;
      do
      {
        v7 = (double)(unsigned int)(7 - v6) * v22;
        v8 = (double)(unsigned int)v6++ * v23;
        *(&v22 + v6) = (v7 + v8) * 0.14285715;
      }
      while ( (unsigned int)v6 < 7 );
    }
    BYTE3(v12) = 0;
    *(_WORD *)((char *)&v12 + 1) = *(_BYTE *)(v2 + 4);
    v13 = 8;
    LOBYTE(v12) = *(_BYTE *)(v2 + 3);
    v14 = *(_BYTE *)(v2 + 2) | (v12 << 8);
    v15 = a1 + 12;
    do
    {
      v16 = v14 & 7;
      v14 = (unsigned int)v14 >> 3;
      *(float *)v15 = *(&v22 + v16);
      v15 += 16;
      --v13;
    }
    while ( v13 );
    BYTE3(v17) = 0;
    *(_WORD *)((char *)&v17 + 1) = *(_BYTE *)(v2 + 7);
    v18 = 8;
    LOBYTE(v17) = *(_BYTE *)(v2 + 6);
    v19 = *(_BYTE *)(v2 + 5) | (v17 << 8);
    v20 = a1 + 140;
    do
    {
      v21 = v19 & 7;
      v19 = (unsigned int)v19 >> 3;
      *(float *)v20 = *(&v22 + v21);
      v20 += 16;
      --v18;
    }
    while ( v18 );
    result = 0;
  }
  return result;
}

//----- (1005EA6A) --------------------------------------------------------
int __cdecl sub_1005EA6A(int a1, int a2)
{
  int result; // eax@1

  result = sub_1005DF69(a2, a1, 1);
  if ( result >= 0 )
    result = 0;
  return result;
}

//----- (1005EA82) --------------------------------------------------------
int __cdecl sub_1005EA82(int a1, int a2)
{
  int v2; // ebx@1
  unsigned int v3; // edx@1
  int v4; // ecx@2
  double v5; // st7@2
  int v6; // edx@2
  int v7; // eax@2
  double v8; // st7@2
  int v9; // edx@2
  double v10; // st7@2
  float v12; // [sp+Ch] [bp-50h]@1
  char v13[8]; // [sp+10h] [bp-4Ch]@3
  char v14[4]; // [sp+18h] [bp-44h]@6
  char v15[4]; // [sp+1Ch] [bp-40h]@7
  char v16[44]; // [sp+20h] [bp-3Ch]@8
  int v17; // [sp+4Ch] [bp-10h]@2
  unsigned int v18; // [sp+50h] [bp-Ch]@2
  float v19; // [sp+54h] [bp-8h]@2
  int v20; // [sp+58h] [bp-4h]@1
  unsigned int v21; // [sp+64h] [bp+8h]@1

  v2 = a1;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  memset(&v12, 0, 0x40u);
  sub_1005D5BD();
  v21 = v3;
  v20 = a2 + 12;
  do
  {
    v4 = 4 * v21;
    v5 = *(&v12 + v21) + *(float *)v20;
    v19 = v5;
    *(float *)&v18 = v5 * 15.0 + 0.5;
    v17 = (signed int)*(float *)&v18;
    v6 = v2 + 4 * (v21 >> 3);
    v7 = ((signed int)*(float *)&v18 << 28) | (*(_DWORD *)v6 >> 4);
    v18 = (signed int)*(float *)&v18;
    v8 = (double)v18;
    *(_DWORD *)v6 = v7;
    v9 = v21 & 3;
    v10 = v19 - v8 * 0.06666667;
    if ( v9 != 3 )
      *(float *)&v13[v4] = 0.4375 * v10 + *(float *)&v13[v4];
    if ( v21 < 0xC )
    {
      if ( v21 & 3 )
        *(float *)&v14[v4] = 0.1875 * v10 + *(float *)&v14[v4];
      *(float *)&v15[v4] = 0.3125 * v10 + *(float *)&v15[v4];
      if ( v9 != 3 )
        *(float *)&v16[v4] = v10 * 0.0625 + *(float *)&v16[v4];
    }
    ++v21;
    v20 += 16;
  }
  while ( v21 < 0x10 );
  return sub_1005DF69(a2, v2 + 8, 0);
}
// 1005EA82: using guessed type char var_4C[8];
// 1005EA82: using guessed type char var_44[4];
// 1005EA82: using guessed type char var_40[4];
// 1005EA82: using guessed type char var_3C[44];

//----- (1005EB96) --------------------------------------------------------
int __cdecl sub_1005EB96(float a1, int a2)
{
  int v2; // ebx@1
  unsigned int v3; // edx@1
  int v4; // edi@1
  int v5; // ecx@2
  double v6; // st7@2
  double v7; // st7@2
  __int16 v8; // fps@2
  unsigned __int8 v9; // c0@2
  unsigned __int8 v10; // c2@2
  double v11; // st7@6
  int v12; // esi@6
  float v13; // esi@14
  int result; // eax@14
  unsigned int v15; // edi@19
  signed int v16; // eax@21
  signed int v17; // ecx@21
  double v18; // st7@21
  double v19; // st6@21
  signed int v20; // eax@26
  double v21; // st7@27
  double v22; // st6@27
  signed int v23; // eax@29
  double v24; // st7@30
  double v25; // st6@30
  double v26; // st7@33
  unsigned int v27; // eax@35
  int v28; // ecx@35
  int v29; // edx@36
  unsigned int v30; // ebx@36
  int v31; // esi@38
  double v32; // st7@38
  double v33; // st7@38
  signed int v34; // eax@42
  double v35; // st7@50
  int v36; // edi@50
  signed int v37; // [sp-4h] [bp-40h]@41
  float v38; // [sp+Ch] [bp-30h]@1
  char v39[8]; // [sp+10h] [bp-2Ch]@7
  char v40[4]; // [sp+18h] [bp-24h]@10
  char v41[4]; // [sp+1Ch] [bp-20h]@11
  char v42[44]; // [sp+20h] [bp-1Ch]@12
  float v43[8]; // [sp+4Ch] [bp+10h]@2
  float v44; // [sp+6Ch] [bp+30h]@26
  float v45; // [sp+70h] [bp+34h]@26
  float v46; // [sp+84h] [bp+48h]@28
  float v47; // [sp+88h] [bp+4Ch]@28
  int v48; // [sp+8Ch] [bp+50h]@49
  float v49; // [sp+90h] [bp+54h]@49
  float v50; // [sp+94h] [bp+58h]@32
  float v51; // [sp+98h] [bp+5Ch]@2
  int v52; // [sp+9Ch] [bp+60h]@2
  float v53; // [sp+A0h] [bp+64h]@1
  float v54; // [sp+A4h] [bp+68h]@1
  signed int v55; // [sp+A8h] [bp+6Ch]@2

  v2 = a2 + 12;
  LODWORD(v54) = *(_DWORD *)(a2 + 12);
  v53 = v54;
  memset(&v38, 0, 0x40u);
  sub_1005D5BD();
  v3 = 0;
  v4 = v2;
  do
  {
    v5 = 4 * v3;
    v6 = *(&v38 + v3) + *(float *)v4;
    v51 = v6;
    *(float *)&v55 = v6 * 255.0 + 0.5;
    v52 = (signed int)*(float *)&v55;
    v55 = (signed int)*(float *)&v55;
    v7 = (double)v55 * 0.0039215689;
    UNDEF(v8);
    v43[v3] = v7;
    if ( v9 | v10 )
    {
      v54 = v7;
    }
    else
    {
      if ( v7 > v53 )
        v53 = v7;
    }
    v11 = v51 - v7;
    v12 = v3 & 3;
    if ( v12 != 3 )
      *(float *)&v39[v5] = 0.4375 * v11 + *(float *)&v39[v5];
    if ( v3 < 0xC )
    {
      if ( v3 & 3 )
        *(float *)&v40[v5] = 0.1875 * v11 + *(float *)&v40[v5];
      *(float *)&v41[v5] = 0.3125 * v11 + *(float *)&v41[v5];
      if ( v12 != 3 )
        *(float *)&v42[v5] = v11 * 0.0625 + *(float *)&v42[v5];
    }
    ++v3;
    v4 += 16;
  }
  while ( v3 < 0x10 );
  v55 = dword_10085420;
  v13 = a1;
  result = sub_1005DF69(a2, LODWORD(a1) + 8, 0);
  if ( result < 0 )
    return result;
  if ( 1.0 == v54 )
  {
    *LODWORD(v13) = -1;
    *(_BYTE *)(LODWORD(v13) + 1) = -1;
LABEL_24:
    *(_DWORD *)(LODWORD(v13) + 2) = 0;
    *(_WORD *)(LODWORD(v13) + 6) = 0;
    return 0;
  }
  if ( 0.0 == v54 || 1.0 == v53 )
  {
    a2 = 6;
    v15 = 6;
  }
  else
  {
    v15 = 8;
    a2 = 8;
  }
  sub_1005D6F9((int)&v55, (int)&a1, (int)v43, v15);
  sub_1005D5BD();
  *(float *)&v55 = *(float *)&v55 * 255.0 + 0.5;
  v52 = (signed int)*(float *)&v55;
  v16 = (signed int)*(float *)&v55;
  a1 = a1 * 255.0 + 0.5;
  v55 = (signed int)a1;
  v17 = (signed int)a1;
  v18 = (double)(unsigned __int8)v16 * 0.0039215689;
  v19 = (double)(unsigned __int8)v17 * 0.0039215689;
  a1 = v19;
  if ( v15 == 8 )
  {
    if ( (_BYTE)v16 == (_BYTE)v17 )
    {
      *LODWORD(v13) = v16;
      *(_BYTE *)(LODWORD(v13) + 1) = v17;
      goto LABEL_24;
    }
    goto LABEL_29;
  }
  if ( v15 != 6 )
  {
LABEL_29:
    *(_BYTE *)(LODWORD(v13) + 1) = v16;
    v44 = v19;
    v45 = v18;
    *LODWORD(v13) = v17;
    v23 = 1;
    do
    {
      v24 = (double)(unsigned int)(7 - v23) * v44;
      LODWORD(a1) = v23;
      v25 = (double)(unsigned int)v23++ * v45;
      *(&v44 + v23) = (v24 + v25) * 0.14285715;
    }
    while ( (unsigned int)v23 < 7 );
    v52 = (int)&unk_100762DC;
    goto LABEL_32;
  }
  *LODWORD(v13) = v16;
  v44 = v18;
  v45 = a1;
  *(_BYTE *)(LODWORD(v13) + 1) = v17;
  v20 = 1;
  do
  {
    v21 = (double)(unsigned int)(5 - v20) * v44;
    LODWORD(a1) = v20;
    v22 = (double)(unsigned int)v20++ * v45;
    *(&v44 + v20) = (v21 + v22) * 0.2;
  }
  while ( (unsigned int)v20 < 5 );
  v52 = (int)&unk_100762FC;
  v46 = 0.0;
  v47 = 1.0;
LABEL_32:
  LODWORD(a1) = v15 - 1;
  v50 = (double)(v15 - 1);
  if ( v44 == v45 )
    v26 = 0.0;
  else
    v26 = v50 / (v45 - v44);
  v51 = v26;
  memset(&v38, 0, 0x40u);
  sub_1005D5BD();
  v27 = 0;
  v28 = LODWORD(v13) + 3;
  LODWORD(v54) = v2;
  do
  {
    v29 = 0;
    a1 = 0.0;
    v55 = v27 + 8;
    v30 = v27;
    if ( v27 >= v27 + 8 )
      goto LABEL_59;
    v53 = v54;
    do
    {
      v31 = 4 * v30;
      v32 = *(&v38 + v30) + *LODWORD(v53);
      a1 = v32;
      v33 = (v32 - v44) * v51;
      if ( v33 <= 0.0 )
      {
        if ( a2 != 6 || v44 * 0.5 < a1 )
        {
          v34 = 0;
          goto LABEL_50;
        }
        v37 = 6;
        goto LABEL_47;
      }
      if ( v33 < v50 )
      {
        v49 = v33 + 0.5;
        v48 = (signed int)v49;
        v34 = *(_DWORD *)(v52 + 4 * (signed int)v49);
      }
      else
      {
        if ( a2 == 6 && (v45 + 1.0) * 0.5 <= a1 )
        {
          v37 = 7;
LABEL_47:
          v34 = v37;
          goto LABEL_50;
        }
        v34 = 1;
      }
LABEL_50:
      v35 = a1 - *(&v44 + v34);
      v29 = (v34 << 21) | ((unsigned int)v29 >> 3);
      v36 = v30 & 3;
      if ( v36 != 3 )
        *(float *)&v39[v31] = 0.4375 * v35 + *(float *)&v39[v31];
      if ( v30 < 0xC )
      {
        if ( v30 & 3 )
          *(float *)&v40[v31] = 0.1875 * v35 + *(float *)&v40[v31];
        *(float *)&v41[v31] = 0.3125 * v35 + *(float *)&v41[v31];
        if ( v36 != 3 )
          *(float *)&v42[v31] = v35 * 0.0625 + *(float *)&v42[v31];
      }
      LODWORD(v53) += 16;
      ++v30;
    }
    while ( v30 < v55 );
    LODWORD(a1) = v29;
LABEL_59:
    LODWORD(v54) += 128;
    *(_BYTE *)(v28 + 1) = BYTE2(a1);
    v27 = v55;
    *(_BYTE *)(v28 - 1) = v29;
    *(_BYTE *)v28 = BYTE1(v29);
    v28 += 3;
  }
  while ( v27 < 0x10 );
  a2 = dword_10085420;
  return 0;
}
// 10085420: using guessed type int dword_10085420;
// 1005EB96: using guessed type float var_60[8];
// 1005EB96: using guessed type char var_9C[8];
// 1005EB96: using guessed type char var_94[4];
// 1005EB96: using guessed type char var_90[4];
// 1005EB96: using guessed type char var_8C[44];

//----- (1005EFE8) --------------------------------------------------------
int __cdecl sub_1005EFE8(int a1, unsigned int *a2)
{
  int result; // eax@1

  result = sub_1005E8AB(a1, a2);
  if ( result >= 0 )
  {
    result = sub_1005D4C9(a1);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (1005F02E) --------------------------------------------------------
int __cdecl sub_1005F02E(int a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+0h] [bp-100h]@1

  result = sub_1005D547(a2, (int)&v3);
  if ( result >= 0 )
  {
    result = sub_1005EA82(a1, (int)&v3);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (1005F062) --------------------------------------------------------
int __cdecl sub_1005F062(float a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+0h] [bp-100h]@1

  result = sub_1005D547(a2, (int)&v3);
  if ( result >= 0 )
  {
    result = sub_1005EB96(a1, (int)&v3);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (1005F096) --------------------------------------------------------
int __cdecl sub_1005F096(int a1, signed int a2)
{
  return (a1 + a2 - 1) / a2;
}

//----- (1005F0A6) --------------------------------------------------------
int __cdecl sub_1005F0A6(int a1, signed int a2)
{
  return a1 + a2 - 1 - (a1 + a2 - 1) % a2;
}

//----- (1005F0BE) --------------------------------------------------------
const void **__cdecl sub_1005F0BE(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  const void **result; // eax@1
  void **v7; // edx@1
  const void *v8; // esi@3
  void *v9; // edi@3
  bool v10; // zf@3
  int v11; // [sp+Ch] [bp+Ch]@2

  result = (const void **)(a1 + 4 * a2);
  v7 = (void **)(a3 + 4 * a4);
  if ( a5 > 0 )
  {
    v11 = a5;
    do
    {
      v8 = *result;
      v9 = *v7;
      memcpy(*v7, *result, 4 * (a6 >> 2));
      ++result;
      ++v7;
      v10 = v11-- == 1;
      memcpy((char *)v9 + 4 * (a6 >> 2), (char *)v8 + 4 * (a6 >> 2), a6 & 3);
    }
    while ( !v10 );
  }
  return result;
}

//----- (1005F105) --------------------------------------------------------
int __cdecl sub_1005F105(const void *a1, void *a2, int a3)
{
  int result; // eax@1

  result = a3 << 7;
  memcpy(a2, a1, a3 << 7);
  return result;
}

//----- (1005F127) --------------------------------------------------------
int __cdecl sub_1005F127(void *a1, unsigned int a2)
{
  int result; // eax@1
  int v3; // edi@1
  int i; // ecx@1

  result = 0;
  memset(a1, 0, 4 * (a2 >> 2));
  v3 = (int)((char *)a1 + 4 * (a2 >> 2));
  for ( i = a2 & 3; i; --i )
    *(_BYTE *)v3++ = 0;
  return result;
}

//----- (1005F142) --------------------------------------------------------
unsigned int __usercall sub_1005F142<eax>(char _CF<cf>, char _ZF<zf>, char _SF<sf>, char _OF<of>, int a5<ebx>)
{
  unsigned int v5; // edx@1

  __asm { pushf }
  v5 = a5 ^ a5 ^ 0x200000;
  if ( a5 != (a5 ^ 0x200000) )
  {
    _EAX = 1;
    __asm { cpuid }
    v5 = (_EDX & 0x800000u) >> 23;
  }
  return v5;
}

//----- (1005F174) --------------------------------------------------------
int __usercall sub_1005F174<eax>(int a1<esi>)
{
  int v1; // ebx@8
  bool v2; // zf@8
  bool v3; // sf@8
  int v4; // edi@8
  int v5; // edi@9
  signed int v6; // eax@10
  int v7; // eax@15
  int v8; // eax@17
  int v9; // eax@20
  int v10; // ebx@20
  int v11; // edi@21
  int v12; // eax@22
  int result; // eax@25

  if ( *(_DWORD *)(a1 + 28) > 65500 || *(_DWORD *)(a1 + 24) > 65500 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 40;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = 65500;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  if ( *(_DWORD *)(a1 + 192) != 8 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 13;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 192);
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  if ( *(_DWORD *)(a1 + 32) > 10 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 24;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 32);
    *(_DWORD *)(*(_DWORD *)a1 + 28) = 10;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v1 = 0;
  v2 = *(_DWORD *)(a1 + 32) == 0;
  v3 = *(_DWORD *)(a1 + 32) < 0;
  v4 = *(_DWORD *)(a1 + 196);
  *(_DWORD *)(a1 + 268) = 1;
  *(_DWORD *)(a1 + 272) = 1;
  if ( !(v3 | v2) )
  {
    v5 = v4 + 12;
    do
    {
      v6 = *(_DWORD *)(v5 - 4);
      if ( v6 <= 0 || v6 > 4 || *(_DWORD *)v5 <= 0 || *(_DWORD *)v5 > 4 )
      {
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 16;
        (**(void (__cdecl ***)(_DWORD))a1)(a1);
      }
      v7 = *(_DWORD *)(a1 + 268);
      if ( v7 <= *(_DWORD *)(v5 - 4) )
        v7 = *(_DWORD *)(v5 - 4);
      *(_DWORD *)(a1 + 268) = v7;
      v8 = *(_DWORD *)(a1 + 272);
      if ( v8 <= *(_DWORD *)v5 )
        v8 = *(_DWORD *)v5;
      ++v1;
      *(_DWORD *)(a1 + 272) = v8;
      v5 += 84;
    }
    while ( v1 < *(_DWORD *)(a1 + 32) );
  }
  v9 = *(_DWORD *)(a1 + 196);
  v10 = 0;
  v2 = *(_DWORD *)(a1 + 32) == 0;
  v3 = *(_DWORD *)(a1 + 32) < 0;
  *(_DWORD *)(a1 + 276) = 8;
  if ( !(v3 | v2) )
  {
    v11 = v9 + 28;
    do
    {
      *(_DWORD *)(v11 + 8) = 8;
      *(_DWORD *)v11 = sub_1005F096(*(_DWORD *)(a1 + 24) * *(_DWORD *)(v11 - 20), 8 * *(_DWORD *)(a1 + 268));
      *(_DWORD *)(v11 + 4) = sub_1005F096(*(_DWORD *)(a1 + 28) * *(_DWORD *)(v11 - 16), 8 * *(_DWORD *)(a1 + 272));
      *(_DWORD *)(v11 + 12) = sub_1005F096(*(_DWORD *)(a1 + 24) * *(_DWORD *)(v11 - 20), *(_DWORD *)(a1 + 268));
      v12 = sub_1005F096(*(_DWORD *)(a1 + 28) * *(_DWORD *)(v11 - 16), *(_DWORD *)(a1 + 272));
      *(_DWORD *)(v11 + 48) = 0;
      *(_DWORD *)(v11 + 16) = v12;
      *(_BYTE *)(v11 + 20) = 1;
      ++v10;
      v11 += 84;
    }
    while ( v10 < *(_DWORD *)(a1 + 32) );
  }
  *(_DWORD *)(a1 + 280) = sub_1005F096(*(_DWORD *)(a1 + 28), 8 * *(_DWORD *)(a1 + 272));
  if ( *(_DWORD *)(a1 + 288) < *(_DWORD *)(a1 + 32) || *(_BYTE *)(a1 + 200) )
  {
    result = *(_DWORD *)(a1 + 396);
    *(_BYTE *)(result + 16) = 1;
  }
  else
  {
    result = *(_DWORD *)(a1 + 396);
    *(_BYTE *)(result + 16) = 0;
  }
  return result;
}

//----- (1005F32F) --------------------------------------------------------
int __usercall sub_1005F32F<eax>(int a1<esi>)
{
  signed int v1; // eax@1
  int v2; // ecx@2
  unsigned int v3; // ebx@2
  int result; // eax@2
  int v5; // edx@2
  bool v6; // zf@8
  bool v7; // sf@8
  int v8; // ecx@10
  unsigned int v9; // ebx@10
  int v10; // edi@10
  int v11; // edx@10
  int v12; // edi@10
  unsigned int v13; // eax@12
  unsigned int v14; // ebx@12
  int v15; // edx@12
  int v16; // [sp+8h] [bp-8h]@9
  int v17; // [sp+Ch] [bp-4h]@8

  v1 = *(_DWORD *)(a1 + 288);
  if ( v1 == 1 )
  {
    v2 = *(_DWORD *)(a1 + 292);
    *(_DWORD *)(a1 + 308) = *(_DWORD *)(v2 + 28);
    *(_DWORD *)(a1 + 312) = *(_DWORD *)(v2 + 32);
    v3 = *(_DWORD *)(v2 + 12);
    *(_DWORD *)(v2 + 64) = *(_DWORD *)(v2 + 36);
    result = *(_DWORD *)(v2 + 32) / v3;
    v5 = *(_DWORD *)(v2 + 32) % v3;
    *(_DWORD *)(v2 + 52) = 1;
    *(_DWORD *)(v2 + 56) = 1;
    *(_DWORD *)(v2 + 60) = 1;
    *(_DWORD *)(v2 + 68) = 1;
    if ( !v5 )
      v5 = v3;
    *(_DWORD *)(v2 + 72) = v5;
    *(_DWORD *)(a1 + 320) = 0;
    *(_DWORD *)(a1 + 316) = 1;
  }
  else
  {
    if ( v1 <= 0 || v1 > 4 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 24;
      *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 288);
      *(_DWORD *)(*(_DWORD *)a1 + 28) = 4;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    *(_DWORD *)(a1 + 308) = sub_1005F096(*(_DWORD *)(a1 + 24), 8 * *(_DWORD *)(a1 + 268));
    result = sub_1005F096(*(_DWORD *)(a1 + 28), 8 * *(_DWORD *)(a1 + 272));
    v6 = *(_DWORD *)(a1 + 288) == 0;
    v7 = *(_DWORD *)(a1 + 288) < 0;
    *(_DWORD *)(a1 + 312) = result;
    *(_DWORD *)(a1 + 316) = 0;
    v17 = 0;
    if ( !(v7 | v6) )
    {
      v16 = a1 + 292;
      do
      {
        v8 = *(_DWORD *)v16;
        v9 = *(_DWORD *)(*(_DWORD *)v16 + 8);
        v10 = *(_DWORD *)(*(_DWORD *)v16 + 12);
        *(_DWORD *)(*(_DWORD *)v16 + 64) = v9 * *(_DWORD *)(*(_DWORD *)v16 + 36);
        v11 = *(_DWORD *)(v8 + 28) % v9;
        *(_DWORD *)(v8 + 56) = v10;
        v12 = v9 * v10;
        *(_DWORD *)(v8 + 52) = v9;
        *(_DWORD *)(v8 + 60) = v12;
        if ( !v11 )
          v11 = v9;
        v13 = *(_DWORD *)(v8 + 32);
        v14 = *(_DWORD *)(v8 + 12);
        *(_DWORD *)(v8 + 68) = v11;
        v15 = v13 % v14;
        if ( !(v13 % v14) )
          v15 = v14;
        *(_DWORD *)(v8 + 72) = v15;
        if ( v12 + *(_DWORD *)(a1 + 316) > 10 )
        {
          *(_DWORD *)(*(_DWORD *)a1 + 20) = 11;
          (**(void (__cdecl ***)(_DWORD))a1)(a1);
        }
        if ( v12 > 0 )
        {
          do
          {
            *(_DWORD *)(a1 + 4 * (*(_DWORD *)(a1 + 316))++ + 320) = v17;
            --v12;
          }
          while ( v12 );
        }
        ++v17;
        result = v17;
        v16 += 4;
      }
      while ( v17 < *(_DWORD *)(a1 + 288) );
    }
  }
  return result;
}

//----- (1005F4A5) --------------------------------------------------------
void __usercall sub_1005F4A5(int a1<ebx>)
{
  signed int v1; // esi@4
  void *v2; // eax@8
  int v3; // [sp+0h] [bp-Ch]@3
  int v4; // [sp+4h] [bp-8h]@1
  int v5; // [sp+8h] [bp-4h]@2

  v4 = 0;
  if ( *(_DWORD *)(a1 + 288) > 0 )
  {
    v5 = a1 + 292;
    do
    {
      v3 = *(_DWORD *)v5;
      if ( !*(_DWORD *)(*(_DWORD *)v5 + 76) )
      {
        v1 = *(_DWORD *)(*(_DWORD *)v5 + 16);
        if ( v1 < 0 || v1 >= 4 || !*(_DWORD *)(a1 + 4 * v1 + 144) )
        {
          *(_DWORD *)(*(_DWORD *)a1 + 20) = 51;
          *(_DWORD *)(*(_DWORD *)a1 + 24) = v1;
          (**(void (__cdecl ***)(_DWORD))a1)(a1);
        }
        v2 = (void *)(**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 130);
        memcpy(v2, *(const void **)(a1 + 4 * v1 + 144), 0x82u);
        *(_DWORD *)(v3 + 76) = v2;
      }
      ++v4;
      v5 += 4;
    }
    while ( v4 < *(_DWORD *)(a1 + 288) );
  }
}

//----- (1005F537) --------------------------------------------------------
int __cdecl sub_1005F537(int a1)
{
  int v1; // ebx@1
  int result; // eax@1

  sub_1005F32F(a1);
  v1 = a1;
  sub_1005F4A5(a1);
  (**(void (__cdecl ***)(_DWORD))(v1 + 404))(v1);
  (**(void (__cdecl ***)(_DWORD))(v1 + 388))(v1);
  result = *(_DWORD *)(*(_DWORD *)(a1 + 388) + 4);
  **(_DWORD **)(a1 + 396) = result;
  return result;
}

//----- (1005F571) --------------------------------------------------------
signed int __cdecl sub_1005F571(int a1)
{
  int v1; // edi@1
  signed int result; // eax@2
  int v3; // eax@3
  int v4; // ebp@3
  int v5; // eax@3
  bool v6; // zf@5
  int v7; // esi@8

  v1 = *(_DWORD *)(a1 + 396);
  if ( *(_BYTE *)(v1 + 17) )
  {
    result = 2;
  }
  else
  {
    v3 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 400) + 4))(a1);
    v4 = v3;
    v5 = v3 - 1;
    if ( v5 )
    {
      if ( v5 == 1 )
      {
        v6 = *(_BYTE *)(v1 + 20) == 0;
        *(_BYTE *)(v1 + 17) = 1;
        if ( v6 )
        {
          v7 = *(_DWORD *)(a1 + 124);
          if ( *(_DWORD *)(a1 + 132) > v7 )
            *(_DWORD *)(a1 + 132) = v7;
        }
        else
        {
          if ( *(_BYTE *)(*(_DWORD *)(a1 + 400) + 81) )
          {
            *(_DWORD *)(*(_DWORD *)a1 + 20) = 58;
            (**(void (__cdecl ***)(_DWORD))a1)(a1);
          }
        }
      }
    }
    else
    {
      if ( *(_BYTE *)(v1 + 20) )
      {
        sub_1005F174(a1);
        *(_BYTE *)(v1 + 20) = 0;
      }
      else
      {
        if ( !*(_BYTE *)(v1 + 16) )
        {
          *(_DWORD *)(*(_DWORD *)a1 + 20) = 34;
          (**(void (__cdecl ***)(_DWORD))a1)(a1);
        }
        sub_1005F537(a1);
      }
    }
    result = v4;
  }
  return result;
}

//----- (1005F604) --------------------------------------------------------
int __cdecl sub_1005F604(int a1)
{
  int v1; // eax@1
  int result; // eax@1

  v1 = *(_DWORD *)(a1 + 396);
  *(_BYTE *)(v1 + 16) = 0;
  *(_BYTE *)(v1 + 17) = 0;
  *(_DWORD *)v1 = sub_1005F571;
  *(_BYTE *)(v1 + 20) = 1;
  (*(void (__cdecl **)(int))(*(_DWORD *)a1 + 16))(a1);
  result = (**(int (__cdecl ***)(_DWORD))(a1 + 400))(a1);
  *(_DWORD *)(a1 + 140) = 0;
  return result;
}

//----- (1005F63B) --------------------------------------------------------
int __cdecl sub_1005F63B(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 396);
  *(_DWORD *)result = sub_1005F571;
  return result;
}

//----- (1005F64C) --------------------------------------------------------
int __cdecl sub_1005F64C(int a1)
{
  int result; // eax@1

  result = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 24);
  *(_DWORD *)(a1 + 396) = result;
  *(_BYTE *)(result + 16) = 0;
  *(_BYTE *)(result + 17) = 0;
  *(_DWORD *)result = sub_1005F571;
  *(_DWORD *)(result + 4) = sub_1005F604;
  *(_DWORD *)(result + 8) = sub_1005F537;
  *(_DWORD *)(result + 12) = sub_1005F63B;
  *(_BYTE *)(result + 20) = 1;
  return result;
}

//----- (1005F68D) --------------------------------------------------------
int __usercall sub_1005F68D<eax>(int a1<eax>, int a2<edx>)
{
  *(_DWORD *)(*(_DWORD *)a1 + 20) = 53;
  *(_DWORD *)(*(_DWORD *)a1 + 24) = a2;
  return (**(int (__cdecl ***)(_DWORD))a1)(a1);
}

//----- (1005F6A2) --------------------------------------------------------
int __cdecl sub_1005F6A2(int a1, signed int a2, unsigned int a3)
{
  int v3; // ebx@1
  signed int v4; // esi@5
  int v5; // eax@8
  void *v6; // eax@8
  int v7; // edi@12
  unsigned int v8; // esi@13
  void *v9; // ecx@20
  int v10; // ecx@23
  int v12; // [sp+Ch] [bp-4h]@1
  int v13; // [sp+1Ch] [bp+Ch]@8
  void *v14; // [sp+20h] [bp+10h]@8

  v3 = a3;
  v12 = *(_DWORD *)(a1 + 4);
  if ( a3 > 0x3B9AC9F0 )
    sub_1005F68D(a1, 1);
  if ( a3 & 7 )
    v3 = 8 - (a3 & 7) + a3;
  v4 = a2;
  if ( a2 < 0 || a2 >= 2 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 12;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = a2;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v14 = 0;
  v5 = v12 + 4 * a2 + 48;
  v13 = v5;
  v6 = *(void **)v5;
  if ( !v6 )
    goto LABEL_26;
  do
  {
    if ( *((_DWORD *)v6 + 2) >= (unsigned int)v3 )
      break;
    v14 = v6;
    v6 = *(void **)v6;
  }
  while ( v6 );
  if ( !v6 )
  {
LABEL_26:
    v7 = v3 + 16;
    if ( v14 )
      v8 = dword_10076560[v4];
    else
      v8 = dword_10076558[v4];
    if ( v8 > 1000000000 - v7 )
      v8 = 1000000000 - v7;
    while ( 1 )
    {
      v6 = sub_100622CD(a1, v8 + v7);
      if ( v6 )
        break;
      v8 >>= 1;
      if ( v8 < 0x32 )
        sub_1005F68D(a1, 2);
    }
    *(_DWORD *)(v12 + 72) += v8 + v7;
    v9 = v14;
    *(_DWORD *)v6 = 0;
    *((_DWORD *)v6 + 1) = 0;
    *((_DWORD *)v6 + 2) = v3 + v8;
    if ( !v14 )
      v9 = (void *)v13;
    *(_DWORD *)v9 = v6;
  }
  v10 = *((_DWORD *)v6 + 1);
  *((_DWORD *)v6 + 2) -= v3;
  *((_DWORD *)v6 + 1) = v3 + v10;
  return (int)((char *)v6 + v10 + 16);
}
// 10076558: using guessed type int dword_10076558[];
// 10076560: using guessed type int dword_10076560[];

//----- (1005F79E) --------------------------------------------------------
int __cdecl sub_1005F79E(int a1, signed int a2, unsigned int a3)
{
  int v3; // ebx@1
  int v4; // edi@1
  void *v5; // esi@8
  int v6; // eax@10
  int v7; // ecx@10

  v3 = *(_DWORD *)(a1 + 4);
  v4 = a3;
  if ( a3 > 0x3B9AC9F0 )
    sub_1005F68D(a1, 3);
  if ( a3 & 7 )
    v4 = 8 - (a3 & 7) + a3;
  if ( a2 < 0 || a2 >= 2 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 12;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = a2;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v5 = sub_100622E3(a1, v4 + 16);
  if ( !v5 )
    sub_1005F68D(a1, 4);
  *(_DWORD *)(v3 + 72) += v4 + 16;
  v6 = v3 + 4 * a2 + 56;
  v7 = *(_DWORD *)v6;
  *((_DWORD *)v5 + 2) = 0;
  *((_DWORD *)v5 + 1) = v4;
  *(_DWORD *)v5 = v7;
  *(_DWORD *)v6 = v5;
  return (int)((char *)v5 + 16);
}

//----- (1005F82C) --------------------------------------------------------
int __cdecl sub_1005F82C(int a1, signed int a2, unsigned int a3, unsigned int a4)
{
  int v4; // edi@1
  unsigned int v5; // esi@1
  unsigned int v6; // ebx@3
  unsigned int v7; // edi@5
  int v8; // eax@8
  unsigned int v9; // ecx@9
  int v11; // [sp+20h] [bp+14h]@5

  v4 = *(_DWORD *)(a1 + 4);
  v5 = 0x3B9AC9F0 / a3;
  if ( (signed int)(0x3B9AC9F0 / a3) <= 0 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 69;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v6 = a4;
  if ( (signed int)v5 >= (signed int)a4 )
    v5 = a4;
  *(_DWORD *)(v4 + 76) = v5;
  v7 = 0;
  v11 = sub_1005F6A2(a1, a2, 4 * a4);
  if ( v6 )
  {
    do
    {
      if ( v5 >= v6 - v7 )
        v5 = v6 - v7;
      v8 = sub_1005F79E(a1, a2, a3 * v5);
      if ( v5 )
      {
        v9 = v5;
        do
        {
          *(_DWORD *)(v11 + 4 * v7) = v8;
          v8 += a3;
          ++v7;
          --v9;
        }
        while ( v9 );
      }
    }
    while ( v7 < v6 );
  }
  return v11;
}

//----- (1005F8BE) --------------------------------------------------------
int __cdecl sub_1005F8BE(int a1, signed int a2, int a3, unsigned int a4)
{
  int v4; // edi@1
  unsigned int v5; // esi@1
  unsigned int v6; // ebx@3
  unsigned int v7; // edi@5
  int v8; // eax@8
  unsigned int v9; // ecx@9
  int v11; // [sp+24h] [bp+14h]@5

  v4 = *(_DWORD *)(a1 + 4);
  v5 = 0x3B9AC9F0u / (a3 << 7);
  if ( (signed int)v5 <= 0 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 69;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v6 = a4;
  if ( (signed int)v5 >= (signed int)a4 )
    v5 = a4;
  *(_DWORD *)(v4 + 76) = v5;
  v7 = 0;
  v11 = sub_1005F6A2(a1, a2, 4 * a4);
  if ( v6 )
  {
    do
    {
      if ( v5 >= v6 - v7 )
        v5 = v6 - v7;
      v8 = sub_1005F79E(a1, a2, a3 * v5 << 7);
      if ( v5 )
      {
        v9 = v5;
        do
        {
          *(_DWORD *)(v11 + 4 * v7) = v8;
          v8 += a3 << 7;
          ++v7;
          --v9;
        }
        while ( v9 );
      }
    }
    while ( v7 < v6 );
  }
  return v11;
}

//----- (1005F95C) --------------------------------------------------------
int __cdecl sub_1005F95C(int a1, signed int a2, char a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  int result; // eax@3

  v6 = *(_DWORD *)(a1 + 4);
  if ( a2 != 1 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 12;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = a2;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  result = sub_1005F6A2(a1, a2, 0x78u);
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = a5;
  *(_DWORD *)(result + 8) = a4;
  *(_DWORD *)(result + 12) = a6;
  *(_BYTE *)(result + 34) = 0;
  *(_BYTE *)(result + 32) = a3;
  *(_DWORD *)(result + 36) = *(_DWORD *)(v6 + 64);
  *(_DWORD *)(v6 + 64) = result;
  return result;
}

//----- (1005F9BD) --------------------------------------------------------
int __cdecl sub_1005F9BD(int a1, signed int a2, char a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  int result; // eax@3

  v6 = *(_DWORD *)(a1 + 4);
  if ( a2 != 1 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 12;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = a2;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  result = sub_1005F6A2(a1, a2, 0x78u);
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = a5;
  *(_DWORD *)(result + 8) = a4;
  *(_DWORD *)(result + 12) = a6;
  *(_BYTE *)(result + 34) = 0;
  *(_BYTE *)(result + 32) = a3;
  *(_DWORD *)(result + 36) = *(_DWORD *)(v6 + 68);
  *(_DWORD *)(v6 + 68) = result;
  return result;
}

//----- (1005FA1E) --------------------------------------------------------
int __cdecl sub_1005FA1E(int a1)
{
  int v1; // edi@1
  int v2; // eax@1
  int v3; // esi@1
  int v4; // ebx@1
  int v5; // ecx@3
  int result; // eax@6
  int v7; // ecx@8
  int i; // esi@16
  int v9; // ebx@18
  unsigned int v10; // ecx@18
  int j; // esi@24
  int v12; // ebx@26
  unsigned int v13; // ecx@26
  signed int v14; // [sp+Ch] [bp-4h]@13

  v1 = *(_DWORD *)(a1 + 4);
  v2 = *(_DWORD *)(v1 + 64);
  v3 = 0;
  v4 = 0;
  while ( v2 )
  {
    if ( !*(_DWORD *)v2 )
    {
      v5 = *(_DWORD *)(v2 + 8);
      v3 += v5 * *(_DWORD *)(v2 + 12);
      v4 += v5 * *(_DWORD *)(v2 + 4);
    }
    v2 = *(_DWORD *)(v2 + 36);
  }
  for ( result = *(_DWORD *)(v1 + 68); result; result = *(_DWORD *)(result + 36) )
  {
    if ( !*(_DWORD *)result )
    {
      v7 = *(_DWORD *)(result + 8);
      v3 += v7 * *(_DWORD *)(result + 12) << 7;
      v4 += v7 * *(_DWORD *)(result + 4) << 7;
    }
  }
  if ( v3 > 0 )
  {
    result = sub_100622F9(a1, v3, v4);
    if ( result < v4 )
    {
      result /= v3;
      v14 = result;
      if ( result <= 0 )
        v14 = 1;
    }
    else
    {
      v14 = 1000000000;
    }
    for ( i = *(_DWORD *)(v1 + 64); i; i = *(_DWORD *)(i + 36) )
    {
      if ( !*(_DWORD *)i )
      {
        v9 = *(_DWORD *)(i + 4);
        v10 = *(_DWORD *)(i + 12);
        if ( (signed int)((v9 - 1) / v10 + 1) > v14 )
        {
          *(_DWORD *)(i + 16) = v14 * v10;
          sub_100622FE(a1);
          *(_BYTE *)(i + 34) = 1;
        }
        else
        {
          *(_DWORD *)(i + 16) = v9;
        }
        *(_DWORD *)i = sub_1005F82C(a1, 1, *(_DWORD *)(i + 8), *(_DWORD *)(i + 16));
        result = *(_DWORD *)(v1 + 76);
        *(_DWORD *)(i + 24) = 0;
        *(_DWORD *)(i + 28) = 0;
        *(_BYTE *)(i + 33) = 0;
        *(_DWORD *)(i + 20) = result;
      }
    }
    for ( j = *(_DWORD *)(v1 + 68); j; j = *(_DWORD *)(j + 36) )
    {
      if ( !*(_DWORD *)j )
      {
        v12 = *(_DWORD *)(j + 4);
        v13 = *(_DWORD *)(j + 12);
        if ( (signed int)((v12 - 1) / v13 + 1) > v14 )
        {
          *(_DWORD *)(j + 16) = v14 * v13;
          sub_100622FE(a1);
          *(_BYTE *)(j + 34) = 1;
        }
        else
        {
          *(_DWORD *)(j + 16) = v12;
        }
        *(_DWORD *)j = sub_1005F8BE(a1, 1, *(_DWORD *)(j + 8), *(_DWORD *)(j + 16));
        result = *(_DWORD *)(v1 + 76);
        *(_DWORD *)(j + 24) = 0;
        *(_DWORD *)(j + 28) = 0;
        *(_BYTE *)(j + 33) = 0;
        *(_DWORD *)(j + 20) = result;
      }
    }
  }
  return result;
}

//----- (1005FB9D) --------------------------------------------------------
int __usercall sub_1005FB9D<eax>(int a1<esi>, int a2, char a3)
{
  int v3; // ebx@1
  int result; // eax@1
  int i; // edi@1
  int v6; // ecx@4
  int v7; // [sp+8h] [bp-8h]@1
  int v8; // [sp+Ch] [bp-4h]@9

  v3 = *(_DWORD *)(a1 + 8) * *(_DWORD *)(a1 + 24);
  v7 = *(_DWORD *)(a1 + 8);
  result = *(_DWORD *)(a1 + 16);
  for ( i = 0; i < result; v3 += v8 )
  {
    result -= i;
    if ( *(_DWORD *)(a1 + 20) < result )
      result = *(_DWORD *)(a1 + 20);
    v6 = i + *(_DWORD *)(a1 + 24);
    if ( result >= *(_DWORD *)(a1 + 28) - v6 )
      result = *(_DWORD *)(a1 + 28) - v6;
    if ( result >= *(_DWORD *)(a1 + 4) - v6 )
      result = *(_DWORD *)(a1 + 4) - v6;
    if ( result <= 0 )
      break;
    v8 = v7 * result;
    if ( a3 )
      (*(void (__cdecl **)(int, int, _DWORD, int))(a1 + 44))(a2, a1 + 40, *(_DWORD *)(*(_DWORD *)a1 + 4 * i), v3);
    else
      (*(void (__cdecl **)(int, int, _DWORD, int))(a1 + 40))(a2, a1 + 40, *(_DWORD *)(*(_DWORD *)a1 + 4 * i), v3);
    i += *(_DWORD *)(a1 + 20);
    result = *(_DWORD *)(a1 + 16);
  }
  return result;
}

//----- (1005FC25) --------------------------------------------------------
int __usercall sub_1005FC25<eax>(int a1<esi>, int a2, char a3)
{
  int v3; // ebx@1
  int result; // eax@1
  int i; // edi@1
  int v6; // ecx@4
  int v7; // [sp+8h] [bp-8h]@1
  int v8; // [sp+Ch] [bp-4h]@9

  v3 = (*(_DWORD *)(a1 + 8) << 7) * *(_DWORD *)(a1 + 24);
  v7 = *(_DWORD *)(a1 + 8) << 7;
  result = *(_DWORD *)(a1 + 16);
  for ( i = 0; i < result; v3 += v8 )
  {
    result -= i;
    if ( *(_DWORD *)(a1 + 20) < result )
      result = *(_DWORD *)(a1 + 20);
    v6 = i + *(_DWORD *)(a1 + 24);
    if ( result >= *(_DWORD *)(a1 + 28) - v6 )
      result = *(_DWORD *)(a1 + 28) - v6;
    if ( result >= *(_DWORD *)(a1 + 4) - v6 )
      result = *(_DWORD *)(a1 + 4) - v6;
    if ( result <= 0 )
      break;
    v8 = v7 * result;
    if ( a3 )
      (*(void (__cdecl **)(int, int, _DWORD, int))(a1 + 44))(a2, a1 + 40, *(_DWORD *)(*(_DWORD *)a1 + 4 * i), v3);
    else
      (*(void (__cdecl **)(int, int, _DWORD, int))(a1 + 40))(a2, a1 + 40, *(_DWORD *)(*(_DWORD *)a1 + 4 * i), v3);
    i += *(_DWORD *)(a1 + 20);
    result = *(_DWORD *)(a1 + 16);
  }
  return result;
}

//----- (1005FCB0) --------------------------------------------------------
int __cdecl sub_1005FCB0(int a1, int a2, int a3, unsigned int a4, char a5)
{
  int v5; // ebx@1
  int v6; // edi@4
  unsigned int v7; // eax@6
  int v8; // eax@12
  unsigned int v9; // eax@16
  int v10; // edi@20
  int v11; // eax@25
  int v12; // edi@25
  int v13; // ebx@25
  unsigned int v15; // [sp+20h] [bp+14h]@25

  v5 = a3 + a4;
  if ( a3 + a4 <= *(_DWORD *)(a2 + 4) && a4 <= *(_DWORD *)(a2 + 12) && *(_DWORD *)a2 )
  {
    v6 = a1;
  }
  else
  {
    v6 = a1;
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 20;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v7 = *(_DWORD *)(a2 + 24);
  if ( a3 < v7 || v5 > v7 + *(_DWORD *)(a2 + 16) )
  {
    if ( !*(_BYTE *)(a2 + 34) )
    {
      *(_DWORD *)(*(_DWORD *)v6 + 20) = 68;
      (**(void (__cdecl ***)(_DWORD))v6)(v6);
    }
    if ( *(_BYTE *)(a2 + 33) )
    {
      sub_1005FB9D(a2, v6, 1);
      *(_BYTE *)(a2 + 33) = 0;
    }
    v8 = a3;
    if ( (unsigned int)a3 <= *(_DWORD *)(a2 + 24) )
    {
      v8 = v5 - *(_DWORD *)(a2 + 16);
      if ( v5 - *(_DWORD *)(a2 + 16) < 0 )
        v8 = 0;
    }
    *(_DWORD *)(a2 + 24) = v8;
    sub_1005FB9D(a2, v6, 0);
  }
  v9 = *(_DWORD *)(a2 + 28);
  if ( v9 < v5 )
  {
    if ( v9 >= a3 )
    {
      v10 = *(_DWORD *)(a2 + 28);
    }
    else
    {
      if ( a5 )
      {
        *(_DWORD *)(*(_DWORD *)v6 + 20) = 20;
        (**(void (__cdecl ***)(_DWORD))v6)(v6);
      }
      v10 = a3;
    }
    if ( a5 )
      *(_DWORD *)(a2 + 28) = v5;
    if ( *(_BYTE *)(a2 + 32) )
    {
      v15 = *(_DWORD *)(a2 + 8);
      v11 = *(_DWORD *)(a2 + 24);
      v12 = v10 - v11;
      v13 = v5 - v11;
      while ( v12 < (unsigned int)v13 )
        sub_1005F127(*(void **)(*(_DWORD *)a2 + 4 * v12++), v15);
    }
    else
    {
      if ( a5 )
      {
LABEL_32:
        *(_BYTE *)(a2 + 33) = 1;
        return *(_DWORD *)a2 + 4 * (a3 - *(_DWORD *)(a2 + 24));
      }
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 20;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
  }
  if ( a5 )
    goto LABEL_32;
  return *(_DWORD *)a2 + 4 * (a3 - *(_DWORD *)(a2 + 24));
}

//----- (1005FDCE) --------------------------------------------------------
int __cdecl sub_1005FDCE(int a1, int a2, unsigned int a3, unsigned int a4, char a5)
{
  unsigned int v5; // eax@1
  int v6; // edi@1
  unsigned int v7; // eax@5
  int v8; // eax@13
  unsigned int v9; // ebx@17
  int v10; // eax@25
  unsigned int v11; // edi@25
  int v12; // ebx@25
  int v14; // [sp+20h] [bp+14h]@1
  int v15; // [sp+20h] [bp+14h]@25

  v5 = a4;
  v6 = a3 + a4;
  v14 = a3 + a4;
  if ( (unsigned int)v14 > *(_DWORD *)(a2 + 4) || v5 > *(_DWORD *)(a2 + 12) || !*(_DWORD *)a2 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 20;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v7 = *(_DWORD *)(a2 + 24);
  if ( a3 < v7 || v6 > v7 + *(_DWORD *)(a2 + 16) )
  {
    if ( !*(_BYTE *)(a2 + 34) )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 68;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    if ( *(_BYTE *)(a2 + 33) )
    {
      sub_1005FC25(a2, a1, 1);
      *(_BYTE *)(a2 + 33) = 0;
    }
    if ( a3 <= *(_DWORD *)(a2 + 24) )
    {
      v8 = v6 - *(_DWORD *)(a2 + 16);
      if ( v6 - *(_DWORD *)(a2 + 16) < 0 )
        v8 = 0;
      *(_DWORD *)(a2 + 24) = v8;
    }
    else
    {
      *(_DWORD *)(a2 + 24) = a3;
    }
    sub_1005FC25(a2, a1, 0);
  }
  v9 = *(_DWORD *)(a2 + 28);
  if ( v9 < v6 )
  {
    if ( v9 < a3 )
    {
      if ( a5 )
      {
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 20;
        (**(void (__cdecl ***)(_DWORD))a1)(a1);
      }
      v9 = a3;
    }
    if ( a5 )
      *(_DWORD *)(a2 + 28) = v6;
    if ( *(_BYTE *)(a2 + 32) )
    {
      v10 = *(_DWORD *)(a2 + 24);
      v11 = *(_DWORD *)(a2 + 8) << 7;
      v12 = v9 - v10;
      v15 = v14 - v10;
      while ( v12 < (unsigned int)v15 )
        sub_1005F127(*(void **)(*(_DWORD *)a2 + 4 * v12++), v11);
    }
    else
    {
      if ( a5 )
      {
LABEL_32:
        *(_BYTE *)(a2 + 33) = 1;
        return *(_DWORD *)a2 + 4 * (a3 - *(_DWORD *)(a2 + 24));
      }
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 20;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
  }
  if ( a5 )
    goto LABEL_32;
  return *(_DWORD *)a2 + 4 * (a3 - *(_DWORD *)(a2 + 24));
}

//----- (1005FEF1) --------------------------------------------------------
int __cdecl sub_1005FEF1(int a1, signed int a2)
{
  signed int v2; // ebx@1
  int v3; // esi@1
  int i; // edi@5
  int j; // edi@10
  int v6; // eax@16
  int v7; // ebx@17
  int v8; // edi@17
  int v9; // ecx@19
  int result; // eax@19
  int v11; // ebx@20
  int v12; // edi@20

  v2 = a2;
  v3 = *(_DWORD *)(a1 + 4);
  if ( a2 < 0 || a2 >= 2 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 12;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = a2;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  if ( a2 == 1 )
  {
    for ( i = *(_DWORD *)(v3 + 64); i; i = *(_DWORD *)(i + 36) )
    {
      if ( *(_BYTE *)(i + 34) )
      {
        *(_BYTE *)(i + 34) = 0;
        (*(void (__cdecl **)(int, int))(i + 48))(a1, i + 40);
      }
    }
    *(_DWORD *)(v3 + 64) = 0;
    for ( j = *(_DWORD *)(v3 + 68); j; j = *(_DWORD *)(j + 36) )
    {
      if ( *(_BYTE *)(j + 34) )
      {
        *(_BYTE *)(j + 34) = 0;
        (*(void (__cdecl **)(int, int))(j + 48))(a1, j + 40);
      }
    }
    *(_DWORD *)(v3 + 68) = 0;
  }
  v6 = *(_DWORD *)(v3 + 4 * a2 + 56);
  *(_DWORD *)(v3 + 4 * a2 + 56) = 0;
  if ( v6 )
  {
    do
    {
      v7 = *(_DWORD *)v6;
      v8 = *(_DWORD *)(v6 + 8) + *(_DWORD *)(v6 + 4) + 16;
      sub_100622EE(a1, (void *)v6);
      *(_DWORD *)(v3 + 72) -= v8;
      v6 = v7;
    }
    while ( v7 );
    v2 = a2;
  }
  v9 = v3 + 4 * v2 + 48;
  result = *(_DWORD *)v9;
  *(_DWORD *)v9 = 0;
  if ( result )
  {
    do
    {
      v11 = *(_DWORD *)result;
      v12 = *(_DWORD *)(result + 8) + *(_DWORD *)(result + 4) + 16;
      sub_100622D8(a1, (void *)result);
      *(_DWORD *)(v3 + 72) -= v12;
      result = v11;
    }
    while ( v11 );
  }
  return result;
}

//----- (1005FFD2) --------------------------------------------------------
int __cdecl sub_1005FFD2(int a1)
{
  signed int v1; // edi@1

  v1 = 1;
  do
    sub_1005FEF1(a1, v1--);
  while ( v1 >= 0 );
  sub_100622D8(a1, *(void **)(a1 + 4));
  *(_DWORD *)(a1 + 4) = 0;
  return nullsub_5(a1);
}
// 10062315: using guessed type int __cdecl nullsub_5(_DWORD);

//----- (10060002) --------------------------------------------------------
void *__cdecl sub_10060002(int a1)
{
  int v1; // edi@1
  void *result; // eax@1
  int v3; // ecx@3
  signed int v4; // edx@3

  *(_DWORD *)(a1 + 4) = 0;
  v1 = sub_10062312();
  result = sub_100622CD(a1, 0x50u);
  if ( result )
  {
    *(_DWORD *)result = sub_1005F6A2;
    *((_DWORD *)result + 1) = sub_1005F79E;
    *((_DWORD *)result + 2) = sub_1005F82C;
    *((_DWORD *)result + 3) = sub_1005F8BE;
    *((_DWORD *)result + 4) = sub_1005F95C;
    *((_DWORD *)result + 5) = sub_1005F9BD;
    *((_DWORD *)result + 6) = sub_1005FA1E;
    *((_DWORD *)result + 7) = sub_1005FCB0;
    *((_DWORD *)result + 8) = sub_1005FDCE;
    *((_DWORD *)result + 9) = sub_1005FEF1;
    *((_DWORD *)result + 10) = sub_1005FFD2;
    *((_DWORD *)result + 11) = v1;
    v3 = (int)((char *)result + 60);
    v4 = 2;
    do
    {
      *(_DWORD *)(v3 - 8) = 0;
      *(_DWORD *)v3 = 0;
      v3 -= 4;
      --v4;
    }
    while ( v4 );
    *((_DWORD *)result + 16) = 0;
    *((_DWORD *)result + 17) = 0;
    *((_DWORD *)result + 18) = 80;
    *(_DWORD *)(a1 + 4) = result;
  }
  else
  {
    nullsub_5(a1);
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 53;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = 0;
    result = (void *)(**(int (__cdecl ***)(_DWORD))a1)(a1);
  }
  return result;
}
// 10062315: using guessed type int __cdecl nullsub_5(_DWORD);

//----- (100600B6) --------------------------------------------------------
signed int __cdecl sub_100600B6(int a1)
{
  signed int result; // eax@1

  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)(a1 + 4) + 36))(a1, 1);
  result = *(_BYTE *)(a1 + 12) != 0 ? 200 : 100;
  *(_DWORD *)(a1 + 16) = result;
  return result;
}

//----- (100600D8) --------------------------------------------------------
int __cdecl sub_100600D8(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 4);
  if ( result )
    result = (*(int (__cdecl **)(int))(result + 40))(a1);
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 16) = 0;
  return result;
}

//----- (100600F3) --------------------------------------------------------
int __cdecl sub_100600F3(int a1)
{
  int result; // eax@1

  result = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 130);
  *(_BYTE *)(result + 128) = 0;
  return result;
}

//----- (1006010F) --------------------------------------------------------
int __cdecl sub_1006010F(int a1)
{
  int result; // eax@1

  result = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 274);
  *(_BYTE *)(result + 273) = 0;
  return result;
}

//----- (1006012B) --------------------------------------------------------
char __fastcall sub_1006012B(int a1, int a2)
{
  int v2; // ecx@7
  char result; // al@8
  int v4; // edx@13

  if ( *(_BYTE *)(a2 + 72)
    || *(_BYTE *)(a2 + 264)
    || *(_DWORD *)(a2 + 36) != 3
    || *(_DWORD *)(a2 + 32) != 3
    || *(_DWORD *)(a2 + 40) != 2
    || *(_DWORD *)(a2 + 100) != 3
    || (v2 = *(_DWORD *)(a2 + 196), *(_DWORD *)(v2 + 8) != 2)
    || (result = 1, *(_DWORD *)(v2 + 92) != 1)
    || *(_DWORD *)(v2 + 176) != 1
    || *(_DWORD *)(v2 + 12) > 2
    || *(_DWORD *)(v2 + 96) != 1
    || *(_DWORD *)(v2 + 180) != 1
    || (v4 = *(_DWORD *)(a2 + 276), *(_DWORD *)(v2 + 36) != v4)
    || *(_DWORD *)(v2 + 120) != v4
    || *(_DWORD *)(v2 + 204) != v4 )
    result = 0;
  return result;
}

//----- (1006019C) --------------------------------------------------------
char __cdecl sub_1006019C(int a1)
{
  int v1; // esi@1
  int v2; // eax@3
  unsigned int v3; // ecx@3
  int v4; // eax@4
  int v5; // ST00_4@4
  int v6; // eax@4
  int v7; // eax@6
  int v8; // ST00_4@6
  int v9; // eax@8
  int v10; // ST00_4@8
  bool v11; // zf@10
  bool v12; // sf@10
  int v13; // eax@11
  signed int v14; // edx@12
  int v15; // ebx@17
  int v16; // edi@18
  signed int v17; // eax@20
  int v18; // ecx@20
  signed int v19; // eax@28
  int v20; // eax@30
  int v22; // [sp+4h] [bp-4h]@10
  signed int v23; // [sp+10h] [bp+8h]@12

  v1 = a1;
  if ( *(_DWORD *)(a1 + 16) != 202 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 18;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = *(_DWORD *)(a1 + 16);
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v2 = *(_DWORD *)(a1 + 44);
  v3 = *(_DWORD *)(a1 + 48);
  if ( 8 * v2 > v3 )
  {
    if ( 4 * v2 > v3 )
    {
      if ( 2 * v2 > v3 )
      {
        *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 24);
        v6 = *(_DWORD *)(a1 + 28);
        *(_DWORD *)(a1 + 276) = 8;
      }
      else
      {
        v9 = sub_1005F096(*(_DWORD *)(a1 + 24), 2);
        v10 = *(_DWORD *)(a1 + 28);
        *(_DWORD *)(a1 + 92) = v9;
        v6 = sub_1005F096(v10, 2);
        *(_DWORD *)(a1 + 276) = 4;
      }
    }
    else
    {
      v7 = sub_1005F096(*(_DWORD *)(a1 + 24), 4);
      v8 = *(_DWORD *)(a1 + 28);
      *(_DWORD *)(a1 + 92) = v7;
      v6 = sub_1005F096(v8, 4);
      *(_DWORD *)(a1 + 276) = 2;
    }
  }
  else
  {
    v4 = sub_1005F096(*(_DWORD *)(a1 + 24), 8);
    v5 = *(_DWORD *)(a1 + 28);
    *(_DWORD *)(a1 + 92) = v4;
    v6 = sub_1005F096(v5, 8);
    *(_DWORD *)(a1 + 276) = 1;
  }
  v22 = 0;
  v11 = *(_DWORD *)(a1 + 32) == 0;
  v12 = *(_DWORD *)(a1 + 32) < 0;
  *(_DWORD *)(a1 + 96) = v6;
  if ( !(v12 | v11) )
  {
    v13 = *(_DWORD *)(a1 + 196) + 12;
    do
    {
      v14 = *(_DWORD *)(v1 + 276);
      v23 = *(_DWORD *)(v1 + 276);
      if ( v14 < 8 )
      {
        do
        {
          if ( 2 * v23 * *(_DWORD *)(v13 - 4) > v14 * *(_DWORD *)(v1 + 268) )
            break;
          if ( 2 * v23 * *(_DWORD *)v13 > v14 * *(_DWORD *)(v1 + 272) )
            break;
          v23 *= 2;
        }
        while ( v23 < 8 );
      }
      ++v22;
      *(_DWORD *)(v13 + 24) = v23;
      v13 += 84;
    }
    while ( v22 < *(_DWORD *)(v1 + 32) );
  }
  v15 = 0;
  if ( *(_DWORD *)(v1 + 32) > 0 )
  {
    v16 = *(_DWORD *)(v1 + 196) + 36;
    do
    {
      *(_DWORD *)(v16 + 4) = sub_1005F096(
                               *(_DWORD *)(v1 + 24) * *(_DWORD *)v16 * *(_DWORD *)(v16 - 28),
                               8 * *(_DWORD *)(v1 + 268));
      *(_DWORD *)(v16 + 8) = sub_1005F096(
                               *(_DWORD *)v16 * *(_DWORD *)(v1 + 28) * *(_DWORD *)(v16 - 24),
                               8 * *(_DWORD *)(v1 + 272));
      ++v15;
      v16 += 84;
    }
    while ( v15 < *(_DWORD *)(v1 + 32) );
  }
  v17 = *(_DWORD *)(v1 + 40);
  v18 = 1;
  if ( v17 != 1 )
  {
    if ( v17 <= 1 )
    {
LABEL_25:
      *(_DWORD *)(v1 + 100) = *(_DWORD *)(v1 + 32);
      goto LABEL_27;
    }
    v18 = 3;
    if ( v17 > 3 )
    {
      if ( v17 <= 5 )
      {
        *(_DWORD *)(v1 + 100) = 4;
        goto LABEL_27;
      }
      goto LABEL_25;
    }
  }
  *(_DWORD *)(v1 + 100) = v18;
LABEL_27:
  if ( *(_BYTE *)(v1 + 74) )
    v19 = 1;
  else
    v19 = *(_DWORD *)(v1 + 100);
  *(_DWORD *)(v1 + 104) = v19;
  LOBYTE(v20) = sub_1006012B(v18, v1);
  if ( (_BYTE)v20 )
  {
    v20 = *(_DWORD *)(v1 + 272);
    *(_DWORD *)(v1 + 108) = v20;
  }
  else
  {
    *(_DWORD *)(v1 + 108) = 1;
  }
  return v20;
}

//----- (1006038B) --------------------------------------------------------
int __usercall sub_1006038B<eax>(int a1<eax>)
{
  int v1; // esi@1
  int v2; // edx@1
  signed int v3; // eax@1
  int v4; // edx@3
  int result; // eax@3

  v1 = a1;
  v2 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1408) + 256;
  v3 = 0;
  *(_DWORD *)(v1 + 284) = v2;
  memset((void *)(v2 - 256), 0, 0x100u);
  do
  {
    *(_BYTE *)(v3 + v2) = v3;
    ++v3;
  }
  while ( v3 <= 255 );
  v4 = v2 + 128;
  memset((void *)(v4 + 128), -1, 0x180u);
  result = 0;
  memset((void *)(v4 + 512), 0, 0x180u);
  memcpy((void *)(v4 + 896), *(const void **)(v1 + 284), 0x80u);
  return result;
}

//----- (100603FA) --------------------------------------------------------
int __usercall sub_100603FA<eax>(int a1<esi>)
{
  int v1; // edi@1
  int v2; // ecx@1
  char v3; // al@1
  int result; // eax@34
  int v5; // ecx@34
  int v6; // eax@37
  int v7; // [sp+0h] [bp-10h]@0
  char v8; // [sp+Ch] [bp-4h]@30

  v1 = *(_DWORD *)(a1 + 380);
  sub_1006019C(v7);
  sub_1006038B(a1);
  *(_DWORD *)(v1 + 12) = 0;
  *(_BYTE *)(v1 + 16) = sub_1006012B(v2, a1);
  *(_DWORD *)(v1 + 20) = 0;
  *(_DWORD *)(v1 + 24) = 0;
  v3 = *(_BYTE *)(a1 + 74);
  if ( !v3 || !*(_BYTE *)(a1 + 64) )
  {
    *(_BYTE *)(a1 + 88) = 0;
    *(_BYTE *)(a1 + 89) = 0;
    *(_BYTE *)(a1 + 90) = 0;
  }
  if ( v3 )
  {
    if ( *(_BYTE *)(a1 + 65) )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 46;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    if ( *(_DWORD *)(a1 + 100) == 3 )
    {
      if ( *(_DWORD *)(a1 + 116) )
      {
        *(_BYTE *)(a1 + 89) = 1;
        goto LABEL_10;
      }
      if ( *(_BYTE *)(a1 + 80) )
      {
        *(_BYTE *)(a1 + 90) = 1;
        goto LABEL_10;
      }
    }
    else
    {
      *(_BYTE *)(a1 + 89) = 0;
      *(_BYTE *)(a1 + 90) = 0;
      *(_DWORD *)(a1 + 116) = 0;
    }
    *(_BYTE *)(a1 + 88) = 1;
LABEL_10:
    if ( *(_BYTE *)(a1 + 88) )
    {
      sub_10067E55(a1);
      *(_DWORD *)(v1 + 20) = *(_DWORD *)(a1 + 420);
    }
    if ( *(_BYTE *)(a1 + 90) || *(_BYTE *)(a1 + 89) )
    {
      sub_10067334(a1);
      *(_DWORD *)(v1 + 24) = *(_DWORD *)(a1 + 420);
    }
  }
  if ( !*(_BYTE *)(a1 + 65) )
  {
    if ( *(_BYTE *)(v1 + 16) )
    {
      sub_10066372(a1);
    }
    else
    {
      sub_10065D79(a1);
      sub_10065383(a1);
    }
    sub_10064EC4(a1, *(_BYTE *)(a1 + 90));
  }
  sub_10064C29(a1);
  if ( *(_BYTE *)(a1 + 201) )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 1;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  else
  {
    if ( *(_BYTE *)(a1 + 200) )
      sub_10064A11(a1);
    else
      sub_10063E63(a1);
  }
  if ( *(_BYTE *)(*(_DWORD *)(a1 + 396) + 16) || (v8 = 0, *(_BYTE *)(a1 + 64)) )
    v8 = 1;
  sub_10063493(a1, v8);
  if ( !*(_BYTE *)(a1 + 65) )
    sub_10062854(a1, 0);
  (*(void (__cdecl **)(int))(*(_DWORD *)(a1 + 4) + 24))(a1);
  result = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 396) + 8))(a1);
  v5 = *(_DWORD *)(a1 + 8);
  if ( v5 )
  {
    if ( !*(_BYTE *)(a1 + 64) )
    {
      result = *(_DWORD *)(a1 + 396);
      if ( *(_BYTE *)(result + 16) )
      {
        v6 = *(_DWORD *)(a1 + 32);
        if ( *(_BYTE *)(a1 + 200) )
          v6 = 3 * v6 + 2;
        *(_DWORD *)(v5 + 4) = 0;
        *(_DWORD *)(*(_DWORD *)(a1 + 8) + 8) = v6 * *(_DWORD *)(a1 + 280);
        *(_DWORD *)(*(_DWORD *)(a1 + 8) + 12) = 0;
        result = (*(_BYTE *)(a1 + 90) != 0) + 2;
        *(_DWORD *)(*(_DWORD *)(a1 + 8) + 16) = result;
        ++*(_DWORD *)(v1 + 12);
      }
    }
  }
  return result;
}

//----- (100605A7) --------------------------------------------------------
int __cdecl sub_100605A7(int a1)
{
  int v1; // edi@1
  int result; // eax@17

  v1 = *(_DWORD *)(a1 + 380);
  if ( *(_BYTE *)(v1 + 8) )
  {
    *(_BYTE *)(v1 + 8) = 0;
    (**(void (__cdecl ***)(_DWORD, _DWORD))(a1 + 420))(a1, 0);
    (**(void (__cdecl ***)(_DWORD, _DWORD))(a1 + 392))(a1, 2);
    (**(void (__cdecl ***)(_DWORD, _DWORD))(a1 + 384))(a1, 2);
  }
  else
  {
    if ( *(_BYTE *)(a1 + 74) && !*(_DWORD *)(a1 + 116) )
    {
      if ( *(_BYTE *)(a1 + 80) && *(_BYTE *)(a1 + 90) )
      {
        *(_DWORD *)(a1 + 420) = *(_DWORD *)(v1 + 24);
        *(_BYTE *)(v1 + 8) = 1;
      }
      else
      {
        if ( *(_BYTE *)(a1 + 88) )
        {
          *(_DWORD *)(a1 + 420) = *(_DWORD *)(v1 + 20);
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)a1 + 20) = 45;
          (**(void (__cdecl ***)(_DWORD))a1)(a1);
        }
      }
    }
    (**(void (__cdecl ***)(_DWORD))(a1 + 408))(a1);
    (*(void (__cdecl **)(int))(*(_DWORD *)(a1 + 388) + 8))(a1);
    if ( !*(_BYTE *)(a1 + 65) )
    {
      if ( !*(_BYTE *)(v1 + 16) )
        (**(void (__cdecl ***)(_DWORD))(a1 + 416))(a1);
      (**(void (__cdecl ***)(_DWORD))(a1 + 412))(a1);
      if ( *(_BYTE *)(a1 + 74) )
        (**(void (__cdecl ***)(_DWORD, _DWORD))(a1 + 420))(a1, *(_BYTE *)(v1 + 8));
      (**(void (__cdecl ***)(_DWORD, _DWORD))(a1 + 392))(a1, *(_BYTE *)(v1 + 8) != 0 ? 3 : 0);
      (**(void (__cdecl ***)(_DWORD, _DWORD))(a1 + 384))(a1, 0);
    }
  }
  result = *(_DWORD *)(a1 + 8);
  if ( result )
  {
    *(_DWORD *)(result + 12) = *(_DWORD *)(v1 + 12);
    result = *(_DWORD *)(v1 + 12) + (*(_BYTE *)(v1 + 8) != 0) + 1;
    *(_DWORD *)(*(_DWORD *)(a1 + 8) + 16) = result;
    if ( *(_BYTE *)(a1 + 64) )
    {
      result = *(_DWORD *)(a1 + 396);
      if ( !*(_BYTE *)(result + 17) )
      {
        result = *(_DWORD *)(a1 + 8);
        *(_DWORD *)(result + 16) += (*(_BYTE *)(a1 + 90) != 0) + 1;
      }
    }
  }
  return result;
}

//----- (100606D4) --------------------------------------------------------
int __cdecl sub_100606D4(int a1)
{
  int result; // eax@1
  int v2; // esi@1

  result = a1;
  v2 = *(_DWORD *)(a1 + 380);
  if ( *(_BYTE *)(a1 + 74) )
    result = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 420) + 8))(a1);
  ++*(_DWORD *)(v2 + 12);
  return result;
}

//----- (10060758) --------------------------------------------------------
int __cdecl sub_10060758(int a1)
{
  int v1; // eax@1

  v1 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 28);
  *(_DWORD *)(a1 + 380) = v1;
  *(_BYTE *)(v1 + 8) = 0;
  *(_DWORD *)v1 = sub_100605A7;
  *(_DWORD *)(v1 + 4) = sub_100606D4;
  return sub_100603FA(a1);
}

//----- (10060788) --------------------------------------------------------
signed int __cdecl sub_10060788(int a1)
{
  int v1; // ecx@2
  signed int result; // eax@3

  if ( a1 && (v1 = *(_DWORD *)(a1 + 28)) != 0 )
  {
    *(_DWORD *)(a1 + 20) = 0;
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 24) = 0;
    *(_DWORD *)v1 = *(_DWORD *)(v1 + 12) != 0 ? 7 : 0;
    sub_10067EDC(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, 0);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (100607C7) --------------------------------------------------------
signed int __cdecl sub_100607C7(int a1)
{
  int v1; // eax@2
  int v2; // eax@4
  signed int result; // eax@6

  if ( a1 && (v1 = *(_DWORD *)(a1 + 28)) != 0 && *(_DWORD *)(a1 + 36) )
  {
    v2 = *(_DWORD *)(v1 + 20);
    if ( v2 )
      sub_1006876F(v2, a1);
    (*(void (__cdecl **)(_DWORD, _DWORD))(a1 + 36))(*(_DWORD *)(a1 + 40), *(_DWORD *)(a1 + 28));
    *(_DWORD *)(a1 + 28) = 0;
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (10060805) --------------------------------------------------------
signed int __cdecl sub_10060805(int a1, int a2, int a3, int a4)
{
  bool v4; // zf@6
  int v5; // eax@10
  int v6; // ecx@12
  signed int v7; // edi@18
  signed int v9; // [sp-4h] [bp-10h]@5
  signed int v10; // [sp-4h] [bp-10h]@17

  if ( a3 && *(_BYTE *)a3 == 49 && a4 == 56 )
  {
    if ( a1 )
    {
      v4 = *(_DWORD *)(a1 + 32) == 0;
      *(_DWORD *)(a1 + 24) = 0;
      if ( v4 )
      {
        *(_DWORD *)(a1 + 32) = sub_10068911;
        *(_DWORD *)(a1 + 40) = 0;
      }
      if ( !*(_DWORD *)(a1 + 36) )
        *(_DWORD *)(a1 + 36) = sub_10068921;
      v5 = (*(int (__cdecl **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, 24);
      *(_DWORD *)(a1 + 28) = v5;
      if ( v5 )
      {
        v6 = a2;
        *(_DWORD *)(v5 + 20) = 0;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) = 0;
        if ( a2 < 0 )
        {
          v6 = -a2;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) = 1;
        }
        if ( v6 < 8 || v6 > 15 )
        {
          v10 = -2;
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 16) = v6;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 20) = sub_10067F47(
                                                     a1,
                                                     *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) == 0 ? (int)sub_100687E1 : 0,
                                                     1 << v6);
          if ( *(_DWORD *)(*(_DWORD *)(a1 + 28) + 20) )
          {
            sub_10060788(a1);
            return 0;
          }
          v10 = -4;
        }
        v7 = v10;
        sub_100607C7(a1);
        return v7;
      }
      v9 = -4;
    }
    else
    {
      v9 = -2;
    }
  }
  else
  {
    v9 = -6;
  }
  return v9;
}
// 10068911: using guessed type int sub_10068911();
// 10068921: using guessed type int sub_10068921();

//----- (100608EA) --------------------------------------------------------
signed int __cdecl sub_100608EA(int a1, int a2, int a3)
{
  return sub_10060805(a1, 15, a2, a3);
}

//----- (10060901) --------------------------------------------------------
signed int __cdecl sub_10060901(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int *v3; // eax@2
  int v4; // edi@4
  signed int v5; // ebp@6
  int v6; // eax@8
  int v7; // ecx@9
  int v8; // eax@9
  int v9; // eax@14
  int v10; // ecx@15
  int v11; // ebx@15
  bool v12; // zf@17
  int v13; // eax@19
  int v14; // eax@24
  int v15; // eax@27
  int v16; // ecx@28
  int v17; // eax@28
  int v18; // eax@29
  int v19; // ecx@30
  int v20; // eax@30
  int v21; // eax@31
  int v22; // ecx@32
  int v23; // eax@32
  int v24; // eax@33
  int v25; // ecx@34
  int v26; // eax@34
  unsigned int v27; // eax@38
  int v29; // eax@44
  int v30; // ecx@45
  int v31; // eax@45
  int v32; // eax@46
  int v33; // ecx@47
  int v34; // eax@47
  int v35; // eax@48
  int v36; // ecx@49
  int v37; // eax@49
  int v38; // eax@50
  int v39; // ecx@51
  int v40; // eax@51
  int v41; // eax@52
  signed int v43; // [sp+18h] [bp+8h]@6

  v2 = 0;
  if ( !a1 || (v3 = *(unsigned int **)(a1 + 28)) == 0 || !*(_DWORD *)a1 )
    return -2;
  v4 = -5;
  if ( a2 == 4 )
    v2 = -5;
  v43 = v2;
  v5 = 13;
  while ( 1 )
  {
    v27 = *v3;
    if ( v27 > v5 )
      return -2;
    switch ( v27 )
    {
      case 0u:
        v6 = *(_DWORD *)(a1 + 4);
        if ( !v6 )
          return v4;
        v7 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v6 - 1;
        *(_DWORD *)(v7 + 4) = **(_BYTE **)a1;
        v8 = *(_DWORD *)(a1 + 28);
        LOBYTE(v7) = *(_DWORD *)(v8 + 4) & 0xF;
        ++*(_DWORD *)a1;
        v4 = v2;
        if ( (_BYTE)v7 == 8 )
        {
          if ( (unsigned int)((*(_DWORD *)(v8 + 4) >> 4) + 8) <= *(_DWORD *)(v8 + 16) )
          {
            *(_DWORD *)v8 = 1;
LABEL_14:
            v9 = *(_DWORD *)(a1 + 4);
            if ( !v9 )
              return v4;
            v10 = *(_DWORD *)(a1 + 28);
            ++*(_DWORD *)(a1 + 8);
            *(_DWORD *)(a1 + 4) = v9 - 1;
            v4 = v2;
            v11 = *(_BYTE *)(*(_DWORD *)a1)++;
            if ( !((v11 + (*(_DWORD *)(v10 + 4) << 8)) % 0x1Fu) )
            {
              v12 = (v11 & 0x20) == 0;
              v2 = v43;
              if ( v12 )
              {
                *(_DWORD *)v10 = 7;
                v5 = 13;
                goto LABEL_37;
              }
              **(_DWORD **)(a1 + 28) = 2;
LABEL_44:
              v29 = *(_DWORD *)(a1 + 4);
              if ( !v29 )
                return v4;
              v30 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v29 - 1;
              *(_DWORD *)(v30 + 8) = **(_BYTE **)a1 << 24;
              v31 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *(_DWORD *)v31 = 3;
LABEL_46:
              v32 = *(_DWORD *)(a1 + 4);
              if ( !v32 )
                return v4;
              v33 = *(_DWORD *)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v32 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *(_BYTE *)v33 << 16;
              v34 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *(_DWORD *)v34 = 4;
LABEL_48:
              v35 = *(_DWORD *)(a1 + 4);
              if ( !v35 )
                return v4;
              v36 = *(_DWORD *)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v35 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *(_BYTE *)v36 << 8;
              v37 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *(_DWORD *)v37 = 5;
LABEL_50:
              v38 = *(_DWORD *)(a1 + 4);
              if ( !v38 )
                return v4;
              v39 = *(_DWORD *)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v38 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *(_BYTE *)v39;
              v40 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)a1;
              *(_DWORD *)(a1 + 48) = *(_DWORD *)(v40 + 8);
              *(_DWORD *)v40 = 6;
              return 2;
            }
            v2 = v43;
            v5 = 13;
            *(_DWORD *)v10 = 13;
            *(_DWORD *)(a1 + 24) = "incorrect header check";
          }
          else
          {
            *(_DWORD *)v8 = v5;
            *(_DWORD *)(a1 + 24) = "invalid window size";
          }
        }
        else
        {
          *(_DWORD *)v8 = v5;
          *(_DWORD *)(a1 + 24) = "unknown compression method";
        }
LABEL_36:
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 4) = 5;
LABEL_37:
        v3 = *(unsigned int **)(a1 + 28);
        break;
      case 1u:
        goto LABEL_14;
      case 2u:
        goto LABEL_44;
      case 3u:
        goto LABEL_46;
      case 4u:
        goto LABEL_48;
      case 5u:
        goto LABEL_50;
      case 6u:
        **(_DWORD **)(a1 + 28) = v5;
        v41 = *(_DWORD *)(a1 + 28);
        *(_DWORD *)(a1 + 24) = "need dictionary";
        *(_DWORD *)(v41 + 4) = 0;
        return -2;
      case 7u:
        v13 = sub_10067FD4(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, v4);
        v4 = v13;
        if ( v13 == -3 )
        {
          **(_DWORD **)(a1 + 28) = v5;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 4) = 0;
          goto LABEL_37;
        }
        if ( !v13 )
          v4 = v2;
        if ( v4 != 1 )
          return v4;
        v4 = v2;
        sub_10067EDC(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, *(_DWORD *)(a1 + 28) + 4);
        v14 = *(_DWORD *)(a1 + 28);
        if ( *(_DWORD *)(v14 + 12) )
        {
          *(_DWORD *)v14 = 12;
          goto LABEL_37;
        }
        *(_DWORD *)v14 = 8;
LABEL_27:
        v15 = *(_DWORD *)(a1 + 4);
        if ( !v15 )
          return v4;
        v16 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v15 - 1;
        *(_DWORD *)(v16 + 8) = **(_BYTE **)a1 << 24;
        v17 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *(_DWORD *)v17 = 9;
LABEL_29:
        v18 = *(_DWORD *)(a1 + 4);
        if ( !v18 )
          return v4;
        v19 = *(_DWORD *)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v18 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *(_BYTE *)v19 << 16;
        v20 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *(_DWORD *)v20 = 10;
LABEL_31:
        v21 = *(_DWORD *)(a1 + 4);
        if ( !v21 )
          return v4;
        v22 = *(_DWORD *)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v21 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *(_BYTE *)v22 << 8;
        v23 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *(_DWORD *)v23 = 11;
LABEL_33:
        v24 = *(_DWORD *)(a1 + 4);
        if ( !v24 )
          return v4;
        v25 = *(_DWORD *)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v24 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *(_BYTE *)v25;
        v26 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        if ( *(_DWORD *)(v26 + 4) != *(_DWORD *)(v26 + 8) )
        {
          *(_DWORD *)v26 = v5;
          *(_DWORD *)(a1 + 24) = "incorrect data check";
          goto LABEL_36;
        }
        **(_DWORD **)(a1 + 28) = 12;
        return 1;
      case 8u:
        goto LABEL_27;
      case 9u:
        goto LABEL_29;
      case 0xAu:
        goto LABEL_31;
      case 0xBu:
        goto LABEL_33;
      case 0xCu:
        return 1;
      case 0xDu:
        return -3;
    }
  }
}

//----- (10060DB1) --------------------------------------------------------
void *__cdecl sub_10060DB1(int a1)
{
  unsigned int v1; // esi@2
  void *v2; // edx@5
  int v3; // edi@6
  int i; // ecx@6

  if ( a1 == 2 )
  {
    v1 = 64;
  }
  else
  {
    if ( a1 != 1 )
      return 0;
    v1 = 412;
  }
  v2 = malloc(v1);
  if ( v2 )
  {
    memset(v2, 0, 4 * (v1 >> 2));
    v3 = (int)((char *)v2 + 4 * (v1 >> 2));
    for ( i = v1 & 3; i; --i )
      *(_BYTE *)v3++ = 0;
  }
  return v2;
}

//----- (10060DF3) --------------------------------------------------------
void __cdecl sub_10060DF3(void *Memory)
{
  if ( Memory )
    free(Memory);
}

//----- (10060E00) --------------------------------------------------------
void *__cdecl sub_10060E00(int *a1, size_t Size)
{
  void *result; // eax@3

  if ( a1 && Size )
  {
    result = malloc(Size);
    if ( !result )
      sub_1005A502(a1, (int)"Out of Memory");
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10060E36) --------------------------------------------------------
void __cdecl sub_10060E36(int a1, void *Memory)
{
  if ( a1 )
  {
    if ( Memory )
      free(Memory);
  }
}

//----- (10060E4F) --------------------------------------------------------
void *__cdecl sub_10060E4F(int a1, void *a2, const void *a3, unsigned int a4)
{
  memcpy(a2, a3, a4);
  return a2;
}

//----- (10060E72) --------------------------------------------------------
void *__usercall sub_10060E72<eax>(int a1<ebx>, int a2, void *a3, char a4, unsigned int a5)
{
  int v5; // eax@1
  int v6; // edi@1
  int i; // ecx@1

  LOBYTE(a1) = a4;
  BYTE1(a1) = a4;
  v5 = a1 << 16;
  LOWORD(v5) = a1;
  memset32(a3, v5, a5 >> 2);
  v6 = (int)((char *)a3 + 4 * (a5 >> 2));
  for ( i = a5 & 3; i; --i )
    *(_BYTE *)v6++ = a4;
  return a3;
}

//----- (10060EA3) --------------------------------------------------------
int __cdecl sub_10060EA3(int a1)
{
  return *(_BYTE *)(a1 + 3) + ((*(_BYTE *)(a1 + 2) + ((*(_BYTE *)(a1 + 1) + (*(_BYTE *)a1 << 8)) << 8)) << 8);
}

//----- (10060ED9) --------------------------------------------------------
signed int __cdecl sub_10060ED9(int *a1, int a2, unsigned int a3)
{
  signed int result; // eax@1

  sub_1005D25D(a1, a2, a3);
  result = (signed int)a1;
  if ( !(*((_BYTE *)a1 + 268) & 0x20) )
  {
    if ( *((_BYTE *)a1 + 93) & 8 )
      return result;
    goto LABEL_5;
  }
  if ( (a1[23] & 0x300) != 768 )
  {
LABEL_5:
    result = sub_100621C4(a1[64], a2, a3);
    a1[64] = result;
  }
  return result;
}

//----- (10060EF3) --------------------------------------------------------
int __cdecl sub_10060EF3(_DWORD *a1)
{
  _DWORD *v1; // esi@1
  signed int v2; // edi@1
  int result; // eax@7

  v1 = a1;
  v2 = 1;
  if ( *((_BYTE *)a1 + 268) & 0x20 )
  {
    if ( (a1[23] & 0x300) != 768 )
      goto LABEL_6;
  }
  else
  {
    if ( !(*((_BYTE *)a1 + 93) & 8) )
      goto LABEL_6;
  }
  v2 = 0;
LABEL_6:
  sub_1005D25D(a1, (int)&a1, 4);
  if ( v2 )
    result = sub_10060EA3((int)&a1) != v1[64];
  else
    result = 0;
  return result;
}

//----- (10060F51) --------------------------------------------------------
unsigned __int8 __cdecl sub_10060F51(int *a1, int a2)
{
  unsigned __int8 v2; // al@1
  unsigned __int8 v3; // al@5
  unsigned __int8 v4; // al@9
  unsigned __int8 result; // al@13

  v2 = *(_BYTE *)a2;
  if ( *(_BYTE *)a2 < 0x29u
    || v2 > 0x7Au
    || v2 > 0x5Au && v2 < 0x61u
    || (v3 = *(_BYTE *)(a2 + 1), v3 < 0x29u)
    || v3 > 0x7Au
    || v3 > 0x5Au && v3 < 0x61u
    || (v4 = *(_BYTE *)(a2 + 2), v4 < 0x29u)
    || v4 > 0x7Au
    || v4 > 0x5Au && v4 < 0x61u
    || (result = *(_BYTE *)(a2 + 3), result < 0x29u)
    || result > 0x7Au
    || result > 0x5Au && result < 0x61u )
    sub_1005A535(a1, "invalid chunk type");
  return result;
}

//----- (10060FB3) --------------------------------------------------------
char __cdecl sub_10060FB3(int a1, void *a2, int a3)
{
  unsigned int v3; // ecx@1
  unsigned int v4; // eax@2
  unsigned int v5; // ecx@2
  const void *v6; // esi@2
  void *v7; // ebx@6
  const void *v8; // edx@6
  void *v9; // edi@15
  int v10; // esi@15
  signed int v11; // edx@15
  void *v12; // edi@27
  int v13; // esi@27
  signed int v14; // edx@27
  void *v15; // edi@39
  int v16; // esi@39
  signed int v17; // edx@39
  int v19; // [sp+8h] [bp-Ch]@7
  int v20; // [sp+8h] [bp-Ch]@16
  int v21; // [sp+8h] [bp-Ch]@28
  int v22; // [sp+8h] [bp-Ch]@40
  unsigned int v23; // [sp+Ch] [bp-8h]@6
  signed int v24; // [sp+Ch] [bp-8h]@15
  signed int v25; // [sp+Ch] [bp-8h]@27
  signed int v26; // [sp+Ch] [bp-8h]@39
  unsigned __int8 v27; // [sp+13h] [bp-1h]@6

  v3 = *(_BYTE *)(a1 + 251);
  if ( a3 == 255 )
  {
    v4 = (*(_DWORD *)(a1 + 184) * v3 + 7) >> 3;
    v5 = (*(_DWORD *)(a1 + 184) * v3 + 7) >> 5;
    v6 = (const void *)(*(_DWORD *)(a1 + 220) + 1);
    memcpy(a2, v6, 4 * v5);
    memcpy((char *)a2 + 4 * v5, (char *)v6 + 4 * v5, v4 & 3);
  }
  else
  {
    switch ( v3 )
    {
      case 1u:
        v4 = *(_DWORD *)(a1 + 184);
        v15 = a2;
        v16 = *(_DWORD *)(a1 + 220) + 1;
        v26 = 128;
        v17 = 7;
        if ( v4 )
        {
          v22 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v26 )
            {
              LOBYTE(v4) = (((unsigned int)*(_BYTE *)v16 >> v17) & 1) << v17;
              *(_BYTE *)v15 = v4 | *(_BYTE *)v15 & (32639 >> (7 - v17));
            }
            if ( v17 )
            {
              --v17;
            }
            else
            {
              ++v16;
              v17 = 7;
              v15 = (char *)v15 + 1;
            }
            if ( v26 == 1 )
              v26 = 128;
            else
              v26 >>= 1;
            --v22;
          }
          while ( v22 );
        }
        break;
      case 2u:
        v4 = *(_DWORD *)(a1 + 184);
        v12 = a2;
        v13 = *(_DWORD *)(a1 + 220) + 1;
        v25 = 128;
        v14 = 6;
        if ( v4 )
        {
          v21 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v25 )
            {
              LOBYTE(v4) = (((unsigned int)*(_BYTE *)v13 >> v14) & 3) << v14;
              *(_BYTE *)v12 = v4 | *(_BYTE *)v12 & (16191 >> (6 - v14));
            }
            if ( v14 )
            {
              v14 -= 2;
            }
            else
            {
              ++v13;
              v14 = 6;
              v12 = (char *)v12 + 1;
            }
            if ( v25 == 1 )
              v25 = 128;
            else
              v25 >>= 1;
            --v21;
          }
          while ( v21 );
        }
        break;
      case 4u:
        v4 = *(_DWORD *)(a1 + 184);
        v9 = a2;
        v10 = *(_DWORD *)(a1 + 220) + 1;
        v24 = 128;
        v11 = 4;
        if ( v4 )
        {
          v20 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v24 )
            {
              LOBYTE(v4) = (((unsigned int)*(_BYTE *)v10 >> v11) & 0xF) << v11;
              *(_BYTE *)v9 = v4 | *(_BYTE *)v9 & (3855 >> (4 - v11));
            }
            if ( v11 )
            {
              v11 -= 4;
            }
            else
            {
              ++v10;
              v11 = 4;
              v9 = (char *)v9 + 1;
            }
            if ( v24 == 1 )
              v24 = 128;
            else
              v24 >>= 1;
            --v20;
          }
          while ( v20 );
        }
        break;
      default:
        v4 = *(_DWORD *)(a1 + 184);
        v7 = a2;
        v8 = (const void *)(*(_DWORD *)(a1 + 220) + 1);
        v23 = v3 >> 3;
        v27 = -128;
        if ( v4 )
        {
          v19 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( (unsigned __int8)a3 & v27 )
            {
              v4 = v3 >> 3;
              memcpy(v7, v8, v23);
            }
            v8 = (char *)v8 + v23;
            v7 = (char *)v7 + v23;
            if ( v27 == 1 )
              v27 = -128;
            else
              v27 >>= 1;
            --v19;
          }
          while ( v19 );
        }
        break;
    }
  }
  return v4;
}

//----- (100611C9) --------------------------------------------------------
void __cdecl sub_100611C9(int a1, int a2, int a3)
{
  int v3; // eax@3
  int v4; // edx@3
  unsigned int v5; // esi@3
  int v6; // esi@6
  const void *v7; // ebx@6
  char v8; // al@7
  unsigned int v9; // ecx@7
  void *v10; // edi@7
  const void *v11; // esi@7
  int v12; // eax@7
  bool v13; // zf@7
  bool v14; // sf@7
  void *v15; // edi@9
  char v16; // al@9
  unsigned int v17; // ecx@9
  unsigned int v18; // edi@12
  unsigned int v19; // esi@12
  char v20; // al@13
  unsigned int v21; // edi@25
  unsigned int v22; // esi@25
  char v23; // al@26
  unsigned int v24; // edi@38
  unsigned int v25; // esi@38
  char v26; // al@39
  unsigned int v27; // ecx@50
  char v28[4]; // [sp+0h] [bp-18h]@7
  int v29; // [sp+4h] [bp-14h]@14
  unsigned int v30; // [sp+8h] [bp-10h]@8
  int v31; // [sp+Ch] [bp-Ch]@3
  int v32; // [sp+10h] [bp-8h]@6
  int v33; // [sp+14h] [bp-4h]@6
  int v34; // [sp+24h] [bp+Ch]@6
  char v35; // [sp+27h] [bp+Fh]@13
  char v36; // [sp+27h] [bp+Fh]@26
  char v37; // [sp+27h] [bp+Fh]@39

  if ( a2 && a1 )
  {
    v3 = *(_DWORD *)a1;
    v4 = dword_10076608[a3] * *(_DWORD *)a1;
    v31 = dword_10076608[a3];
    v5 = *(_BYTE *)(a1 + 11);
    switch ( *(_BYTE *)(a1 + 11) )
    {
      case 1:
        v30 = 0;
        v24 = a2 + ((unsigned int)(v3 - 1) >> 3);
        v25 = a2 + ((unsigned int)(v4 - 1) >> 3);
        v32 = 7 - (((_BYTE)v3 - 1) & 7);
        v33 = 7 - (((_BYTE)v4 - 1) & 7);
        if ( v3 )
        {
          do
          {
            v26 = (*(_BYTE *)v24 >> v32) & 1;
            v37 = (*(_BYTE *)v24 >> v32) & 1;
            if ( v31 > 0 )
            {
              v29 = v31;
              while ( 1 )
              {
                v13 = v33 == 7;
                *(_BYTE *)v25 = (v26 << v33) | *(_BYTE *)v25 & (32639 >> (7 - v33));
                if ( v13 )
                {
                  v33 = 0;
                  --v25;
                }
                else
                {
                  ++v33;
                }
                --v29;
                if ( !v29 )
                  break;
                v26 = v37;
              }
            }
            if ( v32 == 7 )
            {
              v32 = 0;
              --v24;
            }
            else
            {
              ++v32;
            }
            ++v30;
          }
          while ( v30 < *(_DWORD *)a1 );
        }
        break;
      case 2:
        v30 = 0;
        v21 = a2 + ((unsigned int)(v3 - 1) >> 2);
        v22 = a2 + ((unsigned int)(v4 - 1) >> 2);
        v32 = 2 * (3 - (((_BYTE)v3 - 1) & 3));
        v33 = 2 * (3 - (((_BYTE)v4 - 1) & 3));
        if ( v3 )
        {
          do
          {
            v23 = (*(_BYTE *)v21 >> v32) & 3;
            v36 = (*(_BYTE *)v21 >> v32) & 3;
            if ( v31 > 0 )
            {
              v29 = v31;
              while ( 1 )
              {
                v13 = v33 == 6;
                *(_BYTE *)v22 = (v23 << v33) | *(_BYTE *)v22 & (16191 >> (6 - v33));
                if ( v13 )
                {
                  v33 = 0;
                  --v22;
                }
                else
                {
                  v33 += 2;
                }
                --v29;
                if ( !v29 )
                  break;
                v23 = v36;
              }
            }
            if ( v32 == 6 )
            {
              v32 = 0;
              --v21;
            }
            else
            {
              v32 += 2;
            }
            ++v30;
          }
          while ( v30 < *(_DWORD *)a1 );
        }
        break;
      case 4:
        v30 = 0;
        v18 = a2 + ((unsigned int)(v3 - 1) >> 1);
        v19 = a2 + ((unsigned int)(v4 - 1) >> 1);
        v32 = 4 - 4 * (((_BYTE)v3 - 1) & 1);
        v33 = 4 - 4 * (((_BYTE)v4 - 1) & 1);
        if ( v3 )
        {
          do
          {
            v20 = (*(_BYTE *)v18 >> v32) & 0xF;
            v35 = (*(_BYTE *)v18 >> v32) & 0xF;
            if ( v31 > 0 )
            {
              v29 = v31;
              while ( 1 )
              {
                v13 = v33 == 4;
                *(_BYTE *)v19 = (v20 << v33) | *(_BYTE *)v19 & (3855 >> (4 - v33));
                if ( v13 )
                {
                  v33 = 0;
                  --v19;
                }
                else
                {
                  v33 += 4;
                }
                --v29;
                if ( !v29 )
                  break;
                v20 = v35;
              }
            }
            if ( v32 == 4 )
            {
              v32 = 0;
              --v18;
            }
            else
            {
              v32 += 4;
            }
            ++v30;
          }
          while ( v30 < *(_DWORD *)a1 );
        }
        break;
      default:
        v33 = 0;
        v6 = v5 >> 3;
        v7 = (const void *)(a2 + v6 * (v3 - 1));
        v32 = v6;
        v34 = a2 + v6 * (v4 - 1);
        if ( v3 )
        {
          do
          {
            v8 = v32;
            v9 = (unsigned int)v32 >> 2;
            memcpy(v28, v7, 4 * ((unsigned int)v32 >> 2));
            v11 = (char *)v7 + 4 * v9;
            v10 = &v28[4 * v9];
            LOBYTE(v9) = v8;
            v12 = v31;
            v13 = v31 == 0;
            v14 = v31 < 0;
            memcpy(v10, v11, v9 & 3);
            if ( !(v14 | v13) )
            {
              v30 = v12;
              do
              {
                v15 = (void *)v34;
                v16 = v32;
                v34 -= v32;
                v17 = (unsigned int)v32 >> 2;
                memcpy(v15, v28, 4 * ((unsigned int)v32 >> 2));
                v13 = v30-- == 1;
                memcpy((char *)v15 + 4 * v17, &v28[4 * v17], v16 & 3);
              }
              while ( !v13 );
            }
            v7 = (char *)v7 - v32;
            ++v33;
          }
          while ( (unsigned int)v33 < *(_DWORD *)a1 );
        }
        break;
    }
    v27 = (v4 * (unsigned int)*(_BYTE *)(a1 + 11) + 7) >> 3;
    *(_DWORD *)a1 = v4;
    *(_DWORD *)(a1 + 4) = v27;
  }
}
// 10076608: using guessed type int dword_10076608[];
// 100611C9: using guessed type char var_18[4];

//----- (10061492) --------------------------------------------------------
char __cdecl sub_10061492(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  int v6; // edx@7
  int v7; // edi@7
  int v8; // ecx@7
  int v9; // esi@8
  int v10; // ecx@13
  int v11; // eax@13
  int v12; // esi@13
  int v13; // eax@13
  int v14; // edx@13
  int v15; // ebx@16
  int v16; // eax@18
  bool v17; // zf@24
  int v18; // esi@26
  int v19; // edi@26
  int v20; // ecx@26
  int i; // ebx@26
  __int64 v22; // qax@29
  unsigned int v23; // esi@31
  unsigned int v24; // ecx@31
  unsigned int v25; // ecx@34
  int v26; // esi@34
  int v27; // edx@35
  int v28; // ecx@35
  char v30; // [sp+8h] [bp-14h]@13
  int v31; // [sp+Ch] [bp-10h]@12
  int v32; // [sp+10h] [bp-Ch]@7
  int v33; // [sp+14h] [bp-8h]@14
  int v34; // [sp+18h] [bp-4h]@7
  int v35; // [sp+34h] [bp+18h]@7

  LOBYTE(v5) = a5;
  if ( a5 )
  {
    switch ( a5 )
    {
      case 1:
        v25 = *(_DWORD *)(a2 + 4);
        v5 = (*(_BYTE *)(a2 + 11) + 7) >> 3;
        v26 = v5 + a3;
        if ( v5 < v25 )
        {
          v27 = a3;
          v28 = v25 - v5;
          do
          {
            LOBYTE(v5) = *(_BYTE *)v27;
            *(_BYTE *)v26++ += *(_BYTE *)v27++;
            --v28;
          }
          while ( v28 );
        }
        break;
      case 2:
        v23 = *(_DWORD *)(a2 + 4);
        v5 = a3;
        v24 = 0;
        if ( v23 )
        {
          do
            *(_BYTE *)v5++ += *(_BYTE *)(v24++ + a4);
          while ( v24 < v23 );
        }
        break;
      case 3:
        v18 = a3;
        v19 = a4;
        v5 = (*(_BYTE *)(a2 + 11) + 7) >> 3;
        v20 = *(_DWORD *)(a2 + 4) - v5;
        for ( i = a3; v5; --v5 )
          *(_BYTE *)v18++ += *(_BYTE *)v19++ >> 1;
        for ( ; v20; --v20 )
        {
          v22 = *(_BYTE *)v19 + *(_BYTE *)i;
          v5 = ((signed int)v22 - HIDWORD(v22)) >> 1;
          *(_BYTE *)v18 += v5;
          ++i;
          ++v19;
          ++v18;
        }
        break;
      case 4:
        v6 = a3;
        v7 = a4;
        v5 = (*(_BYTE *)(a2 + 11) + 7) >> 3;
        v8 = *(_DWORD *)(a2 + 4) - v5;
        v32 = a3;
        v35 = a3;
        v34 = a4;
        if ( v5 )
        {
          v9 = (*(_BYTE *)(a2 + 11) + 7) >> 3;
          do
          {
            LOBYTE(v5) = *(_BYTE *)v7;
            *(_BYTE *)v6++ += *(_BYTE *)v7++;
            --v9;
          }
          while ( v9 );
          v32 = v6;
        }
        if ( v8 )
        {
          v31 = v8;
          do
          {
            v10 = *(_BYTE *)v35;
            v11 = *(_BYTE *)v7;
            v12 = *(_BYTE *)v34;
            ++v35;
            v30 = *(_BYTE *)v7++;
            ++v34;
            v13 = v11 - v12;
            v14 = v10 - v12;
            if ( v13 >= 0 )
              v33 = v13;
            else
              v33 = -v13;
            v15 = v10 - v12;
            if ( v14 < 0 )
              v15 = -v14;
            v16 = v14 + v13;
            if ( v16 < 0 )
              v16 = -v16;
            if ( v33 > v15 || v33 > v16 )
            {
              LOBYTE(v10) = v30;
              if ( v15 > v16 )
                LOBYTE(v10) = v12;
            }
            *(_BYTE *)v32 += v10;
            LOBYTE(v5) = v32 + 1;
            v17 = v31-- == 1;
            ++v32;
          }
          while ( !v17 );
        }
        break;
      default:
        sub_1005A520(a1, (int)"Ignoring bad adaptive filter type");
        LOBYTE(v5) = a3;
        *(_BYTE *)a3 = 0;
        break;
    }
  }
  return v5;
}

//----- (1006160D) --------------------------------------------------------
void *__usercall sub_1006160D<eax>(int a1<ebx>, int a2)
{
  unsigned int v2; // eax@1
  int v3; // edi@4
  int v4; // eax@4
  unsigned int v5; // ecx@4
  unsigned int v6; // eax@4
  unsigned int v7; // ett@4
  unsigned int v8; // ecx@4
  int v9; // eax@5
  int v10; // eax@6
  int v11; // ebx@6
  char v12; // cl@10
  bool v13; // sf@20
  int v14; // ebx@20
  char v15; // cl@21
  int v16; // ecx@24
  int v17; // ecx@24
  int v18; // ecx@26
  void *v19; // eax@28
  unsigned int v20; // ST0C_4@28
  void *result; // eax@28
  int v22; // [sp-4h] [bp-Ch]@6

  *(_DWORD *)(a2 + 104) = 0;
  sub_1005CE04((_DWORD *)a2);
  v2 = *(_DWORD *)(a2 + 188);
  if ( *(_BYTE *)(a2 + 275) )
  {
    if ( !(*(_BYTE *)(a2 + 96) & 2) )
      v2 = (v2 + 7) >> 3;
    v3 = *(_DWORD *)(a2 + 184);
    *(_DWORD *)(a2 + 192) = v2;
    v4 = *(_BYTE *)(a2 + 276);
    v5 = dword_10076608[v4];
    v7 = v3 - dword_100765EC[v4] + v5 - 1;
    v6 = (v3 - dword_100765EC[v4] + v5 - 1) / v5;
    v8 = ((v7 / v5 * *(_BYTE *)(a2 + 281) + 7) >> 3) + 1;
    *(_DWORD *)(a2 + 208) = v6;
    *(_DWORD *)(a2 + 204) = v8;
  }
  else
  {
    v3 = *(_DWORD *)(a2 + 184);
    *(_DWORD *)(a2 + 192) = v2;
    v9 = *(_DWORD *)(a2 + 200) + 1;
    *(_DWORD *)(a2 + 208) = v3;
    *(_DWORD *)(a2 + 204) = v9;
  }
  v10 = *(_BYTE *)(a2 + 281);
  v22 = a1;
  v11 = *(_DWORD *)(a2 + 96);
  if ( v11 & 4 && *(_BYTE *)(a2 + 279) < 8u )
    v10 = 8;
  if ( BYTE1(v11) & 0x10 )
  {
    v12 = *(_BYTE *)(a2 + 278);
    if ( v12 == 3 )
    {
      v10 = 8 * (*(_WORD *)(a2 + 266) != 0) + 24;
    }
    else
    {
      if ( v12 )
      {
        if ( v12 == 2 && *(_WORD *)(a2 + 266) )
          v10 = 4 * v10 / 3;
      }
      else
      {
        if ( v10 < 8 )
          v10 = 8;
        if ( *(_WORD *)(a2 + 266) )
          v10 *= 2;
      }
    }
  }
  v13 = SBYTE1(v11) < 0;
  v14 = v22;
  if ( v13 )
  {
    v15 = *(_BYTE *)(a2 + 278);
    if ( v15 != 3 )
    {
      if ( v15 )
      {
        if ( v15 != 2 )
          goto LABEL_28;
        v18 = v10 < 32;
        LOBYTE(v18) = v10 > 32;
        v17 = ((v18 - 1) & 0xFFFFFFE0) + 64;
      }
      else
      {
        v16 = v10 < 8;
        LOBYTE(v16) = v10 > 8;
        v17 = ((v16 - 1) & 0xFFFFFFF0) + 32;
      }
      v10 = v17;
      goto LABEL_28;
    }
    v10 = 32;
  }
LABEL_28:
  *(_DWORD *)(a2 + 220) = sub_10060E00((int *)a2, ((v10 * ((v3 + 7) & 0xFFFFFFF8u) + 7) >> 3) + ((v10 + 7) >> 3) + 1);
  v19 = sub_10060E00((int *)a2, *(_DWORD *)(a2 + 200) + 1);
  v20 = *(_DWORD *)(a2 + 200) + 1;
  *(_DWORD *)(a2 + 216) = v19;
  result = sub_10060E72(v14, a2, v19, 0, v20);
  *(_DWORD *)(a2 + 92) |= 0x40u;
  return result;
}
// 1006160D: could not find valid save-restore pair for ebx
// 100765EC: using guessed type int dword_100765EC[];
// 10076608: using guessed type int dword_10076608[];

//----- (100617A9) --------------------------------------------------------
signed int __cdecl sub_100617A9(int *a1, unsigned int a2)
{
  unsigned int v2; // ebx@1
  int i; // edi@1
  signed int result; // eax@11

  v2 = a2;
  for ( i = a1[40]; v2 > i; v2 -= i )
    sub_10060ED9(a1, a1[39], a1[40]);
  if ( v2 )
    sub_10060ED9(a1, a1[39], v2);
  if ( sub_10060EF3(a1) )
  {
    if ( !(*((_BYTE *)a1 + 268) & 0x20) || *((_BYTE *)a1 + 93) & 2 )
    {
      if ( *((_BYTE *)a1 + 268) & 0x20 || !(*((_BYTE *)a1 + 93) & 4) )
        sub_1005A535(a1, "CRC error");
    }
    sub_1005A55A((int)a1, "CRC error");
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10061835) --------------------------------------------------------
void __cdecl sub_10061835(int *a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@5
  int v5; // eax@5
  char v6; // bl@5
  char v7; // ST20_1@42
  unsigned __int8 v8; // al@42
  char v9; // ST1C_1@42
  char v10; // ST18_1@42
  int v11; // [sp+Ch] [bp-1Ch]@5
  char v12; // [sp+10h] [bp-18h]@5
  unsigned __int8 v13; // [sp+14h] [bp-14h]@5
  unsigned __int8 v14; // [sp+15h] [bp-13h]@5
  unsigned __int8 v15; // [sp+16h] [bp-12h]@5
  unsigned __int8 v16; // [sp+17h] [bp-11h]@5
  unsigned __int8 v17; // [sp+18h] [bp-10h]@5
  int v18; // [sp+1Ch] [bp-Ch]@5
  int v19; // [sp+20h] [bp-8h]@5
  int v20; // [sp+24h] [bp-4h]@5
  int v21; // [sp+30h] [bp+8h]@5
  int v22; // [sp+38h] [bp+10h]@5

  v3 = (int)a1;
  if ( a1[22] )
    sub_1005A502(a1, (int)"Out of place IHDR");
  if ( a3 != 13 )
    sub_1005A502(a1, (int)"Invalid IHDR chunk");
  a1[22] |= 1u;
  sub_10060ED9(a1, (int)&v11, 0xDu);
  sub_100617A9(a1, 0);
  v4 = sub_10060EA3((int)&v11);
  v5 = sub_10060EA3((int)&v12);
  v6 = v13;
  v21 = v5;
  v22 = v14;
  v18 = v15;
  v19 = v16;
  v20 = v17;
  if ( !v4 || (unsigned int)v4 > 0x7FFFFFFF || !v5 || (unsigned int)v5 > 0x7FFFFFFF )
    sub_1005A502((int *)v3, (int)"Invalid image size in IHDR");
  if ( v13 != 1 && v13 != 2 && v13 != 4 && v13 != 8 && v13 != 16 )
    sub_1005A502((int *)v3, (int)"Invalid bit depth in IHDR");
  if ( v14 == 1 || v14 == 5 || (signed int)v14 > 6 )
    sub_1005A502((int *)v3, (int)"Invalid color type in IHDR");
  if ( v14 == 3 && (signed int)v13 > 8 || (v14 == 2 || v14 == 4 || v14 == 6) && (signed int)v13 < 8 )
    sub_1005A502((int *)v3, (int)"Invalid color type/bit depth combination in IHDR");
  if ( v20 >= 2 )
    sub_1005A502((int *)v3, (int)"Unknown interlace method in IHDR");
  if ( v18 )
    sub_1005A502((int *)v3, (int)"Unknown compression method in IHDR");
  if ( v19 )
    sub_1005A502((int *)v3, (int)"Unknown filter method in IHDR");
  *(_BYTE *)(v3 + 275) = v20;
  *(_DWORD *)(v3 + 184) = v4;
  *(_DWORD *)(v3 + 188) = v5;
  *(_BYTE *)(v3 + 279) = v6;
  *(_BYTE *)(v3 + 278) = v22;
  if ( !(_BYTE)v22 )
    goto LABEL_45;
  if ( (unsigned __int8)v22 == 2 )
  {
    *(_BYTE *)(v3 + 282) = 3;
    goto LABEL_42;
  }
  if ( (unsigned __int8)v22 == 3 )
  {
LABEL_45:
    *(_BYTE *)(v3 + 282) = 1;
    goto LABEL_42;
  }
  if ( (unsigned __int8)v22 == 4 )
  {
    *(_BYTE *)(v3 + 282) = 2;
  }
  else
  {
    if ( (unsigned __int8)v22 == 6 )
      *(_BYTE *)(v3 + 282) = 4;
  }
LABEL_42:
  v7 = v19;
  v8 = v6 * *(_BYTE *)(v3 + 282);
  v9 = v18;
  *(_BYTE *)(v3 + 281) = v8;
  v10 = v20;
  *(_DWORD *)(v3 + 200) = (v4 * (unsigned int)v8 + 7) >> 3;
  sub_1005D0EA(v3, a2, v4, v21, v6, v22, v10, v9, v7);
}

//----- (10061A2B) --------------------------------------------------------
void __cdecl sub_10061A2B(int *a1, int a2, unsigned int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  unsigned int v5; // edx@8
  int v6; // ebx@12
  void *v7; // eax@12
  int v8; // edi@13
  int v9; // edi@15
  int v10; // ST04_4@15
  int v11; // [sp-8h] [bp-14h]@4
  int v12; // [sp-4h] [bp-10h]@2
  int v13; // [sp-4h] [bp-10h]@4
  int v14; // [sp+4h] [bp-8h]@12
  int v15; // [sp+8h] [bp-4h]@13

  v3 = (int)a1;
  v4 = a1[22];
  if ( !(v4 & 1) )
  {
    v12 = (int)"Missing IHDR before PLTE";
    goto LABEL_7;
  }
  if ( v4 & 4 )
  {
    v13 = (int)"Invalid PLTE after IDAT";
    v11 = (int)a1;
LABEL_10:
    sub_1005A520(v11, v13);
    sub_100617A9((int *)v3, a3);
    return;
  }
  if ( v4 & 2 )
  {
    v12 = (int)"Duplicate PLTE chunk";
LABEL_7:
    sub_1005A502(a1, v12);
  }
  v5 = a3 % 3;
  a1[22] |= 2u;
  if ( v5 )
  {
    v13 = (int)"Invalid palette chunk";
    v11 = v3;
    if ( *(_BYTE *)(v3 + 278) == 3 )
      sub_1005A502((int *)v3, (int)"Invalid palette chunk");
    goto LABEL_10;
  }
  v6 = (signed int)a3 / 3;
  v7 = sub_1005D357((int *)v3, (signed int)a3 / 3, 3);
  *(_BYTE *)(v3 + 93) |= 0x10u;
  v14 = (int)v7;
  if ( v6 > 0 )
  {
    v8 = (int)((char *)v7 + 2);
    v15 = v6;
    do
    {
      sub_10060ED9((int *)v3, (int)&a1, 3u);
      *(_BYTE *)(v8 - 2) = (_BYTE)a1;
      *(_BYTE *)(v8 - 1) = BYTE1(a1);
      *(_BYTE *)v8 = BYTE2(a1);
      v8 += 3;
      --v15;
    }
    while ( v15 );
  }
  sub_100617A9((int *)v3, 0);
  v9 = a2;
  v10 = a2;
  *(_DWORD *)(v3 + 260) = v14;
  *(_WORD *)(v3 + 264) = v6;
  sub_1005D18B(v3, v10, v14, v6);
  if ( *(_BYTE *)(v3 + 278) == 3 && v9 && *(_BYTE *)(v9 + 8) & 0x10 && *(_WORD *)(v3 + 266) > *(_WORD *)(v3 + 264) )
  {
    sub_1005A520(v3, (int)"Truncating incorrect tRNS chunk length");
    *(_WORD *)(v3 + 266) = *(_WORD *)(v3 + 264);
  }
}

//----- (10061B55) --------------------------------------------------------
signed int __cdecl sub_10061B55(int *a1, int a2, unsigned int a3)
{
  int v3; // eax@1

  v3 = a1[22];
  if ( !(v3 & 1) || !(v3 & 4) )
    sub_1005A502(a1, (int)"No image in file");
  a1[22] |= 0x18u;
  if ( a3 )
    sub_1005A520((int)a1, (int)"Incorrect IEND chunk length");
  return sub_100617A9(a1, a3);
}

//----- (10061B9F) --------------------------------------------------------
void __cdecl sub_10061B9F(int *a1, int a2, unsigned int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  int v5; // edi@1
  int v6; // eax@11
  int v7; // eax@15
  double v8; // st7@19
  int v9; // [sp+4h] [bp-14h]@4

  v3 = (int)a1;
  v4 = a1[22];
  v5 = a2;
  if ( !(v4 & 1) )
    sub_1005A502(a1, (int)"Missing IHDR before gAMA");
  if ( v4 & 4 )
  {
    v9 = (int)"Invalid gAMA after IDAT";
    goto LABEL_5;
  }
  if ( v4 & 2 )
  {
    sub_1005A520((int)a1, (int)"Out of place gAMA chunk");
  }
  else
  {
    if ( a2 )
    {
      v6 = *(_DWORD *)(a2 + 8);
      if ( v6 & 1 )
      {
        if ( !(v6 & 0x800) )
        {
          v9 = (int)"Duplicate gAMA chunk";
          goto LABEL_5;
        }
      }
    }
  }
  if ( a3 != 4 )
  {
    v9 = (int)"Incorrect gAMA chunk length";
LABEL_5:
    sub_1005A520(v3, v9);
    sub_100617A9((int *)v3, a3);
    return;
  }
  sub_10060ED9((int *)v3, (int)&a1, 4u);
  if ( !sub_100617A9((int *)v3, 0) )
  {
    v7 = sub_10060EA3((int)&a1);
    if ( v7 )
    {
      if ( *(_DWORD *)(v5 + 8) & 0x800 && fabs((double)(unsigned int)v7 - 45455.0) > 500.0 )
      {
        sub_1005A520(v3, (int)"Ignoring incorrect gAMA value when sRGB is also present");
      }
      else
      {
        v8 = (double)(unsigned int)v7 * 0.0000099999997;
        *(float *)(v3 + 304) = v8;
        sub_1005D0CF(v3, v5, v8);
      }
    }
  }
}

//----- (10061CAA) --------------------------------------------------------
void __cdecl sub_10061CAA(int a1, unsigned int a2, unsigned int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  unsigned int v5; // edi@14
  int v6; // [sp-4h] [bp-8h]@4

  v3 = a1;
  v4 = *(_DWORD *)(a1 + 88);
  if ( !(v4 & 1) )
    sub_1005A502((int *)a1, (int)"Missing IHDR before sRGB");
  if ( v4 & 4 )
  {
    v6 = (int)"Invalid sRGB after IDAT";
    goto LABEL_5;
  }
  if ( v4 & 2 )
  {
    sub_1005A520(a1, (int)"Out of place sRGB chunk");
  }
  else
  {
    if ( a2 && *(_BYTE *)(a2 + 9) & 8 )
    {
      v6 = (int)"Duplicate sRGB chunk";
      goto LABEL_5;
    }
  }
  if ( a3 != 1 )
  {
    v6 = (int)"Incorrect sRGB chunk length";
LABEL_5:
    sub_1005A520(v3, v6);
    sub_100617A9((int *)v3, a3);
    return;
  }
  sub_10060ED9((int *)v3, (int)((char *)&a1 + 3), 1u);
  if ( !sub_100617A9((int *)v3, 0) )
  {
    v5 = BYTE3(a1);
    if ( (signed int)BYTE3(a1) < 4 )
    {
      if ( *(_BYTE *)(a2 + 8) & 1 )
      {
        if ( fabs(*(float *)(v3 + 304) * 100000.0 + 0.5 - 45455.0) > 500.0 )
          sub_1005A520(v3, (int)"Ignoring incorrect gAMA value when sRGB is also present");
      }
      sub_1005D1CA(v3, __PAIR__(v5, a2));
    }
    else
    {
      sub_1005A520(v3, (int)"Unknown sRGB intent");
    }
  }
}

//----- (10061D99) --------------------------------------------------------
void __cdecl sub_10061D99(int a1, int a2, size_t Size)
{
  int v3; // eax@1
  char v4; // al@3
  int v5; // eax@16
  signed int v6; // eax@19
  int v7; // ecx@19
  int v8; // eax@19
  int v9; // eax@19
  unsigned int v10; // [sp-10h] [bp-20h]@7
  int v11; // [sp-8h] [bp-18h]@22
  int v12; // [sp-4h] [bp-14h]@9
  int v13; // [sp+8h] [bp-8h]@19
  unsigned __int8 v14; // [sp+Ch] [bp-4h]@19
  unsigned __int8 v15; // [sp+Dh] [bp-3h]@19

  v3 = *(_DWORD *)(a1 + 88);
  if ( !(v3 & 1) )
    sub_1005A502((int *)a1, (int)"Missing IHDR before tRNS");
  if ( v3 & 4 )
  {
    v12 = (int)"Invalid tRNS after IDAT";
LABEL_13:
    sub_1005A520(a1, v12);
    sub_100617A9((int *)a1, Size);
    return;
  }
  if ( a2 && *(_BYTE *)(a2 + 8) & 0x10 )
  {
    v12 = (int)"Duplicate tRNS chunk";
    goto LABEL_13;
  }
  v4 = *(_BYTE *)(a1 + 278);
  if ( v4 != 3 )
  {
    if ( v4 == 2 )
    {
      if ( Size == 6 )
      {
        v6 = sub_10060ED9((int *)a1, (int)&v13, 6u);
        LOWORD(v7) = BYTE1(v13);
        LOWORD(v6) = (unsigned __int8)v13;
        v8 = v7 + (v6 << 8);
        LOWORD(v7) = BYTE3(v13);
        *(_WORD *)(a1 + 354) = v8;
        LOWORD(v8) = BYTE2(v13);
        v9 = v7 + (v8 << 8);
        LOWORD(v7) = v15;
        *(_WORD *)(a1 + 356) = v9;
        *(_WORD *)(a1 + 358) = v7 + (v14 << 8);
LABEL_24:
        *(_WORD *)(a1 + 266) = 1;
        goto LABEL_25;
      }
    }
    else
    {
      if ( v4 )
      {
        v11 = (int)"tRNS chunk not allowed with alpha channel";
        goto LABEL_28;
      }
      if ( Size == 2 )
      {
        sub_10060ED9((int *)a1, (int)&v13, 2u);
        *(_WORD *)(a1 + 360) = BYTE1(v13) + ((unsigned __int8)v13 << 8);
        goto LABEL_24;
      }
    }
    v11 = (int)"Incorrect tRNS chunk length";
LABEL_28:
    sub_1005A520(a1, v11);
    v10 = Size;
    goto LABEL_29;
  }
  if ( *(_BYTE *)(a1 + 88) & 2 )
  {
    if ( Size > *(_WORD *)(a1 + 264) )
    {
      sub_1005A520(a1, (int)"Incorrect tRNS chunk length");
      v10 = Size;
      goto LABEL_29;
    }
  }
  else
  {
    sub_1005A520(a1, (int)"Missing PLTE before tRNS");
  }
  if ( !Size )
  {
    sub_1005A520(a1, (int)"Zero length tRNS chunk");
    v10 = 0;
LABEL_29:
    sub_100617A9((int *)a1, v10);
    return;
  }
  v5 = (int)sub_10060E00((int *)a1, Size);
  *(_BYTE *)(a1 + 93) |= 0x20u;
  *(_DWORD *)(a1 + 348) = v5;
  sub_10060ED9((int *)a1, v5, Size);
  *(_WORD *)(a1 + 266) = Size;
LABEL_25:
  if ( !sub_100617A9((int *)a1, 0) )
    sub_1005D203(a1, a2, *(_DWORD *)(a1 + 348), *(_WORD *)(a1 + 266), a1 + 352);
}

//----- (10061F50) --------------------------------------------------------
signed int __cdecl sub_10061F50(int *a1, int a2, unsigned int a3)
{
  int v3; // eax@3

  sub_10060F51(a1, (int)(a1 + 67));
  if ( !(*((_BYTE *)a1 + 268) & 0x20) )
    sub_1005A535(a1, "unknown critical chunk");
  v3 = a1[22];
  if ( v3 & 4 )
    a1[22] = v3 | 8;
  return sub_100617A9(a1, a3);
}

//----- (10061F9A) --------------------------------------------------------
unsigned int __usercall sub_10061F9A<eax>(int a1<ecx>, int a2<ebx>, int a3)
{
  int v3; // esi@1
  unsigned int result; // eax@1
  unsigned __int8 v5; // bl@4
  int v6; // ecx@5
  unsigned int v7; // edx@5
  bool v8; // zf@5
  unsigned int v9; // edi@6
  unsigned int v10; // eax@15
  unsigned int v11; // edx@15
  int v12; // ecx@15
  signed int v13; // eax@18
  int v14; // eax@20
  int v15; // [sp+0h] [bp-4h]@1

  v15 = a1;
  v3 = a3;
  result = a3 + 212;
  ++*(_DWORD *)result;
  if ( *(_DWORD *)result >= *(_DWORD *)(v3 + 192) )
  {
    if ( *(_BYTE *)(v3 + 275) )
    {
      *(_DWORD *)result = 0;
      sub_10060E72(a2, v3, *(void **)(v3 + 216), 0, *(_DWORD *)(v3 + 200) + 1);
      while ( 1 )
      {
        ++*(_BYTE *)(v3 + 276);
        v5 = *(_BYTE *)(v3 + 276);
        if ( v5 >= 7u )
          break;
        v6 = v5;
        result = (*(_DWORD *)(v3 + 184) - dword_100765EC[v6] + dword_10076608[v6] - 1)
               / (unsigned int)dword_10076608[v6];
        v7 = ((result * *(_BYTE *)(v3 + 281) + 7) >> 3) + 1;
        v8 = (*(_BYTE *)(v3 + 96) & 2) == 0;
        *(_DWORD *)(v3 + 208) = result;
        *(_DWORD *)(v3 + 204) = v7;
        if ( v8 )
        {
          v9 = dword_10076640[v6];
          result = (*(_DWORD *)(v3 + 188) - dword_10076624[v6] + v9 - 1) / v9;
          v8 = *(_DWORD *)(v3 + 208) == 0;
          *(_DWORD *)(v3 + 192) = (*(_DWORD *)(v3 + 188) - dword_10076624[v6] + v9 - 1) / v9;
          if ( v8 )
            continue;
        }
        if ( v5 < 7u )
          return result;
        break;
      }
    }
    if ( !(*(_BYTE *)(v3 + 92) & 0x20) )
    {
      *(_DWORD *)(v3 + 112) = &a3;
      *(_DWORD *)(v3 + 116) = 1;
      while ( 1 )
      {
        if ( !*(_DWORD *)(v3 + 104) )
        {
          while ( !*(_DWORD *)(v3 + 252) )
          {
            sub_100617A9((int *)v3, 0);
            sub_1005D25D((int *)v3, (int)&v15, 4);
            *(_DWORD *)(v3 + 252) = sub_10060EA3((int)&v15);
            sub_1005D3AF(v3);
            sub_10060ED9((int *)v3, v3 + 268, 4u);
            if ( *(_DWORD *)(v3 + 268) != *(_DWORD *)"IDAT" )
              sub_1005A502((int *)v3, (int)"Not enough image data");
          }
          v10 = *(_DWORD *)(v3 + 160);
          v11 = *(_DWORD *)(v3 + 252);
          v12 = *(_DWORD *)(v3 + 156);
          *(_DWORD *)(v3 + 104) = v10;
          *(_DWORD *)(v3 + 100) = v12;
          if ( v10 > v11 )
            *(_DWORD *)(v3 + 104) = v11;
          sub_10060ED9((int *)v3, v12, *(_DWORD *)(v3 + 104));
          *(_DWORD *)(v3 + 252) -= *(_DWORD *)(v3 + 104);
        }
        v13 = sub_10060901(v3 + 100, 1);
        if ( v13 == 1 )
          break;
        if ( v13 )
        {
          v14 = *(_DWORD *)(v3 + 124);
          if ( !v14 )
            v14 = (int)"Decompression Error";
          sub_1005A502((int *)v3, v14);
        }
        if ( !*(_DWORD *)(v3 + 116) )
          sub_1005A502((int *)v3, (int)"Extra compressed data");
      }
      if ( !*(_DWORD *)(v3 + 116) || *(_DWORD *)(v3 + 104) || *(_DWORD *)(v3 + 252) )
        sub_1005A502((int *)v3, (int)"Extra compressed data");
      *(_DWORD *)(v3 + 88) |= 8u;
      *(_DWORD *)(v3 + 92) |= 0x20u;
      *(_DWORD *)(v3 + 116) = 0;
    }
    if ( *(_DWORD *)(v3 + 252) || *(_DWORD *)(v3 + 104) )
      sub_1005A502((int *)v3, (int)"Extra compression data");
    result = sub_10060788(v3 + 100);
    *(_DWORD *)(v3 + 88) |= 8u;
  }
  return result;
}
// 100765EC: using guessed type int dword_100765EC[];
// 10076608: using guessed type int dword_10076608[];
// 10076624: using guessed type int dword_10076624[];
// 10076640: using guessed type int dword_10076640[];

//----- (100621C4) --------------------------------------------------------
signed int __cdecl sub_100621C4(int a1, int a2, unsigned int a3)
{
  int v3; // edx@1
  signed int result; // eax@2
  int v5; // esi@3
  unsigned int v6; // eax@4
  int v7; // esi@5
  int v8; // edx@5
  int v9; // edi@5
  int v10; // esi@5
  int v11; // edi@5
  int v12; // esi@5
  int v13; // edi@5
  int v14; // esi@5

  v3 = a2;
  if ( a2 )
  {
    v5 = ~a1;
    if ( a3 >= 8 )
    {
      v6 = a3 >> 3;
      do
      {
        a3 -= 8;
        v7 = ((unsigned int)v5 >> 8) ^ dword_10076AF0[(v5 ^ *(_BYTE *)v3) & 0xFF];
        v8 = v3 + 1;
        v9 = ((unsigned int)v7 >> 8) ^ dword_10076AF0[(v7 ^ *(_BYTE *)v8++) & 0xFF];
        v10 = ((unsigned int)v9 >> 8) ^ dword_10076AF0[(v9 ^ *(_BYTE *)v8++) & 0xFF];
        v11 = ((unsigned int)v10 >> 8) ^ dword_10076AF0[(v10 ^ *(_BYTE *)v8++) & 0xFF];
        v12 = ((unsigned int)v11 >> 8) ^ dword_10076AF0[(v11 ^ *(_BYTE *)v8++) & 0xFF];
        v13 = ((unsigned int)v12 >> 8) ^ dword_10076AF0[(v12 ^ *(_BYTE *)v8++) & 0xFF];
        v14 = ((unsigned int)v13 >> 8) ^ dword_10076AF0[(v13 ^ *(_BYTE *)v8++) & 0xFF];
        v5 = dword_10076AF0[(v14 ^ *(_BYTE *)v8) & 0xFF] ^ ((unsigned int)v14 >> 8);
        v3 = v8 + 1;
        --v6;
      }
      while ( v6 );
    }
    for ( ; a3; --a3 )
      v5 = dword_10076AF0[(v5 ^ *(_BYTE *)v3++) & 0xFF] ^ ((unsigned int)v5 >> 8);
    result = ~v5;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10076AF0: using guessed type int dword_10076AF0[];

//----- (100622CD) --------------------------------------------------------
void *__cdecl sub_100622CD(int a1, size_t Size)
{
  return malloc(Size);
}

//----- (100622D8) --------------------------------------------------------
void __cdecl sub_100622D8(int a1, void *Memory)
{
  free(Memory);
}

//----- (100622E3) --------------------------------------------------------
void *__cdecl sub_100622E3(int a1, size_t Size)
{
  return malloc(Size);
}

//----- (100622EE) --------------------------------------------------------
void __cdecl sub_100622EE(int a1, void *Memory)
{
  free(Memory);
}

//----- (100622F9) --------------------------------------------------------
int __cdecl sub_100622F9(int a1, int a2, int a3)
{
  return a3;
}

//----- (100622FE) --------------------------------------------------------
int __cdecl sub_100622FE(int a1)
{
  *(_DWORD *)(*(_DWORD *)a1 + 20) = 48;
  return (**(int (__cdecl ***)(_DWORD))a1)(a1);
}

//----- (10062312) --------------------------------------------------------
int __cdecl sub_10062312()
{
  return 0;
}

//----- (10062316) --------------------------------------------------------
int __usercall sub_10062316<eax>(int a1<esi>)
{
  int v1; // ebx@1
  int v2; // edi@1
  int v3; // eax@1
  int result; // eax@1
  int v5; // ecx@2
  int v6; // eax@4
  int v7; // edi@4
  int v8; // eax@4
  int v9; // ecx@4
  int v10; // [sp+Ch] [bp-Ch]@2
  int i; // [sp+10h] [bp-8h]@2
  int v12; // [sp+14h] [bp-4h]@1

  v1 = *(_DWORD *)(a1 + 384);
  v2 = *(_DWORD *)(a1 + 276);
  v3 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 8 * *(_DWORD *)(a1 + 32));
  v12 = 0;
  *(_DWORD *)(v1 + 56) = v3;
  *(_DWORD *)(v1 + 60) = v3 + 4 * *(_DWORD *)(a1 + 32);
  result = *(_DWORD *)(a1 + 196);
  if ( *(_DWORD *)(a1 + 32) > 0 )
  {
    v5 = result + 12;
    v10 = v2 + 4;
    for ( i = result + 12; ; v5 = i )
    {
      v6 = *(_DWORD *)v5 * *(_DWORD *)(v5 + 24) / *(_DWORD *)(a1 + 276);
      v7 = v6 * v10;
      i += 84;
      v8 = (**(int (__fastcall ***)(_DWORD, _DWORD))(a1 + 4))(
             8 * v6 * v10,
             *(_DWORD *)v5 * *(_DWORD *)(v5 + 24) % *(_DWORD *)(a1 + 276))
         + 4 * *(_DWORD *)v5 * *(_DWORD *)(v5 + 24) / *(_DWORD *)(a1 + 276);
      v9 = 4 * v12;
      *(_DWORD *)(4 * v12++ + *(_DWORD *)(v1 + 56)) = v8;
      *(_DWORD *)(v9 + *(_DWORD *)(v1 + 60)) = v8 + 4 * v7;
      result = v12;
      if ( v12 >= *(_DWORD *)(a1 + 32) )
        break;
    }
  }
  return result;
}

//----- (100623BE) --------------------------------------------------------
int __usercall sub_100623BE<eax>(int a1<edi>)
{
  int v1; // ebx@1
  int result; // eax@1
  int v3; // ecx@2
  int v4; // eax@4
  int v5; // edx@4
  int v6; // esi@4
  int v7; // ecx@4
  int v8; // eax@5
  int v9; // ecx@6
  int v10; // ST08_4@9
  int v11; // ecx@9
  int v12; // edx@10
  int v13; // esi@10
  bool v14; // zf@10
  int v15; // ecx@12
  int v16; // [sp+8h] [bp-28h]@1
  int v17; // [sp+Ch] [bp-24h]@4
  int v18; // [sp+10h] [bp-20h]@4
  int v19; // [sp+10h] [bp-20h]@9
  int v20; // [sp+14h] [bp-1Ch]@1
  int v21; // [sp+18h] [bp-18h]@2
  int v22; // [sp+1Ch] [bp-14h]@2
  int v23; // [sp+20h] [bp-10h]@5
  int v24; // [sp+20h] [bp-10h]@9
  int v25; // [sp+24h] [bp-Ch]@1
  int v26; // [sp+28h] [bp-8h]@9
  int v27; // [sp+2Ch] [bp-4h]@9

  v25 = 0;
  v1 = *(_DWORD *)(a1 + 384);
  v20 = *(_DWORD *)(a1 + 276);
  result = *(_DWORD *)(a1 + 196);
  v16 = *(_DWORD *)(a1 + 384);
  if ( *(_DWORD *)(a1 + 32) > 0 )
  {
    v3 = result + 12;
    v21 = result + 12;
    v22 = v1 + 8;
    while ( 1 )
    {
      v4 = *(_DWORD *)v3 * *(_DWORD *)(v3 + 24) / *(_DWORD *)(a1 + 276);
      v17 = *(_DWORD *)(4 * v25 + *(_DWORD *)(v1 + 56));
      v5 = *(_DWORD *)(4 * v25 + *(_DWORD *)(v1 + 60));
      v6 = *(_DWORD *)v22;
      v7 = v4 * (v20 + 2);
      v18 = v4;
      if ( v7 > 0 )
      {
        v8 = *(_DWORD *)(4 * v25 + *(_DWORD *)(v1 + 60));
        v23 = v7;
        do
        {
          v9 = *(_DWORD *)(v6 - v5 + v8);
          *(_DWORD *)v8 = v9;
          *(_DWORD *)(v17 - v5 + v8) = v9;
          v8 += 4;
          --v23;
        }
        while ( v23 );
        v1 = v16;
        v4 = v18;
      }
      if ( 2 * v4 > 0 )
      {
        v26 = v5 + 4 * v20 * v4;
        v4 = v18;
        v10 = v6 + 4 * v18 * (v20 - 2);
        v27 = v6 - v5;
        v24 = v5 - v6;
        v19 = 2 * v18;
        v11 = v10;
        do
        {
          *(_DWORD *)(v24 + v11) = *(_DWORD *)(v26 + v27);
          v12 = *(_DWORD *)v11;
          v13 = v26;
          v26 += 4;
          v11 += 4;
          v14 = v19-- == 1;
          *(_DWORD *)v13 = v12;
        }
        while ( !v14 );
      }
      if ( v4 > 0 )
      {
        v15 = v17 - 4 * v4;
        do
        {
          *(_DWORD *)v15 = *(_DWORD *)v17;
          v15 += 4;
          --v4;
        }
        while ( v4 );
      }
      ++v25;
      result = v25;
      v22 += 4;
      v21 += 84;
      if ( v25 >= *(_DWORD *)(a1 + 32) )
        break;
      v3 = v21;
    }
  }
  return result;
}

//----- (100624EF) --------------------------------------------------------
int __usercall sub_100624EF<eax>(int a1<edi>)
{
  int v1; // ecx@1
  int result; // eax@1
  int v3; // esi@1
  int v4; // ebx@2
  int v5; // edx@3
  int v6; // ebx@4
  int v7; // ecx@4
  int v8; // eax@4
  int v9; // esi@4
  int v10; // edx@5
  int v11; // [sp+4h] [bp-1Ch]@1
  int v12; // [sp+8h] [bp-18h]@1
  int v13; // [sp+Ch] [bp-14h]@3
  int v14; // [sp+10h] [bp-10h]@2
  int v15; // [sp+14h] [bp-Ch]@3
  int v16; // [sp+18h] [bp-8h]@1
  int v17; // [sp+1Ch] [bp-4h]@4

  v1 = *(_DWORD *)(a1 + 384);
  v16 = 0;
  result = *(_DWORD *)(a1 + 196);
  v3 = *(_DWORD *)(a1 + 276);
  v11 = *(_DWORD *)(a1 + 384);
  v12 = *(_DWORD *)(a1 + 276);
  if ( *(_DWORD *)(a1 + 32) > 0 )
  {
    v4 = result + 12;
    v14 = result + 12;
    do
    {
      v15 = *(_DWORD *)v4 * *(_DWORD *)(v4 + 24) / *(_DWORD *)(a1 + 276);
      v13 = *(_DWORD *)(4 * v16 + *(_DWORD *)(v1 + 56));
      v5 = *(_DWORD *)(4 * v16 + *(_DWORD *)(v1 + 60));
      if ( v15 > 0 )
      {
        v6 = v5 + 4 * v15 * (v3 + 2);
        v7 = v5 - 4 * v15;
        v8 = v5 + 4 * v15 * (v3 + 1);
        v17 = v5;
        v9 = v13 - v5;
        do
        {
          *(_DWORD *)(v9 + v7) = *(_DWORD *)(v9 + v8);
          *(_DWORD *)v7 = *(_DWORD *)v8;
          *(_DWORD *)(v9 + v6) = *(_DWORD *)(v9 + v17);
          v10 = *(_DWORD *)v17;
          v17 += 4;
          *(_DWORD *)v6 = v10;
          v8 += 4;
          v7 += 4;
          v6 += 4;
          --v15;
        }
        while ( v15 );
        v3 = v12;
        v1 = v11;
        v4 = v14;
      }
      ++v16;
      result = v16;
      v4 += 84;
      v14 = v4;
    }
    while ( v16 < *(_DWORD *)(a1 + 32) );
  }
  return result;
}

//----- (100625C3) --------------------------------------------------------
int __usercall sub_100625C3<eax>(int a1<esi>)
{
  int result; // eax@1
  int v2; // ebx@1
  int v3; // edi@2
  int v4; // eax@8
  int v5; // edx@8
  int v6; // [sp+4h] [bp-Ch]@3
  int v7; // [sp+4h] [bp-Ch]@8
  unsigned int v8; // [sp+8h] [bp-8h]@3
  int v9; // [sp+Ch] [bp-4h]@1

  v9 = 0;
  result = *(_DWORD *)(a1 + 196);
  v2 = *(_DWORD *)(a1 + 384);
  if ( *(_DWORD *)(a1 + 32) > 0 )
  {
    v3 = result + 12;
    do
    {
      v6 = *(_DWORD *)v3 * *(_DWORD *)(v3 + 24) / *(_DWORD *)(a1 + 276);
      v8 = *(_DWORD *)(v3 + 32) % (unsigned int)(*(_DWORD *)v3 * *(_DWORD *)(v3 + 24));
      if ( !v8 )
        v8 = *(_DWORD *)v3 * *(_DWORD *)(v3 + 24);
      if ( !v9 )
        *(_DWORD *)(v2 + 72) = (signed int)(v8 - 1) / v6 + 1;
      if ( 2 * v6 > 0 )
      {
        v4 = *(_DWORD *)(*(_DWORD *)(v2 + 4 * *(_DWORD *)(v2 + 64) + 56) + 4 * v9) + 4 * v8;
        v5 = *(_DWORD *)(*(_DWORD *)(v2 + 4 * *(_DWORD *)(v2 + 64) + 56) + 4 * v9) + 4 * v8;
        v7 = 2 * v6;
        do
        {
          *(_DWORD *)v5 = *(_DWORD *)(v4 - 4);
          v5 += 4;
          --v7;
        }
        while ( v7 );
      }
      ++v9;
      result = v9;
      v3 += 84;
    }
    while ( v9 < *(_DWORD *)(a1 + 32) );
  }
  return result;
}

//----- (10062659) --------------------------------------------------------
int __cdecl sub_10062659(int a1, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // esi@1
  int result; // eax@2
  int v7; // [sp+10h] [bp+8h]@4

  v4 = a1;
  v5 = *(_DWORD *)(a1 + 384);
  if ( !*(_BYTE *)(v5 + 48) )
  {
    result = (*(int (__cdecl **)(int, int))(*(_DWORD *)(a1 + 388) + 12))(a1, v5 + 8);
    if ( !result )
      return result;
    *(_BYTE *)(v5 + 48) = 1;
  }
  v7 = *(_DWORD *)(a1 + 276);
  (*(void (__cdecl **)(int, int, int, _DWORD, int, int, int))(*(_DWORD *)(v4 + 392) + 4))(
    v4,
    v5 + 8,
    v5 + 52,
    *(_DWORD *)(v4 + 276),
    a2,
    a3,
    a4);
  result = v7;
  if ( *(_DWORD *)(v5 + 52) >= (unsigned int)v7 )
  {
    *(_BYTE *)(v5 + 48) = 0;
    *(_DWORD *)(v5 + 52) = 0;
  }
  return result;
}

//----- (100626C1) --------------------------------------------------------
int __cdecl sub_100626C1(int a1, int a2, int a3, int a4)
{
  int v4; // ebx@1
  int result; // eax@2
  int v6; // eax@4
  int v7; // eax@5

  v4 = *(_DWORD *)(a1 + 384);
  if ( !*(_BYTE *)(v4 + 48) )
  {
    result = (*(int (__cdecl **)(int, _DWORD))(*(_DWORD *)(a1 + 388) + 12))(
               a1,
               *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56));
    if ( !result )
      return result;
    ++*(_DWORD *)(v4 + 76);
    *(_BYTE *)(v4 + 48) = 1;
  }
  v6 = *(_DWORD *)(v4 + 68);
  if ( !v6 )
  {
LABEL_9:
    *(_DWORD *)(v4 + 52) = 0;
    *(_DWORD *)(v4 + 72) = *(_DWORD *)(a1 + 276) - 1;
    if ( *(_DWORD *)(v4 + 76) == *(_DWORD *)(a1 + 280) )
      sub_100625C3(a1);
    *(_DWORD *)(v4 + 68) = 1;
    goto LABEL_12;
  }
  v7 = v6 - 1;
  if ( v7 )
  {
    result = v7 - 1;
    if ( result
      || ((*(void (__cdecl **)(int, _DWORD, int, _DWORD, int, int, int))(*(_DWORD *)(a1 + 392) + 4))(
            a1,
            *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56),
            v4 + 52,
            *(_DWORD *)(v4 + 72),
            a2,
            a3,
            a4),
          result = *(_DWORD *)(v4 + 52),
          *(_DWORD *)(v4 + 52) < *(_DWORD *)(v4 + 72))
      || (result = a4, *(_DWORD *)(v4 + 68) = 0, *(_DWORD *)a3 >= (unsigned int)a4) )
      return result;
    goto LABEL_9;
  }
LABEL_12:
  (*(void (__cdecl **)(int, _DWORD, int, _DWORD, int, int, int))(*(_DWORD *)(a1 + 392) + 4))(
    a1,
    *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56),
    v4 + 52,
    *(_DWORD *)(v4 + 72),
    a2,
    a3,
    a4);
  result = *(_DWORD *)(v4 + 52);
  if ( *(_DWORD *)(v4 + 52) >= *(_DWORD *)(v4 + 72) )
  {
    if ( *(_DWORD *)(v4 + 76) == 1 )
      sub_100624EF(a1);
    *(_DWORD *)(v4 + 64) ^= 1u;
    *(_BYTE *)(v4 + 48) = 0;
    *(_DWORD *)(v4 + 52) = *(_DWORD *)(a1 + 276) + 1;
    result = 2;
    *(_DWORD *)(v4 + 72) = *(_DWORD *)(a1 + 276) + 2;
    *(_DWORD *)(v4 + 68) = 2;
  }
  return result;
}

//----- (100627C9) --------------------------------------------------------
int __cdecl sub_100627C9(int a1, int a2, int a3, int a4)
{
  return (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, int, int, int))(*(_DWORD *)(a1 + 392) + 4))(
           a1,
           0,
           0,
           0,
           a2,
           a3,
           a4);
}

//----- (10062854) --------------------------------------------------------
int __cdecl sub_10062854(int a1, char a2)
{
  int v2; // esi@1
  int v3; // ebx@1
  int result; // eax@6
  int v5; // ecx@6
  int v6; // edi@9
  int v7; // ebx@9
  int v8; // [sp+14h] [bp+8h]@8
  int v9; // [sp+18h] [bp+Ch]@6

  v2 = a1;
  v3 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 80);
  *(_DWORD *)(a1 + 384) = v3;
  *(_DWORD *)v3 = sub_100627EC;
  if ( a2 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 4;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  if ( *(_BYTE *)(*(_DWORD *)(a1 + 412) + 8) )
  {
    if ( *(_DWORD *)(a1 + 276) < 2 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 46;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    result = sub_10062316(a1);
    v5 = *(_DWORD *)(a1 + 276) + 2;
    v9 = *(_DWORD *)(a1 + 276) + 2;
  }
  else
  {
    result = *(_DWORD *)(a1 + 276);
    v9 = *(_DWORD *)(a1 + 276);
    v5 = *(_DWORD *)(a1 + 276);
  }
  v8 = 0;
  if ( *(_DWORD *)(v2 + 32) > 0 )
  {
    v6 = *(_DWORD *)(v2 + 196) + 36;
    v7 = v3 + 8;
    while ( 1 )
    {
      ++v8;
      *(_DWORD *)v7 = (*(int (__cdecl **)(int, signed int, int, int))(*(_DWORD *)(v2 + 4) + 8))(
                        v2,
                        1,
                        *(_DWORD *)v6 * *(_DWORD *)(v6 - 8),
                        v5 * *(_DWORD *)v6 * *(_DWORD *)(v6 - 24) / *(_DWORD *)(v2 + 276));
      result = v8;
      v7 += 4;
      v6 += 84;
      if ( v8 >= *(_DWORD *)(v2 + 32) )
        break;
      v5 = v9;
    }
  }
  return result;
}
// 100627EC: using guessed type int sub_100627EC();

//----- (10062927) --------------------------------------------------------
int __thiscall sub_10062927(int this)
{
  int result; // eax@1
  bool v2; // cf@3
  int v3; // ecx@3
  int v4; // ecx@4

  result = *(_DWORD *)(this + 388);
  if ( *(_DWORD *)(this + 288) <= 1 )
  {
    v2 = *(_DWORD *)(this + 128) < (unsigned int)(*(_DWORD *)(this + 280) - 1);
    v3 = *(_DWORD *)(this + 292);
    if ( v2 )
      v4 = *(_DWORD *)(v3 + 12);
    else
      v4 = *(_DWORD *)(v3 + 72);
    *(_DWORD *)(result + 28) = v4;
  }
  else
  {
    *(_DWORD *)(result + 28) = 1;
  }
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  return result;
}

//----- (10062966) --------------------------------------------------------
int __cdecl sub_10062966(int a1)
{
  *(_DWORD *)(a1 + 128) = 0;
  return sub_10062927(a1);
}

//----- (10062976) --------------------------------------------------------
signed int __cdecl sub_10062976(int a1, int a2)
{
  int v2; // edi@1
  int v3; // ebx@1
  int v4; // esi@1
  int v5; // eax@1
  int v6; // eax@4
  int v7; // esi@6
  int v8; // ecx@9
  int v9; // ebx@11
  signed int v11; // [sp-4h] [bp-48h]@27
  void (__cdecl *v12)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // [sp+Ch] [bp-38h]@8
  int v13; // [sp+10h] [bp-34h]@1
  int v14; // [sp+14h] [bp-30h]@1
  int v15; // [sp+18h] [bp-2Ch]@15
  int v16; // [sp+1Ch] [bp-28h]@11
  int v17; // [sp+20h] [bp-24h]@5
  int v18; // [sp+24h] [bp-20h]@1
  int i; // [sp+28h] [bp-1Ch]@11
  int v20; // [sp+2Ch] [bp-18h]@4
  int v21; // [sp+30h] [bp-14h]@15
  int v22; // [sp+34h] [bp-10h]@14
  int v23; // [sp+38h] [bp-Ch]@4
  int v24; // [sp+3Ch] [bp-8h]@11
  int v25; // [sp+40h] [bp-4h]@25
  unsigned int v26; // [sp+4Ch] [bp+8h]@2

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 388);
  v4 = *(_DWORD *)(a1 + 308) - 1;
  v13 = *(_DWORD *)(a1 + 280) - 1;
  v5 = *(_DWORD *)(v3 + 24);
  v18 = *(_DWORD *)(a1 + 388);
  v14 = *(_DWORD *)(a1 + 308) - 1;
  while ( 1 )
  {
    v25 = v5;
    if ( v5 >= *(_DWORD *)(v3 + 28) )
    {
      ++*(_DWORD *)(v2 + 136);
      ++*(_DWORD *)(v2 + 128);
      if ( *(_DWORD *)(v2 + 128) >= *(_DWORD *)(v2 + 280) )
      {
        (*(void (__cdecl **)(int))(*(_DWORD *)(v2 + 396) + 12))(v2);
        v11 = 4;
      }
      else
      {
        sub_10062927(v2);
        v11 = 3;
      }
      return v11;
    }
    v26 = *(_DWORD *)(v3 + 20);
    if ( *(_DWORD *)(v3 + 20) <= (unsigned int)v4 )
      break;
LABEL_24:
    *(_DWORD *)(v3 + 20) = 0;
    ++v5;
  }
  while ( 1 )
  {
    sub_1005F127(*(void **)(v3 + 32), *(_DWORD *)(v2 + 316) << 7);
    if ( !(unsigned __int8)(*(int (__cdecl **)(int, int))(*(_DWORD *)(v2 + 404) + 4))(v2, v3 + 32) )
      break;
    v6 = 0;
    v20 = 0;
    v23 = 0;
    if ( *(_DWORD *)(v2 + 288) > 0 )
    {
      v17 = v2 + 292;
      do
      {
        v7 = *(_DWORD *)v17;
        if ( *(_BYTE *)(*(_DWORD *)v17 + 48) )
        {
          v12 = *(void (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)(v2 + 408)
                                                                           + 4 * *(_DWORD *)(v7 + 4)
                                                                           + 4);
          if ( v26 >= v14 )
            v8 = *(_DWORD *)(v7 + 68);
          else
            v8 = *(_DWORD *)(v7 + 52);
          v9 = v26 * *(_DWORD *)(v7 + 64);
          v24 = 0;
          v16 = v8;
          for ( i = *(_DWORD *)(a2 + 4 * v23) + 4 * v25 * *(_DWORD *)(v7 + 36); v24 < *(_DWORD *)(v7 + 56); v20 = v6 )
          {
            if ( *(_DWORD *)(v2 + 128) < (unsigned int)v13 || v25 + v24 < *(_DWORD *)(v7 + 72) )
            {
              v22 = v9;
              if ( v16 > 0 )
              {
                v21 = v18 + 4 * v6 + 32;
                v15 = v16;
                do
                {
                  v12(v2, v7, *(_DWORD *)v21, i, v22);
                  v22 += *(_DWORD *)(v7 + 36);
                  v21 += 4;
                  --v15;
                }
                while ( v15 );
                v6 = v20;
              }
            }
            v6 += *(_DWORD *)(v7 + 52);
            ++v24;
            i += 4 * *(_DWORD *)(v7 + 36);
          }
          v3 = v18;
        }
        else
        {
          v6 += *(_DWORD *)(v7 + 60);
          v20 = v6;
        }
        ++v23;
        v17 += 4;
      }
      while ( v23 < *(_DWORD *)(v2 + 288) );
      v4 = v14;
    }
    ++v26;
    if ( v26 > v4 )
    {
      v5 = v25;
      goto LABEL_24;
    }
  }
  *(_DWORD *)(v3 + 24) = v25;
  *(_DWORD *)(v3 + 20) = v26;
  return 0;
}

//----- (10062B50) --------------------------------------------------------
int __cdecl sub_10062B50()
{
  return 0;
}

//----- (10062B53) --------------------------------------------------------
signed int __cdecl sub_10062B53(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@3
  int i; // eax@4
  int v5; // ebx@5
  bool v6; // cf@5
  bool v7; // zf@6
  bool v8; // sf@6
  int v9; // ecx@8
  int v10; // ebx@8
  int v11; // edx@10
  int j; // ebx@11
  unsigned __int8 v13; // of@21
  signed int v15; // [sp-4h] [bp-44h]@23
  int v16[4]; // [sp+Ch] [bp-34h]@3
  int v17; // [sp+1Ch] [bp-24h]@12
  int v18; // [sp+20h] [bp-20h]@9
  int v19; // [sp+24h] [bp-1Ch]@5
  int v20; // [sp+28h] [bp-18h]@7
  int v21; // [sp+2Ch] [bp-14h]@8
  int v22; // [sp+30h] [bp-10h]@9
  int v23; // [sp+34h] [bp-Ch]@10
  int v24; // [sp+38h] [bp-8h]@6
  int v25; // [sp+3Ch] [bp-4h]@2
  int v26; // [sp+48h] [bp+8h]@1
  int v27; // [sp+48h] [bp+8h]@6

  v1 = a1;
  v26 = 0;
  v2 = *(_DWORD *)(v1 + 388);
  if ( *(_DWORD *)(v1 + 288) > 0 )
  {
    v25 = v1 + 292;
    do
    {
      v3 = (*(int (__cdecl **)(int, _DWORD, int, _DWORD, signed int))(*(_DWORD *)(v1 + 4) + 32))(
             v1,
             *(_DWORD *)(v2 + 4 * *(_DWORD *)(*(_DWORD *)v25 + 4) + 72),
             *(_DWORD *)(*(_DWORD *)v25 + 12) * *(_DWORD *)(v1 + 128),
             *(_DWORD *)(*(_DWORD *)v25 + 12),
             1);
      v25 += 4;
      v16[v26++] = v3;
    }
    while ( v26 < *(_DWORD *)(v1 + 288) );
  }
  for ( i = *(_DWORD *)(v2 + 24); ; ++i )
  {
    v13 = __OFSUB__(i, *(_DWORD *)(v2 + 28));
    v8 = i - *(_DWORD *)(v2 + 28) < 0;
    v25 = i;
    if ( !(v8 ^ v13) )
    {
      ++*(_DWORD *)(v1 + 128);
      if ( *(_DWORD *)(v1 + 128) >= *(_DWORD *)(v1 + 280) )
      {
        (*(void (__cdecl **)(int))(*(_DWORD *)(v1 + 396) + 12))(v1);
        v15 = 4;
      }
      else
      {
        sub_10062927(v1);
        v15 = 3;
      }
      return v15;
    }
    v5 = *(_DWORD *)(v2 + 20);
    v6 = (unsigned int)v5 < *(_DWORD *)(v1 + 308);
    v19 = *(_DWORD *)(v2 + 20);
    if ( v6 )
      break;
LABEL_20:
    *(_DWORD *)(v2 + 20) = 0;
  }
  while ( 1 )
  {
    v7 = *(_DWORD *)(v1 + 288) == 0;
    v8 = *(_DWORD *)(v1 + 288) < 0;
    v24 = 0;
    v27 = 0;
    if ( !(v8 | v7) )
    {
      v20 = v1 + 292;
      do
      {
        v9 = *(_DWORD *)v20;
        v10 = *(_DWORD *)(*(_DWORD *)v20 + 52);
        v21 = 0;
        if ( *(_DWORD *)(v9 + 56) > 0 )
        {
          v18 = v19 * v10 << 7;
          v22 = v16[v27] + 4 * v25;
          do
          {
            v11 = v18 + *(_DWORD *)v22;
            v23 = 0;
            if ( v10 > 0 )
            {
              for ( j = v2 + 4 * v24 + 32; ; j = v17 )
              {
                ++v24;
                *(_DWORD *)j = v11;
                v11 += 128;
                ++v23;
                v17 = j + 4;
                v10 = *(_DWORD *)(v9 + 52);
                if ( v23 >= v10 )
                  break;
              }
            }
            ++v21;
            v22 += 4;
          }
          while ( v21 < *(_DWORD *)(v9 + 56) );
        }
        ++v27;
        v20 += 4;
      }
      while ( v27 < *(_DWORD *)(v1 + 288) );
      v5 = v19;
    }
    if ( !(unsigned __int8)(*(int (__cdecl **)(int, int))(*(_DWORD *)(v1 + 404) + 4))(v1, v2 + 32) )
      break;
    ++v5;
    v6 = (unsigned int)v5 < *(_DWORD *)(v1 + 308);
    v19 = v5;
    if ( !v6 )
    {
      i = v25;
      goto LABEL_20;
    }
  }
  *(_DWORD *)(v2 + 24) = v25;
  *(_DWORD *)(v2 + 20) = v5;
  return 0;
}
// 10062B53: using guessed type int var_34[4];

//----- (10062CF2) --------------------------------------------------------
int __cdecl sub_10062CF2(int a1, int a2)
{
  int v2; // esi@1
  int v3; // ebx@1
  int v4; // eax@2
  int v5; // ecx@2
  int result; // eax@5
  int v7; // edi@7
  int v8; // ecx@14
  unsigned int v9; // eax@15
  int v10; // ebx@16
  int v11; // [sp+8h] [bp-24h]@1
  void (__cdecl *v12)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // [sp+Ch] [bp-20h]@14
  int v13; // [sp+10h] [bp-1Ch]@10
  int v14; // [sp+14h] [bp-18h]@14
  int v15; // [sp+18h] [bp-14h]@8
  int v16; // [sp+1Ch] [bp-10h]@14
  unsigned int v17; // [sp+20h] [bp-Ch]@16
  int v18; // [sp+24h] [bp-8h]@16
  int v19; // [sp+28h] [bp-4h]@7
  int v20; // [sp+34h] [bp+8h]@1
  int v21; // [sp+34h] [bp+8h]@11

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 280) - 1;
  v20 = *(_DWORD *)(a1 + 388);
  v11 = v3;
  while ( 1 )
  {
    v4 = *(_DWORD *)(v2 + 124);
    v5 = *(_DWORD *)(v2 + 132);
    if ( v4 >= v5 )
    {
      if ( v4 != v5 || *(_DWORD *)(v2 + 128) > *(_DWORD *)(v2 + 136) )
        break;
    }
    result = (**(int (__cdecl ***)(_DWORD))(v2 + 396))(v2);
    if ( !result )
      return result;
  }
  v19 = 0;
  v7 = *(_DWORD *)(v2 + 196);
  if ( *(_DWORD *)(v2 + 32) > 0 )
  {
    v15 = v20 + 72;
    do
    {
      if ( *(_BYTE *)(v7 + 48) )
      {
        v13 = (*(int (__cdecl **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)(v2 + 4) + 32))(
                v2,
                *(_DWORD *)v15,
                *(_DWORD *)(v7 + 12) * *(_DWORD *)(v2 + 136),
                *(_DWORD *)(v7 + 12),
                0);
        if ( *(_DWORD *)(v2 + 136) >= (unsigned int)v3 )
        {
          v21 = *(_DWORD *)(v7 + 32) % *(_DWORD *)(v7 + 12);
          if ( !v21 )
            v21 = *(_DWORD *)(v7 + 12);
        }
        else
        {
          v21 = *(_DWORD *)(v7 + 12);
        }
        v12 = *(void (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)(v2 + 408) + 4 * v19 + 4);
        v8 = 0;
        v16 = *(_DWORD *)(4 * v19 + a2);
        v14 = 0;
        if ( v21 > 0 )
        {
          v9 = *(_DWORD *)(v7 + 28);
          do
          {
            v10 = 0;
            v17 = 0;
            v18 = *(_DWORD *)(v13 + 4 * v8);
            if ( v9 )
            {
              do
              {
                v12(v2, v7, v18, v16, v10);
                v18 += 128;
                v10 += *(_DWORD *)(v7 + 36);
                v9 = *(_DWORD *)(v7 + 28);
                ++v17;
              }
              while ( v17 < v9 );
            }
            v16 += 4 * *(_DWORD *)(v7 + 36);
            v8 = v14++ + 1;
          }
          while ( v14 < v21 );
          v3 = v11;
        }
      }
      ++v19;
      v15 += 4;
      v7 += 84;
    }
    while ( v19 < *(_DWORD *)(v2 + 32) );
  }
  ++*(_DWORD *)(v2 + 136);
  return 4 - (*(_DWORD *)(v2 + 136) < *(_DWORD *)(v2 + 280));
}

//----- (10062E58) --------------------------------------------------------
char __usercall sub_10062E58<al>(int a1<esi>)
{
  int v1; // edi@1
  int v2; // eax@6
  int v3; // eax@7
  int v4; // eax@14
  int v5; // ecx@15
  int v6; // edx@15
  signed int v7; // eax@15
  int v9; // [sp+8h] [bp-14h]@6
  int v10; // [sp+Ch] [bp-10h]@5
  int v11; // [sp+10h] [bp-Ch]@6
  int v12; // [sp+14h] [bp-8h]@5
  char v13; // [sp+1Bh] [bp-1h]@1

  v1 = *(_DWORD *)(a1 + 388);
  v13 = 0;
  if ( *(_BYTE *)(a1 + 200) && *(_DWORD *)(a1 + 140) )
  {
    if ( !*(_DWORD *)(v1 + 112) )
      *(_DWORD *)(v1 + 112) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 24 * *(_DWORD *)(a1 + 32));
    v12 = *(_DWORD *)(v1 + 112);
    v10 = 0;
    if ( *(_DWORD *)(a1 + 32) <= 0 )
      return v13;
    v2 = *(_DWORD *)(a1 + 196) + 76;
    v11 = 0;
    v9 = *(_DWORD *)(a1 + 196) + 76;
    while ( 1 )
    {
      v3 = *(_DWORD *)v2;
      if ( !v3 )
        break;
      if ( !*(_WORD *)v3 )
        break;
      if ( !*(_WORD *)(v3 + 2) )
        break;
      if ( !*(_WORD *)(v3 + 16) )
        break;
      if ( !*(_WORD *)(v3 + 32) )
        break;
      if ( !*(_WORD *)(v3 + 18) )
        break;
      if ( !*(_WORD *)(v3 + 4) )
        break;
      v4 = v11 + *(_DWORD *)(a1 + 140);
      if ( *(_DWORD *)v4 < 0 )
        break;
      v5 = v4 + 4;
      v6 = v12 - v4;
      v7 = 5;
      do
      {
        *(_DWORD *)(v6 + v5) = *(_DWORD *)v5;
        if ( *(_DWORD *)v5 )
          v13 = 1;
        v5 += 4;
        --v7;
      }
      while ( v7 );
      v12 += 24;
      ++v10;
      v11 += 256;
      v2 = v9 + 84;
      v9 += 84;
      if ( v10 >= *(_DWORD *)(a1 + 32) )
        return v13;
    }
  }
  return 0;
}

//----- (10062F3B) --------------------------------------------------------
int __cdecl sub_10062F3B(int a1, int a2)
{
  int v2; // edi@1
  int v3; // eax@2
  bool v4; // zf@7
  bool v5; // sf@7
  int v6; // esi@7
  unsigned int v7; // ebx@10
  unsigned int v8; // ecx@10
  int v9; // eax@11
  int v11; // eax@17
  int v12; // eax@19
  int v13; // eax@19
  int v14; // ecx@19
  int v15; // eax@19
  signed int v16; // ebx@20
  int v17; // edx@21
  int v18; // ecx@21
  int v19; // eax@25
  int v20; // edx@27
  signed int v21; // ecx@32
  int v22; // eax@32
  int v23; // edx@32
  int v24; // eax@33
  int v25; // ecx@33
  int v26; // eax@36
  int v27; // ecx@36
  int v28; // ecx@41
  signed int v29; // ebx@43
  int v30; // eax@43
  int v31; // edx@43
  int v32; // eax@44
  int v33; // eax@47
  int v34; // edx@54
  signed int v35; // ecx@54
  int v36; // eax@54
  int v37; // eax@55
  int v38; // ecx@55
  int v39; // eax@58
  int v40; // ecx@58
  int v41; // edx@65
  signed int v42; // ecx@65
  int v43; // eax@65
  int v44; // eax@66
  int v45; // ecx@66
  int v46; // eax@69
  int v47; // ecx@69
  int v48; // edx@76
  signed int v49; // ecx@76
  int v50; // eax@76
  int v51; // eax@77
  int v52; // ecx@77
  int v53; // eax@80
  int v54; // ecx@80
  int v55; // eax@86
  char v56; // [sp+8h] [bp-98h]@28
  __int16 v57; // [sp+Ah] [bp-96h]@31
  __int16 v58; // [sp+Ch] [bp-94h]@75
  __int16 v59; // [sp+18h] [bp-88h]@42
  __int16 v60; // [sp+1Ah] [bp-86h]@64
  __int16 v61; // [sp+28h] [bp-78h]@53
  void (__cdecl *v62)(int, int, char *, int, int); // [sp+88h] [bp-18h]@19
  unsigned int v63; // [sp+8Ch] [bp-14h]@1
  int v64; // [sp+90h] [bp-10h]@27
  int v65; // [sp+94h] [bp-Ch]@27
  int v66; // [sp+98h] [bp-8h]@19
  unsigned int v67; // [sp+9Ch] [bp-4h]@27
  int v68; // [sp+A0h] [bp+0h]@1
  int v69; // [sp+A4h] [bp+4h]@8
  int v70; // [sp+A8h] [bp+8h]@8
  int v71; // [sp+ACh] [bp+Ch]@19
  int v72; // [sp+B0h] [bp+10h]@27
  int v73; // [sp+B4h] [bp+14h]@27
  int v74; // [sp+B8h] [bp+18h]@27
  int v75; // [sp+BCh] [bp+1Ch]@27
  int v76; // [sp+C0h] [bp+20h]@7
  int v77; // [sp+C4h] [bp+24h]@19
  unsigned int v78; // [sp+C8h] [bp+28h]@27
  int v79; // [sp+CCh] [bp+2Ch]@19
  int v80; // [sp+D0h] [bp+30h]@19
  int v81; // [sp+D4h] [bp+34h]@27
  int v82; // [sp+D8h] [bp+38h]@27
  int v83; // [sp+DCh] [bp+3Ch]@19
  int v84; // [sp+E0h] [bp+40h]@27
  int v85; // [sp+E4h] [bp+44h]@19
  int v86; // [sp+E8h] [bp+48h]@27
  int v87; // [sp+ECh] [bp+4Ch]@27
  int v88; // [sp+F0h] [bp+50h]@8
  int v89; // [sp+F4h] [bp+54h]@19
  int v90; // [sp+F8h] [bp+58h]@19
  int v91; // [sp+FCh] [bp+5Ch]@27
  int v92; // [sp+100h] [bp+60h]@11
  int v93; // [sp+104h] [bp+64h]@21
  char v94; // [sp+10Bh] [bp+6Bh]@11
  int v95; // [sp+10Ch] [bp+6Ch]@19
  char v96; // [sp+11Bh] [bp+7Bh]@17

  v2 = a1;
  v68 = *(_DWORD *)(a1 + 388);
  v63 = *(_DWORD *)(a1 + 280) - 1;
  while ( *(_DWORD *)(a1 + 124) <= *(_DWORD *)(a1 + 132) )
  {
    v3 = *(_DWORD *)(a1 + 396);
    if ( *(_BYTE *)(v3 + 17) )
      break;
    if ( *(_DWORD *)(a1 + 124) == *(_DWORD *)(a1 + 132)
      && *(_DWORD *)(a1 + 128) > *(_DWORD *)(a1 + 136) + (unsigned int)(*(_DWORD *)(a1 + 360) == 0) )
      break;
    if ( !(*(int (__cdecl **)(int))v3)(a1) )
      return 0;
  }
  v4 = *(_DWORD *)(a1 + 32) == 0;
  v5 = *(_DWORD *)(a1 + 32) < 0;
  v6 = *(_DWORD *)(a1 + 196);
  v76 = 0;
  if ( !(v5 | v4) )
  {
    v69 = 0;
    v70 = -72 - v68;
    v88 = v68 + 72;
    do
    {
      if ( *(_BYTE *)(v6 + 48) )
      {
        v7 = *(_DWORD *)(v2 + 136);
        v8 = *(_DWORD *)(v6 + 12);
        if ( v7 >= v63 )
        {
          v92 = *(_DWORD *)(v6 + 32) % v8;
          if ( !v92 )
            v92 = v8;
          v9 = v92;
          v94 = 1;
        }
        else
        {
          v92 = *(_DWORD *)(v6 + 12);
          v9 = 2 * v8;
          v94 = 0;
        }
        if ( v7 )
        {
          v96 = 0;
          v11 = (*(int (__cdecl **)(int, _DWORD, unsigned int, unsigned int, _DWORD))(*(_DWORD *)(v2 + 4) + 32))(
                  v2,
                  *(_DWORD *)v88,
                  v8 * (v7 - 1),
                  v8 + v9,
                  0)
              + 4 * *(_DWORD *)(v6 + 12);
        }
        else
        {
          v11 = (*(int (__cdecl **)(int, _DWORD, _DWORD, int, _DWORD))(*(_DWORD *)(v2 + 4) + 32))(
                  v2,
                  *(_DWORD *)v88,
                  0,
                  v9,
                  0);
          v96 = 1;
        }
        v66 = v11;
        v12 = v69 + *(_DWORD *)(v68 + 112);
        v90 = 0;
        v95 = v12;
        v13 = *(_DWORD *)(v6 + 76);
        v89 = *(_WORD *)v13;
        v80 = *(_WORD *)(v13 + 2);
        v85 = *(_WORD *)(v13 + 16);
        v77 = *(_WORD *)(v13 + 32);
        v14 = *(_WORD *)(v13 + 18);
        v79 = *(_WORD *)(v13 + 4);
        v15 = v70 + *(_DWORD *)(v2 + 408);
        v83 = v14;
        v62 = *(void (__cdecl **)(int, int, char *, int, int))(v15 + v88 + 4);
        v71 = *(_DWORD *)(a2 + 4 * v76);
        if ( v92 > 0 )
        {
          v16 = 128;
          do
          {
            v17 = v66 + 4 * v90;
            v18 = *(_DWORD *)v17;
            v93 = *(_DWORD *)v17;
            if ( !v96 || v90 )
              v18 = *(_DWORD *)(v17 - 4);
            if ( !v94 || (v19 = v93, v90 != v92 - 1) )
              v19 = *(_DWORD *)(v17 + 4);
            v20 = *(_WORD *)v18;
            v73 = 0;
            v78 = 0;
            v81 = v20;
            v86 = v20;
            v64 = v20;
            v91 = *(_WORD *)v93;
            v84 = v91;
            v75 = v91;
            v82 = *(_WORD *)v19;
            v87 = v82;
            v65 = v82;
            v67 = *(_DWORD *)(v6 + 28) - 1;
            v74 = v19 + 128;
            v72 = v18 + 128;
            do
            {
              sub_1005F105((const void *)v93, &v56, 1);
              if ( v78 < v67 )
              {
                v81 = *(_WORD *)v72;
                v91 = *(_WORD *)(v93 + 128);
                v82 = *(_WORD *)v74;
              }
              if ( *(_DWORD *)(v95 + 4) && !v57 )
              {
                v21 = v80 << 8;
                v22 = v80 << 7;
                v23 = 36 * v89 * (v75 - v91);
                if ( 36 * v89 * (v75 - v91) < 0 )
                {
                  v26 = (v22 - v23) / v21;
                  v27 = *(_DWORD *)(v95 + 4);
                  if ( v27 > 0 && v26 >= 1 << v27 )
                    v26 = (1 << v27) - 1;
                  v24 = -v26;
                }
                else
                {
                  v24 = (v23 + v22) / v21;
                  v25 = *(_DWORD *)(v95 + 4);
                  if ( v25 > 0 && v24 >= 1 << v25 )
                    LOWORD(v24) = (1 << v25) - 1;
                }
                v57 = v24;
              }
              v28 = *(_DWORD *)(v95 + 8);
              if ( v28 && !v59 )
              {
                v29 = v85 << 8;
                v30 = v85 << 7;
                v31 = 36 * v89 * (v86 - v87);
                if ( 36 * v89 * (v86 - v87) < 0 )
                {
                  v33 = (v30 - v31) / v29;
                  if ( v28 > 0 && v33 >= 1 << v28 )
                    v33 = (1 << v28) - 1;
                  v32 = -v33;
                }
                else
                {
                  v32 = (v31 + v30) / v29;
                  if ( v28 > 0 && v32 >= 1 << v28 )
                    LOWORD(v32) = (1 << v28) - 1;
                }
                v59 = v32;
                v16 = 128;
              }
              if ( *(_DWORD *)(v95 + 12) && !v61 )
              {
                v34 = 9 * v89 * (v86 + v87 - 2 * v84);
                v35 = v77 << 8;
                v36 = v77 << 7;
                if ( v34 < 0 )
                {
                  v39 = (v36 - v34) / v35;
                  v40 = *(_DWORD *)(v95 + 12);
                  if ( v40 > 0 && v39 >= 1 << v40 )
                    v39 = (1 << v40) - 1;
                  v37 = -v39;
                }
                else
                {
                  v37 = (v34 + v36) / v35;
                  v38 = *(_DWORD *)(v95 + 12);
                  if ( v38 > 0 && v37 >= 1 << v38 )
                    LOWORD(v37) = (1 << v38) - 1;
                }
                v61 = v37;
              }
              if ( *(_DWORD *)(v95 + 16) && !v60 )
              {
                v41 = 5 * v89 * (v64 + v82 - v65 - v81);
                v42 = v83 << 8;
                v43 = v83 << 7;
                if ( v41 < 0 )
                {
                  v46 = (v43 - v41) / v42;
                  v47 = *(_DWORD *)(v95 + 16);
                  if ( v47 > 0 && v46 >= 1 << v47 )
                    v46 = (1 << v47) - 1;
                  v44 = -v46;
                }
                else
                {
                  v44 = (v41 + v43) / v42;
                  v45 = *(_DWORD *)(v95 + 16);
                  if ( v45 > 0 && v44 >= 1 << v45 )
                    LOWORD(v44) = (1 << v45) - 1;
                }
                v60 = v44;
              }
              if ( *(_DWORD *)(v95 + 20) && !v58 )
              {
                v48 = 9 * v89 * (v75 + v91 - 2 * v84);
                v49 = v79 << 8;
                v50 = v79 << 7;
                if ( v48 < 0 )
                {
                  v53 = (v50 - v48) / v49;
                  v54 = *(_DWORD *)(v95 + 20);
                  if ( v54 > 0 && v53 >= 1 << v54 )
                    v53 = (1 << v54) - 1;
                  v51 = -v53;
                }
                else
                {
                  v51 = (v48 + v50) / v49;
                  v52 = *(_DWORD *)(v95 + 20);
                  if ( v52 > 0 )
                  {
                    if ( v51 >= 1 << v52 )
                      LOWORD(v51) = (1 << v52) - 1;
                  }
                }
                v58 = v51;
              }
              v62(v2, v6, &v56, v71, v73);
              v93 += v16;
              v72 += v16;
              v74 += v16;
              v64 = v86;
              v86 = v81;
              v75 = v84;
              v84 = v91;
              v65 = v87;
              v87 = v82;
              v73 += *(_DWORD *)(v6 + 36);
              ++v78;
            }
            while ( v78 <= v67 );
            v55 = *(_DWORD *)(v6 + 36);
            ++v90;
            v71 += 4 * v55;
          }
          while ( v90 < v92 );
        }
      }
      ++v76;
      v69 += 24;
      v88 += 4;
      v6 += 84;
    }
    while ( v76 < *(_DWORD *)(v2 + 32) );
  }
  ++*(_DWORD *)(v2 + 136);
  return 4 - (*(_DWORD *)(v2 + 136) < *(_DWORD *)(v2 + 280));
}

//----- (10063493) --------------------------------------------------------
int __cdecl sub_10063493(int a1, char a2)
{
  int v2; // esi@1
  int v3; // ebx@1
  int v4; // eax@2
  int v5; // edi@3
  int v6; // ebx@4
  int v7; // ST0C_4@4
  int v8; // eax@4
  int v9; // ecx@4
  int result; // eax@6
  int v11; // ecx@7
  signed int v12; // edx@7
  int v13; // [sp+Ch] [bp-4h]@1
  int v14; // [sp+18h] [bp+8h]@2
  int v15; // [sp+1Ch] [bp+Ch]@3

  v2 = a1;
  v3 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 116);
  *(_DWORD *)(a1 + 388) = v3;
  v13 = v3;
  *(_DWORD *)v3 = sub_10062966;
  *(_DWORD *)(v3 + 8) = sub_10063458;
  *(_DWORD *)(v3 + 112) = 0;
  if ( a2 )
  {
    v4 = *(_DWORD *)(a1 + 196);
    v14 = 0;
    if ( *(_DWORD *)(v2 + 32) > 0 )
    {
      v5 = v4 + 12;
      v15 = v3 + 72;
      do
      {
        v6 = *(_DWORD *)(v2 + 4);
        sub_1005F0A6(*(_DWORD *)(v5 + 20), *(_DWORD *)v5);
        sub_1005F0A6(*(_DWORD *)(v5 + 16), *(_DWORD *)(v5 - 4));
        v8 = (*(int (__thiscall **)(int))(v6 + 20))(v7);
        v9 = v15;
        v15 += 4;
        ++v14;
        *(_DWORD *)v9 = v8;
        v5 += 84;
      }
      while ( v14 < *(_DWORD *)(v2 + 32) );
      v3 = v13;
    }
    result = v3 + 72;
    *(_DWORD *)(v3 + 4) = sub_10062B53;
    *(_DWORD *)(v3 + 12) = sub_10062CF2;
    *(_DWORD *)(v3 + 16) = v3 + 72;
  }
  else
  {
    result = (*(int (__cdecl **)(int, signed int, signed int))(*(_DWORD *)(a1 + 4) + 4))(a1, 1, 1280);
    v11 = v3 + 32;
    v12 = 10;
    do
    {
      *(_DWORD *)v11 = result;
      v11 += 4;
      result += 128;
      --v12;
    }
    while ( v12 );
    *(_DWORD *)(v3 + 4) = sub_10062B50;
    *(_DWORD *)(v3 + 12) = sub_10062976;
    *(_DWORD *)(v3 + 16) = 0;
  }
  return result;
}
// 10063458: using guessed type int sub_10063458();

//----- (1006358B) --------------------------------------------------------
int __cdecl sub_1006358B(int a1, int a2, int a3)
{
  int v3; // esi@3
  int v4; // ebx@3
  int v5; // eax@3
  unsigned int v6; // ecx@4
  void *v7; // edi@5
  unsigned int v8; // edx@5
  unsigned int v9; // ecx@5
  int v10; // eax@5
  int v11; // edi@5
  int i; // ecx@5
  int v13; // edi@10
  int v14; // ecx@10
  int v15; // edx@10
  char *v16; // eax@11
  int v17; // eax@12
  int v18; // ecx@16
  signed int v19; // edx@16
  int v20; // eax@16
  int v21; // edi@18
  signed int v22; // edx@21
  int result; // eax@22
  int v24; // edi@22
  bool v25; // cf@22
  int v26; // edx@23
  int v27; // ebx@23
  int v28; // eax@24
  int v29; // edi@25
  int v30; // eax@25
  int v31; // [sp+8h] [bp-520h]@18
  int v32[257]; // [sp+Ch] [bp-51Ch]@13
  char v33; // [sp+410h] [bp-118h]@5
  char v34[259]; // [sp+411h] [bp-117h]@13
  int v35; // [sp+514h] [bp-14h]@22
  int v36; // [sp+518h] [bp-10h]@22
  int v37; // [sp+51Ch] [bp-Ch]@21
  int v38; // [sp+520h] [bp-8h]@4
  int v39; // [sp+524h] [bp-4h]@3
  signed int v40; // [sp+538h] [bp+10h]@3
  signed int v41; // [sp+538h] [bp+10h]@21

  if ( !*(_DWORD *)a3 )
    *(_DWORD *)a3 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1492);
  v3 = *(_DWORD *)a3;
  v4 = a2;
  v5 = 0;
  *(_DWORD *)(*(_DWORD *)a3 + 208) = a2;
  v39 = 0;
  v40 = 1;
  do
  {
    v6 = *(_BYTE *)(v40 + v4);
    v38 = *(_BYTE *)(v40 + v4);
    if ( (signed int)v6 >= 1 )
    {
      v7 = &v33 + v5;
      LOBYTE(v4) = v40;
      BYTE1(v4) = v40;
      v8 = v6;
      v9 = v6 >> 2;
      v10 = v4 << 16;
      LOWORD(v10) = v4;
      v4 = a2;
      memset32(v7, v10, v9);
      v11 = (int)((char *)v7 + 4 * v9);
      for ( i = v8 & 3; i; --i )
        *(_BYTE *)v11++ = v10;
      v5 = v8 + v39;
      v39 += v8;
    }
    ++v40;
  }
  while ( v40 <= 16 );
  *(&v33 + v5) = 0;
  v13 = v33;
  v14 = 0;
  v15 = 0;
  if ( v33 )
  {
    v16 = &v33;
    do
    {
      v17 = *v16;
      while ( v17 == v13 )
      {
        v17 = v34[v14];
        v32[v14++] = v15++;
      }
      v15 *= 2;
      v16 = &v33 + v14;
      ++v13;
    }
    while ( *(&v33 + v14) );
  }
  v18 = 0;
  v19 = 1;
  v20 = v3 + 72;
  do
  {
    if ( *(_BYTE *)(v19 + v4) )
    {
      v21 = v32[v18];
      *(_DWORD *)(v20 + 72) = v18;
      *(_DWORD *)(v20 - 68) = v21;
      v18 += *(_BYTE *)(v19 + v4);
      *(_DWORD *)v20 = *(&v31 + v18);
    }
    else
    {
      *(_DWORD *)v20 = -1;
    }
    ++v19;
    v20 += 4;
  }
  while ( v19 <= 16 );
  v39 = 0;
  v22 = 1;
  *(_DWORD *)(v3 + 136) = 1048575;
  memset((void *)(v3 + 212), 0, 0x400u);
  v41 = 1;
  v37 = 7;
  do
  {
    result = v41;
    v24 = v41 + v4;
    v25 = *(_BYTE *)(v41 + v4) < 1u;
    v36 = v22;
    v35 = v41 + v4;
    if ( !v25 )
    {
      v26 = v22 << v37;
      v27 = v39 + v4 + 17;
      do
      {
        v28 = v32[v39] << v37;
        if ( v26 > 0 )
        {
          v29 = v28 + v3 + 1236;
          v30 = v3 + 4 * v28 + 212;
          v38 = v26;
          do
          {
            *(_DWORD *)v30 = v41;
            v30 += 4;
            *(_BYTE *)v29++ = *(_BYTE *)v27;
            --v38;
          }
          while ( v38 );
          v24 = v35;
        }
        ++v36;
        result = *(_BYTE *)v24;
        ++v39;
        ++v27;
      }
      while ( v36 <= result );
      v4 = a2;
      v22 = 1;
    }
    ++v41;
    --v37;
  }
  while ( v37 >= 0 );
  return result;
}
// 1006358B: using guessed type char var_117[259];
// 1006358B: using guessed type int var_51C[257];

//----- (10063735) --------------------------------------------------------
char __cdecl sub_10063735(int a1, int a2, signed int a3, signed int a4)
{
  int v4; // ebx@1
  signed int *v5; // edi@1
  int v6; // eax@5
  signed int v7; // ecx@6
  signed int v8; // eax@6
  int v9; // eax@9
  signed int v10; // ecx@10

  v4 = *(_DWORD *)(a1 + 4);
  v5 = *(signed int **)a1;
  while ( 1 )
  {
    if ( a3 >= 25 )
    {
LABEL_20:
      *(_DWORD *)(a1 + 12) = a2;
      *(_DWORD *)(a1 + 24) = a3;
      *(_DWORD *)a1 = v5;
      *(_DWORD *)(a1 + 4) = v4;
      return 1;
    }
    if ( *(_DWORD *)(a1 + 8) )
      goto LABEL_14;
    if ( !v4 )
      break;
LABEL_6:
    v7 = *(_BYTE *)v5;
    --v4;
    v8 = 255;
    v5 = (signed int *)((char *)v5 + 1);
    if ( v7 != 255 )
      goto LABEL_18;
    do
    {
      if ( !v4 )
      {
        if ( !(unsigned __int8)(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20) + 12))(*(_DWORD *)(a1 + 28)) )
          return 0;
        v9 = *(_DWORD *)(*(_DWORD *)(a1 + 28) + 20);
        v5 = *(signed int **)v9;
        v4 = *(_DWORD *)(v9 + 4);
        v8 = 255;
      }
      v10 = *(_BYTE *)v5;
      --v4;
      v5 = (signed int *)((char *)v5 + 1);
    }
    while ( v10 == v8 );
    if ( !v10 )
    {
      v7 = v8;
      goto LABEL_18;
    }
    *(_DWORD *)(a1 + 8) = v10;
LABEL_14:
    if ( a3 >= a4 )
      goto LABEL_20;
    if ( !**(_BYTE **)(a1 + 32) )
    {
      *(_DWORD *)(**(_DWORD **)(a1 + 28) + 20) = 113;
      (*(void (__cdecl **)(_DWORD, signed int))(**(_DWORD **)(a1 + 28) + 4))(*(_DWORD *)(a1 + 28), -1);
      **(_BYTE **)(a1 + 32) = 1;
    }
    v7 = 0;
LABEL_18:
    a3 += 8;
    a2 = v7 | (a2 << 8);
  }
  if ( (unsigned __int8)(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20) + 12))(*(_DWORD *)(a1 + 28)) )
  {
    v6 = *(_DWORD *)(*(_DWORD *)(a1 + 28) + 20);
    v5 = *(signed int **)v6;
    v4 = *(_DWORD *)(v6 + 4);
    goto LABEL_6;
  }
  return 0;
}

//----- (1006381F) --------------------------------------------------------
signed int __cdecl sub_1006381F(int a1, int a2, signed int a3, int a4, signed int a5)
{
  signed int v5; // eax@1
  signed int result; // eax@3
  int v7; // edx@4
  signed int v8; // eax@6
  int v9; // esi@6
  int v10; // ebx@6
  int v11; // esi@8
  signed int v12; // [sp+8h] [bp-4h]@1
  int v13; // [sp+24h] [bp+18h]@7

  v5 = a3;
  v12 = a5;
  if ( a3 >= a5 )
  {
    v7 = a2;
  }
  else
  {
    if ( !sub_10063735(a1, a2, a3, a5) )
      return -1;
    v7 = *(_DWORD *)(a1 + 12);
    v5 = *(_DWORD *)(a1 + 24);
  }
  v8 = v5 - a5;
  v9 = ((1 << a5) - 1) & (v7 >> v8);
  v10 = a4;
  if ( v9 > *(_DWORD *)(a4 + 4 * a5 + 68) )
  {
    v13 = a4 + 4 * a5 + 68;
    while ( 1 )
    {
      v11 = 2 * v9;
      if ( v8 < 1 )
      {
        if ( !sub_10063735(a1, v7, v8, 1) )
          return -1;
        v7 = *(_DWORD *)(a1 + 12);
        v8 = *(_DWORD *)(a1 + 24);
      }
      v13 += 4;
      --v8;
      v9 = (v7 >> v8) & 1 | v11;
      ++v12;
      if ( v9 <= *(_DWORD *)v13 )
      {
        v10 = a4;
        break;
      }
    }
  }
  *(_DWORD *)(a1 + 24) = v8;
  *(_DWORD *)(a1 + 12) = v7;
  if ( v12 <= 16 )
  {
    result = *(_BYTE *)(*(_DWORD *)(v10 + 208) + *(_DWORD *)(v10 + 4 * v12 + 140) - *(_DWORD *)(v10 + 4 * v12) + v9 + 17);
  }
  else
  {
    *(_DWORD *)(**(_DWORD **)(a1 + 28) + 20) = 114;
    (*(void (__cdecl **)(_DWORD, signed int))(**(_DWORD **)(a1 + 28) + 4))(*(_DWORD *)(a1 + 28), -1);
    result = 0;
  }
  return result;
}

//----- (10063909) --------------------------------------------------------
char __cdecl sub_10063909(int a1)
{
  int v1; // esi@1
  char result; // al@1
  int v3; // edx@2
  int v4; // ecx@3

  v1 = *(_DWORD *)(a1 + 404);
  *(_DWORD *)(*(_DWORD *)(a1 + 400) + 88) += *(_DWORD *)(v1 + 20) / 8;
  *(_DWORD *)(v1 + 20) = 0;
  result = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 400) + 8))(a1);
  if ( result )
  {
    v3 = 0;
    if ( *(_DWORD *)(a1 + 288) > 0 )
    {
      v4 = v1 + 32;
      do
      {
        *(_DWORD *)v4 = 0;
        ++v3;
        v4 += 4;
      }
      while ( v3 < *(_DWORD *)(a1 + 288) );
    }
    *(_DWORD *)(v1 + 48) = *(_DWORD *)(a1 + 252);
    *(_BYTE *)(v1 + 24) = 0;
    result = 1;
  }
  return result;
}

//----- (10063967) --------------------------------------------------------
char __cdecl sub_10063967(int a1, int a2)
{
  int v2; // ecx@1
  int v3; // ebx@1
  char result; // al@3
  int v5; // eax@5
  int v6; // edx@5
  int v7; // eax@5
  bool v8; // zf@5
  bool v9; // sf@5
  int v10; // eax@5
  int v11; // edx@5
  signed int v12; // eax@5
  int v13; // esi@7
  int v14; // edi@7
  int v15; // ecx@7
  signed int v16; // ecx@10
  int v17; // esi@11
  int v18; // ecx@11
  int v19; // esi@12
  int v20; // ecx@20
  int v21; // esi@20
  int v22; // ecx@20
  int *v23; // ecx@24
  int v24; // ecx@29
  signed int v25; // esi@29
  int v26; // esi@30
  int v27; // edi@30
  signed int v28; // edi@31
  signed int v29; // ecx@35
  int v30; // edi@35
  int v31; // esi@39
  __int16 v32; // cx@40
  int v33; // ecx@51
  signed int v34; // esi@51
  int v35; // esi@52
  int v36; // edi@52
  signed int v37; // esi@53
  signed int v38; // ecx@57
  int v39; // esi@57
  int v40; // [sp+4h] [bp-54h]@5
  int v41; // [sp+8h] [bp-50h]@5
  int v42; // [sp+Ch] [bp-4Ch]@5
  int v43; // [sp+10h] [bp-48h]@9
  int v44; // [sp+1Ch] [bp-3Ch]@9
  int v45; // [sp+20h] [bp-38h]@5
  int v46; // [sp+24h] [bp-34h]@5
  int v47[4]; // [sp+2Ch] [bp-2Ch]@5
  int v48; // [sp+30h] [bp-28h]@5
  int v49; // [sp+34h] [bp-24h]@5
  int v50; // [sp+38h] [bp-20h]@5
  int v51; // [sp+3Ch] [bp-1Ch]@7
  int v52; // [sp+40h] [bp-18h]@7
  int v53; // [sp+44h] [bp-14h]@7
  int *v54; // [sp+48h] [bp-10h]@6
  int v55; // [sp+4Ch] [bp-Ch]@5
  int v56; // [sp+50h] [bp-8h]@7
  int v57; // [sp+54h] [bp-4h]@7

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 404);
  if ( *(_DWORD *)(a1 + 252) && !*(_DWORD *)(v3 + 48) )
  {
    result = sub_10063909(a1);
    if ( !result )
      return result;
    v2 = a1;
  }
  v5 = *(_DWORD *)(v2 + 20);
  v6 = *(_DWORD *)v5;
  v7 = *(_DWORD *)(v5 + 4);
  v55 = 0;
  v8 = *(_DWORD *)(v2 + 316) == 0;
  v9 = *(_DWORD *)(v2 + 316) < 0;
  v46 = v3 + 24;
  v47[0] = *(_DWORD *)(v3 + 32);
  v48 = *(_DWORD *)(v3 + 36);
  v41 = v7;
  v10 = *(_DWORD *)(v2 + 376);
  v49 = *(_DWORD *)(v3 + 40);
  v40 = v6;
  v11 = *(_DWORD *)(v3 + 16);
  v42 = v10;
  v12 = *(_DWORD *)(v3 + 20);
  v45 = v2;
  v50 = *(_DWORD *)(v3 + 44);
  if ( v9 | v8 )
    goto LABEL_66;
  v54 = (int *)(v2 + 320);
LABEL_7:
  v52 = *(_DWORD *)(a2 + 4 * v55);
  v13 = *v54;
  v14 = *(_DWORD *)(v2 + 4 * *v54 + 292);
  v57 = *(_DWORD *)(v3 + 4 * *(_DWORD *)(v14 + 20) + 52);
  v15 = *(_DWORD *)(v3 + 4 * *(_DWORD *)(v14 + 24) + 68);
  v51 = v13;
  v53 = v14;
  v56 = v15;
  if ( v12 >= 8 )
    goto LABEL_71;
  if ( !sub_10063735((int)&v40, v11, v12, 0) )
    return 0;
  v12 = v44;
  v11 = v43;
  if ( v44 >= 8 )
  {
LABEL_71:
    v17 = (v11 >> (v12 - 8)) & 0xFF;
    v18 = *(_DWORD *)(v57 + 4 * v17 + 212);
    if ( v18 )
    {
      v12 -= v18;
      v19 = *(_BYTE *)(v17 + v57 + 1236);
      goto LABEL_16;
    }
    v16 = 9;
  }
  else
  {
    v16 = 1;
  }
  v19 = sub_1006381F((int)&v40, v11, v12, v57, v16);
  if ( v19 < 0 )
    return 0;
  v11 = v43;
  v12 = v44;
LABEL_16:
  if ( !v19 )
  {
LABEL_23:
    if ( *(_BYTE *)(v14 + 48) )
    {
      v23 = &v47[v51];
      *v23 += v19;
      *(_WORD *)v52 = *v23;
      if ( *(_DWORD *)(v14 + 36) > 1 )
      {
        v57 = 1;
        while ( 1 )
        {
          if ( v12 < 8 )
          {
            if ( !sub_10063735((int)&v40, v11, v12, 0) )
              return 0;
            v12 = v44;
            v11 = v43;
            if ( v44 < 8 )
              break;
          }
          v24 = v56;
          v26 = (v11 >> (v12 - 8)) & 0xFF;
          v27 = *(_DWORD *)(v56 + 4 * v26 + 212);
          if ( !v27 )
          {
            v25 = 9;
            goto LABEL_33;
          }
          v12 -= v27;
          v28 = *(_BYTE *)(v26 + v56 + 1236);
LABEL_35:
          v29 = v28 >> 4;
          v30 = v28 & 0xF;
          v51 = v30;
          if ( v30 )
          {
            v57 += v29;
            if ( v12 < v30 )
            {
              if ( !sub_10063735((int)&v40, v11, v12, v30) )
                return 0;
              v11 = v43;
              v12 = v44;
            }
            v12 -= v30;
            v31 = (v11 >> v12) & ((1 << v30) - 1);
            if ( v31 >= dword_10076EF0[v51] )
              v32 = (v11 >> v12) & ((1 << v30) - 1);
            else
              v32 = v31 + dword_10076F30[v51];
            *(_WORD *)(v52 + 2 * dword_10076418[v57]) = v32;
          }
          else
          {
            if ( v29 != 15 )
              goto LABEL_65;
            v57 += 15;
          }
          ++v57;
          if ( v57 >= 64 )
            goto LABEL_65;
        }
        v24 = v56;
        v25 = 1;
LABEL_33:
        v28 = sub_1006381F((int)&v40, v11, v12, v24, v25);
        if ( v28 < 0 )
          return 0;
        v11 = v43;
        v12 = v44;
        goto LABEL_35;
      }
    }
    v57 = 1;
    while ( 1 )
    {
      if ( v12 < 8 )
      {
        if ( !sub_10063735((int)&v40, v11, v12, 0) )
          return 0;
        v12 = v44;
        v11 = v43;
        if ( v44 < 8 )
          break;
      }
      v33 = v56;
      v35 = (v11 >> (v12 - 8)) & 0xFF;
      v36 = *(_DWORD *)(v56 + 4 * v35 + 212);
      if ( !v36 )
      {
        v34 = 9;
        goto LABEL_55;
      }
      v37 = *(_BYTE *)(v35 + v56 + 1236);
      v12 -= v36;
LABEL_57:
      v38 = v37 >> 4;
      v39 = v37 & 0xF;
      if ( v39 )
      {
        v57 += v38;
        if ( v12 < v39 )
        {
          if ( !sub_10063735((int)&v40, v11, v12, v39) )
            return 0;
          v11 = v43;
          v12 = v44;
        }
        v12 -= v39;
      }
      else
      {
        if ( v38 != 15 )
          goto LABEL_65;
        v57 += 15;
      }
      ++v57;
      if ( v57 >= 64 )
      {
LABEL_65:
        ++v55;
        v2 = a1;
        ++v54;
        if ( v55 >= *(_DWORD *)(a1 + 316) )
        {
LABEL_66:
          **(_DWORD **)(v2 + 20) = v40;
          *(_DWORD *)(*(_DWORD *)(v2 + 20) + 4) = v41;
          *(_DWORD *)(v2 + 376) = v42;
          --*(_DWORD *)(v3 + 48);
          *(_DWORD *)(v3 + 32) = v47[0];
          *(_DWORD *)(v3 + 36) = v48;
          *(_DWORD *)(v3 + 40) = v49;
          *(_DWORD *)(v3 + 20) = v12;
          *(_DWORD *)(v3 + 16) = v11;
          *(_DWORD *)(v3 + 44) = v50;
          return 1;
        }
        goto LABEL_7;
      }
    }
    v33 = v56;
    v34 = 1;
LABEL_55:
    v37 = sub_1006381F((int)&v40, v11, v12, v33, v34);
    if ( v37 < 0 )
      return 0;
    v11 = v43;
    v12 = v44;
    goto LABEL_57;
  }
  if ( v12 >= v19 )
  {
LABEL_20:
    v12 -= v19;
    v57 = (1 << v19) - 1;
    v20 = (1 << v19) - 1;
    v21 = v19;
    v22 = (v11 >> v12) & v20;
    v14 = v53;
    if ( v22 >= dword_10076EF0[v21] )
      v19 = v22;
    else
      v19 = v22 + dword_10076F30[v21];
    goto LABEL_23;
  }
  if ( sub_10063735((int)&v40, v11, v12, v19) )
  {
    v11 = v43;
    v12 = v44;
    goto LABEL_20;
  }
  return 0;
}
// 10076418: using guessed type int dword_10076418[];
// 10076EF0: using guessed type int dword_10076EF0[];
// 10076F30: using guessed type int dword_10076F30[];
// 10063967: using guessed type int var_2C[4];

//----- (10063D34) --------------------------------------------------------
int __cdecl sub_10063D34(int a1)
{
  int v1; // esi@1
  int v2; // ebx@1
  int v3; // edi@1
  signed int v4; // ebx@8
  signed int v5; // eax@8
  int result; // eax@18
  signed int v7; // [sp+Ch] [bp-Ch]@8
  int v8; // [sp+10h] [bp-8h]@6
  int v9; // [sp+14h] [bp-4h]@7
  int v10; // [sp+20h] [bp+8h]@7

  v1 = a1;
  v2 = 0;
  v3 = *(_DWORD *)(a1 + 404);
  if ( *(_DWORD *)(a1 + 360) || *(_DWORD *)(a1 + 364) != 63 || *(_DWORD *)(a1 + 368) || *(_DWORD *)(a1 + 372) )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 118;
    (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, -1);
  }
  v8 = 0;
  if ( *(_DWORD *)(a1 + 288) > 0 )
  {
    v9 = v3 + 32;
    v10 = a1 + 292;
    do
    {
      v4 = *(_DWORD *)(*(_DWORD *)v10 + 20);
      v5 = *(_DWORD *)(*(_DWORD *)v10 + 24);
      v7 = *(_DWORD *)(*(_DWORD *)v10 + 24);
      if ( v4 < 0 || v4 >= 4 || !*(_DWORD *)(v1 + 4 * v4 + 160) )
      {
        *(_DWORD *)(*(_DWORD *)v1 + 20) = 49;
        *(_DWORD *)(*(_DWORD *)v1 + 24) = v4;
        (**(void (__cdecl ***)(_DWORD))v1)(v1);
        v5 = v7;
      }
      if ( v5 < 0 || v5 >= 4 || !*(_DWORD *)(v1 + 4 * v5 + 176) )
      {
        *(_DWORD *)(*(_DWORD *)v1 + 20) = 49;
        *(_DWORD *)(*(_DWORD *)v1 + 24) = v5;
        (**(void (__cdecl ***)(_DWORD))v1)(v1);
      }
      sub_1006358B(v1, *(_DWORD *)(v1 + 4 * v4 + 160), v3 + 4 * v4 + 52);
      sub_1006358B(v1, *(_DWORD *)(v1 + 4 * v7 + 176), v3 + 4 * v7 + 68);
      *(_DWORD *)v9 = 0;
      v10 += 4;
      v9 += 4;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v1 + 288) );
    v2 = 0;
  }
  *(_BYTE *)(v3 + 24) = 0;
  *(_DWORD *)(v3 + 20) = v2;
  *(_DWORD *)(v3 + 8) = v2;
  *(_DWORD *)(v3 + 12) = v2;
  *(_DWORD *)(v3 + 16) = v2;
  result = *(_DWORD *)(v1 + 252);
  *(_DWORD *)(v3 + 48) = result;
  return result;
}

//----- (10063E63) --------------------------------------------------------
int __cdecl sub_10063E63(int a1)
{
  int v1; // eax@1
  signed int v2; // ecx@1
  int result; // eax@1

  v1 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 88);
  *(_DWORD *)(a1 + 404) = v1;
  v2 = 4;
  *(_DWORD *)v1 = sub_10063D34;
  *(_DWORD *)(v1 + 4) = sub_10063967;
  result = v1 + 52;
  do
  {
    *(_DWORD *)(result + 16) = 0;
    *(_DWORD *)result = 0;
    result += 4;
    --v2;
  }
  while ( v2 );
  return result;
}

//----- (10063E9D) --------------------------------------------------------
char __usercall sub_10063E9D<al>(int a1<edi>)
{
  int v1; // esi@1
  char result; // al@1
  int v3; // edx@2
  int v4; // ecx@3

  v1 = *(_DWORD *)(a1 + 404);
  *(_DWORD *)(*(_DWORD *)(a1 + 400) + 88) += *(_DWORD *)(v1 + 20) / 8;
  *(_DWORD *)(v1 + 20) = 0;
  result = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 400) + 8))(a1);
  if ( result )
  {
    v3 = 0;
    if ( *(_DWORD *)(a1 + 288) > 0 )
    {
      v4 = v1 + 36;
      do
      {
        *(_DWORD *)v4 = 0;
        ++v3;
        v4 += 4;
      }
      while ( v3 < *(_DWORD *)(a1 + 288) );
    }
    *(_DWORD *)(v1 + 32) = 0;
    *(_DWORD *)(v1 + 52) = *(_DWORD *)(a1 + 252);
    *(_BYTE *)(v1 + 24) = 0;
    result = 1;
  }
  return result;
}

//----- (10063EF8) --------------------------------------------------------
char __cdecl sub_10063EF8(int a1, int a2)
{
  int v2; // ebx@1
  bool v3; // zf@1
  int v4; // eax@1
  int v5; // ecx@1
  char result; // al@3
  int v7; // ecx@5
  bool v8; // sf@5
  signed int v9; // edx@5
  int v10; // edi@7
  signed int v11; // eax@10
  int v12; // esi@12
  int v13; // ecx@12
  int v14; // esi@13
  int v15; // ecx@21
  int v16; // esi@21
  int v17; // ecx@21
  char *v18; // ecx@24
  int v19; // esi@24
  int v20; // [sp+8h] [bp-58h]@5
  int v21; // [sp+Ch] [bp-54h]@5
  int v22; // [sp+10h] [bp-50h]@5
  int v23; // [sp+14h] [bp-4Ch]@9
  int v24; // [sp+20h] [bp-40h]@9
  int v25; // [sp+24h] [bp-3Ch]@5
  int v26; // [sp+28h] [bp-38h]@5
  char v27; // [sp+30h] [bp-30h]@5
  char v28[16]; // [sp+34h] [bp-2Ch]@24
  int v29; // [sp+44h] [bp-1Ch]@7
  int v30; // [sp+48h] [bp-18h]@1
  int v31; // [sp+4Ch] [bp-14h]@7
  int v32; // [sp+50h] [bp-10h]@6
  int v33; // [sp+54h] [bp-Ch]@5
  int v34; // [sp+58h] [bp-8h]@1
  int v35; // [sp+5Ch] [bp-4h]@21
  int v36; // [sp+68h] [bp+8h]@5

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 252) == 0;
  v4 = *(_DWORD *)(a1 + 404);
  v5 = *(_DWORD *)(a1 + 372);
  v34 = *(_DWORD *)(a1 + 404);
  v30 = v5;
  if ( !v3 && !*(_DWORD *)(v4 + 52) )
  {
    result = sub_10063E9D(a1);
    if ( !result )
      return result;
    v4 = v34;
  }
  v7 = *(_DWORD *)(a1 + 20);
  v33 = 0;
  v3 = *(_DWORD *)(a1 + 316) == 0;
  v8 = *(_DWORD *)(a1 + 316) < 0;
  v25 = a1;
  v20 = *(_DWORD *)v7;
  v21 = *(_DWORD *)(v7 + 4);
  v22 = *(_DWORD *)(a1 + 376);
  v9 = *(_DWORD *)(v4 + 20);
  v36 = *(_DWORD *)(v4 + 16);
  v26 = v4 + 24;
  memcpy(&v27, (const void *)(v4 + 32), 0x14u);
  if ( v8 | v3 )
  {
LABEL_25:
    **(_DWORD **)(v2 + 20) = v20;
    *(_DWORD *)(*(_DWORD *)(v2 + 20) + 4) = v21;
    *(_DWORD *)(v2 + 376) = v22;
    --*(_DWORD *)(v4 + 52);
    *(_DWORD *)(v4 + 16) = v36;
    *(_DWORD *)(v4 + 20) = v9;
    memcpy((void *)(v4 + 32), &v27, 0x14u);
    return 1;
  }
  v32 = v2 + 320;
  while ( 1 )
  {
    v29 = *(_DWORD *)(a2 + 4 * v33);
    v31 = *(_DWORD *)v32;
    v10 = *(_DWORD *)(v4 + 4 * *(_DWORD *)(*(_DWORD *)(v2 + 4 * v31 + 292) + 20) + 56);
    if ( v9 < 8 )
    {
      if ( !sub_10063735((int)&v20, v36, v9, 0) )
        return 0;
      v9 = v24;
      v36 = v23;
      if ( v24 < 8 )
      {
        v11 = 1;
        goto LABEL_15;
      }
      v4 = v34;
    }
    v12 = (v36 >> (v9 - 8)) & 0xFF;
    v13 = *(_DWORD *)(v10 + 4 * v12 + 212);
    if ( v13 )
    {
      v14 = *(_BYTE *)(v12 + v10 + 1236);
      v9 -= v13;
      goto LABEL_17;
    }
    v11 = 9;
LABEL_15:
    v14 = sub_1006381F((int)&v20, v36, v9, v10, v11);
    if ( v14 < 0 )
      return 0;
    v9 = v24;
    v36 = v23;
    v4 = v34;
LABEL_17:
    if ( v14 )
      break;
LABEL_24:
    v32 += 4;
    v18 = &v28[4 * v31];
    *(_DWORD *)v18 += v14;
    v19 = *(_DWORD *)v18 << v30;
    ++v33;
    *(_WORD *)v29 = v19;
    if ( v33 >= *(_DWORD *)(v2 + 316) )
      goto LABEL_25;
  }
  if ( v9 >= v14 )
    goto LABEL_21;
  if ( sub_10063735((int)&v20, v36, v9, v14) )
  {
    v9 = v24;
    v36 = v23;
    v4 = v34;
LABEL_21:
    v9 -= v14;
    v35 = (1 << v14) - 1;
    v15 = (1 << v14) - 1;
    v16 = v14;
    v17 = (v36 >> v9) & v15;
    if ( v17 >= dword_10076FD8[v16] )
      v14 = v17;
    else
      v14 = v17 + dword_10077018[v16];
    goto LABEL_24;
  }
  return 0;
}
// 10076FD8: using guessed type int dword_10076FD8[];
// 10077018: using guessed type int dword_10077018[];
// 10063EF8: using guessed type char var_2C[16];

//----- (100640F5) --------------------------------------------------------
char __cdecl sub_100640F5(int a1, int a2)
{
  int v2; // edi@1
  bool v3; // zf@1
  int v4; // esi@1
  char result; // al@3
  int v6; // eax@5
  int v7; // eax@6
  int v8; // ebx@6
  signed int v9; // eax@6
  int v10; // ecx@6
  signed int v11; // ecx@10
  int v12; // edx@11
  int v13; // ecx@11
  int v14; // ecx@16
  int v15; // ebx@20
  int v16; // edx@20
  int v17; // ebx@21
  int v18; // [sp+8h] [bp-48h]@6
  int v19; // [sp+Ch] [bp-44h]@6
  int v20; // [sp+10h] [bp-40h]@6
  int v21; // [sp+14h] [bp-3Ch]@9
  int v22; // [sp+20h] [bp-30h]@9
  int v23; // [sp+24h] [bp-2Ch]@6
  int v24; // [sp+28h] [bp-28h]@6
  int v25; // [sp+30h] [bp-20h]@6
  int v26; // [sp+34h] [bp-1Ch]@1
  int v27; // [sp+38h] [bp-18h]@1
  int v28; // [sp+3Ch] [bp-14h]@6
  int v29; // [sp+40h] [bp-10h]@16
  int v30; // [sp+44h] [bp-Ch]@6
  int v31; // [sp+48h] [bp-8h]@4
  int v32; // [sp+4Ch] [bp-4h]@6
  signed int v33; // [sp+58h] [bp+8h]@12
  int v34; // [sp+58h] [bp+8h]@16
  signed int v35; // [sp+58h] [bp+8h]@30

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 252) == 0;
  v4 = *(_DWORD *)(a1 + 404);
  v27 = *(_DWORD *)(a1 + 364);
  v26 = *(_DWORD *)(a1 + 372);
  if ( !v3 )
  {
    if ( !*(_DWORD *)(v4 + 52) )
    {
      result = sub_10063E9D(a1);
      if ( !result )
        return result;
    }
  }
  v31 = *(_DWORD *)(v4 + 32);
  if ( v31 )
  {
    v6 = v31 - 1;
    goto LABEL_37;
  }
  v7 = *(_DWORD *)(a1 + 20);
  v23 = a1;
  v18 = *(_DWORD *)v7;
  v19 = *(_DWORD *)(v7 + 4);
  v20 = *(_DWORD *)(a1 + 376);
  v8 = *(_DWORD *)(v4 + 16);
  v9 = *(_DWORD *)(v4 + 20);
  v24 = v4 + 24;
  v25 = *(_DWORD *)a2;
  v28 = *(_DWORD *)(v4 + 72);
  v10 = *(_DWORD *)(a1 + 360);
  v30 = v8;
  v32 = v10;
  while ( v10 <= v27 )
  {
    if ( v9 >= 8 )
      goto LABEL_40;
    if ( !sub_10063735((int)&v18, v8, v9, 0) )
      return 0;
    v9 = v22;
    v8 = v21;
    v30 = v21;
    if ( v22 >= 8 )
    {
LABEL_40:
      v12 = (v8 >> (v9 - 8)) & 0xFF;
      v13 = *(_DWORD *)(v28 + 4 * v12 + 212);
      if ( v13 )
      {
        v9 -= v13;
        v33 = *(_BYTE *)(v12 + v28 + 1236);
        goto LABEL_16;
      }
      v11 = 9;
    }
    else
    {
      v11 = 1;
    }
    v33 = sub_1006381F((int)&v18, v8, v9, v28, v11);
    if ( v33 < 0 )
      return 0;
    v8 = v21;
    v9 = v22;
    v30 = v21;
LABEL_16:
    v14 = v33 >> 4;
    v3 = (v33 & 0xF) == 0;
    v34 = v33 & 0xF;
    v29 = v14;
    if ( v3 )
    {
      if ( v14 != 15 )
      {
        v35 = 1 << v14;
        v31 = 1 << v14;
        if ( v29 )
        {
          if ( v9 < v29 )
          {
            if ( !sub_10063735((int)&v18, v8, v9, v29) )
              return 0;
            v8 = v21;
            v9 = v22;
          }
          v9 -= v29;
          v31 += (v35 - 1) & (v8 >> v9);
        }
        --v31;
        break;
      }
      v32 += 15;
    }
    else
    {
      v32 += v14;
      if ( v9 < v34 )
      {
        if ( !sub_10063735((int)&v18, v8, v9, v34) )
          return 0;
        v8 = v21;
        v9 = v22;
        v30 = v21;
      }
      v9 -= v34;
      v15 = v8 >> v9;
      v16 = v15 & ((1 << v34) - 1);
      if ( v16 >= dword_10076FD8[v34] )
        v17 = v15 & ((1 << v34) - 1);
      else
        v17 = v16 + dword_10077018[v34];
      *(_WORD *)(v25 + 2 * dword_10076418[v32]) = v17 << v26;
      v8 = v30;
    }
    ++v32;
    v10 = v32;
  }
  **(_DWORD **)(v2 + 20) = v18;
  *(_DWORD *)(*(_DWORD *)(v2 + 20) + 4) = v19;
  *(_DWORD *)(v2 + 376) = v20;
  *(_DWORD *)(v4 + 20) = v9;
  v6 = v31;
  *(_DWORD *)(v4 + 16) = v8;
LABEL_37:
  --*(_DWORD *)(v4 + 52);
  *(_DWORD *)(v4 + 32) = v6;
  return 1;
}
// 10076418: using guessed type int dword_10076418[];
// 10076FD8: using guessed type int dword_10076FD8[];
// 10077018: using guessed type int dword_10077018[];

//----- (1006431E) --------------------------------------------------------
char __cdecl sub_1006431E(int a1, int a2)
{
  int v2; // edi@1
  int v3; // esi@1
  bool v4; // zf@1
  bool v5; // sf@4
  int v6; // eax@4
  int v7; // eax@4
  signed int v8; // ecx@4
  int v9; // ebx@5
  char result; // al@11
  int v11; // [sp+Ch] [bp-2Ch]@4
  int v12; // [sp+10h] [bp-28h]@4
  int v13; // [sp+14h] [bp-24h]@4
  int v14; // [sp+18h] [bp-20h]@7
  int v15; // [sp+24h] [bp-14h]@7
  int v16; // [sp+28h] [bp-10h]@4
  int v17; // [sp+2Ch] [bp-Ch]@4
  int v18; // [sp+34h] [bp-4h]@1
  int v19; // [sp+40h] [bp+8h]@4

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 404);
  v4 = *(_DWORD *)(a1 + 252) == 0;
  v18 = 1 << *(_DWORD *)(a1 + 372);
  if ( v4 || *(_DWORD *)(v3 + 52) || sub_10063E9D(a1) )
  {
    v4 = *(_DWORD *)(a1 + 316) == 0;
    v5 = *(_DWORD *)(a1 + 316) < 0;
    v6 = *(_DWORD *)(a1 + 20);
    v16 = a1;
    v11 = *(_DWORD *)v6;
    v12 = *(_DWORD *)(v6 + 4);
    v13 = *(_DWORD *)(a1 + 376);
    v7 = *(_DWORD *)(v3 + 16);
    v8 = *(_DWORD *)(v3 + 20);
    v17 = v3 + 24;
    v19 = 0;
    if ( !(v5 | v4) )
    {
      do
      {
        v9 = *(_DWORD *)(a2 + 4 * v19);
        if ( v8 < 1 )
        {
          if ( !sub_10063735((int)&v11, v7, v8, 1) )
            goto LABEL_13;
          v7 = v14;
          v8 = v15;
        }
        --v8;
        if ( (v7 >> v8) & 1 )
          *(_WORD *)v9 |= v18;
        ++v19;
      }
      while ( v19 < *(_DWORD *)(v2 + 316) );
    }
    **(_DWORD **)(v2 + 20) = v11;
    *(_DWORD *)(*(_DWORD *)(v2 + 20) + 4) = v12;
    *(_DWORD *)(v2 + 376) = v13;
    --*(_DWORD *)(v3 + 52);
    *(_DWORD *)(v3 + 16) = v7;
    *(_DWORD *)(v3 + 20) = v8;
    result = 1;
  }
  else
  {
LABEL_13:
    result = 0;
  }
  return result;
}

//----- (10064400) --------------------------------------------------------
char __cdecl sub_10064400(int a1, int a2)
{
  int v2; // edi@1
  int v3; // ecx@1
  int v4; // esi@1
  bool v5; // zf@1
  char result; // al@3
  int v7; // eax@4
  signed int v8; // ebx@4
  int v9; // ecx@4
  int v10; // eax@4
  signed int v11; // eax@9
  int v12; // eax@10
  int v13; // ecx@10
  int v14; // ecx@15
  int v15; // eax@21
  int v16; // ecx@25
  int v17; // eax@26
  __int16 v18; // dx@31
  int v19; // eax@38
  int v20; // ecx@38
  signed int v21; // eax@42
  int i; // eax@48
  int v23; // eax@49
  __int16 v24; // dx@54
  int v25; // eax@63
  int v26; // ecx@64
  int v27; // [sp+4h] [bp-158h]@64
  int v28[64]; // [sp+8h] [bp-154h]@38
  int v29; // [sp+108h] [bp-54h]@4
  int v30; // [sp+10Ch] [bp-50h]@4
  int v31; // [sp+110h] [bp-4Ch]@4
  int v32; // [sp+114h] [bp-48h]@8
  int v33; // [sp+120h] [bp-3Ch]@8
  int v34; // [sp+124h] [bp-38h]@4
  int v35; // [sp+128h] [bp-34h]@4
  int v36; // [sp+130h] [bp-2Ch]@1
  int v37; // [sp+134h] [bp-28h]@1
  int v38; // [sp+138h] [bp-24h]@26
  int v39; // [sp+13Ch] [bp-20h]@15
  int v40; // [sp+140h] [bp-1Ch]@4
  int v41; // [sp+144h] [bp-18h]@4
  int v42; // [sp+148h] [bp-14h]@4
  int v43; // [sp+14Ch] [bp-10h]@1
  int v44; // [sp+150h] [bp-Ch]@4
  int v45; // [sp+154h] [bp-8h]@11
  int v46; // [sp+158h] [bp-4h]@4
  int v47; // [sp+164h] [bp+8h]@4

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 372);
  v4 = *(_DWORD *)(a1 + 404);
  v43 = *(_DWORD *)(a1 + 364);
  v37 = 1 << v3;
  v5 = *(_DWORD *)(a1 + 252) == 0;
  v36 = -1 << v3;
  if ( !v5 )
  {
    if ( !*(_DWORD *)(v4 + 52) )
    {
      result = sub_10063E9D(a1);
      if ( !result )
        return result;
    }
  }
  v7 = *(_DWORD *)(a1 + 20);
  v41 = 0;
  v34 = a1;
  v29 = *(_DWORD *)v7;
  v30 = *(_DWORD *)(v7 + 4);
  v31 = *(_DWORD *)(a1 + 376);
  v47 = *(_DWORD *)(v4 + 16);
  v8 = *(_DWORD *)(v4 + 20);
  v35 = v4 + 24;
  v9 = *(_DWORD *)(v4 + 32);
  v42 = *(_DWORD *)a2;
  v40 = *(_DWORD *)(v4 + 72);
  v10 = *(_DWORD *)(v2 + 360);
  v44 = v9;
  v46 = v10;
  if ( v9 )
  {
LABEL_47:
    if ( v44 )
    {
      for ( i = v46; i <= v43; i = v46++ + 1 )
      {
        v23 = v42 + 2 * dword_10076418[i];
        v5 = *(_WORD *)v23 == 0;
        v38 = v23;
        if ( !v5 )
        {
          if ( v8 < 1 )
          {
            if ( !sub_10063735((int)&v29, v47, v8, 1) )
              goto LABEL_63;
            v8 = v33;
            v47 = v32;
            v23 = v38;
          }
          --v8;
          if ( (v47 >> v8) & 1 )
          {
            v24 = v37;
            if ( !(*(_WORD *)v23 & v37) )
            {
              if ( *(_WORD *)v23 < 0 )
                v24 = v36;
              *(_WORD *)v23 += v24;
            }
          }
        }
      }
      --v44;
    }
LABEL_61:
    **(_DWORD **)(v2 + 20) = v29;
    *(_DWORD *)(*(_DWORD *)(v2 + 20) + 4) = v30;
    *(_DWORD *)(v2 + 376) = v31;
    --*(_DWORD *)(v4 + 52);
    *(_DWORD *)(v4 + 16) = v47;
    *(_DWORD *)(v4 + 32) = v44;
    *(_DWORD *)(v4 + 20) = v8;
    return 1;
  }
  while ( 1 )
  {
    if ( v10 > v43 )
      goto LABEL_61;
    if ( v8 >= 8 )
      goto LABEL_69;
    if ( !sub_10063735((int)&v29, v47, v8, 0) )
      goto LABEL_63;
    v8 = v33;
    v47 = v32;
    if ( v33 >= 8 )
    {
LABEL_69:
      v12 = (v47 >> (v8 - 8)) & 0xFF;
      v13 = *(_DWORD *)(v40 + 4 * v12 + 212);
      if ( v13 )
      {
        v8 -= v13;
        v45 = *(_BYTE *)(v12 + v40 + 1236);
        goto LABEL_15;
      }
      v11 = 9;
    }
    else
    {
      v11 = 1;
    }
    v45 = sub_1006381F((int)&v29, v47, v8, v40, v11);
    if ( v45 < 0 )
      goto LABEL_63;
    v8 = v33;
    v47 = v32;
LABEL_15:
    v14 = v45 >> 4;
    v5 = (v45 & 0xF) == 0;
    v45 &= 0xFu;
    v39 = v14;
    if ( v5 )
      break;
    if ( v45 != 1 )
    {
      *(_DWORD *)(*(_DWORD *)v2 + 20) = 114;
      (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v2 + 4))(v2, -1);
    }
    if ( v8 < 1 )
    {
      if ( !sub_10063735((int)&v29, v47, v8, 1) )
        goto LABEL_63;
      v8 = v33;
      v47 = v32;
    }
    --v8;
    v15 = v37;
    if ( !((v47 >> v8) & 1) )
      v15 = v36;
    v45 = v15;
LABEL_25:
    v16 = v46;
    do
    {
      v17 = v42 + 2 * dword_10076418[v16];
      v5 = *(_WORD *)v17 == 0;
      v38 = v42 + 2 * dword_10076418[v16];
      if ( v5 )
      {
        --v39;
        if ( v39 < 0 )
          break;
      }
      else
      {
        if ( v8 < 1 )
        {
          if ( !sub_10063735((int)&v29, v47, v8, 1) )
            goto LABEL_63;
          v8 = v33;
          v47 = v32;
          v17 = v38;
        }
        --v8;
        if ( (v47 >> v8) & 1 )
        {
          v18 = v37;
          if ( !(*(_WORD *)v17 & v37) )
          {
            if ( *(_WORD *)v17 < 0 )
              v18 = v36;
            *(_WORD *)v17 += v18;
          }
        }
      }
      v16 = v46++ + 1;
    }
    while ( v46 <= v43 );
    if ( v45 )
    {
      v19 = dword_10076418[v16];
      *(_WORD *)(v42 + 2 * v19) = v45;
      v20 = v41++;
      v28[v20] = v19;
    }
    ++v46;
    v10 = v46;
  }
  if ( v14 == 15 )
    goto LABEL_25;
  v21 = 1 << v14;
  v40 = 1 << v14;
  v44 = 1 << v14;
  if ( !v14 )
    goto LABEL_47;
  if ( v8 >= v14 )
    goto LABEL_46;
  if ( sub_10063735((int)&v29, v47, v8, v14) )
  {
    v8 = v33;
    v47 = v32;
    v21 = v40;
LABEL_46:
    v8 -= v39;
    v44 += (v21 - 1) & (v47 >> v8);
    goto LABEL_47;
  }
LABEL_63:
  v25 = v41;
  while ( v25 > 0 )
  {
    v26 = *(&v27 + v25--);
    *(_WORD *)(v42 + 2 * v26) = 0;
  }
  return 0;
}
// 10076418: using guessed type int dword_10076418[];
// 10064400: using guessed type int var_154[64];

//----- (1006476E) --------------------------------------------------------
int __cdecl sub_1006476E(int a1)
{
  int v1; // esi@1
  signed int v2; // eax@1
  int v3; // ebx@1
  int v4; // edi@1
  char v5; // dl@1
  bool v6; // zf@2
  signed int v7; // ecx@3
  int v8; // eax@9
  int v9; // eax@18
  int v10; // ebx@18
  int i; // edi@21
  int v12; // ecx@22
  int v13; // eax@39
  signed int v14; // edi@41
  signed int v15; // edi@46
  int v16; // eax@52
  int result; // eax@53
  int v18; // [sp+10h] [bp-10h]@18
  int v19; // [sp+10h] [bp-10h]@38
  int v20; // [sp+14h] [bp-Ch]@17
  int v21; // [sp+14h] [bp-Ch]@38
  int v22; // [sp+18h] [bp-8h]@1
  int v23; // [sp+1Ch] [bp-4h]@16
  int v24; // [sp+1Ch] [bp-4h]@37
  bool v25; // [sp+2Bh] [bp+Bh]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 360);
  v3 = *(_DWORD *)(a1 + 404);
  v4 = 0;
  v25 = v2 == 0;
  v5 = 0;
  v22 = v3;
  if ( v2 )
  {
    v7 = *(_DWORD *)(v1 + 364);
    if ( v2 > v7 || v7 >= 64 )
      v5 = 1;
    v6 = *(_DWORD *)(v1 + 288) == 1;
  }
  else
  {
    v6 = *(_DWORD *)(v1 + 364) == 0;
  }
  if ( !v6 )
    v5 = 1;
  v8 = *(_DWORD *)(v1 + 368);
  if ( v8 && *(_DWORD *)(v1 + 372) != v8 - 1 )
    v5 = 1;
  if ( *(_DWORD *)(v1 + 372) > 13 )
    v5 = 1;
  if ( v5 )
  {
    *(_DWORD *)(*(_DWORD *)v1 + 20) = 14;
    *(_DWORD *)(*(_DWORD *)v1 + 24) = *(_DWORD *)(v1 + 360);
    *(_DWORD *)(*(_DWORD *)v1 + 28) = *(_DWORD *)(v1 + 364);
    *(_DWORD *)(*(_DWORD *)v1 + 32) = *(_DWORD *)(v1 + 368);
    *(_DWORD *)(*(_DWORD *)v1 + 36) = *(_DWORD *)(v1 + 372);
    (**(void (__cdecl ***)(_DWORD))v1)(v1);
  }
  v23 = 0;
  if ( *(_DWORD *)(v1 + 288) > 0 )
  {
    v20 = v1 + 292;
    do
    {
      v9 = *(_DWORD *)(*(_DWORD *)v20 + 4);
      v10 = *(_DWORD *)(v1 + 140) + (*(_DWORD *)(*(_DWORD *)v20 + 4) << 8);
      v18 = *(_DWORD *)(*(_DWORD *)v20 + 4);
      if ( !v25 && *(_DWORD *)v10 < v4 )
      {
        *(_DWORD *)(*(_DWORD *)v1 + 20) = 111;
        *(_DWORD *)(*(_DWORD *)v1 + 24) = v9;
        *(_DWORD *)(*(_DWORD *)v1 + 28) = v4;
        (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, -1);
        v9 = v18;
      }
      for ( i = *(_DWORD *)(v1 + 360); i <= *(_DWORD *)(v1 + 364); ++i )
      {
        v12 = *(_DWORD *)(v10 + 4 * i);
        if ( v12 < 0 )
          v12 = 0;
        if ( *(_DWORD *)(v1 + 368) != v12 )
        {
          *(_DWORD *)(*(_DWORD *)v1 + 20) = 111;
          *(_DWORD *)(*(_DWORD *)v1 + 24) = v9;
          *(_DWORD *)(*(_DWORD *)v1 + 28) = i;
          (*(void (__cdecl **)(int, signed int))(*(_DWORD *)v1 + 4))(v1, -1);
          v9 = v18;
        }
        *(_DWORD *)(v10 + 4 * i) = *(_DWORD *)(v1 + 372);
      }
      ++v23;
      v20 += 4;
      v4 = 0;
    }
    while ( v23 < *(_DWORD *)(v1 + 288) );
    v3 = v22;
  }
  if ( *(_DWORD *)(v1 + 368) == v4 )
  {
    if ( v25 )
      *(_DWORD *)(v3 + 4) = sub_10063EF8;
    else
      *(_DWORD *)(v3 + 4) = sub_100640F5;
  }
  else
  {
    if ( v25 )
      *(_DWORD *)(v3 + 4) = sub_1006431E;
    else
      *(_DWORD *)(v3 + 4) = sub_10064400;
  }
  v24 = v4;
  if ( *(_DWORD *)(v1 + 288) > v4 )
  {
    v19 = v3 + 36;
    v21 = v1 + 292;
    while ( 1 )
    {
      v13 = *(_DWORD *)v21;
      if ( !v25 )
        break;
      if ( *(_DWORD *)(v1 + 368) == v4 )
      {
        v14 = *(_DWORD *)(v13 + 20);
        if ( v14 < 0 || v14 >= 4 || !*(_DWORD *)(v1 + 4 * v14 + 160) )
        {
          *(_DWORD *)(*(_DWORD *)v1 + 20) = 49;
          *(_DWORD *)(*(_DWORD *)v1 + 24) = v14;
          (**(void (__cdecl ***)(_DWORD))v1)(v1);
        }
        sub_1006358B(v1, *(_DWORD *)(v1 + 4 * v14 + 160), v22 + 4 * v14 + 56);
LABEL_51:
        v3 = v22;
        v4 = 0;
      }
      v16 = v19;
      ++v24;
      v21 += 4;
      v19 += 4;
      *(_DWORD *)v16 = v4;
      if ( v24 >= *(_DWORD *)(v1 + 288) )
        goto LABEL_53;
    }
    v15 = *(_DWORD *)(v13 + 24);
    if ( v15 < 0 || v15 >= 4 || !*(_DWORD *)(v1 + 4 * v15 + 176) )
    {
      *(_DWORD *)(*(_DWORD *)v1 + 20) = 49;
      *(_DWORD *)(*(_DWORD *)v1 + 24) = v15;
      (**(void (__cdecl ***)(_DWORD))v1)(v1);
    }
    sub_1006358B(v1, *(_DWORD *)(v1 + 4 * v15 + 176), v22 + 4 * v15 + 56);
    *(_DWORD *)(v22 + 72) = *(_DWORD *)(v22 + 4 * v15 + 56);
    goto LABEL_51;
  }
LABEL_53:
  *(_BYTE *)(v3 + 24) = 0;
  *(_DWORD *)(v3 + 20) = v4;
  *(_DWORD *)(v3 + 16) = v4;
  *(_DWORD *)(v3 + 32) = v4;
  result = *(_DWORD *)(v1 + 252);
  *(_DWORD *)(v3 + 52) = result;
  return result;
}

//----- (10064A11) --------------------------------------------------------
int __cdecl sub_10064A11(int a1)
{
  int v1; // eax@1
  int result; // eax@1
  int v3; // edx@1
  bool v4; // zf@1
  bool v5; // sf@1
  int v6; // ebx@1
  void *v7; // edi@2

  v1 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 80);
  *(_DWORD *)(a1 + 404) = v1;
  *(_DWORD *)v1 = sub_1006476E;
  *(_DWORD *)(v1 + 56) = 0;
  *(_DWORD *)(v1 + 60) = 0;
  *(_DWORD *)(v1 + 64) = 0;
  *(_DWORD *)(v1 + 68) = 0;
  result = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, *(_DWORD *)(a1 + 32) << 8);
  v3 = 0;
  v4 = *(_DWORD *)(a1 + 32) == 0;
  v5 = *(_DWORD *)(a1 + 32) < 0;
  *(_DWORD *)(a1 + 140) = result;
  v6 = result;
  if ( !(v5 | v4) )
  {
    do
    {
      result = -1;
      v7 = (void *)v6;
      v6 += 256;
      ++v3;
      memset(v7, -1, 0x100u);
    }
    while ( v3 < *(_DWORD *)(a1 + 32) );
  }
  return result;
}

//----- (10064A72) --------------------------------------------------------
int __cdecl sub_10064A72(int a1)
{
  signed int v1; // ecx@1
  int v2; // esi@1
  bool v3; // zf@1
  bool v4; // sf@1
  int result; // eax@1
  int v6; // edi@1
  int v7; // ebx@2
  int v8; // edi@2
  int v9; // edx@23
  int v10; // edx@28
  int v11; // eax@28
  signed int v12; // ecx@29
  double v13; // st7@30
  signed int v14; // eax@33
  int v15; // edx@33
  int v16; // eax@36
  int v17; // ecx@36
  signed int v18; // edx@36
  int v19; // [sp+Ch] [bp-14h]@23
  int v20; // [sp+10h] [bp-10h]@2
  int v21; // [sp+14h] [bp-Ch]@1
  signed int v22; // [sp+18h] [bp-8h]@28
  int v23; // [sp+18h] [bp-8h]@33
  signed int v24; // [sp+1Ch] [bp-4h]@1
  void *v25; // [sp+28h] [bp+8h]@1

  v1 = 0;
  v2 = a1;
  v3 = *(_DWORD *)(a1 + 32) == 0;
  v4 = *(_DWORD *)(a1 + 32) < 0;
  result = *(_DWORD *)(a1 + 408);
  v6 = *(_DWORD *)(a1 + 196);
  v24 = 0;
  v25 = 0;
  v21 = 0;
  if ( !(v4 | v3) )
  {
    v7 = result + 44;
    v8 = v6 + 36;
    v20 = result + 44;
    while ( 1 )
    {
      if ( *(_DWORD *)v8 == 1 )
      {
        v25 = sub_10068DFF;
        goto LABEL_20;
      }
      if ( *(_DWORD *)v8 == 2 )
      {
        v25 = sub_10068C41;
        goto LABEL_20;
      }
      if ( *(_DWORD *)v8 == 4 )
      {
        v25 = sub_1006892C;
        goto LABEL_20;
      }
      if ( *(_DWORD *)v8 == 8 )
      {
        if ( *(_DWORD *)(v2 + 68) == v1 )
        {
          v25 = sub_10068E3C;
LABEL_20:
          v24 = v1;
          goto LABEL_21;
        }
        if ( *(_DWORD *)(v2 + 68) - v1 == 1 )
        {
          v25 = sub_10068E88;
          v24 = 1;
          goto LABEL_21;
        }
        if ( *(_DWORD *)(v2 + 68) - v1 == 2 )
        {
          v25 = sub_10068ED4;
          v24 = 2;
          goto LABEL_21;
        }
        *(_DWORD *)(*(_DWORD *)v2 + 20) = 47;
      }
      else
      {
        *(_DWORD *)(*(_DWORD *)v2 + 20) = 6;
        *(_DWORD *)(*(_DWORD *)v2 + 24) = *(_DWORD *)v8;
      }
      (**(void (__cdecl ***)(_DWORD))v2)(v2);
LABEL_21:
      *(_DWORD *)(v7 - 40) = v25;
      if ( *(_BYTE *)(v8 + 12) )
      {
        if ( *(_DWORD *)v7 != v24 )
        {
          v9 = *(_DWORD *)(v8 + 40);
          v19 = *(_DWORD *)(v8 + 40);
          if ( v9 )
          {
            *(_DWORD *)v7 = v24;
            if ( v24 )
            {
              if ( v24 == 1 )
              {
                v14 = (signed int)&unk_10077058;
                v15 = v9 - (_DWORD)&unk_10077058;
                v23 = *(_DWORD *)(v8 + 44) - (_DWORD)&unk_10077058;
                do
                {
                  *(_WORD *)(v23 + v14) = (*(_WORD *)v14 * (signed int)*(_WORD *)(v15 + v14) + 2048) >> 12;
                  v14 += 2;
                }
                while ( v14 < (signed int)&unk_100770D8 );
              }
              else
              {
                if ( v24 == 2 )
                {
                  v10 = *(_DWORD *)(v8 + 44);
                  v11 = 0;
                  v22 = (signed int)&unk_100770D8;
                  do
                  {
                    v12 = (signed int)&unk_100770D8;
                    do
                    {
                      v13 = (double)*(_WORD *)(v19 + 2 * v11) * *(double *)v12;
                      v12 += 8;
                      *(float *)(v10 + 4 * v11++) = v13 * *(double *)v22;
                    }
                    while ( v12 < (signed int)&unk_10077118 );
                    v22 += 8;
                  }
                  while ( v22 < (signed int)&unk_10077118 );
                }
                else
                {
                  *(_DWORD *)(*(_DWORD *)v2 + 20) = 47;
                  (**(void (__cdecl ***)(_DWORD))v2)(v2);
                }
              }
            }
            else
            {
              v16 = *(_DWORD *)(v8 + 44);
              v17 = v9 - v16;
              v18 = 64;
              do
              {
                *(_WORD *)v16 = *(_WORD *)(v17 + v16);
                v16 += 2;
                --v18;
              }
              while ( v18 );
            }
          }
        }
      }
      ++v21;
      result = v21;
      v7 = v20 + 4;
      v8 += 84;
      v20 += 4;
      if ( v21 >= *(_DWORD *)(v2 + 32) )
        return result;
      v1 = 0;
    }
  }
  return result;
}

//----- (10064C29) --------------------------------------------------------
int __cdecl sub_10064C29(int a1)
{
  int v1; // esi@1
  int result; // eax@1
  int v3; // ebx@2
  void *v4; // edi@3
  int v5; // eax@3
  int v6; // [sp+4h] [bp-4h]@1
  int v7; // [sp+10h] [bp+8h]@2

  v1 = a1;
  result = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 84);
  v6 = 0;
  *(_DWORD *)(a1 + 408) = result;
  *(_DWORD *)result = sub_10064A72;
  if ( *(_DWORD *)(a1 + 32) > 0 )
  {
    v7 = *(_DWORD *)(a1 + 196) + 80;
    v3 = result + 44;
    do
    {
      v4 = (void *)(**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 256);
      v5 = v7;
      v7 += 84;
      *(_DWORD *)v5 = v4;
      memset(v4, 0, 0x100u);
      *(_DWORD *)v3 = -1;
      ++v6;
      result = v6;
      v3 += 4;
    }
    while ( v6 < *(_DWORD *)(v1 + 32) );
  }
  return result;
}

//----- (10064C9D) --------------------------------------------------------
int __cdecl sub_10064C9D(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // ebx@1
  int v8; // esi@1
  int v9; // edi@1
  int v10; // eax@1
  int result; // eax@3

  v7 = a1;
  v8 = *(_DWORD *)(a1 + 392);
  v9 = a6;
  v10 = a7 - *(_DWORD *)a6;
  if ( (unsigned int)v10 > *(_DWORD *)(v8 + 16) )
    v10 = *(_DWORD *)(v8 + 16);
  a1 = 0;
  (*(void (__cdecl **)(int, int, int, int, _DWORD, int *, int))(*(_DWORD *)(v7 + 412) + 4))(
    v7,
    a2,
    a3,
    a4,
    *(_DWORD *)(v8 + 12),
    &a1,
    v10);
  (*(void (__cdecl **)(int, _DWORD, int, int))(*(_DWORD *)(v7 + 420) + 4))(
    v7,
    *(_DWORD *)(v8 + 12),
    a5 + 4 * *(_DWORD *)v9,
    a1);
  result = a1;
  *(_DWORD *)v9 += a1;
  return result;
}

//----- (10064D02) --------------------------------------------------------
unsigned int __cdecl sub_10064D02(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ebx@1
  int v7; // esi@1
  int v8; // edi@1
  unsigned int v9; // ecx@3
  unsigned int result; // eax@5
  unsigned int v11; // [sp+14h] [bp+8h]@3
  int v12; // [sp+14h] [bp+8h]@4

  v6 = a1;
  v7 = *(_DWORD *)(a1 + 392);
  v8 = v7 + 24;
  if ( !*(_DWORD *)(v7 + 24) )
    *(_DWORD *)(v7 + 12) = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, signed int))(*(_DWORD *)(a1 + 4) + 28))(
                             a1,
                             *(_DWORD *)(v7 + 8),
                             *(_DWORD *)(v7 + 20),
                             *(_DWORD *)(v7 + 16),
                             1);
  v11 = *(_DWORD *)v8;
  (*(void (__cdecl **)(int, int, int, int, _DWORD, int, _DWORD))(*(_DWORD *)(v6 + 412) + 4))(
    v6,
    a2,
    a3,
    a4,
    *(_DWORD *)(v7 + 12),
    v7 + 24,
    *(_DWORD *)(v7 + 16));
  v9 = v11;
  if ( *(_DWORD *)v8 > v11 )
  {
    v12 = *(_DWORD *)v8 - v11;
    (*(void (__cdecl **)(int, unsigned int, _DWORD, int))(*(_DWORD *)(v6 + 420) + 4))(
      v6,
      *(_DWORD *)(v7 + 12) + 4 * v9,
      0,
      v12);
    *(_DWORD *)a6 += v12;
  }
  result = *(_DWORD *)(v7 + 16);
  if ( *(_DWORD *)v8 >= result )
  {
    *(_DWORD *)(v7 + 20) += result;
    *(_DWORD *)v8 = 0;
  }
  return result;
}

//----- (10064D92) --------------------------------------------------------
unsigned int __cdecl sub_10064D92(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // esi@1
  int v8; // edi@3
  unsigned int result; // eax@7

  v7 = *(_DWORD *)(a1 + 392);
  if ( !*(_DWORD *)(v7 + 24) )
    *(_DWORD *)(v7 + 12) = (*(int (__cdecl **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)(a1 + 4) + 28))(
                             a1,
                             *(_DWORD *)(v7 + 8),
                             *(_DWORD *)(v7 + 20),
                             *(_DWORD *)(v7 + 16),
                             0);
  v8 = *(_DWORD *)(v7 + 16) - *(_DWORD *)(v7 + 24);
  if ( v8 > (unsigned int)(a7 - *(_DWORD *)a6) )
    v8 = a7 - *(_DWORD *)a6;
  if ( v8 > (unsigned int)(*(_DWORD *)(a1 + 96) - *(_DWORD *)(v7 + 20)) )
    v8 = *(_DWORD *)(a1 + 96) - *(_DWORD *)(v7 + 20);
  (*(void (__cdecl **)(int, int, int, int))(*(_DWORD *)(a1 + 420) + 4))(
    a1,
    *(_DWORD *)(v7 + 12) + 4 * *(_DWORD *)(v7 + 24),
    a5 + 4 * *(_DWORD *)a6,
    v8);
  *(_DWORD *)a6 += v8;
  *(_DWORD *)(v7 + 24) += v8;
  result = *(_DWORD *)(v7 + 16);
  if ( *(_DWORD *)(v7 + 24) >= result )
  {
    *(_DWORD *)(v7 + 20) += result;
    *(_DWORD *)(v7 + 24) = 0;
  }
  return result;
}

//----- (10064EC4) --------------------------------------------------------
int __cdecl sub_10064EC4(int a1, char a2)
{
  int result; // eax@1
  int v3; // edi@1
  signed int v4; // eax@2
  int v5; // ebp@3
  signed int v6; // ST14_4@3
  int v7; // eax@3

  result = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 28);
  v3 = result;
  *(_DWORD *)(a1 + 392) = result;
  *(_DWORD *)result = sub_10064E1E;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  if ( *(_BYTE *)(a1 + 74) )
  {
    v4 = *(_DWORD *)(a1 + 272);
    *(_DWORD *)(v3 + 16) = v4;
    if ( a2 )
    {
      v5 = *(_DWORD *)(a1 + 4);
      v6 = v4;
      v7 = sub_1005F0A6(*(_DWORD *)(a1 + 96), v4);
      result = (*(int (__cdecl **)(int, signed int, _DWORD, int, int, signed int))(v5 + 16))(
                 a1,
                 1,
                 0,
                 *(_DWORD *)(a1 + 92) * *(_DWORD *)(a1 + 100),
                 v7,
                 v6);
      *(_DWORD *)(v3 + 8) = result;
    }
    else
    {
      result = (*(int (__cdecl **)(int, signed int, int, signed int))(*(_DWORD *)(a1 + 4) + 8))(
                 a1,
                 1,
                 *(_DWORD *)(a1 + 92) * *(_DWORD *)(a1 + 100),
                 v4);
      *(_DWORD *)(v3 + 12) = result;
    }
  }
  return result;
}
// 10064E1E: using guessed type int sub_10064E1E();

//----- (10064F47) --------------------------------------------------------
int __cdecl sub_10064F47(int a1)
{
  int v1; // ecx@1
  int result; // eax@1

  v1 = *(_DWORD *)(a1 + 412);
  *(_DWORD *)(v1 + 92) = *(_DWORD *)(a1 + 272);
  result = *(_DWORD *)(a1 + 96);
  *(_DWORD *)(v1 + 96) = result;
  return result;
}

//----- (10064F61) --------------------------------------------------------
int __cdecl sub_10064F61(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // ebx@1
  int v8; // esi@1
  int v9; // edi@3
  int v10; // edi@6
  int result; // eax@10
  int v12; // [sp+Ch] [bp-4h]@2
  int v13; // [sp+18h] [bp+8h]@2
  int v14; // [sp+30h] [bp+20h]@8

  v7 = a1;
  v8 = *(_DWORD *)(a1 + 412);
  if ( *(_DWORD *)(v8 + 92) >= *(_DWORD *)(a1 + 272) )
  {
    v13 = 0;
    v12 = *(_DWORD *)(v7 + 196);
    if ( *(_DWORD *)(v7 + 32) > 0 )
    {
      v9 = v8 + 12;
      do
      {
        (*(void (__cdecl **)(int, int, int, int))(v9 + 40))(
          v7,
          v12,
          *(_DWORD *)(a2 + 4 * v13) + 4 * *(_DWORD *)a3 * *(_DWORD *)(v9 + 88),
          v9);
        v12 += 84;
        ++v13;
        v9 += 4;
      }
      while ( v13 < *(_DWORD *)(v7 + 32) );
    }
    *(_DWORD *)(v8 + 92) = 0;
  }
  v10 = *(_DWORD *)(v7 + 272) - *(_DWORD *)(v8 + 92);
  if ( (unsigned int)v10 > *(_DWORD *)(v8 + 96) )
    v10 = *(_DWORD *)(v8 + 96);
  v14 = a7 - *(_DWORD *)a6;
  if ( v10 > (unsigned int)v14 )
    v10 = v14;
  (*(void (__cdecl **)(int, int, _DWORD, int, int))(*(_DWORD *)(v7 + 416) + 4))(
    v7,
    v8 + 12,
    *(_DWORD *)(v8 + 92),
    a5 + 4 * *(_DWORD *)a6,
    v10);
  result = a6;
  *(_DWORD *)result += v10;
  *(_DWORD *)(v8 + 96) -= v10;
  *(_DWORD *)(v8 + 92) += v10;
  if ( *(_DWORD *)(v8 + 92) >= *(_DWORD *)(v7 + 272) )
  {
    result = a3;
    ++*(_DWORD *)result;
  }
  return result;
}

//----- (10065027) --------------------------------------------------------
int __cdecl sub_10065027(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a4;
  *(_DWORD *)a4 = a3;
  return result;
}

//----- (1006503A) --------------------------------------------------------
const void **__cdecl sub_1006503A(int a1, int a2, int a3, int *a4)
{
  int v4; // ebx@1
  int v5; // esi@1
  int v6; // eax@1
  unsigned int v7; // ecx@1
  const void **result; // eax@1
  int v9; // edi@1
  int v10; // edx@3
  unsigned int v11; // eax@3
  int v12; // ecx@3
  char v13; // al@4
  int v14; // eax@5
  int v15; // edi@5
  int i; // ecx@5
  int v17; // [sp+Ch] [bp-14h]@3
  int v18; // [sp+14h] [bp-Ch]@1
  int v19; // [sp+18h] [bp-8h]@1
  signed int v20; // [sp+1Ch] [bp-4h]@1
  void *v21; // [sp+28h] [bp+8h]@3
  int v22; // [sp+2Ch] [bp+Ch]@2
  unsigned int v23; // [sp+34h] [bp+14h]@1

  v4 = *a4;
  v5 = a1;
  v6 = *(_DWORD *)(a2 + 4) + *(_DWORD *)(a1 + 412);
  v7 = *(_BYTE *)(v6 + 140);
  result = (const void **)*(_BYTE *)(v6 + 150);
  v9 = 0;
  v18 = *a4;
  v23 = v7;
  v20 = (signed int)result;
  v19 = 0;
  if ( *(_DWORD *)(a1 + 272) > 0 )
  {
    v22 = a3;
    do
    {
      v10 = *(_DWORD *)v22;
      v11 = *(_DWORD *)(v4 + 4 * v9);
      v12 = v11 + *(_DWORD *)(v5 + 92);
      v21 = *(void **)(v4 + 4 * v9);
      v17 = v11 + *(_DWORD *)(v5 + 92);
      if ( v11 < v12 )
      {
        do
        {
          v13 = *(_BYTE *)v10++;
          if ( (signed int)v23 > 0 )
          {
            LOBYTE(v4) = v13;
            BYTE1(v4) = v13;
            v14 = v4 << 16;
            LOWORD(v14) = v4;
            v4 = v18;
            memset32(v21, v14, v23 >> 2);
            v15 = (int)((char *)v21 + 4 * (v23 >> 2));
            for ( i = v23 & 3; i; --i )
              *(_BYTE *)v15++ = v14;
            v9 = v19;
            v12 = v17;
            v21 = (char *)v21 + v23;
          }
        }
        while ( (unsigned int)v21 < v12 );
      }
      result = (const void **)v20;
      if ( v20 > 1 )
        result = sub_1005F0BE(v4, v9, v4, v9 + 1, v20 - 1, *(_DWORD *)(v5 + 92));
      v9 += v20;
      v22 += 4;
      v19 = v9;
    }
    while ( v9 < *(_DWORD *)(v5 + 272) );
  }
  return result;
}

//----- (10065117) --------------------------------------------------------
int **__cdecl sub_10065117(int a1, int a2, int a3, int **a4)
{
  int **result; // eax@1
  int v5; // ebx@1
  int *v6; // esi@1
  int v7; // edx@2
  int v8; // eax@3
  int v9; // edi@3
  int v10; // ecx@3
  char v11; // dl@4
  int v12; // eax@4
  int v13; // [sp+10h] [bp+8h]@2
  int **v14; // [sp+1Ch] [bp+14h]@1

  result = a4;
  v14 = 0;
  v5 = a1;
  v6 = *result;
  if ( *(_DWORD *)(a1 + 272) > 0 )
  {
    v7 = a3 - (_DWORD)v6;
    v13 = a3 - (_DWORD)v6;
    do
    {
      v8 = *v6;
      v9 = *(int *)((char *)v6 + v7);
      v10 = *v6 + *(_DWORD *)(v5 + 92);
      if ( *v6 < (unsigned int)v10 )
      {
        do
        {
          v11 = *(_BYTE *)v9++;
          *(_BYTE *)v8 = v11;
          v12 = v8 + 1;
          *(_BYTE *)v12 = v11;
          v8 = v12 + 1;
        }
        while ( v8 < (unsigned int)v10 );
        v7 = v13;
      }
      v14 = (int **)((char *)v14 + 1);
      result = v14;
      ++v6;
    }
    while ( (signed int)v14 < *(_DWORD *)(v5 + 272) );
  }
  return result;
}

//----- (1006516E) --------------------------------------------------------
const void **__cdecl sub_1006516E(int a1, int a2, int a3, const void **a4)
{
  const void **result; // eax@1
  int v5; // ebx@1
  int v6; // esi@1
  int v7; // edx@3
  int v8; // ecx@3
  int v9; // eax@3
  char v10; // bl@4
  int v11; // ecx@4
  const void *v12; // [sp+Ch] [bp-4h]@1
  int v13; // [sp+24h] [bp+14h]@2

  result = a4;
  v5 = (int)*a4;
  v6 = 0;
  v12 = *a4;
  if ( *(_DWORD *)(a1 + 272) > 0 )
  {
    v13 = a3;
    do
    {
      v7 = *(_DWORD *)v13;
      v8 = *(_DWORD *)(v5 + 4 * v6);
      v9 = v8 + *(_DWORD *)(a1 + 92);
      if ( v8 < (unsigned int)v9 )
      {
        do
        {
          v10 = *(_BYTE *)v7++;
          *(_BYTE *)v8 = v10;
          v11 = v8 + 1;
          *(_BYTE *)v11 = v10;
          v8 = v11 + 1;
        }
        while ( v8 < (unsigned int)v9 );
        v5 = (int)v12;
      }
      result = sub_1005F0BE(v5, v6, v5, v6 + 1, 1, *(_DWORD *)(a1 + 92));
      v13 += 4;
      v6 += 2;
    }
    while ( v6 < *(_DWORD *)(a1 + 272) );
  }
  return result;
}

//----- (100651D8) --------------------------------------------------------
int __cdecl sub_100651D8(int a1, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  int result; // eax@1
  int v7; // ebx@2
  int v8; // eax@3
  int v9; // edx@3
  _BYTE *v10; // ecx@3
  int v11; // eax@3
  int v12; // ecx@3
  int v13; // edi@5
  int v14; // edx@5
  int v15; // ecx@5
  int v16; // edx@6
  int v17; // [sp+4h] [bp-4h]@4
  int v18; // [sp+1Ch] [bp+14h]@1

  v4 = a4;
  v18 = 0;
  v5 = *(_DWORD *)v4;
  result = a1;
  if ( *(_DWORD *)(a1 + 272) > 0 )
  {
    v7 = a3 - v5;
    do
    {
      v8 = *(_DWORD *)(v7 + v5);
      v9 = *(_BYTE *)v8;
      v10 = *(_BYTE **)v5;
      **(_BYTE **)v5 = v9;
      v11 = v8 + 1;
      ++v10;
      *v10 = (3 * v9 + *(_BYTE *)v11 + 2) >> 2;
      v12 = (int)(v10 + 1);
      if ( *(_DWORD *)(a2 + 40) != 2 )
      {
        v17 = *(_DWORD *)(a2 + 40) - 2;
        do
        {
          v13 = *(_BYTE *)v11;
          v14 = *(_BYTE *)(v11++ - 1);
          v13 *= 3;
          *(_BYTE *)v12 = (v14 + v13 + 1) >> 2;
          v15 = v12 + 1;
          *(_BYTE *)v15 = (*(_BYTE *)v11 + v13 + 2) >> 2;
          v12 = v15 + 1;
          --v17;
        }
        while ( v17 );
      }
      v16 = *(_BYTE *)v11;
      ++v18;
      *(_BYTE *)v12 = (*(_BYTE *)(v11 - 1) + 3 * v16 + 1) >> 2;
      result = a1;
      *(_BYTE *)(v12 + 1) = v16;
      v5 += 4;
    }
    while ( v18 < *(_DWORD *)(a1 + 272) );
  }
  return result;
}

//----- (1006527C) --------------------------------------------------------
int __cdecl sub_1006527C(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // edx@4
  int v6; // edi@5
  int v7; // esi@7
  int v8; // ecx@7
  int v9; // edi@7
  int v10; // edx@7
  int v11; // eax@7
  int v12; // edi@7
  int v13; // edx@7
  int v14; // esi@7
  int v15; // esi@9
  bool v16; // zf@9
  int v17; // [sp+0h] [bp-14h]@1
  int v18; // [sp+4h] [bp-10h]@8
  int v19; // [sp+8h] [bp-Ch]@2
  int v20; // [sp+Ch] [bp-8h]@7
  int v21; // [sp+10h] [bp-4h]@1
  signed int v22; // [sp+28h] [bp+14h]@3

  v21 = 0;
  v17 = *(_DWORD *)a4;
  result = a1;
  if ( *(_DWORD *)(a1 + 272) > 0 )
  {
    result = a3;
    v19 = a3;
    do
    {
      v22 = 0;
      do
      {
        v5 = *(_DWORD *)result;
        if ( v22 )
          v6 = *(_DWORD *)(result + 4);
        else
          v6 = *(_DWORD *)(result - 4);
        v7 = *(_DWORD *)(v17 + 4 * v21++);
        v8 = *(_BYTE *)v6 + 3 * *(_BYTE *)v5;
        v9 = v6 + 1;
        v10 = v5 + 1;
        v11 = *(_BYTE *)v9 + 3 * *(_BYTE *)v10;
        *(_BYTE *)v7 = (4 * v8 + 8) >> 4;
        v12 = v9 + 1;
        v13 = v10 + 1;
        ++v7;
        *(_BYTE *)v7 = (v8 + v11 + 2 * v8 + 7) >> 4;
        v14 = v7 + 1;
        v20 = v11;
        if ( *(_DWORD *)(a2 + 40) != 2 )
        {
          v18 = *(_DWORD *)(a2 + 40) - 2;
          do
          {
            v11 = *(_BYTE *)v12 + 3 * *(_BYTE *)v13;
            *(_BYTE *)v14 = (3 * v20 + v8 + 8) >> 4;
            ++v12;
            ++v13;
            v15 = v14 + 1;
            *(_BYTE *)v15 = (3 * v20 + v11 + 7) >> 4;
            v8 = v20;
            v14 = v15 + 1;
            v16 = v18-- == 1;
            v20 = v11;
          }
          while ( !v16 );
        }
        ++v22;
        *(_BYTE *)v14 = (v11 + v8 + 2 * v11 + 8) >> 4;
        *(_BYTE *)(v14 + 1) = (4 * v11 + 7) >> 4;
        result = v19;
      }
      while ( v22 < 2 );
      result = v19 + 4;
      v19 += 4;
    }
    while ( v21 < *(_DWORD *)(a1 + 272) );
  }
  return result;
}

//----- (10065383) --------------------------------------------------------
int __cdecl sub_10065383(int a1)
{
  int v1; // esi@1
  int result; // eax@1
  int v3; // ebx@1
  int v4; // ecx@8
  int v5; // edi@8
  signed int v6; // ebx@9
  int v7; // eax@9
  int v8; // edx@9
  signed __int64 v9; // qax@26
  signed __int64 v10; // qt2@26
  int v11; // ST0C_4@30
  int v12; // ebx@30
  int v13; // eax@30
  int v14; // eax@30
  signed int v15; // [sp+Ch] [bp-18h]@9
  int v16; // [sp+10h] [bp-14h]@8
  int v17; // [sp+14h] [bp-10h]@1
  int v18; // [sp+18h] [bp-Ch]@9
  char v19; // [sp+18h] [bp-Ch]@26
  int v20; // [sp+1Ch] [bp-8h]@7
  signed int v21; // [sp+20h] [bp-4h]@9
  bool v22; // [sp+2Fh] [bp+Bh]@5

  v1 = a1;
  result = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 160);
  v3 = result;
  *(_DWORD *)(a1 + 412) = result;
  *(_BYTE *)(result + 8) = 0;
  *(_DWORD *)result = sub_10064F47;
  *(_DWORD *)(result + 4) = sub_10064F61;
  v17 = result;
  if ( *(_BYTE *)(a1 + 264) )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 23;
    result = (**(int (__cdecl ***)(_DWORD))a1)(a1);
  }
  v22 = *(_BYTE *)(a1 + 72) && *(_DWORD *)(a1 + 276) > 1;
  v20 = 0;
  if ( *(_DWORD *)(v1 + 32) > 0 )
  {
    v4 = v3 + 52;
    v5 = *(_DWORD *)(v1 + 196) + 36;
    v16 = v3 + 52;
    do
    {
      v6 = *(_DWORD *)(v1 + 276);
      v18 = *(_DWORD *)v5 * *(_DWORD *)(v5 - 28) / v6;
      v7 = *(_DWORD *)v5 * *(_DWORD *)(v5 - 24) / v6;
      v8 = *(_DWORD *)(v1 + 268);
      v21 = *(_DWORD *)(v1 + 272);
      *(_DWORD *)(v4 + 48) = v7;
      v15 = v7;
      if ( *(_BYTE *)(v5 + 12) )
      {
        if ( v18 != v8 || v7 != v21 )
        {
          if ( 2 * v18 == v8 )
          {
            if ( v7 == v21 )
            {
              if ( v22 && *(_DWORD *)(v5 + 4) > 2u )
                *(_DWORD *)v4 = sub_100651D8;
              else
                *(_DWORD *)v4 = sub_10065117;
LABEL_30:
              v11 = *(_DWORD *)(v1 + 272);
              v12 = *(_DWORD *)(v1 + 4);
              v13 = sub_1005F0A6(*(_DWORD *)(v1 + 92), *(_DWORD *)(v1 + 268));
              v14 = (*(int (__cdecl **)(int, signed int, int, int))(v12 + 8))(v1, 1, v13, v11);
              v4 = v16;
              *(_DWORD *)(v16 - 40) = v14;
              goto LABEL_31;
            }
            if ( 2 * v18 == v8 && 2 * v7 == v21 )
            {
              if ( v22 && *(_DWORD *)(v5 + 4) > 2u )
              {
                *(_DWORD *)v4 = sub_1006527C;
                *(_BYTE *)(v17 + 8) = 1;
              }
              else
              {
                *(_DWORD *)v4 = sub_1006516E;
              }
              goto LABEL_30;
            }
          }
          v9 = v8;
          v10 = v9 % v18;
          v19 = v9 / v18;
          if ( (_DWORD)v10 || v21 % v15 )
          {
            *(_DWORD *)(*(_DWORD *)v1 + 20) = 37;
            (**(void (__cdecl ***)(_DWORD))v1)(v1);
          }
          else
          {
            *(_DWORD *)v4 = sub_1006503A;
            *(_BYTE *)(v20 + v17 + 140) = v19;
            *(_BYTE *)(v20 + v17 + 150) = v21 / v15;
          }
          goto LABEL_30;
        }
        *(_DWORD *)v4 = sub_10065027;
      }
      else
      {
        *(_DWORD *)v4 = sub_10065032;
      }
LABEL_31:
      ++v20;
      result = v20;
      v4 += 4;
      v5 += 84;
      v16 = v4;
    }
    while ( v20 < *(_DWORD *)(v1 + 32) );
  }
  return result;
}
// 10065032: using guessed type int sub_10065032();

//----- (10065544) --------------------------------------------------------
int __usercall sub_10065544<eax>(int a1<eax>)
{
  int v1; // edi@1
  int v2; // esi@1
  int result; // eax@1
  signed int v4; // edx@1
  signed int v5; // ecx@1
  signed int v6; // edi@2
  signed int v7; // edi@2
  signed int v8; // [sp+Ch] [bp-8h]@1
  signed int v9; // [sp+10h] [bp-4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 416);
  *(_DWORD *)(v2 + 8) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
  *(_DWORD *)(v2 + 12) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  *(_DWORD *)(v2 + 16) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  *(_DWORD *)(v2 + 20) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  result = 0;
  v4 = 5990656;
  v8 = -14831872;
  v9 = -11728000;
  v5 = 2919680;
  do
  {
    v6 = v9;
    v9 += 91881;
    *(_DWORD *)(result + *(_DWORD *)(v2 + 8)) = v6 >> 16;
    v7 = v8;
    v8 += 116130;
    *(_DWORD *)(result + *(_DWORD *)(v2 + 12)) = v7 >> 16;
    *(_DWORD *)(result + *(_DWORD *)(v2 + 16)) = v4;
    *(_DWORD *)(result + *(_DWORD *)(v2 + 20)) = v5;
    v5 -= 22554;
    v4 -= 46802;
    result += 4;
  }
  while ( v5 >= -2831590 );
  return result;
}

//----- (100655F4) --------------------------------------------------------
int __cdecl sub_100655F4(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ebx@1
  int result; // eax@1
  int v7; // edx@2
  int v8; // edi@2
  int i; // esi@3
  int v10; // ecx@4
  int v11; // [sp+4h] [bp-8h]@1
  int v12; // [sp+8h] [bp-4h]@2
  int v13; // [sp+14h] [bp+8h]@1
  int v14; // [sp+24h] [bp+18h]@5

  v5 = *(_DWORD *)(a1 + 92);
  result = a5 - 1;
  v13 = *(_DWORD *)(a1 + 32);
  v11 = v5;
  if ( a5 - 1 >= 0 )
  {
    v7 = a4;
    v8 = 4 * a3;
    result = a5;
    v12 = a5;
    do
    {
      for ( i = 0; i < v13; ++i )
      {
        v10 = *(_DWORD *)(v8 + *(_DWORD *)(a2 + 4 * i));
        result = i + *(_DWORD *)v7;
        if ( v5 )
        {
          v14 = v5;
          do
          {
            *(_BYTE *)result = *(_BYTE *)v10;
            result += v13;
            ++v10;
            --v14;
          }
          while ( v14 );
          v5 = v11;
        }
      }
      v8 += 4;
      v7 += 4;
      --v12;
    }
    while ( v12 );
  }
  return result;
}

//----- (1006565F) --------------------------------------------------------
const void **__cdecl sub_1006565F(int a1, int *a2, int a3, int a4, int a5)
{
  return sub_1005F0BE(*a2, a3, a4, 0, a5, *(_DWORD *)(a1 + 92));
}

//----- (10065682) --------------------------------------------------------
int __cdecl sub_10065682(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  int v6; // edi@1
  int v7; // ecx@1
  int result; // eax@1
  int v9; // edx@2
  int v10; // esi@2
  int v11; // ecx@3
  int *v12; // eax@3
  int v13; // ebx@4
  int v14; // esi@4
  int v15; // esi@6
  int v16; // edi@6
  int v17; // [sp+8h] [bp-28h]@1
  int v18; // [sp+Ch] [bp-24h]@1
  int v19; // [sp+10h] [bp-20h]@1
  int v20; // [sp+14h] [bp-1Ch]@1
  int v21; // [sp+18h] [bp-18h]@1
  int v22; // [sp+1Ch] [bp-14h]@4
  int v23; // [sp+20h] [bp-10h]@4
  int v24; // [sp+24h] [bp-Ch]@3
  int v25; // [sp+24h] [bp-Ch]@4
  int v26; // [sp+28h] [bp-8h]@2
  int v27; // [sp+2Ch] [bp-4h]@3
  int v28; // [sp+2Ch] [bp-4h]@4
  int v29; // [sp+38h] [bp+8h]@1
  int v30; // [sp+48h] [bp+18h]@3
  int v31; // [sp+48h] [bp+18h]@6

  v5 = *(_DWORD *)(a1 + 416);
  v6 = *(_DWORD *)(a1 + 92);
  v29 = *(_DWORD *)(a1 + 284);
  v21 = *(_DWORD *)(v5 + 8);
  v18 = *(_DWORD *)(v5 + 12);
  v7 = *(_DWORD *)(v5 + 16);
  v20 = *(_DWORD *)(v5 + 20);
  result = a5 - 1;
  v17 = v6;
  v19 = v7;
  if ( a5 - 1 >= 0 )
  {
    v9 = 4 * a3;
    v10 = a2;
    v26 = a5;
    do
    {
      v30 = *(_DWORD *)(v9 + *(_DWORD *)v10);
      v11 = *(_DWORD *)(v9 + *(_DWORD *)(v10 + 4));
      v27 = *(_DWORD *)(v9 + *(_DWORD *)(v10 + 8));
      v24 = *(_DWORD *)(v9 + *(_DWORD *)(v10 + 12));
      v12 = a4;
      ++a4;
      result = *v12;
      v9 += 4;
      if ( v6 )
      {
        v13 = v30 - v11;
        v14 = v27 - v11;
        v23 = v30 - v11;
        v22 = v27 - v11;
        v25 = v24 - v11;
        v28 = v6;
        while ( 1 )
        {
          v31 = *(_BYTE *)(v13 + v11);
          v15 = 4 * *(_BYTE *)(v14 + v11);
          v16 = 4 * *(_BYTE *)v11;
          *(_BYTE *)result = *(_BYTE *)(v29 - *(_DWORD *)(v15 + v21) - v31 + 255);
          result += 4;
          *(_BYTE *)(result - 3) = *(_BYTE *)(v29 - ((*(_DWORD *)(v15 + v19) + *(_DWORD *)(v16 + v20)) >> 16) - v31 + 255);
          *(_BYTE *)(result - 2) = *(_BYTE *)(v29 - *(_DWORD *)(v16 + v18) - v31 + 255);
          *(_BYTE *)(result - 1) = *(_BYTE *)(v25 + v11++);
          --v28;
          if ( !v28 )
            break;
          v13 = v23;
          v14 = v22;
        }
        v6 = v17;
        v10 = a2;
      }
      --v26;
    }
    while ( v26 );
  }
  return result;
}

//----- (100657B5) --------------------------------------------------------
unsigned int *__cdecl sub_100657B5(unsigned int a1, unsigned int *a2, unsigned int *a3, unsigned int *a4, int a5)
{
  unsigned int *result; // eax@1
  unsigned int *v6; // ecx@1
  unsigned int *v7; // ebx@1
  unsigned int v8; // edi@1
  int v9; // edx@1
  __m64 v10; // mm0@2
  __m64 v11; // mm2@2
  __m64 v12; // mm6@2
  __m64 v13; // mm1@2
  __m64 v14; // mm7@2
  __m64 v15; // mm2@2
  __m64 v16; // mm5@2
  __m64 v17; // mm3@2
  __m64 v18; // mm4@2
  __m64 v19; // mm7@2
  __m64 v20; // mm1@2
  __m64 v21; // mm3@2
  __m64 v22; // mm0@2
  __m64 v23; // mm3@2
  __m64 v24; // mm2@2
  __m64 v25; // mm3@2

  result = a2;
  v6 = a4;
  v7 = a3;
  v8 = a1 >> 2;
  v9 = a5;
  do
  {
    v10 = _m_punpcklbw(_mm_cvtsi32_si64(*result), 0i64);
    v11 = _m_psubsw(_m_punpcklbw(_mm_cvtsi32_si64(*v7), 0i64), (__m64)qword_10082C60);
    v12 = _m_psllw(v10, 8u);
    v13 = _m_psubsw(_m_punpcklbw(_mm_cvtsi32_si64(*v6), 0i64), (__m64)qword_10082C60);
    v14 = v11;
    v15 = _m_psrad(_m_paddd(_m_pmaddwd(_m_punpcklwd(v11, v13), (__m64)qword_10082C68), _m_punpcklwd(v12, 0i64)), 8u);
    v16 = _m_psrad(_m_paddd(_m_pmaddwd(_m_punpckhwd(v14, v13), (__m64)qword_10082C68), _m_punpckhwd(v12, 0i64)), 8u);
    v17 = _m_psrad(_m_pmaddwd(_m_punpcklwd(v13, v10), (__m64)qword_10082C70), 8u);
    v18 = _m_psrad(_m_pmaddwd(_m_punpcklwd(v14, v10), (__m64)qword_10082C78), 8u);
    v19 = _m_psrad(_m_pmaddwd(_m_punpckhwd(v14, v10), (__m64)qword_10082C78), 8u);
    v20 = _m_psrad(_m_pmaddwd(_m_punpckhwd(v13, v10), (__m64)qword_10082C70), 8u);
    v21 = _m_packuswb(
            _m_packssdw(_m_punpckldq(v17, v15), _m_punpckldq(v18, (__m64)qword_10085428)),
            _m_packssdw(_m_punpckhdq(v17, v15), _m_punpckhdq(v18, (__m64)qword_10085428)));
    v22 = v21;
    v23 = _m_psrlq(_m_pand(v21, (__m64)qword_10082C80), 8u);
    v9 += 12;
    v24 = _m_packuswb(
            _m_packssdw(_m_punpckldq(v20, v16), _m_punpckldq(v19, (__m64)qword_10085428)),
            _m_packssdw(_m_punpckhdq(v20, v16), _m_punpckhdq(v19, (__m64)qword_10085428)));
    ++result;
    *(_DWORD *)(v9 - 12) = _mm_cvtsi64_si32(_m_por(v22, v23));
    v25 = _m_punpcklwd(_m_psrlq(v23, 0x20u), v24);
    ++v6;
    *(_DWORD *)(v9 - 8) = _mm_cvtsi64_si32(v25);
    ++v7;
    *(_DWORD *)(v9 - 4) = _mm_cvtsi64_si32(_m_por(_m_psrlq(v24, 0x18u), _m_psrlq(v25, 0x30u)));
    --v8;
  }
  while ( v8 );
  return result;
}
// 10082C60: using guessed type __int64 qword_10082C60;
// 10082C68: using guessed type __int64 qword_10082C68;
// 10082C70: using guessed type __int64 qword_10082C70;
// 10082C78: using guessed type __int64 qword_10082C78;
// 10082C80: using guessed type __int64 qword_10082C80;
// 10085428: using guessed type __int64 qword_10085428;

//----- (10065B5B) --------------------------------------------------------
int __cdecl sub_10065B5B(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  int v6; // esi@1
  unsigned int v7; // edi@1
  int v8; // ecx@1
  int result; // eax@1
  int v10; // ebx@1
  int v11; // eax@3
  unsigned int *v12; // edx@5
  unsigned int *v13; // edi@5
  unsigned int *v14; // ecx@5
  int *v15; // eax@5
  int v16; // edi@5
  int v17; // edi@5
  int v18; // ecx@6
  int v19; // ecx@8
  int v20; // edx@8
  bool v21; // zf@8
  int v22; // ebx@13
  int v23; // edx@13
  int *v24; // eax@14
  int v25; // ecx@15
  int v26; // edx@15
  int v27; // edx@17
  int v28; // ebx@17
  int v29; // ST20_4@17
  int v30; // [sp+Ch] [bp-34h]@1
  int v31; // [sp+10h] [bp-30h]@3
  int v32; // [sp+10h] [bp-30h]@14
  int v33; // [sp+14h] [bp-2Ch]@5
  int v34; // [sp+18h] [bp-28h]@1
  int v35; // [sp+1Ch] [bp-24h]@1
  int v36; // [sp+20h] [bp-20h]@1
  int v37; // [sp+24h] [bp-1Ch]@1
  int v38; // [sp+28h] [bp-18h]@3
  unsigned int v39; // [sp+28h] [bp-18h]@15
  int v40; // [sp+2Ch] [bp-14h]@6
  int v41; // [sp+2Ch] [bp-14h]@13
  unsigned int v42; // [sp+30h] [bp-10h]@1
  unsigned int *v43; // [sp+38h] [bp-8h]@5
  int v44; // [sp+38h] [bp-8h]@6
  int v45; // [sp+38h] [bp-8h]@14
  int v46; // [sp+38h] [bp-8h]@15
  unsigned int *v47; // [sp+3Ch] [bp-4h]@5
  int v48; // [sp+3Ch] [bp-4h]@6
  int v49; // [sp+3Ch] [bp-4h]@14
  int v50; // [sp+3Ch] [bp-4h]@15
  unsigned int *v51; // [sp+48h] [bp+8h]@5
  int v52; // [sp+48h] [bp+8h]@8
  int v53; // [sp+48h] [bp+8h]@14

  v5 = *(_DWORD *)(a1 + 416);
  v6 = *(_DWORD *)(a1 + 284);
  v7 = *(_DWORD *)(a1 + 92);
  v37 = *(_DWORD *)(v5 + 8);
  v34 = *(_DWORD *)(v5 + 12);
  v8 = *(_DWORD *)(v5 + 16);
  result = *(_DWORD *)(v5 + 20);
  v10 = v7 & 0xFFFFFFF8;
  v42 = *(_DWORD *)(a1 + 92);
  v30 = v7 & 0xFFFFFFF8;
  v35 = v8;
  v36 = result;
  if ( byte_10082C58 )
  {
    if ( a5 - 1 >= 0 )
    {
      v31 = 3 * v10;
      v11 = 4 * a3;
      v38 = a5;
      while ( 1 )
      {
        v12 = *(unsigned int **)(v11 + *(_DWORD *)a2);
        v13 = *(unsigned int **)(v11 + *(_DWORD *)(a2 + 4));
        v14 = *(unsigned int **)(v11 + *(_DWORD *)(a2 + 8));
        v33 = v11 + 4;
        v15 = a4;
        ++a4;
        v51 = v13;
        v16 = *v15;
        v47 = v12;
        v43 = v14;
        result = (int)sub_100657B5(v10, v12, v51, v14, *v15);
        v17 = v31 + v16;
        if ( v10 < v42 )
        {
          v48 = (char *)v47 - (char *)v51;
          v18 = (char *)v43 - (char *)v51;
          result = (int)((char *)v51 + v10);
          v44 = (char *)v43 - (char *)v51;
          v40 = v42 - v10;
          while ( 1 )
          {
            v19 = 4 * *(_BYTE *)(v18 + result);
            v52 = *(_BYTE *)(v48 + result);
            v20 = *(_BYTE *)result;
            *(_BYTE *)v17 = *(_BYTE *)(v52 + *(_DWORD *)(v19 + v37) + v6);
            v17 += 3;
            *(_BYTE *)(v17 - 2) = *(_BYTE *)(v52 + ((*(_DWORD *)(v19 + v35) + *(_DWORD *)(4 * v20 + v36)) >> 16) + v6);
            ++result;
            v21 = v40-- == 1;
            *(_BYTE *)(v17 - 1) = *(_BYTE *)(v52 + *(_DWORD *)(4 * v20 + v34) + v6);
            if ( v21 )
              break;
            v18 = v44;
          }
          v10 = v30;
        }
        --v38;
        if ( !v38 )
          break;
        v11 = v33;
      }
    }
    _m_femms();
  }
  else
  {
    result = a5 - 1;
    if ( a5 - 1 >= 0 )
    {
      v22 = a2;
      v23 = 4 * a3;
      v41 = a5;
      do
      {
        v49 = *(_DWORD *)(v23 + *(_DWORD *)v22);
        v53 = *(_DWORD *)(v23 + *(_DWORD *)(v22 + 4));
        v45 = *(_DWORD *)(v23 + *(_DWORD *)(v22 + 8));
        v24 = a4;
        ++a4;
        result = *v24;
        v23 += 4;
        v32 = v23;
        if ( v7 )
        {
          v25 = v53;
          v50 = v49 - v53;
          v26 = v45 - v53;
          v46 = v45 - v53;
          v39 = v7;
          while ( 1 )
          {
            v27 = *(_BYTE *)(v25 + v26);
            v28 = *(_BYTE *)(v25 + v50);
            v29 = *(_BYTE *)v25;
            *(_BYTE *)result = *(_BYTE *)(v28 + *(_DWORD *)(4 * v27 + v37) + v6);
            result += 3;
            *(_BYTE *)(result - 2) = *(_BYTE *)(v28
                                              + ((*(_DWORD *)(4 * v27 + v35) + *(_DWORD *)(4 * v29 + v36)) >> 16)
                                              + v6);
            ++v25;
            v21 = v39-- == 1;
            *(_BYTE *)(result - 1) = *(_BYTE *)(v28 + *(_DWORD *)(4 * v29 + v34) + v6);
            if ( v21 )
              break;
            v26 = v46;
          }
          v23 = v32;
          v22 = a2;
          v7 = v42;
        }
        --v41;
      }
      while ( v41 );
    }
  }
  return result;
}
// 10082C58: using guessed type char byte_10082C58;

//----- (10065D79) --------------------------------------------------------
int __cdecl sub_10065D79(int a1)
{
  int v1; // eax@1
  int v2; // edi@1
  signed int v3; // eax@1
  bool v4; // zf@5
  int result; // eax@16
  bool v6; // zf@20
  int v7; // eax@27
  signed int v8; // ecx@30

  v1 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 24);
  v2 = v1;
  *(_DWORD *)(a1 + 416) = v1;
  *(_DWORD *)v1 = nullsub_6;
  v3 = *(_DWORD *)(a1 + 36);
  if ( v3 == 1 )
  {
    v4 = *(_DWORD *)(a1 + 32) == 1;
LABEL_10:
    if ( v4 )
      goto LABEL_12;
    goto LABEL_11;
  }
  if ( v3 <= 1 )
    goto LABEL_7;
  if ( v3 <= 3 )
  {
    v4 = *(_DWORD *)(a1 + 32) == 3;
    goto LABEL_10;
  }
  if ( v3 <= 5 )
  {
    v4 = *(_DWORD *)(a1 + 32) == 4;
    goto LABEL_10;
  }
LABEL_7:
  if ( *(_DWORD *)(a1 + 32) >= 1 )
    goto LABEL_12;
LABEL_11:
  *(_DWORD *)(*(_DWORD *)a1 + 20) = 8;
  (**(void (__cdecl ***)(_DWORD))a1)(a1);
LABEL_12:
  if ( *(_DWORD *)(a1 + 40) != 1 )
  {
    if ( *(_DWORD *)(a1 + 40) == 2 )
    {
      result = *(_DWORD *)(a1 + 36);
      *(_DWORD *)(a1 + 100) = 3;
      if ( result == 3 )
      {
        *(_DWORD *)(v2 + 4) = sub_10065B5B;
        goto LABEL_23;
      }
      v6 = result == 2;
    }
    else
    {
      if ( *(_DWORD *)(a1 + 40) != 4 )
      {
        if ( *(_DWORD *)(a1 + 40) == *(_DWORD *)(a1 + 36) )
        {
          result = *(_DWORD *)(a1 + 32);
          *(_DWORD *)(a1 + 100) = result;
LABEL_26:
          *(_DWORD *)(v2 + 4) = sub_100655F4;
          goto LABEL_32;
        }
LABEL_17:
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 25;
        result = (**(int (__cdecl ***)(_DWORD))a1)(a1);
        goto LABEL_32;
      }
      result = *(_DWORD *)(a1 + 36);
      *(_DWORD *)(a1 + 100) = 4;
      if ( result == 5 )
      {
        *(_DWORD *)(v2 + 4) = sub_10065682;
LABEL_23:
        result = sub_10065544(a1);
        goto LABEL_32;
      }
      v6 = result == 4;
    }
    if ( v6 )
      goto LABEL_26;
    goto LABEL_17;
  }
  v7 = *(_DWORD *)(a1 + 36);
  *(_DWORD *)(a1 + 100) = 1;
  if ( v7 != 1 && v7 != 3 )
    goto LABEL_17;
  *(_DWORD *)(v2 + 4) = sub_1006565F;
  result = 1;
  if ( *(_DWORD *)(a1 + 32) > 1 )
  {
    v8 = 84;
    do
    {
      *(_BYTE *)(*(_DWORD *)(a1 + 196) + v8 + 48) = 0;
      ++result;
      v8 += 84;
    }
    while ( result < *(_DWORD *)(a1 + 32) );
  }
LABEL_32:
  if ( *(_BYTE *)(a1 + 74) )
  {
    *(_DWORD *)(a1 + 104) = 1;
  }
  else
  {
    result = *(_DWORD *)(a1 + 100);
    *(_DWORD *)(a1 + 104) = result;
  }
  return result;
}
// 100657B4: using guessed type int nullsub_6();

//----- (10065E9A) --------------------------------------------------------
int __usercall sub_10065E9A<eax>(int a1<eax>)
{
  int v1; // edi@1
  int v2; // esi@1
  int result; // eax@1
  signed int v4; // edx@1
  signed int v5; // ecx@1
  signed int v6; // edi@2
  signed int v7; // edi@2
  signed int v8; // [sp+Ch] [bp-8h]@1
  signed int v9; // [sp+10h] [bp-4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 412);
  *(_DWORD *)(v2 + 16) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
  *(_DWORD *)(v2 + 20) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  *(_DWORD *)(v2 + 24) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  *(_DWORD *)(v2 + 28) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  result = 0;
  v4 = 5990656;
  v8 = -14831872;
  v9 = -11728000;
  v5 = 2919680;
  do
  {
    v6 = v9;
    v9 += 91881;
    *(_DWORD *)(result + *(_DWORD *)(v2 + 16)) = v6 >> 16;
    v7 = v8;
    v8 += 116130;
    *(_DWORD *)(result + *(_DWORD *)(v2 + 20)) = v7 >> 16;
    *(_DWORD *)(result + *(_DWORD *)(v2 + 24)) = v4;
    *(_DWORD *)(result + *(_DWORD *)(v2 + 28)) = v5;
    v5 -= 22554;
    v4 -= 46802;
    result += 4;
  }
  while ( v5 >= -2831590 );
  return result;
}

//----- (10065F5F) --------------------------------------------------------
const void **__cdecl sub_10065F5F(int a1, int a2, const void **a3, int a4, int a5, int a6, int a7)
{
  int v7; // esi@1
  int v8; // ebx@2
  signed int v9; // edi@2
  const void **result; // eax@2
  int v11; // eax@7
  int v12; // [sp+Ch] [bp-8h]@7
  int v13; // [sp+10h] [bp-4h]@8
  int v14; // [sp+34h] [bp+20h]@5

  v7 = *(_DWORD *)(a1 + 412);
  if ( *(_BYTE *)(v7 + 36) )
  {
    v8 = a6;
    v9 = 1;
    result = sub_1005F0BE(v7 + 32, 0, a5 + 4 * *(_DWORD *)a6, 0, 1, *(_DWORD *)(v7 + 40));
    *(_BYTE *)(v7 + 36) = 0;
  }
  else
  {
    v9 = 2;
    if ( *(_DWORD *)(v7 + 44) < 2u )
      v9 = *(_DWORD *)(v7 + 44);
    v8 = a6;
    v14 = a7 - *(_DWORD *)a6;
    if ( v9 > (unsigned int)v14 )
      v9 = v14;
    v11 = a5 + 4 * *(_DWORD *)a6;
    v12 = *(_DWORD *)v11;
    if ( (unsigned int)v9 <= 1 )
    {
      v13 = *(_DWORD *)(v7 + 32);
      *(_BYTE *)(v7 + 36) = 1;
    }
    else
    {
      v13 = *(_DWORD *)(v11 + 4);
    }
    result = (const void **)(*(int (__cdecl **)(int, int, const void *, int *))(v7 + 12))(a1, a2, *a3, &v12);
  }
  *(_DWORD *)v8 += v9;
  *(_DWORD *)(v7 + 44) -= v9;
  if ( !*(_BYTE *)(v7 + 36) )
  {
    result = a3;
    *result = (char *)*result + 1;
  }
  return result;
}

//----- (10066005) --------------------------------------------------------
int __cdecl sub_10066005(int a1, int a2, int a3, int a4, int a5, int a6)
{
  return (*(int (__cdecl **)(int, int, _DWORD, int))(*(_DWORD *)(a1 + 412) + 12))(
           a1,
           a2,
           (*(_DWORD *)a3)++,
           a5 + 4 * (*(_DWORD *)a6)++);
}

//----- (10066036) --------------------------------------------------------
int __cdecl sub_10066036(int a1, int a2, int a3, int *a4)
{
  int v4; // eax@1
  int v5; // ecx@1
  int v6; // edi@1
  int v7; // edx@1
  int v8; // esi@1
  int result; // eax@1
  int v10; // ebx@3
  int v11; // ST20_4@3
  int v12; // edx@3
  int v13; // ST1C_4@3
  signed int v14; // esi@3
  int v15; // edx@3
  int v16; // edi@3
  int v17; // edx@3
  int v18; // eax@3
  int v19; // esi@5
  int v20; // edi@5
  int v21; // edx@5
  int v22; // ebx@5
  signed int v23; // esi@5
  int v24; // [sp+Ch] [bp-18h]@1
  int v25; // [sp+10h] [bp-14h]@1
  int v26; // [sp+14h] [bp-10h]@1
  int v27; // [sp+18h] [bp-Ch]@1
  int v28; // [sp+30h] [bp+Ch]@3
  int v29; // [sp+34h] [bp+10h]@3
  int v30; // [sp+34h] [bp+10h]@5
  int v31; // [sp+38h] [bp+14h]@2

  v4 = *(_DWORD *)(a1 + 412);
  v5 = *(_DWORD *)(a1 + 284);
  v24 = *(_DWORD *)(v4 + 16);
  v25 = *(_DWORD *)(v4 + 20);
  v27 = *(_DWORD *)(v4 + 28);
  v26 = *(_DWORD *)(v4 + 24);
  v6 = *(_DWORD *)(4 * a3 + *(_DWORD *)a2);
  v7 = *(_DWORD *)(4 * a3 + *(_DWORD *)(a2 + 4));
  v8 = *(_DWORD *)(4 * a3 + *(_DWORD *)(a2 + 8));
  result = *a4;
  if ( *(_DWORD *)(a1 + 92) >> 1 )
  {
    v31 = *(_DWORD *)(a1 + 92) >> 1;
    do
    {
      v10 = *(_BYTE *)v7;
      v11 = v7 + 1;
      v12 = 4 * *(_BYTE *)v8;
      v13 = v8 + 1;
      v28 = *(_DWORD *)(v12 + v24);
      v14 = *(_DWORD *)(v12 + v26) + *(_DWORD *)(4 * v10 + v27);
      v29 = *(_DWORD *)(4 * v10 + v25);
      v15 = *(_BYTE *)v6;
      *(_BYTE *)result = *(_BYTE *)(v15 + v28 + v5);
      v14 >>= 16;
      *(_BYTE *)(result + 1) = *(_BYTE *)(v15 + v14 + v5);
      *(_BYTE *)(result + 2) = *(_BYTE *)(v29 + v15 + v5);
      v16 = v6 + 1;
      v17 = *(_BYTE *)v16;
      v18 = result + 3;
      *(_BYTE *)v18 = *(_BYTE *)(v17 + v28 + v5);
      LOBYTE(v10) = *(_BYTE *)(v17 + v14 + v5);
      v8 = v13;
      *(_BYTE *)(v18 + 1) = v10;
      *(_BYTE *)(v18 + 2) = *(_BYTE *)(v29 + v17 + v5);
      v7 = v11;
      v6 = v16 + 1;
      result = v18 + 3;
      --v31;
    }
    while ( v31 );
  }
  if ( *(_BYTE *)(a1 + 92) & 1 )
  {
    v19 = *(_BYTE *)v8;
    v20 = *(_BYTE *)v6;
    v21 = 4 * *(_BYTE *)v7;
    v22 = 4 * v19;
    v23 = *(_DWORD *)(4 * v19 + v26) + *(_DWORD *)(v21 + v27);
    v30 = *(_DWORD *)(v21 + v25);
    *(_BYTE *)result = *(_BYTE *)(v20 + *(_DWORD *)(v22 + v24) + v5);
    *(_BYTE *)(result + 1) = *(_BYTE *)(v20 + (v23 >> 16) + v5);
    *(_BYTE *)(result + 2) = *(_BYTE *)(v30 + v20 + v5);
  }
  return result;
}

//----- (1006618C) --------------------------------------------------------
char __cdecl sub_1006618C(int a1, int a2, int a3, int a4)
{
  int v4; // ecx@1
  int v5; // eax@1
  int v6; // edx@1
  int v7; // edi@1
  int v8; // esi@1
  int v9; // ecx@1
  int v10; // edx@1
  int v11; // edi@1
  int v12; // ecx@1
  int v13; // esi@1
  int v14; // ebx@3
  int v15; // ST20_4@3
  int v16; // edx@3
  int v17; // ST1C_4@3
  signed int v18; // edi@3
  int v19; // ST28_4@3
  int v20; // edx@3
  int v21; // edx@3
  int v22; // ecx@3
  int v23; // edx@3
  int v24; // edx@3
  int v25; // esi@3
  int v26; // ebx@5
  int v27; // edx@5
  signed int v28; // edi@5
  int v29; // ST28_4@5
  int v30; // edx@5
  int v31; // ecx@5
  int v33; // [sp+Ch] [bp-20h]@1
  int v34; // [sp+10h] [bp-1Ch]@1
  int v35; // [sp+14h] [bp-18h]@1
  int v36; // [sp+18h] [bp-14h]@1
  int v37; // [sp+24h] [bp-8h]@2
  int v38; // [sp+38h] [bp+Ch]@1
  int v39; // [sp+38h] [bp+Ch]@3
  int v40; // [sp+3Ch] [bp+10h]@1
  int v41; // [sp+3Ch] [bp+10h]@3
  int v42; // [sp+40h] [bp+14h]@3
  int v43; // [sp+40h] [bp+14h]@5

  v4 = *(_DWORD *)(a1 + 412);
  v5 = *(_DWORD *)(a1 + 284);
  v36 = *(_DWORD *)(v4 + 16);
  v33 = *(_DWORD *)(v4 + 20);
  v34 = *(_DWORD *)(v4 + 24);
  v35 = *(_DWORD *)(v4 + 28);
  v6 = *(_DWORD *)a2 + 8 * a3;
  v7 = *(_DWORD *)v6;
  v8 = 4 * a3;
  v40 = *(_DWORD *)(v6 + 4);
  v9 = *(_DWORD *)(a2 + 8);
  v10 = *(_DWORD *)(v8 + *(_DWORD *)(a2 + 4));
  v38 = v7;
  v11 = *(_DWORD *)(v8 + v9);
  v12 = *(_DWORD *)a4;
  v13 = *(_DWORD *)(a4 + 4);
  if ( *(_DWORD *)(a1 + 92) >> 1 )
  {
    v37 = *(_DWORD *)(a1 + 92) >> 1;
    do
    {
      v14 = *(_BYTE *)v10;
      v15 = v10 + 1;
      v16 = 4 * *(_BYTE *)v11;
      v17 = v11 + 1;
      v42 = *(_DWORD *)(v16 + v36);
      v18 = *(_DWORD *)(v16 + v34) + *(_DWORD *)(4 * v14 + v35);
      v19 = *(_DWORD *)(4 * v14 + v33);
      v20 = *(_BYTE *)v38;
      *(_BYTE *)v12 = *(_BYTE *)(v20 + v42 + v5);
      v18 >>= 16;
      v39 = v38 + 1;
      *(_BYTE *)(v12 + 1) = *(_BYTE *)(v20 + v18 + v5);
      *(_BYTE *)(v12 + 2) = *(_BYTE *)(v19 + v20 + v5);
      v21 = *(_BYTE *)v39;
      v22 = v12 + 3;
      *(_BYTE *)v22 = *(_BYTE *)(v21 + v42 + v5);
      *(_BYTE *)(v22 + 1) = *(_BYTE *)(v21 + v18 + v5);
      *(_BYTE *)(v22 + 2) = *(_BYTE *)(v19 + v21 + v5);
      v23 = *(_BYTE *)v40;
      v38 = v39 + 1;
      *(_BYTE *)v13 = *(_BYTE *)(v23 + v42 + v5);
      *(_BYTE *)(v13 + 1) = *(_BYTE *)(v23 + v18 + v5);
      *(_BYTE *)(v13 + 2) = *(_BYTE *)(v19 + v23 + v5);
      v12 = v22 + 3;
      v41 = v40 + 1;
      v24 = *(_BYTE *)v41;
      v25 = v13 + 3;
      v40 = v41 + 1;
      *(_BYTE *)v25 = *(_BYTE *)(v24 + v42 + v5);
      *(_BYTE *)(v25 + 1) = *(_BYTE *)(v24 + v18 + v5);
      *(_BYTE *)(v25 + 2) = *(_BYTE *)(v19 + v24 + v5);
      v11 = v17;
      v10 = v15;
      v13 = v25 + 3;
      --v37;
    }
    while ( v37 );
  }
  if ( *(_BYTE *)(a1 + 92) & 1 )
  {
    v26 = *(_BYTE *)v10;
    v27 = 4 * *(_BYTE *)v11;
    v43 = *(_DWORD *)(v27 + v36);
    v28 = *(_DWORD *)(v27 + v34) + *(_DWORD *)(4 * v26 + v35);
    v29 = *(_DWORD *)(4 * v26 + v33);
    v30 = *(_BYTE *)v38;
    *(_BYTE *)v12 = *(_BYTE *)(v30 + v43 + v5);
    v28 >>= 16;
    *(_BYTE *)(v12 + 1) = *(_BYTE *)(v30 + v28 + v5);
    *(_BYTE *)(v12 + 2) = *(_BYTE *)(v29 + v30 + v5);
    v31 = *(_BYTE *)v40;
    *(_BYTE *)v13 = *(_BYTE *)(v31 + v43 + v5);
    *(_BYTE *)(v13 + 1) = *(_BYTE *)(v31 + v28 + v5);
    LOBYTE(v5) = *(_BYTE *)(v29 + v31 + v5);
    *(_BYTE *)(v13 + 2) = v5;
  }
  return v5;
}

//----- (10066372) --------------------------------------------------------
int __cdecl sub_10066372(int a1)
{
  int v1; // esi@1
  int v2; // ST08_4@2

  v1 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 48);
  *(_DWORD *)(a1 + 412) = v1;
  *(_BYTE *)(v1 + 8) = 0;
  *(_DWORD *)v1 = sub_10065F4A;
  *(_DWORD *)(v1 + 40) = *(_DWORD *)(a1 + 92) * *(_DWORD *)(a1 + 100);
  if ( *(_DWORD *)(a1 + 272) == 2 )
  {
    v2 = *(_DWORD *)(v1 + 40);
    *(_DWORD *)(v1 + 4) = sub_10065F5F;
    *(_DWORD *)(v1 + 12) = sub_1006618C;
    *(_DWORD *)(v1 + 32) = (*(int (__cdecl **)(int, signed int, int))(*(_DWORD *)(a1 + 4) + 4))(a1, 1, v2);
  }
  else
  {
    *(_DWORD *)(v1 + 32) = 0;
    *(_DWORD *)(v1 + 4) = sub_10066005;
    *(_DWORD *)(v1 + 12) = sub_10066036;
  }
  return sub_10065E9A(a1);
}
// 10065F4A: using guessed type int sub_10065F4A();

//----- (100663E7) --------------------------------------------------------
unsigned int __cdecl sub_100663E7(unsigned int a1, unsigned int a2, int a3, int a4)
{
  unsigned int result; // eax@1
  int v5; // ebx@1
  int v6; // esi@1
  int i; // edi@1
  int v8; // ecx@2
  int v9; // [sp+14h] [bp+8h]@3

  result = a1;
  v5 = *(_DWORD *)(a1 + 92);
  v6 = *(_DWORD *)(*(_DWORD *)(a1 + 420) + 24);
  for ( i = 0; i < a4; ++i )
  {
    result = a2;
    v8 = *(_DWORD *)(a2 + 4 * i);
    if ( v5 )
    {
      v9 = v5;
      do
      {
        result = *(_DWORD *)(v6 + 4 * ((unsigned int)*(_BYTE *)v8 >> 3))
               + 2 * (((unsigned int)*(_BYTE *)(v8 + 2) >> 3) + 32 * ((unsigned int)*(_BYTE *)(v8 + 1) >> 2));
        ++*(_WORD *)result;
        if ( !*(_WORD *)result )
          *(_WORD *)result = -1;
        v8 += 3;
        --v9;
      }
      while ( v9 );
    }
  }
  return result;
}

//----- (1006649F) --------------------------------------------------------
int __usercall sub_1006649F<eax>(int a1<eax>, int a2<esi>)
{
  int v2; // ecx@1
  int v3; // edi@1
  int v4; // eax@3
  __int16 v5; // dx@5
  int v6; // ecx@11
  int v7; // eax@13
  __int16 v8; // dx@15
  int v9; // ebx@21
  int v10; // ecx@22
  int v11; // edx@23
  int v12; // eax@24
  __int16 v13; // di@25
  int v14; // ecx@33
  int v15; // edx@34
  int v16; // eax@35
  __int16 v17; // di@36
  int v18; // eax@46
  int v19; // edx@46
  int v20; // eax@56
  int v21; // edx@56
  int v22; // edx@63
  int v23; // eax@63
  int v24; // ecx@65
  int v25; // edi@65
  int result; // eax@74
  int v27; // [sp+8h] [bp-28h]@1
  int v28; // [sp+Ch] [bp-24h]@1
  int v29; // [sp+10h] [bp-20h]@1
  int v30; // [sp+14h] [bp-1Ch]@4
  int v31; // [sp+14h] [bp-1Ch]@14
  int v32; // [sp+14h] [bp-1Ch]@45
  int v33; // [sp+14h] [bp-1Ch]@55
  int v34; // [sp+14h] [bp-1Ch]@66
  int v35; // [sp+18h] [bp-18h]@1
  int v36; // [sp+18h] [bp-18h]@67
  int v37; // [sp+1Ch] [bp-14h]@1
  int v38; // [sp+20h] [bp-10h]@1
  int v39; // [sp+24h] [bp-Ch]@1
  int v40; // [sp+28h] [bp-8h]@2
  int v41; // [sp+28h] [bp-8h]@12
  int v42; // [sp+28h] [bp-8h]@22
  int v43; // [sp+28h] [bp-8h]@33
  int v44; // [sp+28h] [bp-8h]@63
  int v45; // [sp+2Ch] [bp-4h]@4
  int v46; // [sp+2Ch] [bp-4h]@14
  int v47; // [sp+2Ch] [bp-4h]@24
  int v48; // [sp+2Ch] [bp-4h]@35
  int v49; // [sp+2Ch] [bp-4h]@44
  int v50; // [sp+2Ch] [bp-4h]@54

  v2 = *(_DWORD *)a2;
  v29 = *(_DWORD *)(a2 + 12);
  v28 = *(_DWORD *)(*(_DWORD *)(a1 + 420) + 24);
  v3 = *(_DWORD *)(a2 + 8);
  v39 = *(_DWORD *)(a2 + 16);
  v35 = *(_DWORD *)a2;
  v38 = *(_DWORD *)(a2 + 4);
  v27 = *(_DWORD *)(a2 + 8);
  v37 = *(_DWORD *)(a2 + 20);
  if ( *(_DWORD *)a2 < *(_DWORD *)(a2 + 4) )
  {
    while ( 1 )
    {
      v40 = *(_DWORD *)(a2 + 8);
      if ( v3 <= v29 )
        break;
LABEL_8:
      ++v2;
      if ( v2 > v38 )
        goto LABEL_11;
    }
    v4 = *(_DWORD *)(v28 + 4 * v2) + 2 * (v39 + 32 * v3);
    while ( 1 )
    {
      v45 = *(_DWORD *)(a2 + 16);
      v30 = v4;
      if ( v39 <= v37 )
        break;
LABEL_7:
      ++v40;
      v4 += 64;
      if ( v40 > v29 )
        goto LABEL_8;
    }
    while ( 1 )
    {
      v5 = *(_WORD *)v30;
      v30 += 2;
      if ( v5 )
        break;
      ++v45;
      if ( v45 > v37 )
        goto LABEL_7;
    }
    v35 = v2;
    *(_DWORD *)a2 = v2;
LABEL_11:
    v6 = v38;
    if ( v38 > v35 )
    {
      while ( 1 )
      {
        v41 = v3;
        if ( v3 <= v29 )
          break;
LABEL_18:
        --v6;
        if ( v6 < v35 )
          goto LABEL_21;
      }
      v7 = *(_DWORD *)(v28 + 4 * v6) + 2 * (v39 + 32 * v3);
      while ( 1 )
      {
        v46 = v39;
        v31 = v7;
        if ( v39 <= v37 )
          break;
LABEL_17:
        ++v41;
        v7 += 64;
        if ( v41 > v29 )
          goto LABEL_18;
      }
      while ( 1 )
      {
        v8 = *(_WORD *)v31;
        v31 += 2;
        if ( v8 )
          break;
        ++v46;
        if ( v46 > v37 )
          goto LABEL_17;
      }
      v38 = v6;
      *(_DWORD *)(a2 + 4) = v6;
    }
  }
LABEL_21:
  v9 = v29;
  if ( v3 < v29 )
  {
    v42 = v3;
    v10 = 2 * (v39 + 32 * v3);
    while ( 1 )
    {
      v11 = v35;
      if ( v35 <= v38 )
        break;
LABEL_29:
      ++v42;
      v10 += 64;
      if ( v42 > v29 )
        goto LABEL_32;
    }
    while ( 1 )
    {
      v12 = v10 + *(_DWORD *)(v28 + 4 * v11);
      v47 = v39;
      if ( v39 <= v37 )
        break;
LABEL_27:
      ++v11;
      if ( v11 > v38 )
      {
        v3 = v27;
        goto LABEL_29;
      }
    }
    while ( 1 )
    {
      v13 = *(_WORD *)v12;
      v12 += 2;
      if ( v13 )
        break;
      ++v47;
      if ( v47 > v37 )
        goto LABEL_27;
    }
    v3 = v42;
    v27 = v42;
    *(_DWORD *)(a2 + 8) = v42;
LABEL_32:
    v9 = v29;
    if ( v29 > v3 )
    {
      v43 = v29;
      v14 = 2 * (v39 + 32 * v29);
      while ( 1 )
      {
        v15 = v35;
        if ( v35 <= v38 )
          break;
LABEL_40:
        --v43;
        v14 -= 64;
        if ( v43 < v3 )
        {
          v9 = v29;
          goto LABEL_43;
        }
      }
      while ( 1 )
      {
        v16 = v14 + *(_DWORD *)(v28 + 4 * v15);
        v48 = v39;
        if ( v39 <= v37 )
          break;
LABEL_38:
        ++v15;
        if ( v15 > v38 )
        {
          v3 = v27;
          goto LABEL_40;
        }
      }
      while ( 1 )
      {
        v17 = *(_WORD *)v16;
        v16 += 2;
        if ( v17 )
          break;
        ++v48;
        if ( v48 > v37 )
          goto LABEL_38;
      }
      v3 = v27;
      v9 = v43;
      v29 = v43;
      *(_DWORD *)(a2 + 12) = v43;
    }
  }
LABEL_43:
  if ( v39 < v37 )
  {
    v49 = v39;
    while ( 1 )
    {
      v32 = v35;
      if ( v35 <= v38 )
        break;
LABEL_50:
      ++v49;
      if ( v49 > v37 )
        goto LABEL_53;
    }
    while ( 1 )
    {
      v18 = 2 * (v49 + 32 * v3) + *(_DWORD *)(v28 + 4 * v32);
      v19 = v3;
      if ( v3 <= v9 )
        break;
LABEL_49:
      ++v32;
      if ( v32 > v38 )
        goto LABEL_50;
    }
    while ( !*(_WORD *)v18 )
    {
      ++v19;
      v18 += 64;
      if ( v19 > v9 )
        goto LABEL_49;
    }
    v39 = v49;
    *(_DWORD *)(a2 + 16) = v49;
LABEL_53:
    if ( v37 > v39 )
    {
      v50 = v37;
      while ( 1 )
      {
        v33 = v35;
        if ( v35 <= v38 )
          break;
LABEL_60:
        --v50;
        if ( v50 < v39 )
          goto LABEL_63;
      }
      while ( 1 )
      {
        v20 = 2 * (v50 + 32 * v3) + *(_DWORD *)(v28 + 4 * v33);
        v21 = v3;
        if ( v3 <= v9 )
          break;
LABEL_59:
        ++v33;
        if ( v33 > v38 )
          goto LABEL_60;
      }
      while ( !*(_WORD *)v20 )
      {
        ++v21;
        v20 += 64;
        if ( v21 > v9 )
          goto LABEL_59;
      }
      v37 = v50;
      *(_DWORD *)(a2 + 20) = v50;
    }
  }
LABEL_63:
  v22 = v9 - v3;
  v44 = 0;
  v23 = v35;
  *(_DWORD *)(a2 + 24) = 16 * (v38 - v35) * 16 * (v38 - v35) + 12 * v22 * 12 * v22 + 8 * (v37 - v39) * 8 * (v37 - v39);
  while ( v23 <= v38 )
  {
    if ( v27 <= v29 )
    {
      v24 = *(_DWORD *)(v28 + 4 * v23) + 2 * (v39 + 32 * v27);
      v25 = v22 + 1;
      do
      {
        v34 = v24;
        if ( v39 <= v37 )
        {
          v36 = v37 - v39 + 1;
          do
          {
            if ( *(_WORD *)v34 )
              ++v44;
            v34 += 2;
            --v36;
          }
          while ( v36 );
        }
        v24 += 64;
        --v25;
      }
      while ( v25 );
    }
    ++v23;
  }
  result = v44;
  *(_DWORD *)(a2 + 28) = v44;
  return result;
}

//----- (100667D7) --------------------------------------------------------
int __cdecl sub_100667D7(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // ecx@1
  int v6; // edi@2
  int v7; // esi@4
  int v8; // ebx@4
  int v9; // ecx@6
  int v10; // ecx@13
  int v11; // eax@18
  signed int v12; // ebx@18
  int v13; // ebx@23
  __int64 v14; // qax@25
  __int64 v15; // qax@26
  __int64 v16; // qax@27
  int v17; // [sp+0h] [bp-8h]@6
  int v18; // [sp+0h] [bp-8h]@13
  int v19; // [sp+4h] [bp-4h]@2

  result = a3;
  v5 = a2;
  if ( a3 < a4 )
  {
    v19 = 2 * a3;
    v6 = 32 * a3 + a2 + 12;
    while ( 1 )
    {
      v7 = 0;
      v8 = 0;
      if ( v19 > a4 )
      {
        if ( v19 > 0 )
        {
          v10 = v5 + 24;
          v18 = result;
          do
          {
            if ( *(_DWORD *)v10 > v8 )
            {
              v7 = v10 - 24;
              v8 = *(_DWORD *)v10;
            }
            v10 += 32;
            --v18;
          }
          while ( v18 );
        }
      }
      else
      {
        if ( v19 > 0 )
        {
          v9 = v5 + 28;
          v17 = result;
          do
          {
            if ( *(_DWORD *)v9 > v8 && *(_DWORD *)(v9 - 4) > 0 )
            {
              v7 = v9 - 28;
              v8 = *(_DWORD *)v9;
            }
            v9 += 32;
            --v17;
          }
          while ( v17 );
        }
      }
      if ( !v7 )
        break;
      *(_DWORD *)(v6 - 8) = *(_DWORD *)(v7 + 4);
      *(_DWORD *)v6 = *(_DWORD *)(v7 + 12);
      *(_DWORD *)(v6 + 8) = *(_DWORD *)(v7 + 20);
      *(_DWORD *)(v6 - 12) = *(_DWORD *)v7;
      *(_DWORD *)(v6 - 4) = *(_DWORD *)(v7 + 8);
      *(_DWORD *)(v6 + 4) = *(_DWORD *)(v7 + 16);
      v11 = 12 * (*(_DWORD *)(v7 + 12) - *(_DWORD *)(v7 + 8));
      v12 = 1;
      if ( 16 * (*(_DWORD *)(v7 + 4) - *(_DWORD *)v7) > v11 )
      {
        v11 = 16 * (*(_DWORD *)(v7 + 4) - *(_DWORD *)v7);
        v12 = 0;
      }
      if ( 8 * (*(_DWORD *)(v7 + 20) - *(_DWORD *)(v7 + 16)) > v11 )
        v12 = 2;
      if ( v12 )
      {
        v13 = v12 - 1;
        if ( v13 )
        {
          if ( v13 == 1 )
          {
            v14 = *(_DWORD *)(v7 + 16) + *(_DWORD *)(v7 + 20);
            LODWORD(v14) = ((signed int)v14 - HIDWORD(v14)) >> 1;
            *(_DWORD *)(v7 + 20) = v14;
            *(_DWORD *)(v6 + 4) = v14 + 1;
          }
        }
        else
        {
          v15 = *(_DWORD *)(v7 + 8) + *(_DWORD *)(v7 + 12);
          LODWORD(v15) = ((signed int)v15 - HIDWORD(v15)) >> 1;
          *(_DWORD *)(v7 + 12) = v15;
          *(_DWORD *)(v6 - 4) = v15 + 1;
        }
      }
      else
      {
        v16 = *(_DWORD *)v7 + *(_DWORD *)(v7 + 4);
        LODWORD(v16) = ((signed int)v16 - HIDWORD(v16)) >> 1;
        *(_DWORD *)(v7 + 4) = v16;
        *(_DWORD *)(v6 - 12) = v16 + 1;
      }
      sub_1006649F(a1, v7);
      sub_1006649F(a1, v6 - 12);
      v19 += 2;
      result = a3 + 1;
      v6 += 32;
      ++a3;
      if ( a3 >= a4 )
        break;
      v5 = a2;
    }
  }
  return result;
}

//----- (1006692A) --------------------------------------------------------
int __usercall sub_1006692A<eax>(int a1<eax>, int a2<esi>, int a3)
{
  int v3; // ebx@1
  int v4; // ecx@1
  int v5; // edx@1
  int v6; // eax@1
  int v7; // edi@1
  int v8; // edi@4
  int v9; // edi@7
  int result; // eax@14
  int v11; // [sp+Ch] [bp-3Ch]@1
  int v12; // [sp+10h] [bp-38h]@4
  int v13; // [sp+14h] [bp-34h]@6
  int v14; // [sp+20h] [bp-28h]@1
  int v15; // [sp+24h] [bp-24h]@1
  int v16; // [sp+28h] [bp-20h]@1
  int v17; // [sp+2Ch] [bp-1Ch]@1
  signed int v18; // [sp+30h] [bp-18h]@1
  int v19; // [sp+34h] [bp-14h]@2
  int v20; // [sp+38h] [bp-10h]@4
  int v21; // [sp+3Ch] [bp-Ch]@4
  int v22; // [sp+40h] [bp-8h]@6
  int v23; // [sp+44h] [bp-4h]@5

  v18 = 0;
  v17 = 0;
  v16 = 0;
  v15 = 0;
  v3 = *(_DWORD *)(a1 + 20);
  v11 = *(_DWORD *)(a1 + 4);
  v4 = *(_DWORD *)(a1 + 8);
  v14 = *(_DWORD *)(a1 + 12);
  v5 = *(_DWORD *)(a1 + 16);
  v6 = *(_DWORD *)a1;
  v7 = a3;
  if ( v6 <= v11 )
  {
    v19 = 8 * v6 + 4;
    do
    {
      if ( v4 <= v14 )
      {
        v20 = 4 * v4 + 2;
        v21 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a2 + 420) + 24) + 4 * v6) + 2 * (v5 + 32 * v4);
        v8 = v14 - v4 + 1;
        v12 = v14 - v4 + 1;
        do
        {
          v23 = v21;
          if ( v5 <= v3 )
          {
            v22 = 8 * v5 + 4;
            v13 = v3 - v5 + 1;
            do
            {
              v9 = *(_WORD *)v23;
              v23 += 2;
              if ( v9 )
              {
                v18 += v9;
                v16 += v9 * v20;
                v17 += v9 * v19;
                v15 += v9 * v22;
              }
              v22 += 8;
              --v13;
            }
            while ( v13 );
            v8 = v12;
          }
          v21 += 64;
          v20 += 4;
          --v8;
          v12 = v8;
        }
        while ( v8 );
        v7 = a3;
      }
      v19 += 8;
      ++v6;
    }
    while ( v6 <= v11 );
  }
  *(_BYTE *)(v7 + **(_DWORD **)(a2 + 116)) = ((v18 >> 1) + v17) / v18;
  *(_BYTE *)(v7 + *(_DWORD *)(*(_DWORD *)(a2 + 116) + 4)) = ((v18 >> 1) + v16) / v18;
  result = ((v18 >> 1) + v15) / v18;
  *(_BYTE *)(v7 + *(_DWORD *)(*(_DWORD *)(a2 + 116) + 8)) = result;
  return result;
}

//----- (10066A62) --------------------------------------------------------
int __usercall sub_10066A62<eax>(int a1<edi>, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  int v4; // ebx@1
  int v5; // eax@4
  int v7; // [sp+8h] [bp-4h]@2
  int v8; // [sp+14h] [bp+8h]@1

  v2 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 32 * a2);
  *(_DWORD *)(v2 + 4) = 31;
  *(_DWORD *)(v2 + 20) = 31;
  *(_DWORD *)v2 = 0;
  *(_DWORD *)(v2 + 8) = 0;
  *(_DWORD *)(v2 + 12) = 63;
  *(_DWORD *)(v2 + 16) = 0;
  sub_1006649F(a1, v2);
  v3 = sub_100667D7(a1, v2, 1, a2);
  v8 = 0;
  v4 = v3;
  if ( v3 > 0 )
  {
    v7 = v2;
    do
    {
      sub_1006692A(v7, a1, v8++);
      v7 += 32;
    }
    while ( v8 < v4 );
  }
  v5 = *(_DWORD *)a1;
  *(_DWORD *)(a1 + 112) = v4;
  *(_DWORD *)(v5 + 20) = 95;
  *(_DWORD *)(*(_DWORD *)a1 + 24) = v4;
  return (*(int (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
}

//----- (10066AEF) --------------------------------------------------------
int __usercall sub_10066AEF<eax>(int a1<eax>, int a2<edi>, int a3, int a4, int a5)
{
  int v5; // edx@1
  int v6; // ebx@1
  int v7; // eax@2
  int v8; // ecx@2
  int v9; // eax@2
  int v10; // eax@3
  int v11; // ecx@3
  int v12; // esi@4
  int v13; // eax@7
  int v14; // ecx@8
  int v15; // eax@8
  int v16; // eax@9
  int v17; // ecx@15
  int v18; // eax@15
  int v19; // edx@16
  int v20; // eax@21
  int v21; // edx@22
  int v22; // eax@22
  int v23; // ecx@22
  bool v24; // sf@22
  unsigned __int8 v25; // of@22
  int v26; // ecx@25
  int result; // eax@25
  int v28[256]; // [sp+8h] [bp-428h]@22
  int v29; // [sp+408h] [bp-28h]@2
  int v30; // [sp+40Ch] [bp-24h]@1
  int v31; // [sp+410h] [bp-20h]@1
  int v32; // [sp+414h] [bp-1Ch]@19
  int v33; // [sp+418h] [bp-18h]@1
  int v34; // [sp+41Ch] [bp-14h]@2
  int v35; // [sp+420h] [bp-10h]@2
  int v36; // [sp+424h] [bp-Ch]@1
  int v37; // [sp+428h] [bp-8h]@1
  int v38; // [sp+42Ch] [bp-4h]@1

  v5 = a3;
  v38 = 0;
  v33 = (2 * a3 + 24) >> 1;
  v6 = a4;
  v31 = (2 * a2 + 28) >> 1;
  v36 = *(_DWORD *)(a1 + 112);
  v30 = (2 * a4 + 24) >> 1;
  v37 = 2147483647;
  if ( v36 > 0 )
  {
    v7 = *(_DWORD *)(a1 + 116);
    v29 = *(_DWORD *)v7;
    v8 = *(_DWORD *)(v7 + 4);
    v9 = *(_DWORD *)(v7 + 8);
    v35 = v8;
    v34 = v9;
    do
    {
      v10 = *(_BYTE *)(v29 + v38);
      v11 = v5 + 24;
      if ( v10 >= v5 )
      {
        if ( v10 > v11 )
        {
          v12 = 2 * (v10 - v11) * 2 * (v10 - v11);
LABEL_7:
          v13 = v10 - v5;
          goto LABEL_8;
        }
        v12 = 0;
        if ( v10 > v33 )
          goto LABEL_7;
      }
      else
      {
        v12 = 2 * (v10 - v5) * 2 * (v10 - v5);
      }
      v13 = v10 - v11;
LABEL_8:
      v14 = 2 * v13 * 2 * v13;
      v15 = *(_BYTE *)(v35 + v38);
      if ( v15 < a2 )
      {
        v12 += 3 * (v15 - a2) * 3 * (v15 - a2);
        v6 = a4;
        v16 = v15 - (a2 + 28);
        goto LABEL_15;
      }
      if ( v15 > a2 + 28 )
      {
        v12 += 3 * (v15 - (a2 + 28)) * 3 * (v15 - (a2 + 28));
        v6 = a4;
LABEL_14:
        v16 = v15 - a2;
        goto LABEL_15;
      }
      if ( v15 > v31 )
        goto LABEL_14;
      v16 = v15 - (a2 + 28);
LABEL_15:
      v17 = 3 * v16 * 3 * v16 + v14;
      v18 = *(_BYTE *)(v34 + v38);
      if ( v18 < v6 )
      {
        v12 += (v18 - v6) * (v18 - v6);
        v6 = a4;
        v19 = a4 + 24;
LABEL_31:
        v20 = v18 - v19;
        goto LABEL_22;
      }
      v19 = v6 + 24;
      v32 = v6 + 24;
      if ( v18 <= v6 + 24 )
      {
        if ( v18 <= v30 )
          goto LABEL_31;
      }
      else
      {
        v12 += (v18 - v32) * (v18 - v32);
        v6 = a4;
      }
      v20 = v18 - v6;
LABEL_22:
      v21 = v20 * v20;
      v22 = v38;
      v23 = v21 + v17;
      v25 = __OFSUB__(v23, v37);
      v24 = v23 - v37 < 0;
      v5 = a3;
      v28[v38] = v12;
      if ( v24 ^ v25 )
        v37 = v23;
      v38 = v22 + 1;
    }
    while ( v22 + 1 < v36 );
  }
  v26 = 0;
  for ( result = 0; v26 < v36; ++v26 )
  {
    if ( v28[v26] <= v37 )
      *(_BYTE *)(result++ + a5) = v26;
  }
  return result;
}
// 10066AEF: using guessed type int var_428[256];

//----- (10066C6F) --------------------------------------------------------
signed int __cdecl sub_10066C6F(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  signed int result; // eax@1
  int v8; // ebx@2
  int v9; // edx@2
  int v10; // ecx@2
  int v11; // esi@2
  int v12; // edx@2
  int v13; // eax@2
  int v14; // esi@2
  int v15; // edx@2
  int v16; // ecx@4
  char v17; // [sp+4h] [bp-228h]@1
  int v18; // [sp+204h] [bp-28h]@3
  int v19; // [sp+208h] [bp-24h]@2
  int v20; // [sp+20Ch] [bp-20h]@4
  int v21; // [sp+210h] [bp-1Ch]@2
  int v22; // [sp+214h] [bp-18h]@3
  int v23; // [sp+218h] [bp-14h]@4
  char *v24; // [sp+21Ch] [bp-10h]@2
  int v25; // [sp+220h] [bp-Ch]@3
  int v26; // [sp+224h] [bp-8h]@1
  int v27; // [sp+228h] [bp-4h]@2

  v26 = 0;
  result = 2147483647;
  memset32(&v17, 2147483647, 0x80u);
  if ( a5 > 0 )
  {
    do
    {
      v8 = *(_BYTE *)(v26 + a6);
      v9 = *(_DWORD *)(a1 + 116);
      v10 = a2 - *(_BYTE *)(v8 + *(_DWORD *)v9);
      v11 = 3 * (a3 - *(_BYTE *)(*(_DWORD *)(v9 + 4) + v8));
      v12 = a4 - *(_BYTE *)(*(_DWORD *)(v9 + 8) + v8);
      v10 *= 2;
      v13 = v10 * v10 + v11 * v11 + v12 * v12;
      v14 = 8 * (3 * v11 + 18);
      v15 = 16 * (v12 + 4);
      v24 = &v17;
      v21 = a7;
      v27 = 32 * (v10 + 8);
      v19 = 4;
      do
      {
        v22 = v13;
        v25 = v14;
        v18 = 8;
        do
        {
          v16 = v22;
          v23 = v15;
          v20 = 4;
          do
          {
            if ( v16 < *(_DWORD *)v24 )
            {
              *(_DWORD *)v24 = v16;
              *(_BYTE *)v21 = v8;
            }
            v16 += v23;
            v23 += 128;
            v24 += 4;
            ++v21;
            --v20;
          }
          while ( v20 );
          v22 += v25;
          v25 += 288;
          --v18;
        }
        while ( v18 );
        v13 += v27;
        v27 += 512;
        --v19;
      }
      while ( v19 );
      ++v26;
      result = v26;
    }
    while ( v26 < a5 );
  }
  return result;
}

//----- (10066D89) --------------------------------------------------------
int __usercall sub_10066D89<eax>(signed int a1<eax>, int a2, signed int a3, signed int a4)
{
  signed int v4; // esi@1
  int v5; // eax@1
  int v6; // esi@1
  char *v7; // edx@1
  int v8; // ecx@1
  int v9; // ebx@2
  int result; // eax@3
  signed int v11; // edi@3
  char v12; // [sp+Ch] [bp-188h]@1
  char v13; // [sp+10Ch] [bp-88h]@1
  int v14; // [sp+18Ch] [bp-8h]@1
  int v15; // [sp+190h] [bp-4h]@1
  int v16; // [sp+19Ch] [bp+8h]@1
  signed int v17; // [sp+1A0h] [bp+Ch]@1
  signed int v18; // [sp+1A0h] [bp+Ch]@1
  signed int v19; // [sp+1A4h] [bp+10h]@1
  signed int v20; // [sp+1A4h] [bp+10h]@2

  v19 = a4 >> 2;
  v17 = a3 >> 2;
  v15 = *(_DWORD *)(*(_DWORD *)(a2 + 420) + 24);
  v4 = a1 >> 3;
  v14 = 32 * v19 + 4;
  v5 = sub_10066AEF(a2, 32 * (a1 >> 3) + 2, 32 * v17 + 4, 32 * v19 + 4, (int)&v12);
  sub_10066C6F(a2, 32 * v17 + 4, 32 * v4 + 2, v14, v5, (int)&v12, (int)&v13);
  v6 = 2 * (4 * v19 + (v4 << 8));
  v7 = &v13;
  v16 = v6;
  v8 = v15 + 16 * v17;
  v18 = 4;
  do
  {
    v9 = v16;
    v20 = 8;
    do
    {
      result = v9 + *(_DWORD *)v8;
      v11 = 4;
      do
      {
        LOWORD(v6) = (unsigned __int8)*v7;
        ++v6;
        *(_WORD *)result = v6;
        result += 2;
        ++v7;
        --v11;
      }
      while ( v11 );
      v9 += 64;
      --v20;
    }
    while ( v20 );
    v8 += 4;
    --v18;
  }
  while ( v18 );
  return result;
}

//----- (10066E59) --------------------------------------------------------
int __cdecl sub_10066E59(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // ecx@1
  int v6; // esi@3
  signed int v7; // ecx@5
  int v8; // esi@5
  signed int v9; // eax@5
  signed int v10; // edx@5
  int v11; // edi@5
  int v12; // ecx@7
  bool v13; // zf@7
  int v14; // [sp+4h] [bp-14h]@1
  int v15; // [sp+8h] [bp-10h]@1
  int v16; // [sp+Ch] [bp-Ch]@2
  int v17; // [sp+10h] [bp-8h]@4
  int v18; // [sp+14h] [bp-4h]@2
  int v19; // [sp+2Ch] [bp+14h]@3

  result = a1;
  v15 = *(_DWORD *)(*(_DWORD *)(a1 + 420) + 24);
  v5 = *(_DWORD *)(a1 + 92);
  v14 = *(_DWORD *)(a1 + 92);
  if ( a4 > 0 )
  {
    result = a2 - a3;
    v18 = a3;
    v16 = a4;
    do
    {
      v6 = *(_DWORD *)(result + v18);
      v19 = *(_DWORD *)v18;
      if ( v5 )
      {
        v17 = v5;
        do
        {
          v7 = (unsigned int)*(_BYTE *)v6 >> 3;
          v8 = v6 + 1;
          v9 = (unsigned int)*(_BYTE *)v8++ >> 2;
          v10 = (unsigned int)*(_BYTE *)v8 >> 3;
          v11 = *(_DWORD *)(v15 + 4 * v7) + 2 * (v10 + 32 * v9);
          v6 = v8 + 1;
          if ( !*(_WORD *)v11 )
            sub_10066D89(v9, a1, v7, v10);
          v12 = v19++;
          v13 = v17-- == 1;
          *(_BYTE *)v12 = *(_BYTE *)v11 - 1;
        }
        while ( !v13 );
        v5 = v14;
        result = a2 - a3;
      }
      v18 += 4;
      --v16;
    }
    while ( v16 );
  }
  return result;
}

//----- (10066F02) --------------------------------------------------------
__int16 __cdecl sub_10066F02(int a1, int a2, int *a3, int a4)
{
  int v4; // ecx@1
  int v5; // edx@1
  int v6; // eax@1
  int v7; // esi@1
  __int16 result; // ax@1
  int v9; // esi@2
  int v10; // eax@4
  int v11; // esi@4
  int v12; // esi@5
  int v13; // ebx@7
  int v14; // edi@7
  signed int v15; // edi@10
  signed int v16; // ebx@10
  signed int v17; // eax@10
  int v18; // edx@10
  int v19; // eax@10
  int v20; // eax@12
  int v21; // edi@12
  int v22; // ebx@12
  int v23; // eax@12
  int v24; // ecx@12
  int v25; // edi@12
  int v26; // ecx@12
  int v27; // ebx@12
  __int16 v28; // dx@12
  int v29; // ecx@12
  int v30; // eax@12
  __int16 v31; // dx@12
  bool v32; // zf@12
  int v33; // [sp+4h] [bp-68h]@1
  int v34; // [sp+Ch] [bp-60h]@1
  int v35; // [sp+10h] [bp-5Ch]@1
  int v36; // [sp+14h] [bp-58h]@1
  int v37; // [sp+18h] [bp-54h]@10
  signed int v38; // [sp+1Ch] [bp-50h]@10
  int v39; // [sp+20h] [bp-4Ch]@1
  int v40; // [sp+28h] [bp-44h]@2
  int v41; // [sp+2Ch] [bp-40h]@1
  int v42; // [sp+30h] [bp-3Ch]@8
  signed int v43; // [sp+34h] [bp-38h]@5
  __int16 v44; // [sp+38h] [bp-34h]@7
  __int16 v45; // [sp+3Ch] [bp-30h]@7
  __int16 v46; // [sp+40h] [bp-2Ch]@7
  int v47; // [sp+44h] [bp-28h]@1
  int *v48; // [sp+48h] [bp-24h]@2
  __int16 v49; // [sp+4Ch] [bp-20h]@7
  __int16 v50; // [sp+50h] [bp-1Ch]@7
  __int16 v51; // [sp+54h] [bp-18h]@7
  int v52; // [sp+58h] [bp-14h]@1
  int v53; // [sp+5Ch] [bp-10h]@4
  int v54; // [sp+64h] [bp-8h]@4
  signed int v55; // [sp+68h] [bp-4h]@5
  int v56; // [sp+80h] [bp+14h]@7
  signed int v57; // [sp+80h] [bp+14h]@10
  int v58; // [sp+80h] [bp+14h]@12
  int v59; // [sp+80h] [bp+14h]@12
  int v60; // [sp+80h] [bp+14h]@12

  v4 = *(_DWORD *)(a1 + 420);
  v52 = *(_DWORD *)(a1 + 284);
  v39 = *(_DWORD *)(v4 + 24);
  v5 = *(_DWORD *)(a1 + 92);
  v6 = *(_DWORD *)(a1 + 116);
  v47 = *(_DWORD *)(v4 + 40);
  v36 = *(_DWORD *)v6;
  v7 = *(_DWORD *)(v6 + 4);
  v34 = *(_DWORD *)(v6 + 8);
  result = a4;
  v33 = *(_DWORD *)(a1 + 420);
  v41 = *(_DWORD *)(a1 + 92);
  v35 = v7;
  if ( a4 > 0 )
  {
    v9 = a2 - (_DWORD)a3;
    v48 = a3;
    v40 = a4;
    while ( 1 )
    {
      v10 = *(int *)((char *)v48 + v9);
      v11 = *v48;
      v54 = v10;
      v53 = *v48;
      if ( *(_BYTE *)(v4 + 36) )
      {
        v43 = -1;
        *(_BYTE *)(v4 + 36) = 0;
        v54 = v5 + v10 + 2 * v5 - 3;
        v53 = v11 + v5 - 1;
        v12 = *(_DWORD *)(v4 + 32) + 2 * (3 * v5 + 3);
        v10 = v5 + v10 + 2 * v5 - 3;
        v55 = -3;
      }
      else
      {
        v12 = *(_DWORD *)(v4 + 32);
        v43 = 1;
        v55 = 3;
        *(_BYTE *)(v4 + 36) = 1;
      }
      v5 = v41;
      v13 = 0;
      v49 = 0;
      v50 = 0;
      v51 = 0;
      v14 = 0;
      v56 = 0;
      v44 = 0;
      v45 = 0;
      v46 = 0;
      if ( v41 )
      {
        v42 = v41;
        while ( 1 )
        {
          v15 = *(_BYTE *)(*(_BYTE *)v10 + *(_DWORD *)(v47 + 4 * ((*(_WORD *)(v12 + 2 * v55) + v14 + 8) >> 4)) + v52);
          v16 = *(_BYTE *)(*(_BYTE *)(v10 + 1)
                         + *(_DWORD *)(v47 + 4 * ((*(_WORD *)(v12 + 2 * v55 + 2) + v13 + 8) >> 4))
                         + v52);
          v17 = *(_BYTE *)(*(_BYTE *)(v10 + 2)
                         + *(_DWORD *)(v47 + 4 * ((*(_WORD *)(v12 + 2 * v55 + 4) + v56 + 8) >> 4))
                         + v52);
          v57 = v17;
          v17 >>= 3;
          v18 = v17 + 32 * (v16 >> 2);
          v38 = v17;
          v19 = *(_DWORD *)(v39 + 4 * (v15 >> 3)) + 2 * v18;
          v37 = *(_DWORD *)(v39 + 4 * (v15 >> 3)) + 2 * v18;
          if ( !*(_WORD *)v19 )
          {
            sub_10066D89(v16 >> 2, a1, v15 >> 3, v38);
            v19 = v37;
          }
          v20 = *(_WORD *)v19 - 1;
          *(_BYTE *)v53 = v20;
          v21 = v15 - *(_BYTE *)(v20 + v36);
          v22 = v16 - *(_BYTE *)(v20 + v35);
          v23 = v57 - *(_BYTE *)(v20 + v34);
          v58 = v21;
          v24 = 2 * v21;
          v21 *= 3;
          *(_WORD *)v12 = v21 + v51;
          v25 = v24 + v21;
          v51 = v25 + v46;
          v46 = v58;
          v14 = v24 + v25;
          v59 = v22;
          v26 = 2 * v22;
          v22 *= 3;
          *(_WORD *)(v12 + 2) = v22 + v50;
          v27 = v26 + v22;
          v50 = v27 + v45;
          v28 = v59;
          v60 = v23;
          v45 = v28;
          v13 = v26 + v27;
          v29 = 2 * v23;
          v23 *= 3;
          *(_WORD *)(v12 + 4) = v23 + v49;
          v12 += 2 * v55;
          v30 = v29 + v23;
          v49 = v30 + v44;
          v31 = v60;
          v56 = v29 + v30;
          v54 += v55;
          v53 += v43;
          v32 = v42-- == 1;
          v44 = v31;
          if ( v32 )
            break;
          v10 = v54;
        }
        v4 = v33;
        v5 = v41;
      }
      ++v48;
      v32 = v40-- == 1;
      *(_WORD *)v12 = v51;
      *(_WORD *)(v12 + 2) = v50;
      result = v49;
      *(_WORD *)(v12 + 4) = v49;
      if ( v32 )
        break;
      v9 = a2 - (_DWORD)a3;
    }
  }
  return result;
}

//----- (10067170) --------------------------------------------------------
int __usercall sub_10067170<eax>(int a1<eax>)
{
  int v1; // esi@1
  int result; // eax@1
  int v3; // edx@1
  signed int v4; // ecx@1
  int v5; // edi@1
  int v6; // esi@1
  int v7; // esi@4
  int v8; // esi@7

  v1 = *(_DWORD *)(a1 + 420);
  result = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 2044) + 1020;
  *(_DWORD *)(v1 + 40) = result;
  v3 = 0;
  v4 = 0;
  v5 = 0;
  v6 = result;
  do
  {
    *(_DWORD *)(result + 4 * v4) = v3;
    *(_DWORD *)v6 = v5;
    ++v4;
    v6 -= 4;
    ++v3;
    --v5;
  }
  while ( v4 < 16 );
  if ( v4 < 48 )
  {
    v7 = result - 4 * v4;
    do
    {
      *(_DWORD *)(result + 4 * v4) = v3;
      *(_DWORD *)v7 = -v3;
      ++v4;
      v7 -= 4;
      v3 += ~(_BYTE)v4 & 1;
    }
    while ( v4 < 48 );
  }
  if ( v4 <= 255 )
  {
    v8 = result - 4 * v4;
    do
    {
      *(_DWORD *)(result + 4 * v4) = v3;
      *(_DWORD *)v8 = -v3;
      ++v4;
      v8 -= 4;
    }
    while ( v4 <= 255 );
  }
  return result;
}

//----- (10067200) --------------------------------------------------------
int __cdecl sub_10067200(int a1)
{
  int v1; // esi@1
  int result; // eax@1

  v1 = *(_DWORD *)(a1 + 420);
  *(_DWORD *)(a1 + 116) = *(_DWORD *)(v1 + 16);
  result = sub_10066A62(a1, *(_DWORD *)(v1 + 20));
  *(_BYTE *)(v1 + 28) = 1;
  return result;
}

//----- (10067223) --------------------------------------------------------
int __cdecl sub_10067223(int a1, char a2)
{
  int v2; // esi@1
  bool v3; // zf@1
  int v4; // edi@1
  int result; // eax@1
  signed int v6; // ebx@8
  unsigned int v7; // ebx@13
  signed int v8; // esi@19
  int v9; // [sp+10h] [bp+8h]@1

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 76) == 0;
  v4 = *(_DWORD *)(a1 + 420);
  result = *(_DWORD *)(v4 + 24);
  v9 = *(_DWORD *)(v4 + 24);
  if ( !v3 )
    *(_DWORD *)(v2 + 76) = 2;
  if ( a2 )
  {
    *(_DWORD *)(v4 + 4) = sub_100663E7;
    *(_DWORD *)(v4 + 8) = sub_10067200;
    *(_BYTE *)(v4 + 28) = 1;
  }
  else
  {
    if ( *(_DWORD *)(v2 + 76) == 2 )
      *(_DWORD *)(v4 + 4) = sub_10066F02;
    else
      *(_DWORD *)(v4 + 4) = sub_10066E59;
    *(_DWORD *)(v4 + 8) = nullsub_7;
    v6 = *(_DWORD *)(v2 + 112);
    if ( v6 < 1 )
    {
      *(_DWORD *)(*(_DWORD *)v2 + 20) = 55;
      *(_DWORD *)(*(_DWORD *)v2 + 24) = 1;
      (**(void (__cdecl ***)(_DWORD))v2)(v2);
    }
    result = 256;
    if ( v6 > 256 )
    {
      *(_DWORD *)(*(_DWORD *)v2 + 20) = 56;
      *(_DWORD *)(*(_DWORD *)v2 + 24) = 256;
      result = (**(int (__cdecl ***)(_DWORD))v2)(v2);
    }
    if ( *(_DWORD *)(v2 + 76) == 2 )
    {
      v7 = 6 * (*(_DWORD *)(v2 + 92) + 2);
      if ( !*(_DWORD *)(v4 + 32) )
        *(_DWORD *)(v4 + 32) = (*(int (__cdecl **)(int, signed int, unsigned int))(*(_DWORD *)(v2 + 4) + 4))(v2, 1, v7);
      result = sub_1005F127(*(void **)(v4 + 32), v7);
      if ( !*(_DWORD *)(v4 + 40) )
        result = sub_10067170(v2);
      *(_BYTE *)(v4 + 36) = 0;
    }
  }
  if ( *(_BYTE *)(v4 + 28) )
  {
    v8 = 0;
    do
      result = sub_1005F127(*(void **)(v9 + 4 * v8++), 0x1000u);
    while ( v8 < 32 );
    *(_BYTE *)(v4 + 28) = 0;
  }
  return result;
}
// 10067222: using guessed type int nullsub_7();

//----- (10067325) --------------------------------------------------------
int __cdecl sub_10067325(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 420);
  *(_BYTE *)(result + 28) = 1;
  return result;
}

//----- (10067334) --------------------------------------------------------
int __cdecl sub_10067334(int a1)
{
  int v1; // edi@1
  signed int v2; // ebp@1
  int result; // eax@4
  signed int v4; // ebp@6

  v1 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 44);
  *(_DWORD *)(a1 + 420) = v1;
  v2 = 0;
  *(_DWORD *)v1 = sub_10067223;
  *(_DWORD *)(v1 + 12) = sub_10067325;
  *(_DWORD *)(v1 + 32) = 0;
  *(_DWORD *)(v1 + 40) = 0;
  if ( *(_DWORD *)(a1 + 100) != 3 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 46;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  *(_DWORD *)(v1 + 24) = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 128);
  do
  {
    result = (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)(a1 + 4) + 4))(a1, 1, 4096);
    *(_DWORD *)(*(_DWORD *)(v1 + 24) + v2) = result;
    v2 += 4;
  }
  while ( v2 < 128 );
  *(_BYTE *)(v1 + 28) = 1;
  if ( *(_BYTE *)(a1 + 90) )
  {
    v4 = *(_DWORD *)(a1 + 84);
    if ( v4 < 8 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 55;
      *(_DWORD *)(*(_DWORD *)a1 + 24) = 8;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    if ( v4 > 256 )
    {
      *(_DWORD *)(*(_DWORD *)a1 + 20) = 56;
      *(_DWORD *)(*(_DWORD *)a1 + 24) = 256;
      (**(void (__cdecl ***)(_DWORD))a1)(a1);
    }
    result = (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)(a1 + 4) + 8))(a1, 1, v4, 3);
    *(_DWORD *)(v1 + 16) = result;
    *(_DWORD *)(v1 + 20) = v4;
  }
  else
  {
    *(_DWORD *)(v1 + 16) = 0;
  }
  if ( *(_DWORD *)(a1 + 76) )
    *(_DWORD *)(a1 + 76) = 2;
  if ( *(_DWORD *)(a1 + 76) == 2 )
  {
    *(_DWORD *)(v1 + 32) = (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)(a1 + 4) + 4))(
                             a1,
                             1,
                             6 * (*(_DWORD *)(a1 + 92) + 2));
    result = sub_10067170(a1);
  }
  return result;
}

//----- (10067447) --------------------------------------------------------
signed int __cdecl sub_10067447(int a1, void *a2)
{
  int v2; // esi@1
  unsigned int v3; // ebx@1
  signed int v4; // edi@1
  signed int v5; // eax@2
  int v6; // ecx@3
  int v7; // edi@6
  unsigned int v8; // edx@9
  int v9; // eax@16
  int v10; // ecx@18
  int v11; // edi@18
  int v12; // eax@18
  int v14; // [sp+Ch] [bp-10h]@1
  signed int v15; // [sp+10h] [bp-Ch]@8
  int v16; // [sp+14h] [bp-8h]@13
  char v17; // [sp+1Bh] [bp-1h]@13

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 100);
  v14 = *(_DWORD *)(a1 + 84);
  v4 = 1;
  do
  {
    ++v4;
    v5 = v4;
    if ( (signed int)v3 > 1 )
    {
      v6 = v3 - 1;
      do
      {
        v5 *= v4;
        --v6;
      }
      while ( v6 );
    }
  }
  while ( v5 <= *(_DWORD *)(a1 + 84) );
  v7 = v4 - 1;
  if ( v7 < 2 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 55;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = v5;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  v15 = 1;
  if ( (signed int)v3 > 0 )
  {
    v8 = v3;
    memset32(a2, v7, v3);
    do
    {
      --v8;
      v15 *= v7;
    }
    while ( v8 );
  }
  while ( 1 )
  {
    v17 = 0;
    v16 = 0;
    if ( (signed int)v3 <= 0 )
      break;
    while ( 1 )
    {
      v9 = v16;
      if ( *(_DWORD *)(v2 + 40) == 2 )
        v9 = dword_10077218[v16];
      v10 = (int)((char *)a2 + 4 * v9);
      v11 = *(_DWORD *)v10 + 1;
      v12 = v11 * v15 / *(_DWORD *)v10;
      if ( v12 > v14 )
        break;
      ++v16;
      *(_DWORD *)v10 = v11;
      v15 = v12;
      v17 = 1;
      if ( v16 >= (signed int)v3 )
        break;
      v2 = a1;
    }
    if ( !v17 )
      break;
    v2 = a1;
  }
  return v15;
}
// 10077218: using guessed type int dword_10077218[];

//----- (1006753E) --------------------------------------------------------
int __usercall sub_1006753E<eax>(int a1<esi>)
{
  int v1; // edi@1
  void *v2; // edi@1
  signed int v3; // ebx@1
  int v4; // eax@1
  int v5; // eax@2
  int result; // eax@4
  int v7; // ecx@6
  int v8; // edi@6
  int v9; // edx@8
  int v10; // eax@10
  int v11; // [sp+8h] [bp-34h]@4
  int v12; // [sp+Ch] [bp-30h]@8
  int v13; // [sp+14h] [bp-28h]@1
  int v14; // [sp+18h] [bp-24h]@7
  int v15; // [sp+1Ch] [bp-20h]@4
  int v16; // [sp+20h] [bp-1Ch]@5
  void *v17; // [sp+24h] [bp-18h]@5
  signed int v18; // [sp+28h] [bp-14h]@4
  int v19; // [sp+2Ch] [bp-10h]@7
  int v20; // [sp+34h] [bp-8h]@6
  int i; // [sp+38h] [bp-4h]@9

  v1 = *(_DWORD *)(a1 + 420);
  v13 = v1;
  v2 = (void *)(v1 + 32);
  v3 = sub_10067447(a1, v2);
  v4 = *(_DWORD *)a1;
  if ( *(_DWORD *)(a1 + 100) == 3 )
  {
    v5 = v4 + 24;
    *(_DWORD *)v5 = v3;
    *(_DWORD *)(v5 + 4) = *(_DWORD *)v2;
    *(_DWORD *)(v5 + 8) = *(_DWORD *)(v13 + 36);
    *(_DWORD *)(v5 + 12) = *(_DWORD *)(v13 + 40);
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 93;
  }
  else
  {
    *(_DWORD *)(v4 + 20) = 94;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = v3;
  }
  (*(void (__cdecl **)(int, signed int))(*(_DWORD *)a1 + 4))(a1, 1);
  result = (*(int (__cdecl **)(int, signed int, signed int, _DWORD))(*(_DWORD *)(a1 + 4) + 8))(
             a1,
             1,
             v3,
             *(_DWORD *)(a1 + 100));
  v15 = 0;
  v11 = result;
  v18 = v3;
  if ( *(_DWORD *)(a1 + 100) > 0 )
  {
    v16 = result;
    v17 = v2;
    do
    {
      v7 = *(_DWORD *)v17;
      v8 = 0;
      v20 = v18 / *(_DWORD *)v17;
      if ( *(_DWORD *)v17 > 0 )
      {
        v19 = 0;
        v14 = *(_DWORD *)v17;
        do
        {
          v9 = v19;
          v12 = (v8 + (v7 - 1) / 2) / (v7 - 1);
          while ( v9 < v3 )
          {
            for ( i = 0; i < v20; *(_BYTE *)(v10 + v9) = v12 )
              v10 = i++ + *(_DWORD *)v16;
            v9 += v18;
          }
          v19 += v20;
          v8 += 255;
          --v14;
        }
        while ( v14 );
      }
      ++v15;
      v17 = (char *)v17 + 4;
      v16 += 4;
      v18 = v20;
    }
    while ( v15 < *(_DWORD *)(a1 + 100) );
    result = v11;
  }
  *(_DWORD *)(v13 + 20) = v3;
  *(_DWORD *)(v13 + 16) = result;
  return result;
}

//----- (1006766B) --------------------------------------------------------
signed int __cdecl sub_1006766B(signed int a1)
{
  int v1; // esi@1
  int v2; // ebx@4
  signed int result; // eax@4
  int v4; // ecx@7
  int v5; // edi@9
  int v6; // edx@9
  int i; // eax@11
  signed int v8; // ebx@14
  signed int v9; // edx@16
  int v10; // ecx@16
  int v11; // [sp+10h] [bp-18h]@4
  int v12; // [sp+14h] [bp-14h]@7
  int v13; // [sp+18h] [bp-10h]@5
  signed int v14; // [sp+1Ch] [bp-Ch]@2
  int v15; // [sp+20h] [bp-8h]@9
  signed int v16; // [sp+24h] [bp-4h]@9

  v1 = *(_DWORD *)(a1 + 420);
  if ( *(_DWORD *)(a1 + 76) == 1 )
  {
    v14 = 510;
    *(_BYTE *)(v1 + 28) = 1;
  }
  else
  {
    v14 = 0;
    *(_BYTE *)(v1 + 28) = 0;
  }
  v2 = 0;
  *(_DWORD *)(v1 + 24) = (*(int (__cdecl **)(signed int, signed int, int, _DWORD))(*(_DWORD *)(a1 + 4) + 8))(
                           a1,
                           1,
                           v14 + 256,
                           *(_DWORD *)(a1 + 100));
  result = *(_DWORD *)(v1 + 20);
  v11 = 0;
  if ( *(_DWORD *)(a1 + 100) > 0 )
  {
    v13 = v1 + 32;
    while ( 1 )
    {
      v4 = *(_DWORD *)v13;
      v12 = result / *(_DWORD *)v13;
      if ( v14 )
        *(_DWORD *)(*(_DWORD *)(v1 + 24) + 4 * v2) += 255;
      v5 = *(_DWORD *)(*(_DWORD *)(v1 + 24) + 4 * v2);
      v15 = 0;
      v16 = 0;
      v6 = (v4 + 254) / (2 * v4 - 2);
      do
      {
        if ( v16 > v6 )
        {
          for ( i = 510 * v15; ; i += 510 )
          {
            ++v15;
            v6 = (i + 510 + v4 + 254) / (2 * v4 - 2);
            if ( v16 <= v6 )
              break;
          }
        }
        v8 = v16++;
        *(_BYTE *)(v8 + v5) = v12 * v15;
      }
      while ( v16 <= 255 );
      if ( v14 )
      {
        v9 = 1;
        v10 = v5 - 1;
        do
        {
          *(_BYTE *)v10 = *(_BYTE *)v5;
          *(_BYTE *)(v5 + 255 + v9++) = *(_BYTE *)(v5 + 255);
          --v10;
        }
        while ( v9 <= 255 );
      }
      result = a1;
      v13 += 4;
      v2 = v11++ + 1;
      if ( v11 >= *(_DWORD *)(a1 + 100) )
        break;
      result = v12;
    }
  }
  return result;
}

//----- (100677F8) --------------------------------------------------------
void __usercall sub_100677F8(int a1<edi>)
{
  int v1; // edx@1
  int v2; // ecx@2
  int v3; // esi@3
  int v4; // eax@3
  int v5; // ebx@4
  int v6; // eax@8
  signed int v7; // ebx@9
  int v8; // ecx@9
  signed int v9; // esi@10
  int v10; // eax@11
  int v11; // [sp+0h] [bp-14h]@1
  int v12; // [sp+4h] [bp-10h]@9
  int v13; // [sp+8h] [bp-Ch]@2
  signed int v14; // [sp+Ch] [bp-8h]@9
  int v15; // [sp+10h] [bp-4h]@1

  v1 = *(_DWORD *)(a1 + 420);
  v15 = 0;
  v11 = *(_DWORD *)(a1 + 420);
  if ( *(_DWORD *)(a1 + 100) > 0 )
  {
    v2 = v1 + 52;
    v13 = v1 + 52;
    do
    {
      v3 = *(_DWORD *)(v2 - 20);
      v4 = 0;
      if ( v15 <= 0 )
        goto LABEL_9;
      v5 = v1 + 32;
      while ( v3 != *(_DWORD *)v5 )
      {
        ++v4;
        v5 += 4;
        if ( v4 >= v15 )
          goto LABEL_9;
      }
      v6 = *(_DWORD *)(v1 + 4 * v4 + 52);
      if ( !v6 )
      {
LABEL_9:
        v12 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
        v7 = (v3 << 9) - 512;
        v14 = (signed int)&unk_10077118;
        v8 = v12;
        do
        {
          v9 = 0;
          do
          {
            v10 = (65025 - 510 * *(_BYTE *)(v14 + v9++)) / v7;
            *(_DWORD *)v8 = v10;
            v8 += 4;
          }
          while ( v9 < 16 );
          v14 += 16;
        }
        while ( v14 < (signed int)dword_10077218 );
        v6 = v12;
        v1 = v11;
        v2 = v13;
      }
      ++v15;
      *(_DWORD *)v2 = v6;
      v2 += 4;
      v13 = v2;
    }
    while ( v15 < *(_DWORD *)(a1 + 100) );
  }
}
// 10077218: using guessed type int dword_10077218[];

//----- (100678BD) --------------------------------------------------------
int __cdecl sub_100678BD(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1
  int result; // eax@1
  int v6; // ecx@2
  int v7; // edx@3
  int v8; // esi@5
  int v9; // esi@7
  bool v10; // zf@7
  int v11; // [sp+4h] [bp-14h]@1
  int v12; // [sp+8h] [bp-10h]@1
  int v13; // [sp+Ch] [bp-Ch]@1
  int v14; // [sp+10h] [bp-8h]@2
  int v15; // [sp+14h] [bp-4h]@4
  int v16; // [sp+20h] [bp+8h]@5
  int v17; // [sp+2Ch] [bp+14h]@3

  v4 = *(_DWORD *)(a1 + 92);
  result = *(_DWORD *)(a1 + 100);
  v13 = *(_DWORD *)(*(_DWORD *)(a1 + 420) + 24);
  v11 = *(_DWORD *)(a1 + 92);
  v12 = *(_DWORD *)(a1 + 100);
  if ( a4 > 0 )
  {
    v6 = a3;
    v14 = a4;
    do
    {
      v7 = *(_DWORD *)(a2 - a3 + v6);
      v17 = *(_DWORD *)v6;
      if ( v4 )
      {
        v15 = v4;
        do
        {
          v16 = 0;
          v8 = 0;
          if ( result > 0 )
          {
            do
            {
              v16 += *(_BYTE *)(*(_DWORD *)(v13 + 4 * v8) + *(_BYTE *)v7);
              result = v12;
              ++v7;
              ++v8;
            }
            while ( v8 < v12 );
          }
          v9 = v17++;
          v10 = v15-- == 1;
          *(_BYTE *)v9 = v16;
        }
        while ( !v10 );
        v4 = v11;
      }
      v6 += 4;
      --v14;
    }
    while ( v14 );
  }
  return result;
}

//----- (10067945) --------------------------------------------------------
int __cdecl sub_10067945(int a1, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // edx@1
  int result; // eax@1
  int v7; // edx@1
  int v8; // edi@2
  int v9; // ecx@3
  int v10; // esi@3
  char v11; // dl@5
  int v12; // ecx@5
  char v13; // dl@5
  char v14; // al@5
  int v15; // [sp+4h] [bp-10h]@1
  int v16; // [sp+8h] [bp-Ch]@1
  int v17; // [sp+Ch] [bp-8h]@1
  int v18; // [sp+10h] [bp-4h]@1
  int v19; // [sp+1Ch] [bp+8h]@4

  v4 = *(_DWORD *)(*(_DWORD *)(a1 + 420) + 24);
  v18 = *(_DWORD *)v4;
  v5 = *(_DWORD *)(v4 + 4);
  result = *(_DWORD *)(v4 + 8);
  v17 = v5;
  v7 = *(_DWORD *)(a1 + 92);
  v16 = result;
  v15 = *(_DWORD *)(a1 + 92);
  if ( a4 > 0 )
  {
    v8 = a3;
    result = a2 - a3;
    do
    {
      v9 = *(_DWORD *)(result + v8);
      v10 = *(_DWORD *)v8;
      if ( v7 )
      {
        v19 = v7;
        do
        {
          v11 = *(_BYTE *)(*(_BYTE *)v9 + v18);
          v12 = v9 + 1;
          v13 = *(_BYTE *)(*(_BYTE *)v12++ + v17) + v11;
          v14 = *(_BYTE *)(*(_BYTE *)v12 + v16);
          v9 = v12 + 1;
          *(_BYTE *)v10++ = v14 + v13;
          --v19;
        }
        while ( v19 );
        v7 = v15;
        result = a2 - a3;
      }
      v8 += 4;
      --a4;
    }
    while ( a4 );
  }
  return result;
}

//----- (100679D2) --------------------------------------------------------
int __cdecl sub_100679D2(int a1, int a2, void **a3, int a4)
{
  int v4; // esi@1
  int result; // eax@1
  void **v6; // ebx@2
  int v7; // edi@2
  int v8; // eax@3
  void *v9; // edi@5
  int v10; // eax@5
  int v11; // ecx@5
  int v12; // edx@7
  bool v13; // zf@7
  int v14; // [sp+4h] [bp-2Ch]@3
  int v15; // [sp+Ch] [bp-24h]@5
  int v16; // [sp+10h] [bp-20h]@4
  int v17; // [sp+14h] [bp-1Ch]@4
  int v18; // [sp+18h] [bp-18h]@2
  void **v19; // [sp+1Ch] [bp-14h]@2
  unsigned int v20; // [sp+20h] [bp-10h]@6
  unsigned int v21; // [sp+24h] [bp-Ch]@1
  int v22; // [sp+28h] [bp-8h]@1
  int v23; // [sp+2Ch] [bp-4h]@4
  int v24; // [sp+38h] [bp+8h]@3
  int v25; // [sp+44h] [bp+14h]@5

  v4 = *(_DWORD *)(a1 + 420);
  v21 = *(_DWORD *)(a1 + 92);
  result = a4;
  v22 = *(_DWORD *)(a1 + 100);
  if ( a4 > 0 )
  {
    v6 = a3;
    v7 = a2 - (_DWORD)a3;
    v19 = a3;
    v18 = a4;
    do
    {
      sub_1005F127(*v6, v21);
      v8 = *(_DWORD *)(v4 + 48);
      v24 = 0;
      v14 = *(_DWORD *)(v4 + 48);
      if ( v22 > 0 )
      {
        v16 = v8 << 6;
        v17 = (int)((char *)v6 + v7);
        v23 = v4 + 52;
        do
        {
          v25 = 0;
          v9 = *v6;
          v10 = v24 + *(_DWORD *)v17;
          v15 = *(_DWORD *)(*(_DWORD *)(v4 + 24) + 4 * v24);
          v11 = v16 + *(_DWORD *)v23;
          if ( v21 )
          {
            v20 = v21;
            do
            {
              v12 = *(_BYTE *)v10;
              v10 += v22;
              *(_BYTE *)v9 += *(_BYTE *)(v12 + *(_DWORD *)(v11 + 4 * v25) + v15);
              v9 = (char *)v9 + 1;
              v13 = v20-- == 1;
              v25 = ((_BYTE)v25 + 1) & 0xF;
            }
            while ( !v13 );
            v6 = v19;
          }
          ++v24;
          v23 += 4;
        }
        while ( v24 < v22 );
        v7 = a2 - (_DWORD)a3;
        LOBYTE(v8) = v14;
      }
      result = ((_BYTE)v8 + 1) & 0xF;
      ++v6;
      v13 = v18-- == 1;
      *(_DWORD *)(v4 + 48) = result;
      v19 = v6;
    }
    while ( !v13 );
  }
  return result;
}

//----- (10067ABD) --------------------------------------------------------
int __cdecl sub_10067ABD(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // ecx@1
  int v6; // edx@2
  int v7; // ecx@4
  int v8; // edi@4
  int v9; // edx@4
  int v10; // ebx@4
  int v11; // esi@4
  int v12; // ecx@7
  bool v13; // zf@7
  char v14; // [sp+4h] [bp-30h]@4
  int v15; // [sp+8h] [bp-2Ch]@1
  int v16; // [sp+10h] [bp-24h]@1
  int v17; // [sp+14h] [bp-20h]@1
  int v18; // [sp+18h] [bp-1Ch]@4
  int v19; // [sp+1Ch] [bp-18h]@1
  int v20; // [sp+24h] [bp-10h]@2
  int v21; // [sp+28h] [bp-Ch]@5
  int v22; // [sp+2Ch] [bp-8h]@2
  int v23; // [sp+30h] [bp-4h]@4
  int v24; // [sp+3Ch] [bp+8h]@4
  int v25; // [sp+48h] [bp+14h]@7
  int v26; // [sp+48h] [bp+14h]@7

  result = *(_DWORD *)(a1 + 420);
  v5 = *(_DWORD *)(result + 24);
  v17 = *(_DWORD *)v5;
  v15 = *(_DWORD *)(v5 + 8);
  v19 = *(_DWORD *)(a1 + 92);
  v16 = *(_DWORD *)(v5 + 4);
  if ( a4 > 0 )
  {
    v6 = a2 - a3;
    v22 = a3;
    v20 = a4;
    while ( 1 )
    {
      v7 = *(_DWORD *)(v6 + v22);
      v24 = 0;
      v14 = *(_DWORD *)(result + 48);
      v8 = *(_DWORD *)(result + 48) << 6;
      v23 = *(_DWORD *)v22;
      v9 = v8 + *(_DWORD *)(result + 56);
      v10 = v8 + *(_DWORD *)(result + 60);
      v11 = v8 + *(_DWORD *)(result + 52);
      v18 = v8 + *(_DWORD *)(result + 56);
      if ( v19 )
      {
        v21 = v19;
        while ( 1 )
        {
          v25 = *(_BYTE *)(*(_BYTE *)v7 + *(_DWORD *)(v11 + 4 * v24) + v17);
          v12 = v7 + 1;
          v26 = *(_BYTE *)(*(_BYTE *)v12++ + *(_DWORD *)(v9 + 4 * v24) + v16) + v25;
          *(_BYTE *)v23 = *(_BYTE *)(*(_BYTE *)v12 + *(_DWORD *)(v10 + 4 * v24) + v15) + v26;
          v7 = v12 + 1;
          ++v23;
          v13 = v21-- == 1;
          v24 = ((_BYTE)v24 + 1) & 0xF;
          if ( v13 )
            break;
          v9 = v18;
        }
      }
      v22 += 4;
      v13 = v20-- == 1;
      *(_DWORD *)(result + 48) = (v14 + 1) & 0xF;
      if ( v13 )
        break;
      v6 = a2 - a3;
    }
  }
  return result;
}

//----- (10067BBC) --------------------------------------------------------
char __cdecl sub_10067BBC(int a1, int a2, void **a3, int a4)
{
  int v4; // ebx@1
  int v5; // eax@1
  int v6; // ecx@1
  int v7; // esi@2
  int v8; // edi@5
  void *v9; // esi@5
  int v10; // ecx@6
  int v11; // eax@8
  int v12; // eax@10
  int v13; // edx@10
  int v14; // eax@10
  __int16 v15; // ST20_2@10
  int v16; // edx@10
  int v17; // eax@10
  bool v18; // zf@10
  int v20; // [sp+8h] [bp-40h]@1
  int v21; // [sp+14h] [bp-34h]@8
  int v22; // [sp+18h] [bp-30h]@8
  int v23; // [sp+1Ch] [bp-2Ch]@1
  int v24; // [sp+20h] [bp-28h]@4
  int v25; // [sp+24h] [bp-24h]@2
  unsigned int v26; // [sp+28h] [bp-20h]@9
  int v27; // [sp+2Ch] [bp-1Ch]@6
  __int16 v28; // [sp+30h] [bp-18h]@8
  __int16 v29; // [sp+34h] [bp-14h]@8
  signed int v30; // [sp+38h] [bp-10h]@6
  unsigned int v31; // [sp+3Ch] [bp-Ch]@1
  int v32; // [sp+40h] [bp-8h]@4
  int v33; // [sp+44h] [bp-4h]@1
  int v34; // [sp+50h] [bp+8h]@3
  void **v35; // [sp+5Ch] [bp+14h]@2

  v33 = *(_DWORD *)(a1 + 100);
  v4 = *(_DWORD *)(a1 + 420);
  v5 = *(_DWORD *)(a1 + 284);
  v31 = *(_DWORD *)(a1 + 92);
  v6 = a4;
  v20 = *(_DWORD *)(a1 + 420);
  v23 = *(_DWORD *)(a1 + 284);
  if ( a4 > 0 )
  {
    v7 = a2 - (_DWORD)a3;
    v35 = a3;
    v25 = v6;
    do
    {
      sub_1005F127(*v35, v31);
      v34 = 0;
      if ( v33 > 0 )
      {
        v24 = (int)((char *)v35 + v7);
        v32 = v4 + 68;
        do
        {
          v8 = v34 + *(_DWORD *)v24;
          v9 = *v35;
          if ( *(_BYTE *)(v4 + 84) )
          {
            v30 = -1;
            v9 = (char *)v9 + v31 - 1;
            v8 += v33 * (v31 - 1);
            v27 = -v33;
            v10 = *(_DWORD *)v32 + 2 * v31 + 2;
          }
          else
          {
            v27 = v33;
            v10 = *(_DWORD *)v32;
            v30 = 1;
          }
          v22 = *(_DWORD *)(4 * v34 + *(_DWORD *)(v4 + 24));
          v21 = *(_DWORD *)(4 * v34 + *(_DWORD *)(v4 + 16));
          v11 = 0;
          v29 = 0;
          v28 = 0;
          if ( v31 )
          {
            v26 = v31;
            do
            {
              v12 = *(_BYTE *)(*(_BYTE *)v8 + ((*(_WORD *)(v10 + 2 * v30) + v11 + 8) >> 4) + v23);
              v13 = *(_BYTE *)(v12 + v22);
              *(_BYTE *)v9 += v13;
              v8 += v27;
              v9 = (char *)v9 + v30;
              v14 = v12 - *(_BYTE *)(v13 + v21);
              v15 = v14;
              v16 = 2 * v14;
              v14 *= 3;
              *(_WORD *)v10 = v14 + v29;
              v17 = v16 + v14;
              v29 = v17 + v28;
              v11 = v16 + v17;
              v18 = v26-- == 1;
              v28 = v15;
              v10 += 2 * v30;
            }
            while ( !v18 );
            v4 = v20;
          }
          ++v34;
          v32 += 4;
          *(_WORD *)v10 = v29;
        }
        while ( v34 < v33 );
        v7 = a2 - (_DWORD)a3;
      }
      LOBYTE(v5) = *(_BYTE *)(v4 + 84) == 0;
      ++v35;
      v18 = v25-- == 1;
      *(_BYTE *)(v4 + 84) = v5;
    }
    while ( !v18 );
  }
  return v5;
}

//----- (10067D40) --------------------------------------------------------
int __usercall sub_10067D40<eax>(int a1<esi>)
{
  int result; // eax@1
  int v2; // ebp@1
  int v3; // edi@1
  int v4; // ebx@2

  result = *(_DWORD *)(a1 + 420);
  v2 = *(_DWORD *)(a1 + 92);
  v3 = 0;
  if ( *(_DWORD *)(a1 + 100) > 0 )
  {
    v4 = result + 68;
    do
    {
      result = (*(int (__cdecl **)(int, signed int, int))(*(_DWORD *)(a1 + 4) + 4))(a1, 1, v2);
      *(_DWORD *)v4 = result;
      ++v3;
      v4 += 4;
    }
    while ( v3 < *(_DWORD *)(a1 + 100) );
  }
  return result;
}

//----- (10067D76) --------------------------------------------------------
void __cdecl sub_10067D76(int a1)
{
  int v1; // edi@1
  int v2; // eax@1
  int v3; // eax@2
  void **v4; // ebx@5
  bool v5; // zf@5
  int v6; // edi@7
  unsigned int i; // ebp@7

  v1 = *(_DWORD *)(a1 + 420);
  *(_DWORD *)(a1 + 116) = *(_DWORD *)(v1 + 16);
  *(_DWORD *)(a1 + 112) = *(_DWORD *)(v1 + 20);
  v2 = *(_DWORD *)(a1 + 76);
  if ( v2 )
  {
    v3 = v2 - 1;
    if ( v3 )
    {
      if ( v3 == 1 )
      {
        *(_BYTE *)(v1 + 84) = 0;
        v4 = (void **)(v1 + 68);
        v5 = *(_DWORD *)(v1 + 68) == 0;
        *(_DWORD *)(v1 + 4) = sub_10067BBC;
        if ( v5 )
          sub_10067D40(a1);
        v6 = 0;
        for ( i = 2 * *(_DWORD *)(a1 + 92) + 4; v6 < *(_DWORD *)(a1 + 100); ++v4 )
        {
          sub_1005F127(*v4, i);
          ++v6;
        }
      }
      else
      {
        *(_DWORD *)(*(_DWORD *)a1 + 20) = 47;
        (**(void (__cdecl ***)(_DWORD))a1)(a1);
      }
    }
    else
    {
      if ( *(_DWORD *)(a1 + 100) == 3 )
        *(_DWORD *)(v1 + 4) = sub_10067ABD;
      else
        *(_DWORD *)(v1 + 4) = sub_100679D2;
      v5 = *(_BYTE *)(v1 + 28) == 0;
      *(_DWORD *)(v1 + 48) = 0;
      if ( v5 )
        sub_1006766B(a1);
      if ( !*(_DWORD *)(v1 + 52) )
        sub_100677F8(a1);
    }
  }
  else
  {
    if ( *(_DWORD *)(a1 + 100) == 3 )
      *(_DWORD *)(v1 + 4) = sub_10067945;
    else
      *(_DWORD *)(v1 + 4) = sub_100678BD;
  }
}

//----- (10067E41) --------------------------------------------------------
int __cdecl sub_10067E41(int a1)
{
  *(_DWORD *)(*(_DWORD *)a1 + 20) = 45;
  return (**(int (__cdecl ***)(_DWORD))a1)(a1);
}

//----- (10067E55) --------------------------------------------------------
signed int __cdecl sub_10067E55(int a1)
{
  int v1; // eax@1
  signed int result; // eax@5

  v1 = (**(int (__cdecl ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 88);
  *(_DWORD *)(a1 + 420) = v1;
  *(_DWORD *)(v1 + 68) = 0;
  *(_DWORD *)(v1 + 52) = 0;
  *(_DWORD *)v1 = sub_10067D76;
  *(_DWORD *)(v1 + 8) = nullsub_8;
  *(_DWORD *)(v1 + 12) = sub_10067E41;
  if ( *(_DWORD *)(a1 + 100) > 4 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 54;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = 4;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  if ( *(_DWORD *)(a1 + 84) > 256 )
  {
    *(_DWORD *)(*(_DWORD *)a1 + 20) = 56;
    *(_DWORD *)(*(_DWORD *)a1 + 24) = 256;
    (**(void (__cdecl ***)(_DWORD))a1)(a1);
  }
  sub_1006753E(a1);
  result = sub_1006766B(a1);
  if ( *(_DWORD *)(a1 + 76) == 2 )
    result = sub_10067D40(a1);
  return result;
}
// 10067E40: using guessed type int nullsub_8();

//----- (10067EDC) --------------------------------------------------------
int __cdecl sub_10067EDC(int a1, int a2, int a3)
{
  int v3; // eax@8
  int result; // eax@8

  if ( a3 )
    *(_DWORD *)a3 = *(_DWORD *)(a1 + 60);
  if ( *(_DWORD *)a1 == 4 || *(_DWORD *)a1 == 5 )
    (*(void (__cdecl **)(_DWORD, _DWORD))(a2 + 36))(*(_DWORD *)(a2 + 40), *(_DWORD *)(a1 + 12));
  if ( *(_DWORD *)a1 == 6 )
    sub_1006984D(*(_DWORD *)(a1 + 4), a2);
  v3 = *(_DWORD *)(a1 + 40);
  *(_DWORD *)(a1 + 52) = v3;
  *(_DWORD *)(a1 + 48) = v3;
  result = *(_DWORD *)(a1 + 56);
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 28) = 0;
  *(_DWORD *)(a1 + 32) = 0;
  if ( result )
  {
    result = ((int (__cdecl *)(_DWORD, _DWORD, _DWORD))result)(0, 0, 0);
    *(_DWORD *)(a1 + 60) = result;
    *(_DWORD *)(a2 + 48) = result;
  }
  return result;
}

//----- (10067F47) --------------------------------------------------------
int __cdecl sub_10067F47(int a1, int a2, int a3)
{
  int v3; // edi@1
  int v4; // eax@2
  int result; // eax@4
  int v6; // eax@5

  v3 = (*(int (__cdecl **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, 64);
  if ( !v3 )
    return 0;
  v4 = (*(int (__cdecl **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 8, 1440);
  *(_DWORD *)(v3 + 36) = v4;
  if ( !v4 )
  {
    (*(void (__cdecl **)(_DWORD, int))(a1 + 36))(*(_DWORD *)(a1 + 40), v3);
    return 0;
  }
  v6 = (*(int (__cdecl **)(_DWORD, signed int, int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, a3);
  *(_DWORD *)(v3 + 40) = v6;
  if ( v6 )
  {
    *(_DWORD *)v3 = 0;
    *(_DWORD *)(v3 + 44) = a3 + v6;
    *(_DWORD *)(v3 + 56) = a2;
    sub_10067EDC(v3, a1, 0);
    result = v3;
  }
  else
  {
    (*(void (__cdecl **)(_DWORD, _DWORD))(a1 + 36))(*(_DWORD *)(a1 + 40), *(_DWORD *)(v3 + 36));
    (*(void (__cdecl **)(_DWORD, int))(a1 + 36))(*(_DWORD *)(a1 + 40), v3);
    result = 0;
  }
  return result;
}

//----- (10067FD4) --------------------------------------------------------
int __cdecl sub_10067FD4(int a1, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // ecx@1
  int v5; // esi@1
  unsigned int v6; // eax@1
  int v7; // edi@1
  int v8; // ecx@2
  int v9; // eax@4
  bool v10; // cf@4
  int v11; // eax@6
  unsigned int v12; // eax@8
  int v14; // eax@15
  unsigned int v15; // eax@17
  int v16; // eax@18
  int v17; // eax@19
  unsigned int v18; // eax@21
  int v19; // eax@22
  int v20; // eax@24
  int v21; // ecx@26
  unsigned int v22; // eax@26
  unsigned int v23; // ecx@27
  int v24; // eax@29
  int v25; // ecx@36
  unsigned int v26; // eax@37
  unsigned int v27; // edx@37
  int v28; // eax@42
  unsigned int v29; // ecx@42
  int v30; // edx@45
  unsigned int v31; // eax@53
  const void *v32; // esi@57
  void *v33; // edi@57
  unsigned int v34; // ecx@59
  int v35; // eax@61
  int v36; // eax@63
  int v37; // ecx@63
  int v38; // eax@64
  int v39; // eax@65
  unsigned int i; // ecx@67
  int v41; // eax@69
  char v42; // al@71
  int v43; // ecx@71
  int v44; // edx@71
  int v45; // ST24_4@76
  int v46; // ST18_4@76
  unsigned int v47; // eax@78
  int v48; // edx@80
  int v49; // eax@82
  int v50; // ecx@82
  unsigned int v51; // edx@82
  signed int v52; // eax@85
  int v53; // edx@89
  unsigned int v54; // ecx@91
  int v55; // eax@94
  unsigned int v56; // eax@99
  int v57; // ST24_4@99
  int v58; // ST10_4@99
  signed int v59; // eax@99
  int v60; // ST04_4@99
  int v61; // eax@100
  unsigned int v62; // eax@102
  int v63; // eax@102
  unsigned int v64; // ecx@103
  unsigned int v65; // eax@103
  int v66; // eax@104
  bool v67; // zf@114
  unsigned int v68; // eax@116
  unsigned int v69; // eax@116
  int v70; // ecx@124
  int v71; // [sp-4h] [bp-44h]@5
  int v72; // [sp+Ch] [bp-34h]@99
  int v73; // [sp+10h] [bp-30h]@99
  unsigned int v74; // [sp+14h] [bp-2Ch]@45
  int v75; // [sp+18h] [bp-28h]@24
  int v76; // [sp+1Ch] [bp-24h]@24
  int v77; // [sp+20h] [bp-20h]@24
  int v78; // [sp+24h] [bp-1Ch]@24
  unsigned int v79; // [sp+28h] [bp-18h]@42
  int v80; // [sp+2Ch] [bp-14h]@1
  int v81; // [sp+30h] [bp-10h]@4
  unsigned int v82; // [sp+34h] [bp-Ch]@1
  unsigned int v83; // [sp+38h] [bp-8h]@1
  unsigned int v84; // [sp+3Ch] [bp-4h]@1
  int v85; // [sp+48h] [bp+8h]@1
  int v86; // [sp+48h] [bp+8h]@26
  int v87; // [sp+50h] [bp+10h]@42

  v3 = a1;
  v4 = *(_DWORD *)(a1 + 48);
  v5 = a2;
  v83 = *(_DWORD *)(a2 + 4);
  v84 = *(_DWORD *)(a1 + 32);
  v85 = *(_DWORD *)(a1 + 28);
  v6 = *(_DWORD *)(v3 + 52);
  v7 = *(_DWORD *)a2;
  v80 = *(_DWORD *)a2;
  v82 = v6;
  if ( v6 >= v4 )
    v8 = *(_DWORD *)(v3 + 44) - v6;
  else
    v8 = v4 - v6 - 1;
  v9 = *(_DWORD *)v3;
  v10 = *(_DWORD *)v3 < 9u;
  v67 = *(_DWORD *)v3 == 9;
  v81 = v8;
  if ( !(v10 | v67) )
  {
LABEL_5:
    v71 = -2;
    goto LABEL_6;
  }
  while ( 2 )
  {
    switch ( v9 )
    {
      case 0:
        while ( 2 )
        {
          if ( (unsigned int)v85 < 3 )
          {
            if ( v83 )
            {
              v14 = *(_BYTE *)v7;
              a3 = 0;
              --v83;
              v84 |= v14 << v85;
              ++v7;
              v85 += 8;
              v80 = v7;
              continue;
            }
LABEL_115:
            v71 = a3;
            *(_DWORD *)(v3 + 32) = v84;
            *(_DWORD *)(v3 + 28) = v85;
            *(_DWORD *)(v5 + 4) = 0;
            goto LABEL_8;
          }
          break;
        }
        v15 = (v84 & 7) >> 1;
        *(_DWORD *)(v3 + 24) = v84 & 7 & 1;
        if ( !v15 )
        {
          v86 = v85 - 3;
          v21 = v86 & 7;
          v22 = v84 >> 3 >> v21;
          v85 = v86 - v21;
          *(_DWORD *)v3 = 1;
          v84 = v22;
          goto LABEL_108;
        }
        v16 = v15 - 1;
        if ( !v16 )
        {
          sub_10069D65((int)&v75, (int)&v76, (int)&v77, (int)&v78);
          v20 = sub_100692B5(v75, v76, v77, v78, v5);
          *(_DWORD *)(v3 + 4) = v20;
          if ( !v20 )
            goto LABEL_121;
          v84 >>= 3;
          v85 -= 3;
          *(_DWORD *)v3 = 6;
          goto LABEL_108;
        }
        v17 = v16 - 1;
        if ( !v17 )
        {
          v84 >>= 3;
          v19 = 3;
          v85 -= 3;
LABEL_23:
          *(_DWORD *)v3 = v19;
          goto LABEL_108;
        }
        if ( v17 == 1 )
        {
          v18 = v84 >> 3;
          *(_DWORD *)v3 = 9;
          *(_DWORD *)(v5 + 24) = "invalid block type";
          *(_DWORD *)(v3 + 32) = v18;
          v11 = v85 - 3;
          v71 = -3;
          goto LABEL_7;
        }
LABEL_108:
        v9 = *(_DWORD *)v3;
        v5 = a2;
        v7 = v80;
        if ( *(_DWORD *)v3 > 9u )
          goto LABEL_5;
        v8 = v81;
        continue;
      case 1:
        v23 = v85;
        while ( 2 )
        {
          if ( v23 < 0x20 )
          {
            if ( v83 )
            {
              v24 = *(_BYTE *)v7;
              a3 = 0;
              --v83;
              v84 |= v24 << v23;
              ++v7;
              v23 += 8;
              v80 = v7;
              v85 = v23;
              continue;
            }
            goto LABEL_115;
          }
          break;
        }
        if ( ~v84 >> 16 == (unsigned __int16)v84 )
        {
          *(_DWORD *)(v3 + 4) = (unsigned __int16)v84;
          v67 = *(_DWORD *)(v3 + 4) == 0;
          v85 = 0;
          v84 = 0;
          if ( v67 )
LABEL_58:
            v19 = *(_DWORD *)(v3 + 24) != 0 ? 7 : 0;
          else
            v19 = 2;
          goto LABEL_23;
        }
        *(_DWORD *)v3 = 9;
        *(_DWORD *)(v5 + 24) = "invalid stored block lengths";
        goto LABEL_111;
      case 2:
        if ( !v83 )
          goto LABEL_115;
        if ( !v8 )
        {
          if ( (v25 = *(_DWORD *)(v3 + 44), v82 != v25)
            || (v26 = *(_DWORD *)(v3 + 48), v27 = *(_DWORD *)(v3 + 40), v27 == v26)
            || ((v82 = *(_DWORD *)(v3 + 40), v27 >= v26) ? (v8 = v25 - v27) : (v8 = v26 - v27 - 1), (v81 = v8) == 0) )
          {
            *(_DWORD *)(v3 + 52) = v82;
            v28 = sub_10069D94(v3, v5, a3);
            v29 = *(_DWORD *)(v3 + 48);
            v87 = v28;
            v82 = *(_DWORD *)(v3 + 52);
            v12 = v82;
            v79 = v29;
            if ( v82 >= v29 )
              v8 = *(_DWORD *)(v3 + 44) - v82;
            else
              v8 = v29 - v82 - 1;
            v30 = *(_DWORD *)(v3 + 44);
            v81 = v8;
            v74 = v30;
            if ( v82 == v30 )
            {
              v12 = *(_DWORD *)(v3 + 40);
              if ( v12 == v79 )
              {
                v12 = v82;
              }
              else
              {
                v82 = *(_DWORD *)(v3 + 40);
                if ( v12 >= v79 )
                  v8 = v74 - v12;
                else
                  v8 = v79 - v12 - 1;
                v81 = v8;
              }
            }
            if ( !v8 )
            {
              v71 = v87;
              *(_DWORD *)(v3 + 32) = v84;
              *(_DWORD *)(v3 + 28) = v85;
              *(_DWORD *)(v5 + 4) = v83;
              *(_DWORD *)(v5 + 8) += v7 - *(_DWORD *)v5;
              goto LABEL_9;
            }
          }
        }
        v31 = *(_DWORD *)(v3 + 4);
        a3 = 0;
        if ( v31 > v83 )
          v31 = v83;
        if ( v31 > v8 )
          v31 = v8;
        v32 = (const void *)v80;
        v33 = (void *)v82;
        v80 += v31;
        v83 -= v31;
        v82 += v31;
        v81 -= v31;
        memcpy(v33, v32, v31);
        v67 = *(_DWORD *)(v3 + 4) == v31;
        *(_DWORD *)(v3 + 4) -= v31;
        if ( v67 )
          goto LABEL_58;
        goto LABEL_108;
      case 3:
        v34 = v85;
        while ( 2 )
        {
          if ( v34 < 0xE )
          {
            if ( v83 )
            {
              v35 = *(_BYTE *)v7;
              a3 = 0;
              --v83;
              v84 |= v35 << v34;
              ++v7;
              v34 += 8;
              v85 = v34;
              continue;
            }
            goto LABEL_115;
          }
          break;
        }
        v36 = v84 & 0x3FFF;
        v37 = v84 & 0x1F;
        *(_DWORD *)(v3 + 4) = v36;
        if ( (unsigned int)v37 > 0x1D || (v38 = ((unsigned int)v36 >> 5) & 0x1F, (unsigned int)v38 > 0x1D) )
        {
          *(_DWORD *)v3 = 9;
          *(_DWORD *)(v5 + 24) = "too many length or distance symbols";
LABEL_111:
          v71 = -3;
          goto LABEL_6;
        }
        v39 = (*(int (__cdecl **)(_DWORD, int, signed int))(v5 + 32))(*(_DWORD *)(v5 + 40), v38 + v37 + 258, 4);
        *(_DWORD *)(v3 + 12) = v39;
        if ( !v39 )
          goto LABEL_121;
        v84 >>= 14;
        v85 -= 14;
        *(_DWORD *)(v3 + 8) = 0;
        *(_DWORD *)v3 = 4;
LABEL_72:
        while ( *(_DWORD *)(v3 + 8) < (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
        {
          for ( i = v85; i < 3; v85 = i )
          {
            if ( !v83 )
              goto LABEL_115;
            v41 = *(_BYTE *)v7;
            a3 = 0;
            --v83;
            v84 |= v41 << i;
            ++v7;
            i += 8;
          }
          v42 = v84;
          v43 = dword_10077228[*(_DWORD *)(v3 + 8)];
          v44 = *(_DWORD *)(v3 + 12);
          v84 >>= 3;
          *(_DWORD *)(v44 + 4 * v43) = v42 & 7;
          ++*(_DWORD *)(v3 + 8);
          v85 -= 3;
        }
        while ( *(_DWORD *)(v3 + 8) < 0x13u )
          *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * dword_10077228[(*(_DWORD *)(v3 + 8))++]) = 0;
        v45 = *(_DWORD *)(v3 + 36);
        v46 = *(_DWORD *)(v3 + 12);
        *(_DWORD *)(v3 + 16) = 7;
        v81 = sub_10069BE3(v46, (unsigned int *)(v3 + 16), v3 + 20, v45, v5);
        if ( v81 )
        {
          (*(void (__cdecl **)(_DWORD, _DWORD))(v5 + 36))(*(_DWORD *)(v5 + 40), *(_DWORD *)(v3 + 12));
          v67 = v81 == -3;
LABEL_118:
          if ( v67 )
            *(_DWORD *)v3 = 9;
          v71 = v81;
          goto LABEL_6;
        }
        *(_DWORD *)(v3 + 8) = 0;
        *(_DWORD *)v3 = 5;
        while ( 1 )
        {
          while ( 1 )
          {
LABEL_98:
            if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
            {
              v56 = *(_DWORD *)(v3 + 4);
              *(_DWORD *)(v3 + 20) = 0;
              v57 = *(_DWORD *)(v3 + 36);
              v58 = *(_DWORD *)(v3 + 12);
              v79 = 9;
              v80 = 6;
              v59 = sub_10069C62(
                      (v56 & 0x1F) + 257,
                      ((v56 >> 5) & 0x1F) + 1,
                      v58,
                      &v79,
                      (unsigned int *)&v80,
                      (int)&v72,
                      (int)&v73,
                      v57,
                      v5);
              v60 = *(_DWORD *)(v3 + 12);
              v81 = v59;
              (*(void (__cdecl **)(_DWORD, int))(v5 + 36))(*(_DWORD *)(v5 + 40), v60);
              if ( v81 )
              {
                v67 = v81 == -3;
                goto LABEL_118;
              }
              v61 = sub_100692B5(v79, v80, v72, v73, v5);
              if ( !v61 )
              {
LABEL_121:
                v71 = -4;
                goto LABEL_6;
              }
              *(_DWORD *)(v3 + 4) = v61;
              *(_DWORD *)v3 = 6;
LABEL_102:
              *(_DWORD *)(v3 + 32) = v84;
              *(_DWORD *)(v3 + 28) = v85;
              *(_DWORD *)(v5 + 4) = v83;
              *(_DWORD *)(v5 + 8) += v7 - *(_DWORD *)v5;
              v62 = v82;
              *(_DWORD *)v5 = v7;
              *(_DWORD *)(v3 + 52) = v62;
              v63 = sub_100692E9(v3, v5, a3);
              if ( v63 != 1 )
                goto LABEL_125;
              a3 = 0;
              sub_1006984D(*(_DWORD *)(v3 + 4), v5);
              v7 = *(_DWORD *)v5;
              v83 = *(_DWORD *)(v5 + 4);
              v84 = *(_DWORD *)(v3 + 32);
              v64 = *(_DWORD *)(v3 + 52);
              v85 = *(_DWORD *)(v3 + 28);
              v65 = *(_DWORD *)(v3 + 48);
              v80 = v7;
              v82 = v64;
              if ( v64 >= v65 )
                v66 = *(_DWORD *)(v3 + 44) - v82;
              else
                v66 = v65 - v64 - 1;
              v67 = *(_DWORD *)(v3 + 24) == 0;
              v81 = v66;
              if ( !v67 )
              {
                *(_DWORD *)v3 = 7;
LABEL_123:
                *(_DWORD *)(v3 + 52) = v82;
                v63 = sub_10069D94(v3, v5, a3);
                v67 = *(_DWORD *)(v3 + 48) == *(_DWORD *)(v3 + 52);
                v82 = *(_DWORD *)(v3 + 52);
                if ( !v67 )
                {
                  *(_DWORD *)(v3 + 32) = v84;
                  *(_DWORD *)(v3 + 28) = v85;
                  *(_DWORD *)(v5 + 4) = v83;
                  v70 = v7 - *(_DWORD *)v5;
                  *(_DWORD *)v5 = v7;
                  *(_DWORD *)(v5 + 8) += v70;
                  *(_DWORD *)(v3 + 52) = v82;
LABEL_125:
                  v71 = v63;
                  return sub_10069D94(v3, v5, v71);
                }
                *(_DWORD *)v3 = 8;
LABEL_127:
                v71 = 1;
LABEL_6:
                *(_DWORD *)(v3 + 32) = v84;
                v11 = v85;
LABEL_7:
                *(_DWORD *)(v3 + 28) = v11;
                *(_DWORD *)(v5 + 4) = v83;
LABEL_8:
                *(_DWORD *)(v5 + 8) += v7 - *(_DWORD *)v5;
                v12 = v82;
LABEL_9:
                *(_DWORD *)v5 = v7;
                *(_DWORD *)(v3 + 52) = v12;
                return sub_10069D94(v3, v5, v71);
              }
              *(_DWORD *)v3 = 0;
              goto LABEL_108;
            }
            v47 = *(_DWORD *)(v3 + 16);
            while ( v85 < v47 )
            {
              if ( !v83 )
                goto LABEL_115;
              v48 = *(_BYTE *)v7;
              a3 = 0;
              --v83;
              v84 |= v48 << v85;
              ++v7;
              v85 += 8;
            }
            v49 = *(_DWORD *)(v3 + 20) + 8 * (v84 & dword_10083DC0[v47]);
            v50 = *(_BYTE *)(v49 + 1);
            v51 = *(_DWORD *)(v49 + 4);
            v81 = *(_BYTE *)(v49 + 1);
            v74 = v51;
            if ( v51 >= 0x10 )
              break;
            v84 >>= v50;
            v85 -= v50;
            *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * (*(_DWORD *)(v3 + 8))++) = v51;
          }
          v52 = v51 == 18 ? 7 : v51 - 14;
          v80 = 8 * (v51 == 18) + 3;
          while ( v85 < (unsigned int)(v52 + v81) )
          {
            if ( !v83 )
              goto LABEL_115;
            v53 = *(_BYTE *)v7;
            a3 = 0;
            --v83;
            v84 |= v53 << v85;
            ++v7;
            v85 += 8;
          }
          v84 >>= v81;
          v80 += v84 & dword_10083DC0[v52];
          v84 >>= v52;
          v85 -= v81 + v52;
          v54 = *(_DWORD *)(v3 + 8);
          if ( v54 + v80 > ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
            break;
          if ( v74 == 16 )
          {
            if ( v54 < 1 )
              break;
            v55 = *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * v54 - 4);
          }
          else
          {
            v55 = 0;
          }
          do
          {
            *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * v54++) = v55;
            --v80;
          }
          while ( v80 );
          *(_DWORD *)(v3 + 8) = v54;
        }
        (*(void (__cdecl **)(_DWORD, _DWORD))(v5 + 36))(*(_DWORD *)(v5 + 40), *(_DWORD *)(v3 + 12));
        v68 = v84;
        *(_DWORD *)v3 = 9;
        *(_DWORD *)(v5 + 24) = "invalid bit length repeat";
        *(_DWORD *)(v3 + 32) = v68;
        *(_DWORD *)(v3 + 28) = v85;
        *(_DWORD *)(v5 + 4) = v83;
        *(_DWORD *)(v5 + 8) += v7 - *(_DWORD *)v5;
        v69 = v82;
        *(_DWORD *)v5 = v7;
        *(_DWORD *)(v3 + 52) = v69;
        return sub_10069D94(v3, v5, -3);
      case 4:
        goto LABEL_72;
      case 5:
        goto LABEL_98;
      case 6:
        goto LABEL_102;
      case 9:
        goto LABEL_111;
      case 7:
        goto LABEL_123;
      case 8:
        goto LABEL_127;
      default:
        goto LABEL_5;
    }
  }
}
// 10077228: using guessed type int dword_10077228[];
// 10083DC0: using guessed type int dword_10083DC0[];

//----- (1006876F) --------------------------------------------------------
int __cdecl sub_1006876F(int a1, int a2)
{
  int v2; // esi@1

  v2 = a2;
  sub_10067EDC(a1, a2, 0);
  (*(void (__cdecl **)(_DWORD, _DWORD))(v2 + 36))(*(_DWORD *)(v2 + 40), *(_DWORD *)(a1 + 40));
  (*(void (__cdecl **)(_DWORD, _DWORD))(v2 + 36))(*(_DWORD *)(v2 + 40), *(_DWORD *)(a1 + 36));
  (*(void (__cdecl **)(_DWORD, int))(v2 + 36))(*(_DWORD *)(v2 + 40), a1);
  return 0;
}

//----- (100687A3) --------------------------------------------------------
int __cdecl sub_100687A3(int a1, const void *a2, unsigned int a3)
{
  int result; // eax@1
  int v4; // ecx@1

  result = a1;
  memcpy(*(void **)(a1 + 40), a2, a3);
  v4 = a3 + *(_DWORD *)(a1 + 40);
  *(_DWORD *)(a1 + 52) = v4;
  *(_DWORD *)(a1 + 48) = v4;
  return result;
}

//----- (100687D4) --------------------------------------------------------
bool __cdecl sub_100687D4(int a1)
{
  return *(_DWORD *)a1 == 1;
}

//----- (100687E1) --------------------------------------------------------
int __cdecl sub_100687E1(unsigned int a1, int a2, unsigned int a3)
{
  int v3; // ecx@1
  unsigned int v4; // esi@1
  unsigned int v5; // edi@1
  int result; // eax@2
  unsigned int v7; // edx@4
  unsigned int v8; // eax@7
  int v9; // esi@8
  int v10; // edi@8
  int v11; // esi@8
  int v12; // edi@8
  int v13; // esi@8
  int v14; // edi@8
  int v15; // esi@8
  int v16; // edi@8
  int v17; // esi@8
  int v18; // edi@8
  int v19; // esi@8
  int v20; // edi@8
  int v21; // esi@8
  int v22; // edi@8
  int v23; // esi@8
  int v24; // edi@8
  int v25; // esi@8
  int v26; // edi@8
  int v27; // esi@8
  int v28; // edi@8
  int v29; // esi@8
  int v30; // edi@8
  int v31; // esi@8
  int v32; // edi@8
  int v33; // esi@8
  int v34; // edi@8
  int v35; // esi@8
  int v36; // edi@8
  int v37; // esi@8
  int v38; // edi@8

  v3 = a2;
  v4 = (unsigned __int16)a1;
  v5 = a1 >> 16;
  if ( a2 )
  {
    for ( ; a3; v5 %= 0xFFF1u )
    {
      v7 = 5552;
      if ( a3 < 0x15B0 )
        v7 = a3;
      a3 -= v7;
      if ( (signed int)v7 >= 16 )
      {
        v8 = v7 >> 4;
        v7 += -16 * (v7 >> 4);
        do
        {
          v9 = *(_BYTE *)v3 + v4;
          v10 = v9 + v5;
          v11 = *(_BYTE *)(v3 + 1) + v9;
          v12 = v11 + v10;
          v13 = *(_BYTE *)(v3 + 2) + v11;
          v14 = v13 + v12;
          v15 = *(_BYTE *)(v3 + 3) + v13;
          v16 = v15 + v14;
          v17 = *(_BYTE *)(v3 + 4) + v15;
          v18 = v17 + v16;
          v19 = *(_BYTE *)(v3 + 5) + v17;
          v20 = v19 + v18;
          v21 = *(_BYTE *)(v3 + 6) + v19;
          v22 = v21 + v20;
          v23 = *(_BYTE *)(v3 + 7) + v21;
          v24 = v23 + v22;
          v25 = *(_BYTE *)(v3 + 8) + v23;
          v26 = v25 + v24;
          v27 = *(_BYTE *)(v3 + 9) + v25;
          v28 = v27 + v26;
          v29 = *(_BYTE *)(v3 + 10) + v27;
          v30 = v29 + v28;
          v31 = *(_BYTE *)(v3 + 11) + v29;
          v32 = v31 + v30;
          v33 = *(_BYTE *)(v3 + 12) + v31;
          v34 = v33 + v32;
          v35 = *(_BYTE *)(v3 + 13) + v33;
          v36 = v35 + v34;
          v37 = *(_BYTE *)(v3 + 14) + v35;
          v38 = v37 + v36;
          v4 = *(_BYTE *)(v3 + 15) + v37;
          v5 = v4 + v38;
          v3 += 16;
          --v8;
        }
        while ( v8 );
      }
      for ( ; v7; --v7 )
      {
        v4 += *(_BYTE *)v3++;
        v5 += v4;
      }
      v4 %= 0xFFF1u;
    }
    result = v4 | (v5 << 16);
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (1006892C) --------------------------------------------------------
int __cdecl sub_1006892C(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ecx@1
  int v6; // edx@1
  int v7; // esi@1
  char *v8; // edi@1
  int v9; // ecx@1
  int v10; // eax@3
  int v11; // ebx@3
  unsigned __int16 v12; // bx@3
  bool v13; // zf@3
  int v14; // eax@3
  int v15; // eax@4
  int v16; // edx@5
  int v17; // eax@5
  int v18; // esi@5
  int v19; // eax@5
  int v20; // edi@5
  int v21; // edx@5
  int v22; // edi@5
  signed int v23; // ebx@5
  int v24; // esi@5
  signed int v25; // esi@5
  int v26; // eax@5
  char *v27; // ecx@8
  int v28; // ebx@9
  int result; // eax@9
  char v30; // bl@10
  int v31; // esi@11
  int v32; // edx@11
  int v33; // edi@11
  int v34; // edx@11
  int v35; // esi@11
  int v36; // edx@11
  int v37; // ebx@11
  int v38; // edi@11
  int v39; // edi@11
  char v40; // [sp+Ch] [bp-98h]@8
  char v41; // [sp+2Ch] [bp-78h]@1
  int v42; // [sp+8Ch] [bp-18h]@3
  int v43; // [sp+90h] [bp-14h]@1
  char *v44; // [sp+94h] [bp-10h]@1
  int v45; // [sp+98h] [bp-Ch]@1
  int v46; // [sp+9Ch] [bp-8h]@3
  int v47; // [sp+A0h] [bp-4h]@3
  signed int v48; // [sp+ACh] [bp+8h]@1
  signed int v49; // [sp+ACh] [bp+8h]@8
  __int16 v50; // [sp+B0h] [bp+Ch]@3
  int v51; // [sp+B0h] [bp+Ch]@5
  __int16 v52; // [sp+B4h] [bp+10h]@3
  int v53; // [sp+B4h] [bp+10h]@5
  int v54; // [sp+B4h] [bp+10h]@5
  int v55; // [sp+B4h] [bp+10h]@11

  v5 = *(_DWORD *)(a2 + 80);
  v6 = *(_DWORD *)(a1 + 284) + 128;
  v7 = a3 + 96;
  v8 = &v41;
  v45 = *(_DWORD *)(a1 + 284) + 128;
  v48 = 8;
  v44 = &v41;
  v43 = a3 + 96;
  v9 = v5 + 96;
  do
  {
    if ( v48 != 4 )
    {
      v52 = *(_WORD *)(v7 + 16);
      v10 = *(_WORD *)v7;
      v50 = *(_WORD *)(v7 - 16);
      LOWORD(v47) = *(_WORD *)(v7 - 48);
      v11 = *(_WORD *)(v7 - 80);
      v42 = v10;
      v46 = v11;
      LOWORD(v10) = v50 | v47 | v11 | (unsigned __int16)v10;
      v12 = *(_WORD *)(v7 - 64);
      v13 = (v12 | (unsigned __int16)(v52 | v10)) == 0;
      v14 = *(_WORD *)(v9 - 96);
      if ( v13 )
      {
        v15 = 4 * *(_WORD *)(v7 - 96) * v14;
        *((_DWORD *)v8 - 8) = v15;
        *(_DWORD *)v8 = v15;
        *((_DWORD *)v8 + 16) = v15;
      }
      else
      {
        v16 = 15137 * (signed __int16)(v12 * *(_WORD *)(v9 - 64)) - 6270 * (signed __int16)(v42 * *(_WORD *)v9);
        v17 = *(_WORD *)(v7 - 96) * v14 << 14;
        v18 = v16 + v17;
        v19 = v17 - v16;
        LOWORD(v16) = v52 * *(_WORD *)(v9 + 16);
        v53 = (signed __int16)v47 * *(_WORD *)(v9 - 48);
        v51 = (signed __int16)(v50 * *(_WORD *)(v9 - 16));
        v46 = (signed __int16)v46 * *(_WORD *)(v9 - 80);
        v20 = (signed __int16)v53;
        v47 = (signed __int16)v46;
        v54 = (signed __int16)v16;
        v21 = 8697 * (signed __int16)v46 + 11893 * (signed __int16)v51 - 1730 * (signed __int16)v16 - 17799 * v20;
        v22 = 20995 * (signed __int16)v46 + 7373 * v20 - 4926 * (signed __int16)v51 - 4176 * v54;
        v23 = v18 + v22 + 2048;
        v24 = v18 - v22;
        v8 = v44;
        *((_DWORD *)v44 - 8) = v23 >> 12;
        *((_DWORD *)v8 + 16) = (v24 + 2048) >> 12;
        v25 = v19 + v21 + 2048;
        v26 = v19 - v21;
        v6 = v45;
        *(_DWORD *)v8 = v25 >> 12;
        v7 = v43;
        v15 = (v26 + 2048) >> 12;
      }
      *((_DWORD *)v8 + 8) = v15;
    }
    v7 += 2;
    v8 += 4;
    v9 += 2;
    --v48;
    v43 = v7;
    v44 = v8;
  }
  while ( v48 > 0 );
  v49 = 0;
  v27 = &v40;
  do
  {
    v28 = *((_DWORD *)v27 + 5);
    result = a5 + *(_DWORD *)(a4 + 4 * v49);
    if ( *((_DWORD *)v27 + 2) | *((_DWORD *)v27 + 6) | *((_DWORD *)v27 + 7) | v28 | *((_DWORD *)v27 + 3) | *((_DWORD *)v27 + 1) )
    {
      v31 = 15137 * *((_WORD *)v27 + 4) - 6270 * *((_WORD *)v27 + 12);
      v32 = *(_DWORD *)v27 << 14;
      v33 = v31 + v32;
      v47 = *((_WORD *)v27 + 2);
      v55 = *((_WORD *)v27 + 14);
      v46 = v32 - v31;
      v34 = *((_WORD *)v27 + 6);
      v35 = 8697 * v47 + 11893 * (signed __int16)v28 - 1730 * v55 - 17799 * v34;
      v36 = 20995 * v47 + 7373 * v34 - 4926 * (signed __int16)v28 - 4176 * v55;
      v37 = (v33 + v36 + 262144) >> 19;
      v38 = v33 - v36;
      v6 = v45;
      *(_BYTE *)result = *(_BYTE *)((v37 & 0x3FF) + v45);
      LOBYTE(v37) = *(_BYTE *)((((v38 + 262144) >> 19) & 0x3FF) + v6);
      v39 = v46;
      *(_BYTE *)(result + 3) = v37;
      *(_BYTE *)(result + 1) = *(_BYTE *)((((v39 + v35 + 262144) >> 19) & 0x3FF) + v6);
      v30 = *(_BYTE *)((((v39 - v35 + 262144) >> 19) & 0x3FF) + v6);
    }
    else
    {
      v30 = *(_BYTE *)((((*(_DWORD *)v27 + 16) >> 5) & 0x3FF) + v6);
      *(_BYTE *)result = v30;
      *(_BYTE *)(result + 1) = v30;
      *(_BYTE *)(result + 3) = v30;
    }
    v27 += 32;
    ++v49;
    *(_BYTE *)(result + 2) = v30;
  }
  while ( v49 < 4 );
  return result;
}

//----- (10068C41) --------------------------------------------------------
char *__cdecl sub_10068C41(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ecx@1
  int v6; // ebx@1
  char *v7; // edi@1
  int v8; // esi@1
  int v9; // ecx@1
  int v10; // eax@5
  int v11; // edx@5
  int v12; // eax@6
  int v13; // eax@7
  int v14; // edx@7
  char *result; // eax@10
  signed int v16; // edx@10
  int v17; // edi@11
  int v18; // ecx@11
  char v19; // cl@12
  int v20; // ecx@13
  int v21; // esi@13
  char v22; // [sp+Ch] [bp-48h]@1
  int v23; // [sp+4Ch] [bp-8h]@1
  char *v24; // [sp+50h] [bp-4h]@1
  signed int v25; // [sp+5Ch] [bp+8h]@1
  signed int v26; // [sp+5Ch] [bp+8h]@10

  v5 = *(_DWORD *)(a2 + 80);
  v6 = *(_DWORD *)(a1 + 284) + 128;
  v7 = &v22;
  v8 = a3 + 48;
  v23 = *(_DWORD *)(a1 + 284) + 128;
  v24 = &v22;
  v25 = 8;
  v9 = v5 + 48;
  do
  {
    if ( v25 != 6 && v25 != 4 && v25 != 2 )
    {
      v10 = *(_WORD *)(v9 - 48);
      v11 = *(_WORD *)(v8 - 48);
      if ( *(_WORD *)v8 | (unsigned __int16)(*(_WORD *)(v8 - 32) | *(_WORD *)(v8 + 32) | *(_WORD *)(v8 + 64)) )
      {
        v13 = v11 * v10 << 15;
        v14 = 29692 * (signed __int16)(*(_WORD *)(v8 - 32) * *(_WORD *)(v9 - 32))
            + 6967 * (signed __int16)(*(_WORD *)(v8 + 32) * *(_WORD *)(v9 + 32))
            - 5906 * (signed __int16)(*(_WORD *)(v8 + 64) * *(_WORD *)(v9 + 64))
            - 10426 * (signed __int16)(*(_WORD *)v8 * *(_WORD *)v9);
        v7 = v24;
        *(_DWORD *)v24 = (v14 + v13 + 4096) >> 13;
        v6 = v23;
        v12 = (v13 - v14 + 4096) >> 13;
      }
      else
      {
        v12 = 4 * v11 * v10;
        *(_DWORD *)v7 = v12;
      }
      *((_DWORD *)v7 + 8) = v12;
    }
    v8 += 2;
    v7 += 4;
    v9 += 2;
    --v25;
    v24 = v7;
  }
  while ( v25 > 0 );
  v26 = 0;
  result = &v22;
  v16 = 1023;
  do
  {
    v17 = a5 + *(_DWORD *)(a4 + 4 * v26);
    v18 = *(_DWORD *)result;
    if ( *((_DWORD *)result + 5) | *((_DWORD *)result + 1) | *((_DWORD *)result + 3) | *((_DWORD *)result + 7) )
    {
      v20 = v18 << 15;
      v21 = 6967 * *((_WORD *)result + 10)
          + 29692 * *((_WORD *)result + 2)
          + -10426 * *((_WORD *)result + 6)
          - 5906 * *((_WORD *)result + 14);
      v6 = v23;
      *(_BYTE *)v17 = *(_BYTE *)((v16 & ((v21 + v20 + 524288) >> 20)) + v23);
      v16 = 1023;
      v19 = *(_BYTE *)((((v20 - v21 + 524288) >> 20) & 0x3FF) + v6);
    }
    else
    {
      v19 = *(_BYTE *)((v16 & ((v18 + 16) >> 5)) + v6);
      *(_BYTE *)v17 = v19;
    }
    result += 32;
    ++v26;
    *(_BYTE *)(v17 + 1) = v19;
  }
  while ( v26 < 2 );
  return result;
}

//----- (10068DFF) --------------------------------------------------------
char __cdecl sub_10068DFF(int a1, int a2, int a3, int a4, int a5)
{
  char result; // al@1

  result = *(_BYTE *)((((*(_WORD *)a3 * (signed int)**(_WORD **)(a2 + 80) + 4) >> 3) & 0x3FF)
                    + *(_DWORD *)(a1 + 284)
                    + 128);
  *(_BYTE *)(a5 + *(_DWORD *)a4) = result;
  return result;
}

//----- (10068E3C) --------------------------------------------------------
int __cdecl sub_10068E3C(int a1, int a2, int a3, int a4, int a5)
{
  int result; // eax@2
  int v6; // [sp-14h] [bp-A4h]@1
  int v7; // [sp-10h] [bp-A0h]@1
  int v8; // [sp-4h] [bp-94h]@1
  char v9; // [sp+8h] [bp-88h]@1

  v8 = *(_DWORD *)(a1 + 284) + 128;
  v7 = (unsigned int)&v9 & 0xFFFFFFF8;
  v6 = *(_DWORD *)(a2 + 80);
  if ( byte_10082C58 )
    result = sub_1006A30B(a3, v6, v7, a4, a5, v8);
  else
    result = sub_10069EA9(a3, v6, v7, a4, a5, v8);
  return result;
}
// 10082C58: using guessed type char byte_10082C58;

//----- (10068E88) --------------------------------------------------------
char __cdecl sub_10068E88(int a1, int a2, int a3, int a4, int a5)
{
  char result; // al@2
  int v6; // [sp-14h] [bp-A4h]@1
  int v7; // [sp-10h] [bp-A0h]@1
  int v8; // [sp-4h] [bp-94h]@1
  char v9; // [sp+8h] [bp-88h]@1

  v8 = *(_DWORD *)(a1 + 284) + 128;
  v7 = *(_DWORD *)(a2 + 80);
  v6 = (unsigned int)&v9 & 0xFFFFFFF8;
  if ( byte_10082C58 )
    result = sub_1006AD1E(a3, v6, v7, a4, a5, v8);
  else
    result = sub_1006A9C3(a3, v6, v7, a4, a5, v8);
  return result;
}
// 10082C58: using guessed type char byte_10082C58;

//----- (10068ED4) --------------------------------------------------------
char __usercall sub_10068ED4<al>(double a1<st0>, int a2, int a3, int a4, int a5, int a6)
{
  unsigned __int16 v8; // si@2
  __int16 v9; // di@2
  int v10; // edi@4
  int v12; // edi@7
  __int64 v13; // qax@7
  int v14; // ecx@7
  __int64 v15; // qax@7
  int v16; // ecx@7
  __int64 v17; // qax@7
  int v18; // ecx@7
  __int64 v19; // qax@7
  int v20; // ecx@7
  __int64 v21; // qax@7
  int v22; // ecx@7
  __int64 v23; // qax@7
  int v24; // ecx@7
  __int64 v25; // qax@7
  int v26; // ecx@7
  bool v27; // sf@7
  unsigned __int8 v28; // of@7
  char v30; // [sp+Ch] [bp-118h]@1
  char v31; // [sp+14h] [bp-110h]@6
  int v32; // [sp+10Ch] [bp-18h]@1
  int v34; // [sp+114h] [bp-10h]@1
  int v35; // [sp+118h] [bp-Ch]@4
  int v38; // [sp+12Ch] [bp+8h]@3
  int v39; // [sp+12Ch] [bp+8h]@4
  int v40; // [sp+12Ch] [bp+8h]@4
  int v45; // [sp+130h] [bp+Ch]@4
  int v46; // [sp+130h] [bp+Ch]@4
  int v47; // [sp+130h] [bp+Ch]@4
  int v53; // [sp+134h] [bp+10h]@4
  int v54; // [sp+134h] [bp+10h]@4

  __asm
  {
    fld     ds:flt_10077364
    fld     ds:flt_10077360
  }
  HIDWORD(_QAX) = a4;
  v34 = *(_DWORD *)(a2 + 284) + 128;
  _ECX = *(_DWORD *)(a3 + 80);
  LODWORD(_QAX) = &v30;
  v32 = 8;
  do
  {
    v8 = *(_WORD *)(HIDWORD(_QAX) + 112);
    v9 = *(_WORD *)(HIDWORD(_QAX) + 96);
    if ( v8 | (unsigned __int16)(v9 | *(_WORD *)(HIDWORD(_QAX) + 80) | *(_WORD *)(HIDWORD(_QAX) + 64) | *(_WORD *)(HIDWORD(_QAX) + 48) | *(_WORD *)(HIDWORD(_QAX) + 32) | *(_WORD *)(HIDWORD(_QAX) + 16)) )
    {
      v39 = *HIDWORD(_QAX);
      __asm { fild    [ebp+arg_0] }
      v40 = *(_WORD *)(HIDWORD(_QAX) + 32);
      v53 = *(_WORD *)(HIDWORD(_QAX) + 64);
      __asm
      {
        fmul    dword ptr [ecx]
        fld     dword ptr [ecx+40h]
        fild    [ebp+arg_0]
        fmulp   st(1), st
        fstp    [ebp+arg_0]
        fld     dword ptr [ecx+80h]
        fild    [ebp+arg_8]
      }
      v54 = v9;
      v10 = *(_WORD *)(HIDWORD(_QAX) + 16);
      __asm
      {
        fmulp   st(1), st
        fld     dword ptr [ecx+0C0h]
        fild    [ebp+arg_8]
        fmulp   st(1), st
        fstp    [ebp+arg_8]
        fld     st
        fadd    st, st(2)
        fstp    [ebp+arg_4]
        fld     st(1)
        fsub    st, st(1)
        fstp    st(2)
        fstp    st
        fld     [ebp+arg_8]
        fadd    [ebp+arg_0]
        fld     [ebp+arg_0]
        fsub    [ebp+arg_8]
        fmul    st, st(4)
        fsub    st, st(1)
        fld     st(1)
        fadd    [ebp+arg_4]
        fstp    [ebp+var_14]
        fld     [ebp+arg_4]
      }
      v45 = v10;
      __asm
      {
        fsub    st, st(2)
        fstp    [ebp+arg_8]
        fld     st
        fadd    st, st(3)
        fstp    [ebp+arg_0]
        fld     st(2)
        fsub    st, st(1)
        fstp    st(3)
        fstp    st
        fstp    st
        fld     dword ptr [ecx+20h]
        fild    [ebp+arg_4]
      }
      v46 = *(_WORD *)(HIDWORD(_QAX) + 48);
      __asm
      {
        fmulp   st(1), st
        fld     dword ptr [ecx+60h]
        fild    [ebp+arg_4]
      }
      v47 = *(_WORD *)(HIDWORD(_QAX) + 80);
      __asm
      {
        fmulp   st(1), st
        fld     dword ptr [ecx+0A0h]
        fild    [ebp+arg_4]
        fmulp   st(1), st
      }
      v35 = (signed __int16)v8;
      __asm
      {
        fstp    [ebp+arg_4]
        fld     dword ptr [ecx+0E0h]
        fild    [ebp+var_C]
        fmulp   st(1), st
        fld     [ebp+arg_4]
        fadd    st, st(2)
        fstp    [ebp+var_8]
        fld     [ebp+arg_4]
        fsub    st, st(2)
        fstp    [ebp+arg_4]
        fld     st
        fadd    st, st(3)
        fstp    [ebp+var_4]
        fld     st(2)
        fsub    st, st(1)
        fstp    st(3)
        fstp    st
        fstp    st
        fld     [ebp+var_4]
        fadd    [ebp+var_8]
        fld     st(1)
        fadd    [ebp+arg_4]
        fmul    st, st(4)
        fstp    [ebp+var_C]
        fld     [ebp+arg_4]
        fmul    ds:flt_1007735C
        fsubr   [ebp+var_C]
        fsub    st, st(1)
        fld     [ebp+var_4]
        fsub    [ebp+var_8]
        fmul    st, st(6)
        fsub    st, st(1)
        fst     [ebp+var_4]
        fld     st(3)
        fmul    ds:flt_10077358
        fsub    [ebp+var_C]
        fadd    st, st(1)
        fstp    [ebp+var_8]
        fstp    st
        fld     st(1)
        fadd    [ebp+var_14]
        fstp    dword ptr [eax]
        fld     [ebp+var_14]
        fsub    st, st(2)
        fstp    dword ptr [eax+0E0h]
        fld     [ebp+arg_0]
        fadd    st, st(1)
        fstp    dword ptr [eax+20h]
        fld     [ebp+arg_0]
        fsub    st, st(1)
        fstp    dword ptr [eax+0C0h]
        fstp    st
        fstp    st
        fstp    st
        fld     [ebp+var_4]
        fadd    st, st(1)
        fstp    dword ptr [eax+40h]
        fsub    [ebp+var_4]
        fstp    dword ptr [eax+0A0h]
        fld     [ebp+var_8]
        fadd    [ebp+arg_8]
        fstp    dword ptr [eax+80h]
        fld     [ebp+arg_8]
        fsub    [ebp+var_8]
        fstp    dword ptr [eax+60h]
      }
    }
    else
    {
      v38 = *HIDWORD(_QAX);
      __asm
      {
        fild    [ebp+arg_0]
        fmul    dword ptr [ecx]
        fst     dword ptr [eax]
        fst     dword ptr [eax+20h]
        fst     dword ptr [eax+40h]
        fst     dword ptr [eax+60h]
        fst     dword ptr [eax+80h]
        fst     dword ptr [eax+0A0h]
        fst     dword ptr [eax+0C0h]
        fstp    dword ptr [eax+0E0h]
      }
    }
    _ECX += 4;
    HIDWORD(_QAX) += 2;
    LODWORD(_QAX) = _QAX + 4;
    --v32;
  }
  while ( v32 );
  v35 = 0;
  _ESI = &v31;
  do
  {
    __asm
    {
      fld     dword ptr [esi+8]
      fadd    dword ptr [esi-8]
    }
    v12 = a6 + *(_DWORD *)(a5 + 4 * v35);
    __asm
    {
      fstp    [ebp+arg_4]
      fld     dword ptr [esi-8]
      fsub    dword ptr [esi+8]
      fld     dword ptr [esi]
      fadd    dword ptr [esi+10h]
      fld     dword ptr [esi]
      fsub    dword ptr [esi+10h]
      fmul    st, st(4)
      fsub    st, st(1)
      fld     st(1)
      fadd    [ebp+arg_4]
      fstp    [ebp+var_14]
      fld     [ebp+arg_4]
      fsub    st, st(2)
      fstp    [ebp+arg_8]
      fld     st
      fadd    st, st(3)
      fstp    [ebp+arg_0]
      fld     st(2)
      fsub    st, st(1)
      fstp    st(3)
      fstp    st
      fstp    st
      fld     dword ptr [esi+0Ch]
      fadd    dword ptr [esi+4]
      fst     [ebp+var_8]
      fld     dword ptr [esi+0Ch]
      fsub    dword ptr [esi+4]
      fstp    [ebp+arg_4]
      fld     dword ptr [esi+14h]
      fadd    dword ptr [esi-4]
      fstp    [ebp+var_4]
      fld     dword ptr [esi-4]
      fsub    dword ptr [esi+14h]
      fstp    [ebp+var_18]
      fadd    [ebp+var_4]
      fld     [ebp+var_18]
      fadd    [ebp+arg_4]
      fmul    st, st(3)
      fld     [ebp+arg_4]
      fmul    ds:flt_1007735C
      fsubr   st, st(1)
      fsub    st, st(2)
      fst     [ebp+arg_4]
      fld     [ebp+var_4]
      fsub    [ebp+var_8]
      fmul    st, st(6)
      fsub    st, st(1)
      fst     [ebp+var_4]
      fstp    st(1)
      fld     [ebp+var_18]
      fmul    ds:flt_10077358
      fsub    st, st(2)
      fadd    st, st(1)
      fstp    [ebp+var_8]
      fstp    st
      fstp    st
      fld     [ebp+var_14]
      fadd    st, st(1)
    }
    v13 = ftol(v35, HIDWORD(_QAX), a1);
    __asm { fld     [ebp+var_14] }
    v14 = v34;
    __asm { fsub    st, st(1) }
    *(_BYTE *)v12 = *(_BYTE *)(((((signed int)v13 + 4) >> 3) & 0x3FF) + v34);
    v15 = ftol(v14, HIDWORD(v13), a1);
    v16 = v34;
    __asm
    {
      fstp    st
      fld     [ebp+arg_4]
      fadd    [ebp+arg_0]
    }
    *(_BYTE *)(v12 + 7) = *(_BYTE *)(((((signed int)v15 + 4) >> 3) & 0x3FF) + v34);
    v17 = ftol(v16, HIDWORD(v15), a1);
    __asm { fld     [ebp+arg_0] }
    v18 = v34;
    __asm { fsub    [ebp+arg_4] }
    *(_BYTE *)(v12 + 1) = *(_BYTE *)(((((signed int)v17 + 4) >> 3) & 0x3FF) + v34);
    v19 = ftol(v18, HIDWORD(v17), a1);
    __asm { fld     [ebp+var_4] }
    v20 = v34;
    __asm { fadd    st, st(1) }
    *(_BYTE *)(v12 + 6) = *(_BYTE *)(((((signed int)v19 + 4) >> 3) & 0x3FF) + v34);
    v21 = ftol(v20, HIDWORD(v19), a1);
    __asm { fsub    [ebp+var_4] }
    v22 = v34;
    *(_BYTE *)(v12 + 2) = *(_BYTE *)(((((signed int)v21 + 4) >> 3) & 0x3FF) + v34);
    v23 = ftol(v22, HIDWORD(v21), a1);
    __asm { fld     [ebp+var_8] }
    v24 = v34;
    __asm { fadd    [ebp+arg_8] }
    *(_BYTE *)(v12 + 5) = *(_BYTE *)(((((signed int)v23 + 4) >> 3) & 0x3FF) + v34);
    v25 = ftol(v24, HIDWORD(v23), a1);
    __asm { fld     [ebp+arg_8] }
    v26 = v34;
    __asm { fsub    [ebp+var_8] }
    *(_BYTE *)(v12 + 4) = *(_BYTE *)(((((signed int)v25 + 4) >> 3) & 0x3FF) + v34);
    _QAX = ftol(v26, HIDWORD(v25), a1);
    LOBYTE(_QAX) = *(_BYTE *)(((((signed int)_QAX + 4) >> 3) & 0x3FF) + v34);
    _ESI += 32;
    ++v35;
    v28 = __OFSUB__(v35, 8);
    v27 = v35 - 8 < 0;
    *(_BYTE *)(v12 + 3) = _QAX;
  }
  while ( v27 ^ v28 );
  __asm
  {
    fstp    st
    fstp    st
  }
  return _QAX;
}
// 10068EE0: inconsistent fpu stack
// 1006C572: using guessed type __int64 __usercall ftol<edx:eax>(_DWORD<ecx>, _DWORD<edx>, double<st0>);

//----- (100692B5) --------------------------------------------------------
int __cdecl sub_100692B5(char a1, char a2, int a3, int a4, int a5)
{
  int result; // eax@1

  result = (*(int (__cdecl **)(_DWORD, signed int, signed int))(a5 + 32))(*(_DWORD *)(a5 + 40), 1, 28);
  if ( result )
  {
    *(_DWORD *)result = 0;
    *(_BYTE *)(result + 16) = a1;
    *(_BYTE *)(result + 17) = a2;
    *(_DWORD *)(result + 20) = a3;
    *(_DWORD *)(result + 24) = a4;
  }
  return result;
}

//----- (100692E9) --------------------------------------------------------
int __cdecl sub_100692E9(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  unsigned int v5; // edx@1
  int v6; // ebx@1
  unsigned int v7; // eax@1
  int v8; // eax@2
  signed int v9; // eax@7
  unsigned int v10; // eax@7
  int v11; // eax@8
  unsigned int v12; // eax@15
  int v13; // eax@16
  int v14; // eax@17
  unsigned int v15; // eax@26
  int v16; // ecx@27
  unsigned int v17; // eax@30
  int v18; // eax@31
  int v19; // ecx@31
  int v20; // eax@31
  unsigned int v21; // eax@39
  int v22; // ecx@40
  unsigned int v23; // eax@41
  unsigned int v24; // eax@48
  unsigned int v25; // ecx@48
  int v26; // eax@53
  unsigned int v27; // eax@53
  unsigned int v28; // ecx@57
  unsigned int v29; // eax@68
  unsigned int v30; // ecx@68
  int v31; // eax@73
  unsigned int v32; // eax@73
  unsigned int v33; // ecx@77
  int v34; // ecx@87
  int v36; // eax@96
  int v37; // ebx@97
  int v38; // [sp-4h] [bp-28h]@85
  int v39; // [sp+Ch] [bp-18h]@16
  unsigned int v40; // [sp+Ch] [bp-18h]@53
  unsigned int v41; // [sp+Ch] [bp-18h]@73
  int v42; // [sp+10h] [bp-14h]@42
  int v43; // [sp+14h] [bp-10h]@56
  int v44; // [sp+14h] [bp-10h]@76
  int v45; // [sp+18h] [bp-Ch]@10
  unsigned int v46; // [sp+1Ch] [bp-8h]@1
  int v47; // [sp+20h] [bp-4h]@1
  unsigned int v48; // [sp+2Ch] [bp+8h]@1
  unsigned int v49; // [sp+30h] [bp+Ch]@1
  int v50; // [sp+34h] [bp+10h]@53

  v3 = a2;
  v47 = *(_DWORD *)a2;
  v4 = a1;
  v5 = *(_DWORD *)(a1 + 52);
  v6 = *(_DWORD *)(a1 + 4);
  v46 = *(_DWORD *)(a2 + 4);
  v49 = *(_DWORD *)(a1 + 32);
  v48 = *(_DWORD *)(a1 + 28);
  v7 = *(_DWORD *)(v4 + 48);
  if ( v5 >= v7 )
    v8 = *(_DWORD *)(v4 + 44) - v5;
  else
    v8 = v7 - v5 - 1;
LABEL_83:
  v45 = v8;
  while ( 2 )
  {
    if ( *(_DWORD *)v6 > 9u )
    {
      v38 = -2;
      goto LABEL_86;
    }
    switch ( *(_DWORD *)v6 )
    {
      case 0:
        if ( (unsigned int)v8 >= 0x102 && v46 >= 0xA )
        {
          *(_DWORD *)(v4 + 32) = v49;
          *(_DWORD *)(v4 + 28) = v48;
          *(_DWORD *)(v3 + 4) = v46;
          *(_DWORD *)(v3 + 8) += v47 - *(_DWORD *)v3;
          *(_DWORD *)v3 = v47;
          *(_DWORD *)(v4 + 52) = v5;
          v9 = sub_1006BAF1(
                 *(_BYTE *)(v6 + 16),
                 *(_BYTE *)(v6 + 17),
                 *(_DWORD *)(v6 + 20),
                 *(_DWORD *)(v6 + 24),
                 v4,
                 v3);
          v5 = *(_DWORD *)(v4 + 52);
          a3 = v9;
          v47 = *(_DWORD *)v3;
          v46 = *(_DWORD *)(v3 + 4);
          v49 = *(_DWORD *)(v4 + 32);
          v48 = *(_DWORD *)(v4 + 28);
          v10 = *(_DWORD *)(v4 + 48);
          v11 = v5 >= v10 ? *(_DWORD *)(v4 + 44) - v5 : v10 - v5 - 1;
          v45 = v11;
          if ( a3 )
          {
            *(_DWORD *)v6 = 2 * (a3 != 1) + 7;
            goto LABEL_36;
          }
        }
        *(_DWORD *)(v6 + 12) = *(_BYTE *)(v6 + 16);
        *(_DWORD *)(v6 + 8) = *(_DWORD *)(v6 + 20);
        *(_DWORD *)v6 = 1;
        goto LABEL_15;
      case 1:
LABEL_15:
        while ( 2 )
        {
          v12 = *(_DWORD *)(v6 + 12);
          if ( v48 >= v12 )
          {
            v13 = *(_DWORD *)(v6 + 8) + 8 * (v49 & dword_10083DC0[v12]);
            v49 >>= *(_BYTE *)(v13 + 1);
            v48 -= *(_BYTE *)(v13 + 1);
            v39 = *(_BYTE *)v13;
            if ( *(_BYTE *)v13 )
            {
              if ( v39 & 0x10 )
              {
                *(_DWORD *)(v6 + 8) = v39 & 0xF;
                *(_DWORD *)(v6 + 4) = *(_DWORD *)(v13 + 4);
                *(_DWORD *)v6 = 2;
                goto LABEL_36;
              }
              if ( v39 & 0x40 )
              {
                if ( v39 & 0x20 )
                {
                  *(_DWORD *)v6 = 7;
                  goto LABEL_36;
                }
                *(_DWORD *)v6 = 9;
                *(_DWORD *)(v3 + 24) = "invalid literal/length code";
LABEL_90:
                v38 = -3;
                goto LABEL_86;
              }
              *(_DWORD *)(v6 + 12) = v39;
              v14 = v13 + 8 * *(_DWORD *)(v13 + 4);
            }
            else
            {
              v14 = *(_DWORD *)(v13 + 4);
              *(_DWORD *)v6 = 6;
            }
            goto LABEL_35;
          }
          if ( v46 )
          {
            a3 = 0;
            --v46;
            v49 |= *(_BYTE *)v47++ << v48;
            v48 += 8;
            continue;
          }
          goto LABEL_92;
        }
      case 2:
        while ( 2 )
        {
          v15 = *(_DWORD *)(v6 + 8);
          if ( v48 < v15 )
          {
            if ( v46 )
            {
              a3 = 0;
              --v46;
              v49 |= *(_BYTE *)v47++ << v48;
              v48 += 8;
              continue;
            }
LABEL_92:
            v38 = a3;
            *(_DWORD *)(v4 + 32) = v49;
            *(_DWORD *)(v4 + 28) = v48;
            *(_DWORD *)(v3 + 4) = 0;
            goto LABEL_87;
          }
          break;
        }
        v16 = *(_DWORD *)(v6 + 8);
        *(_DWORD *)(v6 + 4) += v49 & dword_10083DC0[v15];
        v49 >>= v16;
        v48 -= v16;
        *(_DWORD *)(v6 + 12) = *(_BYTE *)(v6 + 17);
        *(_DWORD *)(v6 + 8) = *(_DWORD *)(v6 + 24);
        *(_DWORD *)v6 = 3;
LABEL_30:
        while ( 1 )
        {
          v17 = *(_DWORD *)(v6 + 12);
          if ( v48 >= v17 )
            break;
          if ( !v46 )
            goto LABEL_92;
          a3 = 0;
          --v46;
          v49 |= *(_BYTE *)v47++ << v48;
          v48 += 8;
        }
        v18 = *(_DWORD *)(v6 + 8) + 8 * (v49 & dword_10083DC0[v17]);
        v49 >>= *(_BYTE *)(v18 + 1);
        v48 -= *(_BYTE *)(v18 + 1);
        v19 = v18;
        v20 = *(_BYTE *)v18;
        if ( v20 & 0x10 )
        {
          *(_DWORD *)(v6 + 8) = v20 & 0xF;
          *(_DWORD *)(v6 + 12) = *(_DWORD *)(v19 + 4);
          *(_DWORD *)v6 = 4;
          goto LABEL_36;
        }
        if ( v20 & 0x40 )
        {
          *(_DWORD *)v6 = 9;
          *(_DWORD *)(v3 + 24) = "invalid distance code";
          goto LABEL_90;
        }
        *(_DWORD *)(v6 + 12) = v20;
        v14 = v19 + 8 * *(_DWORD *)(v19 + 4);
LABEL_35:
        *(_DWORD *)(v6 + 8) = v14;
LABEL_36:
        v8 = v45;
        continue;
      case 3:
        goto LABEL_30;
      case 4:
        while ( 2 )
        {
          v21 = *(_DWORD *)(v6 + 8);
          if ( v48 < v21 )
          {
            if ( v46 )
            {
              a3 = 0;
              --v46;
              v49 |= *(_BYTE *)v47++ << v48;
              v48 += 8;
              continue;
            }
            goto LABEL_92;
          }
          break;
        }
        v22 = *(_DWORD *)(v6 + 8);
        *(_DWORD *)(v6 + 12) += v49 & dword_10083DC0[v21];
        v49 >>= v22;
        v48 -= v22;
        *(_DWORD *)v6 = 5;
LABEL_41:
        v23 = *(_DWORD *)(v6 + 12);
        if ( v5 - *(_DWORD *)(v4 + 40) >= v23 )
          v42 = v5 - v23;
        else
          v42 = v5 + *(_DWORD *)(v4 + 44) - *(_DWORD *)(v4 + 40) - *(_DWORD *)(v6 + 12);
        v8 = v45;
LABEL_45:
        if ( !*(_DWORD *)(v6 + 4) )
        {
          *(_DWORD *)v6 = 0;
          continue;
        }
        if ( v8
          || v5 == *(_DWORD *)(v4 + 44)
          && (v24 = *(_DWORD *)(v4 + 48), v25 = *(_DWORD *)(v4 + 40), v24 != v25)
          && ((v5 = *(_DWORD *)(v4 + 40), v25 >= v24) ? (v8 = *(_DWORD *)(v4 + 44) - v25) : (v8 = v24 - v25 - 1), v8) )
          goto LABEL_102;
        *(_DWORD *)(v4 + 52) = v5;
        v26 = sub_10069D94(v4, v3, a3);
        v5 = *(_DWORD *)(v4 + 52);
        v50 = v26;
        v27 = *(_DWORD *)(v4 + 48);
        v40 = *(_DWORD *)(v4 + 48);
        if ( v5 >= v27 )
          v8 = *(_DWORD *)(v4 + 44) - v5;
        else
          v8 = v27 - v5 - 1;
        v43 = *(_DWORD *)(v4 + 44);
        if ( v5 == v43 )
        {
          v28 = *(_DWORD *)(v4 + 40);
          if ( v40 != v28 )
          {
            v5 = *(_DWORD *)(v4 + 40);
            if ( v28 >= v40 )
              v8 = v43 - v28;
            else
              v8 = v40 - v28 - 1;
          }
        }
        if ( v8 )
        {
LABEL_102:
          a3 = 0;
          *(_BYTE *)v5++ = *(_BYTE *)v42++;
          --v8;
          v45 = v8;
          if ( v42 == *(_DWORD *)(v4 + 44) )
            v42 = *(_DWORD *)(v4 + 40);
          --*(_DWORD *)(v6 + 4);
          goto LABEL_45;
        }
LABEL_93:
        v38 = v50;
LABEL_86:
        *(_DWORD *)(v4 + 32) = v49;
        *(_DWORD *)(v4 + 28) = v48;
        *(_DWORD *)(v3 + 4) = v46;
LABEL_87:
        v34 = v47 - *(_DWORD *)v3;
        *(_DWORD *)v3 = v47;
        *(_DWORD *)(v3 + 8) += v34;
LABEL_88:
        *(_DWORD *)(v4 + 52) = v5;
        return sub_10069D94(v4, v3, v38);
      case 5:
        goto LABEL_41;
      case 6:
        if ( !v8 )
        {
          if ( v5 != *(_DWORD *)(v4 + 44)
            || (v29 = *(_DWORD *)(v4 + 48), v30 = *(_DWORD *)(v4 + 40), v29 == v30)
            || ((v5 = *(_DWORD *)(v4 + 40), v30 >= v29) ? (v8 = *(_DWORD *)(v4 + 44) - v30) : (v8 = v29 - v30 - 1), !v8) )
          {
            *(_DWORD *)(v4 + 52) = v5;
            v31 = sub_10069D94(v4, v3, a3);
            v5 = *(_DWORD *)(v4 + 52);
            v50 = v31;
            v32 = *(_DWORD *)(v4 + 48);
            v41 = *(_DWORD *)(v4 + 48);
            if ( v5 >= v32 )
              v8 = *(_DWORD *)(v4 + 44) - v5;
            else
              v8 = v32 - v5 - 1;
            v44 = *(_DWORD *)(v4 + 44);
            if ( v5 == v44 )
            {
              v33 = *(_DWORD *)(v4 + 40);
              if ( v41 != v33 )
              {
                v5 = *(_DWORD *)(v4 + 40);
                if ( v33 >= v41 )
                  v8 = v44 - v33;
                else
                  v8 = v41 - v33 - 1;
              }
            }
            if ( !v8 )
              goto LABEL_93;
          }
        }
        a3 = 0;
        *(_BYTE *)v5++ = *(_BYTE *)(v6 + 8);
        --v8;
        *(_DWORD *)v6 = 0;
        goto LABEL_83;
      case 7:
        if ( v48 > 7 )
        {
          v48 -= 8;
          ++v46;
          --v47;
        }
        *(_DWORD *)(v4 + 52) = v5;
        v36 = sub_10069D94(v4, v3, a3);
        v5 = *(_DWORD *)(v4 + 52);
        if ( *(_DWORD *)(v4 + 48) != v5 )
        {
          *(_DWORD *)(v4 + 32) = v49;
          *(_DWORD *)(v4 + 28) = v48;
          *(_DWORD *)(v3 + 4) = v46;
          v37 = v47 - *(_DWORD *)v3;
          *(_DWORD *)v3 = v47;
          *(_DWORD *)(v3 + 8) += v37;
          v38 = v36;
          goto LABEL_88;
        }
        *(_DWORD *)v6 = 8;
LABEL_99:
        v38 = 1;
        goto LABEL_86;
      case 8:
        goto LABEL_99;
      case 9:
        goto LABEL_90;
    }
  }
}
// 10083DC0: using guessed type int dword_10083DC0[];

//----- (1006984D) --------------------------------------------------------
int __cdecl sub_1006984D(int a1, int a2)
{
  return (*(int (__cdecl **)(_DWORD, int))(a2 + 36))(*(_DWORD *)(a2 + 40), a1);
}

//----- (1006985E) --------------------------------------------------------
signed int __usercall sub_1006985E<eax>(unsigned int *a1<eax>, int a2, unsigned int a3, unsigned int a4, int a5, int a6, int a7, int a8, int a9, unsigned int a10)
{
  int v10; // ecx@1
  unsigned int *v11; // esi@1
  unsigned int v12; // edx@1
  unsigned int v14; // ebx@7
  signed int v15; // ecx@7
  unsigned int v16; // eax@7
  signed int v17; // edx@16
  int v18; // edx@17
  int v19; // esi@20
  int *v20; // ecx@20
  int v21; // ebx@20
  int v22; // edx@20
  int v23; // ecx@21
  int v24; // eax@21
  int v25; // ebx@22
  int v26; // ecx@24
  unsigned int v27; // ebx@24
  int v28; // eax@25
  int *v29; // eax@26
  int v30; // ecx@26
  int v31; // eax@28
  int v32; // ebx@28
  int v33; // eax@31
  int j; // ecx@32
  int v35; // esi@35
  int v36; // ecx@37
  signed int v37; // eax@37
  int v38; // eax@38
  unsigned int v39; // edx@38
  int v40; // edx@42
  unsigned int v41; // edx@42
  int v42; // eax@42
  int v43; // eax@44
  int v44; // esi@44
  int *v45; // edx@45
  unsigned int v46; // esi@46
  unsigned int v47; // eax@46
  int v48; // ecx@46
  int v49; // edx@46
  unsigned int v50; // eax@52
  int v51; // eax@54
  signed int v52; // esi@56
  unsigned int v53; // eax@56
  int v54; // ecx@57
  int v55; // esi@60
  unsigned int i; // eax@60
  int v57; // ecx@63
  int v58; // eax@63
  signed int v59; // [sp-4h] [bp-B4h]@33
  int v60[15]; // [sp+Ch] [bp-A4h]@28
  int v61; // [sp+48h] [bp-68h]@26
  int v62[15]; // [sp+4Ch] [bp-64h]@21
  int v63; // [sp+88h] [bp-28h]@1
  int v64; // [sp+8Ch] [bp-24h]@1
  int v65; // [sp+90h] [bp-20h]@1
  int v66; // [sp+94h] [bp-1Ch]@1
  int v67; // [sp+98h] [bp-18h]@1
  int v68; // [sp+9Ch] [bp-14h]@1
  int v69; // [sp+A0h] [bp-10h]@1
  int v70; // [sp+A4h] [bp-Ch]@1
  int v71; // [sp+A8h] [bp-8h]@1
  int v72; // [sp+ACh] [bp-4h]@1
  int v73; // [sp+B0h] [bp+0h]@1
  int v74; // [sp+B4h] [bp+4h]@1
  int v75; // [sp+B8h] [bp+8h]@1
  int v76; // [sp+BCh] [bp+Ch]@1
  int v77; // [sp+C0h] [bp+10h]@1
  int v78; // [sp+C4h] [bp+14h]@1
  int v79; // [sp+C8h] [bp+18h]@34
  int v80; // [sp+CCh] [bp+1Ch]@35
  int v81; // [sp+D0h] [bp+20h]@20
  int v82; // [sp+D4h] [bp+24h]@29
  unsigned int v83; // [sp+D8h] [bp+28h]@14
  int v84; // [sp+DCh] [bp+2Ch]@28
  int *v85; // [sp+E0h] [bp+30h]@29
  unsigned int v86; // [sp+E4h] [bp+34h]@28
  int v87; // [sp+E8h] [bp+38h]@30
  int v88; // [sp+ECh] [bp+3Ch]@46
  unsigned int v89; // [sp+F0h] [bp+40h]@46
  unsigned int v90; // [sp+F4h] [bp+44h]@28
  int v91; // [sp+F8h] [bp+48h]@28
  int v92; // [sp+FCh] [bp+4Ch]@10
  unsigned int v93; // [sp+100h] [bp+50h]@7
  int v94; // [sp+10Ch] [bp+5Ch]@25
  unsigned int v95; // [sp+10Ch] [bp+5Ch]@28
  int v96; // [sp+110h] [bp+60h]@28

  v10 = a2;
  v11 = a1;
  v63 = 0;
  v64 = 0;
  v65 = 0;
  v66 = 0;
  v67 = 0;
  v68 = 0;
  v69 = 0;
  v70 = 0;
  v71 = 0;
  v72 = 0;
  v73 = 0;
  v74 = 0;
  v75 = 0;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  v12 = a3;
  do
  {
    ++*(&v63 + *(_DWORD *)v10);
    v10 += 4;
    --v12;
  }
  while ( v12 );
  if ( v63 != a3 )
  {
    v14 = *a1;
    v93 = *a1;
    v15 = 1;
    v16 = 15;
    do
    {
      if ( *(&v63 + v15) )
        break;
      ++v15;
    }
    while ( (unsigned int)v15 <= 0xF );
    v92 = v15;
    if ( v14 < v15 )
      v93 = v15;
    do
    {
      if ( *(&v63 + v16) )
        break;
      --v16;
    }
    while ( v16 );
    v83 = v16;
    if ( v93 > v16 )
      v93 = v16;
    *v11 = v93;
    v17 = 1 << v15;
    while ( v15 < v16 )
    {
      v18 = v17 - *(&v63 + v15);
      if ( v18 < 0 )
        goto LABEL_33;
      ++v15;
      v17 = 2 * v18;
    }
    v19 = 4 * v16;
    v20 = &v63 + v16;
    v21 = *v20;
    v22 = v17 - *v20;
    v81 = v22;
    if ( v22 < 0 )
    {
LABEL_33:
      v59 = -3;
    }
    else
    {
      *v20 = v22 + v21;
      v23 = 0;
      v24 = v16 - 1;
      v62[0] = 0;
      if ( v24 )
      {
        v25 = 0;
        do
        {
          v23 += *(int *)((char *)&v64 + v25 * 4);
          ++v25;
          --v24;
          v62[v25] = v23;
        }
        while ( v24 );
      }
      v26 = a2;
      v27 = 0;
      do
      {
        v28 = *(_DWORD *)v26;
        v26 += 4;
        v94 = v26;
        if ( v28 )
        {
          v29 = &v61 + v28;
          v30 = *v29;
          *(_DWORD *)(a10 + 4 * *v29) = v27;
          v22 = v81;
          *v29 = v30 + 1;
          v26 = v94;
        }
        ++v27;
      }
      while ( v27 < a3 );
      v31 = *(int *)((char *)&v61 + v19);
      v91 = -1;
      v96 = v31;
      v95 = a10;
      v32 = -v93;
      v86 = 0;
      v61 = 0;
      v60[0] = 0;
      v84 = 0;
      v90 = 0;
      if ( v92 > (signed int)v83 )
      {
LABEL_68:
        if ( !v22 || v83 == 1 )
          return 0;
        v59 = -5;
      }
      else
      {
        v82 = v92 - 1;
        v85 = &v63 + v92;
        while ( 1 )
        {
          v87 = *v85;
          if ( v87 )
            break;
LABEL_67:
          ++v92;
          ++v85;
          ++v82;
          if ( v92 > (signed int)v83 )
            goto LABEL_68;
        }
        while ( 1 )
        {
          --v87;
          v33 = v32 + v93;
          if ( v92 > (signed int)(v32 + v93) )
            break;
LABEL_50:
          BYTE1(v88) = v92 - v32;
          if ( v95 < a10 + 4 * v96 )
          {
            v50 = *(_DWORD *)v95;
            if ( *(_DWORD *)v95 >= a4 )
            {
              v51 = 4 * (v50 - a4);
              LOBYTE(v88) = *(_BYTE *)(v51 + a6) + 80;
              v50 = *(_DWORD *)(v51 + a5);
            }
            else
            {
              LOBYTE(v88) = ((v50 < 0x100) - 1) & 0x60;
            }
            v95 += 4;
            v89 = v50;
          }
          else
          {
            LOBYTE(v88) = -64;
          }
          v52 = 1 << (v92 - v32);
          v53 = v86 >> v32;
          if ( v86 >> v32 < v90 )
          {
            v54 = v84 + 8 * v53;
            do
            {
              *(_DWORD *)v54 = v88;
              *(_DWORD *)(v54 + 4) = v89;
              v53 += v52;
              v54 += 8 * v52;
            }
            while ( v53 < v90 );
            v22 = v81;
          }
          v55 = v86;
          for ( i = 1 << v82; i & v55; i >>= 1 )
            v55 ^= i;
          v86 = i ^ v55;
          v57 = (i ^ v55) & ((1 << v32) - 1);
          v58 = v91;
          if ( v57 != *(&v61 + v91) )
          {
            do
            {
              v32 -= v93;
              --v58;
            }
            while ( (v86 & ((1 << v32) - 1)) != *(&v61 + v58) );
            v91 = v58;
          }
          if ( !v87 )
            goto LABEL_67;
        }
        for ( j = v32 - v93; ; j = v79 )
        {
          ++v91;
          v32 += v93;
          v35 = v83 - v32;
          v79 = v93 + j;
          v80 = v93 + v33;
          if ( v83 - v32 > v93 )
            v35 = v93;
          v36 = v92 - v32;
          v37 = 1 << (v92 - v32);
          if ( v37 > (unsigned int)(v87 + 1) )
          {
            v38 = -1 - v87 + v37;
            v39 = (unsigned int)v85;
            if ( v36 < (unsigned int)v35 )
            {
              ++v36;
              if ( v36 < (unsigned int)v35 )
              {
                while ( 1 )
                {
                  v40 = v39 + 4;
                  v90 = v40;
                  v41 = *(_DWORD *)v40;
                  v42 = 2 * v38;
                  if ( v42 <= v41 )
                    break;
                  v38 = v42 - v41;
                  ++v36;
                  if ( v36 >= (unsigned int)v35 )
                    break;
                  v39 = v90;
                }
              }
            }
          }
          v43 = *(_DWORD *)a9;
          v44 = *(_DWORD *)a9 + (1 << v36);
          v90 = 1 << v36;
          if ( (unsigned int)v44 > 0x5A0 )
            break;
          v45 = &v60[v91];
          v84 = a8 + 8 * v43;
          *v45 = v84;
          *(_DWORD *)a9 = v44;
          if ( v91 )
          {
            v46 = v86;
            *(&v61 + v91) = v86;
            BYTE1(v88) = v93;
            LOBYTE(v88) = v36;
            v47 = v46 >> v79;
            v48 = *(v45 - 1);
            v49 = ((v84 - v48) >> 3) - (v46 >> v79);
            *(_DWORD *)(v48 + 8 * (v46 >> v79)) = v88;
            v89 = v49;
            *(_DWORD *)(v48 + 8 * v47 + 4) = v49;
          }
          else
          {
            *(_DWORD *)a7 = v84;
          }
          v33 = v80;
          if ( v92 <= v80 )
          {
            v22 = v81;
            goto LABEL_50;
          }
        }
        v59 = -4;
      }
    }
    return v59;
  }
  *(_DWORD *)a7 = 0;
  *a1 = 0;
  return 0;
}
// 1006985E: using guessed type int var_B8[15];
// 1006985E: using guessed type int var_F8[15];

//----- (10069BE3) --------------------------------------------------------
signed int __cdecl sub_10069BE3(int a1, unsigned int *a2, int a3, int a4, int a5)
{
  int v5; // esi@1
  unsigned int v6; // eax@1
  signed int result; // eax@2
  signed int v8; // eax@3
  signed int v9; // ebx@3
  int v10; // [sp+4h] [bp-4h]@1
  unsigned int v11; // [sp+20h] [bp+18h]@1

  v10 = 0;
  v5 = a5;
  v6 = (*(int (__cdecl **)(_DWORD, signed int, signed int))(a5 + 32))(*(_DWORD *)(a5 + 40), 19, 4);
  v11 = v6;
  if ( v6 )
  {
    v8 = sub_1006985E(a2, a1, 0x13u, 0x13u, 0, 0, a3, a4, (int)&v10, v6);
    v9 = v8;
    if ( v8 == -3 )
    {
      *(_DWORD *)(v5 + 24) = "oversubscribed dynamic bit lengths tree";
    }
    else
    {
      if ( v8 == -5 || !*a2 )
      {
        *(_DWORD *)(v5 + 24) = "incomplete dynamic bit lengths tree";
        v9 = -3;
      }
    }
    (*(void (__cdecl **)(_DWORD, unsigned int))(v5 + 36))(*(_DWORD *)(v5 + 40), v11);
    result = v9;
  }
  else
  {
    result = -4;
  }
  return result;
}

//----- (10069C62) --------------------------------------------------------
signed int __cdecl sub_10069C62(unsigned int a1, unsigned int a2, int a3, unsigned int *a4, unsigned int *a5, int a6, int a7, int a8, int a9)
{
  int v9; // esi@1
  unsigned int v10; // eax@1
  signed int v12; // eax@3
  signed int v13; // edi@8
  int v14; // [sp+4h] [bp-4h]@1
  unsigned int v15; // [sp+30h] [bp+28h]@1

  v14 = 0;
  v9 = a9;
  v10 = (*(int (__cdecl **)(_DWORD, signed int, signed int))(a9 + 32))(*(_DWORD *)(a9 + 40), 288, 4);
  v15 = v10;
  if ( !v10 )
    return -4;
  v12 = sub_1006985E(a4, a3, a1, 0x101u, (int)&unk_100773A0, (int)&unk_10077420, a6, a8, (int)&v14, v10);
  if ( v12 )
  {
    if ( v12 == -3 )
    {
      *(_DWORD *)(v9 + 24) = "oversubscribed literal/length tree";
      goto LABEL_20;
    }
    if ( v12 == -4 )
      goto LABEL_20;
LABEL_18:
    *(_DWORD *)(v9 + 24) = "incomplete literal/length tree";
    goto LABEL_19;
  }
  if ( !*a4 )
    goto LABEL_18;
  v12 = sub_1006985E(a5, a3 + 4 * a1, a2, 0, (int)&unk_100774A0, (int)&unk_10077518, a7, a8, (int)&v14, v15);
  if ( v12 )
  {
    if ( v12 == -3 )
    {
      *(_DWORD *)(v9 + 24) = "oversubscribed distance tree";
    }
    else
    {
      if ( v12 == -5 )
      {
        *(_DWORD *)(v9 + 24) = "incomplete distance tree";
LABEL_19:
        v12 = -3;
        goto LABEL_20;
      }
      if ( v12 != -4 )
      {
LABEL_14:
        *(_DWORD *)(v9 + 24) = "empty distance tree with lengths";
        goto LABEL_19;
      }
    }
LABEL_20:
    v13 = v12;
    goto LABEL_21;
  }
  if ( !*a5 && a1 > 0x101 )
    goto LABEL_14;
  v13 = 0;
LABEL_21:
  (*(void (__cdecl **)(_DWORD, unsigned int))(v9 + 36))(*(_DWORD *)(v9 + 40), v15);
  return v13;
}

//----- (10069D65) --------------------------------------------------------
int __cdecl sub_10069D65(int a1, int a2, int a3, int a4)
{
  *(_DWORD *)a1 = dword_10082CB8;
  *(_DWORD *)a2 = dword_10082CBC;
  *(_DWORD *)a3 = &unk_10082CC0;
  *(_DWORD *)a4 = &unk_10083CC0;
  return 0;
}
// 10082CB8: using guessed type int dword_10082CB8;
// 10082CBC: using guessed type int dword_10082CBC;

//----- (10069D94) --------------------------------------------------------
int __cdecl sub_10069D94(int a1, int a2, int a3)
{
  int v3; // ebx@1
  const void *v4; // edx@1
  unsigned int v5; // edi@1
  unsigned int v6; // eax@3
  unsigned int v7; // edi@3
  int (__cdecl *v8)(_DWORD, _DWORD, _DWORD); // eax@8
  int v9; // eax@9
  char v10; // al@10
  unsigned int v11; // ecx@10
  void *v12; // edi@10
  int v13; // eax@10
  const void *v14; // edx@11
  unsigned int v15; // eax@13
  unsigned int v16; // edi@13
  int (__cdecl *v17)(_DWORD, _DWORD, _DWORD); // eax@18
  int v18; // eax@19
  char v19; // al@20
  unsigned int v20; // ecx@20
  void *v21; // edi@20
  void *v23; // [sp+Ch] [bp-8h]@1
  void *v24; // [sp+Ch] [bp-8h]@10
  unsigned int v25; // [sp+10h] [bp-4h]@3
  int v26; // [sp+10h] [bp-4h]@13
  const void *v27; // [sp+1Ch] [bp+8h]@1
  int v28; // [sp+1Ch] [bp+8h]@10
  const void *v29; // [sp+1Ch] [bp+8h]@11

  v3 = a1;
  v4 = *(const void **)(a1 + 48);
  v5 = *(_DWORD *)(a1 + 52);
  v23 = *(void **)(a2 + 12);
  v27 = v4;
  if ( (unsigned int)v4 > v5 )
    v5 = *(_DWORD *)(v3 + 44);
  v6 = *(_DWORD *)(a2 + 16);
  v7 = v5 - (_DWORD)v4;
  v25 = v7;
  if ( v7 > v6 )
  {
    v25 = *(_DWORD *)(a2 + 16);
    v7 = *(_DWORD *)(a2 + 16);
  }
  if ( v7 && a3 == -5 )
    a3 = 0;
  *(_DWORD *)(a2 + 20) += v7;
  *(_DWORD *)(a2 + 16) = v6 - v7;
  v8 = *(int (__cdecl **)(_DWORD, _DWORD, _DWORD))(v3 + 56);
  if ( v8 )
  {
    v9 = v8(*(_DWORD *)(v3 + 60), v4, v7);
    v4 = v27;
    *(_DWORD *)(v3 + 60) = v9;
    *(_DWORD *)(a2 + 48) = v9;
  }
  v10 = v7;
  v11 = v7 >> 2;
  memcpy(v23, v4, 4 * (v7 >> 2));
  v12 = (char *)v23 + 4 * (v7 >> 2);
  v24 = (char *)v23 + v25;
  v28 = (int)((char *)v27 + v25);
  memcpy(v12, (char *)v4 + 4 * v11, v10 & 3);
  v13 = *(_DWORD *)(v3 + 44);
  if ( v28 == v13 )
  {
    v14 = *(const void **)(v3 + 40);
    v29 = *(const void **)(v3 + 40);
    if ( *(_DWORD *)(v3 + 52) == v13 )
      *(_DWORD *)(v3 + 52) = v14;
    v15 = *(_DWORD *)(a2 + 16);
    v16 = *(_DWORD *)(v3 + 52) - (_DWORD)v14;
    v26 = *(_DWORD *)(v3 + 52) - (_DWORD)v14;
    if ( v16 > v15 )
    {
      v26 = *(_DWORD *)(a2 + 16);
      v16 = *(_DWORD *)(a2 + 16);
    }
    if ( v16 && a3 == -5 )
      a3 = 0;
    *(_DWORD *)(a2 + 20) += v16;
    *(_DWORD *)(a2 + 16) = v15 - v16;
    v17 = *(int (__cdecl **)(_DWORD, _DWORD, _DWORD))(v3 + 56);
    if ( v17 )
    {
      v18 = v17(*(_DWORD *)(v3 + 60), v14, v16);
      v14 = v29;
      *(_DWORD *)(v3 + 60) = v18;
      *(_DWORD *)(a2 + 48) = v18;
    }
    v19 = v16;
    v20 = v16 >> 2;
    memcpy(v24, v14, 4 * (v16 >> 2));
    v21 = (char *)v24 + 4 * (v16 >> 2);
    v24 = (char *)v24 + v26;
    v28 = (int)((char *)v29 + v26);
    memcpy(v21, (char *)v14 + 4 * v20, v19 & 3);
  }
  *(_DWORD *)(a2 + 12) = v24;
  *(_DWORD *)(v3 + 48) = v28;
  return a3;
}

//----- (10069EA9) --------------------------------------------------------
int __cdecl sub_10069EA9(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx@2
  int v7; // ebx@2
  int v8; // ST1C_4@2
  int v9; // ST20_4@2
  int v10; // ecx@2
  int v11; // eax@2
  int v12; // edx@2
  int v13; // ecx@2
  int v14; // eax@2
  int v15; // ST24_4@2
  int v16; // ST28_4@2
  int v17; // ST2C_4@2
  int v18; // ST30_4@2
  int v19; // ST34_4@2
  int v20; // ST1C_4@2
  int v21; // ST20_4@2
  int v22; // ST38_4@2
  int v23; // eax@2
  int v24; // edx@2
  int v25; // esi@2
  int v26; // ecx@2
  int v27; // ebx@2
  int v28; // esi@2
  int v29; // eax@2
  int v30; // ecx@2
  int v31; // eax@2
  int v32; // edx@2
  int v33; // ecx@2
  int v34; // esi@2
  int v35; // edi@4
  int v36; // edi@4
  int v37; // ecx@4
  int v38; // ebx@4
  int v39; // ST1C_4@4
  int v40; // ST20_4@4
  int v41; // ecx@4
  int v42; // edx@4
  int v43; // ecx@4
  int v44; // eax@4
  int v45; // ST24_4@4
  int v46; // ST28_4@4
  int v47; // ST2C_4@4
  int v48; // ST30_4@4
  int v49; // ST34_4@4
  int v50; // ST1C_4@4
  int v51; // eax@4
  int v52; // ST20_4@4
  int v53; // ST38_4@4
  int v54; // ST40_4@4
  int v55; // ebx@4
  int v56; // eax@4
  int v57; // edx@4
  int v58; // esi@4
  int v59; // ecx@4
  int v60; // ebx@4
  int v61; // esi@4
  int v62; // eax@4
  int v63; // ecx@4
  int v64; // eax@4
  int v65; // edx@4
  int v66; // ST34_4@4
  int v67; // ST38_4@4
  int v68; // ST1C_4@4
  int v69; // ST20_4@4
  int result; // eax@4
  int v71; // [sp+Ch] [bp-44h]@1
  int v72; // [sp+10h] [bp-40h]@1
  int v73; // [sp+14h] [bp-3Ch]@1
  int v74; // [sp+14h] [bp-3Ch]@3
  signed int v75; // [sp+18h] [bp-38h]@1
  signed int v76; // [sp+18h] [bp-38h]@3
  int v77; // [sp+4Ch] [bp-4h]@3

  v71 = a1;
  v72 = a2;
  v73 = a3;
  v75 = 8;
  do
  {
    v6 = *(_WORD *)(v72 + 96) * *(_WORD *)(v71 + 96);
    v7 = 4433 * (v6 + *(_WORD *)(v72 + 32) * *(_WORD *)(v71 + 32));
    v8 = v7 + -15137 * v6;
    v9 = v7 + 6270 * *(_WORD *)(v72 + 32) * *(_WORD *)(v71 + 32);
    v10 = *(_WORD *)(v72 + 64) * *(_WORD *)(v71 + 64);
    v11 = *(_WORD *)v72 * *(_WORD *)v71;
    v12 = v10;
    v13 = (v11 + v10) << 13;
    v14 = (v11 - v12) << 13;
    v15 = v9 + v13;
    v16 = v8 + v14;
    v17 = v13 - v9;
    v18 = v14 - v8;
    v19 = *(_WORD *)(v72 + 112) * *(_WORD *)(v71 + 112);
    v20 = *(_WORD *)(v72 + 48) * *(_WORD *)(v71 + 48);
    v21 = *(_WORD *)(v72 + 16) * *(_WORD *)(v71 + 16);
    v22 = *(_WORD *)(v72 + 80) * *(_WORD *)(v71 + 80);
    v23 = -7373 * (v21 + v19);
    v24 = -20995 * (v20 + v22);
    v25 = 9633 * (v21 + v22 + v20 + v19);
    v26 = v25 + -16069 * (v20 + v19);
    v27 = v25 + -3196 * (v21 + v22);
    v28 = v23;
    v29 = v26 + v23;
    v30 = v24 + v26;
    v31 = 2446 * v19 + v29;
    v32 = 16819 * v22 + v27 + v24;
    v33 = 25172 * v20 + v30;
    v34 = 12299 * v21 + v27 + v28;
    *(_DWORD *)(v73 + 128) = (v17 - v31 + 1024) >> 11;
    *(_DWORD *)(v73 + 96) = (v17 + v31 + 1024) >> 11;
    *(_DWORD *)(v73 + 160) = (v18 - v32 + 1024) >> 11;
    *(_DWORD *)(v73 + 192) = (v16 - v33 + 1024) >> 11;
    *(_DWORD *)(v73 + 64) = (v18 + v32 + 1024) >> 11;
    *(_DWORD *)(v73 + 32) = (v16 + v33 + 1024) >> 11;
    *(_DWORD *)(v73 + 224) = (v15 - v34 + 1024) >> 11;
    *(_DWORD *)v73 = (v34 + v15 + 1024) >> 11;
    v71 += 2;
    v73 += 4;
    v72 += 2;
    --v75;
  }
  while ( v75 );
  v76 = 8;
  v77 = 0;
  v74 = a3;
  do
  {
    v35 = *(_DWORD *)(v77 + a4);
    v77 += 4;
    v36 = a5 + v35;
    v37 = *(_DWORD *)(v74 + 24);
    v38 = 4433 * (v37 + *(_DWORD *)(v74 + 8));
    v39 = v38 + -15137 * v37;
    v40 = v38 + 6270 * *(_DWORD *)(v74 + 8);
    v41 = *(_DWORD *)(v74 + 16);
    v42 = v41;
    v43 = (*(_DWORD *)v74 + v41) << 13;
    v44 = (*(_DWORD *)v74 - v42) << 13;
    v45 = v40 + v43;
    v46 = v39 + v44;
    v47 = v43 - v40;
    v48 = v44 - v39;
    v49 = *(_DWORD *)(v74 + 28);
    v50 = *(_DWORD *)(v74 + 12);
    v51 = *(_DWORD *)(v74 + 20);
    v52 = *(_DWORD *)(v74 + 4);
    v53 = v51;
    v54 = 16819 * v51;
    v55 = v52 + v51;
    v56 = -7373 * (v52 + v49);
    v57 = -20995 * (v50 + v53);
    v58 = 9633 * (v55 + v50 + v49);
    v59 = v58 + -16069 * (v50 + v49);
    v60 = v58 + -3196 * v55;
    v61 = v56;
    v62 = v59 + v56;
    v63 = v57 + v59;
    v64 = 2446 * v49 + v62;
    v65 = v54 + v60 + v57;
    v66 = v64;
    v67 = v65;
    v68 = 25172 * v50 + v63;
    v69 = 12299 * v52 + v60 + v61;
    LOBYTE(v64) = *(_BYTE *)(a6 + (((v64 + v47 + 131072) >> 18) & 0x3FF));
    LOBYTE(v65) = *(_BYTE *)(a6 + (((v45 - v69 + 131072) >> 18) & 0x3FF));
    v64 <<= 8;
    v65 <<= 8;
    LOBYTE(v64) = *(_BYTE *)(a6 + (((v67 + v48 + 131072) >> 18) & 0x3FF));
    LOBYTE(v65) = *(_BYTE *)(a6 + (((v46 - v68 + 131072) >> 18) & 0x3FF));
    v64 <<= 8;
    v65 <<= 8;
    LOBYTE(v64) = *(_BYTE *)(a6 + (((v68 + v46 + 131072) >> 18) & 0x3FF));
    LOBYTE(v65) = *(_BYTE *)(a6 + (((v48 - v67 + 131072) >> 18) & 0x3FF));
    v64 <<= 8;
    v65 <<= 8;
    LOBYTE(v64) = *(_BYTE *)(a6 + (((v69 + v45 + 131072) >> 18) & 0x3FF));
    LOBYTE(v65) = *(_BYTE *)(a6 + (((v47 - v66 + 131072) >> 18) & 0x3FF));
    *(_DWORD *)v36 = v64;
    *(_DWORD *)(v36 + 4) = v65;
    v74 += 32;
    result = v76-- - 1;
  }
  while ( v76 );
  return result;
}

//----- (1006A30B) --------------------------------------------------------
int __cdecl sub_1006A30B(int a1, int a2, int a3, int a4, int a5, int a6)
{
  __m64 v6; // mm0@2
  __m64 v7; // mm2@2
  __m64 v8; // mm4@2
  __m64 v9; // mm5@2
  __m64 v10; // mm3@2
  __m64 v11; // mm0@2
  __m64 v12; // mm6@2
  __m64 v13; // mm0@2
  __m64 v14; // mm6@2
  __m64 v15; // mm2@2
  __m64 v16; // mm4@2
  __m64 v17; // mm3@2
  __m64 v18; // mm5@2
  __m64 v19; // mm0@2
  __m64 v20; // ST0C_8@2
  __m64 v21; // mm6@2
  __m64 v22; // mm1@2
  __m64 v23; // mm0@2
  __m64 v24; // mm1@2
  __m64 v25; // mm6@2
  __m64 v26; // mm0@2
  __m64 v27; // mm6@2
  __m64 v28; // mm2@2
  __m64 v29; // ST1C_8@2
  __m64 v30; // ST2C_8@2
  __m64 v31; // ST3C_8@2
  __m64 v32; // ST4C_8@2
  __m64 v33; // mm1@2
  __m64 v34; // ST5C_8@2
  __m64 v35; // ST6C_8@2
  __m64 v36; // ST7C_8@2
  __m64 v37; // ST8C_8@2
  __m64 v38; // ST9C_8@2
  __m64 v39; // STAC_8@2
  __m64 v40; // mm0@2
  __m64 v41; // STBC_8@2
  __m64 v42; // STCC_8@2
  __m64 v43; // mm2@2
  __m64 v44; // mm1@2
  __m64 v45; // mm3@2
  __m64 v46; // mm5@2
  __m64 v47; // STDC_8@2
  __m64 v48; // mm4@2
  __m64 v49; // STE4_8@2
  __m64 v50; // mm5@2
  __m64 v51; // ST44_8@2
  __m64 v52; // mm7@2
  __m64 v53; // mm0@2
  __m64 v54; // mm2@2
  __m64 v55; // mm4@2
  __m64 v56; // ST84_8@2
  __m64 v57; // mm1@2
  __m64 v58; // mm5@2
  __m64 v59; // mm3@2
  __m64 v60; // mm0@2
  __m64 v61; // STEC_8@2
  __m64 v62; // ST34_8@2
  __m64 v63; // STB4_8@2
  __m64 v64; // ST24_8@2
  __m64 v65; // STD4_8@2
  __m64 v66; // mm7@2
  __m64 v67; // mm6@2
  __m64 v68; // ST74_8@2
  __m64 v69; // mm3@2
  __m64 v70; // mm0@2
  __m64 v71; // ST14_8@2
  __m64 v72; // mm1@2
  __m64 v73; // mm5@2
  __m64 v74; // mm4@2
  __m64 v75; // mm6@2
  __m64 v76; // mm7@2
  __m64 v77; // mm6@2
  __m64 v78; // mm7@2
  __m64 v79; // mm2@2
  __m64 v80; // mm1@2
  __m64 v81; // mm5@2
  __m64 v82; // mm4@2
  __m64 v83; // mm7@2
  __m64 v84; // mm6@2
  __m64 v85; // mm2@2
  __m64 v86; // mm0@2
  __m64 v87; // mm2@2
  __m64 v88; // mm4@2
  __m64 v89; // mm5@2
  __m64 v90; // mm0@2
  __m64 v91; // mm1@2
  int result; // eax@2
  __m64 v93; // mm1@4
  __m64 v94; // mm2@4
  __m64 v95; // mm4@4
  __m64 v96; // mm3@4
  __m64 v97; // mm2@4
  __m64 v98; // mm4@4
  __m64 v99; // mm7@4
  __m64 v100; // mm5@4
  __m64 v101; // mm3@4
  __m64 v102; // mm4@4
  __m64 v103; // mm7@4
  __m64 v104; // mm5@4
  __m64 v105; // mm6@4
  __m64 v106; // mm3@4
  __m64 v107; // mm1@4
  __m64 v108; // mm0@4
  __m64 v109; // mm1@4
  __m64 v110; // mm3@4
  __m64 v111; // mm2@4
  __m64 v112; // mm1@4
  __m64 v113; // mm0@4
  int v114; // edi@4
  __m64 v115; // mm3@4
  unsigned int v116; // eax@4
  __m64 v117; // mm4@4
  __m64 v118; // mm2@4
  int v119; // [sp+F4h] [bp+4Ch]@1
  int v120; // [sp+F8h] [bp+50h]@1
  int v121; // [sp+F8h] [bp+50h]@3
  int v122; // [sp+FCh] [bp+54h]@1
  int v123; // [sp+100h] [bp+58h]@3
  signed int v124; // [sp+104h] [bp+5Ch]@1
  signed int v125; // [sp+104h] [bp+5Ch]@3

  v119 = a1;
  v122 = a2;
  v124 = 2;
  v120 = a3;
  do
  {
    v6 = _m_pmullw(*(__m64 *)(v119 + 32), *(__m64 *)(v122 + 32));
    v7 = _m_pmullw(*(__m64 *)(v119 + 96), *(__m64 *)(v122 + 96));
    v8 = _m_pmaddwd(v6, (__m64)qword_100776D8);
    v9 = _m_pmaddwd(_m_psrlq(v6, 0x10u), (__m64)qword_100776D8);
    v10 = _m_psrlq(v7, 0x10u);
    v11 = _m_paddw(v6, v7);
    v12 = _m_psrlq(v11, 0x10u);
    v13 = _m_pmaddwd(v11, (__m64)qword_100776D0);
    v14 = _m_pmaddwd(v12, (__m64)qword_100776D0);
    v15 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v7, (__m64)qword_100776F8), (__m64)qword_10077720), (__m64)qword_10077728),
            v13);
    v16 = _m_paddd(v8, v13);
    v17 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v10, (__m64)qword_100776F8), (__m64)qword_10077720), (__m64)qword_10077728),
            v14);
    v18 = _m_paddd(v9, v14);
    v19 = _m_pmullw(*(__m64 *)v119, *(__m64 *)v122);
    v20 = v15;
    v21 = _m_pmullw(*(__m64 *)(v119 + 64), *(__m64 *)(v122 + 64));
    v22 = v19;
    v23 = _m_paddw(v19, v21);
    v24 = _m_psubw(v22, v21);
    v25 = v23;
    v26 = _m_pslld(_m_pmaddwd(v23, (__m64)qword_10077730), 0xDu);
    v27 = _m_pslld(_m_pmaddwd(_m_psrlq(v25, 0x10u), (__m64)qword_10077730), 0xDu);
    v28 = _m_pslld(_m_pmaddwd(_m_psrlq(v24, 0x10u), (__m64)qword_10077730), 0xDu);
    v29 = _m_psubd(v26, v16);
    v30 = _m_paddd(v18, v27);
    v31 = _m_psubd(v27, v18);
    v32 = _m_paddd(v16, v26);
    v33 = _m_pslld(_m_pmaddwd(v24, (__m64)qword_10077730), 0xDu);
    v34 = _m_paddd(v17, v28);
    v35 = _m_psubd(v28, v17);
    v36 = _m_paddd(v20, v33);
    v37 = _m_psubd(v33, v20);
    v38 = _m_pmullw(*(__m64 *)(v119 + 16), *(__m64 *)(v122 + 16));
    v39 = _m_pmullw(*(__m64 *)(v119 + 112), *(__m64 *)(v122 + 112));
    v40 = _m_paddw(v39, v38);
    v41 = _m_pmullw(*(__m64 *)(v119 + 80), *(__m64 *)(v122 + 80));
    v42 = _m_pmullw(*(__m64 *)(v119 + 48), *(__m64 *)(v122 + 48));
    v43 = _m_paddw(v41, v42);
    v44 = _m_paddw(v39, v42);
    v45 = _m_paddw(v41, v38);
    v46 = _m_paddw(v44, v45);
    v47 = _m_pmaddwd(v46, (__m64)qword_100776E8);
    v48 = _m_psrlq(v43, 0x10u);
    v49 = _m_pmaddwd(_m_psrlq(v46, 0x10u), (__m64)qword_100776E8);
    v50 = _m_psrlq(v44, 0x10u);
    v51 = _m_paddd(_m_pxor(_m_pmaddwd(v40, (__m64)qword_100776E0), (__m64)qword_10077720), (__m64)qword_10077728);
    v52 = _m_pmaddwd(_m_psrlq(v40, 0x10u), (__m64)qword_100776E0);
    v53 = _m_psrlq(v45, 0x10u);
    v54 = _m_paddd(_m_pxor(_m_pmaddwd(v43, (__m64)qword_10077710), (__m64)qword_10077720), (__m64)qword_10077728);
    v55 = _m_paddd(_m_pxor(_m_pmaddwd(v48, (__m64)qword_10077710), (__m64)qword_10077720), (__m64)qword_10077728);
    v56 = _m_paddd(_m_pxor(v52, (__m64)qword_10077720), (__m64)qword_10077728);
    v57 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v44, (__m64)qword_10077700), (__m64)qword_10077720), (__m64)qword_10077728),
            v47);
    v58 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v50, (__m64)qword_10077700), (__m64)qword_10077720), (__m64)qword_10077728),
            v49);
    v59 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v45, (__m64)qword_100776C8), (__m64)qword_10077720), (__m64)qword_10077728),
            v47);
    v60 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v53, (__m64)qword_100776C8), (__m64)qword_10077720), (__m64)qword_10077728),
            v49);
    v61 = _m_paddd(v57, v54);
    v62 = _m_paddd(v55, v60);
    v63 = _m_paddd(v58, v55);
    v64 = _m_paddd(_m_pmaddwd(v39, (__m64)qword_100776C0), _m_paddd(v51, v57));
    v65 = _m_paddd(_m_pmaddwd(_m_psrlq(v39, 0x10u), (__m64)qword_100776C0), _m_paddd(v56, v58));
    v66 = _m_paddd(_m_pmaddwd(v38, (__m64)qword_100776F0), _m_paddd(v59, v51));
    v67 = _m_paddd(_m_pmaddwd(_m_psrlq(v38, 0x10u), (__m64)qword_100776F0), _m_paddd(v60, v56));
    v68 = _m_paddd(_m_pmaddwd(v41, (__m64)qword_10077708), _m_paddd(v54, v59));
    v69 = (__m64)qword_10077738;
    v70 = _m_psrad(_m_paddd(_m_psubd(v32, v66), (__m64)qword_10077738), 0xBu);
    v71 = _m_paddd(_m_pmaddwd(_m_psrlq(v41, 0x10u), (__m64)qword_10077708), v62);
    v72 = _m_psrad(_m_paddd(_m_psubd(v30, v67), (__m64)qword_10077738), 0xBu);
    v73 = _m_paddd(_m_pmaddwd(v42, (__m64)qword_10077718), v61);
    v74 = _m_paddd(_m_pmaddwd(_m_psrlq(v42, 0x10u), (__m64)qword_10077718), v63);
    v75 = _m_paddd(_m_paddd(v67, v30), (__m64)qword_10077738);
    v76 = _m_paddd(_m_paddd(v66, v32), (__m64)qword_10077738);
    *(_QWORD *)(v120 + 112) = _m_punpckldq(_m_punpcklwd(v70, v72), _m_punpckhwd(v70, v72));
    v77 = _m_psrad(v75, 0xBu);
    v78 = _m_psrad(v76, 0xBu);
    v79 = _m_psrad(_m_paddd(_m_psubd(v36, v73), v69), 0xBu);
    *(_QWORD *)v120 = _m_punpckldq(_m_punpcklwd(v78, v77), _m_punpckhwd(v78, v77));
    v80 = _m_psrad(_m_paddd(_m_psubd(v34, v74), v69), 0xBu);
    v81 = _m_psrad(_m_paddd(_m_paddd(v73, v36), v69), 0xBu);
    *(_QWORD *)(v120 + 96) = _m_punpckldq(_m_punpcklwd(v79, v80), _m_punpckhwd(v79, v80));
    v82 = _m_psrad(_m_paddd(_m_paddd(v74, v34), v69), 0xBu);
    *(_QWORD *)(v120 + 16) = _m_punpckldq(_m_punpcklwd(v81, v82), _m_punpckhwd(v81, v82));
    v83 = _m_psrad(_m_paddd(_m_paddd(v35, v71), v69), 0xBu);
    v84 = _m_psrad(_m_paddd(_m_paddd(v37, v68), v69), 0xBu);
    v85 = _m_psrad(_m_paddd(_m_psubd(v37, v68), v69), 0xBu);
    v86 = _m_psrad(_m_paddd(_m_psubd(v35, v71), v69), 0xBu);
    *(_QWORD *)(v120 + 32) = _m_punpckldq(_m_punpcklwd(v84, v83), _m_punpckhwd(v84, v83));
    v87 = _m_punpckldq(_m_punpcklwd(v85, v86), _m_punpckhwd(v85, v86));
    v88 = _m_psrad(_m_paddd(_m_paddd(v29, v64), v69), 0xBu);
    v89 = _m_psrad(_m_paddd(_m_psubd(v29, v64), v69), 0xBu);
    v90 = _m_psrad(_m_paddd(_m_paddd(v31, v65), v69), 0xBu);
    *(_QWORD *)(v120 + 80) = v87;
    v91 = _m_psrad(_m_paddd(_m_psubd(v31, v65), v69), 0xBu);
    *(_QWORD *)(v120 + 48) = _m_punpckldq(_m_punpcklwd(v88, v90), _m_punpckhwd(v88, v90));
    v119 += 8;
    v122 += 8;
    *(_QWORD *)(v120 + 64) = _m_punpckldq(_m_punpcklwd(v89, v91), _m_punpckhwd(v89, v91));
    v120 += 8;
    result = v124-- - 1;
  }
  while ( v124 );
  v125 = 8;
  v121 = a3;
  v123 = 0;
  do
  {
    v93 = *(__m64 *)(v121 + 8);
    v94 = _m_paddw(*(__m64 *)v121, v93);
    v95 = v94;
    v96 = _m_pmaddwd(_m_punpckhdq(*(__m64 *)v121, v93), (__m64)qword_10077750);
    v97 = _m_pmaddwd(v94, (__m64)qword_10077758);
    v98 = _m_psrad(_m_pslld(_m_punpckldq(v95, _m_psubw(*(__m64 *)v121, v93)), 0x10u), 3u);
    v99 = v98;
    v100 = _m_paddd(
             _m_punpckldq(v96, _m_psrlq(_m_paddd(_m_pxor(v96, (__m64)qword_10077720), (__m64)qword_10077728), 0x20u)),
             _m_punpckhdq(v97, v97));
    v101 = _m_paddw(*(__m64 *)v121, v93);
    v102 = _m_paddd(v98, v100);
    v103 = _m_psubd(v99, v100);
    v104 = _m_pmaddwd(_m_paddw(_m_punpckldq(v101, v101), v101), (__m64)qword_10077780);
    v105 = _m_paddd(
             _m_pxor(
               _m_pmaddwd(
                 _m_paddw(_m_punpckhdq(*(__m64 *)v121, _m_punpckldq(*(__m64 *)v121, *(__m64 *)v121)), v93),
                 (__m64)qword_10077770),
               (__m64)qword_10077720),
             (__m64)qword_10077728);
    v106 = _m_paddd(
             _m_paddd(_m_pxor(_m_pmaddwd(v101, (__m64)qword_10077778), (__m64)qword_10077720), (__m64)qword_10077728),
             _m_punpckhdq(v104, v104));
    v107 = _m_paddd(_m_pmaddwd(v93, (__m64)qword_10077768), _m_paddd(v105, v106));
    v108 = _m_paddd(
             _m_pmaddwd(*(__m64 *)v121, (__m64)qword_10077760),
             _m_paddd(_m_punpckhdq(v105, _m_punpckldq(v105, v105)), v106));
    v109 = _m_punpckhdq(v107, _m_punpckldq(v107, v107));
    v110 = _m_psubd(v102, v108);
    v111 = _m_psubd(v103, v109);
    v112 = _m_pand(_m_psrad(_m_paddd(_m_paddd(v109, v103), (__m64)qword_10077740), 0x12u), (__m64)qword_10077748);
    v113 = _m_pand(_m_psrad(_m_paddd(_m_paddd(v108, v102), (__m64)qword_10077740), 0x12u), (__m64)qword_10077748);
    BYTE1(result) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v112));
    v114 = *(_DWORD *)(v123 + a4);
    LOBYTE(result) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v112, 0x20u)));
    v123 += 4;
    v115 = _m_pand(_m_psrad(_m_paddd(v110, (__m64)qword_10077740), 0x12u), (__m64)qword_10077748);
    v116 = result << 16;
    LOBYTE(v116) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v113));
    BYTE1(v116) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v113, 0x20u)));
    v117 = _mm_cvtsi32_si64(v116);
    v118 = _m_pand(_m_psrad(_m_paddd(v111, (__m64)qword_10077740), 0x12u), (__m64)qword_10077748);
    BYTE1(v116) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v115));
    LOBYTE(v116) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v115, 0x20u)));
    v116 <<= 16;
    LOBYTE(v116) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v118));
    BYTE1(v116) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v118, 0x20u)));
    v121 += 16;
    *(_QWORD *)(a5 + v114) = _m_punpckldq(v117, _mm_cvtsi32_si64(v116));
    result = v125 - 1;
    v125 = result;
  }
  while ( result );
  _m_femms();
  return result;
}
// 100776C0: using guessed type __int64 qword_100776C0;
// 100776C8: using guessed type __int64 qword_100776C8;
// 100776D0: using guessed type __int64 qword_100776D0;
// 100776D8: using guessed type __int64 qword_100776D8;
// 100776E0: using guessed type __int64 qword_100776E0;
// 100776E8: using guessed type __int64 qword_100776E8;
// 100776F0: using guessed type __int64 qword_100776F0;
// 100776F8: using guessed type __int64 qword_100776F8;
// 10077700: using guessed type __int64 qword_10077700;
// 10077708: using guessed type __int64 qword_10077708;
// 10077710: using guessed type __int64 qword_10077710;
// 10077718: using guessed type __int64 qword_10077718;
// 10077720: using guessed type __int64 qword_10077720;
// 10077728: using guessed type __int64 qword_10077728;
// 10077730: using guessed type __int64 qword_10077730;
// 10077738: using guessed type __int64 qword_10077738;
// 10077740: using guessed type __int64 qword_10077740;
// 10077748: using guessed type __int64 qword_10077748;
// 10077750: using guessed type __int64 qword_10077750;
// 10077758: using guessed type __int64 qword_10077758;
// 10077760: using guessed type __int64 qword_10077760;
// 10077768: using guessed type __int64 qword_10077768;
// 10077770: using guessed type __int64 qword_10077770;
// 10077778: using guessed type __int64 qword_10077778;
// 10077780: using guessed type __int64 qword_10077780;

//----- (1006A9C3) --------------------------------------------------------
__int16 __cdecl sub_1006A9C3(int a1, int a2, int a3, int a4, int a5, int a6)
{
  __int16 v6; // ax@2
  __int16 v7; // bx@2
  __int16 v8; // cx@2
  __int16 v9; // dx@2
  __int16 v10; // ST20_2@2
  __int16 v11; // ax@2
  __int16 v12; // ST20_2@2
  __int16 v13; // bx@2
  __int16 v14; // cx@2
  __int16 v15; // ST24_2@2
  __int16 v16; // ST28_2@2
  __int16 v17; // bx@2
  __int16 v18; // ax@2
  __int16 v19; // ST20_2@2
  __int16 v20; // ST2C_2@2
  __int16 v21; // ax@2
  __int16 v22; // bx@2
  __int16 v23; // cx@2
  __int16 v24; // dx@2
  __int16 v25; // ST30_2@2
  __int16 v26; // ax@2
  __int16 v27; // ST30_2@2
  __int16 v28; // bx@2
  __int16 v29; // dx@2
  __int16 v30; // bx@2
  __int16 v31; // cx@2
  __int16 v32; // ax@2
  int v33; // ecx@2
  __int16 v34; // dx@2
  int v35; // ebx@2
  __int16 v36; // dx@2
  __int16 v37; // ST34_2@2
  int v38; // edi@4
  __int16 v39; // bx@4
  __int16 v40; // cx@4
  __int16 v41; // dx@4
  __int16 v42; // ax@4
  __int16 v43; // ST20_2@4
  __int16 v44; // bx@4
  __int16 v45; // cx@4
  __int16 v46; // ST24_2@4
  __int16 v47; // ST28_2@4
  __int16 v48; // bx@4
  __int16 v49; // ax@4
  __int16 v50; // ST20_2@4
  __int16 v51; // ST2C_2@4
  __int16 v52; // ax@4
  __int16 v53; // bx@4
  __int16 v54; // cx@4
  __int16 v55; // dx@4
  __int16 v56; // ST30_2@4
  __int16 v57; // ax@4
  __int16 v58; // ST30_2@4
  __int16 v59; // bx@4
  __int16 v60; // dx@4
  __int16 v61; // bx@4
  __int16 v62; // cx@4
  __int16 v63; // ax@4
  int v64; // ecx@4
  __int16 v65; // dx@4
  int v66; // ebx@4
  __int16 v67; // dx@4
  __int16 v68; // ST34_2@4
  __int16 result; // ax@4
  int v70; // [sp+Ch] [bp-2Ch]@1
  int v71; // [sp+10h] [bp-28h]@1
  int v72; // [sp+14h] [bp-24h]@1
  int v73; // [sp+14h] [bp-24h]@3
  int v74; // [sp+18h] [bp-20h]@3
  signed __int16 v75; // [sp+1Ch] [bp-1Ch]@1
  signed __int16 v76; // [sp+1Ch] [bp-1Ch]@3

  v70 = a1;
  v71 = a3;
  v72 = a2;
  v75 = 8;
  do
  {
    v6 = *(_WORD *)v71 * *(_WORD *)v70;
    v7 = *(_WORD *)(v71 + 64) * *(_WORD *)(v70 + 64);
    v8 = *(_WORD *)(v71 + 32) * *(_WORD *)(v70 + 32);
    v9 = *(_WORD *)(v71 + 96) * *(_WORD *)(v70 + 96);
    v10 = v6;
    v11 = v7 + v6;
    v12 = v10 - v7;
    v13 = v8;
    v14 = v9 + v8;
    v15 = v14 + v11;
    v16 = v11 - v14;
    v17 = (362 * (signed __int16)(v13 - v9) >> 8) - v14;
    v18 = v17 + v12;
    v19 = v12 - v17;
    v20 = v18;
    v21 = *(_WORD *)(v71 + 16) * *(_WORD *)(v70 + 16);
    v22 = *(_WORD *)(v71 + 112) * *(_WORD *)(v70 + 112);
    v23 = *(_WORD *)(v71 + 48) * *(_WORD *)(v70 + 48);
    v24 = *(_WORD *)(v71 + 80) * *(_WORD *)(v70 + 80);
    v25 = v21;
    v26 = v22 + v21;
    v27 = v25 - v22;
    v28 = v24;
    v29 = v23 + v24;
    v30 = v28 - v23;
    v31 = v26;
    v32 = v29 + v26;
    v33 = (signed __int16)(v31 - v29);
    v34 = v30;
    v35 = 473 * (signed __int16)(v27 + v30) >> 8;
    v36 = v35 + (-669 * v34 >> 8) - v32;
    LOWORD(v33) = (362 * v33 >> 8) - v36;
    v37 = v33 + (277 * v27 >> 8) - (_WORD)v35;
    *(_WORD *)v72 = v15 + v32;
    *(_WORD *)(v72 + 112) = v15 - v32;
    *(_WORD *)(v72 + 16) = v20 + v36;
    *(_WORD *)(v72 + 96) = v20 - v36;
    *(_WORD *)(v72 + 32) = v19 + v33;
    *(_WORD *)(v72 + 80) = v19 - v33;
    *(_WORD *)(v72 + 64) = v16 + v37;
    *(_WORD *)(v72 + 48) = v16 - v37;
    v70 += 2;
    v71 += 2;
    v72 += 2;
    --v75;
  }
  while ( v75 );
  v74 = 0;
  v76 = 8;
  v73 = a2;
  do
  {
    v38 = a5 + *(_DWORD *)(v74 + a4);
    v74 += 4;
    v39 = *(_WORD *)(v73 + 8);
    v40 = *(_WORD *)(v73 + 4);
    v41 = *(_WORD *)(v73 + 12);
    v42 = v39 + *(_WORD *)v73;
    v43 = *(_WORD *)v73 - v39;
    v44 = v40;
    v45 = v41 + v40;
    v46 = v45 + v42;
    v47 = v42 - v45;
    v48 = (362 * (signed __int16)(v44 - v41) >> 8) - v45;
    v49 = v48 + v43;
    v50 = v43 - v48;
    v51 = v49;
    v52 = *(_WORD *)(v73 + 2);
    v53 = *(_WORD *)(v73 + 14);
    v54 = *(_WORD *)(v73 + 6);
    v55 = *(_WORD *)(v73 + 10);
    v56 = v52;
    v57 = v53 + v52;
    v58 = v56 - v53;
    v59 = v55;
    v60 = v54 + v55;
    v61 = v59 - v54;
    v62 = v57;
    v63 = v60 + v57;
    v64 = (signed __int16)(v62 - v60);
    v65 = v61;
    v66 = 473 * (signed __int16)(v58 + v61) >> 8;
    v67 = v66 + (-669 * v65 >> 8) - v63;
    LOWORD(v64) = (362 * v64 >> 8) - v67;
    v68 = v64 + (277 * v58 >> 8) - (_WORD)v66;
    LOBYTE(v66) = *(_BYTE *)(a6 + (((signed __int16)(v46 - v63) >> 5) & 0x3FF));
    *(_BYTE *)v38 = *(_BYTE *)(a6 + (((signed __int16)(v46 + v63) >> 5) & 0x3FF));
    *(_BYTE *)(v38 + 7) = v66;
    LOBYTE(v66) = *(_BYTE *)(a6 + (((signed __int16)(v51 - v67) >> 5) & 0x3FF));
    *(_BYTE *)(v38 + 1) = *(_BYTE *)(a6 + (((signed __int16)(v51 + v67) >> 5) & 0x3FF));
    *(_BYTE *)(v38 + 6) = v66;
    LOBYTE(v66) = *(_BYTE *)(a6 + (((signed __int16)(v50 - v64) >> 5) & 0x3FF));
    *(_BYTE *)(v38 + 2) = *(_BYTE *)(a6 + (((signed __int16)(v50 + v64) >> 5) & 0x3FF));
    *(_BYTE *)(v38 + 5) = v66;
    LOBYTE(v63) = *(_BYTE *)(a6 + (((signed __int16)(v47 - v68) >> 5) & 0x3FF));
    *(_BYTE *)(v38 + 4) = *(_BYTE *)(a6 + (((signed __int16)(v47 + v68) >> 5) & 0x3FF));
    *(_BYTE *)(v38 + 3) = v63;
    v73 += 16;
    result = v76-- - 1;
  }
  while ( v76 );
  return result;
}

//----- (1006AD1E) --------------------------------------------------------
char __cdecl sub_1006AD1E(int a1, int a2, int a3, int a4, int a5, int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm3@1
  __m64 v9; // mm2@1
  __m64 v10; // mm5@1
  __m64 v11; // mm1@1
  __m64 v12; // mm2@1
  __m64 v13; // mm4@1
  __m64 v14; // mm3@1
  __m64 v15; // mm4@1
  __m64 v16; // mm1@1
  __m64 v17; // mm6@1
  __m64 v18; // mm7@1
  __m64 v19; // mm0@1
  __m64 v20; // mm5@1
  __m64 v21; // mm4@1
  __m64 v22; // mm3@1
  __m64 v23; // ST1C_8@1
  __m64 v24; // mm0@1
  __m64 v25; // mm5@1
  __m64 v26; // mm0@1
  __m64 v27; // mm1@1
  __m64 v28; // mm4@1
  __m64 v29; // mm5@1
  __m64 v30; // mm4@1
  __m64 v31; // mm1@1
  __m64 v32; // mm0@1
  __m64 v33; // mm7@1
  __m64 v34; // mm1@1
  __m64 v35; // mm2@1
  __m64 v36; // mm4@1
  __m64 v37; // mm0@1
  __m64 v38; // mm6@1
  __m64 v39; // mm1@1
  __m64 v40; // mm2@1
  __m64 v41; // mm7@1
  __m64 v42; // mm3@1
  __m64 v43; // mm1@1
  __m64 v44; // mm5@1
  __m64 v45; // mm2@1
  __m64 v46; // mm0@1
  __m64 v47; // mm4@1
  __m64 v48; // mm3@1
  __m64 v49; // mm4@1
  __m64 v50; // mm1@1
  __m64 v51; // mm6@1
  __m64 v52; // mm6@1
  __m64 v53; // mm7@1
  __m64 v54; // mm3@1
  __m64 v55; // mm0@1
  __m64 v56; // mm3@1
  __m64 v57; // mm4@1
  __m64 v58; // mm5@1
  __m64 v59; // mm6@1
  __m64 v60; // mm5@1
  __m64 v61; // mm6@1
  __m64 v62; // mm4@1
  __m64 v63; // mm5@1
  __m64 v64; // mm4@1
  __m64 v65; // mm1@1
  __m64 v66; // mm3@1
  __m64 v67; // mm3@1
  __m64 v68; // mm6@1
  __m64 v69; // mm3@1
  __m64 v70; // mm4@1
  __m64 v71; // mm2@1
  __m64 v72; // mm6@1
  __m64 v73; // mm1@1
  __m64 v74; // mm5@1
  __m64 v75; // mm0@1
  __m64 v76; // mm7@1
  __m64 v77; // mm5@1
  __m64 v78; // mm6@1
  __m64 v79; // mm3@1
  __m64 v80; // mm6@1
  __m64 v81; // mm0@1
  __m64 v82; // mm5@1
  __m64 v83; // mm0@1
  __m64 v84; // mm6@1
  __m64 v85; // mm2@1
  __m64 v86; // mm3@1
  __m64 v87; // mm7@1
  __m64 v88; // mm2@1
  __m64 v89; // mm5@1
  __m64 v90; // mm6@1
  __m64 v91; // mm5@1
  __m64 v92; // mm7@1
  __m64 v93; // mm4@1
  __m64 v94; // mm3@1
  __m64 v95; // mm7@1
  __m64 v96; // mm3@1
  __m64 v97; // mm0@1
  __m64 v98; // mm1@1
  __m64 v99; // mm2@1
  __m64 v100; // mm3@1
  __m64 v101; // mm0@1
  __m64 v102; // mm2@1
  __m64 v103; // mm1@1
  __m64 v104; // mm4@1
  __m64 v105; // mm3@1
  __m64 v106; // mm4@1
  __m64 v107; // mm1@1
  __m64 v108; // mm5@1
  __m64 v109; // mm0@1
  __m64 v110; // mm1@1
  __m64 v111; // mm3@1
  __m64 v112; // mm2@1
  __m64 v113; // mm5@1
  __m64 v114; // mm4@1
  __m64 v115; // mm1@1
  __m64 v116; // mm0@1
  __m64 v117; // mm3@1
  __m64 v118; // mm1@1
  __m64 v119; // mm4@1
  __m64 v120; // mm2@1
  __m64 v121; // mm0@1
  __m64 v122; // mm2@1
  __m64 v123; // mm0@1
  __m64 v124; // mm1@1
  __m64 v125; // mm2@1
  __m64 v126; // mm5@1
  __m64 v127; // mm1@1
  __m64 v128; // mm2@1
  __m64 v129; // mm3@1
  __m64 v130; // mm4@1
  __m64 v131; // mm1@1
  __m64 v132; // mm6@1
  __m64 v133; // mm0@1
  __m64 v134; // mm5@1
  __m64 v135; // mm4@1
  __m64 v136; // mm3@1
  __m64 v137; // mm1@1
  __m64 v138; // mm7@1
  __m64 v139; // mm0@1
  __m64 v140; // mm5@1
  __m64 v141; // mm2@1
  __m64 v142; // mm1@1
  __m64 v143; // mm4@1
  __m64 v144; // mm5@1
  __m64 v145; // mm4@1
  __m64 v146; // mm1@1
  __m64 v147; // mm0@1
  __m64 v148; // mm1@1
  __m64 v149; // mm2@1
  __m64 v150; // mm7@1
  __m64 v151; // mm4@1
  __m64 v152; // mm0@1
  __m64 v153; // mm6@1
  __m64 v154; // mm1@1
  __m64 v155; // mm7@1
  __m64 v156; // mm2@1
  __m64 v157; // mm3@1
  __m64 v158; // mm1@1
  __m64 v159; // mm5@1
  __m64 v160; // mm2@1
  __m64 v161; // mm4@1
  __m64 v162; // mm3@1
  __m64 v163; // mm4@1
  __m64 v164; // mm1@1
  __m64 v165; // mm7@1
  __m64 v166; // mm0@1
  __m64 v167; // mm6@1
  __m64 v168; // mm4@1
  __m64 v169; // mm3@1
  __m64 v170; // mm5@1
  __m64 v171; // mm0@1
  __m64 v172; // mm3@1
  __m64 v173; // mm6@1
  __m64 v174; // mm5@1
  __m64 v175; // mm6@1
  __m64 v176; // mm4@1
  __m64 v177; // mm5@1
  __m64 v178; // mm1@1
  __m64 v179; // mm4@1
  __m64 v180; // mm3@1
  __m64 v181; // mm3@1
  __m64 v182; // mm0@1
  __m64 v183; // mm6@1
  __m64 v184; // mm3@1
  __m64 v185; // mm4@1
  __m64 v186; // mm2@1
  __m64 v187; // mm6@1
  __m64 v188; // mm1@1
  __m64 v189; // mm5@1
  __m64 v190; // mm7@1
  __m64 v191; // mm5@1
  __m64 v192; // mm6@1
  __m64 v193; // mm0@1
  __m64 v194; // mm3@1
  __m64 v195; // mm6@1
  int v196; // ebx@1
  __m64 v197; // mm0@1
  __m64 v198; // mm5@1
  __m64 v199; // mm0@1
  __m64 v200; // mm2@1
  __m64 v201; // mm6@1
  __m64 v202; // mm3@1
  __m64 v203; // mm7@1
  __m64 v204; // mm2@1
  __m64 v205; // mm4@1
  __m64 v206; // mm5@1
  __m64 v207; // mm5@1
  __m64 v208; // mm5@1
  int v209; // ebx@1
  __m64 v210; // mm4@1
  __m64 v211; // mm3@1
  __m64 v212; // mm4@1
  __m64 v213; // mm4@1
  __m64 v214; // mm4@1
  int v215; // ecx@1
  __m64 v216; // mm0@1
  __m64 v217; // mm0@1
  __m64 v218; // mm0@1
  int v219; // ebx@1
  __m64 v220; // mm5@1
  __m64 v221; // mm3@1
  __m64 v222; // mm3@1
  __m64 v223; // mm3@1
  __m64 v224; // mm6@1
  int v225; // ebx@1
  __m64 v226; // mm4@1
  __m64 v227; // mm5@1
  __m64 v228; // mm7@1
  __m64 v229; // mm2@1
  __m64 v230; // mm3@1
  __m64 v231; // mm7@1
  __m64 v232; // mm3@1
  __m64 v233; // mm1@1
  __m64 v234; // mm6@1
  __m64 v235; // mm6@1
  __m64 v236; // mm6@1
  int v237; // ebx@1
  __m64 v238; // mm2@1
  __m64 v239; // mm2@1
  __m64 v240; // mm2@1
  int v241; // ecx@1
  __m64 v242; // mm5@1
  __m64 v243; // mm5@1
  __m64 v244; // mm5@1
  int v245; // ebx@1
  __m64 v246; // mm1@1
  __m64 v247; // mm1@1
  __m64 v248; // mm1@1
  int v249; // ebx@1
  __m64 v250; // mm0@1
  __m64 v251; // mm1@1
  __m64 v252; // mm2@1
  __m64 v253; // mm3@1
  __m64 v254; // mm0@1
  __m64 v255; // mm2@1
  __m64 v256; // mm4@1
  __m64 v257; // mm1@1
  __m64 v258; // mm5@1
  __m64 v259; // mm3@1
  __m64 v260; // mm4@1
  __m64 v261; // mm1@1
  __m64 v262; // mm0@1
  __m64 v263; // mm1@1
  __m64 v264; // mm3@1
  __m64 v265; // mm0@1
  __m64 v266; // mm0@1
  __m64 v267; // mm0@1
  int v268; // ebx@1
  __m64 v269; // mm2@1
  __m64 v270; // mm5@1
  __m64 v271; // mm4@1
  __m64 v272; // mm1@1
  __m64 v273; // mm1@1
  __m64 v274; // mm1@1
  int v275; // ecx@1
  __m64 v276; // mm0@1
  __m64 v277; // mm1@1
  __m64 v278; // mm3@1
  __m64 v279; // mm1@1
  __m64 v280; // mm4@1
  __m64 v281; // mm2@1
  __m64 v282; // mm2@1
  __m64 v283; // mm2@1
  int v284; // ebx@1
  __m64 v285; // mm2@1
  __m64 v286; // mm5@1
  __m64 v287; // mm5@1
  __m64 v288; // mm5@1
  __m64 v289; // mm0@1
  __m64 v290; // mm2@1
  __m64 v291; // mm4@1
  __m64 v292; // mm5@1
  int v293; // ebx@1
  __m64 v294; // mm3@1
  __m64 v295; // mm3@1
  __m64 v296; // mm3@1
  int v297; // ebx@1
  __m64 v298; // mm4@1
  __m64 v299; // mm4@1
  __m64 v300; // mm4@1
  int v301; // ecx@1
  __m64 v302; // mm1@1
  __m64 v303; // mm1@1
  __m64 v304; // mm1@1
  int v305; // ebx@1
  __m64 v306; // mm5@1
  __m64 v307; // mm5@1
  __m64 v308; // mm5@1
  char result; // al@1

  v6 = _m_pmullw(*(__m64 *)(a1 + 96), *(__m64 *)(a3 + 96));
  v7 = _m_pmullw(*(__m64 *)(a1 + 32), *(__m64 *)(a3 + 32));
  v8 = _m_pmullw(*(__m64 *)a1, *(__m64 *)a3);
  v9 = v7;
  v10 = _m_pmullw(*(__m64 *)(a1 + 64), *(__m64 *)(a3 + 64));
  v11 = _m_psubw(v7, v6);
  v12 = _m_paddw(v9, v6);
  v13 = v8;
  v14 = _m_paddw(v8, v10);
  v15 = _m_psubw(v13, v10);
  v16 = _m_psubw(
          _m_packssdw(
            _m_psrad(_m_pmaddwd(_m_punpcklwd(v11, (__m64)qword_100777B8), (__m64)qword_10077798), 8u),
            _m_psrad(_m_pmaddwd(_m_punpckhwd(v11, (__m64)qword_100777B8), (__m64)qword_10077798), 8u)),
          v12);
  *(_QWORD *)(a2 + 32) = _m_paddw(v14, v12);
  *(_QWORD *)(a2 + 96) = _m_paddw(v16, v15);
  v17 = _m_psubw(v14, v12);
  *(_QWORD *)a2 = _m_psubw(v15, v16);
  v18 = _m_pmullw(*(__m64 *)(a1 + 80), *(__m64 *)(a3 + 80));
  v19 = _m_pmullw(*(__m64 *)(a1 + 48), *(__m64 *)(a3 + 48));
  v20 = _m_pmullw(*(__m64 *)(a1 + 16), *(__m64 *)(a3 + 16));
  v21 = _m_pmullw(*(__m64 *)(a1 + 112), *(__m64 *)(a3 + 112));
  v22 = _m_paddw(v18, v19);
  v23 = _m_psubw(v18, v19);
  v24 = v20;
  v25 = _m_paddw(v20, v21);
  v26 = _m_psubw(v24, v21);
  v27 = _m_paddw(v23, v26);
  v28 = v25;
  v29 = _m_paddw(v25, v22);
  v30 = _m_psubw(v28, v22);
  v31 = _m_packssdw(
          _m_psrad(_m_pmaddwd(_m_punpcklwd(v27, (__m64)qword_100777B8), (__m64)qword_100777B0), 8u),
          _m_psrad(_m_pmaddwd(_m_punpckhwd(v27, (__m64)qword_100777B8), (__m64)qword_100777B0), 8u));
  v32 = _m_psubw(
          _m_packssdw(
            _m_psrad(_m_pmaddwd(_m_punpcklwd(v26, (__m64)qword_100777B8), (__m64)qword_100777A8), 8u),
            _m_psrad(_m_pmaddwd(_m_punpckhwd(v26, (__m64)qword_100777B8), (__m64)qword_100777A8), 8u)),
          v31);
  v33 = *(__m64 *)(a2 + 32);
  v34 = _m_psubw(
          _m_paddw(
            v31,
            _m_packssdw(
              _m_psrad(_m_pmaddwd(_m_punpcklwd(v23, (__m64)qword_100777B8), (__m64)qword_100777A0), 8u),
              _m_psrad(_m_pmaddwd(_m_punpckhwd(v23, (__m64)qword_100777B8), (__m64)qword_100777A0), 8u))),
          v29);
  v35 = *(__m64 *)(a2 + 96);
  v36 = _m_psubw(
          _m_packssdw(
            _m_psrad(_m_pmaddwd(_m_punpcklwd(v30, (__m64)qword_100777B8), (__m64)qword_10077798), 8u),
            _m_psrad(_m_pmaddwd(_m_punpckhwd(v30, (__m64)qword_100777B8), (__m64)qword_10077798), 8u)),
          v34);
  v37 = _m_paddw(v32, v36);
  *(_QWORD *)(a2 + 64) = _m_paddw(v17, v37);
  *(_QWORD *)(a2 + 48) = _m_psubw(v17, v37);
  v38 = *(__m64 *)a2;
  *(_QWORD *)a2 = _m_paddw(v33, v29);
  *(_QWORD *)(a2 + 112) = _m_psubw(v33, v29);
  *(_QWORD *)(a2 + 16) = _m_paddw(v35, v34);
  *(_QWORD *)(a2 + 96) = _m_psubw(v35, v34);
  v39 = _m_pmullw(*(__m64 *)(a1 + 40), *(__m64 *)(a3 + 40));
  *(_QWORD *)(a2 + 32) = _m_paddw(v38, v36);
  *(_QWORD *)(a2 + 80) = _m_psubw(v38, v36);
  v40 = v39;
  v41 = _m_pmullw(*(__m64 *)(a1 + 104), *(__m64 *)(a3 + 104));
  v42 = _m_pmullw(*(__m64 *)(a1 + 8), *(__m64 *)(a3 + 8));
  v43 = _m_psubw(v39, v41);
  v44 = _m_pmullw(*(__m64 *)(a1 + 72), *(__m64 *)(a3 + 72));
  v45 = _m_paddw(v40, v41);
  v46 = _m_pmullw(*(__m64 *)(a1 + 88), *(__m64 *)(a3 + 88));
  v47 = v42;
  v48 = _m_paddw(v42, v44);
  v49 = _m_psubw(v47, v44);
  v50 = _m_psubw(
          _m_packssdw(
            _m_psrad(_m_pmaddwd(_m_punpcklwd(v43, (__m64)qword_100777B8), (__m64)qword_10077798), 8u),
            _m_psrad(_m_pmaddwd(_m_punpckhwd(v43, (__m64)qword_100777B8), (__m64)qword_10077798), 8u)),
          v45);
  v51 = *(__m64 *)(a1 + 56);
  *(_QWORD *)(a2 + 40) = _m_paddw(v48, v45);
  v52 = _m_pmullw(v51, *(__m64 *)(a3 + 56));
  v53 = _m_psubw(v48, v45);
  *(_QWORD *)(a2 + 104) = _m_paddw(v49, v50);
  v54 = v46;
  *(_QWORD *)(a2 + 72) = _m_psubw(v49, v50);
  v55 = _m_paddw(v46, v52);
  v56 = _m_psubw(v54, v52);
  v57 = _m_pmullw(*(__m64 *)(a1 + 120), *(__m64 *)(a3 + 120));
  v58 = _m_pmullw(*(__m64 *)(a1 + 24), *(__m64 *)(a3 + 24));
  v59 = v58;
  v60 = _m_paddw(v58, v57);
  v61 = _m_psubw(v59, v57);
  v62 = v60;
  v63 = _m_paddw(v60, v55);
  v64 = _m_psubw(v62, v55);
  v65 = _m_packssdw(
          _m_psrad(_m_pmaddwd(_m_punpcklwd(v56, (__m64)qword_100777B8), (__m64)qword_100777A0), 8u),
          _m_psrad(_m_pmaddwd(_m_punpckhwd(v56, (__m64)qword_100777B8), (__m64)qword_100777A0), 8u));
  v66 = _m_paddw(v56, v61);
  v67 = _m_packssdw(
          _m_psrad(_m_pmaddwd(_m_punpcklwd(v66, (__m64)qword_100777B8), (__m64)qword_100777B0), 8u),
          _m_psrad(_m_pmaddwd(_m_punpckhwd(v66, (__m64)qword_100777B8), (__m64)qword_100777B0), 8u));
  v68 = _m_psubw(
          _m_packssdw(
            _m_psrad(_m_pmaddwd(_m_punpcklwd(v61, (__m64)qword_100777B8), (__m64)qword_100777A8), 8u),
            _m_psrad(_m_pmaddwd(_m_punpckhwd(v61, (__m64)qword_100777B8), (__m64)qword_100777A8), 8u)),
          v67);
  v69 = _m_psubw(_m_paddw(v67, v65), v63);
  v70 = _m_psubw(
          _m_packssdw(
            _m_psrad(_m_pmaddwd(_m_punpcklwd(v64, (__m64)qword_100777B8), (__m64)qword_10077798), 8u),
            _m_psrad(_m_pmaddwd(_m_punpckhwd(v64, (__m64)qword_100777B8), (__m64)qword_10077798), 8u)),
          v69);
  v71 = *(__m64 *)(a2 + 104);
  v72 = _m_paddw(v68, v70);
  v73 = _m_psubw(*(__m64 *)(a2 + 40), v63);
  *(_QWORD *)(a2 + 8) = _m_paddw(*(__m64 *)(a2 + 40), v63);
  v74 = v53;
  v75 = *(__m64 *)(a2 + 72);
  v76 = _m_psubw(v53, v72);
  v77 = _m_paddw(v74, v72);
  v78 = v69;
  *(_QWORD *)(a2 + 56) = v76;
  v79 = _m_psubw(v71, v69);
  *(_QWORD *)(a2 + 24) = _m_paddw(v71, v78);
  v80 = _m_psubw(v75, v70);
  *(_QWORD *)(a2 + 40) = _m_paddw(v75, v70);
  v81 = v77;
  v82 = _m_punpcklwd(v77, v80);
  v83 = _m_punpckhwd(v81, v80);
  v84 = *(__m64 *)a2;
  v85 = v79;
  v86 = _m_punpcklwd(v79, v73);
  v87 = *(__m64 *)(a2 + 16);
  v88 = _m_punpckhwd(v85, v73);
  *(_QWORD *)(a2 + 72) = _m_punpckldq(v82, v86);
  *(_QWORD *)(a2 + 88) = _m_punpckhdq(v82, v86);
  *(_QWORD *)(a2 + 104) = _m_punpckldq(v83, v88);
  v89 = v84;
  *(_QWORD *)(a2 + 120) = _m_punpckhdq(v83, v88);
  v90 = _m_punpcklwd(v84, v87);
  v91 = _m_punpckhwd(v89, v87);
  v92 = *(__m64 *)(a2 + 32);
  v93 = *(__m64 *)(a2 + 48);
  v94 = v92;
  v95 = _m_punpcklwd(v92, v93);
  v96 = _m_punpckhwd(v94, v93);
  *(_QWORD *)a2 = _m_punpckldq(v90, v95);
  *(_QWORD *)(a2 + 16) = _m_punpckhdq(v90, v95);
  *(_QWORD *)(a2 + 32) = _m_punpckldq(v91, v96);
  *(_QWORD *)(a2 + 48) = _m_punpckhdq(v91, v96);
  v97 = *(__m64 *)(a2 + 8);
  v98 = *(__m64 *)(a2 + 24);
  v99 = v97;
  v100 = *(__m64 *)(a2 + 40);
  v101 = _m_punpcklwd(v97, v98);
  v102 = _m_punpckhwd(v99, v98);
  v103 = *(__m64 *)(a2 + 56);
  v104 = v100;
  v105 = _m_punpcklwd(v100, v103);
  v106 = _m_punpckhwd(v104, v103);
  v107 = v101;
  v108 = v102;
  v109 = _m_punpckldq(v101, v105);
  v110 = _m_punpckhdq(v107, v105);
  v111 = *(__m64 *)(a2 + 64);
  *(_QWORD *)(a2 + 64) = v109;
  v112 = _m_punpckldq(v102, v106);
  v113 = _m_punpckhdq(v108, v106);
  v114 = *(__m64 *)(a2 + 80);
  *(_QWORD *)(a2 + 80) = v110;
  v115 = v111;
  v116 = *(__m64 *)(a2 + 96);
  v117 = _m_punpcklwd(v111, v114);
  v118 = _m_punpckhwd(v115, v114);
  v119 = *(__m64 *)(a2 + 112);
  *(_QWORD *)(a2 + 96) = v112;
  v120 = v116;
  *(_QWORD *)(a2 + 112) = v113;
  v121 = _m_punpcklwd(v116, v119);
  v122 = _m_punpckhwd(v120, v119);
  *(_QWORD *)(a2 + 8) = _m_punpckldq(v117, v121);
  *(_QWORD *)(a2 + 24) = _m_punpckhdq(v117, v121);
  *(_QWORD *)(a2 + 40) = _m_punpckldq(v118, v122);
  *(_QWORD *)(a2 + 56) = _m_punpckhdq(v118, v122);
  v123 = *(__m64 *)(a2 + 96);
  v124 = *(__m64 *)(a2 + 32);
  v125 = v124;
  v126 = *(__m64 *)(a2 + 64);
  v127 = _m_psubw(v124, v123);
  v128 = _m_paddw(v125, v123);
  v129 = _m_paddw(*(__m64 *)a2, v126);
  v130 = _m_psubw(*(__m64 *)a2, v126);
  v131 = _m_psubw(
           _m_packssdw(
             _m_psrad(_m_pmaddwd(_m_punpcklwd(v127, (__m64)qword_100777B8), (__m64)qword_10077798), 8u),
             _m_psrad(_m_pmaddwd(_m_punpckhwd(v127, (__m64)qword_100777B8), (__m64)qword_10077798), 8u)),
           v128);
  *(_QWORD *)(a2 + 32) = _m_paddw(v129, v128);
  *(_QWORD *)(a2 + 96) = _m_paddw(v131, v130);
  v132 = _m_psubw(v129, v128);
  *(_QWORD *)a2 = _m_psubw(v130, v131);
  v133 = *(__m64 *)(a2 + 48);
  v134 = *(__m64 *)(a2 + 16);
  v135 = *(__m64 *)(a2 + 112);
  v136 = _m_paddw(*(__m64 *)(a2 + 80), v133);
  v137 = _m_psubw(*(__m64 *)(a2 + 80), v133);
  v138 = _m_packssdw(
           _m_psrad(_m_pmaddwd(_m_punpcklwd(v137, (__m64)qword_100777B8), (__m64)qword_100777A0), 8u),
           _m_psrad(_m_pmaddwd(_m_punpckhwd(v137, (__m64)qword_100777B8), (__m64)qword_100777A0), 8u));
  v139 = v134;
  v140 = _m_paddw(v134, v135);
  v141 = _m_psubw(v139, v135);
  v142 = _m_paddw(v137, v141);
  v143 = v140;
  v144 = _m_paddw(v140, v136);
  v145 = _m_psubw(v143, v136);
  v146 = _m_packssdw(
           _m_psrad(_m_pmaddwd(_m_punpcklwd(v142, (__m64)qword_100777B8), (__m64)qword_100777B0), 8u),
           _m_psrad(_m_pmaddwd(_m_punpckhwd(v142, (__m64)qword_100777B8), (__m64)qword_100777B0), 8u));
  v147 = _m_psubw(
           _m_packssdw(
             _m_psrad(_m_pmaddwd(_m_punpcklwd(v141, (__m64)qword_100777B8), (__m64)qword_100777A8), 8u),
             _m_psrad(_m_pmaddwd(_m_punpckhwd(v141, (__m64)qword_100777B8), (__m64)qword_100777A8), 8u)),
           v146);
  v148 = _m_psubw(_m_paddw(v146, v138), v144);
  v149 = *(__m64 *)(a2 + 96);
  v150 = *(__m64 *)(a2 + 32);
  v151 = _m_psubw(
           _m_packssdw(
             _m_psrad(_m_pmaddwd(_m_punpcklwd(v145, (__m64)qword_100777B8), (__m64)qword_10077798), 8u),
             _m_psrad(_m_pmaddwd(_m_punpckhwd(v145, (__m64)qword_100777B8), (__m64)qword_10077798), 8u)),
           v148);
  v152 = _m_paddw(v147, v151);
  *(_QWORD *)(a2 + 64) = _m_paddw(v132, v152);
  *(_QWORD *)(a2 + 48) = _m_psubw(v132, v152);
  v153 = *(__m64 *)a2;
  *(_QWORD *)a2 = _m_paddw(v150, v144);
  *(_QWORD *)(a2 + 112) = _m_psubw(v150, v144);
  *(_QWORD *)(a2 + 16) = _m_paddw(v149, v148);
  *(_QWORD *)(a2 + 96) = _m_psubw(v149, v148);
  v154 = *(__m64 *)(a2 + 40);
  *(_QWORD *)(a2 + 32) = _m_paddw(v153, v151);
  *(_QWORD *)(a2 + 80) = _m_psubw(v153, v151);
  v155 = *(__m64 *)(a2 + 104);
  v156 = v154;
  v157 = *(__m64 *)(a2 + 8);
  v158 = _m_psubw(v154, v155);
  v159 = *(__m64 *)(a2 + 72);
  v160 = _m_paddw(v156, v155);
  v161 = v157;
  v162 = _m_paddw(v157, v159);
  v163 = _m_psubw(v161, v159);
  v164 = _m_psubw(
           _m_packssdw(
             _m_psrad(_m_pmaddwd(_m_punpcklwd(v158, (__m64)qword_100777B8), (__m64)qword_10077798), 8u),
             _m_psrad(_m_pmaddwd(_m_punpckhwd(v158, (__m64)qword_100777B8), (__m64)qword_10077798), 8u)),
           v160);
  *(_QWORD *)(a2 + 40) = _m_paddw(v162, v160);
  *(_QWORD *)(a2 + 104) = _m_paddw(v163, v164);
  v165 = _m_psubw(v162, v160);
  *(_QWORD *)(a2 + 72) = _m_psubw(v163, v164);
  v166 = *(__m64 *)(a2 + 88);
  v167 = *(__m64 *)(a2 + 56);
  v168 = *(__m64 *)(a2 + 120);
  v169 = v166;
  v170 = *(__m64 *)(a2 + 24);
  v171 = _m_paddw(v166, v167);
  v172 = _m_psubw(v169, v167);
  v173 = v170;
  v174 = _m_paddw(v170, v168);
  v175 = _m_psubw(v173, v168);
  v176 = v174;
  v177 = _m_paddw(v174, v171);
  v178 = _m_packssdw(
           _m_psrad(_m_pmaddwd(_m_punpcklwd(v172, (__m64)qword_100777B8), (__m64)qword_100777A0), 8u),
           _m_psrad(_m_pmaddwd(_m_punpckhwd(v172, (__m64)qword_100777B8), (__m64)qword_100777A0), 8u));
  v179 = _m_psubw(v176, v171);
  v180 = _m_paddw(v172, v175);
  v181 = _m_packssdw(
           _m_psrad(_m_pmaddwd(_m_punpcklwd(v180, (__m64)qword_100777B8), (__m64)qword_100777B0), 8u),
           _m_psrad(_m_pmaddwd(_m_punpckhwd(v180, (__m64)qword_100777B8), (__m64)qword_100777B0), 8u));
  v182 = *(__m64 *)(a2 + 40);
  v183 = _m_psubw(
           _m_packssdw(
             _m_psrad(_m_pmaddwd(_m_punpcklwd(v175, (__m64)qword_100777B8), (__m64)qword_100777A8), 8u),
             _m_psrad(_m_pmaddwd(_m_punpckhwd(v175, (__m64)qword_100777B8), (__m64)qword_100777A8), 8u)),
           v181);
  v184 = _m_psubw(_m_paddw(v181, v178), v177);
  v185 = _m_psubw(
           _m_packssdw(
             _m_psrad(_m_pmaddwd(_m_punpcklwd(v179, (__m64)qword_100777B8), (__m64)qword_10077798), 8u),
             _m_psrad(_m_pmaddwd(_m_punpckhwd(v179, (__m64)qword_100777B8), (__m64)qword_10077798), 8u)),
           v184);
  v186 = *(__m64 *)(a2 + 104);
  v187 = _m_paddw(v183, v185);
  *(_QWORD *)(a2 + 8) = _m_paddw(v182, v177);
  v188 = _m_psubw(v182, v177);
  v189 = v165;
  v190 = _m_psubw(v165, v187);
  v191 = _m_paddw(v189, v187);
  v192 = v184;
  v193 = *(__m64 *)(a2 + 72);
  *(_QWORD *)(a2 + 56) = v190;
  v194 = _m_psubw(v186, v184);
  *(_QWORD *)(a2 + 24) = _m_paddw(v186, v192);
  v195 = _m_psubw(v193, v185);
  *(_QWORD *)(a2 + 40) = _m_paddw(v193, v185);
  v196 = a5 + *(_DWORD *)(a4 + 16);
  v197 = v191;
  v198 = _m_punpcklwd(v191, v195);
  v199 = _m_punpckhwd(v197, v195);
  v200 = v194;
  v201 = *(__m64 *)a2;
  v202 = _m_punpcklwd(v194, v188);
  v203 = *(__m64 *)(a2 + 16);
  v204 = _m_punpckhwd(v200, v188);
  v205 = v198;
  v206 = _m_psrlw(_m_punpckldq(v198, v202), 5u);
  *(_BYTE *)(v196 + 4) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v206) & 0x3FF));
  v207 = _m_psrlq(v206, 0x10u);
  *(_BYTE *)(v196 + 5) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v207) & 0x3FF));
  v208 = _m_psrlq(v207, 0x10u);
  *(_BYTE *)(v196 + 6) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v208) & 0x3FF));
  *(_BYTE *)(v196 + 7) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v208, 0x10u)) & 0x3FF));
  v209 = a5 + *(_DWORD *)(a4 + 20);
  v210 = _m_punpckhdq(v205, v202);
  v211 = v199;
  v212 = _m_psrlw(v210, 5u);
  *(_BYTE *)(v209 + 4) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v212) & 0x3FF));
  v213 = _m_psrlq(v212, 0x10u);
  *(_BYTE *)(v209 + 5) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v213) & 0x3FF));
  v214 = _m_psrlq(v213, 0x10u);
  *(_BYTE *)(v209 + 6) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v214) & 0x3FF));
  *(_BYTE *)(v209 + 7) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v214, 0x10u)) & 0x3FF));
  v215 = a5 + *(_DWORD *)(a4 + 24);
  v216 = _m_psrlw(_m_punpckldq(v199, v204), 5u);
  *(_BYTE *)(v215 + 4) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v216) & 0x3FF));
  v217 = _m_psrlq(v216, 0x10u);
  *(_BYTE *)(v215 + 5) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v217) & 0x3FF));
  v218 = _m_psrlq(v217, 0x10u);
  *(_BYTE *)(v215 + 6) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v218) & 0x3FF));
  *(_BYTE *)(v215 + 7) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v218, 0x10u)) & 0x3FF));
  v219 = a5 + *(_DWORD *)(a4 + 28);
  v220 = v201;
  v221 = _m_psrlw(_m_punpckhdq(v211, v204), 5u);
  *(_BYTE *)(v219 + 4) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v221) & 0x3FF));
  v222 = _m_psrlq(v221, 0x10u);
  *(_BYTE *)(v219 + 5) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v222) & 0x3FF));
  v223 = _m_psrlq(v222, 0x10u);
  *(_BYTE *)(v219 + 6) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v223) & 0x3FF));
  *(_BYTE *)(v219 + 7) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v223, 0x10u)) & 0x3FF));
  v224 = _m_punpcklwd(v201, v203);
  v225 = a5 + *(_DWORD *)a4;
  v226 = *(__m64 *)(a2 + 48);
  v227 = _m_punpckhwd(v220, v203);
  v228 = *(__m64 *)(a2 + 32);
  v229 = v224;
  v230 = v228;
  v231 = _m_punpcklwd(v228, v226);
  v232 = _m_punpckhwd(v230, v226);
  v233 = v227;
  v234 = _m_psrlw(_m_punpckldq(v224, v231), 5u);
  *(_BYTE *)v225 = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v234) & 0x3FF));
  v235 = _m_psrlq(v234, 0x10u);
  *(_BYTE *)(v225 + 1) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v235) & 0x3FF));
  v236 = _m_psrlq(v235, 0x10u);
  *(_BYTE *)(v225 + 2) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v236) & 0x3FF));
  *(_BYTE *)(v225 + 3) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v236, 0x10u)) & 0x3FF));
  v237 = a5 + *(_DWORD *)(a4 + 4);
  v238 = _m_psrlw(_m_punpckhdq(v229, v231), 5u);
  *(_BYTE *)v237 = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v238) & 0x3FF));
  v239 = _m_psrlq(v238, 0x10u);
  *(_BYTE *)(v237 + 1) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v239) & 0x3FF));
  v240 = _m_psrlq(v239, 0x10u);
  *(_BYTE *)(v237 + 2) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v240) & 0x3FF));
  *(_BYTE *)(v237 + 3) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v240, 0x10u)) & 0x3FF));
  v241 = a5 + *(_DWORD *)(a4 + 8);
  v242 = _m_psrlw(_m_punpckldq(v227, v232), 5u);
  *(_BYTE *)v241 = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v242) & 0x3FF));
  v243 = _m_psrlq(v242, 0x10u);
  *(_BYTE *)(v241 + 1) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v243) & 0x3FF));
  v244 = _m_psrlq(v243, 0x10u);
  *(_BYTE *)(v241 + 2) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v244) & 0x3FF));
  *(_BYTE *)(v241 + 3) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v244, 0x10u)) & 0x3FF));
  v245 = a5 + *(_DWORD *)(a4 + 12);
  v246 = _m_psrlw(_m_punpckhdq(v233, v232), 5u);
  *(_BYTE *)v245 = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v246) & 0x3FF));
  v247 = _m_psrlq(v246, 0x10u);
  *(_BYTE *)(v245 + 1) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v247) & 0x3FF));
  v248 = _m_psrlq(v247, 0x10u);
  *(_BYTE *)(v245 + 2) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v248) & 0x3FF));
  *(_BYTE *)(v245 + 3) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v248, 0x10u)) & 0x3FF));
  v249 = a5 + *(_DWORD *)(a4 + 16);
  v250 = *(__m64 *)(a2 + 8);
  v251 = *(__m64 *)(a2 + 24);
  v252 = v250;
  v253 = *(__m64 *)(a2 + 40);
  v254 = _m_punpcklwd(v250, v251);
  v255 = _m_punpckhwd(v252, v251);
  v256 = v253;
  v257 = *(__m64 *)(a2 + 56);
  v258 = v255;
  v259 = _m_punpcklwd(v253, v257);
  v260 = _m_punpckhwd(v256, v257);
  v261 = v254;
  v262 = _m_punpckldq(v254, v259);
  v263 = _m_punpckhdq(v261, v259);
  v264 = *(__m64 *)(a2 + 64);
  v265 = _m_psrlw(v262, 5u);
  *(_BYTE *)v249 = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v265) & 0x3FF));
  v266 = _m_psrlq(v265, 0x10u);
  *(_BYTE *)(v249 + 1) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v266) & 0x3FF));
  v267 = _m_psrlq(v266, 0x10u);
  *(_BYTE *)(v249 + 2) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v267) & 0x3FF));
  *(_BYTE *)(v249 + 3) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v267, 0x10u)) & 0x3FF));
  v268 = a5 + *(_DWORD *)(a4 + 20);
  v269 = _m_punpckldq(v255, v260);
  v270 = _m_punpckhdq(v258, v260);
  v271 = *(__m64 *)(a2 + 80);
  v272 = _m_psrlw(v263, 5u);
  *(_BYTE *)v268 = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v272) & 0x3FF));
  v273 = _m_psrlq(v272, 0x10u);
  *(_BYTE *)(v268 + 1) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v273) & 0x3FF));
  v274 = _m_psrlq(v273, 0x10u);
  *(_BYTE *)(v268 + 2) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v274) & 0x3FF));
  *(_BYTE *)(v268 + 3) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v274, 0x10u)) & 0x3FF));
  v275 = a5 + *(_DWORD *)(a4 + 24);
  v276 = *(__m64 *)(a2 + 96);
  v277 = v264;
  v278 = _m_punpcklwd(v264, v271);
  v279 = _m_punpckhwd(v277, v271);
  v280 = *(__m64 *)(a2 + 112);
  v281 = _m_psrlw(v269, 5u);
  *(_BYTE *)v275 = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v281) & 0x3FF));
  v282 = _m_psrlq(v281, 0x10u);
  *(_BYTE *)(v275 + 1) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v282) & 0x3FF));
  v283 = _m_psrlq(v282, 0x10u);
  *(_BYTE *)(v275 + 2) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v283) & 0x3FF));
  *(_BYTE *)(v275 + 3) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v283, 0x10u)) & 0x3FF));
  v284 = a5 + *(_DWORD *)(a4 + 28);
  v285 = v276;
  v286 = _m_psrlw(v270, 5u);
  *(_BYTE *)v284 = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v286) & 0x3FF));
  v287 = _m_psrlq(v286, 0x10u);
  *(_BYTE *)(v284 + 1) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v287) & 0x3FF));
  v288 = _m_psrlq(v287, 0x10u);
  *(_BYTE *)(v284 + 2) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v288) & 0x3FF));
  *(_BYTE *)(v284 + 3) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v288, 0x10u)) & 0x3FF));
  v289 = _m_punpcklwd(v276, v280);
  v290 = _m_punpckhwd(v285, v280);
  v291 = v278;
  v292 = v279;
  v293 = a5 + *(_DWORD *)a4;
  v294 = _m_psrlw(_m_punpckldq(v278, v289), 5u);
  *(_BYTE *)(v293 + 4) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v294) & 0x3FF));
  v295 = _m_psrlq(v294, 0x10u);
  *(_BYTE *)(v293 + 5) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v295) & 0x3FF));
  v296 = _m_psrlq(v295, 0x10u);
  *(_BYTE *)(v293 + 6) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v296) & 0x3FF));
  *(_BYTE *)(v293 + 7) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v296, 0x10u)) & 0x3FF));
  v297 = a5 + *(_DWORD *)(a4 + 4);
  v298 = _m_psrlw(_m_punpckhdq(v291, v289), 5u);
  *(_BYTE *)(v297 + 4) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v298) & 0x3FF));
  v299 = _m_psrlq(v298, 0x10u);
  *(_BYTE *)(v297 + 5) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v299) & 0x3FF));
  v300 = _m_psrlq(v299, 0x10u);
  *(_BYTE *)(v297 + 6) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v300) & 0x3FF));
  *(_BYTE *)(v297 + 7) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v300, 0x10u)) & 0x3FF));
  v301 = a5 + *(_DWORD *)(a4 + 8);
  v302 = _m_psrlw(_m_punpckldq(v279, v290), 5u);
  *(_BYTE *)(v301 + 4) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v302) & 0x3FF));
  v303 = _m_psrlq(v302, 0x10u);
  *(_BYTE *)(v301 + 5) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v303) & 0x3FF));
  v304 = _m_psrlq(v303, 0x10u);
  *(_BYTE *)(v301 + 6) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v304) & 0x3FF));
  *(_BYTE *)(v301 + 7) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v304, 0x10u)) & 0x3FF));
  v305 = a5 + *(_DWORD *)(a4 + 12);
  v306 = _m_psrlw(_m_punpckhdq(v292, v290), 5u);
  *(_BYTE *)(v305 + 4) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v306) & 0x3FF));
  v307 = _m_psrlq(v306, 0x10u);
  *(_BYTE *)(v305 + 5) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v307) & 0x3FF));
  v308 = _m_psrlq(v307, 0x10u);
  *(_BYTE *)(v305 + 6) = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(v308) & 0x3FF));
  result = *(_BYTE *)(a6 + (_mm_cvtsi64_si32(_m_psrlq(v308, 0x10u)) & 0x3FF));
  *(_BYTE *)(v305 + 7) = result;
  _m_femms();
  return result;
}
// 10077798: using guessed type __int64 qword_10077798;
// 100777A0: using guessed type __int64 qword_100777A0;
// 100777A8: using guessed type __int64 qword_100777A8;
// 100777B0: using guessed type __int64 qword_100777B0;
// 100777B8: using guessed type __int64 qword_100777B8;

//----- (1006BAF1) --------------------------------------------------------
signed int __cdecl sub_1006BAF1(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  int v7; // edi@1
  unsigned int v8; // ecx@1
  unsigned int v9; // ebx@1
  unsigned int j; // edx@1
  unsigned int v11; // eax@1
  int v12; // eax@2
  int v13; // eax@7
  bool i; // zf@7
  char v15; // cl@10
  unsigned int v16; // ebx@12
  int v17; // edx@12
  int v18; // eax@13
  int v19; // eax@15
  int v20; // ecx@17
  int v21; // ebx@18
  int v22; // ebx@19
  int v23; // ecx@22
  int v24; // eax@22
  int v25; // ecx@23
  int v26; // eax@23
  int v27; // ecx@24
  int v28; // ebx@26
  char v29; // cl@26
  int v30; // ecx@31
  int v31; // ecx@34
  unsigned int v32; // eax@40
  int v33; // ecx@40
  int v34; // eax@47
  int v35; // ecx@47
  int v37; // [sp+Ch] [bp-18h]@4
  int v38; // [sp+10h] [bp-14h]@4
  unsigned int v39; // [sp+14h] [bp-10h]@4
  int v40; // [sp+18h] [bp-Ch]@12
  int v41; // [sp+1Ch] [bp-8h]@1
  unsigned int v42; // [sp+20h] [bp-4h]@1
  unsigned int v43; // [sp+2Ch] [bp+8h]@12
  unsigned int v44; // [sp+2Ch] [bp+8h]@15
  unsigned int v45; // [sp+2Ch] [bp+8h]@22
  int v46; // [sp+30h] [bp+Ch]@7
  int v47; // [sp+30h] [bp+Ch]@12
  int v48; // [sp+30h] [bp+Ch]@22
  int v49; // [sp+30h] [bp+Ch]@24
  signed int v50; // [sp+30h] [bp+Ch]@36
  int v51; // [sp+40h] [bp+1Ch]@1

  v6 = a6;
  v41 = *(_DWORD *)a6;
  v7 = a5;
  v8 = *(_DWORD *)(a5 + 52);
  v9 = *(_DWORD *)(a5 + 32);
  j = *(_DWORD *)(a5 + 28);
  v42 = *(_DWORD *)(a6 + 4);
  v11 = *(_DWORD *)(a5 + 48);
  v51 = *(_DWORD *)(a5 + 52);
  if ( v8 >= v11 )
    v12 = *(_DWORD *)(a5 + 44) - v8;
  else
    v12 = v11 - v8 - 1;
  v39 = v12;
  v38 = dword_10083DC0[a1];
  v37 = dword_10083DC0[a2];
LABEL_6:
  while ( j < 0x14 )
  {
    --v42;
    v9 |= *(_BYTE *)v41++ << j;
    j += 8;
  }
  v13 = a3 + 8 * (v9 & v38);
  v46 = *(_BYTE *)v13;
  for ( i = v46 == 0; ; i = v46 == 0 )
  {
    v15 = *(_BYTE *)(v13 + 1);
    if ( i )
    {
      v9 >>= v15;
      j -= *(_BYTE *)(v13 + 1);
      v30 = v51++;
      --v39;
      *(_BYTE *)v30 = *(_BYTE *)(v13 + 4);
LABEL_32:
      if ( v39 < 0x102 || v42 < 0xA )
      {
        v31 = *(_DWORD *)(v6 + 4) - v42;
        if ( j >> 3 < v31 )
          v31 = j >> 3;
        v50 = 0;
        goto LABEL_47;
      }
      goto LABEL_6;
    }
    v9 >>= v15;
    j -= *(_BYTE *)(v13 + 1);
    if ( v46 & 0x10 )
    {
      v47 = v46 & 0xF;
      v40 = *(_DWORD *)(v13 + 4) + (v9 & dword_10083DC0[v47]);
      v16 = v9 >> v47;
      v17 = j - v47;
      v43 = v16;
      if ( (unsigned int)v17 < 0xF )
      {
        do
        {
          --v42;
          v18 = *(_BYTE *)v41 << v17;
          v17 += 8;
          v16 |= v18;
          ++v41;
        }
        while ( (unsigned int)v17 < 0xF );
        v43 = v16;
      }
      v19 = a4 + 8 * (v16 & v37);
      v44 = v43 >> *(_BYTE *)(v19 + 1);
      for ( j = v17 - *(_BYTE *)(v19 + 1); ; j -= v20 )
      {
        v21 = *(_BYTE *)v19;
        if ( v21 & 0x10 )
        {
          v22 = v21 & 0xF;
          while ( j < v22 )
          {
            --v42;
            v44 |= *(_BYTE *)v41++ << j;
            j += 8;
          }
          v7 = a5;
          v23 = *(_DWORD *)(v19 + 4) + (v44 & dword_10083DC0[v22]);
          v39 -= v40;
          v24 = *(_DWORD *)(a5 + 40);
          v48 = v23;
          v45 = v44 >> v22;
          j -= v22;
          if ( v51 - v24 < (unsigned int)v23 )
          {
            v27 = v23 + v24 - v51;
            v26 = *(_DWORD *)(a5 + 44) - v27;
            v49 = v27;
            if ( v40 > (unsigned int)v27 )
            {
              v40 -= v27;
              do
              {
                v28 = v51;
                v29 = *(_BYTE *)v26;
                ++v51;
                ++v26;
                i = v49-- == 1;
                *(_BYTE *)v28 = v29;
              }
              while ( !i );
              v26 = *(_DWORD *)(a5 + 40);
            }
            v25 = v51;
          }
          else
          {
            *(_BYTE *)v51 = *(_BYTE *)(v51 - v23);
            *(_BYTE *)(v51 + 1) = *(_BYTE *)(v51 - v23 + 1);
            v25 = v51 + 2;
            v26 = v51 - v48 + 2;
            v40 -= 2;
          }
          do
          {
            *(_BYTE *)v25++ = *(_BYTE *)v26++;
            --v40;
          }
          while ( v40 );
          v9 = v45;
          v51 = v25;
          goto LABEL_32;
        }
        if ( v21 & 0x40 )
          break;
        v19 += 8 * (*(_DWORD *)(v19 + 4) + (v44 & dword_10083DC0[v21]));
        v20 = *(_BYTE *)(v19 + 1);
        v44 >>= v20;
      }
      v31 = *(_DWORD *)(v6 + 4) - v42;
      *(_DWORD *)(v6 + 24) = "invalid distance code";
      if ( j >> 3 < v31 )
        v31 = j >> 3;
      v7 = a5;
      v9 = v44;
      goto LABEL_46;
    }
    if ( v46 & 0x40 )
      break;
    v13 += 8 * (*(_DWORD *)(v13 + 4) + (v9 & dword_10083DC0[v46]));
    v46 = *(_BYTE *)v13;
  }
  v32 = j >> 3;
  v33 = *(_DWORD *)(v6 + 4);
  if ( !(v46 & 0x20) )
  {
    v31 = v33 - v42;
    *(_DWORD *)(v6 + 24) = "invalid literal/length code";
    if ( v32 < v31 )
      v31 = j >> 3;
LABEL_46:
    v50 = -3;
    goto LABEL_47;
  }
  v31 = v33 - v42;
  if ( v32 < v31 )
    v31 = j >> 3;
  v50 = 1;
LABEL_47:
  *(_DWORD *)(v7 + 32) = v9;
  *(_DWORD *)(v7 + 28) = j - 8 * v31;
  v34 = v41 - v31;
  *(_DWORD *)(v6 + 4) = v42 + v31;
  v35 = v41 - v31 - *(_DWORD *)v6;
  *(_DWORD *)v6 = v34;
  *(_DWORD *)(v6 + 8) += v35;
  *(_DWORD *)(v7 + 52) = v51;
  return v50;
}
// 10083DC0: using guessed type int dword_10083DC0[];

//----- (1006C632) --------------------------------------------------------
void __cdecl sub_1006C632()
{
  unsigned int i; // [sp+Ch] [bp-1Ch]@1

  for ( i = (unsigned int)&unk_100778E4; i < (unsigned int)&unk_100778E4; i += 4 )
  {
    if ( *(_DWORD *)i )
      (*(void (**)(void))i)();
  }
}

//----- (1006C676) --------------------------------------------------------
void __cdecl sub_1006C676()
{
  unsigned int i; // [sp+Ch] [bp-1Ch]@1

  for ( i = (unsigned int)&unk_100778EC; i < (unsigned int)&unk_100778EC; i += 4 )
  {
    if ( *(_DWORD *)i )
      (*(void (**)(void))i)();
  }
}

//----- (1006C6C0) --------------------------------------------------------
int __usercall sub_1006C6C0<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 20);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006C6C9) --------------------------------------------------------
int __usercall sub_1006C6C9<eax>(int a1<ebp>)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 - 28) & 1;
  if ( *(_DWORD *)(a1 - 28) & 1 )
  {
    *(_DWORD *)(a1 - 28) &= 0xFFFFFFFEu;
    result = FString::_FString(*(_DWORD *)(a1 - 24));
  }
  return result;
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006C6E3) --------------------------------------------------------
int __cdecl SEH_10001020()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C6F0) --------------------------------------------------------
int __usercall sub_1006C6F0<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16));
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C6F9) --------------------------------------------------------
int __usercall sub_1006C6F9<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 40);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C705) --------------------------------------------------------
int __usercall sub_1006C705<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 80);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C711) --------------------------------------------------------
int __usercall sub_1006C711<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 120);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C71D) --------------------------------------------------------
int __usercall sub_1006C71D<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 160);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C72C) --------------------------------------------------------
int __usercall sub_1006C72C<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 200);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C73B) --------------------------------------------------------
int __usercall sub_1006C73B<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 240);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C74A) --------------------------------------------------------
int __usercall sub_1006C74A<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 280);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C759) --------------------------------------------------------
int __usercall sub_1006C759<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 320);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C768) --------------------------------------------------------
int __usercall sub_1006C768<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 360);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C777) --------------------------------------------------------
int __usercall sub_1006C777<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 400);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C786) --------------------------------------------------------
int __usercall sub_1006C786<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 440);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C795) --------------------------------------------------------
int __usercall sub_1006C795<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 480);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C7A4) --------------------------------------------------------
int __usercall sub_1006C7A4<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 520);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C7B3) --------------------------------------------------------
int __usercall sub_1006C7B3<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 560);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C7C2) --------------------------------------------------------
int __usercall sub_1006C7C2<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 600);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C7D1) --------------------------------------------------------
int __usercall sub_1006C7D1<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 640);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C7E0) --------------------------------------------------------
int __usercall sub_1006C7E0<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 680);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C7EF) --------------------------------------------------------
int __usercall sub_1006C7EF<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 720);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C7FE) --------------------------------------------------------
int __usercall sub_1006C7FE<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 760);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C80D) --------------------------------------------------------
int __usercall sub_1006C80D<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 800);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C81C) --------------------------------------------------------
int __usercall sub_1006C81C<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 840);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C82B) --------------------------------------------------------
int __usercall sub_1006C82B<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 880);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C83A) --------------------------------------------------------
int __usercall sub_1006C83A<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 920);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C849) --------------------------------------------------------
int __usercall sub_1006C849<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 960);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C858) --------------------------------------------------------
int __usercall sub_1006C858<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1000);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C867) --------------------------------------------------------
int __usercall sub_1006C867<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1040);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C876) --------------------------------------------------------
int __usercall sub_1006C876<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1080);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C885) --------------------------------------------------------
int __usercall sub_1006C885<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1120);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C894) --------------------------------------------------------
int __usercall sub_1006C894<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1160);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C8A3) --------------------------------------------------------
int __usercall sub_1006C8A3<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1200);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C8B2) --------------------------------------------------------
int __usercall sub_1006C8B2<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1240);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C8C1) --------------------------------------------------------
int __usercall sub_1006C8C1<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1280);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006C8D0) --------------------------------------------------------
int __cdecl SEH_10001770()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C8E0) --------------------------------------------------------
int __cdecl SEH_10001DB0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C8F0) --------------------------------------------------------
int __cdecl SEH_10001F00()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C900) --------------------------------------------------------
int __cdecl SEH_10002060()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C910) --------------------------------------------------------
int __cdecl SEH_100021D0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C920) --------------------------------------------------------
int __cdecl SEH_10002390()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C930) --------------------------------------------------------
int __cdecl SEH_10002470()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C940) --------------------------------------------------------
int __cdecl SEH_10002560()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C950) --------------------------------------------------------
int __usercall sub_1006C950<eax>(int a1<ebp>)
{
  int v1; // esi@1
  int result; // eax@4
  int v3; // ecx@1

  v3 = *(_DWORD *)(a1 - 16);
  v1 = v3;
  if ( !(*(_DWORD *)(v3 + 4) & 0x20000000) && *(_DWORD *)v3 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)v3);
  result = *(_DWORD *)(v1 + 4) & 0xE0000000;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1006C958) --------------------------------------------------------
int __cdecl SEH_10002670()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C970) --------------------------------------------------------
int __usercall sub_1006C970<eax>(int a1<ebp>)
{
  return sub_10002670(*(_DWORD *)(a1 - 16) + 40904);
}

//----- (1006C97E) --------------------------------------------------------
int __cdecl SEH_10002710()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C990) --------------------------------------------------------
int __cdecl SEH_10002800()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006C9A0) --------------------------------------------------------
int __usercall sub_1006C9A0<eax>(int a1<ebp>)
{
  return URenderDevice::_URenderDevice(*(_DWORD *)(a1 - 16));
}
// 1006F360: using guessed type int __thiscall URenderDevice___URenderDevice(_DWORD);

//----- (1006C9A9) --------------------------------------------------------
int __usercall sub_1006C9A9<eax>(int a1<ebp>)
{
  int v1; // esi@1
  int result; // eax@4

  v1 = *(_DWORD *)(a1 - 16) + 18012;
  if ( !(*(_DWORD *)(*(_DWORD *)(a1 - 16) + 18016) & 0x20000000) && *(_DWORD *)(*(_DWORD *)(a1 - 16) + 18012) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)v1);
  result = *(_DWORD *)(v1 + 4) & 0xE0000000;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1006C9B7) --------------------------------------------------------
int __usercall sub_1006C9B7<eax>(int a1<ebp>)
{
  int v1; // esi@1
  int result; // eax@4

  v1 = *(_DWORD *)(a1 - 16) + 18048;
  if ( !(*(_DWORD *)(*(_DWORD *)(a1 - 16) + 18052) & 0x20000000) && *(_DWORD *)(*(_DWORD *)(a1 - 16) + 18048) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)v1);
  result = *(_DWORD *)(v1 + 4) & 0xE0000000;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1006C9C5) --------------------------------------------------------
int __usercall sub_1006C9C5<eax>(int a1<ebp>)
{
  return sub_10002710(*(_DWORD *)(a1 - 16) + 18164);
}

//----- (1006C9D3) --------------------------------------------------------
int __usercall sub_1006C9D3<eax>(int a1<ebp>)
{
  int v1; // esi@1
  int result; // eax@4

  v1 = *(_DWORD *)(a1 - 16) + 59368;
  if ( !(*(_DWORD *)(*(_DWORD *)(a1 - 16) + 59372) & 0x20000000) && *(_DWORD *)(*(_DWORD *)(a1 - 16) + 59368) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)v1);
  result = *(_DWORD *)(v1 + 4) & 0xE0000000;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1006C9E1) --------------------------------------------------------
int __usercall sub_1006C9E1<eax>(int a1<ebp>)
{
  return sub_10001770((void *)(*(_DWORD *)(a1 - 16) + 64612));
}

//----- (1006C9EF) --------------------------------------------------------
int __cdecl UD3DRenderDevice::_UD3DRenderDevice()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CA00) --------------------------------------------------------
int __usercall sub_1006CA00<eax>(int a1<ebp>)
{
  return sub_10002670(*(_DWORD *)(a1 - 16) + 40904);
}

//----- (1006CA0E) --------------------------------------------------------
int __cdecl SEH_10003640()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CA20) --------------------------------------------------------
int __usercall sub_1006CA20<eax>(int a1<ebp>)
{
  return URenderDevice::_URenderDevice(*(_DWORD *)(a1 - 16));
}
// 1006F360: using guessed type int __thiscall URenderDevice___URenderDevice(_DWORD);

//----- (1006CA29) --------------------------------------------------------
void __cdecl sub_1006CA29()
{
  JUMPOUT(loc_10001D00);
}
// 10001D00: using guessed type int loc_10001D00();

//----- (1006CA37) --------------------------------------------------------
void __cdecl sub_1006CA37()
{
  JUMPOUT(loc_10001D40);
}
// 10001D40: using guessed type int loc_10001D40();

//----- (1006CA45) --------------------------------------------------------
int __usercall sub_1006CA45<eax>(int a1<ebp>)
{
  return sub_10002710(*(_DWORD *)(a1 - 16) + 18164);
}

//----- (1006CA53) --------------------------------------------------------
int __cdecl UD3DRenderDevice::UD3DRenderDevice()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CA60) --------------------------------------------------------
int __cdecl SEH_100045D0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CA70) --------------------------------------------------------
int __cdecl SEH_10005670()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CA80) --------------------------------------------------------
int __cdecl SEH_10006020()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CA90) --------------------------------------------------------
int __cdecl SEH_10006DC0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CAA0) --------------------------------------------------------
int __cdecl SEH_1000A310()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CAB0) --------------------------------------------------------
int __cdecl SEH_1000BBA0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CAC0) --------------------------------------------------------
int __usercall sub_1006CAC0<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 52));
}
// 10006D80: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CAC8) --------------------------------------------------------
int __usercall sub_1006CAC8<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 52) + 16);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CAD3) --------------------------------------------------------
int __usercall sub_1006CAD3<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 52) + 72);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CADE) --------------------------------------------------------
int __usercall sub_1006CADE<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 52) + 128);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CAEC) --------------------------------------------------------
int __usercall sub_1006CAEC<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 52) + 184);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CAFA) --------------------------------------------------------
int __usercall sub_1006CAFA<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 52) + 240);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CB08) --------------------------------------------------------
int __cdecl SEH_1000BF10()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CB20) --------------------------------------------------------
int __usercall sub_1006CB20<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 16));
}
// 10006D80: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CB28) --------------------------------------------------------
int __usercall sub_1006CB28<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 16) + 16);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CB33) --------------------------------------------------------
int __usercall sub_1006CB33<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 16) + 72);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CB3E) --------------------------------------------------------
int __usercall sub_1006CB3E<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 16) + 128);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CB4C) --------------------------------------------------------
int __usercall sub_1006CB4C<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 16) + 184);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CB5A) --------------------------------------------------------
int __usercall sub_1006CB5A<eax>(int a1<ebp>)
{
  return FRenderResource::_FRenderResource(*(_DWORD *)(a1 - 16) + 240);
}
// 1000BF00: using guessed type int __thiscall FRenderResource___FRenderResource(_DWORD);

//----- (1006CB68) --------------------------------------------------------
int __cdecl SEH_1000C330()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CB80) --------------------------------------------------------
int __cdecl SEH_1000C3D0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CB90) --------------------------------------------------------
int __cdecl sub_1006CB90()
{
  int result; // eax@1

  result = dword_10084448 & 0xFFFFFFFE;
  dword_10084448 &= 0xFFFFFFFEu;
  return result;
}
// 10084448: using guessed type int dword_10084448;

//----- (1006CB9E) --------------------------------------------------------
int __cdecl SEH_1000DBE0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CBB0) --------------------------------------------------------
int __cdecl sub_1006CBB0()
{
  int result; // eax@1

  result = dword_100845B4 & 0xFFFFFFFE;
  dword_100845B4 &= 0xFFFFFFFEu;
  return result;
}
// 100845B4: using guessed type int dword_100845B4;

//----- (1006CBBE) --------------------------------------------------------
int __cdecl SEH_1000DF70()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CBD0) --------------------------------------------------------
int __cdecl SEH_100102C0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CBE0) --------------------------------------------------------
int __usercall sub_1006CBE0<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 48);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006CBE9) --------------------------------------------------------
int __usercall sub_1006CBE9<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 48);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006CBF2) --------------------------------------------------------
int __usercall sub_1006CBF2<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 48);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006CBFB) --------------------------------------------------------
int __usercall sub_1006CBFB<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 48);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006CC04) --------------------------------------------------------
int __cdecl SEH_100114E0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CC10) --------------------------------------------------------
int __cdecl SEH_10013360()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CC20) --------------------------------------------------------
int __cdecl SEH_10013BC0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CC30) --------------------------------------------------------
int __cdecl UD3DRenderDevice::StaticConstructor()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CC40) --------------------------------------------------------
int __cdecl UD3DRenderDevice::GetCachedResource()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CC50) --------------------------------------------------------
int __cdecl UD3DRenderDevice::FlushResource()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CC60) --------------------------------------------------------
int __usercall sub_1006CC60<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 32);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006CC69) --------------------------------------------------------
int __usercall sub_1006CC69<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 32);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006CC72) --------------------------------------------------------
int __cdecl UD3DRenderDevice::UnSetRes()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CC80) --------------------------------------------------------
int __cdecl UD3DRenderDevice::RestoreGamma()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CC90) --------------------------------------------------------
int __usercall sub_1006CC90<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 24);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006CC99) --------------------------------------------------------
int __cdecl UD3DRenderDevice::Unlock()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CCB0) --------------------------------------------------------
int __usercall sub_1006CCB0<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 24);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006CCB9) --------------------------------------------------------
int __cdecl UD3DRenderDevice::Present()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CCD0) --------------------------------------------------------
int __usercall sub_1006CCD0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006CCD9) --------------------------------------------------------
int __usercall sub_1006CCD9<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006CCE2) --------------------------------------------------------
int __usercall sub_1006CCE2<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006CCEB) --------------------------------------------------------
int __cdecl UD3DRenderDevice::ReadPixels()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CD00) --------------------------------------------------------
int __usercall sub_1006CD00<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006CD09) --------------------------------------------------------
int __cdecl UD3DRenderDevice::SetEmulationMode()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CD20) --------------------------------------------------------
int __usercall sub_1006CD20<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16));
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD29) --------------------------------------------------------
int __usercall sub_1006CD29<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 40);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD35) --------------------------------------------------------
int __usercall sub_1006CD35<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 80);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD41) --------------------------------------------------------
int __usercall sub_1006CD41<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 120);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD4D) --------------------------------------------------------
int __usercall sub_1006CD4D<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 160);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD5C) --------------------------------------------------------
int __usercall sub_1006CD5C<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 200);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD6B) --------------------------------------------------------
int __usercall sub_1006CD6B<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 240);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD7A) --------------------------------------------------------
int __usercall sub_1006CD7A<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 280);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD89) --------------------------------------------------------
int __usercall sub_1006CD89<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 320);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CD98) --------------------------------------------------------
int __usercall sub_1006CD98<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 360);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CDA7) --------------------------------------------------------
int __usercall sub_1006CDA7<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 400);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CDB6) --------------------------------------------------------
int __usercall sub_1006CDB6<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 440);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CDC5) --------------------------------------------------------
int __usercall sub_1006CDC5<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 480);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CDD4) --------------------------------------------------------
int __usercall sub_1006CDD4<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 520);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CDE3) --------------------------------------------------------
int __usercall sub_1006CDE3<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 560);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CDF2) --------------------------------------------------------
int __usercall sub_1006CDF2<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 600);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE01) --------------------------------------------------------
int __usercall sub_1006CE01<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 640);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE10) --------------------------------------------------------
int __usercall sub_1006CE10<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 680);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE1F) --------------------------------------------------------
int __usercall sub_1006CE1F<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 720);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE2E) --------------------------------------------------------
int __usercall sub_1006CE2E<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 760);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE3D) --------------------------------------------------------
int __usercall sub_1006CE3D<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 800);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE4C) --------------------------------------------------------
int __usercall sub_1006CE4C<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 840);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE5B) --------------------------------------------------------
int __usercall sub_1006CE5B<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 880);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE6A) --------------------------------------------------------
int __usercall sub_1006CE6A<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 920);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE79) --------------------------------------------------------
int __usercall sub_1006CE79<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 960);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE88) --------------------------------------------------------
int __usercall sub_1006CE88<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1000);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CE97) --------------------------------------------------------
int __usercall sub_1006CE97<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1040);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CEA6) --------------------------------------------------------
int __usercall sub_1006CEA6<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1080);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CEB5) --------------------------------------------------------
int __usercall sub_1006CEB5<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1120);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CEC4) --------------------------------------------------------
int __usercall sub_1006CEC4<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1160);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CED3) --------------------------------------------------------
int __usercall sub_1006CED3<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1200);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CEE2) --------------------------------------------------------
int __usercall sub_1006CEE2<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1240);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CEF1) --------------------------------------------------------
int __usercall sub_1006CEF1<eax>(int a1<ebp>)
{
  return FStatRecord::_FStatRecord(*(_DWORD *)(a1 - 16) + 1280);
}
// 1006F020: using guessed type int __thiscall FStatRecord___FStatRecord(_DWORD);

//----- (1006CF00) --------------------------------------------------------
int __cdecl SEH_10015BF0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CF10) --------------------------------------------------------
int __usercall sub_1006CF10<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006CF1B) --------------------------------------------------------
int __usercall sub_1006CF1B<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006CF26) --------------------------------------------------------
int __usercall sub_1006CF26<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006CF31) --------------------------------------------------------
int __cdecl UD3DRenderDevice::GetPixelShader()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CF40) --------------------------------------------------------
int __usercall sub_1006CF40<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 20);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006CF49) --------------------------------------------------------
int __cdecl UD3DRenderDevice::RenderMovie()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CF60) --------------------------------------------------------
int __usercall sub_1006CF60<eax>(int a1<ebp>)
{
  return FString::_FString(a1 + 8);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006CF69) --------------------------------------------------------
int __usercall sub_1006CF69<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 4));
}

//----- (1006CF74) --------------------------------------------------------
int __usercall sub_1006CF74<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 4));
}

//----- (1006CF7F) --------------------------------------------------------
int __cdecl UD3DRenderDevice::GetNewMovie()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CF90) --------------------------------------------------------
int __cdecl UD3DRenderDevice::TakeScreenshot()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CFA0) --------------------------------------------------------
int __usercall sub_1006CFA0<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 20);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006CFA9) --------------------------------------------------------
int __usercall sub_1006CFA9<eax>(int a1<ebp>)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 - 28) & 1;
  if ( *(_DWORD *)(a1 - 28) & 1 )
  {
    *(_DWORD *)(a1 - 28) &= 0xFFFFFFFEu;
    result = FStringTemp::_FStringTemp(*(_DWORD *)(a1 - 24));
  }
  return result;
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006CFC3) --------------------------------------------------------
int __cdecl SEH_10016410()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006CFD0) --------------------------------------------------------
int __usercall sub_1006CFD0<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 20);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006CFD9) --------------------------------------------------------
int __usercall sub_1006CFD9<eax>(int a1<ebp>)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 - 28) & 1;
  if ( *(_DWORD *)(a1 - 28) & 1 )
  {
    *(_DWORD *)(a1 - 28) &= 0xFFFFFFFEu;
    result = FStringTemp::_FStringTemp(*(_DWORD *)(a1 - 24));
  }
  return result;
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006CFF3) --------------------------------------------------------
int __cdecl SEH_10016490()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D000) --------------------------------------------------------
int __usercall sub_1006D000<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006D00B) --------------------------------------------------------
int __cdecl UD3DRenderDevice::GetVertexShader()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D020) --------------------------------------------------------
int __cdecl UD3DRenderDevice::Flush()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D030) --------------------------------------------------------
int __cdecl UD3DRenderDevice::UpdateGamma()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D040) --------------------------------------------------------
int __cdecl UD3DRenderDevice::Exec()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D050) --------------------------------------------------------
int __usercall sub_1006D050<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 20);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D059) --------------------------------------------------------
int __usercall sub_1006D059<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 52);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D062) --------------------------------------------------------
int __cdecl UD3DRenderDevice::Lock()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D070) --------------------------------------------------------
int __cdecl UD3DRenderDevice::Exit()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D080) --------------------------------------------------------
int __usercall sub_1006D080<eax>(int a1<ebp>)
{
  return URenderDevice::_URenderDevice(*(_DWORD *)(a1 - 16));
}
// 1006F360: using guessed type int __thiscall URenderDevice___URenderDevice(_DWORD);

//----- (1006D089) --------------------------------------------------------
void __cdecl sub_1006D089()
{
  JUMPOUT(loc_10001D00);
}
// 10001D00: using guessed type int loc_10001D00();

//----- (1006D097) --------------------------------------------------------
void __cdecl sub_1006D097()
{
  JUMPOUT(loc_10001D40);
}
// 10001D40: using guessed type int loc_10001D40();

//----- (1006D0A5) --------------------------------------------------------
int __usercall sub_1006D0A5<eax>(int a1<ebp>)
{
  return sub_10002710(*(_DWORD *)(a1 - 16) + 18164);
}

//----- (1006D0B3) --------------------------------------------------------
void __cdecl sub_1006D0B3()
{
  JUMPOUT(loc_10001C80);
}
// 10001C80: using guessed type int loc_10001C80();

//----- (1006D0C1) --------------------------------------------------------
int __cdecl UD3DRenderDevice::UD3DRenderDevice()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D0D0) --------------------------------------------------------
int __usercall sub_1006D0D0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 32);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D0D9) --------------------------------------------------------
int __usercall sub_1006D0D9<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 80);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D0E2) --------------------------------------------------------
int __usercall sub_1006D0E2<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 72);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D0EB) --------------------------------------------------------
int __usercall sub_1006D0EB<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 88);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D0F4) --------------------------------------------------------
int __cdecl UD3DRenderDevice::Init()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D100) --------------------------------------------------------
int __cdecl UD3DRenderDevice::SetRes()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D110) --------------------------------------------------------
int __cdecl SEH_10019BD0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D120) --------------------------------------------------------
int __cdecl SEH_10019D00()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D130) --------------------------------------------------------
int __cdecl SEH_10019F80()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D140) --------------------------------------------------------
int __usercall sub_1006D140<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 24);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D149) --------------------------------------------------------
int __usercall sub_1006D149<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D152) --------------------------------------------------------
int __cdecl SEH_1001A090()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D160) --------------------------------------------------------
int __cdecl SEH_1001A340()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D170) --------------------------------------------------------
int __cdecl SEH_1001A420()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D180) --------------------------------------------------------
int __usercall sub_1006D180<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 28);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D189) --------------------------------------------------------
int __usercall sub_1006D189<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 36);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D192) --------------------------------------------------------
int __usercall sub_1006D192<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 28);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D19B) --------------------------------------------------------
int __usercall sub_1006D19B<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 20);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D1A4) --------------------------------------------------------
int __cdecl SEH_1001A510()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D1B0) --------------------------------------------------------
int __usercall sub_1006D1B0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 264);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D1BC) --------------------------------------------------------
int __usercall sub_1006D1BC<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 32);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D1C5) --------------------------------------------------------
int __usercall sub_1006D1C5<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 280);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D1D1) --------------------------------------------------------
int __usercall sub_1006D1D1<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 80);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D1DA) --------------------------------------------------------
int __usercall sub_1006D1DA<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 248);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D1E6) --------------------------------------------------------
int __usercall sub_1006D1E6<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 144);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D1F2) --------------------------------------------------------
int __usercall sub_1006D1F2<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 216);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D1FE) --------------------------------------------------------
int __usercall sub_1006D1FE<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 128);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D207) --------------------------------------------------------
int __usercall sub_1006D207<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 232);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D213) --------------------------------------------------------
int __usercall sub_1006D213<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 112);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D21C) --------------------------------------------------------
int __usercall sub_1006D21C<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 200);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D228) --------------------------------------------------------
int __usercall sub_1006D228<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 48);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D231) --------------------------------------------------------
int __usercall sub_1006D231<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 304);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D23D) --------------------------------------------------------
int __usercall sub_1006D23D<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 64);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D246) --------------------------------------------------------
int __usercall sub_1006D246<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 184);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D252) --------------------------------------------------------
int __usercall sub_1006D252<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 288);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D25E) --------------------------------------------------------
int __usercall sub_1006D25E<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 296);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D26A) --------------------------------------------------------
int __usercall sub_1006D26A<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 96);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D273) --------------------------------------------------------
int __usercall sub_1006D273<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 240);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D27F) --------------------------------------------------------
int __usercall sub_1006D27F<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 256);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D28B) --------------------------------------------------------
int __usercall sub_1006D28B<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 272);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D297) --------------------------------------------------------
int __usercall sub_1006D297<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 176);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D2A3) --------------------------------------------------------
int __usercall sub_1006D2A3<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 192);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D2AF) --------------------------------------------------------
int __usercall sub_1006D2AF<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 208);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D2BB) --------------------------------------------------------
int __usercall sub_1006D2BB<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 224);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D2C7) --------------------------------------------------------
int __usercall sub_1006D2C7<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 136);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D2D3) --------------------------------------------------------
int __usercall sub_1006D2D3<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 152);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D2DF) --------------------------------------------------------
int __usercall sub_1006D2DF<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 164);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D2EB) --------------------------------------------------------
int __usercall sub_1006D2EB<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 120);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D2F4) --------------------------------------------------------
int __usercall sub_1006D2F4<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 312);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D300) --------------------------------------------------------
int __usercall sub_1006D300<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 72);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D309) --------------------------------------------------------
int __usercall sub_1006D309<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 88);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D312) --------------------------------------------------------
int __usercall sub_1006D312<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 104);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D31B) --------------------------------------------------------
int __usercall sub_1006D31B<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 24);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D324) --------------------------------------------------------
int __usercall sub_1006D324<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D32D) --------------------------------------------------------
int __usercall sub_1006D32D<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 56);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D336) --------------------------------------------------------
int __cdecl SEH_1001A6F0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D340) --------------------------------------------------------
int __cdecl SEH_1001B2D0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D350) --------------------------------------------------------
int __cdecl SEH_1001B3A0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D360) --------------------------------------------------------
int __usercall sub_1006D360<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 20);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D369) --------------------------------------------------------
int __usercall sub_1006D369<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D372) --------------------------------------------------------
int __cdecl SEH_1001BB80()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D380) --------------------------------------------------------
int __usercall sub_1006D380<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 24);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D389) --------------------------------------------------------
int __usercall sub_1006D389<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D392) --------------------------------------------------------
int __cdecl SEH_1001BE90()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D3A0) --------------------------------------------------------
int __cdecl SEH_1001C130()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D3B0) --------------------------------------------------------
int __usercall sub_1006D3B0<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 28);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D3B9) --------------------------------------------------------
int __cdecl sub_1006D3B9()
{
  int result; // eax@1

  result = dword_10084734 & 0xFFFFFFFE;
  dword_10084734 &= 0xFFFFFFFEu;
  return result;
}
// 10084734: using guessed type int dword_10084734;

//----- (1006D3C7) --------------------------------------------------------
int __cdecl SEH_1001ED70()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D3E0) --------------------------------------------------------
int __cdecl SEH_1001F760()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D3F0) --------------------------------------------------------
int __cdecl SEH_1001F800()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D400) --------------------------------------------------------
int __cdecl SEH_1001F930()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D410) --------------------------------------------------------
int __cdecl SEH_1001FAA0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D420) --------------------------------------------------------
int __cdecl SEH_1001FDE0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D430) --------------------------------------------------------
int __cdecl SEH_1001FFF0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D440) --------------------------------------------------------
int __usercall sub_1006D440<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 28);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D449) --------------------------------------------------------
int __cdecl SEH_10020220()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D460) --------------------------------------------------------
int __usercall sub_1006D460<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 24);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D469) --------------------------------------------------------
int __usercall sub_1006D469<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 32));
}

//----- (1006D474) --------------------------------------------------------
int __cdecl SEH_10020540()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D480) --------------------------------------------------------
int __usercall sub_1006D480<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 28);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D489) --------------------------------------------------------
int __usercall sub_1006D489<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006D494) --------------------------------------------------------
int __cdecl SEH_10020840()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D4A0) --------------------------------------------------------
int __usercall sub_1006D4A0<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 20);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D4A9) --------------------------------------------------------
int __usercall sub_1006D4A9<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006D4B4) --------------------------------------------------------
int __usercall sub_1006D4B4<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006D4BF) --------------------------------------------------------
int __cdecl SEH_10020A90()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D4D0) --------------------------------------------------------
int __usercall sub_1006D4D0<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 32);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D4D9) --------------------------------------------------------
int __cdecl SEH_10020CB0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D4F0) --------------------------------------------------------
int __cdecl SEH_10021100()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D500) --------------------------------------------------------
int __usercall sub_1006D500<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 60);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D509) --------------------------------------------------------
int __usercall sub_1006D509<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 60);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D512) --------------------------------------------------------
int __cdecl SEH_100257B0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D520) --------------------------------------------------------
int __cdecl SEH_10025B80()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D530) --------------------------------------------------------
int __usercall sub_1006D530<eax>(int a1<ebp>)
{
  return sub_10002670(*(_DWORD *)(a1 - 24) + 40904);
}

//----- (1006D53E) --------------------------------------------------------
void __cdecl sub_1006D53E()
{
  JUMPOUT(loc_10001C80);
}
// 10001C80: using guessed type int loc_10001C80();

//----- (1006D54C) --------------------------------------------------------
int __cdecl SEH_10026710()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D560) --------------------------------------------------------
int __usercall sub_1006D560<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 32);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D569) --------------------------------------------------------
int __usercall sub_1006D569<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 32);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D572) --------------------------------------------------------
int __cdecl SEH_10026820()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D580) --------------------------------------------------------
int __usercall sub_1006D580<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 28);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D589) --------------------------------------------------------
int __cdecl SEH_10026B70()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D5A0) --------------------------------------------------------
int __usercall sub_1006D5A0<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 36);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D5A9) --------------------------------------------------------
int __usercall sub_1006D5A9<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 44);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D5B2) --------------------------------------------------------
int __usercall sub_1006D5B2<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 16));
}

//----- (1006D5BD) --------------------------------------------------------
int __cdecl SEH_10027510()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D5D0) --------------------------------------------------------
int __usercall sub_1006D5D0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 20);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D5D9) --------------------------------------------------------
int __cdecl SEH_100282D0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D5F0) --------------------------------------------------------
int __usercall sub_1006D5F0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 20);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D5F9) --------------------------------------------------------
int __cdecl SEH_10028390()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D610) --------------------------------------------------------
int __cdecl SEH_10028450()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D620) --------------------------------------------------------
int __usercall sub_1006D620<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 20);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D629) --------------------------------------------------------
int __usercall sub_1006D629<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 16);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D632) --------------------------------------------------------
int __usercall sub_1006D632<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 40);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D63B) --------------------------------------------------------
int __usercall sub_1006D63B<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 16);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D644) --------------------------------------------------------
int __cdecl SEH_10028F10()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D650) --------------------------------------------------------
int __usercall sub_1006D650<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 24);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D659) --------------------------------------------------------
int __usercall sub_1006D659<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D662) --------------------------------------------------------
int __usercall sub_1006D662<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D66B) --------------------------------------------------------
int __cdecl SEH_1002A380()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D680) --------------------------------------------------------
int __usercall sub_1006D680<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 24);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D689) --------------------------------------------------------
int __cdecl SEH_1002A5F0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D6A0) --------------------------------------------------------
int __usercall sub_1006D6A0<eax>(int a1<ebp>)
{
  return sub_1002A1D0(*(_DWORD *)(a1 - 16));
}

//----- (1006D6A8) --------------------------------------------------------
int __cdecl SEH_1002C540()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D6C0) --------------------------------------------------------
int __usercall sub_1006D6C0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 28);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D6C9) --------------------------------------------------------
int __cdecl SEH_1002A880()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D6E0) --------------------------------------------------------
int __usercall sub_1006D6E0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D6E9) --------------------------------------------------------
int __usercall sub_1006D6E9<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D6F2) --------------------------------------------------------
int __usercall sub_1006D6F2<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D6FB) --------------------------------------------------------
int __cdecl SEH_1002AA40()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D710) --------------------------------------------------------
int __cdecl SEH_1002AC30()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D720) --------------------------------------------------------
int __usercall sub_1006D720<eax>(int a1<ebp>)
{
  return sub_1002A1D0(*(_DWORD *)(a1 - 16));
}

//----- (1006D728) --------------------------------------------------------
int __cdecl SEH_1002AD90()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D740) --------------------------------------------------------
int __usercall sub_1006D740<eax>(int a1<ebp>)
{
  return sub_1002A1D0(*(_DWORD *)(a1 - 16));
}

//----- (1006D748) --------------------------------------------------------
int __cdecl SEH_1002AE70()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D760) --------------------------------------------------------
int __usercall sub_1006D760<eax>(int a1<ebp>)
{
  return FString::_FString(a1 + 4);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D769) --------------------------------------------------------
int __cdecl SEH_1002AF60()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D780) --------------------------------------------------------
int __usercall sub_1006D780<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 60);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D789) --------------------------------------------------------
int __cdecl SEH_1002B080()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D7A0) --------------------------------------------------------
int __usercall sub_1006D7A0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 + 4);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D7A9) --------------------------------------------------------
int __usercall sub_1006D7A9<eax>(int a1<ebp>)
{
  return FMovie::_FMovie(*(_DWORD *)(a1 - 16));
}
// 1006F2C0: using guessed type int __thiscall FMovie___FMovie(_DWORD);

//----- (1006D7B2) --------------------------------------------------------
int __usercall sub_1006D7B2<eax>(int a1<ebp>)
{
  return FString::_FString(*(_DWORD *)(a1 - 16) + 12);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D7BE) --------------------------------------------------------
int __cdecl SEH_1002B560()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D7D0) --------------------------------------------------------
int __usercall sub_1006D7D0<eax>(int a1<ebp>)
{
  return FMovie::_FMovie(*(_DWORD *)(a1 - 16));
}
// 1006F2C0: using guessed type int __thiscall FMovie___FMovie(_DWORD);

//----- (1006D7D9) --------------------------------------------------------
int __usercall sub_1006D7D9<eax>(int a1<ebp>)
{
  return FString::_FString(*(_DWORD *)(a1 - 16) + 12);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D7E5) --------------------------------------------------------
int __cdecl SEH_1002B670()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D800) --------------------------------------------------------
int __usercall sub_1006D800<eax>(int a1<ebp>)
{
  return sub_1002A1D0(*(_DWORD *)(a1 - 16));
}

//----- (1006D808) --------------------------------------------------------
int __cdecl SEH_1002D1B0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D820) --------------------------------------------------------
int __usercall sub_1006D820<eax>(int a1<ebp>)
{
  return sub_1002BFD0(*(_DWORD *)(a1 - 24));
}

//----- (1006D828) --------------------------------------------------------
int __cdecl SEH_1002C120()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D840) --------------------------------------------------------
int __usercall sub_1006D840<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D849) --------------------------------------------------------
int __usercall sub_1006D849<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D852) --------------------------------------------------------
int __usercall sub_1006D852<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 36);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D85B) --------------------------------------------------------
int __cdecl SEH_1002C270()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D870) --------------------------------------------------------
int __usercall sub_1006D870<eax>(int a1<ebp>)
{
  return sub_1002A800(*(_DWORD *)(a1 - 24));
}

//----- (1006D878) --------------------------------------------------------
int __cdecl SEH_1002C460()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D890) --------------------------------------------------------
int __usercall sub_1006D890<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 64);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D899) --------------------------------------------------------
int __usercall sub_1006D899<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 72);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D8A2) --------------------------------------------------------
int __usercall sub_1006D8A2<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 80);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D8AB) --------------------------------------------------------
int __usercall sub_1006D8AB<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 88);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D8B4) --------------------------------------------------------
int __usercall sub_1006D8B4<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 96);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D8BD) --------------------------------------------------------
int __usercall sub_1006D8BD<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 24);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D8C6) --------------------------------------------------------
int __usercall sub_1006D8C6<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 32);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D8CF) --------------------------------------------------------
int __usercall sub_1006D8CF<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D8D8) --------------------------------------------------------
int __usercall sub_1006D8D8<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 48);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D8E1) --------------------------------------------------------
int __usercall sub_1006D8E1<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 56);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D8EA) --------------------------------------------------------
int __cdecl SEH_1002C630()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D900) --------------------------------------------------------
int __usercall sub_1006D900<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 52);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D909) --------------------------------------------------------
int __usercall sub_1006D909<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 52);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D912) --------------------------------------------------------
int __usercall sub_1006D912<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 52);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D91B) --------------------------------------------------------
int __cdecl SEH_1002C900()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D930) --------------------------------------------------------
int __cdecl SEH_1002CC50()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D940) --------------------------------------------------------
int __cdecl SEH_1002CDF0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D950) --------------------------------------------------------
int __usercall sub_1006D950<eax>(int a1<ebp>)
{
  return sub_1002A1D0(*(_DWORD *)(a1 - 16));
}

//----- (1006D958) --------------------------------------------------------
int __usercall sub_1006D958<eax>(int a1<ebp>)
{
  int v1; // esi@1
  int result; // eax@4

  v1 = *(_DWORD *)(a1 - 16) + 84;
  if ( !(*(_DWORD *)(*(_DWORD *)(a1 - 16) + 88) & 0x20000000) && *(_DWORD *)(*(_DWORD *)(a1 - 16) + 84) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)v1);
  result = *(_DWORD *)(v1 + 4) & 0xE0000000;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1006D963) --------------------------------------------------------
int __cdecl SEH_1002CFE0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D970) --------------------------------------------------------
int __usercall sub_1006D970<eax>(int a1<ebp>)
{
  int v1; // esi@1
  int result; // eax@4

  v1 = *(_DWORD *)(a1 - 24) + 328;
  if ( !(*(_DWORD *)(*(_DWORD *)(a1 - 24) + 332) & 0x20000000) && *(_DWORD *)(*(_DWORD *)(a1 - 24) + 328) )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(*(_DWORD *)v1);
  result = *(_DWORD *)(v1 + 4) & 0xE0000000;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = result;
  return result;
}
// 1006F014: using guessed type void *GMalloc;

//----- (1006D97E) --------------------------------------------------------
int __cdecl SEH_1002D1C0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D990) --------------------------------------------------------
int __usercall sub_1006D990<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 56);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D999) --------------------------------------------------------
int __usercall sub_1006D999<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 48);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D9A2) --------------------------------------------------------
int __usercall sub_1006D9A2<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D9AB) --------------------------------------------------------
int __usercall sub_1006D9AB<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 64);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006D9B4) --------------------------------------------------------
int __cdecl SEH_1002D300()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D9C0) --------------------------------------------------------
int __usercall sub_1006D9C0<eax>(int a1<ebp>)
{
  return FClock::_FClock(a1 - 48);
}
// 1006F1CC: using guessed type int __thiscall FClock___FClock(_DWORD);

//----- (1006D9C9) --------------------------------------------------------
int __usercall sub_1006D9C9<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 32);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D9D2) --------------------------------------------------------
int __usercall sub_1006D9D2<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 52);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D9DB) --------------------------------------------------------
int __cdecl SEH_1002D610()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006D9F0) --------------------------------------------------------
int __usercall sub_1006D9F0<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 52);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006D9F9) --------------------------------------------------------
int __usercall sub_1006D9F9<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 52);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA02) --------------------------------------------------------
int __cdecl SEH_1002D990()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DA10) --------------------------------------------------------
int __usercall sub_1006DA10<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 84);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA19) --------------------------------------------------------
int __usercall sub_1006DA19<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 120);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA22) --------------------------------------------------------
int __usercall sub_1006DA22<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 120);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA2B) --------------------------------------------------------
int __usercall sub_1006DA2B<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 84);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA34) --------------------------------------------------------
int __usercall sub_1006DA34<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 120);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA3D) --------------------------------------------------------
int __usercall sub_1006DA3D<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 84);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA46) --------------------------------------------------------
int __usercall sub_1006DA46<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 84);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA4F) --------------------------------------------------------
int __usercall sub_1006DA4F<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 140);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DA5B) --------------------------------------------------------
int __cdecl SEH_1002DC80()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DA70) --------------------------------------------------------
void __cdecl sub_1006DA70()
{
  JUMPOUT(loc_1002CBC0);
}
// 1002CBC0: using guessed type int loc_1002CBC0();

//----- (1006DA7E) --------------------------------------------------------
int __cdecl SEH_1002F020()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DA90) --------------------------------------------------------
int __usercall sub_1006DA90<eax>(int a1<ebp>)
{
  return sub_1002D1C0(*(_DWORD *)(a1 - 24));
}

//----- (1006DA98) --------------------------------------------------------
int __usercall sub_1006DA98<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 32);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DAA1) --------------------------------------------------------
int __cdecl SEH_1002F2A0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DAB0) --------------------------------------------------------
void __cdecl sub_1006DAB0()
{
  JUMPOUT(loc_1002CBC0);
}
// 1002CBC0: using guessed type int loc_1002CBC0();

//----- (1006DAB8) --------------------------------------------------------
int __usercall sub_1006DAB8<eax>(int a1<ebp>)
{
  return FStringTemp::_FStringTemp(a1 - 68);
}
// 1006F298: using guessed type int __thiscall FStringTemp___FStringTemp(_DWORD);

//----- (1006DAC1) --------------------------------------------------------
int __usercall sub_1006DAC1<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 40);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DACA) --------------------------------------------------------
int __usercall sub_1006DACA<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 68);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DAD3) --------------------------------------------------------
int __usercall sub_1006DAD3<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 68);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DADC) --------------------------------------------------------
int __usercall sub_1006DADC<eax>(int a1<ebp>)
{
  return FString::_FString(a1 - 68);
}
// 1006F2A0: using guessed type int __thiscall FString___FString(_DWORD);

//----- (1006DAE5) --------------------------------------------------------
int __usercall sub_1006DAE5<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 12));
}

//----- (1006DAF0) --------------------------------------------------------
int __cdecl SEH_1002F3A0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DAFA) --------------------------------------------------------
int __cdecl sub_1006DAFA()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DB04) --------------------------------------------------------
int __usercall sub_1006DB04<eax>(int a1<ebp>)
{
  return sub_10040336(*(_DWORD *)(a1 - 16));
}

//----- (1006DB0C) --------------------------------------------------------
int __usercall sub_1006DB0C<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 20);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB17) --------------------------------------------------------
int __usercall sub_1006DB17<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 36);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB22) --------------------------------------------------------
int __usercall sub_1006DB22<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 52);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB2D) --------------------------------------------------------
int __usercall sub_1006DB2D<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 68);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB38) --------------------------------------------------------
int __usercall sub_1006DB38<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 84);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB43) --------------------------------------------------------
int __usercall sub_1006DB43<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 100);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB4E) --------------------------------------------------------
int __usercall sub_1006DB4E<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 116);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB59) --------------------------------------------------------
int __cdecl sub_1006DB59()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DB63) --------------------------------------------------------
int __usercall sub_1006DB63<eax>(int a1<ebp>)
{
  return sub_10040336(*(_DWORD *)(a1 - 16));
}

//----- (1006DB6B) --------------------------------------------------------
int __usercall sub_1006DB6B<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 20);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB76) --------------------------------------------------------
int __usercall sub_1006DB76<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 36);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB81) --------------------------------------------------------
int __usercall sub_1006DB81<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 52);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB8C) --------------------------------------------------------
int __usercall sub_1006DB8C<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 68);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DB97) --------------------------------------------------------
int __usercall sub_1006DB97<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 84);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DBA2) --------------------------------------------------------
int __usercall sub_1006DBA2<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 100);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DBAD) --------------------------------------------------------
int __usercall sub_1006DBAD<eax>(int a1<ebp>)
{
  return ATL::CAtlArray<void___ATL::CElementTraits<void__>>::_CAtlArray<void___ATL::CElementTraits<void__>>(*(_DWORD *)(a1 - 16) + 116);
}
// 1004026B: using guessed type int __thiscall ATL__CAtlArray_void __ATL__CElementTraits_void ______CAtlArray_void __ATL__CElementTraits_void ___(_DWORD);

//----- (1006DBB8) --------------------------------------------------------
int __cdecl sub_1006DBB8()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DBC2) --------------------------------------------------------
int __usercall sub_1006DBC2<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006DBCC) --------------------------------------------------------
int __usercall sub_1006DBCC<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006DBE0) --------------------------------------------------------
int __usercall sub_1006DBE0<eax>(int a1<ebp>)
{
  return sub_1004A784(a1 - 112);
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1006DBE8) --------------------------------------------------------
void __usercall sub_1006DBE8(int a1<ebp>)
{
  sub_10050799((void *)(a1 - 28));
}

//----- (1006DBF0) --------------------------------------------------------
int __cdecl sub_1006DBF0()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DBFA) --------------------------------------------------------
int __usercall sub_1006DBFA<eax>(int a1<ebp>)
{
  return sub_1004A784(a1 - 100);
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1006DC02) --------------------------------------------------------
void __usercall sub_1006DC02(int a1<ebp>)
{
  sub_10050BB1((void *)(a1 - 16));
}

//----- (1006DC0A) --------------------------------------------------------
int __cdecl sub_1006DC0A()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DC14) --------------------------------------------------------
int __usercall sub_1006DC14<eax>(int a1<ebp>)
{
  return sub_1004A784(a1 - 152);
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1006DC1F) --------------------------------------------------------
int __usercall sub_1006DC1F<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 44));
}

//----- (1006DC29) --------------------------------------------------------
int __usercall sub_1006DC29<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 40));
}

//----- (1006DC33) --------------------------------------------------------
int __usercall sub_1006DC33<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 52));
}

//----- (1006DC3D) --------------------------------------------------------
int __usercall sub_1006DC3D<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 68));
}

//----- (1006DC47) --------------------------------------------------------
int __cdecl sub_1006DC47()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DC51) --------------------------------------------------------
int __usercall sub_1006DC51<eax>(int a1<ebp>)
{
  return sub_1004A784(a1 - 140);
}
// 1004A784: using guessed type int __thiscall sub_1004A784(_DWORD);

//----- (1006DC5C) --------------------------------------------------------
int __cdecl sub_1006DC5C()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DC66) --------------------------------------------------------
int __usercall sub_1006DC66<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 24));
}

//----- (1006DC7A) --------------------------------------------------------
void __usercall sub_1006DC7A(int a1<ebp>)
{
  sub_100388BE(a1 - 60);
}

//----- (1006DC82) --------------------------------------------------------
int __usercall sub_1006DC82<eax>(int a1<ebp>)
{
  return sub_1004CD5C(a1 - 44);
}

//----- (1006DC94) --------------------------------------------------------
int __usercall sub_1006DC94<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 84));
}

//----- (1006DC9E) --------------------------------------------------------
int __usercall sub_1006DC9E<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 92));
}

//----- (1006DCA8) --------------------------------------------------------
int __usercall sub_1006DCA8<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 72));
}

//----- (1006DCB2) --------------------------------------------------------
int __cdecl sub_1006DCB2()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DCBC) --------------------------------------------------------
int __usercall sub_1006DCBC<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 16));
}

//----- (1006DCD0) --------------------------------------------------------
int __usercall sub_1006DCD0<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 20));
}

//----- (1006DCDA) --------------------------------------------------------
int __usercall sub_1006DCDA<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 20));
}

//----- (1006DCEE) --------------------------------------------------------
int __usercall sub_1006DCEE<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 48));
}

//----- (1006DCF8) --------------------------------------------------------
int __usercall sub_1006DCF8<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 48));
}

//----- (1006DD02) --------------------------------------------------------
int __cdecl sub_1006DD02()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DD0C) --------------------------------------------------------
int __usercall sub_1006DD0C<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 44));
}

//----- (1006DD16) --------------------------------------------------------
int __usercall sub_1006DD16<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 44));
}

//----- (1006DD20) --------------------------------------------------------
int __usercall sub_1006DD20<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 44));
}

//----- (1006DD2A) --------------------------------------------------------
int __cdecl sub_1006DD2A()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DD34) --------------------------------------------------------
int __usercall sub_1006DD34<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 20));
}

//----- (1006DD3E) --------------------------------------------------------
int __usercall sub_1006DD3E<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 20));
}

//----- (1006DD48) --------------------------------------------------------
int __usercall sub_1006DD48<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 20));
}

//----- (1006DD5C) --------------------------------------------------------
int __usercall sub_1006DD5C<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 20));
}

//----- (1006DD66) --------------------------------------------------------
int __usercall sub_1006DD66<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 28));
}

//----- (1006DD7A) --------------------------------------------------------
int __usercall sub_1006DD7A<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 68));
}

//----- (1006DD84) --------------------------------------------------------
int __usercall sub_1006DD84<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 48));
}

//----- (1006DD8E) --------------------------------------------------------
int __cdecl sub_1006DD8E()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DD98) --------------------------------------------------------
int __usercall sub_1006DD98<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 64));
}

//----- (1006DDA2) --------------------------------------------------------
int __usercall sub_1006DDA2<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 60));
}

//----- (1006DDAC) --------------------------------------------------------
int __usercall sub_1006DDAC<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 64));
}

//----- (1006DDB6) --------------------------------------------------------
int __cdecl sub_1006DDB6()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DDC0) --------------------------------------------------------
int __usercall sub_1006DDC0<eax>(int a1<ebp>)
{
  return sub_10050F11(*(_DWORD *)(a1 - 20));
}

//----- (1006DDC8) --------------------------------------------------------
int __cdecl sub_1006DDC8()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DDD2) --------------------------------------------------------
int __usercall sub_1006DDD2<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 20));
}

//----- (1006DDE6) --------------------------------------------------------
int __usercall sub_1006DDE6<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 16));
}

//----- (1006DDFA) --------------------------------------------------------
int __usercall sub_1006DDFA<eax>(int a1<ebp>)
{
  return sub_10050F11(*(_DWORD *)(a1 - 20));
}

//----- (1006DE02) --------------------------------------------------------
int __usercall sub_1006DE02<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 16));
}

//----- (1006DE16) --------------------------------------------------------
int __usercall sub_1006DE16<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 - 36));
}

//----- (1006DE20) --------------------------------------------------------
int __cdecl sub_1006DE20()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DE2A) --------------------------------------------------------
int __usercall sub_1006DE2A<eax>(int a1<ebp>)
{
  return sub_10050F11(*(_DWORD *)(a1 - 16));
}

//----- (1006DE32) --------------------------------------------------------
int __cdecl sub_1006DE32()
{
  return _CxxFrameHandler();
}
// 1006C070: using guessed type int _CxxFrameHandler(void);

//----- (1006DEF0) --------------------------------------------------------
int __usercall sub_1006DEF0<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006DEFA) --------------------------------------------------------
int __usercall sub_1006DEFA<eax>(int a1<ebp>)
{
  return sub_10001610(*(_DWORD *)(a1 + 8));
}

//----- (1006DFC0) --------------------------------------------------------
int __cdecl sub_1006DFC0()
{
  int v0; // esi@1
  int v1; // eax@1
  int v2; // ecx@1
  int v3; // edx@1
  int v4; // ecx@1
  int v5; // eax@1
  int v6; // eax@1
  int v8; // [sp-1Ch] [bp-30h]@1
  int v9; // [sp-18h] [bp-2Ch]@1
  int v10; // [sp-Ch] [bp-20h]@1
  int v11; // [sp-8h] [bp-1Ch]@1
  int v12; // [sp-4h] [bp-18h]@1
  char v13; // [sp+4h] [bp-10h]@1

  v0 = FGuid::FGuid(&v13, 0, 0, 0, 0);
  v1 = UObject::StaticConfigName(67649540, UD3DRenderDevice::InternalConstructor, UD3DRenderDevice::StaticConstructor);
  v2 = *(_DWORD *)v0;
  v3 = *(_DWORD *)(v0 + 4);
  v12 = v1;
  v11 = (int)"D3DDrv";
  v10 = (int)"D3DRenderDevice";
  v8 = v2;
  v4 = *(_DWORD *)(v0 + 8);
  v9 = v3;
  v5 = UObject::StaticClass(v8, v3, v4, *(_DWORD *)(v0 + 12), "D3DRenderDevice", "D3DDrv", v1);
  v6 = URenderDevice::StaticClass(v5);
  UClass::UClass(&UD3DRenderDevice::PrivateStaticClass, 0, 65972, 4, v6);
  return atexit(sub_1006E070);
}
// 1006F230: using guessed type int __thiscall UClass__UClass(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F234: using guessed type int __stdcall UObject__StaticClass(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F238: using guessed type int __stdcall UObject__StaticConfigName(_DWORD, _DWORD, _DWORD);
// 1006F23C: using guessed type int __thiscall FGuid__FGuid(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1006F328: using guessed type int __stdcall URenderDevice__StaticClass(_DWORD);

//----- (1006E050) --------------------------------------------------------
void __cdecl sub_1006E050()
{
  autoclassUD3DRenderDevice = (int)&UD3DRenderDevice::PrivateStaticClass;
}
// 100846F4: using guessed type int autoclassUD3DRenderDevice;

//----- (1006E060) --------------------------------------------------------
int __cdecl sub_1006E060()
{
  return sub_1000C330(&unk_10084450);
}

//----- (1006E070) --------------------------------------------------------
int __cdecl sub_1006E070()
{
  return UClass::_UClass(&UD3DRenderDevice::PrivateStaticClass);
}
// 1006F240: using guessed type int __thiscall UClass___UClass(_DWORD);

//----- (1006E080) --------------------------------------------------------
int __cdecl sub_1006E080()
{
  int result; // eax@4

  if ( !(dword_10084744 & 0x20000000) && dword_10084740 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)GMalloc + 12))(dword_10084740);
  result = dword_10084744 & 0xE0000000;
  dword_10084740 = 0;
  dword_10084744 &= 0xE0000000u;
  return result;
}
// 1006F014: using guessed type void *GMalloc;
// 10084740: using guessed type int dword_10084740;
// 10084744: using guessed type int dword_10084744;

#error "There were 1 decompilation failure(s) on 1855 function(s)"
